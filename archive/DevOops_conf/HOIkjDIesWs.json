{
  "video_id": "HOIkjDIesWs",
  "channel": "DevOops_conf",
  "title": "",
  "views": 0,
  "duration": 0,
  "published": "",
  "text": "Всем привет Я очень рад видеть здесь столько инженеров отдельный Привет тем кто смотрит на sunline меня зовут Глеб я системный администратор в команде инфраструктура для разработки в компании точка Привет Сегодня выступаю экспертом своего тиммейта и коллеги Александра качмашева Здравствуй привет Привет Саша у нас инженер в нашей компании занимается тем что играет кубики Ну и также обеспечивает наших коллег из команды разработки удобными инструментами для работы Саша чтобы сразу людям было понятней будем говорить буквально одним предложением Вот как ты считаешь Обязательно ли командам разводки писать свои чарты Можно иногда и написать но в целом наверное в нашем случае не требуется А вот какие инструменты необходимы ставить коллегам чтобы удобно и легко войти в клубе Я очень надеюсь что кроме документации никаких инструментов не требуется вот кажется контекст появляется Давайте будем потихонечку переходить непосредственно к докладу Напоминаю что вопрос мы задаем в чат На какие там возможно ответим сразу после доклада но или продолжим дискуссионной комнате все зависит хорошо спасибо Спасибо большое Всем привет Сегодня я буду вам рассказывать про то как мы сломали хель Меня зовут Саша Я инженер работаю в точке и занимаюсь тем что вращаю cubernetics вращая их внутри команды инфраструктуры для разработчиков и соответственно мы занимаемся в основном тем что предоставляем разработчикам сетевую инфраструктуру для того чтобы приложение как-то функционировали мы предоставляем серверную инфраструктуру для того чтобы их приложения где-то могли запускаться ну и соответственно запускаем различные по для поддержки способности этих приложений базы данных очереди сам cubernatis мониторинги и прочее прочее удобство соответственно мы не представляем себя классический ОПС мы фактически предоставляем внутреннее облако для разработчиков и они им просто пользуются А мы занимаемся поддержкой этой инфраструктуры соответственно Сегодня я буду немножечко заливать тему cuber найтса который достаточно популярен и всех приучает декларативному подходу и его интерфейсы позволяют сделать Вообще практически все что угодно в современном мире и о Боже как же я люблю API Вот они слева направо контейнер runtime Интерфейс это вещь которая позволяет ваш контейнеры запускать вы объявляете что вы хотите получить и какое-то готовое запущенное приложение у вас появляется В кластере контейнер Нетворк Интерфейс это соответственно возможность ваших подвигов взаимодействовать между собой и с внешним миром и контейнер storage Интерфейс это возможность ваших логиков получить каким-то образом различные Volume для того чтобы сохранять стоит Ну или получать какие-то данные и еще один интерфейс который не имеет интерфейс названия это Custom Resource Definition это расширение API cubernetics за счет дополнительных каких-то функций соответственно на основе всех этих интерфейсов мы строим свои кластеры губернатицы вот наш уже стоит больше трех лет и мы используем несколько центров для того чтобы повысить наших приложений этот центр У нас сильные самостоятельные независимые и соответственно Мы в них публикуем изолированный кластеры губернатится также мы используем достаточно широкое разделение на слои у нас есть практически стандартные Stage 3 и prod ну и внутри слоев мы делаем разделение на контексты на сегменте сегментики у нас нужны например для потому что мы работаем банковском секторе Или например если нам не нужен доступ в приложение из интернета это тоже все отдельные сегментики и соответственно из-за этого мы используем достаточно большое количество кластеров cubernetics потому что под каждый такой сегмент У нас есть свой Независимый кластер и мы используем Консул Консул мы начали использовать сильно ранее того как у нас появился cubernatis и мы очень хотели сделать так чтобы все приложения которые появляются в кластере cubernetics в консоли получали свои dns-записи а Для этого нам требуется добавить различные лейблы и аннотации на наши позы Ingress и прочее удобство также из-за того что у нас достаточно большая сегментация сети мы должны использовать какие-то сена и продукты и мульту С1 из них мы можем за счет различных аннотаций в правильных местах из правильными значениями предоставить разным кодам разные доступы таким образом сделав небольшую безопасность именно за счет того что iptables правила будут фиксированы для каких-то адресов также мы используем авторизацию и аутентификацию через руки у нас есть собственная библиотека сервисов и в ней отражена логика того что каждый сервис который мне зарегистрирован имеет собственный И для этого на xpace соответствует какие-то строгие правила например владельцы сервиса могут Спейси все что мы разрешили но например мы запретили создавать класть роли Таким людям потому что класть роль это права на весь мастер А в чужом сделать ничего не можете потому что прав вас такие же нет вы как забора только выглядели посмотрели как же все красиво выглядит у соседа И вдобавок к авторизации мы используем валидацию У нас есть отмечен в пхуки и они будут на вас сильно ругаться Если Вы не написали нужные параметры в нужных местах с нужными значениями потому что на этом у нас работает достаточно большая часть нашей инфраструктуры для того чтобы весь конструктор вращался и работал не только внутри себя но и с внешними сервисами сейчас у нас 24 кластера вращаются на 500 сорока серверах у нас более 9000 входов Но если посчитать всякую системную обвязку то это уже больше 15 тысяч входов а И как вы понимаете на 15 тысяч полов требуется написать очень много манифестов чтобы это все как-то правильно работало вот для примера все ведь понимают Как писать обыкновенные диплоинты и ингрессы они практически не отличаются у разных кластеров Вы в своем Это все запустите она заработает вас точно так же как у нас есть некоторые нюансы как я уже говорил может потребоваться какая-нибудь аннотация которая обязывает вас использовать выделенный сегмент сети для того чтобы например получить доступ в Интернет или вот если вы захотите за диплоить ваше приложение специальный сегмент сети в который доступ из интернета будет недоступен Вам нужно указать обыкновенный потому что ноды имеют такие тенты Ну и также надо указать лейблы которые позволяют нашим приложениям вспомогательным находить конкретные подвиги или классическая тема С видеокартой указываем runtime класс указываем то что мы хотим использовать конкретную ноду на которой есть тент и прекрасно с этим работаем Но в нашем случае например Вы должны не забыть Что вам надо указать специальный ресурс видеокарты он будет обзываться на виджеты потому что мы так придумали без него вы не сможете зарегистрировать свой приложения и получить доступ к карточке или ингресс все прекрасно знают что надо написать НГС классным для того чтобы использовать конкретный контроллер и в нашем случае Например если нужен доступ любому сотруднику из VPN внутрь вашего приложения то Вы спокойно это сделаете за счет интерес класс нейма но у нас есть еще и лейбл специальный который используется в нашем приложением которое называется квестр и он как раз таки регистрирует это все Консул SD чтобы получить DNS запись И как мы видим весь мир достаточно однообразен манифесты У всех одинаковые и мы просто используем какие-то лейблы аннотации параметры в нужных местах для того чтобы добавить красок в этот мир и вроде как все у всех вы берете копируете у соседа то что у него написано меняете в нужных вам местах и получаете рабочее приложение у себя и мы даже никому не запрещаем это делать И если вы решили пойти таким путем использовать кубик отеля Fly то взяв классическую схему написав приложение и использовать дипломиты сервисы ингрессы вы все это устанавливаете в кластер все у вас работает все хорошо Однажды вы решаете что больше не нужен потому что вы на примере решили работать через шину вы меняете список манифестов делайте кубик но играть как был так и остался и это та тема с тем что кубик не следит за тем что уже за тепло и на кластер Для этого вам надо самостоятельно желательно следить за всеми объектами также еще один момент это то что да дипломинты зачастую достаточно для запуска вашего приложения но стоит не забывать о том что могут потребоваться дополнительные параметры но и также всякие разные улучшательства для того чтобы ваше приложение было или безопасно или каким-то образом отказоустойчиво и вот эта вся ресурсоемкая задача по отслеживанию изменения ресурсов она достаточно сложная в процессе эксплуатации но благо сообщества губернатит сильно развивается и появились куча инструментов для отслеживания таких вещей и основной из них хельм на мой взгляд да и Судя по всем вопросам сеф он все еще во главе всего стола и у него есть несколько моментов первый основной когда мы запускали губернатисы вторая версия фильма была прямо на коне и нам очень нравился его подход с тиллером потому что как я как я уже говорил у нас есть библиотека сервисов и каждый сервис имеет своих владельцев и соответственно разграничение прав и таким образом нам бы пришлось либо дарить киллеру весь кластер и получить какие-то поломанные первичные либо устанавливать его в каждый наймспейс и таким образом потратить кучу ресурсов для того чтобы он функционировал мы запускали кластер полгода cubernet и за это время вышло бета версия 3 это прям сильно развязала нам руки потому что хельм стал клайн сайт соответственно мы перестали тратить ресурсы например на тот же тиллер и таким образом мы позволили себе сильно упростить всю схему диплоя у людей есть кубик отель У них есть они могут спокойно свое приложение получить в кластере Ну и бонусом то что хельм отказался от конфигмаб в качестве хранилища данных о релизе и переехал на секреты по умолчанию это тоже немножечко обезопасить во всю схему с диплом хельм это package Manager и как и любой пакет-менеджер он не следит за тем что вас обновился пакет вы запушили вашу новую версию и ничего не поменялось он ничего сам не сделает вам это надо делать самостоятельно также хель устанавливает какой-то пакет делает из него релиз и соответственно на этом закончили У вас есть установленная ревизия если что-то поменяли в приложении в пакете то вам надо пойти и сделать новую установку соответственно Вы готовите релиз и получаете новую версию и соответственно вся основная парадигма вот этого фильма она как раз таки в том что вы должны для каждого своего приложения написать этот самый пакет который называется чарт нам и таким образом вы поддерживаете вот эту актуальность ресурсов что вас сегодня диплоинты завтра стрипт сеты сегодня ингресс и завтра какие-нибудь волшебные сердечки и мы решили сломать эту весь подход и написать один большой чарт для того чтобы управлять ими всеми и начали мы его ломать смысле о том что надо поддержать нотацию докер композа Потому что когда мы запускали кластеры губернатисы у нас уже работали классицидокисаврома и разработчики использовали доктор компост не только на локальных машинах для тестирования но и тепло или его же прод таким образом пытаясь сохранить преемственность мы написали первую версию чарта и здесь вроде как все выглядело Нормально мы это все начали обертывать назвали это все потому что он должен стать основным чатом наших кластерах и всё начало вроде как работать но буквально через 10 коммитов мы поняли что логика докер композа и логика кубернатиса достаточно сильно отличается И поддерживать всю нотацию докер композа преемственность губернатиса это прям очень сложно и тяжело и мы решили все немножечко поменять мы переписали логику Велеса таким образом чтобы структуру было проще понимать если вы работаете с губернатисом а не с докер композом И в итоге после всех внутренних правок Мы решили что General hen template это уже не то чтобы General он уже стал Advance и таким образом вам потребуется все же достаточно небольшое время для того чтобы разобраться что тут вообще происходит что авторы хотели сказать зачем здесь вот это вот вся тряхнули сервисами и почему это не докер компас И как мы понимаем дипломинты сервиса Ingress недостаточно указать вам надо добавлять всякие разные параметры для того чтобы приложение функционировало и делает это безопасно мы добавляли Network policy сервис мониторы вот destruction баджеты да и прочие разные способы диплоя круджоба демон сеты ну всякие разные волшебные цершки Как наш мульти dcb и в итоге это все начало обрастать достаточно большим количеством и фандов инклюдов и прочих функций которые есть в фильме соответственно получили достаточно небольшое количество Не обходительных имплетиков потому что в то время год внутри сильно гуций и не позволял сделать какие-то удобные проверки достаточно легко и просто и Если ходуки на это еще полбеды то сейчас Вы можете испытать немного испанского стыда Вот так мы отключаем автоматический буферизацию на энгрессах Если вы указали Макс бодисайз больше чем предопределенное нами то на ваших ингрессах будет отключена буферизация делал я а стыдно вам В итоге на все это дело посмотрев внимательно Мы осознали что Advance plate уже не подходит под это название и кроме ада в голове вообще ничего не возникло на третий заход Мы полностью сломали всю парадигму фильма мы написали свой чарт который позволяет нам устанавливать любые приложения Таким образом мы подарили девект Hell 1000 людям случилось это 1 ноября 19 года И после этого началась активная фаза использования cubernet со всеми командами которые есть в компании а уже 31 декабря мы торжественно гасили с варм в два часа дня и если посмотреть то мы используем обыкновенную нотацию для наших чартов мы достаточно быстро пропрыгали до пятой версии и в голове родилась только одна мысль А на что же это похоже Мы в аду и у нас много версий А это круги ада и таким образом мы прямо сейчас так и называем сейчас мы находимся на пятом уже два года там болтаемся и что с этим происходит у нас при переходе с первого Круга на второй у некоторых людей появилась необходимость нарушить наши негласное правило о том что в нашем аду есть только один раз на одно приложение и таким образом мы сделали еще один Чертик который является обыкновенным шлюзом это стандартная функция любого ингресса Вы указываете сколько вам нужно и кто их обслуживает но мы решили опять всех приучить к нашей парадигме жизни свою яму которую мы написали и сделали соответственно свой чартер который назвали Харон он просто берет и доставляет трафик во все ваши нужные приложения здесь в этом чарте ничего нет кроме ингресса и сертификата но Всю жизнь мы опять сломали но получили свои плюшечки расскажу небольшую историю о том Почему мы так сильно держимся вверх и почему мы считаем Это очень важным однажды у нас случился большой взрыв случился он примерно где-то на втором круге ада после того как мы запустили кластера кубернетиса у нас истил был Основным способом взаимодействия внутри контейнеров потому что он везде развешивал свои Великолепные сайдкары он всем позволял смотреть на красивые графики и прочие удобство и все было вообще прекрасно 20 30 50 100 приложений зашел в кластера и выглядел Все неплохо но некоторые приложения начали замечать проблемы как раз из-за того что у нас есть который добавляет второй интерфейс и иногда башню и он рвал соединение каждые пару минут мы перепробовали кучу вариантов перебрали кучу возможных версий попробовали напачить но напачить но это не сильно спасала И в итоге лучшим решением для тех приложений которые ты не устраивало было просто отключать сайдкар и таким образом избавляться от Миша и вторым моментом который стукнул нас очень сильно сестер это что после того как количество приложений в кластерах перевалило за сотни мы обнаружили что вывод на обслуживание одного большого гипервидера например на котором была восьмая часть кластера приводит к ужасающим последствиям на всех новых нодах у нас просто катастрофические возрастает путь через и мы получаем отказ работающих приложений мы долго подумали посмотрели всякие возможные вариации того как это все дело устранить но ничего лучше не нашли как просто отключать истину Мы решили отказаться от него достаточно плавно и версии 2.2 мы поменяли стандартное значение флага дефолт истин который по умолчанию вам включал этот сайт каррик А если вам не надо было вы должны были указать его то есть отключить истин принудительно в новой версии 23 Мы решили сделать так чтобы сайт Карри по умолчанию никому не включались и включались только тем кому это действительно надо по каким-то причинам Ну соответственно это выпустили написали в чатике о том что пора обновиться Давайте все сделаем все будет хорошо и прекрасно и получили сбои в то время получили 502 на энгрессах кластера были достаточно свежие Как вы помните прошло буквально три недели с момента запуска губернатиса и многие еще не понимали всю прелесть ради неспроб многие еще не понимали как вообще в целом они должны существовать и у нас были вопросы как они вообще до этого существовали в докер компози потому что проблема была самой банальщине байн на локал хост 127001 очень больно кусается потому что прокси сайт Car это дело может обслужить он может Достучаться А вот НГС уже не может дойти до 127001 и в итоге если не написали один из пробовал ваше приложение успешно проходит и получает 500 вторые срочно откатываем изменения 2-3 выпускаем новую мажорную версию 3.0 и таким образом там уже отключаем истину и всех и еще раз приучаем к тому что во время установки хельм пакетов Вы должны использовать версионирование вы указываете какую конкретно версию пакета вы хотите получить в вашем приложении Ну и дополнительно мы сделали небольшую проверочку внутри наших тимплейтов о том что ваш чат вешен который вы указываете вылез Ямал должен соответствовать тому что вы указываете во время команды хельман говорит хельмин стал и таким образом мы собственно проскочили этого истио получили на пустом месте больше половины своих ресурсов кластеров назад и продолжили жить прекрасно но предлагаю поговорить Сейчас о том Почему мы выбрали такое название доклада и почему вообще называем наш Чарт адом все достаточно просто в наших тимплейтах прямо сейчас описано 15 объектов губернации слева справа видите это 2000 строчек всего шаблона 1800 из них это все функции ифы и энды занимают тысячу из этих строк и вот эта вся тема она как раз таки заставляет при первом погружении в разработку доработку чарта потратить достаточно большое количество времени на то чтобы понять что тут вообще происходит И зачем это все написано Но кроме того что мы сделали хель поломанным фильм сделал поломанных и наши сознание и сознание наших разработчиков и некоторые моменты которые сейчас достаточно сильно напрягают это хельмере по апдейт который обязательно надо делать и не забывать потому что у нас есть строгая версионирование если мы что-то поправили своих чартах мы как команда разработки можем об этом узнать а разработчики могут посмотреть только через блок и таким образом мы всех приучаем к тому что Хелен реп апдейт должна быть ваша Первая команда перед тем как вы задумаетесь сделать фильм Апгрейд таким образом это становится практически мемом про то что надо написать Аля схем на то чтобы сначала запускался хельмере по апдейт и только потом запускался фильм также хельм ЛС на наших объемах уже не работает он делает очень больно апе серверу а фильм лес на весь кластер Да вообще просто убивает все возможные тайм-аут и потому что он не укладывается ни в какие мыслимые пределы и еще один прекрасный момент с кель макгрейдом Если вы во время такой выкатки нажмете Control C то вы получите сломанный helmer Release вы его никак не увидите И все что вас спасет это сделать либо удалить секретик И после этого накатиться снова очень неприятненько иногда кусается Если вы во время диплоя с руки или просто нажимаете отмену И как я уже говорил у нас есть несколько кластеров я об этом рассказывал на докладе на дампе то как мы с этим живем это тоже своего рода Челлендж мы написали маленький скриптик который позволяет следить за процессом выгодки в несколько нужных кластеров и в случае выкатки успешных первый кластер но не успешный Второй вы можете также как схема грейдом решить а стоит вам откатиться в предыдущих кластерах или не стоит и таким образом мы немножечко нивелируем тему с тем что у нас много кластеров но заставляем всех страдать тем что вам надо выучить еще один маленький скриптик И также у нас есть инструмент на сильного причине добра он есть у всех но мы достаточно активно пользуемся В некоторых случаях когда мы понимаем что нам нужно срочно что-то обновить во всех кластерах и мы выпускаем новую версию чарта мы меняем там сетевые политики какие-нибудь или какие-то параметры которые срочно нужно поменять мы можем использовать фильм апгрейдерез и выкатить всем принудительно новую версию Это отвратительная тема потому что вы не заставляете разработчиков подумать А что же там могло пойти не так и вы никогда не будете знать как я уже говорил мы не команда мы просто предоставляем облако но иногда такое приходится делать и также что следует из фильма это то что 7 это не топс как я уже говорил не следит за тем что вас что-то поменялось что-то обновилось Вы самостоятельно это должны сделать и здесь один из моментов это то что если вы что-то выкатили с помощью фильма а потом на живом кластере это поменяли с помощью кубик tедит хель ничего с этим не сделает у вас будет большое расхождение что есть в репозитории и что есть в кластере хельм здесь вообще никак не поможет но тема с тем что Мыши плакали кололись но продолжали жрать кактус это не про нас мы получаем удовольствие от того что мы написали свой ад Как ни странно Адама это все называется уже больше в шутку да И теплый стул во время таких холодных осенних вечеров позволяет чувствовать себя удобнее прямо сейчас вся эта конструкция поддерживается пятью людьми и как я уже говорил у нас 540 серверов и тысячи различных приложений и мы вообще не испытываем каких-то больших проблем Мы можем обновлять компоненты и ресурсы кластера в любое удобное нам время все что нам надо сделать это исправить какую-то версию соответственно мы можем версиями справляться можем минорками мажорками если вдруг что-то пойдет не так и мы понимаем что мы снимаем всю преемственность одной версии от другой Все как у взрослых разработчиков мы пишем короткий валюсь Ямал это все позволяет нам писать достаточно короткие манифест и вместо сотен строк манифестов cubernetics а мы можем записать несколько десятков строк подготовленной зафиксированной нотации нашего валюсь яму И таким образом мы можем диплоить практически любое приложение в наш кластер например Мы можем взять обыкновенный веб с типом deplayment взять указать что нам нужно пробрасывать трехтысячный порт на Ingress и в данном случае например Мы хотим сделать его доступным через VPN для всех сотрудников компании Ну и например мы еще укажем что нам приложение не надо заходить в интернет для того чтобы что-нибудь скачать Просто берем просто диплом и получаем рабочее приложение все прекрасно или вот мы решили что с помощью того же чарта мы берем и устанавливаем в наш кластер редис с помощью типа stateful Set мы уже меняем тип ингресса сейчас у нас будет Директ и это Например полезно когда мы хотим между несколькими до центрами иметь связанность такого radis А и также мы например можем подкинуть просто волю и получить какие-то персистентные данные и в итоге хоп за диплоили и все работает в нашем классе уже из одного чарта и это разные приложения соответственно Таким образом мы отнимаем грабельки у разработчиков потому что они перестают писать манифест и не допускаю каких-то ошибок которые можно в этих манифестах допустить и мы не обучаем их каким-то нюансам работы с нашими кластерами также мы таким образом упрощаем trable shooting потому что хельм это некий топс и все что за диплоина в ваш кластер с помощью фильма Вы можете задеплоить руками прямо на живом пластере переписав То есть вы можете сделать и таким образом экстренно устранить какие-нибудь проблемы и соответственно это все приводит нас к тому что есть сомнительный бонус экстренных выкаток Вы можете сделать фильм Апгрейд с локальной машины точно так же как вы делаете Это скубик отель эдитом и например вам это может быть полезно Когда вы не хотите ждать вы просто запускаете ваш диплой дождаетесь какого-то момента у вас все прекрасно подключение за минуту а не дожидаясь идеи в течение 50 минут пока все тесты пройдут и также это все позволяет использовать хельм Апгрейд риус Уэльс и насильно причинить добро прямо на живом кластере для того чтобы что-то починить экстренно что мы сделали в фильме и как подытог хочется сказать о том что вся вот эта глобальная шаблонизация позволяет нам сейчас делать лучшую инфраструктуру для разработчиков и это все можно сделать как раз таки потому что мы как создатели чарта можем помочь быстрее разобраться в проблеме вам мы понимаем в каких местах вы могли допустить ошибки мы можем подсказать почему ваше приложение в касте не запустилось или почему оно работает не так как вы ожидали просто посмотрев на вашу яму И собственно здесь не буду лукавить и скажу что все работает именно так также у нас есть подход и я даже не буду лукавить наверное и скажу что мы всем Настоятельно рекомендуем использовать наш чарт Потому что если вы будете плоть мимо нашего чарта то вы не получите той поддержки которую получите вместе с ним если вы задеплоете с помощью кубика телятвой то вы принимаете на себя все риски что надо следить за всеми приложениями как я уже говорил отслеживать версии и вот это все то есть мы экономим время и как ни странно мы экономим время не только себя но и разработчиков Потому что если мы пишем такой большой чат То разработчики не уделяют времени cubernetics а занимаются проблемами приложения а не инфраструктуры они не думают про то что сегодня у нас одна версия Ingress А завтра другая Сегодня у нас один мониторинг А завтра другой они спокойно пишут свой код и радуются и также все же как бы это странно не звучало но скорость доставки фич в таком одном большом чарте она достаточно высокая буквально две недели назад мы внедряли новые CSI и все что нам потребовалось написать 12 типов эндов и пять строчек нормального валидного Volume но теперь пользователи могут написать всего одно строковое значение и получить у себя уже готовую волю не надо об этом задумываться сегодня один завтра другой все опять прекрасно Просто и достаточно быстро Несмотря на то что требуется Осознать что же там в чарте то написано и в конце хочется подвести итог для тех кто в целом смотрит на всю эту тему с фильмом И что с ним делать и сам хельм он очень сильно помогает следить за тем чтобы в ваших кластерах было меньше мусора вы смотрите что в вашем черте нужно И это диплоити все что в чате не указано будет удалено из кластера вы например с одной версии дипломинты переехали на стейтсеты потому что понимаете что вам оно требуется и таким образом дипломинты будут удалены А с этой появится это все в пределах одного релиза прекрасно удобно основной момент это то что как я уже говорил все разработчики перестают писать манифест губернатиса не уделяют какое-то внимание каким-то важным вещам которые в вашем кластере нужно указать лейбла аннотации параметры которые позволяют вашему приложению работать так как оно должно в ваших кластерах работать Вы отбираете у разработчиков и даете готового или всем и все они больше ничего другого ты не пишут также как я уже говорил вся тема с тем что вы пишите и поддерживаете их действительно сильно упрощает обслуживание всех кластеров вы решаете что вам нужно обновить губернатиз вы понимаете что вам нужно обновить IP версии каких-то ресурсов вы это делаете не задумываясь о том что вы можете сломать кому-то жизнь вы просто проверяете все черты на то что они все обновлены и обновляете свои кластера и у пунктика про валюсь яму И манифест есть второй конец и конец этой палки заключается ровно в том что разработчики пишут values а не манифест и таким образом условно у разработчика может быть в режиме пунктик cubernetis но этот пунктик обозначает лишь одно мы имеем kubernetis наше приложение там вращаются но я не отличу Чем отличается диплом этот сервиса или что такое сетевые политики это все совсем переходит все границы разумного и соответственно имеет свои нюансы В том что разработчики не всегда понимают что такое куберетесь и для чего он нужен потому что фактически они пользуются фильмом они губернациям Ну и еще один моментик который может таить себе страшную тайну это то что чартики из интернета например в нашем случае надо очень сильно проверять вам очень сильно повезло Если Вы взяли чарт из интернета запустили указали там какие-то параметры у вас завелось приложение это значит лишь одно В этом чате написано все Что позволит вам запустить приложение в наших кластерах пройдя все валидации и авторизации Таким образом мы точно знаем что ваши чаты подходят под требования безопасности и если вам что-то надо Что не работает из интернета Вы должны этот черт взять посмотреть переписать или все же воспользоваться нашим глобальным шаблоном на этом самом деле все Всем спасибо большое за внимание Я готов ответить на вопросы Спасибо за доклад Надеюсь коллеги получат себе пищу для размышлений и какие-то направления Для дальнейшего развития нам написали несколько вопросиков в чате на самом деле но кажется они очень объемные мы не успеем в рамках еще времени на них ответить наверное лучше будет это обсудить дискуссионной зоне Хотя Но вот Никита просил уточнить как в докладе об этом было сказано тем не менее почему выбрали монохин чат а не Core lip пользовательские черты вот буквально тоже пары предложений да я на самом деле об этом сказал вот буквально в конце с помощью такого подхода разработчики занимаются проблемами своих приложений а не наша инфраструктуры они не обязывают себя сесть разобраться что же им требуется диплоинты для того чтобы все заработало Network policy которые обыграют какие-то внутренние сетевые правила и нужны какие-то сертификаты которые должны их приложения tls и вот это все то есть мы просто уменьшаем время потраченное разработчиками на поддержку инфраструктуры потому что у нас есть команда которая занимается этой инфраструктурой Ну давай еще раз поговорили Ну давайте тогда завершать вопросики мы продолжаем обсуждать в чатах и в дискуссионной зоне Всем спасибо"
}
{
  "video_id": "MuXfl8LeaAk",
  "channel": "DevOops_conf",
  "title": "",
  "views": 0,
  "duration": 0,
  "published": "",
  "text": "друзья Всем привет Рад вас видеть на втором дне конференции смотрю вчерашней патино не пережил Вот Но мы пережили и готовы вам представить доклад а наш докладчик прошу на сцену Андрей Моисеев Всем привет Андрей нам расскажет пропс на час Андрей А если часа Не хватит что делать Ну знаешь название такое говорящее есть вот муж на час а есть копс на час Поэтому мы будем рассказывать про то как делать быстро теко и просто если вы заспе знаете что делать Алло Я хочу продлить фси копса Да вот тогда передаю слово не буду задерживать Да конечно если что мы любые вопросы можем обсудить Диси или на стенде МВС Я там сегодня буду да и забыл сказать пожалуйста после доклада оставляйте фидбэк это очень важно для спикеров чтобы они стали лучше и готовили более интересные доклады спасибо Так ну что поехали тогда ещё раз Всем спасибо что пришли это было тяжело а собственно Работаю я в МВС занимаюсь псом в группе Cloud na Security в принципе с Лёшей делаем безопасность чуть лучше чем она есть и поляризуемость про пайплайн Ну в принципе это всё дальше и будет дальше Мы про это и поговорим первая задача - это за запрет выкатывать фичи то есть мы приходим разработчикам и говорим что ну вот это не секюр Но это катить нельзя давайте мы немножко ещё доработали разработчики очень злятся и всегда соглашаются с нами Да у нас есть весомые аргументы которые мы стараемся носить с собой второе - это создание новых проблем как я это называю а потому что не все задачи которые относятся к секюрити можно пофиксить здесь сейчас сразу и изза этого растёт клок на разработку в том числе на доработку на новые релизы мы можем отложить какой-то релиз и подождать собственно и Спорим с бизнесом да Ну и как правило devics - это про культуру безопасности в целом в компании и так далее поэтому занимается развитием безопасности прививаем безопасность разработчикам прививаем безопасность бизнесу и пытаемся не сойти с ума Вот почему собственно я пришёл с этим докладом и что я хочу рассказать есть компании которые нанимают очень маленьких шт например и получается так что ты работаешь один в ролико в роли аека в роли инфра сека занимаешься там аудитом смотришь там в кластера и так далее В общем человек который должен делать всё но не всё получается как всегда потому что нельзя быть экспертом во всём можно быть экспертом только в чём-то одном и вторая проблема Это в том что надо делать всё здесь сейчас сразу и бывает зачастую что бизнес приходит говорит Вот это намдо сечас поэтому пожалуйста давайте мы что-нибудь с этим придумаем сделаем побыстрее сделаем чтобы это работало Окей Придётся делать тогда да штата нет Людей нет но работать надо Вот соответственно есть много юнитов Ну В любой компании есть много юнитов да и как бы он человек который объединяет Всё если он один он человек который объединяет Всё потому что некому делегировать свои задачи бизнес приходит с вопросами айтишка приходит с вопросами сам приходишь с вопросами к айтиш Почему так rnd постоянно багами спамит Ну и всё такое вот А да ещё и девопс точно потому что что-то надо автоматизировать и не всегда у тебя хватает рук чтобы всё за автоматизировать что ты хотел собственно давайте мы всё-таки начнём перейдём к сути и погнали выглядит базовый пайплайн следующим образом у нас есть какой-то Билд какой-то тест и плой собственно базовые стейджи базовый абсолютно Фло чего здесь не хватает здесь не хватает секюрити да мы же пришли про секюрити поговорить да мы должны всё-таки понимать что секюрити чеки перед выкатка на прод - это важная штука которая должна быть которая у всех может быть есть которая может есть не у всех но у всех Скоро будет после этого доклада потому что он довольно-таки простой понятный Зачем нам нуже Выпишете может содержать баги Но это очевидно баги могут приводить к уязвимом и злоумышленник может использовать эти баги чтобы получить доступ к данным которым доступа быть не должно например не только ваш код может содержать уязвимости те зависимости которые вы используете тот о Source который вы тянете к себе он может содержать скорее всего е и содержит просто Либо Ну об этом ещё не знаете либо узнаете чуть попозже и окружение на котором раскатывается наш продукт тоже может содержать уязвимости и надо всегда понимать что защита - это комплексная штука невозможно сделать код безопасным просто про Катав с астом невозможно сделать код безопасным просто устранив там уязвимость в орсе который мы используем это комплексная тема она должна быть постоянно постоянно развиваться и собственно мы должны ить Security by Да и есть ещё человеческий фактор В общем бывают ситуации когда мы заливаем в например или бывают ситуации когда мы просто заходили нашем коде код утёк ключ утёк и кто-то использует нашу ашку например да Такое тоже бывает и кейсы жизни находил приватный р ключ который использовался для лицензирования кое-какой 5 лет не обнов жит в истори ипе киту или там исходника может использовать для лицензирования Ну бесплатного использования софта В общем это плохо это надо чистить Собственно как сделать безопасность просто мы будем использовать gitlab gitlab позволяет использовать темплейты Ну думаю многие видели псы всё-таки сидим здесь есть Security темплейты Как работает templ ну есть какой-то файл который мы подключаем себе в проект и который будет запускаться в рамках нашего те нашего палана то есть мы не должны мы можем не писать никакие джобы мы можем не писать никакой пайплайн просто подключить одной строкой темплейт и что-то произойдёт Ну собственно попробуем с вот этим темпле J самый базовый темплейт который содержит три или четыре статических анализатора вроде В общем но можно выбрать любой подключили запустили запу можем Поре реня что-то не так или что у нас всё хорошо у нас код идеален нам ничего фиксить не надо больше подключим остальные шаблоны А ну для примера я взял контейнер scanning Secret detection EAC и Ден scanning Ну SA соответственно Вот они запустили Вот они все работают Вот Всё прекрасно у нас получается ovs pipeline работает и собственно работа на этом заканчивается правильно Нет ээ надо всегда понимать что сканер - это просто штука которая найдёт вам что-то и это что-то надо фиксить Поэтому придётся разбирать все отчёты анализаторов которые вы подключили делать там триа постоянно подтягивать разработчиков чтобы они что-то Фикси Ну и в общем вот это начинается такая любимая работа псо смотрим отчёт Ну те кто любит н как бы понимают что там написано что это интересно Те кто не любит не понимают что там написано да но мы хотим сделать как-то для всех поэтому дальше я немножко покажу как это всё можно чуть-чуть более приятным образом унифицировать вот допустим здесь что у нас нет инструкции User docker файле которая нужна потому что иначе докер файл запустится от рута в принципе это опасно опасно да если это на прот идёт это вообще не очень хорошо Да потому что можно сбежать из контейнеров А если вы хотите попробовать сбежать из контейнеров мы на стенде МВС показываем эту приятную активность вот ну собственно если есть же куча плюсов очевидных Да Первое это что мы темплейт подключим в одну строку что у нас не требуется тонкой настройки что мы подключили запустили всё сработало какие-то результаты обработали пошли к разработчикам они что-то пофиксили процесс хороший мы как бы устранили уязвимости Что есть для разных сканеров для контейнеров для манифестов разных для для докер файлов са в общем что угодно но как всегда есть один нюанс всё хорошо но может не работать из коробки в данном случае запускал Я уже не помню какой сканер в общем там какие-то переменные я не указал которые надо было переписать в свой собственный шаблон чтобы это работало на нашем окружении вот Иногда приходится разбираться в чужом коде потому которые предоставляются лабам они довольно-таки хитро собранные и не всегда получается быстро понять что происходит А ещё у них очень классный впер есть свой который в принципе на всё всегда и везде и не всегда понятно что конкретно Ты запустил вообще Вот соответственно есть пара выводов Первое это мы не управляем тем Фло сканеров которые мы используем потому что мы их не собирали мы их там не разрабатывали мы просто их зали себе ини работают что-то делают сложная реализация Да у нас есть куча непонятного кода который мы откуда-то взяли который мы принесли себе и он даже как бы выдаёт какие-то результаты но зачастую падает ну и соответственно Как и любая тема нужно под себя кастомизировать а мы не можем потому что исходников у нас нет сканер мы берём с dockerhub registry или с getl registry контейнер откуда-то берём Да и соответственно это может быть проблемой потому что безопасник как правило человек который не должен Никому доверять и в том числе и лаб поэтому как бы мы представим что есть такая атака которая нарушитель запушить свой там малвар имидж в gitlab и это кто-то там не заметит на секюрити чеках и это кто-то пропустит даже в их рест и мы это потом выкачали и получим уязвимости у нас на инфрейн Это ссылка на и и соответственно имя вот что мы с этим будем делать Ну так как мы использовали чужой темплейт пора бы написать свой темплейт со своими сканерами со своими проверками и который мы в принципе можем понять что там происходит И кастомизировать как мы захотим поехали напишем шаблон sec всм мы написали Ладно под Мы хотим Не всегда нужно всё и сразу не всегда нужно вот полный объём ти Security который есть если там в принципе видно то куча разных вот этих квадратиков белых это там практики которые можно применять Ну не всем это надо очевидно кто-то не созрел там допустим для каких-то анализаторов кому-то достаточно грелки по коду кто-то только уязвимости начал у себя исправлять в орсе всем Всё надо постепенно данно чтобы это всё хорошо работало нам нужно собрать собственные образы для сканеров которые мы сможем пересобрать которые мы сможем тестировать которые мы сможем зашить те проверки которые нам нужны или проверки которые нам не нужны отключить чтобы было меньше false positive чтобы разработчики меньше страдали ну и соответственно нужно внутренние режи сри чтобы их хранить потому что мы не хотим тянуть артефакты Извне Мы хотим всё в свой контур мы поднимем у себя какой-нибудь Харбор запушил туда наши образы и будем работать с ним и в принципе уже прикольно да у нас есть своё всё и как бы мы отвали от Орса ну и соответственно придётся Да немножко всё-таки написать кода стать я девелопе и написать парочку J чтобы всё-таки те сканеры которые мы используем работали и работали правильно возьмём допустим Secret manag будем использовать в качестве будем использовать гимназиум только потому что гимназиум - это тот же сканер SC который предоставляется в базовом темплейт лаба можно использовать всё другое и нужно использовать другое но об этом не сегодня и возьмём парочку састав чтобы в принципе закрыть наш Исходный код который у нас есть А В данном случае какой-нибудь njs sgb и для Я как K Если вдруг у нас когда-то появится докер файл или он есть а мы о нём не знаем КС его найдёт в принципе вот этим Мы всем закрылись взяли используем и Уже стало безопаснее Да Начнём подключать в принципе Secret Man Ну тут есть такая небольшая новость не новость старая новость скрин Давно был сделан не 3 дня назад у была проблема с их вел реселлера которые могли зарегать аккаунт на на их сайте и получить доступ к некоему адини который использовался в мобильном приложении и по которо можно было потрогать которые этого мобильного приложения есть и можно было по-моему открывать дверь сигналить Ну что-то такое не слишком опасное В общем Ну в принципе если можно удалённо открыть дверь машине пока она едет Я думаю это достаточно опасная Тема и не стоит как бы это уже пофиксили не суть в общем проблемы есть даже у гигантов и чтобы этого избежать нужно использовать Secret в данном случае мы будем использовать и чтобы это ВС работало нам нужно собрать собственный сканер чтобы его собрать мы берм сорс с гитхаба смотрим Что там есть нас это устраивает затягиваем их себе пишем свой докер файл который будет использовать эти сорс и собирать нужный нам идж с нужными нами параметрами вот собственно дофа определяем версию которую мым 5 кото считаем на локалке чтобы потом не было проблем с подменой артефактов вот добавляем там полька делаем нужного пакета и проверяем контрольную сумму контрольная сумма сравнила идём дальше и собираем нужный нам сканер с нужным нам пользователем нужно нам директории Ну и потом просто пушим к себе Ура У нас есть теперь мы как бы зали отте секретов Иры машим теперь стоит написать Джоб которая будет работать с нашим сканером вот в принципе пример этой джобы достаточно простая мы просто берём с нашего хранилища образ запускаем его там одной командой detect и как бы сохраняем артефакты в артефакт хранилище артефактов лаба вот в результате мы получили что у нас в нашем шаблоне появилась целая одна джоба в одном йд sec и мы теперь защитись от аптечки секретов но надо собрать всё остальное А остального может быть много больше разные версии разные билды разные правила и всё это в принципе можно построить в один большой хороший пайплайн с хорошими тестами но я не стал об этом показывать Да сегодня мы всё-таки basics вот Допиши нужные джобы которые нам остались э dpn сканинг чтобы sca работал чтобы смотреть на уязвимость в опенсорс который у нас есть дом JS K в принципе как можно видеть они все запускаются одной командой на одну директорию которая попадает Когда у нас запускается pipeline и собственно в этом и Фишка в лабе всё Это сложнее В gitlab образах всё Это сложнее и всё это менее Понятно А здесь у нас есть чёткий код который работает который мы понимаем как он работает со сканерами в которых мы понимаем что находится Вот соответственно Допиши ещё сиг и пойдём Мы немножко поколиння что следует придётся доделать всё остальное но это уже не в рамках этого доклада Ура Мы запустили наш шаблон он подключился он работает все джобы выполнились и даже показывают Те проблемы которые есть инди индикатором что вот не выпол корректно есть пробле как всегда у всех есть проблемы ВС помещается в я говорил уже в начале что вот этот вот который выкатывается он не слишком полезен не слишком информативен Ну для тех кто не любит или для тех кто любит смотреть удобные дашборди Да ну или для менеджера менеджеру думаю сложно будет объяснить что вот там тысячная строка это проблема Да результа вотт кото говори у на много Панов у нас много результатов у нас много артефактов и нам ВС это как-то надо скомпоновать чтобы это было удобно чтобы это было полезно чтобы Разработчики у нас страдали меньше чем они страдают когда разбирают те результаты которые мы им выдаём собственно надо организовать процесс триа Да у нас есть некоторые проблемы и мы будем их решать первое чтом сэто мини Кост сне есть свой репозиторий на гите есть свои пресеты для лсов в данном случае кани Да возм там какой-нибудь ава 25 прогоним у нас получится сильно меньше фазо будет сильно меньше а Результаты будут сильно лучше То есть как правило там ну в половину более полезно становится только из-за того что мы Русы правильные принимаем применяем Ну и соотвественно процесс рижа до того как отдать что-то в надо это вс-таки посмотреть самому ну как бы это плохой кейс когда мы просто сырой отчёт отдаём разработчику разработчик увидит отчёт выкинет его и скажет я пошл работать мне не нужно ваш секюрити поэтому мы собственно заводим фактически тикеты в джире чтобы чтобы разработчики могли понять что от них собственно требуется чтобы им не пришлось смотреть секюрити отчёт не пришлось разбираться в ям Мы это сделаем за них отдадим им тикет они его пофиксят и всё прекрасно Ну да единственная тут проблема требуется согласовать и не каждый человек готов откусывать кусок времени своей команды на исправление проблем безопасности ну здесь только можно к руководству сходить сказать что нам нужен технический клок под секти забираем используем и всё Окей но чтобы всё это было удобнее и чтобы это можно было масштабировать чтобы за этим было проще следить чтобы ну работал как он должен работать а не как из-под палки в общем обы происходит р ну и тут как бы я придумывать даже не буду есть Def do много кто юзает в принципе дефолтная орная штука которую можно использовать для того чтобы агрегировать результаты которые у вас есть по секюрити там не по секюрити куча интеграций поддерживает из коробки есть есть поддержка дна который generic J то есть любой отчёт который в принципе можно по схеме запилить и он его Сват Да но мы чуть-чуть отошли от сути мы снова дож ставить сем снова написать немножечко кода снова написать немножечко параметров Чтобы это заработало как мы хотим Вот соответственно здесь мы напишем ДБУ для создания внутри чтобы создался некий некая сущность которой мы будем складывать результаты дальнейшие определим пару параметров в данном случае там допустим посмотреть вот следующим этапом мы напишем ещё одну Джоб чтобы те отчёты которые наши сканеры генерируют отправлялись в engagement который мы создали на предыдущем этапе чтобы у нас было чёткое понимание что есть один пайплайн сгенерировал столько-то результатов на таком-то продукте и записал всё это свой й чтобы это потом можно было смотреть Вот и напишем соответственно интеграции с нашими сканерами будем забирать отч которые генерируются из лаба и отправлять их do с помощью тех темпле которые мы написали на предыдущем слайде единственное надо указать для того чтобы понял что за отчёт пришёл и куда его собственно Сложить это scpe Иа СФ - это файл который взять слаба Type - это ну что собственно за спека прилетела gitlab C например и в общем то что сне сне как-то называется это как-то надо отдать в фик do вот так Да отлично Всё работает мы стали фси косами мы собрали свой пайплайн мы сделали кастом мы написали свои сканеры но это не всё на этом работа не заканчивается как говорят великие начинали все с одного А пришли непонятно к чему Вот теперь мы накину немножко терминов на вентилятора есть термин sec by вчера в принципе про него немножко рассказывал вечером но не суть тут про харден будет что же такое харден РН это приведение вашей машины вашего там образа в соответствие безопасному состоянию то есть простыми словами р Бывает разный на первых опен сие об состояние раскатить на наше машинке и дальше с ним работать ну Golden imes Если кто в курсе Вот соответственно в рамках переконлива на файлы какие-то Ау Там и так далее В общем куча разных спек порядка больше 300 если интересно мо Можем потом пойти подойти пообщаться используется для того чтобы использовать можно OPC Он поддерживает кучу нче на разные операционки на разные системы очень много настроек очень много профилей можно почитать можно скачать автоматизированные штуки сгенерировать свои скрипты и захарни свои машинки Да есть ещё хардинг контейнеров в данном случае мы проверяем там контейнер мины какие есть Есть ли там Trust images Ели у нас какой-нибудь там знаю если он нам нужен и собственно там мониторинг такое и конечно же можно использовать triv также поддерживает cis Bench кроме triv есть ещё пару лов которые можно использовать Но насколько я понимаю все стараются поддерживать CS Bench Ну потому что он наиболее полный ну и соответственно Secure by default кластеров У нас есть там Network polic там по Security и так далее Security контексты всё это проверяется в рамках харден с помощью кейпа или кунча ну кто что хочет то это использует кому что удобнее Вот соответственно есть ещё defens and dep Ланина защита то есть мы как я уже говорил Безопасность - это комплексная штука мы должны Защищать не только что-то одно не только там От чего-то от какого-то одного вектора оградиться нам нужно думать о многом сразу вот а у нас есть периметр который надо защищать то есть там физические проникновения У нас есть сеть которой может может сидеть хакеры или там снить какие-то пакеты У нас есть почта Когда можно поломать юзеров которые у нас есть в общем куча всего О чём надо задумываться Но об этом не сегодня тема очень большая и как бы Если хотите можем поговорить отдельно собственно есть ещё несколько сети принципов что у нас программа падает нормально там Secure by Design что мы все sec штуки предусмотрели уже архитектурно там минимальные привилегии и это очень сложно переводится скидка на механизм короче у нас используется один механизм безопасности во многих сферах чтобы мы не допускали дублирования и разного Фло когда работает когда он работает по-разному на разных вводных данных вот об этом тоже не сегодня В принципе мы хорошо сегодня постарались поняли что такое что мы за сегодня сделали Мы внедрили са все хотят внедрить мы его внедрили мы внедрили то есть мы сделали не только ещё sca мы добавили там контейнер Security у нас уже хороший шаблон хорошие проверки подключаем его во все проекты все проекты собираются с Security Ира падает идеально я думаю ну и соответственно поняли что decs - это не только про пайплайн И не только про шаблон и нам нужно нанимать человека Да ну потому что очень сложно полноценной мере сделать из девопса деси копса но как бы заменить некоторые штуки которые дают хороший UE можно Ну принцип парта там да 20% усили 80 результатов Ну в принципе всё спасибо за внимание Так так друзья Теперь мы переходим к вопросам кто нас смотрит онлан можно в чатике либо поду написать мы сечас зата из зала будем поднимайте руки к вам будут подходить с микрофоном будем задавать вопросы первый вопрос от меня ты сказался ты сказал что это только начало А что дальше-то делать вот мы это внедрили Что нас ждёт достаточно ли этих проверок всех этих проверок недостаточно ты внедрил их только для твоего хода для твоего продукта который выпускается но как я уже говорил у тебя есть окружение и с рнм надо поработать тебя возможно какой-то кластер который тоже надо се настроить да это только Старт Нет это про окружение в палане нужно Ой ну можно много чего Использовать можно использовать перекрёстные проверки разными сканерами можно точнее нужно использовать другие сканеры не те которые предлагает Это только для начала Что конкретно ты хочешь услышать какой-то сканер конкрет юе прове ве НТА это уже вряд ли на пайне Конечно можно хотя можно да про Dust Кстати если хочешь использовать D Бери за запустишь одной строкой не получишь профита и забудешь про это Ладно без шуток Ну клети и всё такое что трогает интерактивно опиш так хорошо спасибо вопросы из зал ребят Так у нас есть рука Давай свой вопрос только не сложный пожалуйста Доброе утро клов Александр Андрей Скажи пожалуйста где есть абсурд а нет попет тестам и насколько скажем так в каком этапе эволюции компании зрелости стоит их внедрять про нте когда внедрять нте ради нте Ну да когда у тебя есть уже вот это Па когда зна перера сде сво сне нал тот который тебе нужен от них когда Ты запустил когда Ты запустил Ну То бишь даст проверил все вот эти штуки которые торчат наружу сделал секти конфигурацию харден и только потом имеет смысл заказывать внешний пинте они найдут всё то что ты не прибил и в общем-то в этом-то и смысл А их лучше делать изначально внутри или внешним Аум нут то чтот любой Кеме White бо имеет смысл Ну не знаю потом сильно Спасибо в общем в начале всегда Black B так вон ещё рука пожалуйста Добрый день а у меня один или два вопроса в зависимости от ответа на первый первый вопрос такой Когда именно запускается этот пайла Security Когда комит происходит от разработчиков Ой тогда второй вопрос как я посмотрел у вас везде проставлен параметры или как он называется Короче пропускает зае джобы все разработчики борются за то чтобы снизить время пайплайн вынести какой-то отдельный момент времени чтобы блоки разработчиков Да хороший вопрос тут можно поступить на самом деле несколькими способами первый - это оптимизация всего того что у нас есть Security и делать это немного проще чем это сделано то есть база данных которые используется там для обнаружения уязвимости загружать сразу в образ чтобы они не качались подключать там при монтировал заранее в образ чтобы они ниоткуда не брались и мы не тратили время на этот Нетворк который там происходит и второй вариант - это downstream pipeline например у нас отдельная инфра которая будет работать для сети спецов и туда результаты просто секти подгрузить общий пайплайн мы таким образом не нагружая Build не нагружая тест не нагружая там ну деплой который возможен Но это плохо тем что мы можем получить эффект что Security закончится позже чем Build Test deploy и у нас пойдёт непроверенный код на прот так делать нельзя поэтому для мейна всё-таки стоит оставить обязательным проверку Вот это секюрити стейдж Даже если он происходит в данном стриме просто чтобы результаты подгрузить вовремя Ну они у вас по сути не блокируют выпуск релиза они у вас прошёл какой-то там руйте какой-нибудь там попла завалился Да тут два вопроса был там стоит allow Fail True Почему а потому что когда мы это внедряли у нас было Ну в другой компании когда я это внедряли у нас была ситуация когда один который за всем уследить не может А если мы ставим у нас падает все джобы все билды разработчики в панике и как бы я один должен прийти ко всем и все результаты проверить и всё Это быстро пофиксить но это невозможно В принципе очевидно поэтому там стоит у на зрелости будет чуть больше чем вот мы от старта пути прошли то есть мы накиды те которые мы хотим чтобы у сканера например не было прироста уязвимости относительно предыдущего сканирования и ставим тогда уже вот такие вот проверки и фейм джоба если там допустим плюс одна критическая там плюс п критических Тут ещё наверное немножко стоит добавить что на начальных этапах внедрения будет оче много пробле кто не смотрел и такие блокирующие меры они Ну просто остановят всю разработку на некоторое время я думаю разработчики будут совсем несчастливо увидеть что им сейчас они не могут разрабатывать и только 2 месяца нужно фиксить уязвимости поэтому всё-таки Безопасность - это некий компромисс а не то что мы что-то обнаружили например и сразу блокируем а есть некоторые события которые мы точно блокируем А в других случаях есть такой некий светофорчик что да вы можете чуть-чуть попить и заняться своими делами но когда он загорается жёлтым то уже ребят пора разгребать тех долг по безопасности и как-то навёрстывать когда он загорается красным к вам приходит добрый дядя фси копс там разные дяди приходят зависит от того насколько вы накосячили ещё вопросики так вон ещё пожалуйста рука в связи с этим вопрос Если вот мы только внедряем все копс И у нас много файтингов и мы хотим добиться ситуации чтобы новые Не появлялись А как вы предлагаете лучше всего этот вопрос решать Ну новые уязвимости Не появлялись Да ну тут Security гайдлайны типа у нас разработчики пишут код они как бы не знают что такое безопасность Ну как правило или слышали просто про это Ну или не слишком в контексте есть э практики безопасного кодирования например есть Авас топ 10 топ 25 cve это проблема которая ну типа наиболее популярны наиболее присущи всем продуктам которые есть соответственно Можно попробовать повысить осведомлённость разработчиков об этих проблемах чтобы они не использовали умы функции например вот на уровне палай то есть мы же должны посчитать сколько у нас было фанго в ых сканирования следующим у нас больше то мы блокируем допустим requ А ну можно Если на уровне пайла самый простой метод можно просто запар Сить отчёт и в написать количество фандинг в принципе любой J позволяет посчитать количество Ну уникальных элементов внутри джисона то есть мы можем ВН положить шник просто с количеством там 125 например да следующий раз когда у нас пайплайн прогони Мы можем взять Вот то количество из артефактов и посчитать заново например и сравнить Просто у нас будет два файлика в TXT которые сравнивают Но это типа плохой способ можно просто поставить Ну в платных сканерах есть такая функция то есть я правда не помню как она называется про инкрементальные сны да да точном кажется совсем то здесь скорее всего нужна грамотно выстроенная Система вбили менеджмента и на основе неё уже принимать решение то есть какой-то отдельное Особое мнение Да pipeline запрашивает оттуда данные сначала все находки выгружаются вбили менеджмент систему а уже потом мы оттуда подтягиваем и смотрим насколько прирост Ну это первый вариант про пайплайн был а есть Ну как Лёша говорит второй Когда у нас есть какой-то осок или какой-то тул типа de do который у нас есть можно просто туда накинуть правила что вот один й 1000 было срабатывание следующий 1000 п 1000 п - Это плохо вернуть результат через обратно там вру или в gitlab и заблокировать релиз Спасибо так ещё вопросы так вон вижу руку Да спасибо за доклад вопрос будет про Security харден а с ним есть проблема когда начинает что-то отлаживать Я думаю это известная вещь что там у вас нету курла его нельзя поставить потому что ру Отт у вас не работает пин потому что ему нужен R Socket capability который тоже Отт А есть ли способы как-то Вот время на временно убрать этот харден ну для отладки нет А какой тогда ответ какой ответ экспертного сообщества в этом месте Ну в общем как работает харден у нас есть базовый образ на который мы должны накатить продукт то есть базовое окружение Мы сначала его делаем безопасно потом открываем там Рута и Делаем всё что мы хотим чтобы наш продукт был работал не терил функциональность и тогда у нас не будет вот этой проблемы Что там чего-то не хватает чего-то надо доставить Ну если то только нег режим да естественно там напроти не должно быть Вот это первый вариант а второй отключить хардинг в принципе ну это как бы взять скрипт на 30.000 строк которые я вчера показывал и все настройки поменять обратно ну то есть ответ такой что нет удобного метода я не встречал такой конфигурации из состояния как бы защищённости в состояние не защищённости скорее всего иметь разные наборы окружений разные наборы контейнеров какие-то для отладки со всеми инструментами с Баша курла приложит и всё что хочется но потом это всё равно придётся переносить в захарни нае окружение и там начнутся те же самые проблемы Просто вопрос А в какой момент мы получаем вот эту замечательную морковку раньше при разработке либо потом когда нужно срочно катить Лиз а он не выезжает Ну скорее про то что если удобный метод вот быстро создать такой контейнер быстро там что-то попробовать и его ну уничтожить Приложи равно Т при создании указать Да контейнер да для тестов В смысле для своих нет вот отладить проблему которая вот прямо здесь сейчас проблема на проди контейнер который Захар надо посмотреть что не так да надо посмотреть там конек допо слить себе и C All флаг добавить добавим все capability посмотрим что у нас есть Ну тут на самом деле сложнее нужно нормально обмазываться метриками поднимать на про приложит однозначно не рекомендуется в это окно могут по-быстрому и всю компанию вынести Вот соответственно лучше следовать принципу Zero Touch про иметь какое-то похожее окружение и пытаться воспроизвести проблему Но если очень хочется можно пока никто не видит говорил Спасибо хакеры это видят на шада хакеры всё видят И вам спасибо что пришли на Спасибо за внимание"
}
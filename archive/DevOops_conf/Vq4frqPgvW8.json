{
  "video_id": "Vq4frqPgvW8",
  "channel": "DevOops_conf",
  "title": "",
  "views": 0,
  "duration": 0,
  "published": "",
  "text": "Всем привет Меня зовут Вадим цычко Я главный инженер департамент единых облачных технологий ВК И сегодня у нас Battle Battle про выбор облака брать ли его пансорное решение в нашем случае губернатос или целиком писать облако самим так в Батле у нас участвует в левом углу Алексей Шарапов новейшен офис я губернаторных технологиях по полной Расскажи ответственности ВК Чем занимаешься тут как правильно Вадим сказал давно уже 16 года может даже раньше на самом деле занимаюсь сейчас развитием в губернатиса это где-то 27 кластеров от 100 до 1000 нот Кстати кто работает Здорово Значит мы с вами на одной волне вот у нас восемь дата центров в которых крутится клубер вот ну и там такие крупные проекты как вкпей реклама там Маруся почта есть там рустор и на самом деле часть ВКонтакте дзент после того как нам переехал частично крутится на губернасе то есть это ну очень большое количество разных серверов разных проектов я даже не все перечислил все это и не упомнить ну там 27 кластеров это Ого сколько я кстати заметил только половина зала подняли руки Так что не успели А так правом углу у нас Иван Буйнов он сырья начинал ещё служили поддержки целиком провайдере и вот дорос занимается у нас поддержки инфраструктуры с нашим собственным облаком Ну Ваня расскажи ты побольше Да всем привет Что рассказать У нас тоже огромная инфраструктура она построена на нашем самописном облаке про кубер вы все знаете я скажу чуть больше чем Лёша слов наверное А у нас тоже 7 содов это наше облако крутится на более чем 10000 серверов сейчас это железные сервера А что такое Это наше облако вероятно кто-то смотрел доклады Олега Анастасии вы либо кого-то еще можно посмотреть по ссылочке если не смотрели но в целом это свой собственный регистратор написанный на Джаве это не что-то поверх кубера основные технологии которые там есть это собственно Java на котором все написано Кассандра как сторож и подмен А вот что сейчас тут работает да начиналось все это в Одноклассниках зарождалась соответственно полностью работает весь проект Одноклассники ну там с некими оговорками на Ван клауди работают вклипы VK звонки У нас есть собственное хранилище которое сейчас уже больше чем 12x за байта Это примерно 77 тысяч дисков если считать в дисках и к нам сейчас активно переезжают такие проекты как цены в Икеи и скоро наверное переедут Окей так Ну примерно понятно что делает значит Чтобы все не превратилось хаос введем такие правила батлы каждому спикеру дается две минуты секунды больше и победителя выбираете вы онлайн голосованием так есть qr-код пожалуйста подключайтесь Там Можете уже сейчас голосовать У нас будет 5 тем во-первых самое важное Наверное это безопасность поговорим про комьюнити в разрезе каждого решения поговорим про эксплуатацию а коснемся вопросов анбординга найма обучения сотрудников и поговорим про расширяемость системы Потому что везде есть свои особенности Значит qr-код будем регулярно показывать Если вы пришли позже все равно участвуете Нам нужен победитель и начнем с безопасности все Мы помним недавние истории когда сорсе были закладки которые активировались в нужные локали или в нужный тайм-зоне например ну что и как в разных решениях начнем с Лёши Не забывай про таймер по 2 минуты пока Вадим включает ночную водную Security и cubernatis вот буквально сейчас в соседнем зале идет доклад про Security Да там подходом cubernatis И на самом деле таких докладов очень много карамках этой конференции в рамках других конференций в РФ за пределами РФ и это нам говорит о том что мы можем пользоваться практиками просто всего мира да то есть разных компаний которые производят какой-то аудит это там Huawei BM там Red had например они производят постоянно какие-то изучения приносят новые инструменты мы можем говорить даже про инструментацию которая разрабатывается у нас завтра будет Там круглый стол по поводу большого набора инструментов например там лантри да если кто-то знаком там Димы для Кимов вот Передаем вам привет делают свои решения и Когда Вы начинаете работать cubernetics в этой области вы понимаете что вы хотите сделать потому что базовый Это всего лишь какой-то кулинарий на которую вы дальше оборачиваете непосредственно нужной вам практики хотите повсеку сертифицировать сможете пронести хотите делать банковские системы вы накладываете сверху ту безопасность которая вам нужна и начинаете с ними работать если у вас какие-то системы которые работают там в публичных облаках вот особенно хорошо было сделано это в паблик по типу там Google клауда когда они были еще доступны ВВС у них прям были от Архитекторов большие там всякие описания Как правильно составлять какими решениями на Ну самую безопасность и как это будет работать Причем когда Мы строили кластера в РФ да то есть в банках я работал мы опирались на эти документы и все равно получалось Здорово Мы проходили какие-то там аудиты и мы могли делать там должно на Ну у нас не было там то есть взломов да то есть эти практики наработанные фактически всеми компаниями цисы всего мира работают вместе с вами переиспользуйте это и Ну гордитесь этим так спасибо Вадя что скажешь Но еще рано смеяться нужно Да мы сравниваем в первую очередь Да не конкретные продукты А наверное подход в целом к разработке какой-то он премис который вы пишете сами и к Open Source Да когда мы говорим про Security то конечно Вам гораздо лучше когда вы можете полностью контролировать свой код А что это значит Это значит что например вы пилите фичи которые вам нужны вы закрываете уязвимости те которые эффект от вас вы не смотрите там когда я пофиксит хате или кто-то еще вы можете взять и пофиксить её сами Здесь и сейчас эту любую уязвимость да то есть у вас также вы смотрите в какую сторону у вас проект может развиваться у нас были коммиты в Кассандра которые не принимали теперь у нас много лет уже сам свой форт Кассандры например а также в самописном решении вот конкретно у нас в Облаке есть много фичей о которых вероятно Нет где-то еще до Например у нас раскатка Security фиксов не требует при сборки образов приложений про это есть большой отдельный доклад там вот внизу и ссылочки можно них нажать то есть когда выходит Security Fix и мы заставляем всех программистов пересобирать свои образы это делается все автоматически за счет того что вот у нас написаны такие фича для нас а также у нас вот у меня был доклад про волка сегодня уже упоминали на этой конфе собственно за счет того что мы все пишем сами в том числе мы дописали его под себя интегрировали его с облаком и за счет но мы потратили какое-то время до пассажирсе вы берете готовые кирпичики из них что-то собираете ну и получаете какое-то решение мы тратим больше времени на интеграцию зато тот же Волк Да он интегрирован с облаком очень тесно это очень удобно да людям пользоваться потому что волк у нас знает все про нашу инфраструктуру То есть он там получает сразу все политики все остальное То есть мы не создаем там отдельные роли все прям генерится автоматом работает хорошо а вот у меня время кончилось но я вроде все и сказал так Окей давайте движемся к следующей теме пока какой-то паритет как мне кажется мы все время будем показывать qr-код голосуем Да при выборе технологии огромное значение имеет комьюнити это и конференции курсы туториалы документация стековерфлоу все что угодно как с этим в разных решениях начнем с Алексея на комьюнити и cubernetis вот еще народ зашел Давайте еще раз поднимем руки кто работает с кубером и посмотрим друг на друга то есть Давайте давайте вот замечательно Посмотрите как вас много И в этот момент когда мы говорим Да про комьюнити мы понимаем что они все вокруг нас первый выпуск был там 7 июня 14 года kubernetics я помню 15 год я ездил на небольшую конференцию по-моему там Google клауди девелоперс Как назывался потому что не помню не суть и рассказывали Вот про кибернетис прямо первые выпуске Я что-то не понимал Зачем это надо и так классно всё в докере запускается Вот но потом всё закрутил сейчас там вроде 203 год Если не ошибаюсь да есть тематические форум но когда вы можете зайти тематический чаты в которых пишут причём они по разным темам Как из клубе рам работать и Безопасность которую мы упомянули какие-то решения там куберетесь мониторинге всё что угодно это какие-то вечера тематические которые в крупных городах собирают ты сейчас даже начались небольших там новосель какой-нибудь Омск Рязань даже и там бывает разные встречи в барах где обсуждают какие-то решения потому что ну Open Source решением его пользуемся в везде не только Да в каких-то там крупных решениях и даже есть какие-то тематические вот ну не свадьбы это я ладно так говорю Metabo Да но на работе кто-то познакомился и мог бы сделать свадьбы в стиле куберетесь почему бы нет там микросервис и тут сидят там какой-нибудь штурвал но не суть Вот вы здесь все вместе вот собрались мы обсуждаем целый день там другие доклады ходил там всё это рассказывают про Купер и вы понимаете что у вас есть кому обратиться кого спросить Вы можете с Сашей Кожемякина спросить Он завтра выступает и он вам точно всё расскажет потому что ну комьюнити одна из самых сильных сторон того что мы делаем и как вообще мы с этим работаем так Неплохо неплохо Авант чем будешь крыть Да скамьюнити все конечно обстоит совсем по-другому Да но это не значит что если каким-то вашим продуктом не пользуется весь мир то вы оторваны от комьюнити Это совершенно не так что во-первых Наш вот облака Да она использует все компоненты которые открыты это Linux это JAVA да подмон докер болт все эти компоненты точно также открыты Вы можете ходить на любой конференции все вот это вот также Да мы создаем это комьюнити сами вот прямо сейчас вместе с вами здесь Да мы очень активно делимся экспертизами раньше это делали в Одноклассниках а теперь это будем делать дальше уже вот в проекте облако у нас полно коммитов которые мы делаем в опенсорс То есть у нас есть кометы в энси был есть кометы в хаши корпоралт есть комменты Во много что на самом деле я сейчас так не вспомню сходу Вот то есть у меня посыл такой что если вы пишете свое решение которое основано на Source это не значит что вы каким-то образом оторваны ком Ну это комьюнити создаете сами и также некоторые технологии вот у меня Последний пункт который написано частое на развитие технологий заключается в том что многие решения которые мы делаем еще никем на рынке сделаны не были Это довольно много вещей про это позже буду говорить например там приватизация работы с дисками сетью и что-то такое Что за вас не напишет комьюнити неплохо так А давайте следующей теме перейдем Ну технологию мы по каким-то критериям выбрали но все это нужно поддерживать нужно нанимать новых людей ханбордить обучать чтобы они быстрее начинали приносить пользу так не забываем голосовать Значит так Окей Ну давайте чтобы поменяться ролями теперь вначале одним словом Так значит анбординг что если хотел сказать у меня в начале вот на слайде прям была эта фраза все стали от куберы команд не Илюша на самом деле написал когда мы слайды набрасывали А мне она понравилась я решил оставить это на самом деле действительно так но по моему какому-то скромному опыту когда мы собеседуем людей довольно часто я вижу Вот вы все поднимали руки да и возможно кто-то уже действительно откуда устал Потому что часто люди приходят и когда они слышат что мы пишем свое собственное Решение вот там рука взяли когда они слышат что мы пишем свое собственное решение это многие люди воспринимают как большой плюс они минус то есть переходя там меня я туда-сюда компании смотря на эти разные куберы Ну наверное что-то новое там Конечно можно увидеть и принести Но многим людям гораздо интереснее создавать вот этот как бы да условный Купер самостоятельно а также мы в первую очередь ищем с рынка инженеров нам неважно и занимался там человек какими-то базами там или он я молодевелопер мы берем инженеров и инженерам интересно разрабатывать технологии независимо от того какие технологии они меняются Да сегодня популярно одно решение завтра другое решение к этому привязываться смысла нет Ну также у нас сам процесс сноубординга очень хорошо налажен Да у нас там есть прям доки всё расписано в понедельникам то есть человек на самом деле Вот он приходит с улицы и он может спокойно работать с нашим облаком не имея какой-то большой экспертизы Вот именно в этом продукте да Ну и также огромный огромный плюс Но я считаю то что автор Вот например Вадим один из авторов Ван Клауд Да и других крутых штук которые мы пишем в один пишет он вообще молодец вот когда автор сидит рядом это в тысячу раз удобнее бывает и ну и продуктивнее да чем искать по форумам решения даже если от гигантская комьюнити вы не всегда можете найти Почему было принято какой какое-то решение архитектурное Да почему именно в эту сторону пошло развитие продукта А когда у вас разработчик сидит за спиной то вы поворачиваете голову и получаете ответ на абсолютно любой вопрос и это вот в процессе обучения тоже очень удобно неплохо так Спасибо за референс да Ну давайте в слово Лёша как у кубера самбордингом после такого даже нечего сказать Ваня разложил Но на самом деле попробуем в первую очередь мы берем инженера с рынка То есть Ваня сказал что он ищет и возможно находит там за их наймам я не слежу но как нанимающий менеджеры занимаюсь им давно Я знаю что мы можем взять инженеров которых для нас подготовили другие компании там обучили например вот они приходят к нам Мы также берем инженеров разных уровнях да то есть под разные задачи Мы не только там сидим и смотрим на fubernety чтобы он работал там целый день вот мы в целом занимаемся большим спектром всяких задач которые относятся к такому понять как платформа Инжиниринг Вот и также мы смотрим ребят которые там с линуксом хорошо работают пишут код Мы периодически ищем ребят которые там какие-то патчи могут даже в Купер делать Ну там есть такие задачи так как мы достаточно большие кластеры делаем одного инженера даже у Вани украл потому что они его посадили вот а мы забрали себе но вот так вот мы решили вот лучшие практики на самом деле погружения они вот на работы в крупных компаниях Да когда вот там ВК я присоединился на самом деле до этого тоже купером поработал и даже зарубежных компаниях и Классно что мы понимаем Как вести инженера что ему рассказать Какие ему там практики что важно что не важно Для того чтобы он быстро погрузился мы можем быстро вводить не только своего инженера Да там администратора там с Рио словно Но это также и важно Для того чтобы быстро погрузить разработчика тестировщика который приходит и знает такие там kubernation подходы Как правильно микросервис написать за диплоить какой-то набор инструментации например там тест контейнер для того чтобы с этим ну активно работать и не тратить на это время мы делаем то есть инфраструктуру а-а с которой мы не тратим время там и деньги бизнеса на то чтобы ввести инженера внутрь а наоборот чтобы взять готового рынка и быстренько получать вэлью так как есть Спасибо Да так ну в принципе технология предположим мы выбрали комьюнити разобрались самбордингом как людей нанимать но есть следующая большая тема технология не живут сами в себе Эта система живые их нужно эксплуатировать Давайте поговорим про эксплуатацию и не забываем голосовать так Ваня тебе слово спасибо эксплуатации на самом деле я думаю что это та тема которая будет более выигрышно показывать какой собственное решение и тот же Ван Клауд Да почему она потому что в первую очередь все проблемы эксплуатации они Проблема не только эксплуатации на разработке и все проблемы эксплуатации они решаются непосредственно с разработчиками То есть их решает не команда эксплуатации которые эксплуатирует какой-то А вот собственно разработчики которые пишут систему они стараются писать и так чтобы она не вызывала никаких проблем в эксплуатации и у нас это сделано очень здорово позже скажу на самом деле про это подробнее Да еще один очень важный момент который бывает мы умеем очень очень хорошо утилизировать железо Да это один из поинтов Почему вообще все про это рассказываю почему это так широко используется вот В группе ВК а потому что у нас есть эффективное использование оборудования за счет того что есть разные типы задач патч про тайдл про это на самом деле надо посмотреть ссылочку которую я не оставил сейчас я все верну обратно А по так пока на паузу поставил Давай все да Про это доклады но суть в том что есть приоритетные задачи которым нужно ответить реал тайме есть задача которые могут фоне считаться кита ходу туда еще что-то и за счет этого у нас используется очень эффективно а также у нас айпички закрепляется за контейнерами это прикольная фича которая позволяет вам очень удобно работать с какими-то базами данных которым важно чтобы были статические а также это позволяет очень удобно мигрировать куда-то железо То есть у нас очень круто реализовано это все в том плане что контейнеры сами иммигрируют сами катаются по облаку они при этом состоит могут кататься по облаку и у вас никогда не меняется и фишка вам придумывать вообще не надо вы запускаете ваше приложение неважно стоит Fall это стоит вас вообще все равно и это все работает прозрачно вот собственно про это до последний Поинт что Работа состоит в автоматизирована полностью и системный администраторы Да когда им нужно запустить базу какую-то состоит там если у вас два диска на терабайта вам нужно 2 терабайта облако само все это нарежет про это думать вообще нет нужно Так а что там дальше у нас Ага И готовы не так важен Вот давайте мы поговорим дальше скажем а эксплуатация тоже cubernaiser те кто вот руки поднимали сталкивались первую очередь Ваня здорово говорит что есть именно вот подхода к этому что это дает инфраструктурные моменты и в случае работы с клубером также практика включает инструментацию да Когда вы приходите на место Скорее всего вы видели на те инструменты с которыми работает ваша новая команда то есть или там Несмотря на то что по-разному может быть собрано 5 бинарей на по большому счёту всё равно это будет похоже подход то есть похожий практики и Похоже какие-то а пайпы к построению как вообще вот с этим работать то есть автоматизации те же самые ямлы про которые все вспоминаете смеются Но плюс-минус одно и то же а процессы строят вокруг инфраструктуры почему это ну столь важно что когда Да там наборы разные и пять бинаре Вы можете разложить как вам нравится но вы когда строите эту систему Да базируешь так и вы понимаете как ваш инфраструктура выглядит Да какая у вас сеть Какие Вам фичи нужны там Что вы возьмете что не возьмете Что сверху поставите и это помогает вам решить Ну достаточно много вопросов причем Я надеюсь что вы понимаете зачем вы берете Да когда запускаете они просто также вот этом случае к веб-интерфейсу Здорово Да внутренние решения позволяют использовать веб-интерфейс в случае с кубером Вы можете использовать на какие-то коробки которые поставляет свой интерфейс например тут Ну вот есть такая подделка раньше называется Да с ней кто-то вот может быть работал у них есть веб-интерфейс конечно работать не очень но он есть а также есть но другие решения там когда-то давно ещё там э-э там наверное год-два назад существовал openshift который сейчас куда-то девается и в целом тоже ну на разные набор который вы можете взять по то есть и инструментации по инфраструктуре по веб-интерфейсам всё это вам доступно и не надо что-то даже делать потому что это вот именно Open Source OK так как ты ровно идешь то так давайте двигаться дальше так голосуем ну систему все не высечены в камне Да они живут развиваются рано или поздно захочется что-то поменять добавить какую-то фичу проинтегрироваться с какой-то новой системой внутренней Давайте поговорим про расширяемость и начнем с губернатоса лишь расширяемость вот на самом деле мы когда говорим и Ваня хорошо подметил что они используют открытые компоненты которые фактически пропачили и внесли какие-то изменения Это позволяет делать систему более гибкой и управлять и в ту сторону которую надо фактически кубернатиз позволяет сделать то же самое то есть первую очередь это дописывание каких-то модулей патчей У нас есть свои какие-то патчи которым вносили там в целям например для фичей который нам необходимо И вообще то есть паттерн платформа Инжиниринг да про которую но в целом то мы здесь говорим в такой немного юмористической форме он говорит о том что мы можем свои платформы решать проблемы так как нам хочется потому что Несмотря на то что там вы взяли одно или там другое решение например то же самое кубик спокойно расширяется можно писать операторы для того чтобы автоматизировать управление cr9 то есть мы наговорим не только там да о каком-то линейном использовании это о том же самом Ленин используя каких-то облачных Да там например решениях а о том что когда платформа Инжиниринг Вам необходимо применить как ну вот собственный паттерн вы переходите к тому что вы начинаете модифицировать свое решение при НУ необходимости да То есть вы можете управлять многим вещами например бизнес-приложение как писали там делать свою изоляцию наносить какие-то управления или там даже кофеваркой калькулятором каким-нибудь управлять если вам это надо на ежедневной основе всё очень легко решается за счёт непосредственно того что это открытый код который Вам доступен вы его расширяете работаете Ну и в целом проблем с этим нет но главный разбираться в компьютерах технологиях чтобы Ну этим управлять так Ваня что у тебя кажется вот в анклауде все по-другому да да Ну не совсем по-другому Конечно нам писать как мне кажется да дописывать что-то наверное с какой-то стороны проще намного проще потому что во-первых мы реализуем фичи которые нужны непосредственно нам Мы не выбираем какую-то фичу там вот какую нам взять сеть с илем там еще что-то там 10 тысяч видов разных сетей У нас есть одно решение мы вот его хорошо поддерживаем это конкретное решение которое устраивает конкретно нас за счет этого например мы имеем гораздо меньше кодовые базы это кодовая база проще вот возвращаясь к бордингу да тем же программистом гораздо проще читать этот код потому что он Довольно простой Понятно написанное решение конкретных задач соответственно есть вот классные примеры интеграции как мы что-то интегрировали опять же я не уверен что кто-то в зале или где-то еще может похвастаться недавно Яндекс которая называется ыть войти Да и это база данных Она работает поверх контейнеров порта контейнеры порт это что-то типа докер подмена только реализация от Яндекса нет вот недавно ли войти и нам нужно было для переезда дзена запускать у себя эти контейнеры мы это сделали буквально за месяц адаптировав наше облако к тому чтобы оно могло использовать в качестве runtime порта А не подман вот также значит Да у нас есть такая фича как приватизация и это мы тоже сделали конкретно под себя и скорее всего это нет такого сорсе то есть когда вы запускаете что-то там в амазоне в Google Cloud где-то еще да у вас на самом деле все это запускается естественно не в cubernet Я в настоящих облаках вот которые в больших компаниях используются соответственно вот мы строим такой же облако и приватизацию Допустим мы брали из Фейсбука они недавно написали белка его Коста штуку вот у нас реализация построена на ней также мы умеем периодизировать не только диски но и сеть Вот это очень важно то есть когда вас делается бэкапы какие-то например они могут детализировать там всю полосу и при этом это не будет никак влиять абсолютно на продакшн то есть там все останется низким Ну естественно тоже можно писать операторы как его сорсе вы можете написать что-то своё вот ну и так как решение свое оно очевидно интегрировано очень сильно со всей инфраструктура из железом с мониторингом сетью я вот не успел к сожалению показать Молодец кто-то консоли разные бывают администраторы я абсолютно вами поддерживаю вот Ну окей да Хорошо Так ну давайте посмотрим что получилось по результатам голосования Да так Ваня Переключай посмотрим Я надеюсь в активный голосование Ничего себе практически паритет на самом деле кто помог подумать на самом деле Да вот в сторону пока рассказывал вот на самом деле понятно что да с каким-то самописными назад Вот супер вот во славуктонических значит демонов Ну какие-то свои системы пишем но по факту держи рассказывай Да вопрос-то было изначально про то писатели и писать и главный что здесь нужно оценивать оценивать деньги потому что любое внедрение любой системы это тоже деньги и от масштаба вашей системы зависит количество этих денег и при превышении определенного масштаба уже может быть оправдано разрабатывать что-то своё вот все что мы до этого говорили понятно что это касается масштабов от 1000 машин и сильно больше можно писать самим можно внедрять опенсорс можно купить от вендора это все возможные опции но здесь нужно считать главная мессадж который хотелось бы чтобы вы вынесли Нужно решать конкретные задачи не строить Карго культ Несмотря на все босворды там маркетинговые фон и все остальное Ну Несмотря на то что это Баттл на самом деле мы все работаем рядом вместе в одном департаменте единых облачных технологий Ну вот называется Мы решили что буквенный не хватает это вот наш новый бренд можете считать надежные новые насущные вот все что нравится здесь что важно мы создаем и внедряем технологии для больших инфраструктур когда действительно становится оправданным разрабатывать самим и контролировать Весь процесс а мы создаем Облачное решение рассказывали и есть сервисы которые используют и технологии другие технологии для больших инфраструктур на этом акцентируемся лежа дополнишь здесь основной посыл был да то есть мы не просто этот юмористический Батл придумали в том году случились определенные события и было много вопросов Что делать дальше причем обсуждали это в разных кругах типа там у кого-то сейчас есть свои разработанные системы кто-то до сих пор сидит на губернасе у кого-то шрифт и было много вопросов закрыть ему Open Source С развитием каким-то вот когда мы с этой задачей столкнулись посмотрели что по факту в крупных компаниях есть разные решения мы на самом деле развиваем два рантайма которые решают Ну плюс-минус разные задачи Ваня показывал свои подходы до которые вали для их кейсов на кубинете мы используем там где надо Вадим правильно сказал что не надо строить самое главное каркай культ а идти в то решение которое вам надо вот предоставляем всё как сервис то есть вот в этом общем решении Да там что же делать дальше мы остановились на промежуточном этапе и делаем что-то своё с использованием Open Source здесь ну Главное понимать рассчитывать свои силы то что намного обсуждали там даже не внутри а с другими компаниями да то есть Здорово Да там сделать свое решение и то же самое написать свой там onecloud такой своим имплементацию но по времени занимает Ванька Давай начали это писать в один То есть это были первые релизы куберри ещё собственно Почему Давай может подробно отвечу Да почему вообще появился Ван Клауд когда писали Это было порядка шести наверное лет назад когда кубе ещё был довольно в зачаточном состоянии а продакшн Одноклассников работал на железе а его нужно было в какие-то облака перевозить посмотрели на uber и тогда он ещё был не готов к этому и так появился Ван Клауд здесь самое главное понимать что но это что большое количество времени и силы Ну очень крутых инженеров которые там в Java кометы какие-то ещё пансора разрешения Да там и с другой стороны делаю платформы там на то же самое губернасе для такого объёма необходимо оно твои тоже патчи вносить на это тратится достаточное количество времени Вот и когда вопрос возникает Да Можем ли мы купить что-то обратиться кому-то там взять то же самое раньше или может быть мы справимся сами всегда очень важно считать Там не только но со своими хотелками считаться но и посчитать выгоду Сколько времени на это потратить сколько это будет стоить И от этого оттолкнуться то здесь таком кратком формате мы хотели Хотя подтолкнуть к тому чтобы ответить на этот вопрос Ну и посмотрели на целесообразных там того что делать внутри Потому что сейчас рынок на самом деле и запланировался с той стороны разными решениями и с другой стороны как бы если что мы ничего не продаём я просто с этим столкнулся когда выбирали Мы в том числе Ну мониторили рынок и понимаем что ну их очень много да и А мы хотим решить свои задачи да там для этого в это вписались И для этого так глубоко в это погружаемся вот ищешь добавить или мы пойдём к вопросам Да всё спасибо за внимание Давайте перейдём к вопросу спрашивать этот позитивное главное ну негативного опыта не надо особенно тут вот пока вы там раз думаете над вопросами как абсолютно вам все понятно это настолько замечательно Вон пошли все-таки созрели Не стесняйтесь можете ну как бы это да ответим на любой вопрос серьезный Можно спрашивать что угодно Спасибо большое за доклад было правда очень интересно и самое Наверное я менеджмента большой вопрос что же все-таки по деньгам то выгоднее своя разработка у вас или cubernets было можно отличный вопрос Я обожаю вопрос про деньги Классно да ничего не выгоднее вот губернатиз с дорого стоит потому что вам нужно большое количество инженеров которые Ну придут к вам могут решать какие-то задачи да то есть и kubernet инженеры Ну стоит достаточно большое количество денег на рынке причём они многие почему-то уехали Вот не знаю какие-то события были вот с другой стороны чтобы разработать своё Да вот как флане говорит поддерживает легче потому что вот можно спросить Вадим Почему не работает он пофиксит Но с другой стороны нужно разработчики высококлассные которые смогут это сделать но чтобы это нормально работало особенно тяжелых объёмах поэтому Но плюс-минус получается что на долгосрок Когда вы рассчитываете Да там в зависимости от размера бизнеса и от того там вообще какие у вас есть затраты получается Ну достаточно специфично получается Надо посчитать сколько это будет да то есть разработчиках И кто вас может отвезти Причем когда вы делаете на cubernet свою платформу Скорее всего вы столкнетесь с тем что база функционал либо не хватает либо надо дотаскивать какое-то Open sour сверху Да там Security там где доставок который там ну при определенных размерах компании начинает тоже уже флоковать каких-то моментах и тут патче там по очагошники нужны опять же превращается всё в достаточно большой объём разработки а которого стоит поддерживает да есть какие-то там стримы Где вы тянете какие-то фичи но в целом это всё равно там в больших объёмах не идёшево мы сталкивались с этим вот не только Вики там до этого делал там ну такие же платформе на решение других компаниях Да и в целом бюджет получался достаточно не слабый да который только где-то в долгосрок плюс-минус Возможно там ну будет отбиваться поэтому зависит от размера но плюс-минус прям паритет Спасибо за класс А у меня вот такой вопрос Ну ты говоришь про деньги а не хотите ли получить кое-что бесплатно то есть совершенно бесплатную помощь от всего мирового комьюнити Кто делал анклауда вам достаточно взять это сделать вопрос про Ван Клауд вопрос не ко мне Давай я отвечу можно таких планов не было критическая внутренняя инфраструктура и пока мы не планируем этого пансорсить потому что на этом Работают но самое критические части внутри всего ВК групп Но это же будет помощь всего комьюнити Спасибо за уточнение Спасибо Алексей спасибо у меня такой вопрос Вы можете к скажем так описательному виду привести все что угодно оперировать чем угодно то есть можно вот ямками описывать калькуляторы Вот это очень удобно Можно вообще все что угодно добавить свои что хочешь на делать что-то сможешь что-то Нет есть куча примеров которые могу назвать которые ты сможешь сделать Ван клаудине сможешь кубернатости также наоборот сразу как ответ на вопрос пока микрофон 3 фичи которых а первая фича приватизация сети 2 реализации дисков третья фича бач про title задача Но это при реализации это одна фичи Давай еще две там уже следующий вопрос Ваня Лады дефрагментация Кстати да автоматическая вот мне подсказывают слева облако умеет автоматом дефрагментировать Ну то есть что такое дефрагментация это когда у вас на миньоне Миньона это железка на которой куча контейнеров когда он забит по-разному таскать Мида вас где-то не до утилизируется сеть где-то не утилизируется диск и так далее соответственно автоматом работает дефрагментатор который разносит максимально ресурсы это тоже утилизация его на следующий вопрос этот фрагментация разные слова Windows конфигурация подобна там манифестом в губернации или что-то своё там формат свой но это тоже ямы там на самом деле все очень похоже Да это подман там точно такие же контейнеры они собираются тоже обычно докер там бил да у вас получается контейнер можно взять публичный контейнер запустить А это все описывается я совместим но это тоже Ямал такой же такого же вида там типа name version там контейнер порт все такое понятно И еще такой более глубокий вопрос А ну смотрите развивается сообществом и там появляется какие-то новые фичи Ну там например от docker шрим избавились какой-то момент вот губернатос пойдет в одну сторону вы пойдете в другую сторону как вы будете там держать руку на пульсе достаточно дорого если говорить про деньги я понял наверное вопрос но мы в таком в таком формате мы руку на пульсе как бы не держим да мы на самом деле всегда и так находимся вот на AJ этих самых технологий потому что мы как правило решаем задачи часто первые в индустрии какие-то то есть нам не нужно следить за кубернатосом Конечно мы смотрим да Что делают где-то в разных компаниях подсматриваем какие-то решения там Гугли еще где-то сама наше Вот это облако написано на основе порка Bork Это облако которое работает внутри Гугла написано как работает Bork там вот есть та же самая концепциям задач и наша облака но подобие этого написано а что касается вопроса про фичи какие-то которые выходят Все мы не стараемся заносить себе фичи которые вышли в губернатости мы смотрим на свою инфру мы видим какая у нас есть проблема если это проблема есть мы решаем Да если она уже решена в кубе мы посмотрим как там сделаны возьмем это себе если это нигде не сделано то мы сделаем сами Вот и все захотели сделали не захотели не сделали онлайн Вопросов нет замечательно или нет а вот еще надо на все еще время можете поспрашивать 8 минут поближе микрофон подносить А то плохого слышно когда вы спрашиваете там где-то был вопрос или нет Вот здесь то что Да вот здесь поднимали предыдущий вопрос не ответил сердечки есть Ван клауди или нет Что такое сердечки А кастомер reserveition то есть ты можешь описать какой-то свой Яндекс и уже куберовский движок будет приводить как бы декларативное описание эти операторы у тебя Можешь отвечал до доклада нас отвечает отвечаю еще раз подробно ты можешь написать свой оператор Он будет описан я вам да сердишек сердечки Ты можешь описывать вот у нас есть разные типы ресурсов тоже да есть сторожи там сервисы еще что-то эти ресурсы ты можешь описывать ресурсов которых нет ты описывает не можешь здесь они же составляли структуру под себя поэтому решает точно задачи то есть Но именно то инфраструктура на которой запускается сервисы да то здесь концепция что это хорошо расширя Ну вот базово да ты взял короче куберы под себя его там типа модифицировал и погнал да то есть а здесь именно структура Чуть более жесткая но то есть добавление этих новых фичей больше через разработку но да то есть приходит если это не оператор но фактически быстро можешь через ребят тоже добавить Вот и тут но просто немножко подходы разные да то есть команда такая большая и такой функционал не был вообще востребован когда Вот именно проектировали Да там Почему ребята взяли вот как Ваня правильно сказал э-э там когда пятнадцатый год была разработка не было В клубе чтобы тянуть им такие нагрузки Да я сейчас вот не уверен что кубернасе может те нагрузки тянуть которые именно генерируют базовые сущности там Одноклассников ВКонтакте вот там но э ну он чуть на другое рассчитывал Вот ребята именно над перфомансом работает то есть на прямой там и ядро поочередное глубоко там погружаюсь и bpf начали раньше работать Чем клубер Вот они больше за перфоманс да то есть купе вам больше за изменяемость которую ты под себя уже подгоняешь начинаешь что-то делать Вот поэтому идеологии чуть разные но и это красота из основных мыслей что у продуктов которые вы делаете сами продукт который выбираете с рынка у них даже идеологии может отличаться там если кто-то шифтом например работал да Тоже кажется то же самое cubernetis но когда ты смотришь там огромное количество нагромождение фич который может быть тебе не нужны Но они уже есть там в релиз версии ты платишь за это кучу денег но и не пользуешься потому что вот Ну и не пользуйся вот такой вопрос Я так понял что кубернатос все равно долгосрочно никуда не уйдет и будет более удобен для Application разработки А вон Клауд наоборот крут для перфоманса и соответственно мы можем запускать те самые 5 бинарей в анклауде вопрос каковы шансы что мы будем запускать ВК клауди губернатор в анклауде вы как клауди Ну не в колокол вопрос был в том Будем ли мы запускать на самом деле мы прорабатывали этот вопрос и пока происходит Ну не большие коллизии на базе там переиспользование bpf и на Express Да когда мы все запускаем не боролись с этим каких-то фичей Нет мы чуть рядом это все развиваем Но потому что типа ну как бы пока до этих патчики не дошли как бы шансы здесь 50 на 50 либо будем либо не будем Я шучу Ладно Там слишком серьёзные вот по факту сейчас пока Ну в этом особо ценности не нашли мы попробовали Да но там идут прямо параллельно общее обращение э-э Ну к определённым частям которые нам работают ломает поэтому как есть пока так есть но в целом день хорошая опять же да то есть это Ну похоже на какое-то управление Ну минимальным бинарями Да потому что как раз заветом Ну крупным бинарями но это так дороже внутренняя кухня он никому не интересный Я вообще замолкаю еще вопрос Спасибо за доклад вопрос простой сколько какой размер кластера Ван клауда по размерам в количестве нот и количество контейнеров размещенных на них могут быть предельные и без сайта эффектации губернации есть например класть в 100 лот это базовый базовый размер когда проблем в нем практически нету и инженеров которые должны следить за ним нет соответственно Вопрос сколько требуется инженеров на базовый кластер он клауда довольно большого размера меня будет ответ очень долгий наверное как раз на все оставшееся время стараюсь короче начать надо с того что мы вообще одно из вещей над которыми Мы переживаем больше всего На что мы тратим Больше всего времени Это касается и самих технологий подходов к работе написания каких-то там чек-листов это надежность как раз отказоустойчивость соответственно в начале у меня была картинка про семь сотов 7 сотов Это не просто значит 700 долларов какие-то там сотни кластеров Это значит что нас на каждом кластер То есть у нас 77 кластеров на самом деле А в самом большом по моему что-то типа около трех тысяч серверов да но это не потому что нельзя больше потому что на самом деле сейчас одна из огромных проблем которые это просто нет места в цедах в Москве у нас все стоит в Москве в цодах и туда Просто нельзя вот прийти поставить не то что 1000 там 100 серверов некуда поставить Да мы сейчас строим свои цода пока строит вот собственно к чему я да три тысячи например что касается команды которая это поддерживает вот я меня представили как там э Team litt что-то такое Да у нас команда мы себя называем админами это неважно Как называть там опция среди админы все одно у нас 25 человек по моему сейчас и вот это 25 человек которые занимаются абсолютно всем в этой инфре начинает там от подсветки замены диска но она автоматизирована у нас Но если вдруг там что-то пошло не так то есть начинает работать с железом заканчивая запуском приложений заканчивая какими-то сложными задачами это вот всё всё делает 25 человек команда на весь Production включая продуктовые задачи Одноклассников и всё всё Мне кажется это очень мало потому что вот на докладах говорят у нас там подвал пять человек типа команда Почему опять также это все хорошо работает потому что эксплуатация работает вместе с разработкой разработчики решают проблемы эксплуатации это как раз тоже одна из классных фишек которые ты получаешь когда сам для себя пишешь подход О чем все этот факт остался 30 секунд Всем спасибо на вопрос времени хватит можете Вот в кулаках помучить если вам хочется Если хочешь не мучаете Вот были всех рады видеть Спасибо что пришли Спасибо"
}
{
  "video_id": "gPYuQ7I-67s",
  "channel": "HighLoadChannel",
  "title": "",
  "views": 0,
  "duration": 0,
  "published": "",
  "text": "мы продолжаем мини трек про высокие нагрузки и странные технические штуки и Олег нам расскажет как они собирают статистику в мини приложения ВКонтакте ждём тебя Олег привет Слушай а расскажи мне Кратко А для чего нужна статическая тем более в мини приложениях кратко Чтобы понимать что происходит вокруг вокруг ме приложения вокруг пользователя чтобы ничего не потерять но я думаю сечас в рамках своего доклада нам расскажет это более детально и друзья не забывайте переходить по коду там наш онлайн-чат можно задавать вопросы общаться между собой и со спикером Коле Приветствую привествую кто кто будет смотреть на записи А тема сегодняшнего доклада - это надёжная аналитика и я расскажу как мы собираем в мини приложениях ВКонтакте всю стату И как мы всё склеиваем в одно для начала Предлагаю познакомиться если кто меня не знает Меня зовут Олег Я работаю ВКонтакте и больше 15 лет я уже занимаюсь разработкой различного рода больше 10 лет пишу на PHP а снизу есть ссылочка там все мои контакты доклад И много-много чего ещё интересного вот предлагаю начинать для начала небольшой дисклеймер аналитика в принципе по себе штука сложная и ВКонтакт тоже сам по себе довольно сложный и большой и я буду рассказывать конкретно про аналитику мини приложений вот ВКонтакте аналитика хорошая работает нормально но каждый отдел под себя что-то допили для того чтобы точечно понимать что происходит конкретно для них конкретно с их пользователями и конно для с делать Жизнь чуточку лучше если с этим понятно предлагаю продолжать план на ближайшие полчаса поговорим про аналитику мини приложений про особенности как в принципе Она собирается попла порисуем опять попла поговорим про техни Ну всё что там мясного можно рассказать и расскажу и похвастаюсь что получилось в итоге для кого будет полезен мой сегодняшний доклад в первую очередь это команды которые строят аналитику себя в продукте потом у вас есть разные платформы У нас например есть мобильный web web есть iOS Android и везде это всё по-разному работает Если у вас такая же история Welcome Давайте разговаривать а и у вас есть событийная модель нет такой у нас например событийная модель такой штуки Как сессия целиком у нас нет У нас есть тапы клики и так далее вот если у вас такая же история надеюсь вам сегодня будет интересно поговорим про установим общий контекст что такое в принципе себя представляет в целом мини-приложение как вот какая-то единица - это небольшая программа функционирующая на базе соцсетей или большой какой-то it платформы они предлагают пользователю решение проблем и его задач через режим одного окна тренд который сейчас восходящий он там идёт с Китая наверняка все слышали про ВиЧат и про его безграничные возможности и вот у нас в целом это тоже довольно Бодрая история это в том числе растущий рынок труда большое количество разработчиков приходят и делают свои мини-приложения и если рассмотреть классические приложения ими все пользуются все присутствующие в зале наверняка а пользуются там своими какими-нибудь стора апстора Плеймаркета Рами в конце концов и как это выглядит Да мы качаем приложение устанавливаем его регистрируемся логинится привязываем карту и потом можно пользоваться с мини приложениями попроще Мы заходим там например в соцсеть ВКонтакте в мобильную или веб-версию открываем мини приложение и всё пользоваться можно в целом мини приложение как платформа ВК Min предлагает там кроссплатформенную разработку быструю лёгкую без скачивания регистрации sms и доступна многомиллионной аудитории ВКонтакте говоря про многомиллионной аудиторию э я могу сказать что это не просто слова 45 млн активной аудитории в месяц у в ВК мини приложений и настолько это удобно стало что и внутренний сервисы ВКонтакте часто разрабатывается как вот часть мини приложений можно посмотреть там на такую схемку небольшую это абсолютно Малая часть того что у нас есть да это там ВК знакомства шаги активити прочее прочее это всё мини приложение и наверняка даже если выми не пользовались мини приложениями вы ими пользовались даже если не знали об этом вот Давайте поговорим Какие сложности у этих мини приложений Они не работают без интернета да В отличие от классических без интернета ими пользоваться не получится на iOS не получится продавать цифровые товары и для того чтобы попасть всё-таки своим мини приложением в каталог нужно будет пройти модерацию и Семь кругов а тестирования Где на вас нападут человек 200 300 тестеров и будет ваше приложение в до рассматривать Если же вы заинтересовались разработкой для Люде человеческим языком Приходите Пользуйтесь и ждм себя в каталоге вот когда мы обсудили Что такое мини приложение предлагаю вернуться к аналитике и поговорить собственно про неё современные аналитики в своей работе используют какие-то современные инструменты кликхаус Ду постгрес и так далее и так далее но так было не всегда механизмы такие как карты Таро гадание на кофейной гуще шар где можно было предсказать будущее и прочие прочие показатели вот допустим рассмотрим такую карту може можетли кто-то предположить что по ней можно предсказать не переживайте мы не древние аналитики Тут нужно просто воспользоваться определёнными знаниями и если под правильным углом посмотреть наложить одно на другое может быть сказать что дау Мау Будут расти вот Ну в целом сейчас хочется пользоваться наверное какими-то более современными технологиями и чем-то более интересным и Давайте арису задачу В общих чертах чего хочется добиться а добиться хочется нам следующего это отследить действие пользователя от клика по мини приложению до выхода из него уметь разделить сессии пользователя полноценно понимать где он вошёл где он вышел и как это происходило не просто как-то сплош ком это всё отслеживать а именно каждый раз понимать что это новый вход и новое использование нам нужна надёжная доставка данных аналитики до бэнда и соответственно дальше в базу и нам нужно быть уверенными что эти данные правильны и надж обсудим особенности аналитики вообще вот в мини приложениях в целом И в частности и ВКонтакте в целом Да особенности у нас следующие аналитика она аккумулируется и может прийти не сразу А через какое-то время то есть нет какого-то определённого ограничения она может прийти через час там или через 10 минут через 5 минут или через час через два через неделю то есть пользователь пользовался например на клиенте на IOS или на Andro какими приложениями закрыл ул и вернулся через неделю только тогда мы эти данные получили это такая вот особенность которой нужно работать просто то есть здесь мы ничего не поменяем это есть далее У нас нет событий нет нет сессии есть только события то есть Клик таб переход куда-то Вот только так эти события нужно как-то вот представить в виде сессии и сбор статы основан на разных механизмах у и у мобильных клиентов и у Веба есть определённые механизмы и самый такой простой понятный - Это обычное событие вот если ОТК открыть своё какое-нибудь приложение в контакте куда-нибудь нажать и вот Клик какое-то действие это будет обычный ивент он летит к Бэн мы его там обрабатываем как-то это вот самая классическая история а но есть и более сложные штуки такие события как Navigation То есть когда пользователь переходит с одного экрана в другой Когда открывается какое-то меню а клиент мобильный iOS Web и так далее они порождают события которое мы называем Navigation и у него есть определённые поля такие как Go now Go или nowb то есть пользователь перешёл куда-то или пользователь вернулся откуда-то то есть по кнопке назад по свайпу вправо он вернулся имы трека также мы знаем куда пользователь перешёл откуда пользователь перешёл и там ещё куча куча другой мето информации и на основе этой мето информации мы можем принимать решение породить какое-то ещё дополнительное событие одно д три и так далее ну и в чистом виде его тоже записать для будущих поколений так скажем и всё это потом положи в кликхаус и будет там ждать Когда аналитик придёт и разбираться с этим вот это вкратце про разновидность того что есть про особенности с чего же Мы начинали наше вот Путешествие к надежной аналитике изначально так получилось что начали потихоньку потихоньку затаскивать какие-то мелкие части но всё это складывалось в одну картину вот не складывалось в одну картину по определённым обстоятельствам вот предлагаю их сейчас обсудить отсутствие единой терминологии Я говорю не просто так если я скажу Вам слово сессия Сможете ли вы однозначно идентифицировать о чём я сейчас говорю наверняка каждый может перевести как минимум три-четыре а то и больше понятий Что под этим может скрываться под словом сессия и у нас получается тоже так было и были долгие споры о том что же это как это интерпретировать аналитик это понимает по-своему Кэн разработчик по-своему мобильный разработчик по-своему и найти единою точку соприкосновения было сложно а пока вот не получилось О чём говорится то есть отсутствие единой терминологии - это проблема а непрозрачность расчёта длины этой сессии То есть как она должна считаться какое-то понимание этого тоже нужно было сформировать но из-за того что не было единого видения пришлось об этом тоже поговорить и признать эту проблему дальше есть проблемы с надёжностью доставки событий и вот если есть такая история с надёжностью доставки не всегда понятно то ли событие не произошло то ли оно потерялось и с этим довольно сложно работать потому что ну начинаешь не доверять Вот и у нас есть четыре платформы Да мобильный iOS Android и там четыре способа отправки этой статы они исторически разные переписывать их возможности нет потому что это огромный Пласт работ и с этим нужно Ну работать просто просто принять это и как-то переваривать суммарно это выполняется вытекает в то что это непонятная и ненадёжная история и аналитику с этим было сложно работать и если бы мы этого аналитика где-нибудь встретили и попытались фотографировать л бы наверное примерно так то есть взгляните в эти глаза Они явно не выражают готовность к контакту вот битые события собирать в одну сессию Это довольно проблемная история А для того чтобы понять Э что мы пришли в нужную точку нужно эту точку обозначить Вот для этого нужно поплавать к планированию соответственно мы дальше и переходим значит первым делом как я говорил Нужно определиться с терминами и с понятиями значит что такое сессия мы это выделяем как активное время использования этого самого мини-приложения от того как пользователь получил условно первый там бит данных до того как он закончил использование и ушёл потом у нас есть такое событие как Launch когда пользователь просто таппл на приложение кликнул и так далее вот он ещё ничего не получил но пра взаимодей ствол это начало потом есть какой-то S где уже какой-то Первый БИТ получен и вот этот люфт между ланч И сеш стартом это вот такой перфоманс когда вроде бы уже какое-то взаимодействие произошло но и полезного ещё ничего не увидели и есть какой-то парт То есть это активное время использования этого приложения То есть если пользователь свернул там заблокировал телефон такое время мы не можем назвать активным и не можем сказать что он им пользуется То есть он как бы там но не сильно там активничает поэтому засчитывать это за сессию мы не можем далее есть такое событие как Session где это событие нам говорит о том что пользователь ушёл и всё больше не взаимодействуют с нами и есть такие поля как Session duration это вот длина сессии во времени или части или всей сессии целиком есть дишни этой сессии то что все эти сессии все эти события объединяют какую-то одну составляющую то как мы можем понять что вообще произошло и Вокруг этой вот вокруг этих событий как их в одно повязать вот после того как мы какую-то патину модель для себя организовали нужно немножко порисовать порисовать схемки порисовать как мы эту аналитику видим да И конечно сделать аналитику классно но для начала Давайте её обрисуйка тут условно это можно разделить на три таких слоя что мы собираем Что делает пользователь и что мы хотим видеть в аналитике собственно Значит мы собираем различную мето информацию это точка входа это время какое там пользователя это дишни сеси платформа мини приложение Какое и вот всё-всё вокруг а пользователь в это время просто тану на иконку приложения а мы уже собрали и пытаемся как-то это запихнуть у себя в видим Вот это событие лон о котором я говорил и начинаем собирать весь перфоманс что дальше может произойти А дальше мини приложение не открылось то есть пользователь дальше не продолжен с ним какую-то коммуникацию здесь мы должны собрать фонс что Сколько времени прошло Мы должны понять действие пользователя для чего это для того чтобы сделать выводы то есть слишком долго отдавался контент сервера и пользователь просто не дождался или ему стало неинтересно и он закрыл Там кликнул и так далее То есть это тоже важно понимать если у нас есть проблемы с производительностью это нужно решать и аналитика нам помогает разобраться вот здесь есть это действительно так или нет Вот и в аналитики мы видим перформанс метрики и не видим начало сессии согласитесь если она ненадёжная то Вот начало сессии можем не увидеть по разным причинам там событие потерялось где-то в сети вот когда мы доходим та-то оден бы другая часть сценария для нас наиболее прият Да когда пользователь продолжил пользовать мини приложение тут мы собрали всю ту вокруг информацию которую я уже Обозначил сессии платформа приложение так далее и пользователь активно им пользуется в аналитике мы видим то есть сессия произошла пользу кото должен бы получить и уходит мы собираем куда он ул приложение параметры и так далее всю э ме информацию о которой я рассказывал и в аналитике мы видим событие как маркер завершения и се парты когда пользователь активни с этим приложением взаимодействовал если представить это на жизненном цикле каком-то вот на таймлайне то есть се как всё целиком и есть парты как части именно активного вмо действи То есть если рассмотреть на примере игры пользователь сажает помидоры Это активное время это сер потом покани зреет он свернул приложение ушёл погулял вернулся собирать урожай И вот опять это S парт новый То есть вот именно конкретно активное взаимодействие А пока он отдыхал мы такое не засчитываемые спринта упаковать и попытаться понять Вообще можем мы это всё затащить То есть то что планировали это хорошо но релизу ли оно вообще и когда вот всё разложили посмотрели поняли что Да Действительно это можно затаскивать Ну дело пошло к тому что всё это затаскивает подбираем к всей этой техни ко всему этому местному что было внутри На какие грабли мы наступили и попытаемся сделать так чтобы вы на них не наступили если будете затаскивать к себе ВС дело проблема чех у нас как я говори уже неоднократно платформы это web мобильный веб Android и iOS и они хранят аналитику по-разному они собирают аналитику по-разному они отправляют её по-разному и в целом эти все платформы они по-разному устроены это такая данность с которой приходится по сути смириться из-за того что ну оно так исторически сложилось и настолько это глубоко уже в инфраструктуре что переписать это в целом Ну не представляется возможным нужно просто это принять сделать выводы и дальше работать вот и наверное такая первая проблема с которой мы столкнулись - это несвоевременное получение объекта этого мини-приложения и потеря ID сессии изначально мы спроектировали так что вот этот дишни он генерирования в такой текущий момент вот Подпиши сессию пожалуйста вот так и самая основная проблема в данном случае была в том что вот мы могли этот объект подшить и иногда подшить Достаточно долго и сессия вместо того чтобы становиться там какое-то разнообразное могла быть просто очень длинной в разрезе дня или нескольких дней и так далее То есть просто каком с каким-то сплош ком шло Вот это была такая достаточно серьёзная проблема которую нужно было решать но решение пришло довольно органично мы передаём ответственность за генерацию айдини на клиента то есть у наче клиента чтобы долго не придумывать как это сгенерить мы используем ID довольно понятный проверенным временем механизм единственно отличие наверно из от стандартного ID в том что на бэнде Мы это ширу в число для того чтобы поддержать обратную совместимость потому что изначально эти шники были обычными числами целочисленными значениями чтобы даже борды не поломать обратно в число ширу и совокупно с платформой пользователем днм получаем довольно уникально поняти И тем самым можно эту сессию разделить в промежутках между днями понимать где пользователь когда зал и что сделал И это получилось настолько удобно что мы можем подписывать не только вот какие-то основные события жизненного цикла сессии но и всё происходящее вокруг в целом получается так что мы чётко знаем когда пользователь какие-то события вокруг этого его рабо сложением разворачивались что Былое сла слала наша библиотека ВК Bridge которая вот для мини-приложения работает Какие перфоманс метрики в этот момент собирались и так далее и так далее Всё это чётко мы можем понимать Вот и работать с этими событиями как с одной действительно полноценной сессией вот а пользователь может закрыть Клиент не выходя из мини-приложения А если с аом и Андроидом тут ээ всё более-менее понятно там есть события какие-то которые чётко прослеживаются с вебок всё посложнее немножко А изначально мы как рассчитывали возьмём события будем эти по событиям от браузера от клиента писать что-то в Store накапливать информации потом слать план надёжный надёжный как швейцарские часы но натыкал вебе события приходят далеко не всегда Например если браузер свернуть а потом операционка решит почистить память потому что она там закончилось об этом мы никогда не узнаем он браузер выгружается из памяти и всё то есть такая информация в целом нам недоступна Окей У нас есть попрежнему можем в него скидывать данные какие-то события вс-таки там сворачивание разворачивание мы получаем Ну вот тут chome как самый популярный браузер преподнёс нам интересный подарок наверняка этим браузером пользуются все присутствующие в зале я в том числе и Какая история данные записываются ВУЗ данные события что я свернулся или я закрываюсь мы говорим Окей Вот вот эти события Запиши в р CH говорит Окей я записал потом пользователь возвращается в Chrome Открывает его мы говорим отдай нам данные из стора он говорит А какие данные а там ничего нет а получается так что Chrome перед тем как свернуться вды данные на диск сворачивается и всё и на этом работа со стором заканчивается но он об этом ничего не сообщает говорит данные успешно записываются но нет данные Не записываются мы принесли в CH баг они должны были его починить говорит мы починим Ну там месяц прошёл два прошло ничего не произошло Мы конечно хотели бы пользоваться Но получается что вот ВСети механизмы они не сильно надёжны не беда У нас есть Старый проверенный Дедовский способ таймер пишем стор по таймеру ка каждые 10 секунд Мы скидываем в стор информацию и в итоге это получается достаточно надёжно и не нагружает девайс операционку никак не аффект браузер всё работает так как должно работать иногда старые механизмы они в том числе имеют место быть и к ним тоже можно не стесняться прибегать действительно классно использовать и современный но бывает так что они подкладывают нам не то что бы мы хотели вот поэтому не забывайте и про такое Далее для того чтобы данные всё-таки как-то дослать мы используем бе канапе это основанный на жава скрипте интерфейс для отправки Ну небольшого количества данных без подтверждения от сервера То есть когда браузер всё-таки какие-то нам данные там шлёт какие-то события мы можем отправить чуть-чуть данных на БК БК их примет но при этом нам не обязательно дожидаться и браузер никак не будет нас в этом плане ограничивать то есть закрылся свернулся неважно эти данные улетели уже и дальше мы можем всё-таки то что не получилось дослать то что не получилось отправить подписывать временными метками хранить всё же в этом сторе и при необходимости дослать на backend вот то что протухло если мы понимаем что уже пора доки ды и переобувать в воздухе план из предыдущего получился таким что мы отправляем через бек напи значит пишем историю в стор по таймеру и досылатель зова разрядился девайс выключился неожиданно ноутбук его телефон или свет потух где-нибудь в квартире мы данные потеряем максимум за 10 секунд Действительно получилось надёжно и так как мы хотели и то что механизмы сбора на всех платформах устроены по-разному это действительно факт данность и с этим нужно работать и как-то следить за консистентность А как можно следить мы покрываем тестами внезапно такой механизм Вот и даже в случае когда мы это всё решим рифа и перейти там от каких-то разных механизмов к одному у нас уже есть тест для того чтобы всё это отследить и ничего не уронить в целом рефакторинг обычно начинается с тестов если они есть Это уже хорошо А какой результат В итоге получился в итоге мы имеем единый словарь терминов по аналитике мини приложений мы можем чётко говорить на одном языке и выбирать собственно решение основываясь на одном на одной понятийной модели У нас есть какая-то понятная схема аналитики которая может использоваться для постановки задач разработчиком для постановки задач на написание тестов и как за эталонную модель то есть мы чётко понимаем А с чего всё начинается Какую информацию Мы собираем и что должны видеть Если это не так значит что-то сделано написано неправильно мы можем апеллировать вот этой схемой и как результат мы получаем надёжную аналитику на которой можно положиться и карты Таро нам больше не нужны в целом Если же вам нужны я могу разыграть колоду за лучший вопрос кому это необходимо Ну даже если необходимо они нагадали сымитировать Олег спасибо те замечательно за доклад подарок от нашего спонсора Газпром нефти до того как ты вручишь свой подарок мы вручаем тебе Да у меня есть ещ подарок от ни приложение ВК у нас коллеги три подарка Не забывайте голосовать доклад остав обратную связ сти с ма докладов и у нас первый вопрос да спасибо большое за доклад Олег очень интересно хотелось бы во-первых понять про бина вот Классная штука мы тут начали потихоньку её внедрять тоже и делаем замеры по потерям данных Там они некотором проценте есть Возможно вы замеряли интересно вашу статистику узнать какие у вас потери Ну я могу сказать что по сравнению с тем что было там наоборот прирост наверное 48% То есть если условно какой-то момент в мобильном ве би потере могли доходить до 50% то сейчас там ну где-то процента два теряется Вот два-три вот так Угу я понял Ну вот у вас в основном какие-то новые браузеры получаются клиенты встроенные Да внутри Если говорить про клиентов то да Там мы всегда следим за актуальностью вот этих встроенных браузеров нет браузеры клиенты имеется в виду там Google Chrome и прочее а нун он как бы не вчера был придуман Поэтому в целом достаточно можно положиться на то что У пользователя скорее всего Ну достаточно свежий браузер для того чтобы этот Бен там был Вот пока не встречали такого что вот он летал но возможно 23% Они как раз вот на это уходят коллеги Мне кажется это отличная тема для дискуссии в кулуарах и у нас следующий вопрос Да я Александр Олег спасибо за доклад два небольших вопроса Первый сколько заняло внедрение всей этой системы мониторинга в продакшн там полгода год 9 месяцев на самом деле не так долго какая-то часть уже была написана Её надо было просто модернизировать и привести дольше всего на самом деле заняло наверно именно момент планирования и договорённости всех Вот это вся сотовая история суммарно наверное месяца 4-5 Вот так да спасибо И второй вопрос А как вообще бизнесу объяснять Зачем нужно то что вы делаете то есть есть какие-то бизнес метрики которые вы смотрите что-то принесло Не знаю плюс 10 чего-то рублей компании или какие-то другие эффекты экономические учитывая что это продуктовая аналитика по сути она для бизнеса и сделана объяснить Это была всегда достаточно просто то есть с помощью вот этих данных мы можем чётко понимать Становится лучше наш продукт или не становится и когда аналитика вот кривая такая битыми какими-то событиями приходит их Невозможно нормально интерпретировать это честно говоря хуже чем если бы её не было совершенно то есть полагаться на данные которые ты не доверяешь действительно картами Таро раскинуть Ну тоже самое будет примерно и бизнес тоже чётко понимает что для того чтобы мы что-то могли посчитать там результаты А и так далее и так далее нам нужно данные на которые мы готовы положиться если аналитик там не подпишется под этим соответственно Ну дальше ходить это впро рискованно мы не можем понять там уронит оно или не уронит Понятно бизнес - это тот наверное кто выступает заказчиком в данном случае даже Олег вопрос от меня а какой у вас rpc сколько вы держите на нагрузку от клиента по приёму статистики А клиенты rpc не подскажу Вот но чётко могу сказать что мы не шлём вот каждую событие вот realtime эти события собираются как я говорил в пачке И очеред отправляются вот поэтому как раз из-за того чтобы не Положить ни сеть ни какие-нибудь сервера это всё упаковывается по частям и на вебе и на клиентах но с вебок Тами действительно может быть несколько там часов дней и так далее А что произойдёт если в момент отправки пачки дата центр у вас не ответил скорее всего она потеряется вот нет механизма для повторной переотправить Ну потеряется какая-то часть данных Да не так критично на миллионах событий честно сказать чтобы вот прям расстроиться согласен на следующий вопрос Да я хотел задать У меня два вопроса один чуть косвенно связан другой напрямую Начну с того который чуть косвенно Ты рассказывал про аналитику которая строится аналитика это вские время после того как происходит события А есть ли у вас какие-то более реалтай мовы метрики которые вы строите на основании вот этих аналитиков чтобы в реальном времени понимать как работает ваш пользовательский опыт вот прямо сейчас чтобы Если у вас есть подозрение на инцидент вы могли сказать да или нет Ну всё-таки наверное инциденты они из других показателей рассчитываются То есть у нас есть конечно логи есть какие-то замеры по изменению именно как поведения там продакшена и прочего прочего есть определённый механизмы которые сообщают если что-то идёт не так если показатели по там запуску по событиям которые мы ожидаем получить отличаются от того что мы сейчас видим вот приходят э соответственно уведомление Что нужно что-то разбирать нужно что-то смотреть а дальше мы уже смотрим Что там движки с боят Или какие-то действительно сложности в проде что-то катнули и вот что-то пошло не туда вот аналитика она ВС же рассматривается как постфактум да ретроспективно то есть мы проводим об о длится например месяц и по результатам этого мы смотрим что-то там упало Да там например или количество запуска упало или наоборот выросло и там тогда выбираем победителя вот наверно там день-два можно посмотреть Всё ли идт хорошо Да просто как примеркой метриз для замечательной отличной дискуссии тогда второй вопрос он покороче как известно есть разные инструменты например Google anals который раньше использовался для подобных Ну для аналитики пользовательского опыта А когда вы внедрили своё решение Вы сравнивали показатели Я боюсь что Google анали никогда не был там применим ВКонтакте с его объёмами вот и утем более с тем количеством событий у коллеги Google аналитика - Это другая история и у нас следующий вопрос Привет ой привет Спасибо за доклад У меня два вопроса Первый вопрос Если вы унифицировать понятие сессии получается ли сейчас считать кроссплатформенное сессии а скорее Нет потому что на каждой платформе сессия своя то есть пользователь который использует мини приложение на iOS он его продолжает там использовать А если он дальше уходит там Это уже другая сессия он там Заново взаимодействовал там с иконкой с петом полностью там создалась сессия заново и заново он всё это делает то есть прямо вот Крос платформи нам не интересно смотреть то есть нам Интересно смотреть в разрезе конкретной платформы как он работает во сния лёта раз Работаете С вебок сказали они там через месяц бывают закрыли приложение а потом через месяц до лёт Ну данных Пришёл вот и мне интересно как вы с продуктами договорились о том каков вот этот трешхолд времени дол события вот что Ну например сессии Да вы считаете И вам нужно дать аналитический отчёт по количеству сессий за там 2 часа или за 3 дня или за ещё какой-то промежуток времени и вы говори что этот отчёт будет консистентных часов все дол в сессию вы не будете считать таковыми сейчас понятен Да сейчас это день условно У нас есть механизм который сессия которая не закрыта закроет вот типа такой получается причём он закроет не какой-то длинным или рандомным этим Рем А с тем который был на момент последнего события считаем пользователь дальше просто не пользовался этим приложением если оно не прилетело ну никакая информация от него не прилетела вот то что прилетит через 2 недели Ну просто не будет уже учитываться то есть вот мы выбрали себе сутки правильно понимаю что получается актуальная аналитика только будет доступна на следующий день Ну она будет доступна и в этот день просто на следующий день можно будет уже посчитать там со всеми сессиями закрытыми в том числе которые могли быть не закрыты по каким-то причинам то она будет консистентной день а частично консистентной день Спасибо А наверное последний вопрос от меня А вы всё равно с клиента эти данные про сессию более суто шлёт и их уже откидывать на все сервере или вы их не шлёт так ещё раз я воспользовался приложением я его закрыл так запускаю приложение через неделю ты чуть ранее сказал что данные которые старее дня вы уже не вос принимаете прилетят Всё равно всё равно прилетят всё равно нагрузка у вас будет Да ну какая-то нагрузка будет Да но это такой прям незначительная какая-то история которую можно будет проигнорировать и в случае как с нагрузкой так и с расчётами Спасибо тебе за ответы и тут наверно самый вопрос у нас три приза первый приз от тебе так давай Значит на молино карты Таро я разыграю вот молодому человеку я уверен что ему нужно Прошу выйти нам Я прошу вас остаться на сцене у нас второй вопрос от компании ВК вернее ВТО при моло человек вот в Белом там задавал вопрос интересный тоже давай и Прошу вас выйти на сцену был ещё парень здесь с вопросика по-моему ты белый и чёрный и и Янь вот бе сегодня уникальная ситуация мало количество людей на сцене пожалуйста у нас кто-нибудь будет на память щёлка всё коллеги Всем спасибо за вопросы Спасибо тебе за доклад"
}
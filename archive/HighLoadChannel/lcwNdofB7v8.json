{
  "video_id": "lcwNdofB7v8",
  "channel": "HighLoadChannel",
  "title": "",
  "views": 0,
  "duration": 0,
  "published": "",
  "text": "Да всем привет Спасибо что Несмотря на то что это были два таких сложных насыщенных дня вы все собрались и сегодня пришли меня послушать это прямо очень здорово спасибо вам всем А меня зовут Антон Да я работаю в почте mail.ru и занимаюсь м и Сегодня я расскажу вам как мы используя поведенческий научились быстро находить взломы и О да кликер сори поехали наш план сегодня следующий начнём мы с краткого ведения Где где я расскажу про нас чем мы занимаемся расскажу про что Что такое взломы вообще зачем взламывают злоумышленники ящики и расскажу про нашу первую систему которая по по поведенческому эмбеддинг я расскажу что это такое и как его можно использовать для различных задач которые связаны с с поведением пользователя а также а расскажу как мы обучали нашу первую модель на основе Гру затем будет большая часть про инфраструктуру где я расскажу как Мы научились быстро пересчитывать эмбеддинг чтобы он был постоянно в актуальном состоянии и в следующей части я расскажу про то как мы переходили от модели на основе Гру к моделям на основе Трансформера и завершим всё итогами и выводами поехали начинаем с ведения начали так как я уже и сказал Я работаю в команде машинного обучения почты и наша главная задача если её жать до одного предложения это мы делаем умную безопасную почту без спама в команде у нас три направления Первое - это антиспам который отвечает собственно за почту без спама и здесь ребята занимаются тем что борются за чистоту папки входящих и пытаются придумать всевозможные способы как бы обойти спамеров как бы сделать ящик более чистым следующий управление - это продуктовый э ребята из продукта делают почту более умной а также взаимодействие пользователя с почтой более простым и удобным и последнее направление в котором работаю я это интегрити оно занимается тем что занимается вопросами безопасности в почте в том числе блокировки ботов и Ломов несмотря на на то что у нас одна большая команда и много Крос командных проектов и общий инструмен инфраструктура есть важное различие в основных доменов антиспам и продукт в первую очередь занимаются письмами то есть там главной сущностью на которой срабатывает модели является письмо текст письма который нужно категорированных занимается в ящике давайте сделаем краткую сводку того чем Ну о пользователях почте А всего в почте пользователь может совершать около 300 действий это всякие прочтения отправки логины логау поиск в почте входит сюда и многое другое а всего у нас в день примерно 60 млн активных пользователей это не дау так как здесь нам интересны все пользователи в том числе и бо и все эти пользователи герт около 75000 действий в секунду да В итоге действий получается реально много и нам как команде интегрити нужно их как-то анализировать и наша основная на основная задача - это разделить всех пользователей на три группы Первое - это обычные пользователи второе боты и взломы про ботов можно отдельно говорить это одна большая тема со своими интересными штуками поэтому мы и про них сегодня Говорить не будем а остановимся именно про остановимся именно на взломах взломы в почте Зачем вообще злоумышленники с какой целью взламывают ящики мы выделяем три основные причины Первое - это кража личных данных из Из ящика второе - это кража сторонних сторонних аккаунтов которые привязаны к ящику это всякие биткон кошельки аккаунты Стима и прочее прочее и третье - это рассылка спама по адресной книге всяких мошеннических писем с целью получить деньги вот наша первая система которая блокировала взломы называлась машал А это был 2015 год и собой представлял Маршал а крон жоб которая На горизонте суток находила взломы и всё это было в офлайн в оффлайн режиме основная идея Маршала была в паттерн майнинге А про паттерн майнинг У нас есть отличная статья на хабре которым можно почитать и вдохновиться А идея Патер майнинга заключается в следующем что мы пытаемся за детектировать смену поведения и на основании этого найти взломы я сейчас кратко опишу В чём основная идея То есть у нас есть пользователь мы по нему строим его Профиль то есть в профиль входят в те цепочки действий э которые на наиболее типичный для пользователя каждой цепочке У нас есть число которое говорит нам насколько эта цепочка типична для пользователя Насколько часто он совершает эти действия в почте далее пользователь совершает новые действия у него новая сессия и мы берём профиль действий и берём новую сессию и сравниваем их между собой считаем расстояние оде определённым способом и получаем подозрительность данной цепочки идея такая что злоумышленник когда взламывает ящик Он меняет поведение в ящике и поэтому э если ящик взломан то его подозрительность будет большая а расстояние от профиля будет тоже большим собственно мы берём полученную подозрительность а также всевозможные счётчики по действиям которые можно посчитать в ящике На горизонте суток и всё это вместе собираем и подаём в ML модельку которая определяет нормальных пользователей и пользователей которые взломаны всё задача решена но понятное дело были свои проблемы во-первых всё считалось очень очень медленно так как это хадуп это кронборг нескольких часов и А мы хотели блокировать взломы как можно раньше Почему да Потому что если мы не заблокирую злом сразу то как бы злоумышленник уже свору ет нужные данные ему и нанесёт вред аккаунту поэтому здесь как бы мы хотели намного быстрее вторая проблема касается уже не технической а именно паттерн майнинга она заключалась в том что для того чтобы построить хороший профиль пользователя оказывается нужно чтобы пользователь совершал очень много действий то есть был активным в почте А если он совершает действий мало то как бы и профиль строит не начем собственно это тоже была проблема пока что мы оставим проблему технической части то что мы считаем медленно Мы к ней вернёмся Потом давайте мы в первую очередь остановились на том что чем бы можно ещё обогатиться какими ещё признаками чтобы находить взломы более эффективно перейдём к поведенческому эмдин Но прежде Давайте начнём разговор об динга с одной с одного интересного наблюдения вот смотрите с одной стороны у нас есть тексты на естественном языке какие-то предложения с другой стороны у нас есть цепочки действий пользователя в почте И если присмотреться то можно как бы видеть в них чёткую аналогию между предложениями на естественном языке и цепочками действий на так называемом языке поведения так вот что это такое за язык поведения и какие у него есть особенности Ну во-первых в нём не очень много слов около 300 то есть сколько действий в почте столько у нас и слов и в отличие от естественного языка этому языку присущая мультимодальной Что это значит что каждому действию э каж с каждым действием ассоциированы дополнительные данные это геопленет быть раньше чем создание ящика так Ведь так ну и у каждого пользователя есть свой авторский почерк который состоит из тех действий которые наиболее типичны для него которые он совершает Ну чаще чем другие вот собственно так как это язык и язык поведения то кажется что можно использовать методы NLP которые широко распространены и которыми мы как как команда антиспам которая анализирует текст умеем хорошо пользоваться так вот мы и подумали А что что если мы обучим поведенческий эмбеддинг вот да и наша первая модель которую мы обучали была следующая На основе Это был автокор на основе рекуррентных сетей и на основании и в нём основной моделью было однослойное ГРУ это был 2019 год тогда это было очень Ну не то чтобы мейнстрим но было прикольно тем более Гру она читалась довольно быстро и обучалась быстро и вообще было использовании поэтому мы решили А почему бы и нет как происходило обучение брали большой корпус цепочек уникальных действий точнее уникальных цепочек действий далее берём цепочку дополняем её стартовым и конечным токеном по каждому токену считаем Дин по одному прогоняем через энкодер на выходе у нас получается скрытое состояние кото контек собственно контекст мы передам в декодер при помощи этого контекста декодер будет раскодировать должен раскодировать нашу цепочку подаём в декодер начальный токен получаем динг снм контини контекст подаём в декодер и получается после этого снова берём же тот самый контекст и скрытое состояние декодера подаём в линейный слой и получаем Вуаля следующий токен последовательности Да ну и теперь понятное дело должны подать его чтобы получить следующий токен здесь мы используем обыч общепринятую технику форсирования учителя то есть мы в половине случаев подаём предсказан ную на предыдущем шаге токен А в половине случая используем действие которое было из изначальной цепочки и таким образом восстанавливаем всю цепочку из контекста пока не дойдём до конечного токена вот вся эта связка энкодера и декодера обучалась при помощи Крос энтропии где мы штрафовали за отличие от изначальной цепочки действий как только обучение мы завершали мы оставляли только себе энкодер декодер нам был больше не нужен а контекст мы использовали в качестве эмдин пользователя и оказалось что несмотря на такую вот простую природу он оказался полезен в том числе для блокировки взломов как у нас теперь была устроена работа мы брали все те же самые старые признаки добавляли к ним эдинг и собственно блокировали взломы и всё как бы всё неплохо так работало на самом деле как считалось брали также ежедневную крон жоб которая в ходу брали чами прогоняли на одной машине с ГПУ и получали эмбеддинг А эмбеддинг собственно Мы помещали в два места снова в дуп где Маршал мог их забрать и использовать для классификации взлом не взлом а также в ris cler где разные наши онлайн системы могли использовать как обогащение к своим признакам например мы добавляли динг поведенческий к письму и это Учалов Уша распознавание спама вот в целом всё было неплохо но были свои проблемы модель оказалась реально неплохая но уже в то время появились Трансформеры и мы их уже пробовали в текстовых задачах и понимали что в целом можно сделать модельку поумнее Да и получше но это позже ключевые же проблемы были всё те же что и в маршале считалось всё довольно долго 3-4 часа э и получается новые действия пользователя которые он совершал прямо сейчас здесь и сейчас они отражались в М бединге только через сутки то есть когда мы обновляли эмбеддинг это было очень долго и поэтому мы хотели пересчитывать эмбеддинг намного чаще а вторая проблема заключалась в том что вся эта система с с крон жопами ходу пом и оффлайновый обработкой событий Она уже довольно-таки устарела и мы хотели чего-то нового чего-то чего мы раньше не не делали например поделать микросервисы Да Несмотря на то что мы ML команда которая живёт в этом цикле данные модель обучения и вот это вот всё Мы тем не менее любим заниматься кэндо любим развиваться в чем-то новым и пробовать себя в этом мы подумали ну Давайте попробуем спроектировать систему пересчёта эмдин которая будет делать это быстро собственно переходим к самой инфраструктуре мы задумались как бы вот нам отойти от нашей старой парадигмы и придумать такую систему где динг можно считать Ну каждые несколько секунд минут вот что-то вроде этого после обдумывания мы составили для себя ряд требований и свойств которым должна удовлетворять наша система в первую очередь система должна быть на питоне потому что это основной язык который мы знаем применяем второе эмбеддинг должен пересчитывать раз в 60 секунд 60 секунд здесь это такая ориентировочная цифра потому что в целом Мы хотели чтобы системам позволяла улучшаться убыстрить до пересчёта каждые п-д секунды А вообще в идеале на каждое действие пользователя далее наша система которую мы проектируем должна была мочь обрабатывать весь наш поток действий а также самое главное быть масштабируемой потому что действий у нас больше пользователей ВС больше совершают действия они тоже больше и мы должны как-то уметь с этим бороться быстро и безболезненно Кроме этого мы сразу знали что мы будем заменять нашу Гру на Трансформеры поэтому мы мы шли вначале с моделью грешной но хотели так чтобы система была построена Так что в будущем Мы можем заменить ру модель на Трансформеры Ну и последнее свойство которое тели она была простой чтобы все компоненты были простыми чтобы любой разработчик даже без опыта в энде мог взять в ней разобраться и написать какой-нибудь дополнительный Новый сервис так Понятное дело что чтобы спроектировать такую систему мы поняли нужно что-то новое Раньше у нас все действия хранились в дупе это были такие большие фай Где на каж Кени мы поняли что нужно от этого отходить И что-то принципиально новое наш мы сделали следующий шаг мы начали дублировать все действия которые у нас пишутся в ходу в отдельный топик в кафку кавка сейчас довольно популярная система по обмену сообщений И что самое классное что она обеспечивает классную масштабируемость при помощ разделения топика на множество партий уже пользователя у нас попадали в одну партиции так как у нас userid использовался как ключ в сообщении в кафке и так как Кафка нам даёт гарантии что все сообщения в топике будут обработаны хронологически мы могли читать действия пользователя и как-то обрабатывать их в хронологическом порядке как только у нас появляется кавка с пиком с действиями Мы в тот же самый момент Можем написать какой-нибудь простенький питонов ский сервис который будет состоять там из N реплик и каждая реплика будет обрабатывать свою партиции и как-то как-то читае действия чтото с ними делать так как с сервисом могут возникнуть какие-нибудь проблемы внештатные ситуации Ээ это не страшно если там часть консьюмер упадёт потому что кавка классно сама всё за детектив и если надо перебан сиет партиции чтобы все они обрабатывались и читались для того чтобы ускорить обработку событий мы вычитывать не одно действие из топика а Целый батч как только батч был обработанным сервисом сервис комител офсет в кафку для того чтобы её уведомить о том что мы обработали столько-то саво быти и если вот здесь происходила какая-то в нештатная ситуация мы могли комит не за точнее мы могли офсет не закоммитить А и таким образом одно и то же действие может обработать дважды далее нам это нужно было как-то учесть но пока об этом Ну запомним об этом вернёмся позже далее вот у нас есть в кафке топик с действиями классно но нам нужны не просто вот действия в кафке нам нужны прямо цепочка последних действий для каждого пользователя мы задумались где такие действия можно хранить и Как поддерживать эти вот постоянно актуальных последних действий км данных можно использовать ключом в ней должен быть User ID а для каждого пользователя мы должны хранить N последних его действий и если приходит новое действие то мы должны его добавлять в цепочку Если же мы превышая наш лимит N максимальное количество действий то мы должны более старые действия каким-то образом вытеснять а новые добавлять в цепочку как мы уже говорили сервис может не закоментить офсет и получится Так что мы обработаем одно и то же действие дважды и А если мы его обработаем дважды то оно дважды ставится в цепочку этого мы не хотели допускать Поэтому нам было было важно чтобы вставка цепочку была идемпотентность на редис кластере по двум причинам во-первых в нём много разных структур данных которые позволяют пересчитывать которые могут позволяют строить цепочки действий и второе - это масштабируемость и отказоустойчивость которая которая является классным свойством дис кластера А в качестве структуры данных для цепочек действий очевидным очевидным выбором были связаны списки конечно же Но они нам не подходили потому что как раз-то они не удовлетворяли свойству идемпотентность в список можно вставить одно и то же действие много-много раз и ничего с этим сделать будет нельзя Поэтому в итоге мы использовали стримы где как раз кажды элемент стрима это у нас действие и у каждого действия есть айдини это Тап с точностью до миллисекунд который позволяет нам отделить одно действие от другого И если мы вставляем в Стрим действие с таким же ID который уже есть в цепочке то оно просто не ставится всё здорово классно Давайте теперь пришло время спроектировать нашу всю сиком есть которой храст есть где мы будем постоянно держать актуальные последние цепочки действий далее мы поднимаем для нашей модели простенький inf сервис который поп принимает цепочку действий на выходе даёт динг пользователя Окей реализуем первый серверс что он делает он по сути вычитывает действие изки и поддерживает в актуальном состоянии цепочки ре то есть да как я уже сказал он вычитывает действия и добавляет в соответствующий Стрим Ну действие к к соответствующему стриму добавляет соответствующее действие О'кей как только этот первый сервис вставил действия в цепочку он записывает события о проделанной работе в Новый кавка топик теперь любой другой сервес который подпишется на данный топик может получать уведомление Что действия дошло до нужной цепочки и цепочка обновилась и можно с этим что-то сделать далее мы реализуем второй сервис это шедулер а его задача Какая задача следующая а для пользователей которых для которых мы давно не пересчитывать эмбеддинг его пересчитать он получает на ход события о том что действие ставилась в цепочку то есть цепочка в редисе обновилась То есть можно потенциально перечитать динг а на выходе собственно он выдаёт тех пользователей для которых н нужно пересчитать Как он это делает у него есть стейт пересчёта в дис кластере и собственно он идёт в стер в этот стейт если пользователя в этом стейтен пересчёт динга а чтобы не забыть что мы уже грили пересчёт динга мы делаем в этом йте ключ и ставим равной частоте обновления желаемой Если же пользователь есть в этом йте то пересчёт динга не нужен потому что мы уже недавно перечитывайте для всех по пользователе для которых н нужно пересчитать мы сохраняем в отдельный кавка топик это компьютер Кая получается принимает на вход всех пользователей которым нужно пересчитать Дин а на выходе даёт Собственно сам н который уже актуальный как он действует идём в R ксер получаем цепочку действий с ней мы идём в inf сес получаем eding Ну и Дин мы записываем тоже в новый кавка топик А уже из кавка топика отдельный сервис доставщик доставляет динги в CL а второй сервис берёт эти им бедин и используя разные дополнительные признаки принимает решение взлом не взлом Фух всё это был реально самый сложный слайд дальше будет проще честно что у нас получилось а получилось много сервисов в итоговой реализации их было даже больше чем на прошлом слайде их было аж 10 штук но они все очень простые реально простые все их можно описать одним и тем же паттерном взять батч из Кафки что-то с ним кастомное сделать что-то и записать этот батч с результатами тоже обратно в новый кавка топик В общем всё довольно просто и можно делать по одному и тому же шаблону Кроме этого система получилась масштабируемой если у нас возникает проблема что нагрузка возрастает мы просто увеличиваем количество партиции во входном топике и увеличиваем количество реплик в сервисе который их читает всё проблема решена и мы пересчитывает раз ВН секунд которое мы установили вре по идее изначально была у нас цель 60 секунд но допустим уже сейчас мы это делаем намного раньше И вообще планируем делать это на каждое действие в итоге от от вставки действия в кафку то есть от того того момента как пользователь совершил действие до принятия решения взлом не взлом у нас проходит буквально несколько секунд отлично есть система для быстрых Динго осталось теперь только заменить Гру на более крутые и актуальные Трансформеры поехали а любая ML задача естественно начинается с метрик который нужно изначально определить чтобы можно было сравнивать между собой модели при у нас в команде при обучении любого типа эмдин принято такое разделение что если мы обучаем динг нам нужно его оценивать двумя типами метрик эстрин сиками и интри сиками что такое эстрин сики это разные задачи на которых можно оценить эдинг например задача детекта взломов или детекта ботов а интри сики оценивают сам эмбеддинг в отрыве от каких-то внешних задач то есть насколько эмбеддинг хорош сам по себе начнём с эстрин в качестве очевидного эстрин у нас была задача ботов взломов и ботов в обоих случаях мы использовали роук и мы задумались а а что можно использовать ещё как Как показывает наш опыт чем больше эстрин сиков вы придумаете на свой мбенг тем более комплексным получится оценить ваш эмбеддинг Вот и мы подумали что можно придумать такого ещё чтобы позволило нам оценить эдинг как-то более комплексно и с разных сторон мы придумали две задачи дополнительные это первая задача Same User В чём Она состоит У нас есть два класса в первом классе у нас эмбеддинг пара эмбеддинг одного и того же пользователя за разное время а в другом классе У нас эмбеддинг разных пользователей и задача построить классификатор который разделяет эти два класса и вторая задача более эксцентричная У нас есть в одном классе эмбеддинг цепочек которые расположены в хронологическом порядке а в другом классе эмбеддинг цепочек которые инвертированные и мы мы тоже пытаемся построить эдинг который разделяет классификатор который разделяет эти два класса перейдём к интри сикам а первая мерика - это форти мерика даёт большие значения если эмбеддинг при отображении на единичную Сферу образуют сгустки такие на единичные сферы такие центрированный области а мы хотели наоборот чтобы наши эмдин не были в одной точке А чтобы они максимально плотно точнее максимально широко покрывали всю сферу целиком и вторая Метрика - это косинусное сходство идея довольно проста Мы хотим чтобы эмбеддинг польз пользователей которые похожи друг на друга Они были близки друг другу по косинус най мере если же они не похожи тож то они должны быть далеки между собой так да переходим к выбору архитектуры у нас была Гру модель которая была нашим белай нам и была Роберта которую мы уже использовали в текстовых моделей и хорошо умели готовить но так как у нас задача довольно-таки простая она проще чем э классификация текстов мы брали уменьшенную версию Роберт так называемую Роберту 128 которая в шесть раз меньше чем классическая Роберта Кроме этого мы пробовали Альберта и ди берту но в итоге они выбыли из нашего такого соревнования потому что Альберту вообще выступала по всем рикам по всем по всем а ди Берта показывала классный результат но в итоге были проблемы с её с её трейсинг и мы от неё отказались В итоге у нас была различные вариации вариации Робер обучение как и полагается было у нас в две фазы трейна и Тюна на натре Роберту на Большом корпусе цепочек где маскировали часть действий и просили Роберту восстанавливать эти действия и собственно он состоял из того самого обучение на наши эстрин взломов и ботов пар которые мы гива другу бы был один и тот же одна и та же цепочка которую мы прогоняли через Роберту с дротом динги изза дрота были чуть-чуть разные и мы их стяги друг другу довольно распространённый способ контрасти А в качестве негативных пар мы брали цепочки от разных пользователей пром обм пространстве перейдём к результатам для того чтобы упростить слайд я вынес сюда только самые основные метрики в первом столбце - это усреднённый усреднённый метрики по всем эстрин сикам Потом эстрин сик взломов так как он самый важный для нас ифти и и косинусное сходство а сравнивать будем между собой три модели наш белай Гру Роберту с Трей и Роберту после фант В итоге получилось следующее и хочется отметить два два момента первый Гру реально классная модель которую нам было очень непросто побить реально очень непросто вот допустим здесь на слайде видно что трейне ная Роберто она почти что во всех Метрика хуже чем обычная наша Гру сй с другой стороны Мы видим что наш НТН на эстрин и на контрасти он реально помог и мы приросли по всем Метрика что вообще здорово в итоге мы получили и взяли эту занен Роберту 128 и решили её использовать в качестве нашей основной модели внедрение было довольно-таки простое поднимали второй inf сервис с Роберто приходил пользователь пользователь Мы считали эмдин и старые и новые далее просто записывали их в каку и в редис и переходили постепенно на новые эмдин и старые сливали ВС просто переходим к итогам к выводам В общем Для нас это был очень длинный путь от дупа спарка нжо игру до Кафки редиса и Трансформеров и на протяжении всего этого пути мы узнали много чего нового и хотим поделиться своими мыслями и дать какие-то советы для тех кто хочет пойти нашим путём нанм СН пользователя это реально классная штука использовать для любых задач где возникает поведение пользователя будь то классификация кластеризация хеширование вообще всё что угодно В общем где требуется анализ поведения там можно использовать динг второе Если вы классно разбираетесь в NLP то вы с лёгкостью сможете применить все наработки которые есть в этой большой области области для анализа действий а если вы вы хотите тоже обучить то у нас для вас есть совет по по уровням сложности Если Вы только начинаете использовать э анализировать действия пользователя и и обучайте свою первую динг модель то обучайте ГРУ это реально очень быстрая простая модель которая неприхотлива в использовании В общем мы рекомендуем начать с неё Если вы неплохо разбираетесь в в NLP то ваш путь - это Трансформеры которые позволят вам дать классные классные результаты А если вы хотите хотите чего-то сложного и чего-то мега мега то это мультимодальной то есть использовать не только само действие А ещё и тайм СМП устройства гео признаки которые связаны с самим действием Ну и мы конечно же рекомендуем лю всем ML командам развиваться в бэнде потому что это классный способ получить полезные навыки которые вообще пригождается и в целом позволяет э получить глоток свежего воздуха выйти из из этого цикла обучения переобучение модель данные и каким-то образом научиться чему-то чему-то новым и если хотите пойти по нашим стопам то у нас как бы есть есть совет Используйте кафку Используйте дис и декомпозировать на на микросервисы они вам позволят делать компоненты маленькими и в них может их может сделать даже любой разработчик Спасибо всем большое на этом всё Антон Спасибо большое Давайте зададим Антону пару вопросов и как только вот смотрите третий ряд вот уже можно отправить курьера Да и потом на пй как только значит как вы помните самый красивый муж Зайд в зал мы начнём церемонию закрытия Хайда Да погнали Добрый день Меня Пётр зовут такой вопрос есть какое-то представление насколько часты ложные срабатывания у такой штуки Спасибо за за вопрос вопрос ложных срабатываний это наверное основной который нас беспокоит потому что блокировка пользователя это ну тяжкий тяжкий грех на самом деле который нужно максимально Поэтому в целом к такой системе как это у нас жёсткие Требования по точности порядка там больше 99% да и ещё ещё один вопрос Если можно вы сказали что срабатывает за минуту Но насколько я понимаю сработать может позже то есть ну не сразу определить угон аккаунта соответственно такой вопрос За сколько срабатывает обычно в среднем при реальном угоне х цифр Я наверное сейчас дать не смогу но вообще идея которую вы сказали да правильно то есть мы в целом можем как бы узнать о взломе ну то есть Можем зать не сразу но по крайней мере зать изменения изменения действия мы можем сразу но но возможно решение примется не прямо в тот же самой момент потому что допустим если там совершается вход в аккаунт и просто прочтение на основании этого мы не можем сказать что это взлом нужно чтобы пользователь пользователь как как-то себя проявил более полно Спасибо большое за доклад и вопросы было очень интересно послушать Спасибо Спасибо он там высоко высоко мужчина в Белом с бородой Да спасибо Антон Спасибо за доклад Я Александр такой вопрос а если команда разработки решила добавить например какое-нибудь действие быстрый ответ что вы делаете в таком случае а в таком случае Ну в целом Понятное дело что эмдин обучался так чтобы он мог справиться с тем что появится какое-то новое действие то есть изначально закладывало в саму модель то есть модель не должна сломаться если она увидит новое действия с другой стороны понятно что если таких действий становится много то модель теряет своий эффективности поэтому у нас заложено переобучение раз в какое-то время собственно Ну к сожалению ничего умнее придумать пока мы не придумали Спасибо Спасибо большое вот справа держит микрофон к у меня появился такой вопрос Насколько большой период времени охватывает вот этот зашитый в модельку н пользователя потому что ну У пользователя может быть какая-то сезонность например преподы в универе в начале года массово рассылки студентам рассылают А я как студент ничего никому не писал Пока до курсача и диплома не дошло дело там я так заспал нуни ня не делали ничего такого страшного в аккаунте потому что вы просто не видели чем чем занимаются злоумышленники в ящике это Треш и угар честно вот как бы там сложно с чем-то спутать Поэтому в целом хороших пользователей мы детек очень очень очень очень редко А что касается того что вот этот период это действительно важный вопрос потому что сложно хранить все действия которые совершает пользователь Да даже если ним действия которое у нас выбрано период за который они охватывают он тоже ограниченный там ну как бы фиксированное количество дней недель которые мы можем рассмотреть Спасибо Спасибо большое И вот здесь в центре уже микрофон есть пожалуйста и потом ещё горка Спасибо за доклад Меня зовут Павел что происходит после того как вы затекли плохую активность там а происходит блокировка Потому что если злоумышленник в аккаунте То есть он знает пароль А в этом в этом случае мы можем только заблокировать аккаунт точнее Как у нас там есть разные варианты это сделать бывают мягкие блокировки бывают жёсткие но в любом случае мы должны зафорсили настоящий пользователь ящика сменил пароль хорошо допустим я вот не пользовался почить долгое время у меня была какая-то там картина действий определённая и потом мне надо было что-то сделать там зайти пользоваться поиском какая-то новая картина действий соответственно вы затекли какую-то активность которую уже не ожидали что происходит и заблокировали ли вы такого пользователя и может быть кап какую-то покажет там чтобы Он подтвердил что это действительно он а не какой-то бот Угу Да я понял я понял вопрос Спасибо такого пользователя мы не за детективе изменилось собственно вот то что говорил в маршале собственно смотрим нам тинг на текущие действия дополнительно А здесь модель модель просто на основании выборки которую мы в неё закладывали знает как как выглядит поведение ломщик поэтому такое поведение не будет за считаться плохим спасибо спасибо И вот сейчас пока все кто хотел войти в зал входят финальный вопрос с голки а потом подумаем Кого Кому подарим сувенир да а в общем хочу спросить почему 60 секунд Ну в теме написано разве это уже не поздно как скажет любой безопасник логично Ну типа злоумышленник уже ну получил доступ То есть почему мы не можем его проверить по айпишник геолокация раз два по юзера Агенту три - это по графическому процессору то есть любой браузер его отдаёт логично что программа которые то есть есть два типа взлома ручное и парсеры парсеры там обычно ма Яндекс R В итоге это ВС в прокси закидывается И вот так начинается всё по Ну по письмам перерабатывать ну в итоге не проще поставить какие-то правила которые будут блокировать сразу же а ваша Ну доработка в принципе тоже имеет смысл но мне кажется основной Ну типа основной барьер будет Вот по определённым правилам О'кей я понял вопрос ответ на вопрос номер раз Почему не правила Правила круто они есть у нас но во-первых у них обычно низкая полнота Вот и во-вторых если делаешь правила то злоумышленники обычно эти правила быстро проха грубо говоря так и они поменяют своё поведение на другое и приходится придумывать новое правило а потом третье это раз про 60 секунд Хороший вопрос правильный вопрос потому что 60 секунд - это как я уже сказал такая цифра она взятая в ориентировочно То есть это в то что мы цели примерно то есть находить взлом э в масштабах одной минуты в целом сейчас у нас это происходит намного быстрее и и в будущем мы планируем дойти до реакции на каждое действие Так что вопрос правильный и актуальный Спасибо ещ было кино такое Угнать за 60 секунд но там про автомобили здесь собственно Надеюсь да как бы такая была игра с этим всем чтобы было и созвучно и было в тему да скажи Кому мы за вопрос отдадим сувенир Хайда так я думаю вот парню на третьем ряду который самы первый спрашивал самый первый отлично махни Баш Да тут уже ВиДи взломщиков Антон Спасибо тебе огромное тебе тоже сувенир от конференции Потому что ты завершил второй день 2023 спасибо всем"
}
{
  "video_id": "YZYFKDSL7aw",
  "channel": "HighLoadChannel",
  "title": "Нужны ли бэкендщики в iOS-разработке, когда есть Swift / Самвел Меджлумян (Rambler&Co)",
  "views": 292,
  "duration": 1600,
  "published": "2018-01-16T13:20:13-08:00",
  "text": "добрый день коллеги меня зовут samwell я ее с разработчик prowler и на данный момент я занимаюсь приложением афиши рестораны и сегодня мы поговорим про такую гипсе русскую тему хайповой тему бэк-энд разработке по крайней мере для ios разработчик vag service сайт свифт и сразу же я хочу ответить на вопрос который звучит заголовки моего доклада безусловно backend разработчики нужны однако есть одно но и об этом но мы с вами поговорим вещаю она будет достаточно интересным и аргументированным собственно каков план доклада начали расскажу слов что случилось из-за чего все началось из-за чего загорелся весь этот сыр-бор после будет небольшой 7 минутный экскурс мир бэк-энд разработке дальше мы поговорим про с 3 инструмент ты вкратце после сравнимых с другими инструментами которые у нас имеется в распоряжении для серый на разработке в конце поговорим о принятых стандартах разработки на бекки весь проект если у пращей нашей жизни и подытожим это дело выводами а также нашим взглядом на перспективу этих проектов о чем мы не будем говорить я не буду рассказывать как это все развернуть в этом нет ничего сложного и занимает порядка 12 половиной минут откуда эти цифры я тоже расскажу чуть позже я не буду рассказывать про синтаксис он достаточно подробно расписан документации и в использовании framework в принципе нет ничего сверхъестественного и из разработчика собственно давайте начнем с того что случилось у нас достаточно большая команда порядка 15 из разработчиков и 8 активно развивающий приложением и это стек приложений которые отличаются как по функционалу так и по философии и зачастую в нашей повседневной деятельности мы нуждаемся в тех или иных серверных утилитах для оптимизации наших рабочих процессов это будет сияй сиде или какая-то аналитика к этим инструментом бывают различные требования в частности они нам нужны здесь и сейчас разработка этих утилит мне должна занимать большое количество время не отрывать разработчику от его стандартного контекста деятельности также нужна поддержка хорошая поддержка этих утилит в рамках нашей команды это что касается больших ios команд если же вы инди-разработчик для вас актуальность заключается в необходимости различных api для своих ресурсов будь то домашние проекты или аутсорс собственно две задачи какие мы имеем это нужны серны утилиты и нужны api для своих проектов какие решения я держу реализация этих задач вы можете изучить сторонний инструмент выбор достаточно обширный у нас но насколько это оправданно инвестиция насколько это рентабельно вообще для большое из команды во первых это занимает достаточно много времени и требует определенных усилий а я говорил что утилиты нужны здесь и сейчас может быть мы победим это тут простер и сайта рассказываем кнопочки ну не работает у вас нет непобедим на свете надо было писать окей во вторых это решает это не решает проблему поддержки у тебя вы из команды проект сложно будет поддержать и однако это интересно особенно если вы любите изучать все новое есть еще другой способ решения этой задачи вы можете попросить реализовать кого-то но какие здесь минус и плюс и всегда неудобно всегда неудобно отрывать разработчиков в узко специфических командах в крупных компаниях от его прямой обязанности есть вероятность того что вы так и не получится то что хотели на это вероятность достаточно высоко к сожалению у другого человека свои приоритетные задачи но можно не беспокоиться реализация посмотреть как вам сериал попить чаю однако и такое отношение к делу может привести к тому что минус 1 плюс превратится в минус и можете ничего не получить в итоге и можете реализовать на swift давайте рассмотрим подробно кисть с рабочим инструментом который у нас имеется сейчас наличие в рамле есть прекрасная информационно-аналитическую утилита до шамба она написана на ruby полностью силами айос отдела собирает статистику из большого количества ресурсов и tabs appstore это фабрика это дженкинса и slynt все это дело геймифицированные с магические формулы и на выходе мы получаем большой объем данных это статический различные лидер барды это хороший повод мотивировать команду к стимулирует к развитию но что с поддержкой на данный момент у нас поддержка проекта с очень прагматично всего полтора руби разработчика для сравнения 12 разработчик которые хорошо толщина уверен владельцев там вы предложите реализуя такие кроссплатформенные штуки на ruby и на питоне такой вопрос был в принципе у предыдущей докладчика но я не хочу учить руби я и из разработчики для меня актуальна инвестирует то что мне нужно частности в swift и это для меня достаточно весомый повод чтобы реализовывать и решать эти проблемы именно на свете тем более свифт также является кросс-платформенным языком так небольшой экскурс в мир бэк-энд разработке поможет лучше усвоить тот материал который будет далее многим ребятам особенно бакенщиком это может показаться капитанством однако я вес разработчик которые ничего кроме дерганье ручка пи не делали призма 10 беком это будет полезно начнем с понятие фреймворка дело в том что все равно разработки широко распространены и фреймворке и набейте этой части достаточно приве привычный инструмент на байке фреймворк воспринимается как каркас как платформа для того чтобы структурировать вас ваш проект упрощать вашу разработку и объединять различные его компоненты и нужно отметить что фреймворк это не библиотека это именно каркас эта структурная оболочка для вашего проекта и в его использовании как я говорил нет ничего сверхестественного дальше и весе это основное основная архитектурная парадигма используем на сервере так хорошо знакомо любому ios разработчику поэтому они я не буду долго задерживаться отмечу лишь взаимодействия view и контроллер между ними находится специальная система шаблонизатор и это движок который грубо говоря помогает отделить ваши данные от при представлении конечного представления получая на входе данные какой-то шаблон на генерирует вид у р н и о д м это механизмы маппинга ваших объектов это механизмы маппинга ваших объектах из реляционных баз данных из не реляционных баз данных для простоты понимания можете считать core дату у р н и о д н а точнее purchase a star хотя параллель неточно но когда ты работает как с реляционными базами таким как и skylight так из не революционно например файлы какие-то xml и процесс разработки последнее о чем мы говорим в контексте видение мира бэк-энд разработке чтобы ваша жизнь не казалась более вам надо правильно организовать рабочие процессы на байке принят 2 3 этапные процесс выходки вашего продукта стоящие следующих этапов сначала вы работаете в df окружении это ваша локальная среда local локально базы данных каждое изменение вы можете очень наблюдать тут и сейчас и вам необходим не нужно постоянно выкатывает на сервер df окружении на бекки это дэбак волос после того как фичи реализована и она более-менее стабильно вы можете пушить ее встречу ветку который автоматически разворачивается states окружении встречи окружении уже работает с продакшном базой при этом нужно учитывать что стечь и the test flight в ios и дальше после того как вы прошли внутреннее и внешнее тестирование вы можете выкатывать этот продакшн параллели является appstore наш священный алтарь и ok ис-3 инструменты перейдем к интересному в нашем распоряжении четыре инструмента а поднимите пожалуйста руки кто был на прошлом докладе чуть меньше половинки окей я не буду долго задерживаться на этой части чтобы не утомить вас нашему свержение кетура который вызвал разрабатывается и б.м. perfect это первый проект своем роде вейпер это канонический open source проект и деву мне просто нравится логотип живу какие критерии я вырвал для сравнения имеющихся на work of комьюнити активность rm отдаем шаблонизатор и и продуктивности с рабоче к комьюнити этот пункт не случайно идет первым он крайне важен в развитие новых технологий здесь конечно прежде всего я бы отметил вейпер и perfect но почему комьюнити важно потому что любое сообщество свободного по может самоорганизоваться для реализации какой-то конечной цели и чем больше это сообщество тем быстрее это цель будет достигнута у perfect и вейпер крайне большие украина большое сообщество на гитхабе в твиттере и я бы отметил что эффект вообще порядка 40 тысяч подписчиков в твиттере для сравнения у вас за семь лет всего 50 тысяч то есть сообщество развивается очень очень динамично активность этот пункт напрямую вытекает из предыдущего под активность я призываю как быстро решается из и шью выходят новые версии и как быстро вообще обновляется и добавляются новые фичи и здесь опять достаточно обычно развивается вейпер и perfect вейпер вообще умудряется насколько быстро выкатывать версии что твой доклад и становятся неактуальными за пару недель и а позову я покажу лишь скрин из документации поэтому перейдём к о р м и 1 здесь все достаточно хорошо реализована поэтому не будем ну суть одно и тоже покажу табличку отмечу fluent разработанный вейпер это достаточно мощный механизм он может вы вы можете его вытащить из фреймворка использовать своих проектов без сервисов свифта в принципе то есть он позволяет взаимодействие с различным базам данных внедряя никакие уровне абстракции тем plaything шаблоны о чем мы с вами говорили здесь опять-таки очень хорошо все очень оптимистично я бы отметил помимо прочего движок лив разработанный вейдером и тапир свифт движок в отличие от всех остальных некоторые из них реализованы на основе каких-то session их зависимости и перейдем давайте последнему интересному критерию мы провели достаточно интересный эксперимент from лили ребятам было разослано письмо с просьбой установить каждый из всех имеющихся фреймворков после этого надо было реализовать небольшую задачку и в конце субъективно оценить свое отношение к тому или иному инструменту прежде всего поговорим про установку здесь нужно отметить что время включает также и процесс сборки и разворачивание сервера поэтому этот показатель достаточно неоднозначный но с другой стороны вам показывает как долго это все происходит выполнение задачи задача была следующей нужно было добавить в rating rds контент и выдать по этому пути статические данные из статического файлы который был привязан к контенту хочу отметить что ни один из ребят кто который участвовал в исследовании эксперименте да это вообще не знал про эти фреймворке и вообще не слышал не использовал сервис сайт свифт здесь достаточно быстро все было реализовано именно вейперы дальше субъективная оценка каждого из вина work of больше всего понравился вейпер понравился он из-за простоты использования из-за схожести синтаксиса с тем что ребята делали в клиентской разработки и за хорошо из-за хорошей документации меньше всего понравился деву опять же из-за скудной документация там практически ничего не было пришлось самому копать искать как все это реализовывать поэтому наш выбор в сравнение это viper viper канонический open source проект это проект с большим комьюнити проект с нестандартным подходом решении тех или задача не реализовать свое р м о д н а не у них своя философия и свое отношение в принципе ко всему ребятам важно придерживаться именно пирсе в подхода реализации повседневно задачи давайте теперь сравним вейпер всеми инструментами которые нас имеется для backhand разработки я выбрал три это самый распространенный скриптовый язык для бэк-энд разработке php и частности его веб-фреймворк laravel это самый распространенный инструмент для энтерпрайз решений язык с промежуточным байт кодом в частность java и в частности его веб-фреймворк spring и но джесс как быстрый инструмент который транслирует java script в машинный код но и со стороны сервис сайт у нас выступает вейпер коротко бенчмарках который я выбрал для сравнения это реализация данных jison это работа с памятью это использование памяти и искал fetching начнем с джейсоном задача была простая необходимого своровать выдать груз он состоящий из 100 случайных чисел это достаточно распространенный кисть мы повседневно по стене на своей практике используем цивилизацию или mapping данных на выходе должны были получить примерно такое но результат меня откровенно говоря разочаровал вейдер опередил разве что только world ну я поначалу даже не хотел в это верить повторяла повторялось раз за разом убирал что-то камин tell но оказалось что обертка джейсона обертку вейпер очень медленно я на самом деле после выхода 20 ожидал что вы просто разорвет всех и вся однако вот такая неприятности ok следующий следующий benchmark работа с памятью тоже задача создать массив из 10 тысяч случайных чисел и сортировать их здесь вейпер уже вернулся чуть вперед этим еще марк мы хотели проверить операции записи сравнение чтения из памяти но чуть-чуть опередила spring следующие witch mark это использование памяти необходимо было измерить исполь количество используемой оперативной памяти но здесь меня порадовал вейпер всего полтора 1 и 4 мегабайта ну и по спаррингу на самом деле примерно было вот так так как это java там порядка 499 мегабайт номер создается виртуалка но и понятно ну в общем дальше необходимо было выбрать значение из нескольких таблиц таблица выглядит примерно таким образом у нас имеется таблица юзеров и компании нужно было вытащить 100 случайных пользователей за джони с ним компании в которых они работали компания было 50000 здесь опять меня порадовала скорость работы искал фитинга скорость работы вейпер мы проверяли именно работаю провайдера базы данных была использована майской вейдера предел spring порядка примерно на два раза окей и суммарно что мы получили каждый из критериях мы оценили по от 1 до единиц от нуля до единицы то критерий работу же сам получил 09 коэффициент и в итоге вейпер у нас получил в общем 9 и 5 баллов мы накинули один балл за схожесть названием вайпер но это простительно в общем давайте перейдем best practice мы рассмотрим истопи со и диплом разумеется подчиненные деятельности вы не ограничены rest api вы можете использовать другие стили и архитектурные стили взаимодействие вашем распоряжении как минимум граф уверяли соб но мы рассмотрим rest api так как это наиболее распространенный инструмент стиль взаимодействие простите и я считаю что порог входа у него достаточно низки мои рекомендации и без проекте свои rest api используйте version ность своих запросов это позволит разделить клиент и разделить серверную часть и развивать эти части независима друг от друга выбрасывайте корректные ошибки не прибыль не пренебрегайте этим пунктам архетипе содержит достаточно большое количество статуса с годами не игнорируйте степи статусы и вообще работать с опилками которые выкидывают не понятно что живут не понятно как очень сложно мой опыт мой сложный опыт у меня был опыт работы с api который выбрасывал всегда статус 200 во всех действ и в воде у него выкидывало с ошибкой и ружья rrc там рыбы еще и рурка за еще что то многое другое никто не знал что эти хирурги означают документации не было каждый раз обращались к разработчику который это все дело пока это не уволился окей правилам хорошего тона является использование архетипе статусов унифицированная система ответов и наличие своих ответов которые которые могут выходить за рамки архетипе статусов обрадую и то есть из коробки вы при даже не нужно заморачиваться и используйте пожалуйста правильные методы для того чтобы ваши манипуляции на сервере соответствовали тому что вы хотите сделать не ограничились только постам егэ там ok рассмотрим sap и devops сервер разработке также какие в мобильные широко распространена сервис-ориентированной архитектуры и и микро сервисная архитектура вы реализуете раздельные какие-то сервисы который отвечает за определенные действия упаковываете их контейнеры и каждый из них является урезанная версия операционной системы примером контейнером систем является докер его можно разворачивать в облачных ресурс таких как amazon таких как день ушел ашан и один контейнер у вас может отвечать за система авторизации второй контейнер у вас может отвечать за rest api третьим в третьем контейнеры у вас может находиться базы данных это все позволяет повысить отказоустойчивость ваших систем и целом нужно учитывать что бег может должен работать 24 на 7 клиентское приложение может упасть и ничего страшного не произойдет но бег должен работать всегда конечно это определенный порог вам придется помучиться с настройкой помучиться с ро кингом однако все ради отказоустойчивости для управления контейнерами широко используются сервисные инструменты и они обеспечат связь между вашими компонентами нужно понимать как работает бил на сервере если вы начнете building проект продакшене у вас все свалится он надо заранее подготовить билд и использовать систему хранения артефактами для всех этих процессов есть достаточно много утилит я думаю что дженкинса многие знакомые не забывайте их использовать для того чтобы оптимизировать по максимуму те рабочие процессы которые у вас имеет при работать с беком и давайте перейдем к выводам первое и самое важное о чем я хотел бы сказать это то что сервер сайт свифт не является компромиссом по бенчмаркам он уступил не уступает представленным инструментом при этом я могу сказать что это хипстерский инструмент я могу сказать что он недостаточно зрелый но ничто не мешает вам использовать уже сейчас его для домашних проект в или д каких-то аутсорс проектов потому что вы уверены в том что реализуйте на нем хорошо вторым аргументом в пользу сервиса и свифта является то что в этой инвестирует крупные компании в частности apple создала рабочую группу по сервиса и свифту с предпосылкой что это целая ветвь развития экосистемы свифта это потрясающее группа занимается не просто продвижением framework of any занимаясь разработкой api что позволяет нам разработчикам обходить зависит сегодня я зависимости напрямую работать с лифтом они обеспечат нам хорошую работу с http правильно работают они обеспечена безопасность то есть это группы в которое включает также объем и сторонние разработчики реализует все то что было реализовано носить десятки в свободном сообщит нам десятки лет назад и имеет такой мощный фундамент может быть уверены что на выходе получится действительно стоящим буквально через несколько лет и конечно же в это вовлечена огромное комьюнити который заинтересован в развитии фреймворк которым это интересно буквально за полтора года она выросла на дрожжах и продолжает развиваться это очень круто вы можете они крайне открыты вы можете написать ему флаг вы можете их на нем написать на почту они очень быстро отвечают я буквально за 3 минуты получил ответ на вопрос у кого какие проекты реализованы в ночью в 3:00 меня скинули около пяти различных ресурсов это в основном кстати были всякие лэндинги для приложений в appstore хампи g и прочее то есть домашние проекты я желаю вам экспериментировать я желаю вам удачи используйте сервис сайт для своих проектов и будь счастлива спасибо вопросы микрофон возьмите свифт все-таки компилируемый язык в отличие от джеймса и руби сколько уходит время на сборку такой платформы какого подхода сколько уходит время на сборку нашей северной части ну вы подборка что подозреваете первую сборку там рабочие сборки или если я говорю о руби и то мне нужно поправить скрипт и далее вы проверите говорите это скриптовый язык но без сам компилируемый так вот значит если я в том языке поправлю что-то и перезапущу это уже достаточно чтобы получить результаты в те же не так соответствие есть время пока он скомпилирует аида спинальный вот те решения которые вы пробовали скука во времени уходило на компиляцию я понял вопрос спасибо но смотрите если вы работаете в x козел вейпер есть возможность развернуть проекту вскоре у вас есть приникли ментальная сборка она поры проходит достаточно после этого каждое изменение уже разворачивать достаточно быстро несколько секунд конечно сборка релиз горка она будет собираться зависимость это размеры проекта может быть 20 секунд может 15 секунд по разному но помимо сборки вам нужно запустить еще сервер если вы работе в экосистеме эппла vx ходе то это все происходит автоматически запустили проект запустился сервер поэтому можно сказать что здесь примерно то же самое если вы работаете с скриптовом языками вы сохраняете у вас отображается запускайте вас отображается спасибо за доклад то есть вы хотите сказать что в xcode уже встроенные инструменты да то есть для разворачиваем то есть мы запускаем белым как стандартное приложение да просто грубо говоря выбирая схему и нажимаю кнопочку да не совсем вы устанавливаете tool-box в и про это терминальная оболочка который предоставляет различные возможность в том числе на содержится команду вейпер xcode ваш template который есть уже он разворачивается в project x кодов и скот вы просто работать с таким же так же как и работайте своими приложениями то есть это это да есть такая возможность имеется то есть запускается при помощи код скрипта ну там настрой когда в каких-то там в настройках схемы да там прописывается какую команду выполнить для запуска это вы устанавливаете вейпер tool-box создаете проект новой после этого вы можете вызвать вейпер xcode это в три шага операций которую документация расписано вызвали вейпер xcode у вас формировался проект из тех файлов которые имеется вашим шаблон да это я понял вот когда вот через xcode откроем открывай что-то меняешь и хочешь построить запустить вот это просто запускаете билде tektronix build руках через xcode да да да да то есть вы можете уже стал боксом общение работы до момента когда вы это все вы игрушки production интересно спасибо до это очень упрощает разработку"
}
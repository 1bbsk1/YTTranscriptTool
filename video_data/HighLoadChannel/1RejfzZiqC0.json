{
  "video_id": "1RejfzZiqC0",
  "channel": "HighLoadChannel",
  "title": "Позвольте представить: MariaDB 10.2 и 10.3 / Сергей Голубчик (MariaDB Corporation)",
  "views": 1923,
  "duration": 3021,
  "published": "2018-08-16T03:55:14-07:00",
  "text": "cat's обо мне меня зовут сергей голубчик я работаю в мире тебе corporation должен сычев ок итак меня небе и я был разработчиком москва 98 года и 2005 перешел морями это кодовая база знаю довольно хорошо так вкратце про 10 210 2 мы начали они работать в октябре тысячи пятнадцатого года и фатима им она эта ветка была объявлена стабильной поддерживаться соответственно 5 минимум пять лет мы может быть и больше то есть мы можем продлить потом мы продлевали для 55 если выбрать одну саму интересную фичу этого я назывался идеи об этом не буду говорить через минуту для 10 3 соответственно начали работать над ней в ноябре прошлого года это весной следующей весной она станет стабильной и потом опять же пять лет поддержки из самых интересных вещей бы назвал совместим режим совместимости 40 г поподробнее про 10 2 если когда я пытался разбить все фичи здесь одевать на несколько таких групп для обозримо sti соревновались у такого такие вот группой аналитика потом была большая работа по убиранию разных исторических ограничений которые были в моей гибели мы скажем так всегда есть камин 98 года насколько я помню потом работа над клиентским протоколом iq является ходить на трипле к цией джейсон поддержки джейсон улучшенная совместимость москве а потом разной оптимизация в позе ну рефакторинга борьба техническим долгом и все такое но поскольку у меня здесь всего час они 3-я просите фичи рассказывать не буду расскажу только про самые интересные остальные спрашивайте после доклада или ловите меня в коридорах так она фичи относящийся к аналитике то есть это фича позволяющие делать более интересные скотт запросы просто строить срок более сложной структуры данных на искал и все такое и самое первое из них это обращенные табличное выражение команде был исправен сетей это такое рассмотрим вначале то что должно всем быть наверное знакома этого это сакуре and from плос вот здесь вот такой пример select и там внутри под запрос потом даю имя иску и джонни вас обычная таблица это два это все это работало раньше тут ничего интересного нет с помощью команд обеликс freesense его можно переформулировать вот таким вот образом и для сравнения еще раз вот в начале от под запрос в chrome и вот сети и видно что в сети и начале идет под запрос ему дается имя потом уже идет забор запрос с использовать как одноразовый view такой но это фактически просто синтаксический сахар то есть разница исключительно синтаксическая а концептуально здесь ничего нового нет и если бы мы сделать только это эта фича было совсем неинтересная и не особо даже достойны упоминания я думаю ее высказал стандарт добавили для этого а вот для этого для того что дальнейшее расширение команд и блик stations позволяет делать рекурсивные запросы и ты тоже очень мощная штука вот здесь от пример рекурсивного такого запроса мне вначале стоит ключевое слово рикер сиф потом имя как обычно дальше идет первый select потом обязательный union all in и дальше идет второй select который использует этот же самый city chic который он определяет то есть эти определяется чад сам через себя и получается такое рекурсивное определение как это будет на самом деле выполняться представим себе что то есть такая таблица в которой мы будем добавлять строки вначале мы делаем select и столице фолд в нем равно я добавляем строчку со мной потом выполняем 2 select и не на той строчке будут добавляться и в качестве ancesters кости входа берем 1 . там уже посчитали дачном идет join находится фаза и мази точно идут самой родителей еще две строки тоже добавится к результатам переживать у нас уже три строчки теперь мы опять повторяем select для 2 свежих добавленных строчек да найдутся родители моих родителей добавим еще четыре строчки потом этот сырок повторится ещё раз греть 4 строчек говорю еще 8 и так далее так далее пока таблица фолк не кончится запрос будет рекурсивно вычислять повторяйте 2 select на новых и новых найденных результатов пока собственно результаты будут продолжать добавляться и когда говорят про новый язык программе на нём кишит hello world для рекурсия hello world это факториал поэтому вот пример факториала начинаем с 1 стрел 1 это 1 и потом recourse рекурсивный select факториал n плюс 1 это n факториал может быть один ничего нового и удивительного нет и дальше на получаем табличку факториалов до 20 все это можно с помощью сетей на самом деле с помощью сети можно делать очень много всего им очень много интересных штук но времени сегодня нет у меня будет завтра доклад на эту тему там я буду рассказать просите гораздо более подробно 2 фича из таких аналитических это оконные функции возьмем для примера информация таблицу informe ческими профайлинг мэрт мой скрыл мария гибель хотя и скажу кажется уже убрали есть такая штука что если включить сайт про парень равно он-то в эту табличку информации с кими прав они будут записываться стадией выполнения запроса время сколько заняло выполнение каждой стадии еще там разная статистика изначально идет номер запроса потом номер стадии и потом названия стадии потом мое время сейчас мы на этой табличке будем ее мучить с помощью оконных функций допустим что мы хотим посчитать промежуточные суммы той сколько времени занят прошло от начала выполнения запроса до окончания каждой конкретной стадии то есть первая стадия статей это ррт ранен . до окончания от начала вполне первых запроса до окончания первой стадии прошло сатурн 304 микросекунды до 2 это будет 304 плюс 63 ну и так далее и так далее нужно сложить все юрий шанс от начала до до каждой конкретной стране и со 2 запроса начинаем там декорирована 2 начинаем сначала то есть для него опять таким-то будет 1107 микросекунд и дальше при прибавляем как это можно сделать на искал это можно ли помощью под запрос а вот мы пишем под запрос мы хотим посчитать сумму по длительности для всех стадий которые принадлежат тому же запросу но которых номер не больше чем текущая стадия таким вот под запросам можем посчитать все на счет промежуточные суммы это прекрасно работает минусов здесь несколько на мой взгляд во первых это не очень короткий под запрос не самый тривиальный вы стороны и вот не очень просто читать то есть человек который на это смотрит должен думать так мы тут суммируем для того же запроса стадии так это же промежуточные суммы нужно построить в уме и модель этого запроса понять что он делает и pride понять какой операции это вот модель соответствует ну и в третьих для каждой строчки он будет пробегать по всей таблицы в под запросе то есть время исполнении растет квадратичного в два раза больше строк 4 раза дольше работать на этой табличке он работал четыре с половиной секунды и то же самое можно написать помощью оконной функции мужик он и функций то выглядит гораздо проще мы пишем что мы хотим посчитать сумму для каждой группы строк мы разбиваем строки на группы бойков а.д. в каждой этой группе сортируем по возрастанию номера их суммируем это можно сказать удар почти прямое определение того что такое они total это проще писать и это проще понять что она делает и что очень важно оптимизатор тоже проще понять что вы от него хотите поэтому он может построить более адекватной план выполнение этого запроса в некотором смысле там возвращения к исходом истокам sql потому что из кроны так что декларативно языка да вы говорите что хотите получить и оператор должен сам решить наилучший способ как этого добиться с под запросам и собственно говорили оптимизаторы как вычислять то что нам было нужно и данном случае оптимизатор он не будет для каждой строчки пробегать по всей таблице у нее будет аккумулятор и он будет держать текущую сумму и при каждой строчкой на будь то прибавлять очередное значению то есть считается за один проход сложность линейная получается на много много быстрее если да еще добавил строк от разница была бы еще больше вот только один пример и опять же гораздо больше примеров и подробности будет завтра в пекин шанхай в 4 что вторая группа фич в 10 2 это убирание разных исторических ограничений и начну из временных таблиц вот пример возьмем временную таблицу с сотрудниками там значит имя номер сотрудника и кто чей начальник запишем туда моего менеджера сноса и меня и соответственно захотим вы захотим сделать запрос чтобы вы вели имя сотрудника имя его менеджера для всех сотрудников то есть такое запрос и кто-нибудь значит здесь получится вот я в том что это временные таблицы и вот moi ce qu'il всегда то есть монета появления то есть еще до 98 года это было нельзя было используя одну и ту же временно 1 время интуиция будет после два раза в одном и том же запросе то здесь вот целых join можно было сделать под запросы наворотить несколько под запросов но как как ни старайся нельзя было одно и то же время интернете нельзя может использовать два раза в одном и том же главном суда gti и это было всегда но в 10 2 мы это исправили и теперь это все хорошо работает и они стали гораздо менее странные и немного больше похоже на обычной таблицы дальше чек constraints опять же всегда нотками 98 года мой скрыл как бы поддерживал чек constraints то есть можно было написать создать таблицу с ними и она создавалась никаких ошибок не было потом мы пытаемся вставить строку которая их явно нарушает и даже не буду спрашивать лет все знают что произойдет все константы они просто игнорируются потому что происходит вот что то есть они парсер их парсит и потом он дальше не говорит самой базе данных то там остальному сервер уж там были кита контента просто забивает забывать как будто это были пробелы или они нигде не сохраняются сервер по них ничего не знает разумеется он не может их выполнять и накладывать окончания потому что он даже не знает что они были вот это мы соответственно тоже в 10 2 исправили они по нормальному сохраняются и они естественно работают как и положено и ограничивать данные поддерживать целостность данных так как вам это нужно значению по умолчанию тоже всегда можно было писать создавать столбцы критий писать там дефолту элис было несколько странностей скажем так то есть например углу ворча raw можно было указывать дефолт значения у блоков было нельзя потом возможно использовать было выражение можно написать time stamp дефолт на ул но нельзя было написать дефолтного плюс 1 и не забыл написать но не знаю ворчат дефолтном есть они как бы работали иногда но во всех других случаях не работали так как минное поле цветут если знаешь что делаешь она работает шаг сторону она не начинает не работать это мы тоже исправили в 10 2 можно указывать дефолт для блобов теперь в дефолт можно использовать ражение почти какие угодно и практически где угодно можно использовать не детерминированные функции как ее иди можно использовать дефолт значения кто рождается других столбцов это по-моему никто не имеет oracle это точно не разрешает можно использовать дефолт для блога все это сейчас работает прекрасно генерируем и столбцы в марио тебе поддерживались с версии 52 если не ошибаюсь на 2011 или двенадцатый год там было тоже определенный набор странных ограничений который делал работу с ними похожий на прогулку по такому небольшому минному полю то есть можно было создавать генерируемые столбцы но нельзя было их индексировать если они не сохраняются на диске отстранив на диск это убивает большую часть смысла по собственное к созданию вот теперь это мы выбрали то есть вот здесь вот в этом примере есть два столбца start time and time мы эмилию виртуальный столбец duration разница между конечно времени изначально нигде не хранится он вычисляется так как когда когда он вам нужен но тем не менее можно индексировать что нужно было по нему быстро искать кроме того дерьма же сквозь гораздо более сложные и главная гораздо более длинные выражение этот раз тот пример когда размер имеет значение можно использовать константные выражения если это кому-то нужно но могут и резюме слать и ссылаться на другие генерируемой станции можно использовать армированный функцию как на а в последние строчки примера все это теперь опять же работает и можно практически ими пользоваться не задумываясь о том что что то будет не работать внезапно выглядит эта ошибка и на тебе что касается на тебе самое главное и затратная фича было это мы про градирен обеспечена 57 то есть все что имеет in 1957 то есть мы скачем у нас теперь есть 10 2 кроме того здесь добавили поддержку откажитесь от инкремент что это означает вот есть пример мы создаем таблицу с от инкрементом записываем первые три значение 123 потом мы ее чистим потом вставляем еще одно значение должно получиться четыре так факт автоинкремент должны работать ну что будет ему между между перед перенося этом перезагрузил сервер в моей сильно если она ставилась бы 4 и надивиться было бы про первое значение и вставила бы опять 1 ну пока не так будет было до 10 210 2 это исправлено и в 10 2 и на тебе будет тоже сохраняет 4 это было довольно непростая фича поэтому в отличие от моя цены на дебитом транзакций то есть нужно это где-то запоминать причем не в таблице это запоминаешь на должно писаться на ди сан но записаться в логе оно должно быть устойчиво красим всяким поэту поэтому это только в 10 2 дошли руки до того чтобы это сделать и диск артем палеонтолог центр за щенками то маленькой оптимизация для временных таблиц времени таблица для них нет никого краше recovery они не должны то переживать поэтому для них онду логине обязательно хранить на диске после коми то их можно сразу выбрасывать меньше пишется на диск и соответственно больше остается места для полезных логов от обычных таблиц май рокс еще одна большая фича особенно если смотреть на размер кодовой базы мы добавили в 10 2 мая rocks v-rox это storage engine движок основанный на киви views to rock baby разработанный в фейсбуке он архитектурно использовать лог страшно ночи то есть которые имеют другое поведение архитектурный в разных случаях от петри которые подчас традиционным движках таких как например на тебе на линк день челлендж это набор mensch марков разработанный того так чтобы более-менее имитировать нагрузку похоже на то что фейсбук делает и вот на этом индончо рокстеди достигает в два раза лучше компрессии сжатия данных чем и на гибель и в 10 раз меньше раком perfection то есть там разный быть марк от 10 до 20 раз что такое рак амплификация это означает что там допустим нужно изменить записать 4 байта где-то вы надели на тебе при этом пишет страничку ван страничка напишет honda logo напишет фриду лак при этом вначале она пишет о создавать буфы а потом она же писца в логе потом страница пишется на диск с не дай бог будет печь сплит в яндексе она должна еще записать вторую страницу плюс страницу предыдущую в яндексе они все идут тоже идет причиндалов через гряду лоб и через w альбов и так далее в итоге мы хотим ну и пишем 40 килобайт на диск на хотели всего лишь счетчик изменить 4 на 5 и этот на доктора complications и особенно это плохо для flash а потому что там ограниченное количество циклов перезаписи и it rock baby считается что он специально разработаны должен хорошо работать на flash они гораздо меньше пишут на диск и соответственно и лучше иметь меньше поверх потому что реже залив меньше потому что лучшее сжатие но мой рокс в мария тебе 10 2 он в альфа-стадии он и работа будет 10 3 хотя может еще есть два плагина вы них независимая у них независимый цикл развития поэтому он может становиться переходя ведь альфа-бета независимо от основного сервера ну пока что альфа так что попробуйте но в продакшене если проверять будете рисовать прямо стыду предел так мария baby коннектор sim это мы заменили в мария де беф 10 2 мы выкинули ли мысль и оффлайн изменить совершенно новый коннектор новый плите комаре деби connect арфе он поддерживает и моря baby my sql и совместим по айпи а если вместо offline но lgpl это важная фича котором саде люди многие многие жаловались за многие годы в мае скрыл и мэри не мечтали мастер-план также при этом вся что если вы делаете кого-то клиента который должен работать морскую свинку и тесто библиотекой ваш клиент автоматически на те же павел это нравится понятное дело не всем и марий тебе как татьяна lgpl то есть не обязательно делать все ваши программа же файл если хотите линковать на regime коллектор сей она не поддержит я стал но она подержит тополя стрелка ну tls и сочинил на windows + то много всяких разных плюшек там разные convenience function которые за делать разные вещи более удобно чем или миска атлант там из расширения протокола который поддерживает мария dp сервер и мари де beko нектар sei но не поддержит либо из котловин например там есть баччан когда можно посылать много команд серверу за раз и потом читать ответы то есть нужно после каждой команды ждать ответ от сервера что уменьшает количество rountree пав и сколько несколько раз собственно говоря клиент должен ждать и еще есть боччони в припять statements когда можно сделать при пасты можно стряхнуть припомнить потом сделать y j но вместо одного значения забиндить целые целый массив и послать массив серверу те же выполнит execute много раз на каждое значение то есть опять если нужно ставить не знаю 1000 миллион значений можно insert можно послать одну команду y j миллионов их значений в одном пакете сервер выполнит это сам миллионов и нужно будет послать миллион пакетов туда-обратно для некоторых пользователей давала не знают в десятки раз ускорению оптимизатор запросов времени подробно говорить про это нет я завтра покажу на примерах но сейчас я только скажу как эта оптимизация важное называется шуба дробильное название звучит конечно прождал ментона но многие блогерах ты блин views и что главное здесь нужно запомнить что если у вас есть views или это идет под запросы в поле from dirty bass и они такие что для них их нельзя выполнить методом вьюнош это оптимизация наверно лучшее что может быть для ваших views и под запросов которое может очень сильно ускорить их вас по их выполнения если у вас льют в который можно мир жить to the way у него все равно лучше чем и была некоторая работа была некоторая работа в репликации опять же весь список зачитывать не буду самое интересная фича тоннельный флешбэк это означает вот что если вы делаете если у вас есть война релог и туда пишутся роба из ивенты значит что для insert ивента пишется каждая строка который даже представлена для делить писака за строка которая должна быть удалена которая будет уделено для апдейт пишется как раз такая была какая она стала это означает что если прочитать больной лак с конца в обратном порядке то можно откатить время назад и посмотреть к вас было таблица до того как вы сделали не знают один сектор дельта делиться им с и флешбэк это ключик хэмм искал бен ногу он делает именно этого начинать война релог с конца он переворачивать всей ленты так чтобы insert и стали делиться медаль it is the rain сердцами и апдейта и можно применить таблицы и отматывать время назад и смотреть получается станет таблицы на какой-то произвольный прошлый момент времени особенно удобно если вы там начальное что-то не то удалили или нет оправдательный и теперь я перехожу к 10 3 еще есть много было много fitch тисе 2 pro которая не рассказал опять же ловите меня после доклада вкратце еще раз 10 3 начали дни работать в ноябре прошлого года следующей весной она будет джей стабильной пять лет саппорт одна из самых интересных и час режим совместимости 40 закончен совместимости 40 он включается командой скс и тайского модерна oracle и после этого моря baby исключать подключать специальный урок ласки парсер ну нет ни oracle от типа ораторского который по нему начинает понимать заводе значительную часть уроков скопил escuela и цель была чтобы можно было переносить приложение написанный для oracle as напела скрылась минимальным количеством изменений то есть оно просто были клиенты которым это было нужно и цель была именно чтобы их приложение работали эта грань и это определяет набор фич который мы тут сделали пишется пара aud и парам in out для хранимых процедур вместо стандартная школьного от парами и над паром появились команды экзит continue in for gold у лейбл в угловых скобках присваивания через двоеточие равно потом свойства через процент процент той призов и так далее опять же команды exception рейс стандартные exception-ы с нестандартными нами и users ки exception-ы когда можно в кавычках писать любой exception потом синтаксис давать то чем для триггеров и для при просто и все это работает . синяки ник город ласки типо типо varchar apple он опять же нал и пустая строка тоже пытается имитировать несколько раз то получилось вот смысл этого всего действия был как я уже сказал что может был очень просто мигрировать 40 дальше добавили sequences они работают не только вора полгода не работает и без 40 ломота нечистого скота стандартная скальная фишка то есть create sequence и все как обычно в основном это работает как вора каллы как другие базы данных появились интер сын intersect except the union был в мария тебе москва очень давно 53 у нас появился две другие операции над множествами строк это intersect и access magic показывает строки которые присутствуют обоих таблицах акцепт который стройка присутствует 1 но не присутствует во второй для хранимых процедур теперь можно определить переменные типа arrow и хранить целую строку несколько значений в одной переменной и можно брать переменной такого же типа как что другого такого типа как другая переменная и такого типа как какой-то столбец какой-то таблицы объединяя 1 тысячи можно пилить переменную типа строка такого же кипра как строкам в какой-то таблицы word те кто использует oracle mode они использовали ту же самую фичу с процент type и процент роутер тоже работает появились появилась поддержка параметризовано их курсоров обычный курсор седым курсор для кого-то солдаты потом его открываем параметризовано курсор выглядит так то есть можно некоторые константы заменить параметрами и указывать эти параметры при открытии курсора получается курсор и намного более рию забыл их можно использовать несколько раз или например можно использовать иной процедуре который передается параметр и без возни с динамическими стоило мтс конкатенация и прочей такой ерундой мы добавили поддержку невидимых столбцов это вот что такое допустим у вас есть приложение табличка созданием столбцом и там че-то какое-то готовое приложение которое уже работает хочется его начать расширять это можно добавить второй столбец и отметить назвать его invisible это тоже sender сидят и 40-го и происходит то что insert интеллекта менять не нужно все работает как раньше чтобы этот столбец был появился чтобы он был виден и чтобы с ним можно было работать нужно указать его имя явно если вы ими указать он виден со актах он видел концертах все работает если вы не указывать он не виден то есть уже имеют что приложение можно не менять она будет работать как раньше это совсем новая фича которая практически сделано но пока еще не было ни в одном релизе стоить агрегат агрегат functions то есть были уже давно можно создавать обычные функции столь фанкшн функции и делает разные мышления сказал нельзя было делать агрегатные такие функции которые сходятся в грубой и мы хотели добавить эту фичу его был опрос какой синтаксис выбрать и эта фича совершенно не стандартная то есть синтаксис ворог ли свой в подогреть подгрести сказал свой еще там кита базар пишут везде свой мы смотрели как это делать и думали какой выбрать в итоге мы решили поступить как все это же выбрали свой синтаксис наш основан обычно все используют здесь call бекки то есть один одна функция для инициализации другая функция для добавления строки из группы и третья функция для вы чередования результата плюс общая какой-то память чтобы они могли ли вы могли обмениваться данными мы этого не делаем у нас это все скопирована с обычных не агрегатных функций которые должны быть уже всем знакомы то есть придать как как бы можно было написать функцию не агрегат ную которая считала бы сумму квадратов значение какого-нибудь столбца в какой-нибудь таблица человек 1 курсор потом мы бежим по всему бежим по курсору мы ждем этим курсом по всей таблицы и накапливаем на сумму строп и в конце мы выдаем результат точно так же абсолютно работает а здесь только здесь не нужно открывать курсор и вместо uni курсора используя ключевое слово fitch крупных строго что было бы фетч курсор для обычного простора а так синтаксис остается такой же как при написании обычных не агрегатных функций т.е. должна быть гораздо легче писать на агрегатные функции потому что нет на вас понятие которое нужно учить этот агрегатная функция показывает как читать сумму квадратов что наверное не очень интересно для агрегатные функции достаточно простой пример в этот раз создаем аккумулятор сун xx и что делать когда кончится группа и потом бежим по всем строчкам группы добавлять склад добавляем суммы x квадрат аккумуляторов и когда группа сработает условия not found и мы возвращаем сумма квадратов так бы было работал бета агрегатная функция системы вершин people это та же настя новая фича в школьном стандарте это по моему был 2011 год означает и того что мы создаем таблицу и поскольку и скрыл это все таки не pearl тут они краткостью изложения никогда не страдали нам нужно сделать вот что начали мы в таблице указываем два столбца тип a time stamp 6 это генерируемый столбцы причем первый из них область роу старт а второй день ready to ussr and тоже такой специальный синтаксис придуманный высказал стандарте потом нужно привить период for system time с именами ки двух столбцов имена могут быть любые и в конце нужно читать вид системы ушами то мы все эти четыре шага сделали это все идти русского стандарт это так так собственный должно быть подключают это называется систем брошен pebble и с ней можно работать как с обычной можно добавлять строки можно удалять строки апдейтить можно снять все что угодно можно сделать такую фантастическую штуку можно сделать из нее select и указать for system time is off какое-то конкретное время и это вернет данные которые были в таблице в этот момент времени вот эта штука тоже будет в моей 2 10 и еще для оптимизатора сделали тоже давние штука которая в стандарте было давно у нас появилась только сейчас это конструктор табличных значений что это такое если раньше нужно было бы конструировать такую табличку с нескольких строк какими-то данными и то пришлось бы через union складывать select и один после другого и на самом деле вас классе нас есть более удобный способ для записи того же самого и теперь мы это сделали штука работает и особо догадливые могли бы заметить что если сделать посмотреть на обычный интер insert and winter лицевой ос это именно вот эта штука потому что нас правильный сильных зданий sword in the имя таблицы а потом и было потом какие то данный который могут либо select либо может быть такой конструктор wailers то есть это то есть insert song in circles это просто частный случай это вот конструктора еще было очень много других множество новшеств в 10 3 я вкратце про них расскажу у нас будет значительно улучшенный спайдер спайдер движок был мария тебе уже давно но он моря гибель развивался слабо потому что auto & спа автор спайдера гиндукуш ибо он своей патчей писал но они оставались у него и теперь они все переходят мэри дебита поддержка спайдера значительно улучшается скорость улучшается spider это движок похоже на фидер или то есть когда сервер работая с другими серверами и поэтому вас на была большая работа пройдя на том чтобы можно больше работы делать на уровне этих удаленных серверов они перекачивать все данные для каждого select a и для каждого до лета на центральный сервер и там их собственные это проверять то есть spider будет мы работать намного лучше намного быстрее instant color для и no debe в 10 3 приведет к тому что если вы делаете добавляйте столбец таблицы и no debe в 10 3 это будет моментально то есть вот так вот это не просто онлайн операция а это вообще не будет менять никаких данных на диске ты просто запомни что теперь в этой таблице из один дополнительный столбец и его значения дефолт и в момент чтения данных быть автоматического дорисовывать то есть они будут не занята бы не будем занимать не по времени вообще комплект colors это фишка тоже для им не только для тебе можно указать для столбца атрибут компресс особенно конечно хорошо для блогов и для текст и они будут сжиматься при записи на диск занимают гораздо меньше места есть поддержка прокси партад появилась поддержка прокси протокола это протокол который поддержка прокси и наконец ирвин тоже есть что как-то репликации был довольно большая оптимизация про улучшения работы житья идеи и когда вы работать несколькими движками в чем в чем тут еде состоянии репликацию системы j1 и хранится в инфекционной таблице вы надели соответственно если вы работать на тебе все прекрасно если хотите работать стоки гибель или там срок сгибе не знаю или с тем же spider am то вы делаете опять транзакцию скажем в рот тебе и jedi изменяется и no debe чтобы это все атомарный закомитить север должен делать туфли из коммент это довольно дорогая операция и на этот реально были жалобы очень сильно замедляет работу и это улучшили так что теперь иди может состоять жить ради может храниться в pov таблицах по одной таблицей на каждый движок то есть отдельно будет для хранится в table война типичной таблицы для работы с in a dime и отдельно не знаю в только и типичный таблицы для работы с токами появились новые оконные функции для вычли не медианы и пишем тайл то есть значение которое 95 процентов чтобы было меньше и пять процентов больше или что-то в этом роде и улучшил теперь можно делать апдейт велит погляди лицам сцен сенсор это был патч который написал один из пользователей и нам его кантри битву идея в том что раньше нельзя было делать апдейт ты был его клоуз использовать ту же самую таблицу в под запросе есть нельзя было изменять таблицы ссылок эти свои таблицы которую меняя что из данной команды теперь-то условия ограничения убрана это все работает прекрасно как а собственно и можно ожидать что оно должно было бы работать деле кажется слишком мне что нас еще полно времени так что можете задать вопрос спасибо сергей вопросы здравствуйте спасибо скажете появится ли когда-нибудь mariem и мы скрыть поддержка индексов при битовых операциях я поясню если непонятно например у меня есть интер колонка к для and earth такого да-да-да-да-да для которых и все прочее но данный момент explain показывает что пробегается по всей таблице ну и неудивительно потому что до по в планах такого не было то есть нужно вначале нужно нам сделать такой фичи request нашей вере потом и там его будем обсуждать принципе есть конечно идеи как такое можно было бы сделать но планов пока не борису хочу это будет эффективно там сюда будет каждый раз больше через таблица все равно выделяться человек сделаете фичи request жира . море debate.org а такой вопрос вот похожий на этот api тм об индексе планируете сделать маленький планируется ли здесь 53 нет в 10 4 скорее всего нет а дальше видно вы вряд вопросы по виртуальным колонкам который можно теперь индексировать вопрос если мы не храним их данной каким образом они индексируются данные передаются в движок для индексирования а потом выбрасывается то есть движок может где то есть обычно данные хранятся как бы в двух местах то есть хранится образ строки со всеми данными индексируем и не яндексе раме отдельно хранятся а ты сам ее бы три деревья с индексами если движок не отмечен если столбец не отмечено что он сохраняется в данных в той области края сами данные индексируем линейных фирмы там его нибудь в bo3 он будет все равно конечно то есть и на все равно храним яндексе все равно хранит и это накладывает ограничение прилетал что можно испортить интернированные функции вот если слагать индексируется то использовать их из листа нельзя 300 sc на этом примере воин духе рак было бы нельзя логично вопрос помощью системы персонам табличку сумму за ровностью насколько они будут то вверх это добавлять при активной вставки получается храним на диске всю историю наверно всегда дар то есть по по диску они конечно будут хранить всю историю об а по времени и по скорости обычной работы там одна из оптимизации которые мы сделали таблицу можно ее разбить то сделать партий шайбой и по этой самой истории так чтобы один раздел хранил как бы нормальную текущую версию таблицы оставить со история хранилась в других разделах таким образом при обычной работе если не лезь в историю это будет подписчиков и как работать со быть обычной талицы эта история хранится отдельно цепи на нетленных нет эта история хранится в той же самой таблице но если ее здесь ли сделать пропишем байки store to a 1 практичен будет свежими данными то есть без истории а вся история будет других разделах поэтому при обычной при обычной работе мы тебя работать только с тем разделаем где актуальная данная история и история на будем от места на диске но они будет замедлять работу с остальными над основными данными а у меня вопрос о флешбэк у тут больше по механизму наверно flashback происходит по как вернее реализованного службы по каким-то . заранее сус нет flash back it up ключ для майского блогом и сказать белок он проходит по белок и он его может выводить пришить высказал флешбек он идет по берегу в обратном порядке и он меняет иван ты так чтобы insert становился деле там отделиться него цен сортом а для апдейта менять местами старое и новое значение то есть получается такой венок который если применять он будет отгадывать таблицу в предыдущем значению а только по предыдущему то есть на 10 там предыдущих на 100 предыдущих этой но нет насколько белок тянется если игрок ты тоже нет котята от меня этого концерта бегали то что то что попадает в белок как роба и strenx'а спасибо тоже вопрос связанный с индексируем ими виртуальными колонками правильно понимаю что первичный ключ нельзя создать папа виртуальные колонки по моему нельзя точно не помню и вот еще про проси конца тоже как аппликация не как вообще учитываются в репликации точно не конечно в я думаю что в европу это не должны естественно работать встречу либо есть я думаете так же как и другие таблица то есть если значит меня sequence in a mage train a slave одно и то же так она и будете пульсировать эта команда mix vol пройдет и там и там будет одна и та же вы то на это же значение хорошо да и вот еще по поводу instant отколов оправе что не любую колонку вас там где можно добавить наверно дал простыми изменение метаданные если это например not null колонка безплатно чения добавляется да конечно то есть обновлять обязательно быть дефолт значения потому что ник любой таблице нельзя добавить нотного сделал значения даже не инстинкт не instant если доверяешь над налога с дефолт значения s и значение взять у нас нет дефолтного значения если она на канал и не дефолтное значение и вообще нельзя добавить них один способ никакой таблицы в плоскости есть тоже такая же вещь do not on the жизни к ограничению такие какие колонки можно добавлять тропку из мгновенные удаления колонки это это они есть на самом деле план и может быть 44 это будет когда быть поддерживаться гораздо более широкий диапазон intent операций когда будет просто там же нужно просто хранить разные версии определи таблицы на ходу конвертировать но это пока нельзя пока что сделано просто info on how to the запоминаете количество строк если в таблице то максим ты считаешь строку в которой опять значит его нужно добавить еще вопрос такой вот вопрос спасибо за доклад по уроку поддержка oracle это это будет развиваться или это просто сделано то есть покрыть ну какие-то просьбы я не знаю но что это за вы просто с учетом то тоже противный функции которые написали придумали свой синтаксис при этом смотрели на урока по фгос не выбрали near в 40 ли там это сделано с помощью объектов этот объект если дается методы который идет разные части поддержки объектов поэтому он плоский синтаксис здесь пока бы не пошел вот весь и там это довольно странно сделан агрегатные функции то есть там нужно создавать отдельно функции а потом их привязывать к агрегатные функции и все это сделано через калмыки мне показал что этот метод гораздо более простой и понятный когда пишут одна функция без call back of без общей памяти который каждый из которой туда лезут то есть ну понятно но и месту покрывать сексистом пела склеила продолжать поддержку орку вы когда во первых самом покрыть или или это просто вот игру были какие-то основные вещи ну все мы конечно не покроем вопрос то на сколько процентов сколько процентов можно будет перенести во первых это это работа на еще будет она будет безусловно развиваться то есть еще поддержку будем добавлять во вторых даже если когда мы даже если мы удовлетворим от этих клиентов полностью на как будут какие-то другие люди которые скажут вот этого штука еще не не поддерживается вот я сказал говорил про ну розу с пустая строка и про обдает sensors это были contribution & какого-то человека который тоже мигрировать на oracle совершенно не связанные с тем что мы это делали и он предлагает патчи так чтобы который чинит добавляют новые функции которые ведут себя как порох ли чинит это она пустая строка поведение это просто какой-то пользователь который мы не листе был ему это нужно они явно тоже уходит 40-го и он нам эти патчи дает и и мы говорим большое спасибо тут нужно исправить а потом мы берем и параллельно мы делаем для каких-то на наших клиентов тоже еще какие-то фичи и так это случилось и тогда случайно сложилось у нас в одну версию пошло окей и последний вопрос тогда получается то что в дальнейшем может появится поддержка полчаса вы начнете покрывать еще что то есть разброс синг се то есть вот этот так называемый универсальность и набор поддерживаемых synthesis of разных сторон них theme насколько это может превратится в какой-то ну чисто чисто теоретически конечно можем но практически у нас не знаю это просто должны быть люди которые должны это это должны сильно хотеть и у нас как личное количество ресурсов поэтому нас должны хорошо мотивировать чтобы мы это делали я спасен замотивирован вот это делать а что касается под колеса пока не очень спасибо за доклад скажите пожалуйста в 10 3 добавляется инстинкт колумб нет а до 10 3 alter ты был когда мы делаем на очень огромные таблицы да у нас метода толок и собственно если у тебя количество записи тону десятки сотни миллионов то проект на myspace собственно в да он просто уходит из супер к на есть перк она тулкит который позволяет понятно танка миндаля добавлять таблицу да потом догоняет ее ему id альтернативы эскиза до 10 3 lost coast anno online system очень что же в мария де бед невозможно дает с нет утилиты утилиты они работа не все внутри зданий как они на уровне скотт работ нибудь работать смотрели бы тоже фая то есть либо проект выводим май таймс мода либо использовать это сторонние утилиты пока а ну да ещё вопросы у того же после со по моему sharding из коробки уже есть да вы не планируете ничего у нас какой то какой то степени тут помогает спойлер и потом у того же kentuck ушиба есть еще vertical практически engine которая надела chilling но в 10 3 она не попала может упадет 10 4 добавление виртуальных колонок сейчас время занимает площадь таблиц любой ддл операция хочет таблицы вопрос том насколько но должно должно быть быстро странице должно быть то есть этот просто обновление метаданных с налоги с нами на время обновление метаданных на это быстро спасибо такой оффтопик комета до толок проблемам году мы можно решить провести альтера сначала наследие и потом просто промоушен до мастера сделать мастер вывести обновить и вот эти вот это онлайн им очень you do и делать ну да нет 2 ю туб собственно вопрос по поводу компрессии отдельных столбцов дает ли это какой-то существенно существенный выигрыш или это все таки игра на спичках выигрыш на спичках потому что база все-таки реляционной niccolo ночную можно ли там добиться существенного сжатия данных это это был configured патч который и анализ люди вы сделали и потрудились чтобы его приняли то есть я думаю что это дает им довольно большую довольно большой выигрыш и еще вопрос не накладывает это каких-то ограничениями производным на производительность опять же при записи или например если данные будут подниматься с дисков память юридически конечно может но практически я так замечаю что на самом деле только улучшает скорость потому что диск мелинга больше чем меньше читаешь дескать он собственно говоря быстрее будет раз покоится бы она быстро успокоиться но опять же гораздо меньше читать учитывая что ford москва ля и как бы работа с памятью slr у вас с с буферами плов то есть он будет держаться в активной памяти то спасибо я продолжу вопрос на эту же тему получается так что зайти по колоночный скорее идет на уровне страниц и да не для несколько строк не для каждой строке то есть это не словарный жать нет а все ясно все тогда словарные сжатие супер конный по моему у них там отдельные словари по нему можно нажимать что вот это нет по моему не для графини еще вопросы ну в общем то все сергей спасибо мария тебе"
}
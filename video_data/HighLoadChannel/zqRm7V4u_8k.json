{
  "video_id": "zqRm7V4u_8k",
  "channel": "HighLoadChannel",
  "title": "Когда работает не только на твоем ноутбуке. Опыт управления сетью в облаке / Дмитрий Бурмистров",
  "views": 968,
  "duration": 2392,
  "published": "2020-04-14T11:20:25-07:00",
  "text": "спасибо глеб здравствуйте сегодня я хочу поговорить с вами об автоматических системах а таких с которыми я работаю и не только но давайте по порядку я сегодня расскажу о роли eos в облаке о проблемах здорово актуального состояния системы принципов работы замкнутого контура управления причинах возникновения появления не надежных систем как правильно проектировать языку и как его мониторить я являюсь разработчиком я с компонентов нашей облачной платформе они отвечают за такие ресурсы как виртуальная машина диск настраивают сеть поверх этой инфраструктуры в облаке крутится другие сервисы по as is as соответственно к ios уровню предъявляются определенные требования первая система не должна быть просто автоматизированная что значит автоматизированное когда участие человека необходимо для штатной работы системы представьте себе как можно масштабировать облака если админы руками создает виртуалке по заявкам от пользователей соответственно мы пишем автоматические системы второе требование это требование качество когда ломается какой-то core компонент в облаке то деградировать может облака целиком включая паз и saas-сервисы соответственно нам необходимо обеспечить надежность с какой проблемой мы сталкиваемся когда пытаемся написать автоматическую систему что любая информация которую мы обрабатываем является устаревшей она устаревает сразу после считывания и и с объекта почему так происходит на объект в реальном мире воздействует множество различных факторов о которых мы знаем о которых мы не знаем соответственно устаревшая информация может быть как актуальный так и неактуальный мы принимаем решение на основе этой информации выполняем какие-то действия если состояние объекта успело измениться наша информация устареть тогда решение наше неправильно о команды нашим могут бросить exception-ы чем больше время между сбором информации из объекта и применением на систему конкретных команд чем больше времени тем выше риск ошибки аналогично риск возрастает если объектов управления у вас много а у нас облака сложно решить эту задачу если ваш код работает в контролируемой среде например как транзакция в базе данных то не очень потому что надо всего лишь одну ошибку обработать когда транзакцию не удалось накатить а всю работу по обеспечению consistent насти данных вместо нас делает су б.д. при этом можно написать простой код если нам не требуется гарантировать результат каждый раз но это все не наш случай мы должны строить автоматические системы управления в неконтролируемом не контролируемой среде как это сделать есть три идеи первое принять и восстановить что в вашей системе возникновении ошибки это часть штатной работы системы это не проблема второе всегда иметь доступ к таргет стоит у вашей системы полному и третье вам нужно сделать процесс управления вашей системы непрерывным то есть постоянное и пытаться актуализировать тогда внезапно возникшая ошибка на очередной итерации может быть исправлено потому что информация не успеет потерять свою актуальность и мы при нем правильное управленческое решение проблем а эти три идеи редко закладываются в системы в таких условиях принцип постоянной обратной связи в общем-то элементарно я думаю каждый из вас его понимает соответственно каждый может пойти и создать свое хорошее облака в научном а этот принцип называется принцип замкнутого контура управления каноничная схема выглядит следующим образом есть объект которым мы хотим управлять есть таргет state в который мы хотим привести этот самый объект сенсор считывает реальное состояние объекта контроля сравнивает реальные желаемое они объекта вычисляя расхождение конфигурации после чего worker может настроить объект устранив расхождение конфигурации и мы тут же переходим на новый виток цикла когда сенсор снова считывает состоянии с объектом и так делаем бесконечно вот два параметра которые отвечают за то как качественно наша система будет работать когда мы чем-то управляем мы хотим чтобы как только мы передумали и решили сменить один ip адрес на 2 например чтобы эта информация как можно скорее применилась на конкретную систему чтобы на конкретном интерфейсе от адрес сменился соответственно нам нужно часто получать новое состояние то есть часто проводить эти итерации во вторых если наш цикл будет медленным то тоже ip адрес будет доезжать медленно то есть время одной итерации должно быть маленьким и тогда если и то и другое у нас есть то мы обеспечим качественное управление в принципе не обязательно выделять отдельно уровень сенсоры worker контроллер может сам выполнять команды в системе но я так делать не рекомендую лучше разделять логику вычисления расхождения конфигурации и конкретной имплементации каких-то конкретных команд и вызовов практика мы написали за прошедший год свой езде внутренняя разработка и полностью следовали принципу музыку вот два графика нижняя говорит о нижнем слое нашего езде на в частности про граффити мы видим внизу всплеск это значит что граффити перестроился верхний график говорит про уровень сетевых приложений такой как роутер это второй уровень нашего езде на и там тоже что-то перенастроить когда в один и тот же момент времени есть какие-то всплески на обоих этих графиках нам это говорит о чем о том что скорее всего пользователь пришел попросил какую-то новую настройку и наша система под это подстроилась но спустя какое-то время мы видим вот такую ситуацию граффити не изменился приложение перри настроилась пошли разбираться выяснили это график с тестовой среды наш коллега тестил свой скриптик на наших серваках и бахнул наши правила в up in в свече как это все отработал вот наша система ходит в плен в с вич сенсор dumped все flow получает вот их там 4 штуки какие-то другие собственно 4 штуки мы хотим контроллер вычисляет что ошибки конфигурации нет и worker не выполняет никаких команд собственно приходит наш коллега пока наш цикл бежал и ломает наши правил удаляет двое добавляет свое что мы делаем сенсор на очередном витке dumped flow видит что теперь их три контроллер вычисляет пропало два нужно создать второе четвертое и удалить лишние 5 соответственно worker выполняет команды удаляя 5 добавляю 2 4 сразу практический совет чаще всего в ваших системах стоит сначала удалять некорректные объекты после этого настраивать корректный новые итого за кого обеспечивают управление это создание удаление изменения ваших сущностей второе это поддержание актуального состояния вашей системы и объектов что происходит когда не следует этому принципу наше облако построена на опыт стеки в основном есть такой сервис нейтрон тоже произведен как он решает эту задачу управление в частности есть пользователь который кидает запрос по песку на создание например формального правило сервер закидывает эту информацию в базу данных и кидает асинхронные сообщение в очередь и отпускается пользователя погулять тут вступает второй компонент на нейтрон агентская но до которая по идее должна считать это сообщение и просто настроить наши фривольное правило может ли случиться так что с доставкой сообщений возникнут проблемы сообщение за дублируется перепутается их порядок или они просто потеряются а что если в системе произойдет сбой и команды будут валяться или в конце концов в самом агенте бага много вопросов но даже если предположить что все будет хорошо нейтрон пошел дальше и в исходном сообщении нет полной информации необходимой чтобы сформировать соответствующие команды соответственно агент вынужден запросить у сервера дополнительную информацию сервер должен выгрести из базы и скинуть в агент только после этого агент может настроить это формальное правила те же проблемы с доставкой сообщения пока сервер ходит в базу данных базы данных ломается что делать новые неожиданности в конце концов сервере может быть бага он может нам прислать в ответе какой-то мусор например просто текст exception внутри сообщения такое бывает как нейтрон поддерживает система в актуальном состоянии вот наше правило все же создалось пользователь счастлив трафик бегает как он хочет но админы выкатывают новую сетевую политику и опять же задевают правило такое иногда бывает что делает нейтрон ничего он не хранит не стоит а не следит за тем что он делает они трон сервер никогда не отправляет ему просто так сообщение иди и сделай проверь что-нибудь от этого говорит горит не только у пользователей но и всех кто система работает xp дотации собственном и разработчики если бы нейтрон применил принцип циклу и просто передавал стоит на агент агент мог бы увидеть это расхождение и исправить его вы только что видели насколько сложная система в ней троне какая там архитектура сколько мест для неожиданных ошибок откуда они появляются во первых мы как разработчики любим свои велосипеды теплые ламповые костыли и героическую борьбу с богами еще нам нас нет времени думать надо коммитить у нас всегда много задач а я одна а надо как то это все делать поэтому очень часто мы скатываемся к тому что первое решение пришло в голову сделали какой-то пальчик залили хорошо к чему это приводит плохой архитектуре плохим интерфейсом не проработанным зонам ответственности и наши патчи обычно случае фиксу багов просто добавляют новых и fav обработку ошибок это делает наш код сложнее и более хрупким а иногда мы считаем что задача решается элементарно или у нас нет опыта работы с этой системой и мы тоже ошибаемся в оценки сложности например мы часто считаем что событийная модель идеально ее надо применять везде или пытаемся создать контролируемую среду нашим кодом в неконтролируемый не понимаю насколько сложно это задач вот другой пример из окон стыка сервисного он обеспечивает работу виртуалок в частности подключения виртуальных дисков к виртуальным сервером чем интересная история проблему не замечали пока пользовались этим людям они заходили вам интерфейс нажимали кнопку подключить диск что делал сервер выписывал индификатор монтирования например вдв и делал синхронно элписе вызов в агентскую но до которая шла я пыталась подключить диск это не моментально операции пользователи обычно уходили чай пить что происходило далее когда сервер нагружен много запросов не всегда удается подключить быстро диск и иногда не укладывается агент в тайм аут тогда control plain просто отстреливает от запрос возвращает пользователю пятисотку рисуются красивые баня раз статус диска остается статусе не подключен но агентская надо продолжает работать и в конце концов подключает этот диск спустя может быть даже секунды эта информация доезжает до веб-интерфейса пользователь возвращается видит ой все хорошо так мы и и живи пока новые не стали пользоваться другие сервисы в том числе наш все та же самая история та же ситуация точно так же не успела компьютер подключить этот диск пользу пользователю в данном случае программе вернулась 500к потом все же это диск подключился и сейчас система в консистентной состоянии но нам пролетает логичной ретро и в этот раз все происходит успешно выписывается новый нотификатор диск перри монтируется все работает 200 . но стоит прилететь далее команде отключить диск новый сервер падает почему две записи что я должен делать как это можно починить можно попробовать добавить арбитры который будет следить за состоянием и все дела как синхронизировать высоко уравнивает может выглядеть следующим образом есть арбитр который пошел там в описку там в control plain сказал что-то сделать сделал пометил в базе данных пошел в агентскую ноду дальше управлять всей этой истории берут эксковатора просто откапывает наш этот дата-центр от всего остального что делать состоянии как мы его докатим или а ткать и это уже практически распределенные транзакции не буду говорить что это не решенная задача но я считаю что она сложная и не могу даже оценить но могу предложить такую задачку сложно ли написать hello world носи кажется что легко главное точку , не забыть но обработали мы здесь ошибки что если нашу программу запустит в нестандартной для нас сценарий и переправят и стыда от в какое-то хитрое блочное устройство нам придется столкнуться с какими-то новыми ошибками и это нужно обработать и так мы ошибаемся в оценки сложности как можно было по-другому решить ту же задачу подключении диска берем языку из сервера отвечаем на запрос 201 делаю вызов асинхронным выписываем спокойный модификатор а далее агентский контур получаю состоянии просто это дело настраивает компонентов системе меньше взаимодействие проще система надежный мы посмотрели на два примера и в обоих из них обратная связь не использовалось как минимум правильным образом если мы отказываемся и и внутри своего сервиса предоставлять что происходит пользователь может раньше у нас раньше нас узнать о проблеме он будет недоволен нам это все дело объяснит и куда делась обратная связь никуда мы просто растянули ее контур до пользователя а время сходимости такой системы выросла до минут люди быстрее не успеваю даже если очень стараются если мы все же обеспечивали обратную связь внутри нашей системы автоматически это были бы секунды и пользователь даже мог бы этого не заметить как все же строить контуры управления во-первых у вас может быть много маленьких объектов которыми вы хотите управлять на каждый из них вы можете сделать по маленькому контуру а можно сделать один какой-то большой контур который управляет чем-то большим плюсы первого подхода время сходимость маленького контура меньше проще код меньше сложность меньшую вероятность багов минусы они бесконечно молотят ходят в систему создают нагрузку более того мы не всегда знаем что нам нужен номер 40 конкретно таких контуров и это может быть динамическая задача тогда нам может потребоваться создать контур управление у которого объекта будет пул конечных контуров другой подход значит у нас есть один большой контур управления он может управлять каким-то огромным объектом как вы сами решите это ваша задача как разработчика например управлять сразу всей операционной системой или вы можете в рамках одного контура управления управлять несколькими не столь большими объектами это не столь принципиально плюсы нету минусы много кода выше сложность больше связанность больше вероятность ошибок а главное если что-то ломается то ломается сильнее чем в первом случае то есть если вас не работает один маленький контур все остальные продолжают работать и ваш сервис практически полностью функционирует и обеспечивает для пользователя услуги если же у вас сломается большой контур чем бы он не управлял либо у вас система полностью уху выходит из-под контроля либо значительно деградирует почему же я тогда про это рассказывать потому что параметры которые мы управляем могут быть связаны зависимо друг от друга мы не можем повесить айпи адрес знания существующей интерфейс и от зависимость может быть глубже может быть нам сначала над создать сетевой namespace положить него интерфейс и только потом на кинуть туда и печник другой вид связи когда значение одного параметра напрямую лекарством зависит от значения другого параметра пример нас есть сервер мы планируем на нем обсчитывать кита задачки если мы сделаем 2 не связанных между собой контура один из которых запускает задача на исполнение 2 следит за лондоне раньше при достижении какого-то порога начинает терять процесса вам система легла почти моментально соответственно если ваша задача диктует вам укрупнения объекта управления подумайте да это компромисс какой подход выбрать соответственно индивидуальный идем от меньшего к большему и для вашей конкретной задачи системы нужно сохранить баланс чтобы система была и управляемая и при этом не слишком сложно как можно оптимизировать работу контура посмотрим на правую часть где мы взаимодействуем системой когда мы идем во внешнюю систему будь то linux или вообще сетевая железка с которой мы снимаем информацию и там долго может быть и наш контур будет тормозить это плохо или же наоборот мы будем очень быстро двигаться внутри нашего контура кидать очень много команд системы и ее положим что делать попробуем оптимизировать как как иногда поступают пишу программу которая при запуске считывает состояние объекта кэширует его дальше принимает какие-то управленческие решения выполняет команды и идет и правит свой кэш то есть мы не не заходим дополнительную систему экономим время делаем более быстрый контур менее нагружается система но что происходит мы начинаем работать с представлением об объекте и на очередном цикле когда что-то в системе изменилось неожиданно все ломается так вот наше представление это не кэш который мы хотели сделать потому что здесь совершенно нет никакой инвалида ция его что же такое cache cache это такая штука которая не должна быть обязательной частью системы если нельзя выкинуть кэш из реализации значит это не кэша часть алгоритма причем плохая часть и это не алгоритм а плохое проектирование системы как же стоит делать оптимизации во первых мы можем между сенсором объектом поставить некоторые коллектор который будет быстро отвечать в наш контур и при этом более лояльно общаться с системой упрощая ей какие-то медленные ответы и при этом не укладываю его рейтом запросов и это будет настоящий кэш если мы уберем коллектор алгоритм не изменится контур как работал так и будет работать далее коллектор не обязан обслуживает только один объект и один контуру дальше оптимизируем часто система позволяет в один заброс собрать всю информацию так скажем пакетные китай команды они обычно более эффективны применяйте если это возможно аналогичная история с маркером worker может принимать отправлять команды в некий ресурс менеджер который будет быстро отвечать и аккумулировать у себя эти команды может быть их даже агрегировать и оптимизировать после чего по определенным триггером сбрасывать это в систему аналогично часто можно одной команды настроить сразу много всего не укладывая систему важный момент ваши команды должны быть и дым патентной почему когда наш коллектор запаздывает он медленнее собирает информацию а наш контур работает быстро он может многое раз пройти свои циклы отправить одну и ту же команду если наши команды не дым патент на мы получим не то состояние которое хотим и наша система просто не сойдется как можно оптимизировать получение таргет state а если вы управляете большими объектами конфигурация может быть значительной это большой сетевой трафик может быть если контур работает быстро это еще и большой пакет рейд а поход по сети это долго перекачивание трафика что интересного можно сделать если контур считает state с объекта посчитает по нему сигнатуру и приложит к запросу таргет стоит а то в control play не можем повторить аналогичную операцию на таргет сети и в этом случае остается сравнить две сигнатуры и вы стоите в ответе только ту часть конфигурации которая затрагивает некорректно настроенные объекты и того наша изначальная схема с учетом оптимизации превращается вот в такую не буду подробно еще раз все это рассказывать отмечу лишь при этом наш контур остается очень быстрым ресурс менеджер должен достаточно часто сбрасывать команды система обеспечивая качественное управления то есть быстрое применение изменений на конкретной системе а коллектор может это делать медленнее это не страшно как мониторить такие системы первое это итерация можно следить за тем успешно выполнил или нет полезная информация время начала каждой итерации последний должно все время двигаться вперед и не отставать от текущий момент он более чем на какое-то пороговое значение и очень важный график это время успешной итерации цикла опять же график с нашей тестовой среды там более показательные графике я смог найти значит вот наш наше время цикла и она растет в это же время мы работали над нашим новым коллектором и катили прям бета-версии на нашу тестовую среду видно когда коллектор наедался залипал тупил жрал память видно когда мы его рестарте ли полезный график время сбора информации соответственно текущего и таргет нова вот время ответа нашей описки которые отдает нам таргет state мы выкатывали новую фичу новый функционал соответственно запросов веб и больше ожидаемо но что было неожиданным это по серединке есть синий график который вырос это 95 процентиль ответа нашего собственная кишки и он вырос в три раза этого мы не ожидали и соответственно мы это быстро увидели и следующие с приняли задачу на fix этой истории расхождение конфигурации можем следить за этим внутри контура и в control play не если сделали соответствующую оптимизацию это график его уже видели когда мы понимаем взаимосвязь системы и мы видим как они перестраиваются синхронны не синхронно мы бы можем увидеть есть какие-то проблемы или нет значит график опять же про наши сетевые приложения зелененькая это создание каких-то новых сущностей желтенькое удаление значит в начале что происходит типичная работа у нас на тестовой среде мы чет потихонечку тестем что-то перри создаем такая фоновая нагрузка позже мы добрались до задачи что нам надо было протестировать нашу новую фичу она дает с то надо было пересобрать у целого проекта сетевую архитектуру здесь видно как мы это делали в 3 этапа сначала мы собрали новую архитектуру какой первый зеленый такая планочка выросла вот переехали на нее а потом просто дрогнули большую часть старой огромный пик наверх соответственно на этом графике видно что если происходит что-то не типичная она сразу бросается в глаза далее ошибки это часть нашей работы часть нашей системы мы их можем мониторить соответственно как мы собираем информацию с объекта как мы пытаемся выполнить на ней команды собственно сам цикл и работал с таргитай там вот фон ошибок в нашем api которая дает таргет state желтой от ошибки зеленый это общий рейд выкатывали новый релиз и новая фича больше запросов нормально но также было сделано оптимизация мы стали реже запрашиваете таргет стоит для тех ресурсов которые как бы еще не заведены ему уменьшили фон фон 400 четвертых сразу это как бы видно на графике показательно целый если ваш сервис предоставляет какие-то слои вот как их можно устроить свой языку и так есть какой-то объект который должен настроиться в вашей системе за 10 секунд точно и вы готовы попробовать это пример сделать дважды тогда вы должны рассчитать ваш сервисные солей соответственно делим общее временно количество попыток нашем случае 5 первые сервы пытается это настроить если не успевает контроллер может перешит улиц это быстренько на вторую ноду где этот объект по пробуется настроить если не уложились и тут в 5 секунд то есть вы шли за общее время в 10 сообщаем пользователю извини не успели в отведенное время все настроить но продолжаем пытаться настроить этот объект пытаемся предоставить сервис пользователя подведем итоги когда стоит применять замкнутый контур управления когда вы пытаетесь чем-то автоматически управлять когда вам нужна гарантия результата каждый раз они время от времени и когда ваш код работает вне контролируемой среде что нам дает обратная связь с системой понимание поддержания системы в актуальном состоянии упрощение архитектуры потому что мы больше не обязаны делать предположение о том что будет и как мы просто пошли в систему и посмотрели просто работает соответственно и сложность нашего кода уменьшается в целом я рассказал такую может быть абстрактную для кого-то вещь чтобы ее понять как и все что угодно хоть тот же ууп и пока на практике не попробуешь пока не поработаешь с объектами wap и не поймешь также языку берите пробуйте можно ли мне верить мы внутри уже написали ни один сервис все которые подходят под выше описанные условия мы встроили на базе языку мы минусов не нашли мы очень довольны считаем что так и надо делать кроме нас так считает да в общем то все потому что все используют какой-нибудь шеф или побед а это система которые работают по принципу замкнутого контура и кубер нить из за что все любят эти сервисы качественно работают и еще раз ошибки это часть штатной работы многих систем делайте к этому мониторинг и вы обеспечите счастье пользователя есть ссылочка на теле грамм это группа в которой я если будут какие то вопросы примерно в любое время и после конференции постараюсь как-то помогать кому будет интересно и спасибо большое за то что слушали уважаемые слушатели если у кого-то есть вопросы можете пожалуйста задать очень много желающих здравствуйте спасибо за доход у меня вот какой вопрос то есть немножко тоже ведь наверное с теория то есть ясно же что контур с обратной связью но ведь может быть сразу встает вопрос об устойчивости невозможно ситуации с положительной обратной связью систему просто будет уничтожаться таких случаях ну и какие то другие более сложные случаи когда там например какие-то циклы где некой одну динамической же систему что-нибудь проект до на самом деле сложная система это когда это физический реальный мир там правда сложно а часто мы все-таки пишем системы там на серверах надо настроить виртуалку поднять или диск не подключить для таких вещей нам уже предоставлено среда в которой есть удобные для нас команды то есть мы можем сказать а и 5 был с restore на конкретные правила то есть такая иди планетная команда и в этом случае система просто не может выйти из этого состояния мы можем сказать сделай пожалуйста вот такое действие системы это сделает либо полностью откатиться состояние и ситуации когда будет какие-то побочные действия которые будут стрелять ну прям редкие по крайней мере основе практики с этим толком не встречался поэтому когда в компьютерах мы тут что-то такое типичные для индустрии делаем это я не могу себе пока так сходу представить ситуации если вы конечно там не знаю вот будет доклад про атомные электростанции вот там вот это вот все есть компьютеры но много связи с физическим миром там там вообще другая история то есть это как бы прям совсем база база для маленьких до а там есть целая теория это целая наука теорию управления собственно там все рассказано как делать в других случаях если ответил спасибо спасибо за доклад вопрос в частность пересекается немножко с предыдущим вопрос валидации таргет стоит а то есть того что с системы можно снять текущее состояние именно в таком ну именно такое какое записано в таргет стоите то есть скажем таргет стоит есть он ну как бы контроллер выполнять все действия но системы данные которые приходят они не совместимы с таргитай там я и как части этого вопроса из этого ну на мой взгляд когда две таких два контура работают на одной системе они могут начать и вредить друг другу соответственно вот со вторым просто согласен я там про это рассказывал да то есть надо понимать когда строишь систему как они с собой взаимодействуют может быть укрупнять первый момент про первый вопрос значит для этого сенсоры нужен это как раз есть интерфейса в данном случае как бы конфигурацию эта часть интерфейса то есть есть какой-то объект какое-то состояние и наше желаемое мы должны выстроить такой интерфейс да то есть такой формат конфигурации которые мы сможем поддержать конвертируя запросы пользователя в него второе это сенсор задача сенсора вот он сделал дам дальше его от процессе и выдал в контроллер например вот как у меня было просто множество flow тоже самое можно сделать и как бы с на стороне api свели к данному формату и тогда контроллер как лучше чтобы контроллер работал на максимально простыми данными и как раз я и говорил про уровень имплементации вот этого всего это оставляйте сенсорах дааа контроллер делает простые вычисления над какими-то чаще всего простыми множествами и тогда у тебя получается по вычитал считая это удалить это создать и все так эта задача решается на практике обычно то есть если правильно понял это правильно спроектированная api некий здравый смысл и набиты шишки выделяйте сенсор в отдельный компонент который можете дорабатывать в контроллере просто вы читаете с это грубо говоря вот прям супер практический совет здравствуйте александр опять же вариации на тему первого вопроса если у нас есть индуктивность то зачем вообще нужен дамп и контур кажется что мешает нам просто каждый раз и хоть один тот же стоит если у нас есть яндекс мы можем это получается делать сколь угодно много раз согласен 1 иди planted ность может быть на не всегда есть доступ к таргет стоит соответственно он должен быть я про это говорил если он есть то все действительно будет работать но если вы просто будете каждый раз применяйте ты патентные команды на тот целиковый таргет стоит а вы например облаку управляетесь попробуйте каждые пять секунд сказать сервер настройся вот так целиком операционка ляжет на 3 итерации и вот как раз сбор и сравнение состояние позволяет найти ту маленькую разницу у меня уменьшить количество взаимодействия с системой и под но отправить минимум команд в нее тем самым как бы обеспечивает быстродействие системы и эффективное использование железа надеюсь ответил здравствуйте если можно хотел бы услышать конкретные кейсы применения рикон style лупа для настройки сети например быстро пицунова вмк что вы делаете сетью я немножечко другая примера скажу там чуть попроще потому что портала колесника вроде бы было в теме такого типа сеть хотя бы больше правительство дело в том что мы сейчас шли в ногу тогда полезем смотрите допустим просто надо сделать сетку да вообще вот заходишь вопрос так надо кликнуть создать сеть в ней подсети и так далее это нужно как бы как-то настроить то есть если хотите в mq сеть нужно сеть значит когда вы говорите создать подсеть это значит что облако должно поднять dhcp сервер для вас metadata прокси чтоб когда выемка поднимается она могла сказать о какой мне должен быть айпи адрес дай мне там ту себя ту информацию чтобы я могла настроиться соответственно сетевая инфраструктура и сделан должен все эти сервисы вам поднять вот-вот в частности до пользуюсь нажимает хочу сеточку у нас конфигурации строится теперь должен появиться не просто там вот такие-то 5 10 и бисеров но еще и 6 отвечающий за новую подсеть 192 168 024 вот конфигурация изменилась она приезжает на сервер scheduler говорит где эта штука будет работать дальше наш агент он видит так появился изменилось конфигурация делает дев видит что нужно разделить network функцию держишь типе сервера и для этого все дела и там создает создает сетевой namespace прокидывает с этого весь и всякие порты в такой от их всякими проводами виртуальными и не только настраивает правило чтобы трафик правильно между ними пробегал и тогда когда вы потом воткнете с помощью новую виртуалку свою сеть там понятно построиться какой-то доступ к ней до грубо греб такой виртуальный продлен и сделать у вас будет настроенная инфраструктура для этого соответственно удаляете под-сеть текущее состояние 6 версий пи серверов должно быть 5 что надо сделать приведена ну я так сходно не могу и если что в кулуарах могу попробовать поподробней вот если сходу не получилось спасибо я так вижу что больше . задать вопрос нету что же дмитрий по традиции нашей конференции докладчик выбирает лучших вопрос сложно мне несколько вопросов понравилось александр пам вот с первом ряду ну что ж александр поздравляем вас подарок книжечка и крошечка от нашего партнера wargaming но и соответствие теперь вам дмитрий он тоже порочна небольшая наград за то что вы пришли на нашу конференцию и причина ли свой материал аудитории дайте пожалуйста докладчиков адис ментами спасибо"
}
{
  "video_id": "dal7IWXIk00",
  "channel": "HighLoadChannel",
  "title": "Techtalk с Денисом Рылеевым (РСХБ)",
  "views": 126,
  "duration": 520,
  "published": "2022-03-21T13:56:19-07:00",
  "text": "всем привет send холодный один и я сейчас вообще из них умерли и из россельхозбанка который расскажет нам про то как устроен под капотом конкурс который можно видеть сейчас в них настанет и низ привет привет расскажи пожалуйста что это за конкурс как раз раскрыть вам его идея идея конкурса просто мы хотели завлечь участников чтобы они немножко больше уделили время в каком-то задачи до какой-то которым мы предлагаем решить и в общем-то и чтобы она занимала по времени немножко дольше времени чем допустим там полчаса которых непосред на решать задачу чтобы это такое было домашнее задание по большому счету да но я играю что мы с тобой разберемся в контексте high-low то есть высокой нагрузке и насколько я понимаю с нагрузки там успел столкнуться надо обязательно какое количество примерно запросах ты встречал на предыдущих конференциях на предыдущий конференциях на самом деле людей которые по-настоящему нагружают систему ну был буквально два-три человека все остальные там ради интереса может запускали какой-нибудь карл тогда я запуска for each да и тёплые думал я наверно там близок победителями до таких вот много но были там два три человека которые запускали все это и танком и веером там и намного хвостов и намного часов но в итоге все на самом деле упиралась с первого провайдера у него был довольно узкий канал то есть получается не выдержал все таки входной не выдержал провайдер да да супер ну по сути дела сейчас это уже приложение которое я сам написал который складывает информацию флик house в общем-то вчера я вот и стиву последнюю самой версию у меня получилось там за несколько часов там больше миллиарда вопросу обработать artero суть этого причем почему в идея идея в том что скорее заставить участников и просто подойти и замер чем-то заинтересовать их на долгосрочный то есть это такая задача на скорее даже такая надо так что вряд ли кто-то придет на конференции начнет это задание выполнять задание следующее тебе нужно прислать как можно больше и заголовков нос при данном формате за сутки либо за час там две номинации в общем то скорее как ну из того чтобы из практики давай уже третий раз будет проводить нет 4 3 получается что обычно люди за это берутся люди в конце первого дня либо вообще ночью между первым вторым днем потому что сама конференция либанова то нет либо там чуть еще нет либо там денег нет на каком-то облачном хостинге чтобы за тепло и что-нибудь вот и уже ближе там que tal начинается реальная борьба там народ начинает веселиться у тебя по участию настоящий хай-лоу тот момент да да то что я обычно в эту ночь не сплю потому что начинается технические проблемы там нужно будет стелить там сервера еще что-нибудь причем там что-нибудь начинает естественно отваливаться потому что я сам под такой нагрузкой это не мог протестировать и поэтому да это получается бессонная ночь на сколько раз было столько раз я практически там до 6 утра все сидел смотрел как это все происходит в общем-то ну из таких веселых моментов получается что вот опусти в первый раз на high лодка того был как раз тоже земли по моему получилось так что ближе к шести утра там просто откат учили сетевую карту у провайдера я писал заявки они такие ритму глаз там проблемы там погасла мне кажется просто и знание решили стоит у доски просто взяли и физической включили просто пародия я тебе хочу выглядеть масштаб ситуации это все есть конфа на confess and ты запустил в рамках этого стенда какой-то конкурс кто отправит больше какие-то разных заголовку данными это не банковская какая-то ситуация не наш сайт там нет это просто какое-то абстрактное приложение которое умеет обработка торы и узнала ограниченный корешей человек и начали вот то есть у тебя получается ты на коленке собрал целую тренированный температур для работы с 20 коми с обработкой большого трафика из именно у нас вы жили как у тебя получается там по это попытка потому что у тебя что запускается под капотом у меня все складывается клик хаус это все дело изначально это были два индекса друг за другом один который принимать загну как бы для того чтобы их можно было масштабировать да там под доменное имя прокладывать так как угодно и второй был ну точнее там три звена была каждая за стоит индексом чтобы на прямой запрос нельзя было пихать который неправильный стоит просто engine x за ним engine x за ним приложений которые суть собирает в балке к ритму запросы чтобы не все миллиарда писать да там миллионы все эти и дальше уже сам за индексом заставить пихал чтобы напрямую в него нельзя было писать просто очень интересно получается у тебя реально целой архитектуры папа выдерживания большой нагрузке легко масштабируется да да то есть у тебя получается какой как какой замес у тебя получается той у тебя есть конкурс любой желающий может отправить запрос на тросе даст с вами мылом чтобы можем потом отличить и запроса куда шли как бы идея в том что кто то вы оправитесь больше всех стране получается на другой стороне именно юзеров все придумают разную систему как можно было бы бомбить твой сервак со всех сторон слот написать могут стандартной утилиты испортить я могу пойти на vs запустить какое-нибудь сервер лес который будет будет просто миллиардные количество просто слать тебе со всех сторон и дам заголовки будет моим просто да отлично смотрели вы получается на ровном месте создал кейс которому или тренируется а создавать большую нагрузку вот и как-то работать с этим типом особых запросов б ты тренируешься это за загрузку тракт и обрабатываю да получается своей у тебя целая архитектура решения такой вроде простой задачи всего лишь всего лишь вроде бы до сдачи простая у тебя уже у тебя уже есть джинс который фронтовой который принимает запросах и джеймс которые сваливать запросы балок субботам пачка их отправить в нокаут и там же кликов криков со мной джек спешит или нет дата растит engine и чтобы напрямую нельзя был тоже она не имеет права просто сама логика image соление запросы записи cliff house джентиле там есть прослойка этому до изначально была на и джон exec там с банкиром который 2 ней но в итоге я уперся в то что он медленно работать я написал свой у меня сейчас один стенд на два ядра может обрабатывать порядка 30 тысяч запросов в секунду глобальный представляешь есть продукты которые получают нереальный всплеск нагрузки например интернет магазин в черную пятницу да и твой опыт он make говоря может быть полезен времени количество счастья вы допустим хотел бы у лари нет же работает под капотом я вам сейчас рассказал то что ты джинкс engine цикле house получается такая ну такой трехэтажный уровень данного 2 я полностью заменил на самописный но нет я там написал как бы обработчик на джаве то есть engine java и кликов за ok и вот сейчас у нас идет конференция extended конкурс и присоединиться к тому чтобы бомбить сервер denis да идея в этом как раз в это время denis будет ночью смотреть за этой статистики умирать не спать и делать так чтобы вы могли учатся этом конкурсе собственно да и провайдера у добавить мощности потому что они закончились там еще что-то тревожит и стал настоящим харлова там-то и все проблемы холода то есть это тот фактор что провайдер то выработка сетевой карте без твоего ведома потому что это хайло вот получился тоже не приходит выстроить этот балкер engine который будет агрегируется запрос в этом пачки и тепле cows целом скорее всего apple house тоже может быть было проблем с оптимизацией или да мне даже пришлось двух провайдеров сменить что в итоге выйти на нормальную нагрузку там же еще диск должен успевать только надежную ssd и может быть не один тебе чтобы он успевал такую объемы формат забил там практически все в памяти ну кроме самого клика усы ну да данный тип сохранится даст подвешенные к камину пирсе становились выданную розетку и все врешь и в итоге большая тайна ровно месяц остался полноценных его кейс ну да честно говоря я его изначально предложил котов мне интересно было спасибо что семь раз посмотрел это был синха в 1021 дениса леев и сбросив из банка и его прекрасный способ простой как создать нагрузку на ровном месте и как потом с ней справляться дениц большое тебе спасибо да теперь вы все знаете что можно подойти к нам на стол и узнать правила проведения конкурса и теперь зайди и теперь вы знаете как это работает и может быть вы найдете способ все-таки это положить чтобы низ и была еще более интересно этим справляться до всех приглашаю"
}
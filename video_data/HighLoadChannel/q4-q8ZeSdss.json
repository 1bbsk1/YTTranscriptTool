{
  "video_id": "q4-q8ZeSdss",
  "channel": "HighLoadChannel",
  "title": "Как цифровая трансформация приводит к росту числа ML-моделей в проде / Денис Занков (Газпромбанк)",
  "views": 217,
  "duration": 584,
  "published": "2023-01-19T07:01:38-08:00",
  "text": "всем привет с вами highload fondation 2022 меня зовут козлов роман я из подкаста олимпиад с нами сегодня управляющий директор департамента анализа данных и моделирования газпромбанка звонков denis denis тебе слово добрый день роман приятно познакомиться меня зовут звонков denis как уже было упомянуто я работаю в управлении розничного моделирования мы за сынов сфокусированы на биту си бизнесе в банке я в основном занимаюсь построение моделей связанными с откликами со стоками я имел ввиду машин learning модели то есть модели призванные принятому помощь бизнесу принятии решений сейчас в банке идет активно цифровая трансформация и таких моделей становится все больше и больше как построение автоматизированных моделей может повлиять серьезно на бизнес давайте рассмотрим два кейса в любом банке есть зато клиента и даже в любой организации по данным каких-то consult raw привлечь нового клиента стоит 5-25 раз дороже чем удержать текущего то есть работа с оттоком экономически оправдана здесь мы можем какие-то придумать бизнес-правил ассоциативные оля look like какие-то и дальше их экстраполировать на всю базу но когда у нас миллионы миллионы клиентов цена ошибки растет и мы уже не можем так однозначно утверждать что там какие-то бизнес-правила нам помогут тем более что если мы предсказываем научились бизнес правилами предсказывать отток то мы не предсказываем что наши действия возымеет эффект или нет на него в этом вся и сложность здесь нам в помощь приходит имели есть так называемое семейства uplift моделей мы берем какую-то капельку клиентов но сейчас клиентской базы делим их на контрольную тестовую группу контрольной группе мы не делаем никакого предложения от тестовой группе мы как раз делаем предложение на удержание это может быть как повышенная ставка так и какое-то рефинансирование кредитного договора и так далее то есть какие-то спец условия если потом в обратную сторону обработка клиентской базы после рассылки то есть если сравнение насколько клиенты которым скажем так наша модель понравилась чтобы в дальнейшем именно точечно направлять наши предложения наиболее похожим друг на друга клиентам ну вот как бы как это происходит мы ранжируем всю базу бизнес готовить какой-то бюджет и мы просто убираем по предложению гид по верхушке топ который наибольшую вероятность отреагирует на предложение здесь еще в чем преимущества данного подхода до что не только эффект что мы удерживаем клиентов но мы не спамим тем кому это неинтересно то есть это дополнительный эффект что мы как бы лояльность сохраняем тем кому это не надо в любой модели нам нужно в первую очередь выделить какую-то метрику по которой будем работать если для в кейсе для оттока у нас будет ну непосредственно отток или удержание денежных средств то в банкоматах нам наверное интересно посчитать касты которые мы несем на банкомат это будут инкассация расходы на безопасность на электричество и так далее и поделить это все на количество людей прошедших через банкомат за какое-то время ну или денег соответственно эту метрику нам надо оптимизировать поставив на банкомат в наивной лучшую точку что мы делаем здесь нам на помощь приходит гиа аналитика мы берем какой то регион допустим город делим его на полигоны считаем в каждом полигоне среднюю зарплату среднюю стоимость жилья например данные какие-то об инфраструктуре количество школ качество дорог количество маршрутов транспорта ну и считаем наше присутствие в этот в этой в этом полигоне то есть или партнеров наши то есть наполняете модель какими-то данными но в либо модель на наполнить данными да здесь гиу аналитики нам поможет такая информация по гео слоям так называемым ну и соответственно на основе этого мы можем каждому гиа слой предсказать вот эту вот метрику целевую и то есть уже ставить эти банкоматы более цельно целесообразно целенаправленно хорошо у нас есть модели у нас есть прогнозирование у нас есть результаты для бизнеса которую мы принесли а если какие-то проблемы если наша модель не сработает или если с нашей моделью будут проблемы с точки зрения ее текущей работу то есть мы ее запустили она почему то сломалось и еще интересный вопрос как долго работает наша модель то есть вот сколько времени она должна обрабатывать массивы данных и тут мы невольно приходим к связь нашей любимой связки rubber ducky ре зация соседи и так далее то есть каждая модель должна запускаться как сервис должно гарантироваться отказоустойчивость должна быть масштабируемость и так далее текущей наши боли наверно вот вопрос о том что модель подвержена изменениям влияния внешней среды а мы видим что сейчас внешняя среда очень сильно меняется например для банков эта ставка рефинансирования она выражается в том к насколько мы можем рефинансировать наши денежные средства и это влияет как бы но на все на всю экономику банка сложность там вот вот где здесь появляется мой лепс конкретно дам что у нас есть еще отдельный блок по переобучению модели и каждый раз при изменении внешней среды каких только серьезных мы видим просадки каких-то дмитрий качество модели именно таких математических и метрик эффективности вот этого uplift а про который мы говорили в кейсе с оттоком то есть нас падает разница между контрольный тест рука качество нашей модели это кушается до качество нашей модели вы кушается и мы проходим весь цикл заново то есть это сборка данных предобработки обучение модели этому дальнейшее тепло и мониторинг нос тут вся сложность том что обучение модели может занимать несколько недель 1 вот одна модель может быть часто несколько недель мы просто берем откладываем выборку какую-то которую модель не видела и на ней просто считаем предсказания и сравним ее с фактическим значением и считаем вот этот уровень ошибки так что у нас получилось и что было бы если бы никоим образом не влияли на нашу выборку нет это немного другое вот эта третья метрика третий вид метрик это наша эффективность модели то есть мы всегда откладываем процент людей кота с которыми мы не взойди мои действия например то есть этим людям мы offer any key не присылаем они у нас как бы живут в вакууме и поэтому мы можем посчитать то есть постоянно в реальном времени эффект от нашего взаимодействия и если мы его не взаимодействовали и вот эта разница всегда должна быть то есть вот три типа метрик их надо как-то там собрать воедино если какие-то проблемы связанные с безопасностью да мы превратили это не просто вам эллипс в мальчик abs так называемый что происходит да ну такой явный пример что некоторые пакеты написаны учеными или какими студентами но они достаточно неплохо работают именно с математической точки зрения но эти студенты и ученые вообще не задумываются безопасности и как бы ему главное провести какой-то эксперимент и так далее у себя в университете и поэтому безопасность у нас постоянно дает какие-то рекомендации к увеличению там безопасности кода ну например это не использовать ни какие-то меры методы и обновления и так далее но это нас возвращает проблем в том что если вы обучили модель на старой версии и вам не зарезала безопасности этого надо заново обучать на новую версию и мы опять возвращаемся к тому кругу что мы идем там в обучении моделей которая может занимать много времени и так далее что мы сейчас как решаем эту проблему мы выделили джентельменский набор библиотек который покроет 9995 где-то процентов наших потребностей а дальше индивидуально работаем в каждой библиотекой и так далее насколько долго ну вот идет процесс согласования моделей сложности моё в том что единого pipeline они существуют до мы видим разные процессы и все равно нам нужно где то что то показывать каким-то независимым валидатора мы обязательно это прям требование cb чтобы были независимы валидатор которые вообще не имеют отношения к моделям но не смотрит не смотрят отдельно от как бы от разработчика дорогие зрители мы завершаем на этом наше общение с вами был highload fondation 2022 меня зовут козлов роман излин клеопа и замков denis управляющий директор департамента анализа данных моделировании газпромбанка спасибо за внимание всем пока"
}
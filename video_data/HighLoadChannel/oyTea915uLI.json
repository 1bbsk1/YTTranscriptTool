{
  "video_id": "oyTea915uLI",
  "channel": "HighLoadChannel",
  "title": "Alasql js - SQL база данных на JavaScript / Андрей Гершун",
  "views": 616,
  "duration": 2078,
  "published": "2017-03-30T23:39:10-07:00",
  "text": "спасибо за то что остались тем у нас будет немножко такая специфичная я вам расскажу о некоторых библиотеки которые по сути являются не просто библиотека является полноценным сиквел серым но который может работать в браузере и на но тут же так так хочешь на 1 1 но в рамках своего доклада я хочу рассказать в общем то в начале начать зачем вообще такая библиотека нужно когда есть такие прикрас и крупной базы данных тепло раков например это майские лили по сгрыз а с другой стороны есть например такие базы как выпуске ель точнее было или яндекс dp 2 я хочу рассказать немножко о том как устанавливается это библиотека как ее можно использовать и дальше поговорить о том какие задачи в общем то можно решать в ради каких они говорят каких задач она была собственно изначально написано и какое и использует сейчас пользователя кроме этого я хотел поговорить немножко о некоторых дополнительных возможностях то есть что происходит чеком когда ему попадает в руки паркер и в вас есть возможность развить создать свой язык как можно расширить собственно самый spain ну и поговорю о том как оно устроено внутри может быть для вас будет тоже интересно если вы разрабатывать какие-то библиотеки для общего использования какими вещами мне пришлось столкнуться то есть каким сложность но низко шло в предыстории откуда это все взялось дело в том что совершенно случайно для себя примерно полтора года назад я возглавил проект по разработке систем бюджетирования одного из крупных вузов нашей страны и пожеланий в общем-то было простой сделайте нам пожалуйста excel но только в браузере сожалению у нас не получалось в общем то есть поспорить со стандартными компонентами потом пришлось написать огромное количество вещей ну и первая проблема с которой мы столкнулись у нас был простой grid прошу прощение не знаю почему он такой сейчас суженый вот и надо было его отсортировать но отсортировать по одной колоночки не вопрос отсортировать по двум колонн очкам это уже некоторая сложность дело в том что на тот момент то библиотека который мы использовали мы использовали ловишь тогда версия 2 чего-то там 31 она не позволяла не обладал такой функцию сортировки по низким столбцом в результате написали такую функцию причем сделали и универсально естественно что наши пользователи экономисты они хотели сортировать и вверх вниз вот и даже эта функция казался очень быстро она оказалась быстрее ладоши там в несколько раз но на этом дело не закончилось потому что наши пользователи сказали так а сгруппировать а вот excel еще вот так может а вот так а вдоль и поперек а что если древовидную структуру в этой в результате родился целый большой набор библиотек потом примерно где-то полгода назад ну извините библиотек молодая поэтому рассказывать все в реальном времени пришел наконец то решение о том что что если к этой библиотеке при приделать parker chris в результате получился вполне полноценный сквер сервер который совсем даже не соответствует слова ли зачем вообще необходима такая библиотека где она может быть полезна дело в том что конечно очень практически все что делает библиотек вы можете запрограммировать сами вот но с другой стороны запрограммировать select это просто запрограммировать уже ордер buy чуть посложнее запрограммировать грубо еще сложнее особенная а сделать joy например там совместить несколько таблиц я думаю что в общем не каждому это будет даже под силу но преломи кроме этого библиотека раз развивалась знаете как отход я сидел на stackoverflow и смотрела какие вопросы задают люди то что их волной вот и в результате в библиотеке оказалось несколько возможностей которые в общем то очень близки тем задачам которые она обычно решать-то например импорт-экспорт данных из excel или например и все если очень часто и задачи которые приходится решать или например можно ли хранить данные на клиенте тут ответственно с теми хранилищем которые присутствуют если ход черных то это на самом деле ничья вот мой сын еще расстроился когда мне проиграл notes не когда мы вышли на ничью таким вот образом я хочу сказать что на самом деле браузер это такое интересное место где в общем-то большие базы и большие системы в общем то оказывается пример в таком же положении как и наши замечательные маленькие библиотеки которые мы работаем и получается что если мы работаем там сотовым телефоном или с браузером то бывают такие ситуации когда большая база может просто оказаться быть недоступно например плохая связь водка или когда хочется хранить данные на клиенте или например когда нужно быстро быстро что-то обработать как нашем приложении потому что нам надо очень быстро знаете там со скоростью excel и пересчитывать формулы и поэтому нужно это делать достаточно быстро слава богу java script достаточно быстрый язык и он позволяет написать нам некие некое приложение аляску верю родился сожалению это не первая библиотека у него были некие предшественники ну во-первых выпуске которые благодаря мозель и он честно умеешь то есть его как бы на него положили но вот примерно там 2011 году если бы они не положили я бы не стал писать аляски это понятно общем то есть появилось место на рынке вот второе это конечно база индекс dp которая была пришла но можно так сказать на смену выпуске если кто-то из вас разрабатывал для яндекс baby что-то знает что в общем это не очень удобная штука но вот честно говоря я бы поубивал всех кто это делал это разрабатывал вот естественно родились за отсутствием таких баз родилась несколько решений ну во-первых решение такой называется сквиджер с это скомпилирована с помощью emscripten es que el white ну тут и само словосочетание сколько за скомпилирован с помощью скрипта на научим накладывать некие ограничения во первых сквиртла это примерно полтора там гигабайт гигабайт а вот во вторых эту штуку очень медленно умирает на 20 тысяч записей кроме шуток . вот есть некие другие библиотеки типа сиквел сферы но она с очень ограниченным и склеим ну и есть ряд решений так называемые почти иски тепла в field или там войти биде били по учёбе которая реализует но они реализуют не полностью все прелести и склеили из квн на самом деле замечательный язык который позволяет очень много вещей делать которые например такими вещами с помощью линков сделать невозможно так это не у меня это у меня вон как можно использовать и square прямо в java скрипте на самом деле очень хотелось бы это делать на тину таким простым способом как мы это используем большинство других библиотек но первое это включить соответствующую библиотеку а дальше просто вызывайте сквер с помощью в параметров функции вот например так как сделано это здесь создать табличку с городами вставить туда записи и потом сделать например тот самый любимый select который нужно все знают иски и отлично то зазывать не будем сильно повторяться но на самом деле конечно же вот так полностью просто в тупую используете леску или на java скрипте просто обидно потому что гораздо лучше использовать эти два языка вместе вот ну например делать то что у нас большое количество данных она на самом деле представлена в виде уже сразу в готов виде java script массивов и почему бы например не и споры не развить вот это вот технологию с параметрами так называем вопросительными знаками и просто не сделать запрос по этому мотиву естественно тот запросик который у меня здесь на 5 . на самом деле фильтр да то есть фильтр + сортировщик но дело в том что такой страх фильтр сортировщик мы одну таблицу от ничего не стоит написать но написать на 5 таблиц joy нины там например с левым joy нам ли там справа у джен я думаю сможет абсолютно никак не каждый поэтому вот это как раз то что алейск делают очень и очень хорошо библиотека на самом деле очень проста в использовании смотрели сегодня с утра доклад андрея происшествий вот теперь понятно почему у меня синего цвета здесь у него есть два интерфейса у нее есть синхронный интерфейс дело в том что обработка большинства массива фанат синхронный действительно это очень просто обрабатывать таким вот образом вот но и естественно в тех случаях когда мы говорим о том что у нас есть например какие-то внешние данные например надо подгружать или например яндекс baby где синхронный организации синхронного интерфейса в общем то по определению невозможно валяешь клэр есть так называемый асинхронный интерфейс для того чтобы подключить асинхронный интерфейс достаточно просто третьем параметры написать callback система сама определяет есть callback значит асинхронно если нет call back это синхронно ну и естественно есть третий вариант это так называемые не знаю переводил переводил обещанная ppi у него есть встроенное в общем то кроме за то есть вы можете точно так же в правильном режиме вызывать все что нужно как подключить библиотеку сейчас библиотека она есть виде java script file вы можете ее скачать я вам в конце там ссылки вот а также вы можете сейчас я зарегистрирован на всех основных менеджерах пакетов то в нпф bowery мне теория вот подключение может происходить всеми доступными методами известными это команды smd и скрипт там принципе стоит стандартный у энди ну и плюс на самом деле есть еще пару хитростей для метеора сделаны если кто-то сейчас использовал последней версии мастера знают как там сложно если зависимости нет джек мере ставить не надо вот то есть она работает само по себе за одним исключением дело в том что разбор акции цели или например доступ к гуглу понять это большие отдельные задачи они лучше решались другими людьми поэтому для них придется действительно ставить дополнительные библиотеки но кроме этого сейчас оля из клиенток технологически сам уже вырастает за большую систему у нее уже появились новые первые плагины то есть и скорее всего какие-то новые дополнения будут писаться уже видим то есть будет ядро и будут какие-то дополнительные плагины система точно также очень просто работает в квартире то есть вы можете его использовать для этого надо просто запустить маленькой библиотечку который называется алейский worker и она точно также 8 полностью сохраняет тот же самый интерфейс она позволяет в общем сделать искать запрос единственно что все это работает будет где-то в выборке то есть совсем другом процессе это достаточно может быть удобно принять в и загружайте какой-то большой файл или его обрабатывайте то есть он будет точно так же с помощью кэшбэка будет вызываться значит что он может вот на самом деле теперь давайте я вам расскажу что можно впихнуть в общем-то в пару-тройку сотен килобайт в нем реализована практически все не практически все но существенной подмножество искрило 92 я имею виду традиционной операторе select и причем достаточно в развернутом виде вот это все круто оператор это monsieur дилетанты таблицы вьюшки в общем-то индексы и на самом деле огромное количество других традиционных операторов причем но честно расскажу о том что синтаксис я набирался миру по нитке то есть где то брал диск верёвки где-то брал сиквел сервер ски где-то брал под грессов ски где-то справа мая шкель стараясь постараюсь максимально совместить эти синтаксис потому что люди которые используют библиотеку они в общем то работают с разными вещами ну чего нету триггеры но они будут обещают вот причем скорее все будет на java скрипте транзакция скорее всего ну ближайшее время по крайней мере не будет это тяжело но и гранты в общем они не особенно нужны потому что мы работаем в рамках одного массива у меня есть на самом деле для того чтобы говорить о том что то серьезное в общем-то где сейчас активно занимались тестированием есть специальные тесты которые были разработаны с queen лайтом и низ там этот институт стандартизации американские вот и сейчас вот на сегодняшний день результат тестирования примерно такие что вот русский logic тест это 140 тысяч запросов это разные запросы совершенно там креатив и select и совершенно разные там многостраничных ну 95 процентов но селекции совпадает но примерно 65 то по всем остальным но это скорее даже думаешь связаны с моим партером тестов в больше чем сам и таблицы с местам там ситуация такая там порядка 20 тысяч запросов но там порядка 50 процентов сейчас проходит потихонечку тебе покажу что все идет в одно и кроме этого есть свои юнит-тесты сейчас порядка там 300 unit тестов которые очень пробегаю все это проверяют каждый раз при каждом билде как можно использовать но на самом деле реализованы существенное подмножество а лишь пели в андре просил рассказать какой-то историю на я потому что лучше про котиков вот он будет совсем такая несложно если у нас есть несколько котов есть большое количество мышек каждый приспособлен съеден а было как каким-то котом вот то в принципе можно это все модель промоделировать прямо высыпались китайский api я это показываю показывает что в общем-то это стандартные склеим ничего тут такого особенного нету единственное есть некоторые маленькие изменения дело в том что так как мы находимся в java скрипте поэтому пришлось бы добавить несколько таких типов например string или нам бар потому что они более естественно для java script а вот видите записи в квадратных скобочках в обратных корточках все знают откуда это наверно нижней вариант это скорее майского левский версии верхней это больше там microsoft ски и пост грессов ски вот есть frenchers например праймари из все это как бы реализованный все есть стандарты оператор insert вот причем есть возможность два вида insert и то есть можно заставлять это делаешь крыльев таким образом а если хотите если вы действительно любите java script можете напрямую лист базу там описано где это находить базы данных просто оставлять за массив даже не паритесь по поводу в того чтобы писать вот эту вот делайте точно такой же запрос что касается вот здесь очень интересное слово join если вы увидите дело в том что валяюсь квелли реализованы все join и но андрей сказал про мою двойку ну вот я решил исправиться изучил всего 8 дюймов которые нашёл на текущий момент поэтому я думаю что в очень вы можете даже найти например каким-то там 7 и join in the joy на которых в общем то в обыкновенных реализациях нету или на пряные чарджоу но это все работает это все действительно она есть кроме этого есть несколько операторов которые не типичны для вообще для многих как бы баз данных но пришлось их реализовать и the cross of laughter uplay то есть некий вот для тех кто из вас может быть имеет отношение к лапам знают что можно грубая делать еще не просто грубой но еще там например суммировать cook group and social up но и даже реализован некое подобие сети единственное что пока без рекурсии то есть команд областей будет спрошен все это тоже в общем то есть но естественно обидно использовать это дело в java скрипте но при этом не обрабатывать java script объекты поэтому туда был добавлен некий синтаксис которые позволяют это делать я принципе изучал активно как это сделано в паз грейси мне жутко не понравилось как они обработки с java script объектами я предложил свой 7 секунд простой достаточно ну вот но прямо внутри текста вы можете фигурных скобочках использовать java script объекта стандартные введены некие дополнительные операторы но 2 равно это глубокое сравнение если это необходимо стрелочка это как в как язык на три буквы начинаешь на покупая пока ты вот застрял стрелочка в общем за стрелочку понятно что это такое просто дело в том что . к сожалению москве или занята то есть и поэтому пришлось идти на такие извращения внутри джейсона можно вставлять любые выражения вот еще одно извращение на которые пришлось пойти это дело в том что квадратные скобки и сквидом занята совершенно для другого поэтому приходится как в объекте все ставить амперсенд ну вот этот от коммерческой но это уже как бы последствия то есть на самом деле в системе реализована как бы и большой подмножеству из стандартного из квн и большое количество поможет нестандартные школе и еще некие дополнительные обработчики связанных сжал скриптом причем он имеет на при а строить индексы по вложенным джейсон объектом это тоже сейчас я покажу то есть получилось как это роман написал мне так понравился этот твит . фан-встреча библиотека вот теперь у меня задача обратно какой сделать поменьше дать каких задач она может использоваться но мне например я просто очень много работал с bio и приложением для меня очень близки задачей теле то есть загрузки извлечение загрузкой обработка вот ну в качестве примера я хочу рассказать например как я отчитывался перед своей женой о том как чем я занимаюсь по ночам вот я говорю слушай вот смотри на самом деле это очень интересно потому что огромное количество людей из разных стран там из пакистан и из индии вот из сша они приходят и смотрят вот смотри у меня есть вот такой вот список людей которые приходят на slade шею вот но здесь в общем то если вы посмотрите здесь есть только название стран но название странных городов а мне хотелось ей показать это все дела на глобусе я это за хоть хотел сделать с помощью d3 но я нашел где-то библиотечку так не библиотечка где это список тоже с данными которые показывают где какая страна находится у нас на глобусе осталось дело за малым просто взять соединить вот тут список и это то есть почему это не сделать помощью join от обыкновенного сквирского join а то есть вот один взять слайдшер 2 взять с гитхаба и получить и передать это дело в google maps вот пример это реальный пример join а то есть который в общем то вы можете посмотреть здесь все так достаточно чисто и натурально сделан то есть делается в начале первый запрос в котором запрашивается слайдшер все как все view которые в общем-то были на моих презентациях ниже join я беру совершенно другого места причем из интернета вот это вот все и свичку в которой написано как это в египет дадите широта-долгота каждой страны вот дальше их соединяю по полю кантри и получаем некий ответ а вот теперь дальше от все передана в гугл мэпс и очень-то визуализируем то есть ведь мне на самом деле очень нравится мне очень радует что не только и в европе смены штатах но люди по всему миру о чем использовать до 3 это маленький примерно на самом деле вот такого рода задачи они очень много занимает времени особенно если вы обрабатываете данный вам надо их загрузить в браузер или танцы на воде или подготовить есть если это очень часто происходит вот алейска илим позволяет делать как тушенный в ответ fox сразу взяли подготовили не надо не грузить никакие браузеру то есть прям java скрипте все это дело обработает для того чтобы это облегчить эту задачу но вот так как но бюджет позволяет делать в общем-то утилитой сразу команды я сделал маленькую утилитку она ставится прямо вместе с олежкой если вы ставите пакет называется олег он хотите используйте ее просто как калькулятор хотите можете прямо использовать например вот такой вот для решения такой задачи например взять из таблицы медалей из excel от какие-то данные выбрать данные 2008 года и сохранить все с vip-file если вам приходится это делать например каждый день какие-то аналогичные задачи например там нам приходится делать часто выгрузки например в определенных сельских таблиц пожалуйста берите просто она будет самое то все делать естественно что потребность есть по хранению данных на клиенте я думаю что я опять другая немножко индекс baby то есть просто сделать простую выборку небольшой в какой-то части базы данных на низах baby этом достаточно больших как это много буков вот хотя на самом деле вот это вот первая строчка она говорит а то это вот окрашивается у нас в яндекс дебит для того чтобы использовать яндекс baby валяешь гель достаточно просто добавить одну фразу attach индекс дебит да это baby do it вот я на уже автоматом подключиться к yandex baby найдет эту базу и дальше вы с ними можете работать в общем-то стандартном режиме то есть вставляет записи в изготовлять записи выбирать записью и так далее если хотите local storage как вы думаете какое слово изменить делайте все то же самое просто вот сейчас написано несколько брендов то есть гал около 100 рычаг для яндекс baby есть еще для файловых хранилищ и но на самом деле библиотечка написано расширяем то есть если у вас есть например желание помочь нет firebee сам или с какой-то другой библиотека вы можете в общем-то воспользоваться простой фундук propose простым подходом то есть там есть несколько таких открытых кусочков на привыкнешь тележкой legend super bass и дальше для super bass пишите свою функцию создать базу данных достать файл передать файл и так далее то есть это делается достаточно не сложно точно также можно написать например свои функции если хотите можете написать свои агрегаторы то есть например вам хочется посчитать географическое среднюю есть такой геометрической профессии вот хотите посчитать напишите свой агрегатор там написан механизм как это делается если с этой задачи вы столкнулись естественно что библиотека не живёт сама по себе народ и ее использовать вместе с каким-то другим библиотеками ну например у меня есть большой опыт и используем там сингулярном с d3s метеором народ ее используют сейчас с той был топом вот ну вот хотел показать маленькую задачку к того как он может решаться например вместе с д 3 эта задачка в общем такая что есть данные по медалям они записаны сейчас в excel иском файле вот и хочется вывести и например проанализировать если у вас есть такой источник данных делается это все достаточно несложно в то есть не сложным запросом то есть вы говорить о том что вы забираете соответствующий медали по определенной оси но здесь я уже так записываю с индексом с шестым но это неважно вот и с файлами это медали вот дальше суммировать их там золото и серебро и бронза вот мы и дальше с помощью очень простой программы на д3 просто подключаете естественно что в d3 тоже есть свой читатель там из все свои стопы но что позволяет алешки он позволит вам добавить туда сортировки и группировки и так далее join и вот то есть это делается достаточно просто это пример тоже есть по ссылке можете его посмотреть попробуем даже в этом сам работа телефоне за рамками иск вино на самом деле было еще просьбу от разных пользователя не говорят о попробуют нам сделаю еще кое-каких какой функционал и вот здесь мне как раз хотелось похвастаться двумя функциями дело в том что в java скрипте нам часто приходится искать не только помощь массиву объектов до или по массиву мафию а иногда приходится искать в глубь то есть вот так называем travelsim деревья вот я подумал почему бы не добавить такую функционал вот и вот здесь мне хотелось как раз привести пример как как интроспекции то есть оля из квн помогает сам себе дело в том что мне иногда надо проанализировать аисты деревья который устроит парсер кстати здесь есть стройный parser и скверы если вам нужен пользуйтесь то есть просто алейский репортер вот этот парсер выдает в результате некой такой сложный джейсон дерево вот соответствующих объектов он просто раскладывает эту строку и например иногда бывает задача для меня там найти например вот хочется найти вот такое поле с таким-то названием с такими какими-то признаками вот одно например агрегатор су я специально написал некий оператор который использует язык очень похожи на expose но с неким в дополнительным возможностям я сейчас не буду остановится может быть доклад вот новый просто пишите бы найти на огне не определенной глубине агрегата ради она находится умирать выдает примерно так же как и спас то есть можно его использовать дополнительно вместе с select a mi или например еще одна задачка например этого графа то есть вот тоже повредить люди зорин baby попросили написать им некий frontend для графа у них есть расширения ну например это может быть задачу вот есть у нас такой графон неким определённым образом может храниться там где встроенная сейчас хранилище объектов не только таблицы но и объектов вот например вот система есть например функции сейчас как найти кратчайшее расстояние между двумя позиций вот например как найти от саши путь к маше и при этом окрасить все делающих красный цвет ну конечно это потом передается в d3 но вот эта картинка она честно построенный я в руками и не раскрашивает о компьютер то есть это он сам находил он сам общем-то это дело можете посмотреть все это есть на сайте в общем-то открыто что находится под капотом у этого маленького монстра ну в общем то устроена эта библиотека как наверно любой другой язык программирует то есть есть так называемые эликсир которые слова превращает лексема дальше парсер который собственно разбирает вот это вот дерево большой строит дальше есть интерпретатор но самое интересное что есть валлийский ли ты его компилятор его в том что сложные и склеили выражения он компилирует таких выражений как селекции search пилит апдейт так вот но под слоем компиляции я понимаю вот следующее то есть когда например если вы сталкивались с сортировкой то в принципе вот это вот выражение на искье ли оно должно быть от транслированы примерно вот в такую вот функцию от и немножко упрощенный вариант а на самом деле чуть более сложная вот такую вот функцию на java скрипте но после этого вы ее не просто так запускаете вы создаете новый объект новая функция и дальше его применяйте уже к сортировке вот один раз если такая функция сработает и будет медленно второй раз работать будет чуть еще медленнее а если третий раз сработает будет в десять раз быстрее 4 10 раз быстрее чем таким образом мне удалось разогнать эту библиотеку до достаточно высокой скорости что в некоторых на некоторых выборках она даже работает быстрее чем выпуску или мы уйдет прошу вас оценить это дело потому что выпускали написан на си и потому что вы оцените вот это реальный тест вы можете его проверить причем самое смешное что эти тесты с со временем меняются потому что гугл работает явно на мою сторону потому что у них постоянно оптимизация работает все быстрее быстрее быстрее поэтому алейск версия убыстряется даже без моего ведома я еще один пример такой скорости на самом деле даже иногда ли эскель может выступить быстрее чем человек я вас приглашаю присоединиться к небольшому соревнование было свое время на stackoverflow опубликован небольшой вопрос ребята у меня есть пару тысяч записей можете ли вы их помочь мне сгруппировать вот и дальше выбрать группу с максимальным количеством в общем-то на песке или это записывается примерно вот таким вот образом дальше народ соревновался соревновался вот они выбрали какой-то вариант но теперь посмотрите на результат ведь это вот как бы сверху java script потом java script потом джон скрип внизу олешкевич ведь результат оцените если у вас есть желание присоединиться напишите свой вариант быстрее я даже обещание небольшой приз ну на самом деле поэтому мне бы хотелось бы завершить уже как бы свою часть выступления то есть и так в общем то говорят наркотиков рисовать это достаточно простая библиотека вот сейчас она занимает порядка 400 килобайт она будет сокращена обещаю вот то есть это будет короче пример до 200 народ ядро будет вот она позволяет реализовывать иску или с хорошими вставками java скрипта она легко расширяемая она интегрированы она удобна в использовании ну в общем вперед не на самом деле большая просьба то есть вы можете найти все эти примеры на гитхабе она открыта точки вы можете загружать вот небольшая просьба но если не жалко поставьте звездочки если вам понравится эта самая библиотека на гитхабе по крайней это будет от этого приятно но на этом наверное все спасибо вам большой зон ваши вопросы да пошел таком микрофона верно дать сейчас здравствуйте спасибо за доклад вам вот у меня такой вопрос есть небольшой совсем утилита командной строки она помимо экселевский если вес файла какие еще поддерживают на счет встроенного что нам можно что читать exercises that джейсон она может вылазить вот мой блюз кроме этого если хотите можете написать свой то есть в данном случае не очень простой интерфейс расширяем то есть назвал их фромы фронт функция то есть вы как фронт такой tool in turn то есть мы можем сказать спасибо большое причем они могут быть и как синхронный такая синхронно добрый день конечно поразило проделана работа скажите пожалуйста примерно уровень меряли сколько на логическом уровне то есть вот именно самый стиль по парсится вот он половая вас то дерево переводится и при по времени сколько это получается да и второй вопрос сразу же вот вы показывали что к и сколько перелиться в год то есть я могу этот код скажи мне не нужно чтобы он делал запрос javascript код выбрать для себя такой возможно найти как значит по поводу сейчас давайте второй вопрос потом первое на что он компилирует он компилирует в что-то страшнее а из м . вот если хотите вы можете просто вставить ну как я это делаю для отладки st дерево же там на правильного ланки начальство дерево получить можете присмотрите то есть там есть несколько частей они отделены логически то есть во первых вы можете отдельно распарсить код просто получить расти дерево если вам нужно вот вы можете в принципе ну если есть места если попросит я даже сделаю туда хуки она может вам выдать джаваскрипт функций но они настолько оптимизированы то есть это хуже чем messengers точно понятно почему потому что со скоростью бороться вот но часть вещание будет скорее всего не даст тут ну то есть там не вся часть не все компилирует только самые критические моменты там вот эти вот функции select group а то есть я так понимаю что вы компилируете вот эти вот ордер и грубая то есть вот то что вот то есть то есть тот идет именно то что то те вот группировки вот эти вещи они кооперируются у вас там на самом деле очень всю хитрость время контакта есть например вот celeb возьмем да то есть интеллект он с его функциями он полностью компилируется но вокруг этого select и есть на самом деле joy но тогда я бы называем условно называют join процесса он один раз написано уже просто его смысла компилирует нет просто большая там большой кусок кода вот и так далее есть некие хитрости например куб то есть если с группировать когда не покупок у план там знаете она например губ разворачивает но это сделано просто для ускорения потому что иначе получается со всеми вот так а первый вопрос про логический уровень с кельского сколько примерно на джейси занимает пересмотрите ремонт здесь действительно есть некая хитрость то есть парсер это наверное сам к сожалению то сейчас самая большая часть этой системы самой медленной части системы так и для борьбы с этим есть как бы несколько вещей там есть фишер вот кэширование то есть она на самом деле работа хитро то есть вы видите подаете запрос она его в начале компилирует сохраняет кэш вот только после этого выполняю причем поэтому кстати вот на вот jasper he такие высокий результат и потому что на самом деле они но многие процессы они скомпилированы вот поэтому есть некий даже рекомендации о том что очень хорошо использовать например функцию с этими с вопросительными знаками с параметром что на их от комбинировал один раз и все и не надо перекомпилировать она в кэше просто смотрим и работа от этого быстрее причем вот за счет вот этого кэширования она зачастую работы быстрее чем например разного рода link библиотеки потому что они не могут кэшировать алиска вели может поэтому вот так но это задача на самом деле сейчас я использую jison в качестве парсер это в принципе один из быстрейших сейчас паркер снова хочется и вас оптимизировать есть еще много чего делать открыт спасибо спасибо владимир кузнецов спасибо за доклад интересно библиотека и продолжая вот вопрос молодого человека а не было ли такой задумке сделать типа компилятора шаблонов вот как and bars компилируется мы получаем функцию во время билда также мы можем все ваши сколь запросы скомпилировать и получить я сохраняю же воспет файл и потом вызывают там где мне нужно будет использовать эти эти функции они линия не у меня другая идея я имею ввиду что я беру на стадии билда компилирую все sql функции в в некий java script код сохраняя волну в виде файлов и потом использую виде файлов потому что вы сказали 400 килобайт я не хочу тащить 400 килобайт себе в проект для ради какого-то там одного небольшого запросе к знать потому что сейчас у меня вот и запрос был такой от 9-го парсер в принципе porcelain отдельный отдельный файл может быть отдельный и может быть пассивом ничего просто спасибо за доклад у меня такой вопрос могу ли я женить два массива по методам по функции можно конечно функции будет каждый раз перечислить ну пересчитываться или и вот они как-то один раз спешивались и уже пример знаете как она сейчас делать то есть что она делает во первых то есть у него там стоят некие интеллектуальная штука вот она пытается разобрать при join ах стандартную ситуацию ну например там одно поле из 2 она тогда то что она делает перед джои рамона на самом деле делать индексацию сама вот то есть она делает индексацию и функции каждый раз не будут выполняться не один раз попроси таится в начале и потом дальше они выполнят принципе с джой нить можно вот cross join на 8 мотивам люберцы тестовом варианте она еще работа дальше уже там тяжеловатый это проблема java скриптов на самом деле очень интеллектуальный joiner здесь не стал рассказывать там стоит оптимизатор который на самом деле бежит поэтому он выражению вот и пытается найти соответствовать с удовольствием потом расскажу про стресс даже на пальце смогу спасибо осипа ну что ж большое вам спасибо за"
}
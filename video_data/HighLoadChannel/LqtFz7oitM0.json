{
  "video_id": "LqtFz7oitM0",
  "channel": "HighLoadChannel",
  "title": "Как продакту инфраструктурного софта через телеметрию познать клиента / Аркадий Велькер (erlyvideo)",
  "views": 187,
  "duration": 3050,
  "published": "2025-01-17T02:34:15-08:00",
  "text": "Всем привет Спасибо что пришли в этот жаркий день меня послушать и послушать ответ на вот этот замечательный вопрос значит сначала о том собственно кно мы мы с 2010 года занимаемся всеми оттенками передачи видео в разных средах мы пишем софт это программное обеспечение мы делаем железо индустрии Где мы работаем это развлечение связано Это с телевидением это Отт это телевидение через интернет это телевидение которое через спутник А мы занимаемся видеонаблюдением и так как мы продаём программное обеспечение то клиента мы видим ровно один раз когда он пришёл купил лицензию И после этого ну как это если вс идт хорошо он платит и не пользуется то мы его не видим если он начинает пользоваться у него точно возникают вопросы чтобы вы масштаб представляли вот немножко цифр здесь у нас 21 у наших клиентов где-то сейчас уже под 23 миллиона зрителей ежедневных активных То есть это очень много это распространено Ну то есть наш софт использует в странах больше чем в ООН ураны только где на соответственно как мне как продукту вообще говоря в этой ситуации что-то планировать что-то делать куда-то развиваться что-то понимать о клиенте потому что Ну средний клиент он напуган вендора напуган настолько что не сильно хочет контактировать нуде языковой барьер они как правило не могут говорить мы на одном языке не разговариваем а мониторинг нас не пускают доступы не дают И это всё для нас означает что мы по большей части не знали В каком даже окружении мы запускаем при этом клиентов мы всё равно видим потом Хьюстон что-то пошло не так оно случается и Здесь мы получаем ситуацию когда клиент Ну в отличие от тех ребят Вот на Ало 13 они в общем-то никуда не хотят они не хотят нам помогать они не делают то что мы хотим они не дают нам доступы они Не объясняют всю правду о том что они делали то есть вот свежий пример буквально неделю назад к нам пришёл Клиент говорит у не у меня перестало работать после того как я Перезагрузил сервер оказалось что проблемы начались вовсе не в ту дату а двумя неделями раньше и перезагрузился не этот сервер немножко другой и в общем оно вот так вот накапливается А здесь нужно сказать что самае наверное самая большая особенность в том чем мы занимаемся это то что конечные зрители они жалуются своему провайдеру не сразу то есть есть такой накопленный эффект То есть если немножко что-то подключит Ну вот вы телевизор смотрите или там какой-то видосик ну затормозила Ну пройдёт и если оно затормозила и пройдёт 10 раз за серию это начинает уже надоедать если это 2 недели так происходит вот тут начинается Шквал обращений к нашему фактически листь Нам ко За нашим клиентом испытывает неудобство А мы про это вообще ничего не знаем и клиент про это тоже ничего не знает По большей части решили думать как нам собственно добраться до данных Как нам получить собственно показания С тех мест где куда нас не пускают вспомнили Погугли чтоле эту протри в X веке ещё они мерили снежный Покров и зачем-то его передавали в Париж в Париже наблюдали а сейчас все вокруг используют То есть сейчас без телеметрии Наверное вы не представите себе место то есть вот везде есть какой-то датчик который что-то куда-то передаёт а Но есть один нюанс так как мы находимся Ну вот это не боевой Стерх у не нет звания и ему как-то вот догадались и как-то его Убедили вот эту штуку Налить на себя чтобы передавать телеметрию это который летал в Китай из Приморского края и ну собственно его трек весь контролировал это орнитологи изучали Но самое Тут главное это то что А в общем-то был не против то почему мы с нашими клиентами Кох сся не можем провернуть ту же штуку расскажу историю история уже двухлетней давности 2 года назад к нам пришёл один крупный медиахолдинг из Европы у них стояла бизнес задача Они купили 49 мелких операторов Отт и решили всю эту вот клиентскую базу консолидировать под один брен в качест опорного венде для всей медиасистемы потому что у нас лучший архив лучший DVR для телевидения приспособленной и собственно начали заливать клиентскую базу накупили много оборудования хорошего красивого дорогого поставили нас всё настроили ито Наре начали жаловаться на скорость просмотра из архива Ну та самая история человек пробует не получается пробует не получается В итоге чем больше нагрузка в час пик начинается отказ значит к нам приходит клиент и говорит ваш Медиа Сервис нагрузка не справляется идите чините мы говорим Ну ребята у вас мониторинг есть Давайте посмотрим что не справляется может вая доступ можем вот логов там туда-сюда вот пытайтесь Давайте нам что-нибудь для отладки ставить и так далее выяснилось мы находимся в этой во всём в этом во всём проекте у нас с одной стороны хранилища это достаточно большой крупный вендер который занимается сетевыми хранилищами а с другой стороны у нас еден понятно что как это сказать у тех всё хорошо по линейка у этих вс хорошо по линейка А мы почему-то здесь вдруг оказались не в том месте не в то время значит что мы решили померить Мы решили померить За какое время мы реально поднимаем сегмент из хранилища Ну всё видео в интернете доставляется маленькими кусочками это сегменты соответственно сегмент у него есть продолжительность в зависимости от проко хочет сегмента Может быть там от 5 до 30 секунд а соответственно Вот это время нам надо разбить на четыре части примерно и мы можем себе позволить потратить время на подъём с хранилища этого сегмента чтобы его дальше отдать только 1/4 по факту и это допустимая для нас скорость работы хранилища понятно что мы не можем собирать все сча слишком будет много мы стали собирать счётчики всего четыре соответственно всё хорошо это меньше 1/4 что-то надо обратить внимание это от 1/4 до половинки с 34 до половинки точно проблемы Ну а если с че и выше то это означает что мы точно не успели и на лите на лите будут проб Аа В результате мы получили очень чёткое понятное доказательство того что хранилище действительно не справляется не справляется эпизодически и связано Это было с кэша на стороне хранилища тут мы уже позвали вендора объяснили нашу систему замеров показали им на примерах что да у них там что-то в их Аска драйвере случается и оно в общем разваливается Клиент получил совершенно понятное а понятную линейку Аа получил возможность добить Аа всю клиентскую базу демиглас инфраструктуры ну а мы получили А собственно спасли нервы всем в этой компании замечательной и всё это было благодаря нашей э замечательной телеметрии которую мы тогда уже построили значит что важно помнить при сборе данных с серверов С тех самых астов которые стоят по всему миру Первое это то что надо быть как можно более незаметным То есть это не должно вызывать никакого ражения это должен быть минимальный канал передачи это не должно занимать много пам про забирать персонального то есть мы собираем только цифры никаких токенов там и так далее и в любой момент мы должны иметь возможность если нас попросят выключиться сказать всё больше не Вари это с первой версие работает вот как только мы её впт выпустили она влияет на функциональность То есть если вдруг мы где её мы её принимаем как-то не можем её принять или что-то ещё это не должно повлиять на раздачу видео зрителям значит что у нас получилось вот такая вот картинка значит э серверы клиентов - Это собственно наше по оно стоит где-то там а оно всегда связано то есть наш медиасервер он всегда связан с сервером лицензий а это требование оно в лицензии указано соответственно на сервер лицензии сливаются телеметрические данные все счётчики используемые сн1 в качестве транспорта Ну упаковки А и мы себе поставили цель что мы не должны поток телеметрии выходить за 5 кибит в секунду ну для несколько сотен метрик они сейчас е чуть больше килобит добавляют туда какую-то дополнительную информацию и пачками укладывают это всё Хаус для дальнейшей обработки здесь задача решалась Давайте детально про каждый квадратик поговорим что мы считаем на сервере Мы группирует же то есть мы ничего никаких ивентов Мы не собираем как это вот принято в скажем так в классическом продакт менеджменте сейчас мы и группируя была Сейчас загрузка цпу памяти графических процессоров сколько мы транскодирование есть сессии публикации то есть мы вообще говоря занимаемся передачей видео И для нас важно то время ли проводит на просмотре поэтому мы агрегирующие субтитры добавляется оди в профиля флаг Таким образом у нас вот этих фиче флагов там несколько сотен и весь тракт все всесв места в медиасервер они так или иначе покрыты а также мы а покрываем фичи флагами все внешние интеграции то что вот я сейчас говорил то есть то как мы общаемся с хранил кой а то как мы общаемся с системой авторизации То есть у нас внешняя система авторизации по отношению к нам и то как мы с ними общаемся Мы тоже храним эти счётчики мы храним счётчики по http ошибкам и всё это в рамках вот конкретных сессий дишни сессии это никакая не секретная информация понять кто там реально под ним живёт Ну невозможно дальше соответственно все счётчики у нас важная вещь они все даты старта потому что они все лежат в памяти по нулям стартанул и с периодичностью заказанной сервер начинает на сервер лицензии отправлять просто текущее состояние без затей пакует всн и поехали а сервер лицензии Может в ответ сказать Я не готов Не Вари или вообще сказать забудь больше не передавай мне или сказать давай-ка ты мне будешь передавать раз в минуту То есть в принципе мы со стороны сервера лицензии можем этим потоком управлять потому что ну мы-то знаем сколько мы можем на сервере лицензий а то что мы получим знания о сессии там ну не раз в 30 секунд а раз в минуту Ну вроде как не сильно оно повлияет на что-то ну и соответственно все показания только в памяти никаких хранилищ никакого сервер выключился всё данные потерялись объективно мы теряем где-то порядка 5% Ну это не страшно потому что те цифры которые то как мы это используем оно Ну практически нам не мешает Почему сн1 это достаточно стабильный стандарт используется он в iot Он позволяет очень компактно передавать данные То есть у нас большой массив цифр это битовая упаковка соответственно мы пакуем это быстро то есть упаковка она арифметическая она не требует больших ресурсов ни цпу ни памяти то есть Ну всё в памяти Сосчитай А И хотя разработчики конечно наши говорят что это всё потому что у нас офигенный Тулин для иланга и они когда выбирали ан Они вообще типа про это не думали просто было быстрее Но на самом деле здесь ещё сыграл тот фактор что нам совершенно в этом месте Не требовалась никая человеко читаемость То есть это чистые биты А никто их прочитать не может если ты не знаешь ан схему для особо пытливых клиентов мы Конечно же это всё раскрываем чтобы они понимали что там вообще передаётся когда они видят этот набор цифр Ну это такое они говорят можно а Почему через сервер лицензии частично уже объяснил значит самая главная вещь Это то что у нас это идёт внутри тарификации то есть Мы объясняем клиентам с первого дня в лицензии что мы собираем телеметрию в целях тарификации и можем чётко сказать им что благодаря этому ваш софт вам обходится дешевле Потому что если вы используете его для видеонаблюдения это не круглосуточная трансляция есть но зрителей там вообще нет видеонаблюдения их и меньше чем на входе соответственно цена другая то есть мы можем брать за камеру например мы можем брать за Stage который мы сохранили мы можем брать за там мегапиксели которые мы Ну лучше из имеющегося у нас в наличии сетевая доступность мы условно разбили мир на несколько таких пости интернет зон Ну когда мы все начнём окукливание в очень жирных дата-центра с нашими серверами лицензий то мы и кли хаусу имеем достаточно хороший большой хороший устойчивый канал то есть сервера лицензии достаточно быстро эти пачки передают чтобы потом это дело обрабатывали а И самое главное у нас мягкая система лицензирования то есть мы сразу пошли по пути А давайте-ка мы на Новый год лучше будем спать Чем бороться с тем что у нас сервер лицензии погрузил во тьму потому что сказал всем выключаться вдруг вокруг Пусть поработают выйдем с новогодних праздников разберёмся что с ними дальше делать Ну кликхаус тут понятно ничего сейчас пока лучше не существует для того чтобы собирать телеметрию которая с одной стороны То есть это тари сго это многое да скажем так тысячи серверов и это сотни разных версий мы релиз где-то три раза в день у нас как сказать система релизов мы мастер всем даём спокойно ставить у нас треть клиентов живёт вообще на Мастере А и соответственно то та версия на которой стоит клиент она вот прямо с точностью до комита видна в том числе в телеметрии соответственно в каждом коммите может приехать новая Метрика и с этого комита она начнет собираться здесь есть одна хитрость так как мы храним счётчики то у нас принято Ну дефолты на всех счётчиках в Хаусе стоят МИД То есть если мину 2 Значит эта версия вот эту циферка мерить не умеет если приезжает минус о сервера Это значит что при сборе этой метрики возникли слото в котором Это должно уехать либо SN как-то скрю Это для того чтобы можно было легко фильтровать и понимать вообще кто а но - это но ну ноль у нас это не использует значит фичу lity сильно ускоряет Low cin это в кликхаус есть такая замечательная штука когда можно то есть кха реально хранит инты А по факту В запросах выдаёт текст то есть в виде таго до пока в словаре очень легко с этим работает а у нас много таких вещей протоколы типы сессий то есть вот эти все штуки мы завернули вли оно вроде циферка но при этом Человек читает который с данными работает совершенно спокойно телевизор сервер начал отправлять каждые 30 секунд апдейты по этой сессии лиха если у него модель хранения он все вот эти вот замеры схлопывается в одну и у нас получается одна сессия с большой продолжительно для ожида что у нас стабильность работы нашего сервера такая что у нас сессия может и месяц длиться ну как вот реально но с этим тоже возникают сложности с 3 Надо быть аккуратнее Потому что когда у тебя длинная сессия получается что кликхаус пишет в прошлое и для него это не всегда хорошо ко в у нас выглядит так вот техподдержка приходит тикет вместо вопроса А кто вы что вы Где вы запускаете что вы делали фана а и мы смотрим показатели вот Это пример памяти вот здесь видно что где-то там в мае зелёненькая на жёлтенькая это вот с версии на версию с 2402 на 2405 человек переехал с память всё нормально всё хорошо вот это вот пример телеметрии из адептов ап тайма это человек ничего с сервером не делает я вот за полгода взял на нём график он раздаёт там 2 с поло Ну в Пике почти 3 Гигабит с сервера живёт он на версии 2207 2207 - это июль д вго года Ну понятно да что он давно Негрей и у него вс хорошо то есть ему Ему не надо но он пришёл с какой-то другой проблемой и на другом графики что-то не так А дальше как вижу сейчас клиентов я так как у меня есть фичи флаги по каждой сессии Я знаю продолжительность которую наге нери Мне каждая фича и это у нас та самая Стар Метрика это dpss это duration per Stream Севе то есть чем эта штука выше тем интенсивнее клиент использует конкретную фичу вот клиент Вот у него список его фичей где он хоть что-то попробовал использовать чем темнее цвет на вот этой вот карте тем интенсивнее у него в это время использовалась фича и мы здесь видим что он захватывает по ТСП проигрывает по лаву и у него ещё есть DVR и это по вот этим штукам можно однозначно сказать что это клиент который видеонаблюдение у нас использует он с камер по ТСП захватывает записывает всё это дело в архив и у него стоят мониторинговые центры которые в эти камеры собственно смотрят а дальше больше а мы для того чтобы клиентам Ну для того чтобы просто не заниматься выяснением чего-то у себя Потом каждый раз рассказывать что вот у нас есть такая телеметрия мы построили сервис который назвали тров это сервис который позволяет клиенту посмотреть как его сервер жил в обозримом прошлом Ну и мы начали им туда выкладывать сча количество сессий было Сколько было просмотров посу Сколько было просмотров из архива сколько он трафика наге нери А на каком канале он это наге нери И вот здесь пример а проблем с конкретным каналом видно что 404 ошибок по Стрим нему было аж 117.000 А за сутки это классическая картина когда ссылку забыли в каком-то портале и у него идт оттуда трафик на инсталляцию он его никак по-другому увидеть не может но вот здесь его очень хорошо видно здесь же видны Ну это http коды понятно что мы все я просто отфильтровали по 44 мы стали намного более зрячими в контексте сколько мы пятисот какое время мы это делаем На каких клиентах за 2 года Это достаточно сильно изменило вообще подход к разработке который у нас был То есть наверное самый такой вот на прошлой неделе у нас в чатике в нашем клиенты написали что они теперь не покупают сервера потому что у них цпу кончился Они покупают сервера потому что у них корзины для дисков кончились То есть фактически мы снизили нагрузку на цпу благодаря телеметрии в два раза за 2 года То есть у нас вот двухлетней давности сервера они теперь просто Ну у них корзины кончились в Юнити поэтому они покупают другой сервер раньше они покупали другой сервер потому что у них цпу кончался а дальше немножко про то как мы считаем сегменты по этой штуке вот мы берём фичу условно Мы видим что у нас какой-то набор клиентов используют эту фичу ну совсем по чуть-чуть то есть допустим если говорить про классического триль Но это один канал он его поставил Ну ну два канала Ну три он его поставил в тест на круглосуточный это зна знат что за сутки мы с него можем увидеть в сессиях продолжительно ТХ суток да Видите три канала по одной сутке это вот классический триальник вот там где Ультра написано это означает что у него 600 каналов и их смотрят минимум 10.000 зрителей то есть вот это Ультра ну и соответственно мы ввели вот эти весовые коэффициенты я сейчас знаю что у меня например вот фича которая слева видно что три альчики много а до Ультра доходят единицы что-то мы там не то делаем то есть надо выяснять Почему они там не Дора может быть это невостребованная фича может быть что-то ещё а справа это вот классика жанра мы сделали что-то крутое случайно так бывает и забыли про маркетинг Ну вот сарафанное радио по всем разнесло а вя Ну вот идм в маркетинг и говорим ребят смотрите у нас вот такая штука появилась она работает что дальше соответственно сейчас мы так как разработчики уже начали принимать новый способ разработки фичи и разрабатывают её Definition of сместился не на телеметрию То есть сейчас ну в телеметрию репорт и все весь C то есть там все тесты Мы в телеметрии точно также видим наш Ну Поэтому если в телеметрии не показал значит фичи как бы и не было Ну что ты девелопе если мы не видим никакого а Никаких данных у себя важный момент ещё мы наконец-то смогли ощутить Ту самую волну то есть мы что-то задумывались делать Мы зарезали первый скажем так первую версию нашей фичи мы начинаем видеть Как растёт у неё usage мы тут же начинаем видеть Как растёт у неё количество обращений в поддержку и мы видим Как растёт количество доработок этой фя по факту Мы всего лишь навсего её разрабатываем вот когда мы доходим до определённого уровня апше по телеметрии вот в этот момент мы можем сказать что Да она готова этот кусок кода будет работать он приносит наверно денег Но он точно ценен для клиентов дальше мы добавим деньги то есть это у нас вот ближайши до конца года точно мы посчитаем кафи приносит денег то есть мы же видим что клиент использует из там 300 фичей которые у нас в медиасервер есть пять Это значит что все деньги которые нам заплатил клиент мы можем совершенно спокойно распределить на пять фичей всё остальное в подарок Что называется так как мы знаем На какую фичу мы тратим ресурсы у нас все задачи Мет мы можем чётко посчитать экономику конкретной фичи то есть сколько фича нам обходится в поддержке в изменении в апдейта в факторинге и так далее сколько она реально приходит на рынок здесь важно сказать что мы с помощью телеметрии зали уже пару протоколов хдс например мы просто увидели что у нас там четыре польских церкви на нём живёт А мы на него тратим времени достаточно много потому что м во принци не нам настроили 3 года назад Вот оно стоит Ну переключите ВМ Ну переключили ВС работает и мы спокойненько удалили большой кусок кода который поддерживать было достаточно дорого Ну ревю конечно же то есть мы сейчас это всё дело дотавайн и конечные клиенты могли сами совершенно спокойно без нашего участия после апгрейда пойти в ревью и посмотреть А что же у них поменялось и не писать в чатик опять много жрёт цпу с новым апгрейдом а спокойно видеть и не переживать не беспокоится на этом Всё теперь вопросы пасибо Аркадий голосуем за доклад вопросы можно в чатике задавать можно лично у нас будет приз как всегда супрематическая матка замечательная книжка за лучший вопрос можно из зала можно с чата так и пока Давайте вот молодой человек первый и пока тебе даёт микрофон я воспользуюсь так сказать правом первого вопроса что-то захотелось Вот ты сказал что у вас Клик используется да А мне такой вот чисто интересно Клик ОК хорошо почему не пробовали тебе вопро ть не ко мне во-вторых с клика начали собственно он и устраивает нас в НМ сейчас а ну мы собираем почти миллиард записей в день Ну это там тоже можно Ну ладно всё я Поня Клик Ок Всё хорошо всё логично Вопросов нет Да давай добрый день большое спасибо за доклад Я так понимаю ведя вот этот первый уровень контроля Трик мы сняли проблемы Ну самые базовые которые когда не справляются цпу не справляется сеть сразу сказать заказчику что это не мы виноваты а как быть дальше дальше мы понимаем что тех метрик которые у нас были нам не хватает для понимания того что всё-таки проблема осталась Какие механизмы работают дальше мы ставим сеть на расширенные Event Data Record какой-то мы включаем трейс на этой сессии Что делать дальше дальше всё равно приходится договариваться заказчикам и получать дополнительные трассировки и расскажите немножко Какие вы используете Как вы в этом случае поступаете Да значит Ну сразу скажу что у нас метрики делятся на две больших группы А это метрики роста и метрики качества Вот то про что вы говорите Это относится напрямую к Метрика больше качество Потому что когда мы понимаем что у нас вот это я тут рассказывал в основном про метрики роста это когда мы понимаем кто Чем пользуется Ну и чтобы масштабировать это дальше метрики качества это когда ВТО условиях спе которые мы либо можем поменять либо не можем приведу простой пример протокол и Выяснилось что в Колумбии очень плохой там очень сильно используется в определённых сервисах мы ничего не можем сделать в Колумбии с сетью завезли трансмит начали работать с нами то есть начали как-то выжимать из той сети которая у нас есть начали повышать качество уже здесь Поэтому да провайдеры конечно идут навстречу когда ты к ним приходишь с конкретными замерами А если мы понимаем что среда такая и е не поменять то мы начинаем уже искать какую-то технологию которая нам позволит в этой среде давать М спасибо Ну это наверно вопрос больше косарь Мне кажется уже вот такой Так давай первый ряд Аркадий Привет меня зовут Илья с тобой коллеги по цеху смотри доклад классный в принципе архитектурно Я даже поддержу кликхаус если там вдруг кто-то сомневался я как человек который занимается темо мониторинга в шем кесе бы его рекомендовал ноте познани Да познание клиента не совсем раскрыто То есть вы какие-то аналитические инструменты сверху дополнительно используете Или так по фича флагам просто опытным взглядом провёл то есть какой-то какой-то анализ сверху Ну то есть вот вот эта методология Да вот вот немножко сверху бы хотелось бы про это узнать Да потому что мы собрали данные много сырых Да они качественные потому что мы сразу сами себя обозначили что это за метрики Почему мы хотим собирать это уже офигенная база кто наши кто же наши клиенты Значит так как у нас очень много сырых данных то вот те те графики которые я приводил это результат как раз анализа этих данных То есть у нас есть аналитик который аналитики которые работают с вот этим большим количеством сырых данных они во-первых грязные то есть конечно же там возникают баги потери и так далее а и они собственно ищут там аномалии Они понимают как одни метрики связаны с другими и уже на основе этого они Ну мы используем эти данные для решения вполне конкретных прикладных задач то что я сказал в маркетинге используем мы используем это в поддержке и мы используем это в разработке самое главное не знаю ответил на вопрос Нет ну вот как-то так уточни иль я давай Ну не совсем очень общ ответил То есть появилось Давай давай задам ещё точнее появилось ли у тебя конкретное профилирование условно по типам клиентов на основе корреляции которую вы построили и соответственно смотрите Вы ли на бабломет отношения Этих клиентов и стали ли они для вас там приоритетнее по части развития фич или вы пока ещ просто за качество сервиса и по продолжаете вот этот трек У нас сейчас это добавилось во я понял про что вопрос то есть у нас каждый Глядя на вот этот титр который я показывал с тёмненький что тре алит клиент И от этого выстроить стратегию разговора с ним то есть выстраивается коммуникация Именно под тот профиль клиента с которым мы ещё ни разу не разговаривали Вот это важно то есть дамы используем Это для того чтобы узна с ни разу с ним не пообщавшись он в селсе зарегистрировался купил лицензию поставил у себя Мы видим что он делает мы можем ему понятно написать письмо Отправить ему ссылочку на блог Почитай Вот это пожалуйста мы ему не говорим что мы видим что он испытывает сложности но мы поддерживаем его коммуникационном Спасибо Илья ты мне потом расскажешь Чем Клик лучше ила ладно Мне прямо интересно вот в середине молодой человек хотел не уже Уже нет тогда вот вот здесь Да с другой стороны ага Да Аркадий Привет тоже как продуктолог продуктолог задаю вопрос нормально слышишь меня да да Хорошо о'кей А смотри ты рассказал про то как вы анализируется уже там те фичи которые выкатили да то есть там стреляют Не стреляют Нужно ли маркетинг туда добавить не нужно а с точки зрения Discovery фиче это помогает или нет то есть поиска новых фичей да помогает мы написали свою реализацию СРТ потому что мы увидели через телеметрию недостатки реализации от родоначальников СРТ вот мы их там увидели и мы написали ну новую фичу сложно сказать но но оптимизировали да это первый пример второй пример - это когда вот я рассказывал про ртц в Колумбии то есть там была своя система своя Битва за трансмит за то чтобы картинка Доезжаю сеть А те же данные мы используем например для того чтобы сформировать CBR то есть мы сделали Сейчас constant bade ну это вот в классическом телевидение которые по S ездит вот эти кабеля коаксиальные для того чтобы на спутник поднимать нуй То есть это значит что Трей не должен плавать вообще никак Ну в интернетах он это вариативный а соответственно благодаря анализу мы сделали фичу которая позволяет подобрать настройки транскодер CBR Чтобы меньше резала стремилось меньше пакетов не квадрати на той стороне это вот обратная связь то есть мы прямо в данных начали замерять это и на основе этих данных мы поменяли алгоритмы транскодер для того чтобы делать более оптимальную штуку Ну и предсказывать собственно что ж на хорошо Ещё вопросы девушке а потом молодому человеку Здравствуйте меня зовут Александра Спасибо большое за доклад было очень интересно я про подобную сферу деятельности просто раньше даже не представля Что такое бывает вот у меня был такой вопрос каже такая очень большая была проделана работа чтобы вообще Вот это воплотить в жизнь а можете рассказать Как проходил у вас первый релиз вот эта подготовка потому что тысячи клиентов Это наверное надо было с ними как-то связываться что мы что-то добавляем как-то с им объяснять вот я слышал что некоторые прямо докапываются что это такое вот с точки зрения процессов и я так понимаю у вас ещё процесс разработки как будто бы немножко поменялся что доры поменялись то есть теперь а Вот телеметрия она стала последним этапом что надо обязательно сделать Вот её всё что мы делаем мы Спасибо за вопрос всё что мы делаем мы делаем от комита Ну от комита к коммиту то есть в этом смысле мы вот это дело не выкатывать никому специально мы просто добавляли телеметрию в сервер лицензий его апгрейдить какую-то схему в кликхаус построили инфраструктуру А после этого мы начали добавлять первые фичи первые сессии пробовать этот репортинг то есть условно говоря у нас сейчас 30% наших клиентов живут на последней версии продукта Ну это вот который месяц ещё 30% живут на версии годовалой давности потому что больше года вы Не найдёте в репозитория нас вообще то есть мы мы всех сюда и есть ещё 30% людей которые в тех самых бункерах хотят что-то там встретить и не апгрейды вот сторонники ап тайма но мы их тоже потихоньку вытаскиваем и так как эта история началась Достаточно давно То есть это не вот не вчерашний то мы постепенно всех дотаскоп новую фичу она сразу с телеметрии как бы Нет е собирать А те кто совсем старые мы можем сейчас ну скажем так у нас наверное процента два всего осталось клиентов на которых нет никакой телеметрии и когда мы видим что чек не апгрейде мы можем очень чётко ему в цифрах показать чем та версия лучше этой в базе и это нам ещё помогает их дотащить Поэтому начиналось оно по чуть-чуть по одно ли первых клиентов вот сидишь в Клик Хаусе и прямо вот смотришь в них что кого там как они поехали потом это всё превратилось в серию дашбордов алер лки в Саппорт уехала И постепенно постепенно Ну я говорю три релиза в день по факту И вот оно так въехало во всех Спасибо ещё вопросы вот последний Да а вот и потом сюда и закончим на этом большое спасибо А вот подскажите пожалуйста как вы ну или используете ли вы телеметрию для определения не долинное Если уж через сервер лицензии у вас это всё как-то организовано И как вы боретесь с теми клиентами Вот такими которые говорят что мы не хотим включать телеметрию Как вы с них метрики собираете Давайте начну со второго вопроса У нас сейчас меньше 5% клиентов которые не тя оказалось что все хотят им это полезно они действительно начали пользоваться тров и они понимают что поднять такую инфраструктуру у себя у них нет ни денег Ни сил ни средств ни ресурсов не экспертизы Ну то есть у них есть мониторинг но он не решает он не даёт инструмента той которую Дат телеметрия он не может посмотреть нам под капот сжи Ну вот коробочка она что-то выдаёт А мы даём гораздо больше Поэтому переходя к первому вопросу я упоминал мягкое лицензирование У нас есть две лицензии bic и вот в про лицензию например входит там распознавание субтитров мы человек может купить совершенно спокойно нам платить но если мы в телеметрии видим что он использует пром запрещать Мы всем разрешаем пользоваться всем но если мы видим что он пару месяцев использует это в продакшене по телеметрии это видно очень просто то приходит говорит Слушай ну недо продано что-то Да как-то нечестно в разных культурах это по-разному то есть где-то фрода чуть больше где-то фрода чуть меньше Ну когда человек этим пользуется сознательно но на обю картину это не сильно влияет есть мы больше дене потратим бегать за ни и подсаживать на то что мы умеем Да я Поня Спасибо большое Слушай само телеметрия это платная или нет фича лучший вопрос Это то как это то чего очень хочется брать за это деньги Ну как-то Поня это есть мыс в будущем Деги за глубину хранения ум бесплатно А хочешь ретроспективу на полгода Ну заплати просто за хранение единственное обоснование которое вот придумало за все эти тоже стратегия продаж Так ты что почему нет отлично Да давайте последний вопрос Спасибо большое за доклад есть вопрос У вас же всё связано с сервером лицензии Это я так понимаю онлайн лицензии которые у клиентов Да это подписки вот а ели Клиенты у которых Ну офлайн лицензия какая-то там с флешки или чтото Есть ли у вас как-то на них телеметрия или вы планируете вообще её собирать с таких клиентов у нас есть клиенты которые запускаются в бункерах Да ну то есть ничего ничего не сделать с этим А пока это клиенты которые не м как это сказать у них там в бункере ничего не меняется То есть если мы там один раз что-то запустили оно будет там работать годами там не появится новых версий там не появится нового какого-то оборудования это статичный бункер и он будет жить до следующего апгрейда Потом будет апгрейды Ну как бы да вот бункера живут изолировано только по сути они поймут Когда у них при апдейт придут уже вам другая категория заказчиков такие здоровые банке которые вот они внутри внутри себя что-то делают и в принципе они к нам особо-то и не обращаются за помощью то есть в этом смысле Они покупают даже не подписку Они покупают пету то есть они купили вечную лицензию на этой вечной лицензии там 5 лет живут чтобы их проапгрейдить дальше то есть продать новую лицензию это надо им там в новый цикл попасть и фактически каждый раз это постройка новой систему поэтому там телеметрия она особо не поможет мы их и так знаем скажем так Ну как познать там долгие переговоры перед тем как это продать там мы уже со всех сторон друг друга обс и там не надо ничего выяснять там подход короче другой Спасибо надо выбрать лучший вопрос лучший вопрос Илья Илья получает нашу супрематический же честно скажу кла если какие-то вопросы остались подходите Да конечно подходите в кулуарах голосуйте за доклад Ильи о Аркадия гос А ты молодец да Всё спасибо Тебе тоже подарки от тика ждём тебя ещё спасибо"
}
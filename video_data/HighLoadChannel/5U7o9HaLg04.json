{
  "video_id": "5U7o9HaLg04",
  "channel": "HighLoadChannel",
  "title": "TechTalk \"Как мы пишем код в Дзене: move fast and break things\" / Дмитрий Кондрашкин (Дзен)",
  "views": 1429,
  "duration": 678,
  "published": "2024-04-17T01:12:35-07:00",
  "text": "Питер Привет прямо сейчас Привет из Москвы работают все телекамеры нашей студии Меня зовут Алексей образец по-прежнему и со мной рядом Дмитрий кондрашкин сетевого дзена и это Saint highlow 2023 слёту Дим Чем ты занимаешься но я в зене лет 8 уже работаю начинал его делать когда нас было четыре программиста сейчас нас больше 300 разработчиков Я сидела класс это когда ты приходил стартап В итоге Что за 8 лет поменялось что было И что стало Слушай ну Мы начинали как стартап собирали из того что было Вот например наш корр часть рекомендательная система на ржаве написано потому что мы ее собрали из библиотеки которые делали персонального радио Яндекс музыке запустили продукт стало понятно что он летит пошла нагрузка команда увеличилась и приходилось конечно менять архитектуру много чего рифачить переделывать сейчас одна из моих задача сделать так чтобы продукт мог продолжать быстро развиваться теми же темпами как когда мы могли в одной комнате собраться и по стендапить каждый день всей командой Вот как то так как ты борешься много лет мы говорим о том что гипотезы надо проверять быстро максимально дешево для того чтобы продукт развивался Да как ты борешься с тем что постоянно косяки в коде остаются и сырые сырые части потому что мы тестили Мы решили оставить там или забыли оставить это постоянно происходит да тяжелая такая проблема но я вот вывел для себя такое правило что быстро развивающемся продукте когда ты часто проверяешь гипотезы когда у тебя релизный цикл тоже быстрый то в общем-то скорее всего тот код который ты написал он через пару месяцев кем-нибудь будет удален или переписан полностью вот я не говорю конечно Про какие там было для самолетов которые нужно там 7 лет раз зарабатывать сертифицировать это Д или там даже какие-нибудь десктопные приложения которых релизный цикл по полгода но когда ты можешь себе позволить быстро выкатить быстро откатить то на самом деле нужно просто быстро фигачить и писать идеальный код это конечно круто Но дорого и в целом бесполезно мы стараемся находить те места которые были не оптимально сделаны когда мы понимаем что это фича в продукте Все она уже прижилась она полетела точно будет здесь развитие то либо собираем летим У нас есть инфраструктурная большая команда которая как раз занимается поддержанием целостности нашей архитектуры тем что все надежно быстро хорошо работало всякие оптимизации производят и если какая-то сложная штука да то мы собираем Витим из продуктовой команды из инфраструктурных ребят и планируем на квартал например что вот здесь нужно там полностью отрифачить переделать архитектуру иногда бывает понятно уже сразу что вот мы делаем продукт хочет какую-то фичу сделать и мы понимаем что это такая Core фича да для на нее большая ставка я точно надо делать хорошо и надолго тогда тоже можем собраться сказать Ну ребят короче сейчас мы квартал делаем в инфре Новую архитектуру которую уже на которую уже потом продукт приземлится и будет делать свою хочу Ну или параллельно это делаем Это такая как будто бы вот расслабленность этого разработчика который говорит так квант времени значит заложен Вот на это на это на это фич подождут сейчас мы разберемся сейчас на 3 Факторе ты это бизнес не Ну смотри у нас продуктовый это разработка не расслабленная она должна каждый сприн щупать с бизнесом мне как бы повезло потому что seo-zen А в технологиях разбирается и мне в целом как бы легко ему описать Что происходит Что нужно сделать Ну и помимо этого как бы у нас в Core технология Это рекомендации ML вот это все высокие нагрузки это тоже добавляет как бы аргументов что если мы здесь не переделаем то вот у нас план бизнес-план что будет еще там сколько-то миллионов Да это значит что и нагрузки будет и надо что-то делать этим чтоб ты делаешь тебе не повезло страдал наверное ну пытался как-то аргументировать Конечно да понятно что опять же я говорю да что высоконагруженные сервис много разработчиков и на самом деле Ну сейчас у меня как бы помимо того что там разработчик или тимлид может сам прийти сказать что здесь мы что-то сделали не оптимально и Давайте переделаем есть еще два таких довольно объективных процессов всеобъемлющих до которые на всю компанию как бы развернуто это первая История это про постморты мы как бы все инциденты записываем их каждую неделю собираемся Разбираем и как бы оттуда можно понять что в каком-то микросервисе Например у нас постоянно случаются какие-то затыки Да они там все мы их склеиваем все эти инциденты понимаем что там например каким-то дешевым экшенайтом не обойдется нужно все переделывать и это уходит дальше там либо в инфраструктурную команду либо в продуктовую что вот здесь нам нужно там масштабно какой-то переделку совершить это такое как бы бизнесу гораздо понятнее что вот смотрите у нас здесь Было столько-то даунтайма оно произошло вот здесь чтобы этого не было нужно значит потратить столько-то времени Ну ты через бизнесом через данные через через деньги Ну да Через ключевые бизнес показатели в любом случае Да тоже можно это объяснить через деньги через там пользователей которым мы потеряли когда они работали вот а вторая история у нас вот начали активно где-то полгода назад внедрять скрам всякие штуки модные вот эти ну которые уже правда наверное похлопайте и всю продуктовую разработку под одну гребенку построили сделали продуктовые тьмы прям все это аккуратненько описали спринты выполнили всех заставили проводить ретро и прямо каждые две недели собираем вот продуктовая команда такая-то у нее Значит на прошлом спринте она делала Вот это такую-то цель хотела достичь в тот спринт в этом спринте она как бы ее не достигла И в позапрошлом тоже не достигла Да и в прошлом не достигла и мы смотрим Ну ребят типа Вроде я понимаю что эту штуку можно там сделать за я сяду я сделаю там за три дня пришел они делают три там три скринта подряд значит там какая-то проблема есть и как бы эта штука позволяет Вот именно снизу вверх Так подсветить где есть затыки Какие в каких сервисах нужно что-то улучшать Окей с этим разобрались меня беспокоит который ты заговорил Это просто позор такой что прямо зашло что помогло улучшить ситуацию Слушай ну вот я сам как бы всегда думал что эта фигня какая-то Привет Так ладно когда как бы у тебя уже там больше 300 человек и когда бизнес говорит что так долго Что так долго то ну нужно было уже что-то делать так было невозможно уже жить потому что реально все очень медленно двигалась и не было видно какого-то каких-то атомов прогресса которые постоянно могли бы продукт появляться хорошо это верхний уровень абстракции расшифровываем смотри Ну во первых Мы прям серьезно сели и нарезали продуктовые команды то есть мы выделили какие-то основные зоны продукта в них во всех каждой этой зоне есть ответственный продакт-менеджер эти зоны сгруппированы и кластера где есть продукт Лиды Ну то есть например в случае дзена у нас есть там авторский продукт и пользовательский продукт два таких больших кластера укомплектовали команды при этом у нас матричная структура То есть у нас Work структуре это просто функциональные вертикали а в продуктовых командах они нарезаны слайсиками Ну и собственно выровняли спринты и заставили всех продуктов и тех лидов командах в каждом спринте писать одну цель спринта это не сразу всех получилось то есть сначала они писали тактично формулировать один нет ребят одну цель спринта Напишите которую Вот вы всей командой как команда сделайте за эти две недели они стали писать сделать один и сделать два и сделать три через говорю нет ребята так не прокатят типа одну пожалуйста цель спринта и вот это я не скажу что мы сейчас уже как бы в идеальном состоянии Но вот это изменение Да ну как бы mindset немножко меняет у команды у продакта и у этих Лида что реально нужно вот консолидировать усилия у него же есть вот эти ресурсы их нужно на одну эту цель направить чтобы реально за эти две недели шепнуть это в пруд и вот это вот самое классное Мне кажется то что вот у нас сейчас дает как бы уже первые свои плоды но мы начали где-то осенью всем этим внедрением этих всех историй заниматься но я думаю что будет только лучше отлично о том как изменился Work Balance Вы можете у Димы спросить в кулуарах Потому что сейчас Дмитрий кондрашкин сетевого дзена Алексей образец 2023 Питер"
}
{
  "video_id": "sPXqhKp7jV0",
  "channel": "HighLoadChannel",
  "title": "Погружение в Helm package manager / Олег Вознесенский (X5 Retail group)",
  "views": 9761,
  "duration": 2595,
  "published": "2021-10-04T02:49:46-07:00",
  "text": "позволь представиться меня зовут олег я работаю стереотип больше 20 лет и последние пять лет я занимаюсь тем что называется devops сейчас я работаю консультантом в пятерочке а пардон и старшим консультантом точнее в том мое и подразделение которое называется из пяти технологии которая делает найти для эксперта групп и ну по цифрам на слайды можно понять насколько это большая организация и насколько нужно быть высокотехнологичным чтобы торговать помидорами в 21 века для установленных установления такого понимания не нужно сказать немного скучных водных и так архитектура современного приложения это достаточно сложная вещь с множеством внутренних компонентов с множеством внешних связей и а если мы говорим про эксплуатацию приложения поверните 100 мы должны с хорошим практиком описать это как под и умеете плавать и вроде все просто но чаще всего у нас есть несколько системных ландшафтов до который очень сильно могут друг от друга отличаться как по количеству компонентов как по внешним связям так и по качеству компонентов я не знаю разница большая но в нашем мире микро сервисов и распиленных монолитов у организации не один не два гораздо гораздо больше проектов и выбор хорошего туринга который позволил бы управлять этим как можно более унифицирована с минимальным оверхендом дома варьироваться от хорошей практики дом необходимого условия выживания и таким тюнингом является help him появился внутри компании microsoft и в отличии от другого его продукта этот продукт получился достаточно годным а прежде всего филм это простая текста и шаблонизация это текстовый файл а обогащенная синтаксисом готем place и расширение функций sprig network это полный risen цикла установка аварий так от удаления это tracking выката 3-го имиджа очень интересная штука про которые я расскажу чуть позже это кардинальное расширением функциональности при помощи хуков и плагинов и тома развитой каменки и множество готовых а у чатов для всего знаете есть такой мемчик 304 правило интернета что-то существует про это уже снята порно давайте и а за резервирует рис 4 правило deep ловко вернетесь для этого уже есть схем чарт для того чтобы публиковать громких филом чарты авторы фильма сделали сайт артефакт хоп где каждый может выложить свои наработки но остается мачта этого пан source и чат и которые там выложены варьируется по качеству а то очень хороших да не очень хороших но там есть механизм звездочек при помощи которых вы можете оценить качество выложенного и внести свою лепту в оценке ну там лайк подписка все такое прочее естественно м это не единственное решение для где плавку берна это с прежде у нас есть costama из от автора факу бернетт с это на такой куб с теми стероидов которые не подходит для больших различных проектов у нас есть a close программное обеспечение под названием q12 оператор это ну такая вещь в себе на ее последне время очень сильно портит архат они сделали оператор спрей оператор хаб для размещения операторов они встроили touring в свой планшет чтобы можно было накликать оператор себе в кластер вот просто из вот интерфейс к но стоит понимаешь вернется оператор это вещь в себе очень сложно часто разобраться как он работает а redhat я еще не простил за ту систему тепло и приложение которое не сделал в третьем вышивки это вот вот прям диверсия фу фу фу таким быть ok многие тепло от инси-блок но по-моему инси было и джинджа это прекрасный способ все запутать если мы говорим про диктовку бернет с дали им никто особо упоротые дефлектора формам это вот extreme по моему еще у нас есть джейсон нет от гугла на котором сделано несколько шаблонизатора берем к недостаткам келмо про них можно спорить очень долго но я вот сейчас приведу недостаток которые объявили ребята из grafana и которые попытались преодолеть когда делали свою танк уно джейсон этим прежде всего это только строковая шаблонизация то есть мы что-то делаем не имея понятия о конечном примитивы основываясь на хрупком ям синтаксисе далее сложно и расширение если вам что то не хватает хилом чарте скорее всего вам придется его for гнуть и дописать а это низкий уровень абстракции то есть мы не можем объявить какую-то сущность которое бы порождало deployment а сервис и допустим ingress а потом от нее у наследоваться и дипломе цели функции от переопределить и это потенциальная запутанность иногда очень сложно бывает предсказать что на конкретный книг нам сделает не знаю всех вылез черт с овчарками но говоря о недостатках и лм я не знаю людей которые бы скилл нас лезвий на что там другое да но я знаю обратные примеры то есть а вот ребята знакомая сперва deeply литер а формам а джейсон метки потом и чуточку опустила они решились лестнице был а вот но сейчас все переписывает на hellam они там мотивировали следующим образом они начали привлекать разработчиков тёплую в кластер и вот ем это очень низкий порог входа плюс он покрывать все их задачей в области диплом идем дальше есть две версии хелм актуальные на сегодняшний день и но я буду говорить про 3 версии хилом она стала гораздо лучше 2 из нее выпилили от хлам который вот серверная компонент она стала более дружелюбно к правам повернитесь и сейчас схема представляет собой простодушный binary который на вход получает hell chart локально или из репозитория чартов делает из него релиза записывает релиз а куда то берет предыдущие релиз берет то что за тепло и но у вас в namespace и сравнивает вот эти вот три вещи делает дефо загоняют выверены цепи и таким образом он на сто процентов приведет состоянии войны спесь и потому что у вас описано в чарте но не тронет какие-то там дополнительные изменения но если у вас есть какая-то сущность которая модифицирует ваши объекты ну например сервис меж пройдемся по основным понятием hema прежде всего это hill чарт по команде хоум кредит и отчетные мо вы получите одну какую-то рыбу которую можете развить как вам нужно и это будет папочка с определенной структуры в которой будут лежать текстовые файлы чуточку позже мы про ним по ним пройдемся но сейчас я бы хотел остановиться на чарт я мало это описание chart перед вами официальная черт я мало из официального чертами не надо здесь много всего но минимальный достаточно из этого нам нужно ну фактически имеем chart и версию chart идем дальше репозиторий чатов это достаточно простая штука это фактически веб-сервер в котором лежат затыкаешь иные черты и есть яндекс ям которые это описывают в принципе этим легко управлять вручную а там при помощи команды при помощи команд hell но есть некоторое количество программное обеспечение которое предоставляет но определенный уровень визуальности для удобства управления этим добром следующее важное понятие hill release will release это совокупность из чарта и входные значения которых он получил при установке этого релиза и с ним а с ним связано понятие сторож backend это место где он сохраняет секреты по умолчали лизы по умолчанию третий фильм это делает во секрет backend то есть он делает секретики в которых лежат текст релизов в атомные стрессе куда мы сзади плелись да но также он может например вы спорили базе отдела хранить если кому-то это вообще нужно руке идем дальше я здесь свел в некоторое количество задач до от базовых я бы даже сказал экзистенциальной задач да вполне практических вроде отладки которая возникает в основном возникает а у нас прям тепло и и которая покрывает большинство наших задач пойдем начнем с кастомизации приложений в разрезе окружение и здесь есть два момента прежде всего нам нужно кастомизировать само приложение то есть параметры которые влияют на его функциональность ну например я не знаю уровень логирования связи с внешними системами и здесь хорошая практика заключается в том что мы должны это делать как можно будешь в дипломе то есть если вы не знаю прожигаете это на запекаете это в образы или закат кожи войти ада не делать так это вот прекрасный способ наступить на грабли так вот мы можем по-другому тренировать окружении приложения согласно хороших практик через переменные окружения либо через текст твоя конфиг который мы передаем при помощи конфиг map of допустим вот и следующий момент это кастомизация самих инфраструктурных компонентов которые могут отличаться как по количеству так и по качеству от окружения к окружению но если мы говорим про home эта задача сводится к модификации текстового файла относительно каких-то входных значений и входные значения для келмо у нас описываются файле в и льюс яму которая мы можем использовать входные значения мы можем использовать в текстах шаблонах которые находятся в папке template by russian представляет собой иерархические древовидные яму структуры в которых наши значения написаны формате ключ-значение нам и а при помощи вот этого механизма мы можем создавать хорошего мнемоника и группировку для наших родных величин каким образом мы можем их использовать мы можем их использовать при помощи вот таких вот структур здесь . который обозначает текущей скоб в котором содержится значением далее слово в элиас и путь до ключа и право аренды при рендере релиза сюда подставиться значение которое будет в этом ключе естественно вылезь яму это статическая вещь и мы должны его параметризировать это тепло и тепло и от релиза к релизу и мы можем это делать прежде всего при установке или апгрейдом релиза при помощи директивы set мы можем передавать одну директиву цвет несколько директив цвет мы можем передавать несколько значений директиву сайт через запятую мы можем передавать значение которое не описаны в или схему мы можем передавать списке мы можем передавать какое-то значение в список но это уже extreme поэтому есть возможность передавать в и льюис я мало либо целиком либо по частям при помощи директива вылез на один или несколько также следующая важная задача эта работа со списками здесь в моем примере есть пара списков которые описывают значение на параметры persistent валим а в зависимости от облака в которой мы тепло и мся каким образом мы можем это использовать в предыдущем примере я вел такую переменную которая символизирует облака куда мы закроемся и первый способ неправильный мы можем на фигачить вот таких вот и вчк of в которых мы подставляем нужный нам ключ и это плохой способ да хороший способ использовать готенкс здесь мы при помощи функций плак которой она раскрывается как кортеж из appstore очки с этим пурим союз из этого списка по значению об клауд вынимаем значение ключа при помощи функции first приводим его к строке загоняем в pipe и обертывает через квот на обертон в скобочки ну тут как бы мы будем брать это очень мощный механизм и если вы что-то делаете чувствуете что получается фигня посмотрите сторону быть импульс возможно на этом можно сделать что-то гораздо гораздо красивее и говоря про входные значения нельзя не сказать про стандартные значения х у к вам есть несколько стандартных значений которые делаются автоматически привились релизе ну например чарт name или релиз namespace для чего это можно использовать если вы это используете в своем коде adata если вы перебрасываете от код между чертами он бесшумно встраивается в новый чарт и начиная там нормально работать ok а поговорим про перри использования кода здесь пример в иллюзиям которое мы передаём как переменное окружение в приложении допустим у нас есть несколько компонентов до которого этот валюсь я мало нужно положить ну допустим бэг-энда в пакете worker и кран зубы и а ну совершенно не красиво в каждом в каждом лике всех cms это дело описывать у фильма есть для этого нейминг темплейт снимет template это файл с расширением тпл или яму имя которых начинается с подчёркивания в них мы делаем вот такие вот диванчике в которых оформляем наш код потом идем в наш темплейт и including со сдвигом для чего это можно использовать для любых повторяющихся кодов ну допустим общей бы на весь релиз до define in cloud аннотации define cloud но селектор это не решены affinity анти affinity ну любой повторяющийся код и так давайте посмотрим на пример валюсь яму и на тот define который у нас для него получился это ну на самом деле достаточно плохо то есть мы сперва прописываем в и lucile какую-то величину потом идем в define прописываем его там numa это явное дублирование его hill меня есть механизм так называемый ханжей для того чтобы сделать какие-то куски повторяющегося кода и как их оптимизировать а то ну в зависимости от входных параметров здесь range по заданному списку который формирует a persistent волюм для local storage is a значение полученных на вход он формирует имя и привязывает к ноде этот пирсинг полем и следующий момент вот точка обозначает текущую область переменных да если мы хотим ну сейчас текущего власть переменных это то что попадалось на фортране jar если мы хотим использовать верхняя что-то из верхней области из верхнего осколка то мы должны использовать символ звездочка символ доллар идем дальше допустим у нас есть несколько крон зоб которые отличаются друг от друга но фактически именем скидывал и командой запуска до описываем values вот такую конструкцию где переписываем наш кран живую и делаем range а здесь мы бежим арендован по секции кран джобс в лес в name и пара нс вытаскиваем то что у нас там описано на основе name который приходит строка мы делаем и micron зубы в params у нас приходит список и обращаюсь к его элементом им а вот делаем наш ну в зависимости от описанного плюс не будем что-то сверху нам на переменах для этого крон жаба и так hill range это на самом деле очень хороший способ выстрелить себе в ногу вот в данном конкретном примере есть ошибка который не позволит вам заблудиться нормально вы наверное уже догадались это отсутствие разделителя то есть без этого разделителя рейс сделать несколько одинаковых я бликов из которых одинаково концов из которых сзади плавится только последняя ok каким образом мы можем использовать ринг для нашего примера на как сказал бы задорнов готовы все то есть мы бежим по сердце об считываем в переменной name имели значение оттуда и вставляем вход а если нам нужно добавить сюда что-то что не влезает в наш в нашу секцию на просто добавляем это снизу и так я бы хотел поделиться своим своей хорошей практикой очень многие описывают разные в и льюс для на разных окружений но я привык это делать в одном файле в лес и это делать следующим образом на каждый ключ я описываю список в котором по ключ-значение до ключом которого является имя январе мента описываю значение для разных окружений но здесь есть достаточно тонкий момент не каждую переменную нужно менять в зависимости от окружения поэтому я описываю их как default и для того чтобы затащить это в приложении использую вот такие вот конструкции здесь ну фактически классический я выбор из списка по имени окружения да но вся соль вот в этой функции то есть через pipe мы делаем функций дефолт которая не получив ничего на вход делает духовное значение это вот на мой взгляд механизм который позволяет очень наглядно описывать нашего элиас и я очень не любят программисты вот такой стиль описания далее говоря о хороших практиков нельзя не сказать и о хороших практиках самого хилман у ума есть best practice а в документации tips and tricks очень рекомендую с ними ознакомиться в частности недавно я обнаружил такую фичу в best practice of tips and tricks of келмо допустим есть у нас deployment в котором по целине нам кофе cmos если мы поменяем только конфиг маты и загибаемся то кубер найти сделает ничего котики не перекатиться не увидит изменения здесь мы описываем аннотацию на основе хэш-функции so comfy cmos и то есть кофе map поменялось хэш-функция перри считалось deployment изменился перекатить котики изменение потянулись но по моему это очень остроумно дальше управление блоками кода по условию я как-то вскользь прошелся на чуть ранее поэтому и думаю что это основе тональном подробнее а здесь мы отключаем стоит full set при для продакшн и вот тест то есть мы описываем их чик да и если его условия срабатывает мы вставляем этот код до н да если нет то не вставляем ну допустим в продакшен его тест у нас какие-то физические баски овладев в контурах мы вполне можем использовать после school в кубе мы можем писать достаточно развернуто и условия в данном примере мы делаем если у нас примерно об storage systems описано мы делаем волен квентин plate и даем его пазику если нет то делаем эти der и насчет сложных условиях мы на условий мы можем использовать в том числе функции готем place для того чтобы писать наши условия в данном примере я душица по ресурсам все namespace и и на которых начинаются на review но их чеки от все-таки конструкция достаточно тяжелая и мы можем делать это часто гораздо более легко если говорить про ресурсы то мы можем сделать вот такие вот описания ресурсов нашему в ильяс яму и при помощи функции ту я могу вставить это в наш template на шаблон ну или вот вам пример с разбором списка по имени окружения ok идем дальше модульная разработка перед вами пример реального chart который со временем со времени разработки он очень сильно распух ну на самом деле половина 2 листа потому что просто не помещалась на слайд здесь куча каких-то инфраструктурных компонентов который мы можем переиспользовать куча каких-то джок которые мы обязаны делать на конкретных involvement of то есть ну над с ним на тестовых январь он и так мы должны запускать тесты напротив мы ни в коем случае не должны запускать допустим накат дампов и хиллмана этот счет есть механизм так называемого на так называемых sap чартов то есть у нас в черти есть папочка charts куда мы можем вложить самой обыкновенной черты и их подключать в своем чертики да вот таким вот образом для того чтобы подключить чарт в своем чертики мы должны описать это в чарт я мало в секции dependencies все в 3d pen and cis мы можем прописывать черты из удаленных репозиториев чартов лежащие где-то на файловой системе рядышком из каких-то репозиториев поименованы которые подключены в нашу систему либо просто ложить туда чертики считает что он там есть но если вы используете удаленные чарт этот период накатом релиза вы должны сделать команду handed in the late при этом и он скачает все удаленные чарты и положите в папочку час вам об этом не нужно париться и следующий важный момент здесь это в условия включения или точнее выключение часто есть все черты по умолчанию включены это могут быть conditions либо tex конечно эта переменная произвольное которая описана и если перемены выставить фолз то она мото соответствующий чарт не сзади плавится и теги это переменные описано соответственно в секции tex это что мы можем описывать в и льюс тому можем передавать при помощи директив сет таким образом собирая свой релиз из кубиков как лего следующий момент как мы выяснили чарт без входных параметров практически бесполезен каким образом мы можем управлять входными параметрами в или из чартов saab чартов прежде всего мы можем описать глобальная переменная и глобальной переменной описаны в парень чарт они будут подхвачены в 7 сообща ртами и здесь очень внимательно стриминга можно ненароком что-то переопределить и славить какие-то ошибки следующий момент если мы хотим переопределить какую-то конкретно переменную sap чарте мы можем сделать в да мы можем сделать в в и люси ему верен chart префикс с именем sap черта и прописать путь до нужно выключаем и значение которое мы здесь определим она передастся в сообщат идем дальше лимит template они мид теплица описанные в панель чарте парень чарте они подтягиваются во все saab чарты и здесь опять же внимательнее сны и минком можно что-нибудь ненароком забирались и в третьем и у меня появились так называемые label ричард это черты в чертям которых прописано type library все ними template которые описаны в лайбрери чартах они видны всем чар там с овчар там которые у нас есть в религию и здесь как бы я хотел вернуться к примеру define on a finite а которая раскидывает воды в зависимости от лейбла об чарт name в рамках одного chart вот эта вот штука практически бесполезно на но если мы это объявим лавра ричард и будем included вас об чарты то он будет работать вот так как нужно и такой мощный механизм бойлер плей тинга до разберем работу с нижними репозиториями на примере архив откат а я поищем ну например слова про миссию су видимо cupra миссию стыка а кликаем на него и видим команду подключения релиза идем в консольку мы делаем команду подключения релиза видим что он подключился делаем холма репо апдейт всем скачивает индекс яму и знаю такие черты у нас есть в этом репозитории дальше мы можем поискать до поищем про миссию с оператор видим про миссию с оператора да видимо у версию видим что он-де прикид от присев тупые респект далее мы можем скачать этот чертик распаковать его зайти внутрь что-то поправить установить в общем таким образом мы можем работать с нежными репозиториями идем дальше tracking выхода а в общем случае когда мы выкатываем релиз мы хотим понять что что-то пошло не так ну как можно раньше не от system monitoring который скажет что все сломалось и не от благодарных пользователей если у нас нет системы мониторинга допустим вот именно на этапе релиза и у филма для этого есть ключевые и здесь есть несколько тонких моментов прежде всего это тайм-аут и то есть по умолчанию хилман пять минут тайм-аут и если ваш релиз катится дольше увеличиваете это имя и следующий момент хелм когда мы говорим ему white он не пишет ничего и не понятно что он подвис или что-то ждет но с ключом дэбак он будет писать там а под выкатился нет вот выкатиться нет о выкатился happy halloween но включим дебаг он выведет съемники если там сенситивной а информация вы ее спаллетти и следующий важный момент это купер нетто с deployments 36 схема ждет когда вы катятся падике его равным вот минимальным значением которое у вас описаны в этой а в этих поясе в данном примере у нас есть диплом с одним потом из первой стратегией тем дождется когда он перекатиться авто со второй он не дождется он просто запихнул дефо q подписчику и скажет что все окей потому что макс снова и был один ok откат выката обычно у нас холма берут вся система для того чтобы откатить вы как нужно запустить предыдущий релиз но иногда возникает в ваза необходимость зайти и откатить это вручную что можно сделать при помощи хелбиг и если мы можем трекать выход если мы можем его откатывать то мы можем совместить и если что-то не пошло не так то откатить это автоматически это делать при помощи ключа atomic достаточно интересная возможность на мой взгляд окей перейдем к установке очерёдности запуска подав губернатор это ни разу не про очередные запуска это просто запуск кодов на каких-то родах но иногда это бывает очень нужно для чего ну монтэйн с любой mandrin из окружения накат дампа я не знаю запуск тестов после выхода релиза или классический пример этой миграции то есть мы обычно хотим чтобы миграции запускались а прежде выката основного кода потому что код может это видеть и ну может пойти в базовом что-то не найти в ней исцелиться и если мы делаем выход миграций одновременно с выходом релиза дата наш новый код failsafe лица кубер на это увеличивает время перезапуска таким образом выход релиза со какого-то определенного времени превращается в непредсказуемая мы можем встроить прокол миграции в наш чай pipeline но это делает его хрупким допустим мы поставили миграции перед выходом релиза да и катим в новое окружение но те инфраструктурные элементы по которым должны отработать миграции у нас еще нет поэтому миграции не пройдут релиз не выкатиться а если мы поставим после вы катана релиза то у нас просто не укатиться код потому что не выходи старились потому что не найдет в базе нужных вещей некоторые делают это через инет контейнеры но представляете у нас 20 приложений и они перекатываются вот по пять штук я хотела принимаем продемонстрировать это тезиса отменной картинкой где вот знаете дома сидит на диване а вокруг 5 кавалеров мне сказали что если я это сделаю то увеличу просто с этой конференции нафиг я решил так не делать что есть у келмо для этого у тела есть а некоторое количество некоторое количество событий на основе которых вы можете создавать или удалять какие там примитивы нам то есть случай с миграция мы можем мы можем описать job в котором сделать вот такие вот аннотации здесь 1 аннотация говорит о том что это нужно создавать после инсталляции или перед обрядом релиза далее у нас есть вес этого хука то есть мы можем запускать но ранжировать эти джо бы нужно примерно катить дам и прогнать миграции по нему и мы можем почистить наши наш примите если они нам не потребуются дальше перейдем к отладке прежде всего поговорим про линдер и он бесполезен то есть вот никогда ничего мне не помог отладить следующий момент him темплейт это возможность получить текст нашего релиза ну возможно для использования каком-то in-house проекте или просто чтоб посмотреть что там сделалось но для того чтобы получить нормальные я блики да мы должны передать на вход все значения с которым мы планируем катить этот релиз и здесь есть следующий тонкий момент если у нас какая-то явно ошибка таки он нам скажет что вот я была ошибка там вас о той строке яму файл из 25 строк и если мы скажем дебаг то он выведет на в нашем реки и мы можем посмотреть что где не так следующий момент драй ран с этим ключом мы можем отследить какие то кубовые ошибки ну допустим правка ему табельного поля следующий момент документация но думаю про важность документации рассказывать не стоит и у кима прежде всего для этого есть a file not xt это сообщение которое вводится после выхода релиза для чего это может быть полезно ну допустим чтобы сказать разработчикам куда наш релиз выкатился и по какому вы по интерфейсу и его по какому углу его можно получить до это полезно если у вас допустим а динамически review окружение и следующий момент я мог комментарии комментариев у меня бывают яму или тимплей разница в том что я в комментарии попадают в финальный render я блэка а тимплей комментарии нет поэтому я в комментариями теоретически что-то можно сломать следующий момент просмотр в долине релизов ну право основные моменты релизного цикла мы поговорили давайте добьём эту тему прежде всего у нас есть холма листы мы можем посмотреть реализована и спеси и здесь есть тонкий момент что съем показывает только нормальная релизы если мы хотим посмотреть свалившиеся релизы мы должны использовать ключ минус а далее у нас есть возможность посмотреть яблоки нашего релиза по hinged манифест и есть возможность удалить то что выточены нашим релизом это бывает очень полезно если вы хотите ну допустим какие-то кластер white сущности или у вас в одном нами смеси несколько релизов вот это вот достаточно хорошо очистит ваш new space за исключением того что хотел мне посчитает частью вашего релиза допустим вы определили пирсинг волен клеем который создал persistent воли мтс и him вот их не тронет за этим нужно следить и давайте поговорим про расширение функциональности hell мая лихим плагин и я наверно не буду рассказывать про установку эксплуатации плагинов я просто вот расскажу про некоторые из них которые указаны в официальной документации фильмов той части которая описывает комьюнити разработки а прежде всего тахион div который показывает колонизирована и разницу между новым релизом и старым это еще один хороший способ отладки далее съел монитор это плагин который может из получать данные из какой-то система мониторинга и откатить если всего пошло не так ну допустим из релизе лись поперли пятисотке hell монитор это увидел и откатился далее hill нас три echelon jipped соответственно возможность использовать sap чарты из s3 и избита далее плагин чем секрет который я сама достаточно часто использую это плагин который позволяет хранить шифрованные пароль и вылез яму ну то есть если вы допустим не хотите тащить что типа volta в свою инфраструктуру или хотите versio не ровать ваши изменения по вашим секретик а вы можете сделать пи джи пи ключи при помощи вот чем секрет плагина это дело хранить в детей не парясь нам secure ность их ем танка это наш ответ чемберлену если танка научилась поддерживать чем чарты то при помощи этого плагина hill может поддерживать жизнь сонеты танков скин окей мой рассказ подошел концу здесь в мой рассказ не попали некоторые интересное но не часто используемые функции например возможность поместить текстовый файл какой-то использую тестовый файл и в своих тимплей так при помощи объекта files но я думаю если вы них по возникнет потребность вы можете всегда найти это в документации и использовать я желаю всем happy хемминг и готов отвечать на вопросы и так коллеги у нас сейчас будет серия вопросов вопросы у нас могут быть как из зала пожалуйста для этого поднимайте руку я укажу нашим помощником кому подать микрофон а также вопросы могут быть из онлайна в онлайне можно подключиться к серии вопросов также еще хотелось бы сказать что за лучший вопросу наталья кузнецкий будет сегодня выбирать победителя и победителю будет доступна книга какая к сожалению не известно но какую-то книгу обязательно подарит вот не важно откуда из онлайна или из оффлайна насколько я вижу вот коллега рядом с нашим оператором был первый вот подойти пожалуйста микрофон поднимитесь представьтесь просто погромче раз-раз-раз толик антон synergy вопроса 2 о наболевшем в home при тепло и даже с учетом проверок не проверяется соответствие реплик выключенных то есть если к примеру после релиза было вручную изменена кольца значение там на тест окружении еще где-то при последующей на катки и обновление сервиса произойдет обновление манифестов но при этом сами сервисы не будут по репликам приведены в соответствие которая подразумевается если возможность обойти как момент проверить возможно кем-то плагином хелм должен это делать но на самом деле ну если он не делает то на самом деле вам не нужно количество реплик приводить к тому что описано потому что во первых у вас пластыри могут быть горизонталь под авто скейлер которая может стереть ваш котики соответствии с нагрузкой до и вы можете вручную в зависимости от нагрузки это дело править и а ну я считаю что изменять этот параметр на этапе тепло и это ну по крайне мере неправильно возможны как получать информацию о том что отличается выкручивал в ноль возможно вот сейчас у меня нет хорошего решения для этого но я думаю она малекон агу лица окей второй вопрос по поводу многокомпонентных систем с овчарками есть ли возможность как то разделять файл в и льюс на несколько и использовать не через аргументы передачу в нескольких файлов уильямс примеру сыграть их из папки например есть папка в ней несколько файлов вылью соответствующих конкретному компоненту или сервисов sap чарте и чтобы собирался итоговый файл в льюс из нескольких вот сейчас вот хорошего ответа у меня на это нет но для вашей ситуации мы это дело попахивает но порядка десяти с траками на ваши это музыка сделано сейчас отлично спасибо как и все так рядом с помощником был еще вопросик сзади там добрый день меня зовут стоянкам аня плеск парочку вопросов первое то почему вы ничего низкая прахом файл такой инструмент и с тобой про то что chart можно хранить в если правильно понял первый вопрос почему я рассказал про хил несколько ничего прахом файл а профиль файл ну базовая базовая функция базовые функции хилман они перекрывают то что реализованы в файл и я предпочитаю использовать нативные механизма хилман а второй вопрос про хранения чартов оси хранение чертов где 78 не понимаю вопрос прошу прощения . так у нас есть вопросы из онлайна вот молодой человек вопросы рим по моему коллеге не забывайте что у вас были вопросы поднимайте мы постараемся вы используете химчистка себя до достаточно активно universe ну как сказать вверх это такая надстройка над несколькими компонентами которая в нашем случае но фактически является в верх этом и в связи со ну некоторые нестабильности верфи которая была ранее да мы решили не тащите в свой продакшн хотя многие мои коллеги присматривается к верфи вот как к такому швейцарского ножа который может собрать за тепло и тип очистить это дело нашей второй маленький вопрос это про кривые мир чистым семье он работает нормально или нет то есть допустим за тепло и вещи и вдруг нужно стал и нет контейнер руками fubag сделали и нет контейнер допустим потом ки титан поменяли прекратили какой они там в по который просит количество ветре что в итоге будет у нас есть контейнер потрется или нет потому что его нет ни в релизе нет ни плите об уборке была идея он должен остаться останется потому что все таки мерс делается среди того что есть везде они все не того чтобы их детей в релизе да я привык однонаправленные изменением это когда вот что-то комические те и а вот именно это тепло и шиа второй фильм от учил меня делать что-то в кластере вручена ваня потому что над слабыми от вас есть привычка к третьему на третем распространил спасибо так у нас вот вопрос в онлайне пока нет вопросов пока они родни работает может быть не знают как подключиться 1 раз спасибо за доклад метро и компании м3 скажите пожалуйста в вашей практике версия chart равно версии приложения или версия chart это плюс значению переменных моей практике версия chart обычно ставится но для моих чартов обычно ставятся какой-то фейковый и не меняется в зависимости с развитием но если это чарты которая использует мои коллеги до которые хранятся у нас чарт репозитории мы соблюдаем version ность чтобы ничего не поломать вот version ность это именно приложение или плюс ну если изменилось spain текст захотел что заканчивай вопрос просто в контексте гончара да то есть если подключить к нему чар либо счет там будет версия чарт собственно хотел услышать вашими спасибо ну изменили чарт апнули версия чтобы приложением просто меняем такими g так у нас коллега центре добрый день зовут владимир такой вопрос а если вот но есть необходимость вы право хранить в чарте excel файла какие-нибудь ну скажем по местам конфликт приложения я его там хочу просто целиком засунуть конфету олесь но и там по разным средам может быть несколько config.pac но вот пусть и как это сделать там наиболее провязано asi clis кастельно способ и раньше как-то обходилась может быть сейчас отмечается поле просто что то есть например я не могу направить просто запихнуть все там сейчас это решается здесь есть два момента первый момент нужно ли вам обогащать файл какими-то если нет то вы можете положить от файле где-то в допустишь папке файл черта и при помощи объекта files добавляйте его себе в в тимплей ты дома вы можете передавать в b64 через сет но вам это не подходит ну вот каким таким образом ну да просто тут такой момент с этим первым так есть сейчас допустим у меня но есть такой момент что допустим я вот как раз таки черт предыдущий вопрос перекликается у меня на право хранить отдельно даю вот чиверс тонируются отдельную а репозиториев приложение вот совсем другой да я конфиг хочу проложить ну там рядом с приложением и отдельные получается вот здесь ну то есть каши каши получается очень сильно связано с конфигурацией ну не знаю чай pipeline баш ну куда так так так так так и делается да спасибо так по парочку вопросов и после этого мы наверное отпускаем олега давайте рядышком олег привет вопрос такой короткий хоть один внешние charts использовали в формате прям сел на столы поехали без порка да про миссию стек пришли вообще не имели прямо не только параметризировать через прикольно крут спасибо так и у нас последний наверное вопрос добрый день меня зовут борис компания управление зависимости в вот яндекс файле репозитория насколько я знаю не гоняться хэши и допустим если мы пишем версии ну допустим как называется ветку у нас да я сидеть то соответственно у нас версия обновляется а когда мы делаем хам dependency апдейт мы об этом не знаем и нам нужно ручками удалять собственной репозитории чарльз как это временные папки или хеш ну и то что чад изменился в репозитории и обновит его здесь у меня нет хорошего ответа я использую diplo проныре на базе доки ранее мутабельные и каждый раз при deploy они самостоятельно очищаются то есть но надо как-то отдельно подумать над вашим случаем понятно спасибо это коллег пожалуйста выбери лучший вопрос который был на твой взгляд который прозвучал здесь нашем зале так давайте наверно вопрос про разницу филма и верфи такая вакцина кто-кто-кто был с разницей ходить и мы вам выдадим ответственно от нашего программного комитета потом подходите и получаете свою книгу спасибо большое за участие вот отпускаем олега перед этим мы его должна поздравить спасибо спасибо дослушал до конца"
}
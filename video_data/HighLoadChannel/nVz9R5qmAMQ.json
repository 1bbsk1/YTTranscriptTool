{
  "video_id": "nVz9R5qmAMQ",
  "channel": "HighLoadChannel",
  "title": "Круглый стол \"Domain Driven Design и PHP: идеальная пара или натягивание совы на глобус?\"",
  "views": 341,
  "duration": 3153,
  "published": "2023-10-06T07:22:29-07:00",
  "text": "Раз два три Привет ребят Здравствуйте Здравствуйте Всем привет привет Сегодня в этом зале я буду чуточку подглядывать в телефон сильно за это меня не ругайте не сильно можно вот а сегодняшний стол это круглый стол про ddd меня зовут пошла козников я тимлид иезавета и занимаюсь там платформой вот со мной вместе много-много классных ребят Вот Первый из них это Андрея тушный он Прости пожалуйста и активный член Слушай Андрей Что такое это сообщество русскоязычное мы занимаемся распространением идеи достаточно большой комьюнити вот частенько проводим всякими тапочки ну в основном онлайн им рассказываем про DD и околосвязанные с ним штуки Здорово много людей у вас Ой надо в телеге Сколько подписчиков Ну достаточно много у нас ребят частенько к нам заглядывает Володя хориков автор известный последней книги про дидидии и другие различные эксперты мы такие серьезные ребята Здорово вместе с Андреем с нами Кирилл активный участник PHP Community в России Привет Кирилл член головного комитета PHP Russia Кирилл работает спичкой более последние 40 лет вот и любят ловить Покемонов Здорово Как ты относишься У нас тут круглый стол Мне кажется вот стащили да вот меня это единственно смущает как отношусь но пока не знаю я слова не видел так что давайте выясним процессе Мне кажется так Ну окей давай попробуем Ну и крайне участник это Лёша Лёша мерсом он из Тиньков Лёша очень также участвует в программном комитете Arc Days и в бытность свою разработчикам очень много кодировал на C Sharp вот Лёша главный набрасыватель на тему сегодня вот ну и раз все плюс-минус представил Тема да мы играем в PHP идеальная идея это пара или натягивание совы на Глобус Вот и в этом контексте Лёша Хочет разобраться Подходит ли наш с вами любимой PHP чтобы делать Ну на самом деле тут такая история да Я не столько набрасывать сколько очень любопытный человек Дело в том что любопытствующий любопытствующий человек потому что когда-то на конференции Dot Next я сделал доклад про ддд он немножко разошелся по сети там многие его смотрели и интересно было что ну вот Next net-конференция Я думал что ну О'кей идут нычки будут задавать мне какие-то вопросы но я обнаружил что ПХП разработчиков чуть не больше среди тех кто э ну что-то у меня спрашивал и интересовался какими-то вопросами про DD и мне стало интересно Так может быть Ну как так Почему почему э ДДТ так популярен по сообществе может быть просто язык PHP лучше подходит для реализации концепции ДДТ И вот я здесь и ребята Расскажите как же в чём в чём прелесть э п второе Почему DD так популярен среди разработчиков А давай мы по-другому вопрос поставим ребята Как думаете Иди в PHP сообщество популярен сто процентов у это как я что сто процентов зала умеют но мне кажется не сто процентов пока стоил не будет тут на полностью вообще Не заполнить блин на самом деле я думаю что не то чтобы проблема вот наблюдения заключается в том что PHP он с тех пор как в нем появились и классы и прочие и квартирные штуки он стал проникать в интернете это приложение или там экосистемы с какими-то долго живущим циклом разработки поддержки и без какой-то структуры без какой-то без каких-то Практик как раз даёт нам инструменты которые позволяют понижать сложность и как раз их начал пересекаться с этими подходами я на самом деле так и познакомился дизайном клиенты говорит хочу автоматизировать свой бизнес мы говорим Ну окей сейчас мы тебе ничего не сделаем начали собирать его прототипы в процессе сбора прототипов стало понятно что старыми подходами инвести архитектурой не решить эти задачи Ну либо Мы скоро упремся во что-то и вот начали изучать сначала получалось не очень хорошо потом начали все больше и больше понимать И сейчас я скажу что не жалею о своем выборе вот И теперь я уверовал в то что это классная штука да она не для всех не для всего но интерпрайз задача она решает превосходно Слушай тут интересный Ремарка вспомнил про возможности языка проявление разных ограничений в целом вот есть такая история как ограничение Скопа в контексте Вот и вот PHP дает определённые вот эти ограничения с опытом Мы давно узнали из доклада на этой же конференции о PHP нет модулей у shapro кажется есть вот что вы думаете как бы вот эти вот Хватает ли у PHP инструментов и возможностей языка для того чтобы правильно вот это все ограничивать но тут отжали чуть-чуть время я хотел по первому вопросу чуть-чуть высказаться Давай давай PHP он одновременно популярен и нет А всё почему Ну если серьёзно говорить без всяких никаких потому что мир PHP их как бы два один мир PHP - это заказное разработки цмсок там битриксов и прочее Я это вслух тут а тут спонсор 1С не вырежете это потом а-а а другой мир это Чуть более интерпрайз это симфония это возможно ларова не ругайтесь это с некоторым если конечно там ёлку выкинуть выкинуть поставить и всё будет замечательно а он больше такой но можно вывести там какой-нибудь супер Джоб например они там выкинули и почти весь и там прям серьёзная разработка такая жесть круто всё и поэтому говорить что полностью PHP Pro DD не имеет смысла потому что как я уже сказал есть быстрая Rapid Разработка и там вообще не нужно даже этого всего втягивать потому что нужно быстро фигак фигак заработала а есть как бы серьезно на долгосрочные проекты которые еще 10 лет вперед будут жить и там вполне применимо и там очень популярно А твой вопрос про язык Я ему ещё чуть-чуть времени чтобы прям закончить Да действительно PHP нет модулей есть на спейсе есть замечательная штука которая называется композитор а это не совсем часть языка это часть которая и это экосистема скажем так которая даст фору вообще любым пакетом менеджером и прочим за счет нее можно в принципе изолироваться плюс еще всякие док блоки и прочие штуки но мне кажется это не совсем правда да все же это изоляция скупов То есть мне кажется этот вопрос не особо имеет смысл в этом плане Да нет смотри если примеру мы говорим про какие-то скопы на уровне языка допустим да И там есть уровни видимости которые тебе ну физически не позволяют из одной части системы попасть в другую какой-то класс если бы это возможно Ну ты имеешь в виду протечку какой-нибудь абстракции в из доменного Application Я в команде сервиса а фигачу какой-нибудь каталог ты в команде сервиса B что-нибудь с биллингом там делаешь И вот мне там захотелось что-нибудь узнать по стоимости товаров допустим Ну что-то твоего сервиса потянуть У тебя есть какой-то публичный интерфейс с которым я должен общаться в Пике я могу хоть модельку твою дёрнуть и в принципе будет всё хорошо Ну то есть это работает можно на уровне языка это ограничить например и такой возможности мне физически не будет но мне кажется это достаточно приучить и разработчиков к тому что всё публичное лежит тут или там интерфейсики где контейнер висит а всё остальное э-э это коктейль конечно же так же как и аннотация интернета также как аннотация писал интернал которая указываешь на инспейс и он потом светится Извините у нас все или вот модула модуль модулей моделайт от ВК который позволяет все это делать да Ну мне кажется это не сильно ответит в принципе результат работы ну потому что у всех есть договоренность питания с нижним подчеркиванием приватах до сих пор живут ничего а вот ты как человек из мира C Sharp и коммерческой разработки оттуда Там ведь тоже есть инструменты для ограничения Скопа и насколько я помню вот именно подходышных разработок там предполагается что у тебя есть большое количество элементов которые исключительно приватные не шарятся наружу ты допустим не можешь взаимодействовать только через агрегаты Ну агрегаты наверное как бы язык и агрегаты здесь не связаны Ну то есть агрегаты можно реализовать с помощью средства которых ты говоришь но на мой взгляд DD это вообще про ограничение контекстов которые как бы на разных уровнях существуют То есть это и агрегаты которые ограничивают какое-то скоп и делает входные точки это и сущности которая ограничивают скоп какого-то внутреннего стейта это если наоборот наверх идти это Бауман этот контекста которая ограничивают область модели поэтому этих ограничений много разных и разные средства языка конечно это помогают и на импспейсы и возможность в классах делать какие-то приватные э Интерны э члены класса и сборки тоже конечно но а тут есть такая штука что иногда можно перестараться в ограничении скопов То есть пользоваться становится крайне неудобно кодом крайне неудобно становится пользоваться моделью поэтому тут надо тоже подходить разумно к этому но я не могу не вспомнить что у PHP можно сделать все А через рефлексия вообще все поэтому проблем наверное не будет Слушай через рефлексию тоже можно сделать практически всё но кажется что если ты через рефлексию начал вызывать что-то что специально было скрыто от обычного вызова это ты пошёл не совсем правильно путём и я тут ещё добавлю есть тут еще какой Аспект вскрытие не только то что нельзя физически вызвать Мы же все пользуемся сейчас и до ешками где есть умные подсказки и правильное ограничение Скопа сокращает то количество предложенных тебе методов которые тебе выскочит когда ты пытаешься написать и это снимает когнитивную нагрузку То есть ты как разработчик ты хочешь вызвать какой-то метод какого-то интерфейса и тебе доступно только те которые действительно тебе должны быть доступны они пачка каких-то непонятных приватных вещей которые не должны вызываться То есть если у тебя там будет какие-то префиксы префиксами обозначены приватность это будет всё равно мешать каждый раз э-э выбирать правильный вариант О'кей еще тут на был интересный наброс в процессе мы когда обсуждали эту тему там предварительно А вот сишарп это компилируемый язык pitch pinter претируемый вот а это достаточно значимая концепция в общем-то и разрезе языков Влияет ли она как-то на реализацию на вот на подходы к реализации там Практик вот на ваш вкус Ну то есть там ну реально она может по-разному влиять Слушай ну я думаю с точки зрения самого дома дизайна и моделирования разницы особо нет то есть потому что мы пытаемся проектировать и разрабатывать наши модели вне зависимости от языка и Независимости от инфраструктуры и только потом когда уже модель готова и мы понимаем как она должна действовать мы уже такие думаем так вот мы там бесконечно бронтаем или там в конечноме в каком-то как и там уже какие-то мосты начинаем наводить то есть ну на мой взгляд разницы особо нет компилируемый Язык или интерпретируем То есть это скорость только и ещё может какие-то нет смотри Дело в том что Ну вот если посмотреть даже примеры в книжках э когда предлагается например делать вместо примитивных типов э-э типизированные то идея же в чём если у тебя Допустим какой-то контакт принимает не знаю два винта ты можешь знаете перепутать местами параметры и передать как бы не те значения то есть допустим у тебя там я не знаю возраст и зарплата передается Пускай зарплата в интеда Окей передается ты можешь переставить местами ошибиться если у тебя типизированные если у тебя selari и передается как типы то компилятор на этапе компиляции фактически ты даже в современной эшке даже не сможешь это Ну то есть сразу видишь ошибку как ты подставил не те параметры Ну поменял местами поэтому на этапе компиляции Э ты можешь отловить очень много ошибок у тебя просто не соберётся э проект если ты неправильно воспользовался типами Ну смотри э у нас же часть вот этой типизации и контроля машины ошибок занимаются как раз ты упомянул объекты значения то есть мы на вход подаём какие-то скаляры в модели там доменный слой у нас уже поступает готовые объекты значения которые уже немножко другими типами и другими другим поведением обладают нежели скаляр и конечно да это при компиляции он может снизить какие-то там шероховатости но в целом Я не вижу в этом какой-то проблемы большой Ну или разница Слушай мне кажется что Леша имел ввиду немножечко другое что в компьютерных языках В процессе компиляции всегда идет проверка совместимости типов у PHP базового из коробки Я не знаю конечно как у вас ребята включаете вы там э стриктапы но очень многие не включают А без проверки там в общем-то ничто не мешает там на динамическая типизации отправлю вообще любую глупость Да есть такая фича можно любую там в стринг им запихать его там скрастится Да тут я согласен но если мы трогайте 15 включаем и у нас э строгой типизация на входе в принципе уже что-то в этом и штука на самом деле включая строго типизацию Ты в какой-то степени приближаешься компилируемость то есть понятно что если брать технический Аспект компилируемый или интерпретируемые то есть точки зрения исполнения кода то здесь особой разницы действительно не будет для в первую очередь про валидацию Чем раньше мы провалитируем что-то и от всей им ошибки тем более стабильным правильным будет наш домен и Наш бизнес логика поэтому компилируем язык тебе Априори бьет по рукам и сразу же не дает Сделать ошибку с этой точки зрения согласен Я предлагаю как-то подытожить разложить это по полочкам во-первых если что-то пойдёт не так с типами э то PHP та же самая дешко она покажет то что извините пожалуйста ваш юзер не подходит и передавайте там не знаю какой-нибудь а артикул ID Ну то есть можно превратить любые Ну в современном PHP В современных фреймворках решениях используют те же самые подходы превращают некоторые обжигты в полноценные объекты вместо использования скаляров Ну то есть это практика не Нова и Да действительно не на уровне компиляции а на уровне runtime Если вы не пользуетесь статистическим анализом если не пользуетесь редакторами кодов и пишите это не знаю в блокнотике или там передаёте глубины почтой Да вот у вас будут фронтальные ошибки вот в любом случае это всё прямо сразу видно если что-то не так ну то есть в этом плане но есть и минусы то есть мы говорим о плюсах но есть как бы и минусы Ну нельзя сказать что язык короче реализации языка она в конечном итоге превращается в интернете Допустим Допустим такой случай где даже там на этом низком уровне есть типы то есть современный компилированные языки они зачастую строго типизированы А с другой стороны обилие описание что где Куда приходит это может вызвать какой-то визуальный создать визуальный мусор слишком много всего нужно описывать для того чтобы оно заработало где можно сократить То есть можно с одной стороны по идее сказать то что вот это вот колбек с таким аргументом можно сказать что это калбек с аргументом этого типа который там дженерии от какого-то типа возвращает ещё Войт и получается можно сказать в PHP или там в каких-нибудь языках с динамической типизацией что это просто колбэк А можно расписать километр или просто или что микс это ну да например и получается что тут палка двух концах Но с другой стороны домен Он намного прозрачнее не прозрачная явнее выделен то есть не нужно писать куча всякого для работы с типами в этом плане PHP Мне кажется умеет совмещать оба подхода мне такая гипотеза и была про PHP что действительно Это скорее баланс то есть плохо когда крайность плохо когда упарываешься какую-то одну сторону то есть плохо совсем не иметь типизации но плохо И когда у тебя действительно вот эти вот дженерики от дженериков Вот это всё но иногда очень больно Действительно это разбирать в том же мне кажется мы подошли к двум это опыт головного мозга а второе указания каких-то типов того что ты хочешь получить за мягкое место еще одна важная особенность атлас Вот это когда ты умираешь сразу после исполнения запроса вот такой подход в целом он способствует гиде Он мешает ddb он ортогонален вообще где Слушай ну я наверное буду придерживаться той же линии что и в предыдущем вопросе с компилируемыми интерпретируемыми языками с точки зрения моделирования без разницы в каком-нибудь конечную тебе runtime или условно бесконечная runtime То есть ты выполнился там поднял агрегат память записал его в персистентный сторож какой-то и ждёшь следующего запроса или там следующего выполнения сценария там кто тебя как запустит в принципе с точки зрения даже тоже гексагональной архитектуры не сильно важно Так что тут но тут опять же хочется набросить это тоже в рамках наброса у нас же предположим что мы бежим Ну пусть в какой-то удар она бесконечный циклов PHP и сам PHP если он заточен под умирание и у нас внезапно получается бесконечный сколп выполнения переиспользовать сущности через какие-нибудь существующий контейнеры и сущности гораздо проще и в этом месте Как раз мне про отсутствие мутабельности про вот такие штуки и кажется что здесь язык начинает больше мешать Или помогать Ну слушай Единственный плюс который я вижу в этом плане это низкий порог входа То есть тебе не надо думать об утечках памяти ты запустился что-то поделал и сбросил всё и делаешь Это запрос запросом запрос Ну понятно там в демонов там в каких-то серверных фантаймах там немножко другие правила но в целом как вот Леш в шарпах это дело обстоит Но тот я бы сказал шарфы это очень такая широкий скол Потому что если Ну то есть в свое время когда-то когда дотнет появился он во многом использовался например для десктоп приложений стоп приложениях стоит это ну постоянно он всегда был потому что ну это привычная парадигма Вот у тебя есть приложение в нём какое-то есть стейт он как-то с ним что-то происходит он там модифицируется если говорить про современные э-э современные применение микросервисную историю и вот это всё то конечно здесь уже стоит ли это более разумный подход потому что иначе ты просто как тебе иначе жить у тебя менеджер сервиса они там убиваются поднимаются в том же клубе Ну то есть как как ты будешь иначе жить один вариант только стоять и Ну наверное хорошо когда ты сразу привычнее кстати из подхода Просто ты не делаешь каких-то глупых э ошибок э которые может за шесть человек который пришёл из стейт мира тут еще тоже момент сам вот domaint Driving Design он оперирует такими концепциями как юскейс сценарий используем вокруг этого сценария использования что-то делаем И вот сам сценарий использования он сам по себе стейтлис То есть он всегда начинается и заканчивается и в следующий цикл Мы заходим опять с нуля То есть как будто бы предыдущего не было И вот Паша упомянул про рот раннер сама в том чтобы нам немножко сэкономить ресурсов из особенностей нашего PHP стека А когда нам приходят там какой-то запрос Мы запускаем наш там не знаю сервис или там команду и она запускает наши сценарии она отрабатывает и всё что она наработало оно вытирается и ждёт заново то есть мы не используем состояние ни в каком виде иначе это может привести живёшь правильно подметил очень плачевным последствиям Ну раз мы трогаем состояние у PHP есть дяйки да И вот да тоже мнение есть а ты уже следующая Тема тут вообще но как так можно Ну мне кажется эта палка двух концах наличие встретилось состоит в вот этого всего конца Почему Потому что у нас есть какое-то определённый домен есть инфраструктура которая вроде бы как-то не касается домен Ну если мы говорим о да да она есть Ну вот приложение классических Ну В отдельной папочке но это не то да да в котором Эванс говорит и вот типа вот эти вот эти типа вот это вот ну все поняли короче О чем я вот и если мы говорим о с State less Об отсутствии состояния Как работает PHP то у нас тут возникает проблема следующего образа Ну например нужно придумывать Как нам ускорить приложение если мы выбираем там тяжелые штуки появляется дэнсити мап какой-то Но это Steam при этом он на каждый запрос свой Если бы у нас был stateful мы могли это донести мап Ну то есть это грубо говоря это массивчик которым находится все объекты все эти все модели которые у нас есть и чтобы в следующий раз базу не лезть Если бы у нас был stateful мы могли Сложить это всё в один определённое место и оттуда уже дёргать не делая запрос PHP в этом плане нужно как-то тюнить оптимизировать смотреть там какие насколько оптимальные запросы если там какой-нибудь плюс один адский а-а потому что типа получается 50 запросов вместо одного и так далее вместо того чтобы за оперативки Но с другой стороны Мы конечно можем решить эту проблему воспользовавшись там я не знаю Sharp Memory либо там либо там каким-то другими штуками куда можно запихнуть память и типа не париться Но это костыли Я почти уверен что 1-2 человека этот зале и использовали cвое память с другой стороны это одновременно и Плюс потому что вот когда последний раз Вы писали свои локаторы память PHP 40 лет назад Ну вот вот примерно так да А если мы говорим про какой-нибудь Low level язык там это сто процентов каждый человек писавший на оси писал свой локатор памяти Ну потому что у других реализация там фатальный недостаток если мы говорим про более высокоуровневые языки там JAVA да там получше но все равно люди очень часто заботятся о памяти думают о том что блин массив нужно складывать А где Map там какой-нибудь чтобы он почистился объект PHP тоже есть мапы а вот кто Вот давай зала спросим Ребята вы Когда пишете на PHP а когда-нибудь Вик Map использовали Вот реально на практике да 1 2 3 поднимите пожалуйста ребят три человека четыре человека четыре человека используем weekmap Но это все равно Ну там пять вы там одновременно можете как-то поднимать чтобы по очереди Вот Но это все равно говорит о том что Извините но вы меньше сторона зала и люди которые пишут на PHP они полагаются на стандартное поведение Да и э-э что значит полагаются использовать потому что она полностью отвечает задачей и не вообще а памяти не думает потому что она очистится в следующий раз и можно об этом вообще не париться и меньше писанины меньше продумываний Блин а как сохранить этот объект как это вы его уже при контачиться к этому объекту там как где ссылки останутся где там гц почистят об этом особо никто не думает тут есть интересный заход А в одной умной книжке написано что это не про производительность и это не про скорость тут получаем ситуацию когда мы начинаем использовать заметно заведомо такой подход который как бы предполагает медленность проблемы большого потребление ресурсов вот в целом нам вот на ваш вкус у PHP хватает вообще там мощностей под капотом чтобы вот переваривать подходы То есть если он изначально там заточен под э-э Не оптимальность ну с точки зрения перформанса А тут ещё он стоит вообще хватает ресурсов Слушай ну все зависит от количества оперативы я под капотом нет в целом Понятное дело что когда вы пишите процедурный код он работает быстрее чем код который поддерживает какие-то абстракции на каждый уровень абстракции нам нужно какие-то дополнительные ресурсы вычислительные применять и Наверное если в каком-то математическом смысле взять и попробовать посчитать что при моделировании нам нужно чуть больше ресурсов наверное да Ну с учетом того что Сколько сейчас у нас есть ресурсов в наших там облачных э-э датах там или на наших каких-то вычислительных стойках это в районе погрешности э вот вся вот эта наша история с абстракцией Да мы берём чуть больше ресурсов но мы можем держать в принципе там ну всё зависит от того как ты его готовишь и второй большой плюс мы понижаем сильно сложность что в принципе считаю нормальные платы за тот небольшой набор ресурсов который мы берём дополнительно Мне кажется тут опять же такой спорный момент я тут как геральт из ривии между двух этих самых болтаюсь тут спорно мы же все же как бы не идеалисты не идеалисты понимаем что есть Ну существует некий баланс между одним и другим и нет нет да И пишем хреновый код Нет я не про это конечно но нужно соблюдать баланс в этом плане и пытаясь написать э хорошее правильное с точки зрения предметной области кот всё равно приходится думать о том А как же это всё будет потом шевелиться и вот мы говорим о том что там на сервере 500 млн гигабайт памяти но с другой стороны если потребуется всего 32 и это как бы ну хостинг Ой не хостинг в Одесская там тысячи две рубли выйдет Ну конечно по чуть побольше Ну образом просто против там какого-нибудь полумиллиона ну то есть разные потребности Да согласен у верно по моему в Красной книге он там как раз приводит пример проекта они там какую-то сас систему делают по Agile там еще по какой-то штуке И вот он приводит плохой пример хороший вот у нас есть большой агрегат и нам нужно много оперативной памяти чтобы его поднимать вот как раз то о чём ты говоришь Да в принципе это не целесообразно Давайте нарежем его если там транзакционная граница в принципе Нас устраивает мы Давайте конечно использовать более гранулированные вещи которые требуют меньше вычислительных ресурсов И тем самым попытаемся найти баланс конечно инфраструктуру в целом работать нужно отдавать Я немножко иначе спрошу а вот те кто применяет активно у себя подходы ребят как часто Вам приходится думать о перформансе вообще-то проблема Ну то есть эту тему там что-то рассказываем ребят Вот и зала у кого были проблемы после того как он перешел на DD подход железом там сильно потребление выше увеличилось Когда вы переехали на Как видно по результатам опроса PHP Нет проблем производительности Это самый быстрый язык в мире про инте Я вчера всё рассказал юиды нормально абсолютно работать такой же скорость Валентин подтвердил в принципе проблем нет надо было вообще с этого начать но я не буду компрометировать это круглый стол Он с нами нашей в этой комнате он есть как Ну ладно тут написано круглый стол если что вот поднимал ребята не поднимайте руки про книги Я не хочу этого знать вы все так или иначе Используйте это подходы я в это верю Окей смотрите получается что performance тогда остается за скобками у нас достаточно быстро стоит А что может вообще в целом помогать Ну вот когда-то я краешком глаза посмотрел и там под дикий подходы есть и фреймворки уже написаны какие-то отдельные там рекомендации проектов А у нас вот как Кирилл Вспомнил Не то чтобы очень большой толстый Выборг вот существующие разработки там э симфония там и внезапно Они вообще помогают нам подходами там дают как их рекомендуемые подходят В общем матчится как вот в этом месте работает как ты сказал 40 лет твои выпечки разработки и ты повидал много фреймворков я округлил 41 Ну вот тем более как там вот как эти проблемы решаются или поднимаются меня волнует больше Почему круглый стол квадратный не Ну конечно если серьезно отвечать на этот вопрос то экосистема Она всегда определяет определяет насколько язык востребован популярен не важно насколько крутой язык язык без экосистемы он как бы взять например тот же самый если мы говорим про PHP очевидное Проверь это hhm Но кто-нибудь вообще его один там один-два человека пробовали и то в то время когда он был совместим с PHP сейчас он не совместим пакетов Нет с композитором несовместим не запускается даже там кто на нем пишет только те кто в своё время начали его использовать А сейчас современном мире я не знаю кто начнёт его сейчас использовать Ну это я к тому что эта система важна Да если мы говорим про фреймворки и окружение в PHP есть как в других языках это если мы говорим про самые очевидные которые на поверхности решения это доктрина как которая позволяет отделить Ну хоть в какой-то мере отделить логику выбора логику получение источники данных в частности баз данных как самая популярная от их представления от Valley обжигетов от доменного слоя то есть entity хотя некоторые могут сделать их каким-нибудь онимичными там где будет getzed getzet они более предметно и обмазать интерфейсами но они он и сами подобные решения они дают некоторых гибкость А в Джаве и кибернетиз если проводить альтернативы А все шарпе э-э есть антифреймы но есть есть которые я даже не знаю он был просто переписан по образуют не скажу но он не очень популярен в том числе потому что он очень сильно как раз заточен под концепцией но фреймворк используется гораздо чаще чем проще чем в приложениях которые ортодоксальные вот эти по заветам ддд поэтому такой такие жесткие ограничения они видимо всем мешали и он не обрел какой-то популярности На мой взгляд вот а так эти фреймворк это основной это сделано Microsoft и развивается поддерживается и используется большинство людей есть еще например от создателей стековерфлоу он легковесен он Меньше дает возможности как раз вот таких ддшных Но это все же больше про ОРМ А вот это не только говорил правильно это самое потому что находится сразу в голову а так на самом деле опять же Microsoft как автор как разработчики языка платформы на самом деле очень много уделяли это внимание тому чтобы концепция ДДТ втаскивать прямо вот на уровень языка и экосистемы и если посмотреть официальную документацию от Microsoft Там прям есть гайд Как строить приложения применяя в том числе концепции дома дизайн поэтому на самом деле часть фреймворка как фреймворк заточена под вещи связанные с ddd но я еще сталкивался своей карьере Вот есть такой фреймворк abp Frame который как раз он постулирует что это фреймворк созданный теми кто практикует ДДТ для тех кто практикует ддд но в принципе можно пользоваться он нормальный но он довольно сильно связывает местами По рукам и ногам потому что там начинаются разные диктуемые тебе типы ID сущности еще что-то такое Я думаю в этом как раз может быть печаль типизированного строго типизированную языка что ты там только через дженерики можешь допустить какую-то креатив вариативность типа при этом сохраняя типизацию в какой-то предложенной структуре сущности например Слушай мне понравилось Идея про то что от Microsoft есть прям отличный гайд как Ну ты говоришь отличный о том как реализовать диги подхода на шарпах Слушай у нас есть здесь в этом зале один человек который участник Может быть эти ребята тоже запишут такой же гайд для PHP но смотрите тут еще момент который тоже Алексей подсветил весь обратная сторона этого фреймворк это то что ты диктуешь какие-то правила основная специфика моделирование в том что ты в каждой конкретной ситуации в какой-то конкретной архитектуре ты находишься ты моделируешь немножко по-своему То есть я вот на нескольких проектах применял этот подход и допустим высокая нагруженном проекте тебе нужно использовать э одного рода приёмы в каком-то более бизнесовом более Хмм нагрузки меньше а немножко другие другого вида модели появляются другого рода конструкции которые модели управляют и вот эти вот качели они не позволяют сделать какую-то штуку типа не компонент даёт тебе приговорки это не про что повторяемость То есть ты решаешь пишешь какие-то сущности в базу не знаю файловой системы работаешь с очередями это все про фреймворки А когда ты разрабатываешь модель ты ее проектируешь под что-то конкретное и у тебя Ты в принципе тут очень хорошо принцип ягни работает то есть ты должен описывать только то что тебе нужно а не то что там даже теоретически может завтра появиться вот в чем смысл всего этого дела И фреймворки они на мой взгляд именно единичные только эти вот на моей памяти он есть который более-менее что-то подобное описывает они больше вреда принесут На дистанции чем какой-то польза моё мнение такое Ну знаешь мне бы сказал бы что для популяризации DD подходов как раз нибудь гайды Пусть и не Абсолютно верно были бы точно полезны а гайд он все-таки дает рекомендации а фреймворк он дает тебе рельсы по которым ты едешь Но вот тут Леша Прага и Ты вспомнил Ладно ребят У нас заканчивается время Давайте Вот как-то финализируем что скажет берем PHP для возьмем Я тут вспомнил еще что не обязательно существует маппинги вот это вот эта система но ещё есть контейнер Аспект на ориентированное программирование прочие штуки которые позволяют вынести сквозной функционал то есть логирование и отделить отдельно от непосредственно бизнес логики и мы кажется это уже не успеваем обсудить Да прикольно штуки Но если что вы Вот ребята видите Они классные эксперты их можно ловить будет вне этого зала и обсудить те самые дедишные аспекты в том числе про лагировании Мне кажется я посмотрел со стороны послушал и мне кажется что успех применения ддд в первую очередь лежит в головах не в технологиях и мне кажется что вот по уровню обсуждения потому что ребята из PHP при этом вот активные участники волшебства и так далее это есть главное Наверное главная Метрика успеха Я думаю что все будет хорошо когда умные люди занимаются правильными практиками это все потому что ты сидишь на PHP конференции да И тут вокруг тебя собрались спички Я думаю что да сто процентов надо брать в противном случае меня просто уволят и мне ничего делать на эту PHP но наверное мне Хотя мне не хотелось чтобы тебя уволили Вот но финализируя все это египешь вроде совместимы оказались тебя Андрей мы три раза вспомнили про из-за упоминание я тебе пришлю по почте Ладно договорились я его пешку сразу перерисую Ладно ребят Спасибо Спасибо вам большое это вам Аплодисменты Спасибо Ребят давайте посмотрим на наши вопросы Кто хочет автору лучшего вопроса Что будет будет у нас есть круглый квадратный стол вот так Это его стол еще один сделал это он имплементирует Интерфейс это очень мог 100 поэтому не придирайтесь это мог круглого стола во-первых Да вы не сказали что на самом деле это замечание такое А во-вторых хотел бы спросить а вот в какой момент мы вообще решили что идея так клёво и круто Может быть правильнее по заветам Тараса к отеле отца нашего на инфуда всё писать это не клево и круто это инструмент который решает конкретные задачи Но тогда даже в одном проекте Вы можете в одной части проекта что-то моделировать с использованием ddd а другая часть проекта может быть собрана из говна и палок Простите и все будет прекрасно работать Почему не и палки Почему дети не и палки а вот может наоборот если у нас момент который мы стали уверены что это это правильно Правильно это термин который вы смотрите со своей точки зрения для вас это правильно для меня это неправильно То есть каждый выбирает свой инструмент и свою меру правильности я решаю при помощи DD конкретная задача ну выглядит похоже на вкусовщину вообще-то если мы не у нас нет доказательства это какое-то вообще есть Вы можете у нас есть Зона для Драк если что отдельная комната неважно неважно Да вот там потом можно будет такие более личные вопросы обсудить Я хотел бы озвучить А да да хорошо у нас есть один пару вопросов и ещё мы успеем из зала тоже спросить а вот вопрос от Сергея вы говорили про то что в современном мире нужно писать легко поддерживаем приложение в то же время в современном мире принято делать О микросервисную архитектуру как вы видите применение ddf в конечном микросервисе у я Слушай можно тут Я немножечко наброшу в какой-то момент времени вот распиливая на микросервис задаешься вопросом Правильно ли это я делаю Правильно ли выделяю вот эти вот зоны ответственности сервисов и тебе нужно как-то начать собирать Мысли в кучу подумайте о доменах обо всем и если тебе в этот момент времени попадётся какая-нибудь из книжек по DD ты подумаешь ё-моё вот Я вот сейчас пытаюсь придумать какие-то правила они уже там описаны ведь на самом деле там концепция агрегатов лично ложатся на концепцию микро сервисов там мисованные доменные зоны и сущности то же самое Это прямо те подсказывают как это сделать И кажется что для DD подходов в целом под микросервисы вообще отлично а можно тогда потому что мне как раз про литературу вопросик а литературы по DD довольно-таки много но про детей в PHP Я знаю по крайней мере одну только Карлоса была на свинуса PHP что про эту книжку скажете порекомендуете или всё-таки чушь писал большей части А я думаю что наверное нет смысла пытаться найти литературу под конкретный язык то есть про реализацию Да а как только вы начнёте понимать э саму методологию то есть ну в частности стратегические паттерны Вот этот который сейчас с Пашей говорил которые помогают нам как-то делить нашу систему на физические логические какие-то элементы а любую реализацию можно найти по сёрфинге хаб Ну вот в принципе это наверное лучший лучшие книга то есть посмотреть кто как что делает еще своей страны хотел добавить сегодня за круглым столом наши импровизированного очень много было про технические детали но DD это еще и общение с бизнесом это изучение предметной области и вообще этот вопрос лежит абсолютно вне контекста языка и технологий а он очень важный для того чтобы правильно применять domain Driving Design потому что он driven domain нам адамейн знают эксперты предметной области поэтому э-э про это тоже пожалуйста Не забывайте Ну что ж Давайте ещё один вопрос из зала возьмём Ага вот молодой человек а девушка хорошо А вы упомянули пышечные формы и ddd хотела спросить по поводу чистого SQL и DD как на это DD смотрит или SQL это в принципе Legacy а мы в Мамбе В Мамбе не используем никаких проблем Мы то есть мы используем паттерн datamaper но под капотом у нас чистый SQL то есть мы все-таки отделяем уровни инфраструктуры и приложения или домена просто в какой-то момент она начинает мешать То есть вы для того чтобы что-то прочитать или что-то записать начинаете в базу дергать слишком много раз и там когда у вас хайлоты вам где-то что-то надо там оптимизировать уровень начинает стрелять в ногу поэтому тут я бы не сказал что это какой-то антипатор там или да Алексей я хочу добавить просто дело в том что модель Она же живая и меняется в процессе когда её уточняют Я прославиевич про термины которые модели используются но менять модель в базе гораздо больнее чем в и поэтому слой маппинга зачастую может предохранять нас от То есть можно изменение в базе делать скажем реже Может быть там как-то накапливая необходимые изменения Я просто на одном из проектов Вот надо было как раз уточнить модель в базе немножко переименовать Просто некоторые вещи как-то что-то поменять и это заняло Я не знаю месяца два наверное потому что это уже база напроде там уже на это все завязано то есть это огромная история но мы поменяли это в коде и это сразу стал читаться нормально то что уже там на уровне маппинга Вот это несоответствие решается это ну компромисс на которые было лучше пойти чем чем менять в базе сразу или жить с неправильными с неправильной моделью Спасибо большое спасибо за этот вопрос потому что такой же был Ещё у нас и в чате вот ну я присоединяюсь к ответам Да пожалуйста что если мы говорим о том же самом доктрине то это ОРМ это не только вот кори-билдер какой-нибудь Ну абстрактный это ещё гидратор это ещё абстрактный метод и дата это еще всякие другие системы это и density Map та же самая про которая говорил и говоря о Брэм в целом можно запросто оставить какие-то запросики но использовать гидратор потому что он ну то есть берёшь массивчики кнопочка Нажимаешь он фига тем объекты и Маппет сразу и накладывает Так что одному другому не мешают это считается золотом да да Ну что ж предлагаю на этом Да все закругляемся Я видел еще У кого-то остались вопросы но их можно будет задать нашим спикерам на выходе из зала и пообщаться дальше У нас скоро будет tiktok И следующий доклад про безопасность Ну что ж Большое спасибо я тебя Аплодисменты вам Спасибо большое спасибо ребят спасибо спасибо и Да А извините извините ребята Я совсем забыл Мой фейл нам нужно подарить подарок за лучший вопрос Давайте быстренько это сделаем но у нас немного было вопросов из зала хороший был вопрос от человека про книги про PHP и вот девушка подняла вопрос про РМ Да на подарок один подарок один подарок один Ну что ребят за что голосуем никто не хочет на себя брать ответственность и жена Давайте девушки интересуются вопросами объектов Всё теперь точно всё спасибо спасибо"
}
{
  "video_id": "qLw8OrFHsgA",
  "channel": "HighLoadChannel",
  "title": "Защита дата-центров и данных от катастроф / Максим Шапошников (Nutanix, Inc)",
  "views": 200,
  "duration": 2078,
  "published": "2017-07-30T00:47:31-07:00",
  "text": "а максим shapes они нутаникс ярко и непринужденно расскажет вам куст сложная штука защиту данных и дата-центров от катастроф звучит страшно но узнаете как можно это сделать легко поприветствуем максима добрый уже день соответственно я работу компании нутаникс может быть она слышали может быть нет шуметь - это носитель на недавно начали нашумели уже много мы переворачиваем рынок мировой айти с точки зрения особенно энтерпрайза в больших наша идея а если коротко мы взяли то что вы делаете уже годами это web-технологии webscale и упаковали в коробочное решение и начинаем вытеснять больших вендоров причем активно вытеснять министерства обороны сша на нас уже уже перешло вытеснять начинаем традиционные вендоры большие системах они данных сервера и прочее все чисто программа чисто состава и чтобы вас заинтересовать сразу вперед скажу что мы в том числе выпустили уже бесплатную версию нашего программного обеспечения который называть камень типичен и которая позволяет множество небольших компаний стартапов и университетом бизнесов получить тот функционал который мы даем а он является хайян дал им получить бесплатно то есть об этом можно поговорить в кулуарах соответствует 8 числа мы будем раздавать ее всем направо и налево соответственно для кого-то это базовый аксиомы которые абсолютно знакомы не обижайтесь уровень и аудитория люди разные кто-то лучше подготовку к хуже подготовку имеет вопрос того что в том числе это наше видение того как надо работать данными некоторые вещи могут вам показаться возмутительными например первая же строчка он отказ от аппаратных особенно на самом деле в мире назревал кризис и технология уже устарели и морально и физически по большому ряду причин если очень коротко то диски которые сейчас например на 68 терабайт обычный райт с и технологии применяются скорость ребилда а даже при одном или двух 2 улетевших дисках можно занимать на пол дня исходы будут у вас любил биться это назвать и заставлен да если в это время у вас еще один диск валить это означает потерю данных соответственно когда были дисков по терабайту например или два даже то к примеру это все было намного легче сейчас все уходят в другие дебри соответственно дальше понятно уже наш наше видение опять же большинству вопрос рабочих понятно что нет смысла использовать уже схд как-то как как таковую то есть внешне выделены из ходе которой 10 лет назад перевернули рынок айти enterprise сайте когда все до этого использовали сервера с дисками локально персона система соответственно потом появились схд разделяемые данные очень круто очень удобно облачное решение соответственно сейчас очередной перевод переворот в индустрии происходит сейчас я начали говорить webscale конвергентной и гиперконвергентное вот наберете например выпускаю в интернете куча сразу вываливаются крупнейшие бизнеса мы к семнадцатому году например gartner говорить что на выпустил технологии перейдет более половины энтерпрайз айти интерфейс сайте рынок это сейчас где-то 40 миллиарда долларов в год соответственно и к семнадцатому году то есть то что вы привыкли делать в только для онлайн проектов как нас называют например конкуренты некоторых google в коробке к примеру на обоснование есть потому что это делали инженеры ключевые которые делали google file system к примеру то есть мы сделали решение которое собственно говоря на тех же самых принципу построены соответственно дальше отказывайся trade данные надо все равно резервировать все сейчас говорят не орите для резервирования данных о уоррене технология массив независимых но тов то есть соответственно и ушли от локализации когда у вас райт работает это вокализации на уровне диска rain архитектура это организация на уровне но do not это сервер вычислительно узел его в кластере как угодно называть термином много реально это просто у сервера обычный соответственно и данное надо резервировать тогда данные сейчас термин опять же появился новый disperse дейта по-русски это размазанные данные то есть мы вместо того чтобы локализовывать данные на рейде там пятом шестом или каком-то мы блоки данных в нескольких копиях размазываем по кластеру чтобы данное остались резервирование соответственно резервирование путей доступа к данным любой современной webscale системе любой компонент может отказать может быть вышли термин google картонной сидора а почему картонное не картон на нее жести но смысл такой что никто не заморачивается по поводу надежности конкретные единицы оборудования и если весь мир enterprise найти крупные вендоры говорят о том что каждая единица сервер на должна быть надежной али супернадежная а каждая единица надежности там три девятки 4 9 5 девяток вот дата центра чтобы построить например место 4 9 девяток два раза стоимость это центр увеличиваются то есть вы можете например с места 10 миллионов доллар потратить 20 чтобы добавить одну девятку соответственно это тупиковое направление оборудование надежным чем сложнее оборудования тем она менее надежно по определению слишком много слишком высока плотность компонент транзисторов размещения в процессорах ошибки находят много всего слишком соответственно концептуально другой подход когда отказ любых элементов ваши эти инфраструктуры не приводит к отказу и потери данных и доступ к данным поэтому опять же не к аксиома то что у вас должно быть резервирование путей доступа к данным то есть это означает что если у вас отказал какой-то компонент вокальный то вы всегда должны иметь возможность получить доступ данным через другую другой путь с на фото данных на лету snapshot я думаю вам термин знакомо это просто когда у вас работать файла система или апликэйшен или виртуальная машина то вы должны иметь возможность снимать мгновенные слепки данных и мгновенно же причем буквально мгновенно защита на секунду или менее секунду желательно иметь возможность откатиться обратно это сделать много но об этом отдельно можно поговорить соответственно вы должны иметь полный контроль над расписанием и политика защиты ваших данных соответственно в том числе когда и сколько спад сотов например делать или сколько реплик данных в кластере держать для важных данных например 3 реплики для неважно данных две реплики минимизация or partial казалось бы базовой термин оказалось что в россии например pro arte arte а практически никто не думает и не говорит что очень удивляет и это даже не на уровне например онлайн комьюнити это на уровне крупнейших in the price of техническая пиво artyom дальше будет описано но и действуем что эти два термина описывают ключевые два момента резервирования данных и и за старика вари это с какой периодичностью вы готовы вы делаете слепки данных то есть за какое время вы готовы потерять данные то есть если например вас слегка дано делается каждый час значит случае аварии вы можете откатиться крепких и данных который был час назад сделано то есть теоретически вы можете получить получить потерю данных за час на последней второй параметр означает как быстро вы должны восстановить доступ данным когда многие быка провайдеры подписывать это соглашение они говорят мы гарантируем надежность 5 9 замечательно а внизу мам маленьким текстом в течение недели поднимем данные соответственно это очень важный параметр второй ключевой то есть не только за какое время вы должны поднять иметь доступ данным но как быстро эти данные вернуться в тройку потому что бизнес который лежит финансовые транзакции пролёт пролёт к 15 минут подъем данных уже может оказаться критичной поэтому в том числе иногда требуется 0 и то и другое и orpio & artego соответственно синхронно синхронная репликация должна быть если вас виртуальной машины виртуальных машин и дата 100 raw если это больше и последнее модная фишка резервирование данных публично блока например amazon или ажур или что-то такое поехали дальше соответственно по защите данных есть какие-то нюансы которые просто быстро пробежимся самое первое правило грамотной апликэйшен ну возьмем классический например apple который действительно крут и очень дорог то зачастую она действительно знает лучше как как реплицировать данные это сделать намного намного более качество просто именно апликэйшен понимает свое плечо логику эта теория на практике на самом деле множество причин который даже умеет резерве до дна и они на самом деле делают это очень плохо и возникает множество нюансов или это очень сложно настроить или очень сложно поддерживать или очень дорого если у раков обычно лицензия стоит например одни деньги то arcoroc сразу пять раз дороже чтобы получить резервирование астана на уровне урока и вы уже начинаете считать до как бы на причин это круто и хорошо но уж больно дорого не получается пройти по бюджету к примеру синхронная репликация крут самая крутая штука все замечательно 2 дата-центры реплицируют данная скорость света не обмануть если у вас есть оптоволокно темное большинство вендоров требует для цифра 0 и пикассо дата-центров темное оптика это максим 120 километров дальше уже слишком большая становится в пенси для них соответственно в офисе убивает производительность то есть у вас аякса операций ввода-вывода в секунду они просто просаживают с каждой дополнительной мир секунду задержка между запасами поэтому реалестично говорить асинхронной репликации дано чаще всего дата-центра должны быть не более нескольких сотен километров мы например победам до 5 миллисекунд это лидирующий показатель индустрии теоретически это до 400 километров соответственно опять же мы умеем это делать через за любой от requeline опять же это достаточно уникально показатель но об этом тоже дальше и есть асинхронно репликация которая некая средняя между язык между двумя соответственно вопрос того что вы просто периодически делайте слепки данных они автоматически реплицируется другой дата-центр случая варишь горелов яда бульдозерист или еще что то что в россии не только бывает соответственно вы можете активировать другой центров чаще всего приемлемым считается максимум час чаще всего 15 минут артур пиво соответственно вот это уже начали говорить тоже чаще всего принять гибридные подходы потому что когда синхронно дата скоро или физическое ограничение когда у вас асинхронная то возможна потеря данных соответственно чаще собирают что-то гибридная тут из вас надо действительно резервирует а центра и данные то собирать некий гибрид и соответственно не забывайте там о том что защита дата-центров она не решает вопросы бэкапов многие начинают просто на потом и делать но реально backup не заменить потому что backup он в том числе позволяет логически поврежденным данный например база данных кто-то деструктивно операцию сделал кто то вы работник какую-то команду и уничтожу какие-то данные соответственно snapshot это все сохранить на какое то время но бэкапы чаще всего лежат в полгода-год два года на каких-то внешних например опять же облака облаках и и дано лентах например или на каких то делать дешевых осады то есть backup все равно должен быть это надо не забывать теперь уже ближе к телу как мы это решаем снизу вверх 1 нутаникс сделали немного нежности by the file system сделана она была инженерами google здесь а человек вечера команда которая дело google систем соответственно достаточно интересное решение потому что она базируется на открытых технологиях соответственно нами то данные хранятся в жестко модифицирован кассандре apache cassandra мы ее доработали бесах говорить о cup теореме которого на самом деле вещь сложная и очень условная потому шкаф теорема на самом деле достаточно не точна но мы скорее перевели кассандру в режим музей то есть assistant волейбол и неустойчивых парте цианирование проблем позиционирование мы решили наличием нескольких копий три или пять копий метаданных в кластере а сами блоки данных хранятся на x4 от которой нам нужно просто 4 мегабайта файл то есть по параметрам сейчас на сегодня div с является достаточно уникальной системой соответственно она не имеет вообще лимитов роста она заточена изначально под виртуализацию чисто под виртуализацию от облачное решение и соответственно не имеет единой точки отказа если вас 5 надо в кластере соответственно любые два но да вы тоскуете на лету file system продолжать работать нет выделенного контроллера нет выделенных серверов блокировок например арбитра какого-то ничего нет если у вас в квартире 12 нодов три блока 6 юнитов то любые не дни любой бокса ли поможет сказать 4 контроллер 4 сервера файл система продолжает жить соответственно исходя из этого мы сейчас являемся одни из самых надежных или скорее излечены думаю что самое надежное в мире по отказоустойчивости еще раз например на нас там фбр сидит весь перешли там 15 тысяч рабочих мест к примеру соответственно уж у компании просто 60 клиентов это военные и федерал сша соответственно чуть-чуть покажу как работает резервирования данных внутри кластера вот у вас виртуально машин запускаться каком-то хостел соответственно когда виртуальная машина начинает писать данные блоки данных a b c мы запишем по кластеру на презентациях а маркетологи говорят случай на самом деле по кольцу кассандра следуя мы запишем блоки bnc еще дополнительно другие но до костра соответственно если у нас происходит сбой то мы имеем копии данных это что будет дальше соответственно что мы умеем делать это двойная тройные защита данных то есть вы выбираете дверь и пики в квас приписать или три вы можете комбинировать войну тройную защиту данных в пределах кластера для не очень важных данных и собой который или надежность требуется например там три девятки вы можете например двойную защиту что начать 2 на защиту вы выдержите отказ любого компонента кого сторону 1 двойная защита данных у вас есть на еще дополнительно реплика данных соответственно 2 любых компонента кластера вот компонентом пастор это может быть диск not со всеми дисками каждый но например 6 дисков то есть при rf3 у вас можно сказать два но до с 12 дисками и вам ничего от этого не будет соответственно это всего в пределах одного кластера без проблем гибко сочетается соответственно как это работает то есть виртуальная машина пишет данные записалась две копии данных два сервера отказала со всеми дисками у вас остались по 5 блоков данных виртуальной машины стартует на другом узле данные все доступны восстанавливается тут же самое значение называется как bittorrent работает то есть просто перту перу вас блоки данных перри размазываются отсутствующие восстановится необходимое количество replied данных то есть на слова все просто звучит просто то же самое если у вас отказал но целиком виртуальная машина перри запустилась на каком-то узле начинает те блоки данных которые на этом конкретном взгляд чувствовали начинает ним обращаться и тесте блоки данных которые сейчас на этом узле отсутствуют посети обращается но мы единственные рынке кто пошли дальше мы сделали локализации ввода-вывода то есть горячий блоки данных мы еще вдобавок подтянем обратно на тот хоста котором работает виртуально машина-то себе раз и чтение особенно для баз данных это очень хорошо они начинают работать со скоростью де-факто вокального интерфейса ввода-вывода резервирование путей доступа то же самое то есть если у вас отказал работает в локальный контроллер вокальный not если он сказал вокальный виртуальный контроллер или например апгрейде цепова на нем то обращение начинают просто посети уходить на соседние народы кластера то есть для вашего приложения абсолютно прозрачно чем это хорошо то что у вас есть просто виртуальная машина которая вы выгоняете бизнес-логику свое она не знает о том что происходит ниже все абстрагировано просто очень надежно хорошо работать а мы гарантируем черта дальше соответственно это то что я говорил когда вас три блока там и размазываем данные не только понимаю что надо между серверами размажут по что каждый блок это 4 сервера внутри 2 линь этого коробка там и еще добавок понимаем что надо между блоками разными физическими размазывать поэтому когда вас блок отказал ищет имя сервера на внутрь это вам от этого тоже ничего не будет интегрирована защита данных что мы сделали мы поддерживаем локальные снапшоты вы у нас называются технологии сына типа технология toy machine у нас называется timestream мы сделали снапшоты которые абсолютно не влияет на производительность вы можете иметь 10000 на спад фото виртуальной машины за полгода покамест apple store есть на производительность ровно ноль это влияет соответственно вы можете настроить что делать на фото на память каждый час делать наша группа виртуальных машин без слепок бизнес-логики вы можете делать бэкап наружу абсолютно подерутся например swim дружим сильно которые как бы русско компания бываю швейцарии переехали и на удалён дата-центра это уже поближе к теме основной доклада резервирование дата-центров то есть все это управляется из иди на консоль к ночным об этом у нас поэтому оборудовали может посмотреть интерфейс писали ребята как дизайнера из эпла сам интерфейс писали те кто делал labs то есть поэтому все очень знакомы с айфона могу управлять инфраструктура на 1000 серверов например потому что частичку 5 джексон вот пример управление прямо из нашего решения страничка чем опять же вы управляете расписанием защиты сколько snapshot of локально дата-центра держать сколько состав удаленных дата-центрах держать дата-центров может быть удалён они один совершенно а много сами выбираете политики с какой периодичностью сколько чего делать соответственно вот теперь уже еще выше поднимаемся соответственно те самые параметров при варке а то есть это recovery пары point and jack of recovery time секты соответственно опять же случае незначительных инцидентов чаще всего вы можете говорить смело том что вы хотели бы данные худшем случаев за час и потерять и соответственно или в случае серьезных инцидентов и хотели бы потерять работу пока скажи нет вообще ноль данных потому что если вы у вас серьезная задача то вам хотелось бы восстановиться восстановить данные с 0 потерями соответственно recovery time объектов это то самое с какой скоростью восстановиться то есть чаще всего для серьезных нагрузок опять же речь должна идти о минутах лучшем случае потери то есть для например финансовых транзакций у вас должно быть чаще всего orpio несколько минут может быть как максимум а лучше всего 0 потому что одна транзакция потеряно по финансовой это уже большой проблемой барт на претензии могут лишить соответственно и скорость возврата всего в эксплуатацию этой минуты мало кто знает например даже справа из производителей сходи в россии есть интересный нюанс мне коллега рассказал окажется по закону у нас несли например из hd1 операционной системе базе данных на возврат команды то что запись данных произошла а данные оказались не записаны то это это карается законом то есть если у вас произошел в например 2 сделали commit у вас в базу данных от персоной системы и вот исходя пришел возврат операции что все-все записано оно самом деле где-то она зависла в каше рейда то если до найти потеряются и это выплывет то компания производитель решения vendor должны быть наказаны и могут быть наказан очень серьезно это не только в россии такое право соответственно что мы сделали но танец у нас есть timestream еще раз вы видели предыдущие интерфейс вы просто включаете сколько он на 1 напротив там за последние полгода год или сколько храните у нас есть плавать connect намазан например сливать то есть у вас каждый час снимается слепок ваша инфраструктура ваши там виртуальных машин примеру и выливаются в amazon и там лежат и есть соответственно удаленная data center application и наш веселый метра классно который является пока что единственным и уникальным решением на рынке с точки зрения вот параметров совокупных параметров соответственно и за 100 recovery сценарии опять же это из энтерпрайза пришел термин может быть вам знаком может быть нет есть различные сценарии для завтрака very dance to recovery бывает ван ту ван это дата центр над это центр one туннеле когда вы один дата-центр реплицируется низко дата-центров moneta money money товар чаще всего большинство вендоров подержит в антуан мы поддерживаем любую комбинацию потому что она сидела на магический плюс мы поддерживаем любую комбинацию оборудование у вас разорвёт на центр может быть разные оборудовали стоять если обычно при репликации требуется практически или полностью dentist оборудование на двух концах сайта то мы поддерживаем другую комбинацию оборудовать просто все программно самое смешно что даже бесплатная версия наша полярная она имеет этот функционал встроенный соответственно из посчитать сколько это стоит просто купить лицензию там других вендоров то это обычно на несколько сотен тысяч долларов получается мы даем это бесплатно то есть если вы комментить 2 имеете 2 до центра поставите 2 класса по четыре на санках то вы можете реплицировать давно это все быстро мы дарим в подарок соответственно здесь заостряться не смысла кроме того что one акселерация вам не нужно тоже становится потому что мы умны настолько что передавать только изменившейся данные при ван репликации и добавок моих умеем сжимать чем же маем опять же google snappy голос запел горит он это весь гугл на нем сидит это вопрос о снова гарри там он просто очень хорош потому что максимально использует возможности они просто процессоров аппаратная акселерация то есть на пи очень эффективно и быстро работает мы поэтому ривер bad-ass например не очень любят потому что river band занимается вон акселерация а наше решение репликаза дата-центров она не требует ван акселерация в принципе соответственно и вот тот самый метр aquastar метр aquastar сейчас работает только для veeam в.н. по ряду причин на ближайшее время для kiwi мы его включим соответственно это полностью синхронная запись данных если у вас виртуальная машина или машины и пишут дано вокально ту виртуальная машина базу данных не придет например код возврата записи что произошла пока на удаленном дата-центры запись это тоже не случилось это все происходит естественно брил t'aime поэтому чем больше расстояние тем выше задержки скорость света соответственно тем меньше операций ввода-вывода мы вы можете сделать мы тестировали примерно 200 километров соответственно где-то на 30 40 процента производительность у вас у aiop сам падает другой стороны нутаникс выдает коробочка следует на тестах там 90 100000 обсудить проблемы дает маленькая коробочка а то и больше соответственно даже случай сильно просадки вы сиропа и вы получаете много десятков тысяч операция водовода секунду поэтому это является моментом который надо учитывать но это не является огромной проблемой и мы опять же сделали это через любой thrilling то есть де-факто вам кроме и пекан экшена между 2 центрами ничего не надо потому что когда другие вендоры требуют он на оптику темного оптика стоит как самолет это надо иметь волокно между центрами выделено и соответственно обычно это на тысячи или десятки тысяч долларов ежемесячно платежи просто провайдеру темной оптики на то чтобы это лежала между дата центрами соответственно нашем случае то может быть любая трейлинг соответственно опять же это мог быть просто интернет-провайдеры даже вы smack совали в одну кучу пачку провайдеров и передаете данные соответственно cloud connect это amazon сейчас мы поддерживаем причем опять же не просто на amazon возможность аппликация вы просто в нашем интерфейсе вводить параметр своего доступа камаза ну а дальше мы все сами сделаем мы заведем на морозе нужна виртуальная инстанция нутаникс а и все управление продолжается не через интерфейс амазона через наш интерфейс то есть прямо из интерфейса на танец из той же самой сим об этой страничке вы управляете в том числе репликация данных на amazon вам надо помимо amazon и сейчас уже готово у нас в бэта версия ажур и мы вообще не ограничены принципе куда реплицироваться скорее вопрос бизнес-логики соответственно ну и тут коллеги присутствуют нельзя пока распространять информацию кого мы сделали в россии но кто-то сахара даются кто-то в общем то просто параметрам и в россии сейчас участвовать очень интересном проекте это федерального значения вы точно видели новостях писала тут все пишут о нем соответственно коллеги сделали технологию выбрали но танец по вышеописанным причинам реплицировать данные этом много десятков это байт данных в итоге много бизнес-логики много баз данных это реплицируется между да да центрами на больше чем 1000 километров внутри россии соответственно получили резервирование данных в принципе вот и все вопросы если какие то есть давайте из отлично еще раз ближайшее время мы на хабре уже сделали статью опубликовали мы начинаем раздавать наталья камень и тишина бесплатно сто процентов функционала даем это означает с нашей стороны чтобы просто комьюнити хотим чтобы комьюнити участвовала в том числе так как у нас есть женщины и перестроен это вы можете в том числе делать интересные проекты базируясь на камень и тишина то алекса и соответственно в том числе и на этом зарабатывать деньги вопрос закладка жить просто вот вы сказали что есть один старый сайт деза старые ковры сайт д-р сайт как на него происходит переключение нажатием одной кнопки то есть оператор что делает нутаникс значит он автоматически полностью где регистрируют виртуальные машины даже не так сначала сделать последний репликация то есть есть два типа приучен adidas наш сайт 1 аварийный когда вас легло тогда естественно часть the dead меняется и легитимный когда вы например знаете что завтра кабель перекопают соответственно у нас есть кнопочка май край 1 кнопочку интерфейсе больше ничего не наделать астана автоматизировано соответственно нажали эту кнопочку мы последнюю копию дельту сна фото догоняем нападали на сайт мы выключаем виртуальная машина на старом сайте не запуская виртуальной машины на новом сайте это полностью автоматизирована спасибо и второй вопрос каким основные плюсы то никто от шефа во-первых сэв это проект это не продукт cf это просто file system file system для нас и dfs это просто там 10 15 функционала соответственно сев отличный продукт простейший вопрос ну уже опять же на хабре было много споров на эту тему простейший момент то что сев принципе реалистично использовать по-нормальному только с ним руки веем нутаникс сделан так что он реализован в виде виртуальная машина то есть мы даже принц по-другому сделаем и не на уровне ядра работаем внося войко вынесено виртуальной машины солирование то есть на каждом сервере на каждом народе крутится виртуальный instance который является виртуальным контроллером от алекса и соответственно если сэв отличная файла система которую вы настроите там ручками будете управлять или например у по истокам каким-нибудь кривым косым то у нас инсталляция квартира 3 на тысячи родов это полчаса потому то полностью автоматизированный aquastar подключив кластера это не только фау система это готовая уборка под ключ с управлением облаком здесь за 100 recovery простейший пример иосифа встроенная для за старика варили метро кластеров естественно не отсутствует локализация ввода-вывода сейчас надо на эту тему софи работают но опять же цеп изначально не разрабатывался план виртуализацию cf это дженериков систем мы изначально затачивали подработку виртуальных машин виртуализацию причем мы нативно поддержим тот же семьи 3 skazi на своем прими тация skazi и поддержку - цифра ботать на своем про пятну не пропитанном открыто но на своем протоколе то есть на самом деле эта тема на многочасовые беседы если интересно около стенда можем поговорить но самое главное что цех хорош для у концов снова больших каких-то проектов но танец заточен изначально по свет под сверхвысокие нагрузки надежность поэтому первую очередь вояки медицина спецслужбы государственное значение проекты и до определён момент это не было доступно просто им компания просто минимальная коробочка стоил 200 тысяч долларов нутаникс и то есть то что мы сейчас выдаем это бесплатно + наш гипервизор управления система гипервизором это отдельно стоят он просто все получают возможность high-end уровня программа обеспечений использовать бесплатно адам людей максим спасибо за доклад у меня такой вопрос вы рассказываете про репликацию данных между дата центрами в синхронном режиме обычно просто между дата-центром и лежат линки уже чем можно положить между нодами и если у нас существует тяжелая нагрузка на запись и внезапно происходит разрыв связанности между дата центрами это очевидно вы сохраняете какой-то журнал или что-то похожее на той части метра кластер а которого вас осталась жива потом происходит 12 часов с кого-то раскапывает назад туса мамочку вас останавливается связанность за это время записалась очень много данных вы начинаете их долго-долго догонять в этом случае у вас все еще продолжается ну то что вы назвали де завтра винду я не помню точный термин то есть когда не смотря на то что у нас уже вроде бы кластер собрался на самом деле он в состоянии их таком в которые мы не сможем и риск от реплицироваться как вообще вы пытаетесь решать такие проблемы хороший вопрос чудес не бывает опять же науку и и свет не обманешь пока что соответственно как-то будет работать у вас продолжает работать деза star сайт и начинается обратная рипли catia то есть у вас пошла и начинается обратно репликацию и пока она не закончится дизайна сайта продолжает работать как активный сайт когда у вас до реплицировали данные соответственно запускать вручную запускается активный сайт естественно может быть ситуация что до напишет намного больше чем вы успевать реплицировать из плохой канал это ошибка дизайна то есть в том смысле что и когда вы строите то до центра естественно ни одна волшебный железка не является полностью волшебно чтобы решить все ваши проблемы естественно вы должны учитывать какой объем данных гонять между центрами и если у вас полная репликация данных то безусловно надо понимать что иметь достаточно вменяемые каналы надо и вот тут мы опять же хороши потому что вы можете просто налепить пачку от дешевых достаточно ленка взять ну пардон сейчас внутри москвы взять 200 гигабит на канал между центрами обычно нескольких долларов месяц максимум стоит когда на такие объемы данных гонять соответственно это уже на этом фоне цена совсем вменяем и но опять же мы данные на лету стараемся оптимизировать сжимать и достаточно много выигрываем поэтому метра класса надо куратора но мы позволяем в пределах одного решения вы часть данных можете самых важных баз данных на предмет выдержать все остальное на асинхронной репликации соответственно вы комбинируете различные методики защиты данных и сами уже поэтому и нужны остаются инженеры качестве которые всего проектировать решения ни одна еще рулежка не решит все ваши проблемы прошу прощение у меня соответственно 2 до вопрос если у вас происходит такая же ситуация ну вот вы хранить журнал большом количестве данных 1 на вас часто устраивают не может ли случиться у вас такая ситуация что у вас мастер-класс теракта в мастерноде которые осталось мастер дата-центре закончится место и вы не сможете потом провести реплика и heroes на поток данных очень младшего брата немного посмотреть у меня есть может быть я неправильно выразилась у меня есть один дата-центров котором не остался жив 2 дата-центр связан с которым разорвалась я пишу очень много данных но он меня быстро устаревает хранить долгом них не нужно журнал насколько умный то есть просто у меня может кончиться место в том в той части 1 1 1 как таковой журнала нет как вы тогда реплицировать мы соответственно понимаем опять же надо рисовать на доске скорее то есть мы по его блоки данных помечаем то есть у нас есть почему мы с на фото безлимита можем делать то же самое у нас каждый блок данных записан если мы например делаем счет мы помечаем что бог данных является а один соответственно следующий данко только штатах уже адвоката следующего делать а3 для метра репликации та же самая идея но да есть нюанс то что естественно на самом деле сейчас это некая техничка имитация мы чтобы обойти этот вопрос мы не будем передавать случае длительного разрыва связи мы не передаем дельте чтобы как раз backlog не набирать мы передадим заново синхронизирует астор полностью тогда мы избегаем этой проблемы как раз огромного быка плюс настоящим хороший вы видите что у вас заполняется место на основном сайте у нас нет понятия рейда поэтому когда он надо расширить срочно место технически это воткнуть стойку железку через две минуты она работает сразу уже в кластере и на нее можно писать данные то есть у нас нет рейда нет понять экспаншен массива то есть у вас просто железка сразу стакается сразу работает то есть бывали такие ситуации когда просто джинсы привозили там течение двух-трех часов дата-центр оборудования народ и до втыкал когда всплеска во нагрузка соответственно мы на лету позволяем единственно рынке не просто расширять вас то на лету но и уменьшать пасторали тут вы железо можете даже занять на пару дней потом когда она вам не нужна легитимный прям web-интерфейсе кликайте эти ноутбук удалить экскаватор мы релаксируем оттуда данная железки вынули отдали обратно то есть это у нас абсолютно легитимно полностью поддерживается есть тоже вот посмотреть может сейчас прямо web-интерфейса стоит еще вопросы всем все понятно тогда спасибо за внимание подходите смотрите на старт"
}
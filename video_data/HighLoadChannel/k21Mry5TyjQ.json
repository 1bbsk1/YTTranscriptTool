{
  "video_id": "k21Mry5TyjQ",
  "channel": "HighLoadChannel",
  "title": "Опыт эксплуатации Mellanox под управлением Switchdev / Дмитрий Шемонаев (Qrator Labs)",
  "views": 1043,
  "duration": 2737,
  "published": "2021-10-04T02:45:36-07:00",
  "text": "всем привет меня зовут дмитрий шмонают я руководитель в центре стих операции в компании куратор labs сегодня я расскажу вам вот про немного просите немного про linux немного про integrate сетевых коробок с винкс надеюсь вам будет это интересно для начала давайте пару слов о том чем мы занимаемся наша компания занимается услугами по защите от de dos атак и этот факт он приводит к тому что на нашу сеть в любой момент времени может прийти какая-то очень очень большая нагрузка вот и соответственно мы используем сетевое оборудование для того чтобы как первый слой не фильтрации трафика но его фарм 1 га итак какие у нас есть варианты для того что мы делаем первый вариант это общем большие маршрутизаторы давайте про них немного поговорим они бывают разные но некоторое время назад это было примерно так они были действительно большие вот та коробка которая на фотографии это вообще железный маршрутизатор cisco он занимает примерно 8-10 юнитов в стойке живет очень много электропитания шумит как моя бывшая жена и вот он прекрасен но время не стоит на месте и теперь коробке есть и поменьше например вот это всего 3 юнита занимает место меньше жужит по меньше тепла выделяют поменьше вот и так какие же у этого оборудования есть преимущество ну например как правило в таких коробках в больших есть резервирования аппаратных компонент как-то блок питания как-то роутинг engine это такая это по сути мозг коробки и как-то например вентилятора эта штука может принять полную таблицу маршрутизации интернет внутрь себя в сущность который называется fit for voting и informational bass также она поддерживает очень много роутинга вых протокол проколов маршрутизации например usb fdd п а с с вот здесь и опять таки эта штука зачастую может в него можно вставить оптический трансивер который будет бить на очень большую дистанцию потому что интерфейс интер интерфейсе таких коробок выделяют достаточно много мощности на электричество мощностью на порт но какие же у этой штуки есть минусы во-первых она очень очень дорогое без иронии очень дорогое помимо того что оно дорогое она еще достаточно сложная в связи с тем что эта штука зачастую модульная у нее есть резервирование всего этого мозгов на матрас коммутации иногда прочего то есть если эта штука сломается полностью то это еще ничего вот если на сломается частично для того чтобы это трубу шутить нужен в общем обладать достаточно большими компетенциями в том числе и по внутренней архитектуре данного железа как я уже говорил выше она потребляет достаточно много электричества место в стойке и ее софт достаточно гибок в том плане что вы можете попросить у вендора какая-то какую-то функциональность но тут все зависит во первых от вашего размера если вы маленький никому не нужна тот функциональность не будет вам предоставлена никогда и так второй вариант это коммутаторы они вот такие вот здесь коробочка в нее 16 100 гигабитных портов и она занимает пол unit at you need высоту и половину юнит в ширину но свечу тоже бывают разные и например они бывают не такими маленькими вот тоже модульные свечи в которых есть резервирование много линейных плат много потребляемой мощности много блоков питания много много много и так какие же у коммутаторов есть плюсы во первых они не такие дорогие часы такие дорогие зачастую но не всегда они потребляют меньше электроэнергии и зачастую но опять таки не всегда вот это вот зачастую а вот вот не всегда они занимают меньше места в наших телекоммуникационных стойках если мы говорим о каких-то 1 винтовых коробках там достаточно большая плотность 400 гигабит на каллисто гигабитных портов на 1 1 юнит то есть например 32 сотки в одном юните это нормально и в случае если мы говорим о white box вещах с линуксом то мы можем принести туда свое пиво то есть например если мы считаем что все текущие протоколы маршрутизации нам не подходит мы можем написать какой-то свой абстрактно протоколы маршрутизации написать для него демона интегрировать их в эту коробку не думаю что кто-то будет делать ну например facebook наверное делается но опять-таки у свечей их есть и минусы первый и очень большой минус это лимит его фарм один концерн информацию бейс я объясню чуть далее на следующем слайде как она устроена то есть вы не можете инсталлировать полную таблицу маршрутизации интернет в эту самую сущность vip полный таблицы можете затем тренд сейчас более 700 тысяч префиксов вот зачастую это фиксированная а правда конфигурация и там нету резервирования мозгов но не всегда вот вот этих коробочек они есть и так это достаточно важный слайд в наша сегодняшняя история у называется rip fib и тиком 1 сущность это рип rocking informational bass в routing formations bass загружается вся информация от работников протоколов как-то бюджет и иосифа с статика в общем все или три хозяйства она копится там и в реббе принимается процесс выбора наилучшего маршрута то есть по сути выбран экстра под до определенного префикса вот сбоку у нас все возможно или 2 вещи как-то arp таблицы и разные два протокола все это загружается в сущность под названием fib вот это некоторая софтверная абстракция лучших маршрутов и собственно или два путей до mix топов и вот все это дело спускается в такую вещь капсикам тиком это по сути троичная контекст контекстный контекст адрес адрес ционной а память она очень хитрая и она очень дорогая плюс реклама в том что он может сделать lookup за один проход этот проход очень быстрый то есть в сетевом оборудовании нам нужно у нас нету возможности как например обращение кран чтобы наши лука бы занимали какое-то произвольное количество времени lookup всегда должен занимать одинаковое и минимальное время вот именно поэтому тиком такой дорогой и чем больше наш фильм то есть например для того чтобы поместить через rip полную таблицу можете за интернет в feed и потом это запихнуть в киком нам нужны большие тиком и и большие тиком и стоят очень дорого большие тиком и на большой скорости стоит еще дороже именно поэтому вот эти вот коробки которые маршрутизаторы и которые в общем то могут включать все очень большие таблицы они и стоят дорого то есть не потому что там оптические порты дороже или еще что-то нет там просто лучшим дороже чипы и чипы снаружи за счет тиком а вот поедем дальше давайте поговорим про коммутаторы и дальше мы будем говорить про коммутаторы особых кружки завтра мне возвращаешь как мы можем разделить коммутаторы мы их можем разделить по двум категориям по аппаратному обеспечению и по программному обеспечению по аппаратному обеспечению коммутатор или делятся на глобально на те что использовать щепы которые производят сетевые вендоры как например сиско или джунипер сиско производит чип например монтичелло а джунипер чип парадайз на g5 и есть comunity чипа называемое это чипа произведенные третьими вендорами то есть эти вендоры могут производить сетевые чипы но необязательно производит коробки то есть например тоже aristo а у него нету собственную кремния весь кремль для него производят различные вендоры как-то например брат к вам intel киеве ум был food так далее вот сама известность средних это конечно браткам томагавк джерико вот эти вот все замечательные чипы и по софту это проприетарной операционная система например сиско с джузеппе джонас и aristo ios это софт который пишут инженеры работают в сетевом вендре он прекрасно совместим с их коробками не всегда но зачастую то есть баги там конечно же бывает проще и так называемый вай бог свечи на white боксах вы можете сами выбирать операционную систему из определенного списка то есть не то что на switch можно установить windows как бы до можно сделать из батона черного троллейбус но зачем вот как бы с вещами тоже но зачем и так небольшой в топик на этой картинке с картинка взята из twitter товарищ которого зовут john gustafsson джона gustafsson до недавнего времени был главным стивом архитектором вот такой штуки как а с 1299 это отеля это большой крупный тир ван оператор присутствие отеля есть по всему миру лучшим очень крупная сеть и вот голубенькая то что мы видим это как раз братка мужские чипы то есть так те самые комодики чипы и как мы видим из роста до в общем комодики живет и команде побеждает то есть чип чип и которые делают вендоры установить меньше меньше меньше вот в такое время живем простите за небольшой оффтоп коллегию и так white box свечи дальше мы уже будем говорить ваш бог свечи производит разные компании например и к школам актон но мы здесь будем говорить про мел вам dogs 2 нокс это израильская компания довольно давно она производит всякие инциденты всякий ethernet совсем недавно компания нокс купила компания nvidia и так вот как раз коммутаторы mellanox на чипе спектром это собственный чип разработанными ноксом могут использоваться как твой бу как white box и и для них есть разные выбор операционных систем есть операционной системы которые работают на мелок царском из детей и это velox vs он же оникс простите и это cumulus cumulus это сетевая операционная система на базе linux которую недавно тоже купила компания nvidia теперь видео есть и mellanox и гумус в общем что-то не с этим буду делать помимо милана псковского языке есть такая штука как с вич abstraction интерфейса и на базе работает microsoft операционная система sonic и есть собственно linux и его подсистема свиштов о ней и поговорим итак что такое switch dvd это некоторое внутренняя инфраструктура которая занимается тем что она переводит абстракции сетевого стека linux непосредственно в да и the plain коммутатора то есть в его железа это называется а флот она входит bridging роутинг фильтр young начали этот проект 2014 году то есть там уже скоро семь лет именно ног сначала поддерживали 2015 вот собственно как я уже говорил там реагирую структура и для того чтобы это всё сделать не нужно как-то хитро компиляции ядра свечей в том или ином виде есть уже даже в ванильном линуксе выше тут есть два варианта либо ветка нет next куда разработчики комитет самые свежие изменения то есть если вы хотите экспериментов и не знают как ты называется breathing edge вот но я думаю что если вы будете использовать экс напротив вас может кровоточить не только edge но и лицом вот но если вы как бы любитель относительно тестированных решений вот пожалуйста ванилина ядра linux то есть можете собрать можете поставить на spectrum любой любимого не linux помолчали например федору можете арш можете ubuntu можете гендл все что угодно и так linux новый тулкит который обходится в сегодня это в первую очередь аперол 2 командами api bridge lifting & traffic control это хату для того чтобы смотреть за состоянием трансиверов ethernet интерфейсов lldp едим это собственно линкор discovery protocol протокол для того чтобы соседних друг другом устройство могли друг друга виде в том плане что он в этом порту у меня подключен коммутатор в том здании а в этом в том вот об этом порту у меня подключена пример серверу вот это собственно open source на открытый протокол аналог например сиди pixies к discovery protocol который в общем то давным давно служит именно для этих же целей и также через лдп идею можно передавать параметры пью вас через стандарт это центр bridging decibel вот ну сиски теле для всяких маленьких штучек и так что мы используем вот тут давайте поиграем небольшой twice кто из видно кто из залов знает что того что что обозначает большая часть всей этой штуки о отлично ну тогда я очень вкратце пробегусь потому что это будет в общем то вам понятно для кого то может быть да и вот тут написано у пример потому что полисе быстро у thing он может делаться через линуксовые средства но он не обходится в железо соответственно центральный процесс от конкретного спектром он не очень мощный соответственно 100 гигабит он не проживет он сдохнут примерно на 50 наверное и так но сперва я хочу поговорить о различных путях конфигурации то есть если кто то я думаю что кто то из вас обязательно конфигурировал сетевой железа вот и все представляют что такое сиско села или джонас силой вот это конфиг этих сетевых железок это не некоторые монолит который разбит на блоки то есть там может быть блок process control list и про системные сервисы кактуса штаны из и прочая конфиге протоколов маршрутизации конфиге интерфейсов и так далее но все это один большой условно текстовый файл в который мы переходим с помощью силы и что-то там меняем а дальнейшем заботится уже более низкого уровня в абстракции мы орудием только вот с каким то таким достаточно высоко уровнями вещами вот и производители дают нам то что мы можем на верность нектар натяжка называть синтаксическим сахаром то есть всевозможные автодополнение группировки интерфейсов как например то есть джонс мы можем сделать интерфейс группу и потом его применять не только например для агрегации но и там повесит на интерфейс группа одинаковый access control list и сделку description так далее в общем вот в redux у нас всего немножко не так мы здесь говорим про голые винкс то есть мы говорим про cumulus стоит он там тоже есть некоторый монолитный конфиг вот то есть товарищи они сделали максимально похожим вот на первый путь вот в линуксе мы имеем большое количество разных конфигурационных файлов которые могут лежать в разных местах и мы имеем некоторое количество runtime а и мы должны помнить где это лежит как-то менять и самое важно мы должны помнить в каком порядке это менять чтобы наш edge не был breeding вот ну и вместо токсического сахар а у нас моя любимая картинка всегда смеюсь вот афк глеб сет когда конечно нет ну в общем ничего не изменилось и так перейдем технологии и semper я здесь очень быстренько и симбе это и ghost мультипасс то есть если у нас есть в таблице маршрутизации одинаковые маршрут с одинаковым весом до 1 префикса но с разными типами тоже лески нужно понимать куда в какой интерфейс слать трафик и для этого применяются хэширование каширование может быть по различным полям в пакете например src и dst и сердце ее сердце пор дстп dst порт сердце петли stepper сердце пор dst порт протокол и еще можно сюда запихать чем больше будет у нас полей для каширования тем в общем больше вариаций хорошо у нас соответственно будет для 1 1 на одно и то же условно пара дтп в сердце и в общем исходя из этого хэш уже выбирается тот или иной index top это позволяет балансировать трафик по нескольким лингам дальше это собственно агрегация портов и говорят суппортов использовать мы хотим подключить сетевое устройство не одним интерфейсом и двумя то есть например нам десятки балла а страховки много у нас например сетевая карта с двумя гигабитными интерфейсами соответственно вот эти два интерфейса перегоняем в коммутатор и объединяем это говорят с канала в тиски в джунипер это делается примерно так объявляется ну не скажи правду не прибавляется группа агрегации говорит что ты зарниц свечин и дальше уже вот мы добавляем два интерфейса показываем что вот это 10 в тиски ну примерно соответствующие валимся сделать тоже достаточно просто определяется бунт и к этому и как мастер этот бунт выбирается для интерфейс двух штук вот что такое желал я наверное пропущу потому здесь все знают все же знаю что павел он все большое спасибо прям больше время будут на вопросы вот что такое вероятно рифар по сути некоторые виртуальные маршрутизаторы то есть мы берем наш большой маршрутизатор или большой коммутатора уж небольшую слушались и нарезаем ее на маленькие например мы хотим чтобы вот у нас вот для этой таблицы маршрутизации у нас был один дефолт к этой другой для этой третьей и соответственно как бы эти интерфейсы поделить дефолту да эти сюда и тогда ли вот для этого как раз используют нарезка этого дела в виртуальной мужские зато есть два способа это сделать в линуксе это сетевой namespace он и dns и verify в белоног si лучше использовать и рифы просто потому что они охотятся чуб вот создается специальное правило потом создается героев указываются имя его что этот тип героев и номер таблицы потом линкуем интерфейс к грифу и дело на примерку нить если нужно сделать road is very funny другое место вот делается так как вот например здесь мы в таблице 100 делаем собственно маршрут до профиль 113 0 через билан 20 который у нас в таблице 200 это делать так и так конфигурация если говорить про конфигурацию то вот в классических сетевых операционных системах это происходит как мы идем в нужен нам блок что-то меняем все дальше нас ничего не забудь потому что это все сделают уже железо в linux же мы должны в общем идти по пути то есть перво порт потом бонд потом bridge потом вела нами глубок потом вверх потом только и.п. если мы хотим что-то поменять нам нужно в правильном порядке это разобрать поменять и потом в правильном порядке то собрать если мы нарушаем порядок breathing ешь не очень хорошо особенно вроде вот вот тут собственно писание коты restriction и из-за которых мы можем получить разбито лицо от благодарных коллег и еще в старой сетевых инженера помнишь что в циски есть такая замечательная команда которая называется в райд или копия running конфиг стартап config после применения этой команды все ваши runtime мужские изменения записываются и при перезагрузке очень switch стартует с нужной конфигурации вот с точки зрения linux это не так то есть у него у нее нет такой команды которая скажет все вот вот этот runtime мы полностью копируем нет такого нет то есть либо вы сами руками трогать эти интерфейсы либо как-то интерфейс конфиге простите либо как-то изгаляется вот можно например сделать большой скрипт для инициализации и если его как бы постоянно править это нормально то есть это в принципе работает есть только одна проблема этот скрипт инициализация он инициализируется при рестарте системы area стартовать система покажем изменений мы не можем то соответственно нужно это дело как синхронизировать и очень удобно или мягко говоря очень неудобно и вот все это в купе и в совокупности изменение runtime превращаются в боль вот собственно вот это вот наша красивая сеть тут вот можно посмотреть тут виднеются прям какие-то только форекс вещей так далее так далее в общем виднеется вся наша фабрика и одно неверное движение и в общем вся наша фабрика может развалиться вот что мы сделали того чтобы жить стало менее больно потому что без боли ты совсем нельзя но меня нет минимизировать ее стоит мой коллега написал два первых скрипта сразу отвечу на вопрос почему 1 ну потому что вот потому коллеги удобно писать на 1 когда нет может быть на что не другой перепишем но вот в моменте человек мог написать на перлит хотя конечно в моменте и 3 700 строк это немного невежество но тем не менее вот первая утилита это mlx ртр это собственно штука которая configure маршрутизацию и configure интерфейса вот здесь показан собственно пример конфигурационного файла для nudes ртр а то есть мы берем некий part 1 разбиваем его на 4 суппорта для того чтобы например из 100 гигабит на в интерфейс и получить 4 интерфейс по 25 гигабит потом мы делаем 2 банда из этих четырех интерфейсов потом делаем делон и добавляем их и графы прописаны пи адреса и так далее так далее так далее заканчиваем роутинга вот в общем-то вполне себе такой конфиг который может быть даже похож будет наконец сыску условно может быть а может быть и не быть кому как вот вот собственно что делает скрипт mlx ртр вот в такие вещи внутри linux он преобразует вот этот конфиг раз всякие повторяющийся вещи паски пан вот это вот вот из этого превращается раз два три и там и тут маски по на то есть в общем стала жить несколько удобнее вот этот дальше config.xml тех руд вот а вот например как выглядит изменения если мы переносим например порта за того банда в другой эта в общем иллюстрация вот к этому слайду что для того чтобы сделать простое действие которое в условном джуни перри лицейский девяностом забыл где команда нам нужно сделать вот это и именно в этой последовательности потому же другие последуют не заработают вот так же есть еще такая штука как access control list и для того чтобы их реализовывать в линуксе можно использовать для подсистема это traffic control писем и обитает в случае с соседи вам это traffic control потому что опять и босс он не обходится в железо и с помощью api требуется вы можете прикрыть только там условно мозги коробки то есть его control plain а если мы говорим про forwarding клиента это делается с помощью тисе причем тисе она не он не смотрят то есть на то почему применены этот конфликтует он применяется к интерфейсам и неважно там он может these руется коммутируются в общем он сможет в пакеты и дальше работает вот то есть тут не мог поделиться тем как у нас это сделано у нас есть некоторые один большой и 7 которая вешается на все на интерфейс коробки и внутри вот этих вот и селей с помощью опции gold у которой есть все это позволяет нам сделать условную нечеткую логику и делать такие размашисты access-list некоторые например нельзя сделать циски то есть например вот здесь на конфиге мы видим что если у нас происходит матч по дстп из префикса 200 30 в 113 044 вот там и делаем action переходим в блог и x1 и дальше собственно пропускаемой семьи пропускаем теперь остальное дропаем и дальше идем вот как собственно выглядят ты силен именно в трафик контроля в том как то так вот вот например что нужно чтобы поменять если мы удаляем здесь например как четвертую строку вот изменение выглядит вот так то есть тоже можно сделать руками но для того чтобы это делать руками нужен вот сидеть изучать вот примерно подобные вещи и когда вы сидите это изучаете чтобы понять какое правило нужно удалить чтоб все было сделано красиво и кошерно проходящие коллеги будут смотреть на вас примерно вот таким взглядом вот тоже люблю эту картинку вот и собственно мы эти два скрипта mlx ртр и mlx и 7 выложили на наш от лап под лицензией mit он требует только пирло все остальное в общем-то уже есть вот это примерно 3 с палачом больше трех с половиной тысяч строк на берлин используйте на свой страх и риск то есть как бы мы не даем никаких гарантий вот просто никаких но у нас это работает то есть это не то что там у нас какая то лучше элекснет нас такая же версия вот просто мы умеем их готовить но иногда можно подарить вот вот здесь как бы есть кто-то хочет то можете сосканировать qr-код чтобы сразу перейти по этой ссылке не переключая канал некоторые ещё фишки о которой хочется сказать иногда например если у нас linux падает в какую-то панику можно послать control отеле zon перезагрузиться проблема в том что мы не можем послать control альдегид коммутатору у нас с ним есть только серийный интерфейс rs-232 вот для такого можно ему сказать escape большой стек маленькая escape большой р это будет в общем то равносильно контуров альт делить то есть он пошлет нужный сигнал в коммутаторы коммутаторы сделают свое дело вот для того чтобы использовать сесар пью обычно мы передаем принципе ну и здесь мы тоже не можем это сделать поэтому нужно послать команду break в мини коме это делается contra la contra лев собственно в скрине contra la contra лба ну и войти в bios коммутаторы при загрузке kontrol б тоже серийную консоль вот немного давайте подведем итоги нужно помнить что держать в голове если вот вы хотите использовать этого все что во первых вещей и только свечи и на думал что вот их достаточно для всего нет их недостаточно для всего у них есть свой собственный спектра применения но если вы понимаете как то применяется что вы можете немного эту систему так сказать под обмануть но лучше трижды думать потому что иногда это может потом под обмануть у вас у свечей очень слабый цирковых я уже говорил поэтому все что можно flooded лучше охладить вот если мы говорим о том что мы используем коммутаторы и не 2 open source например switch dvd нужно постоянно смотреть во первых что умеет коммутатор что умеете джефф чтобы она вот все умел совместно желательно афла делу потому что тут это конструктор который мы собираем сами это не венгерский switch которым есть виндзорская персон с тем и винда говоришь вот это вот там будет работать здесь нет никаких гарантий то есть и linux он может не поддерживать например сила крикет другие фичи которые вы хотите использовать то есть об этом тоже лучше по так заранее еще раз помните о фиби если вы загрузите fi больше чем у сможет прожевать и соответственно спадет отёкам ничем хорошим это не кончится коммутации придется перезагружать переполнение тиком это очень-очень хреновой ситуации сохраняйте свой runtime куда нибудь вот например с помощью этих скриптов или применяйте вот просто делать конфиге на основе наших скриптов и применять их через скрипт и тогда у вас будет хотя бы какой-то стартап конфиг потому что если вы будете менять runtime runtime am вы можете брать забыть и при перезагрузке можем могут возникнуть какие-то не очень приятные открытия если у вас нет опыта с линуксом не повторяйте это дома вот ну и собственно если у вас мало опыта сетями тоже думал лучше не повторять собственно вот я закончил большое вам спасибо за тоже слушаю здесь должна была быть фотография руководитель одного из наших регионов но я побоялся вопрос здравствуйте спасибо большое за доклад было приятно даже было очень приятно видеть что умные слова иногда знакомы вопрос такой первый когда все таки dmitry вы рекомендуете смотреть на условно говоря почти софтверные свечи то есть вот на такие свечи только ли это экономические соображения или все-таки есть какое-то спектр вот когда точно надо брать и велосипеде такие интересные вещи 1 и второй вопрос сразу возникает как отлаживать как контролировать что мы током например не залили при оплате конфигурации и как при этом работать когда вас еще не один а когда их некое такое ненулевое количество если какие-то средства регистрации которые вы рекомендуете спасибо большое за вопрос а давайте отвечу по порядку смотрите чем хорошо хороший linux на свечах да если он удовлетворяет вот-вот тем требуем который вот вы говорите нам идти нужно тот linux на свечах хорош тем что если например будут какая-то бага не секрет что вендоры сетевые они зачастую там используют тот же апанасевич для доступа can play ну и так далее вот есть например будет baghavad у нас если да то в случае с linux вы можете сами довольно быстро похитить вплоть до того что там собрать и спать чем у светлова с гитхаба вот а вот вендоры как бы здесь вы полностью доверяете вендору но тут у вас есть больше гибкость более того как я сказал если вы достаточно умны и у вас есть какой-то какое-то видение как должна работать ваша сеть вот здесь вы можете писать софт и некоторые вещи даже обходит вовнутрь чипа то есть я действительно очень удобно то есть если вы хотите написать свой протокол мушки зации вдруг вот то здесь вы это сможете сделать то есть решение о выборе наилучшего маршрута принимать какое-то ваша логика они талон которые есть в протоколах а не то что в общем я сейчас здесь есть больше гибкость ну и конечно вариант с ценой он тоже общем-то довольно существенный по поводу того как отложила во-первых всегда держать в уме вот как бы от переполнения стека ману можно подумать как эту защититься там сделать какие нить опять-таки от переполнения тихому лучше защищаться не на уровне вот каком-то низком уровне linux да а на уровне вашего демон амортизации то есть чтобы например вот fool you не протекал нужно устанавливать префикс фильтра так и по поводу система регистрации можно всю эту штуку а бешеному словно темнить анселом сделать и шаблонов on seba генерировать конфиги для вот этих вот скриптов и уже их применять то есть так можно сделать это обычные текстовые файлы если у вас сеть условно состоит из похожих кубиков то почему бы нет то есть если скажем страсть уникально понятно что наверное не стоит этим заморачиваться а если сеть достаточно такая повторяем это стримы конфи сгенерировать не слишком тяжело большое спасибо за вопрос спасибо что у вас произошло чтобы свинских свечей были вынуждены посмотрев все риски которые принесли очень просто взять под рисков огромное количество рисков огромное количество хороших специалистов а вот на рынке их на самом деле 00 таких специалистов которые смогут это все поднять это мизер таких специалистов будет если что то с этим средством произойдет уйдет заболеет или еще что-то вы свою сеть ну реально просто терять то есть что произошло с windows кими свечами какой акинфеева заставила перейти это первый вопрос второй вопрос не увидел протокол обивки а какая вас сходимости кита что говорит беги беги легче ну протокол который до sap секунд происходит маршрутизацию вас сейчас этого здесь я не увидел может вы это используете смотрите третий вопрос вот самый простой это аналог рилот и команды cisco а что у вас рилот им да это возможность перезагрузка коммутаторы если ты допустил ошибку со стартапом грузится я все желает то здесь любое движение расстрел давайте я отвечу по порядку да да то есть что произошло во первых то чем мы занимаемся предполагает расширение нашей сети регулярное и некоторое время назад десятки уже совсем перестали быть интересном стали быть интересными сотки и сотками вот какая проблема точнее не проблема ну просто данность есть дорогие чипы от вендоров есть чип от вендоров подешевле например тот же браткам и вот в том ценовом диапазоне в котором нам бы хотелось да мы посмотрели на разные свечи и например брат ком он drupal пакета кумране cumulus спектром он в этом плане нормальной то есть это то что нужно нам по пакетный производительность от нашего балансировщик потому то там используют как born роутер и как балансировщик то есть с этой точки зрения нам очень хорошо подходил спектром как чип но операционная система которые есть на спектрами нам не подходила потому что была не такая гибкая и весь этот функционал который был у нас на предыдущий вентресс было aristo которая тоже была в общем-то кочана потому что мы туда ставили bird который мы переписывали для того чтобы он все за дело выгонял в все наши нужные маршруты погонял непосредственно в тиком то есть там тоже лучшим был инженеринг и здесь лучше будет принято решение посмотреть на linux смотрели в общем и целом нас тут устроил у того что инженеров мало инженеров мало но они есть у нас они есть и третий вопрос поводу by a thread вопрос победе да вы все верно сказали вот но и где эта штука которая в общем то работает на мозге коробки то есть они обязательно входит и везде мы используем да тот же bird поддерживает dvd настраиваются он не работает да на этих коммутаторах да да да да да да это все обрабатывается мозгом коробки этой службе в deaf одеть не надо лифте просто принимает решения вход происходит уже в другом месте то есть нет by где он работает то есть как бы за сам самим процессом можете зации в том числе люди отвечают как раз центральная коробочка у этой процессор этой этого свеча ресниц этим все нормально и четвертый вопрос был живот in через покурил ос ну давайте через минуту slip 60 and and shut down minus are стартап скрипт который запускает mlx ртр и m l xl но у да но как бы знаете написать там вот двухстрочный скрипт или однострочный для того чтобы загрузить во время ну да это нормально это можно сделать то есть вот это вот как раз не тот рокет сайенс который вот например для того чтобы поднять эту сваренную на linux большое спасибо за вопросы если я на них ответил добрый день предок 7 до алексей по картинкам но во первых странно когда у вас есть инженеры чтобы поддерживать sdf но они почему-то любите рок вторым момент пробовали ли вы сравнить не провалю допустим салон допустите или там или пиявка крутить дасья если вот вы говорили что освежив это internal что когда-то возможно тоже детей был бы быстрее или нет смотрите вот запускать определенных вещах мы пока не пробовали то есть нас был некоторый опыт и есть некоторый опыт с диким на например обычных серверах да но в обычный сервер вы не вставите очень много солнечных портов что нам нужно вот zippy диким на свечах нет ни блок то я кстати не думал что он сильно обходится мне кажется скорее нет чем да вот потому что там сутки это 10 лет по моему не совсем ванильный linux но ваш ум нет на депозите не смотрели честно скажу dpf на свечах пока тоже нет но почему бы нет вот бпф эту работу будет без проблем то есть да это может там по 5 карт протокол с помощью того же bit of a duck у кого-то еще был вопрос на собственно почему не сонник и не cumulus которые ну вроде как уже готовы именно там ты исполнить ищи пирло писать и продолжение этого вопроса собирали вы и кастомные уже это самый linux которую через он не к идти на своей свечи или костыли commit a man теплым и прочим из чего то что дал меланоз смотрите то есть давайте начну с конца последнего прост просто не очень хорошо слышно вы говорили про вони да да вы используете образ он не который вам отдал mellanox или собираете собственный если да то почему мы мы собираем собственной у нас не стандартные федора который предлагает нокс у нас в свой linux какой не скажу потому что иначе будет понять почему у нас первых вот а первый вопрос он был прав по поводу соника и cumulus а во первых cumulus он хочет денег это раз и он не настолько гибки в плане силам то есть там все равно пришлось бы колхозе то что мы колхозим а sonic он уже его анонсировали по моему после того как у начну уже работ вот над этим примет ации добрый день спасибо за доклад меня зовут андрей у меня два маленьких вопросах первую допустим это во-первых switch плоды это по сути не свечи вы и темы у интела есть большие рад и на карты на их свечи и что как обстоят дела с мило ноксом и 2 line рейд или не line рейд и насколько сильно падает производительность когда появляется дропаю когда допустим большие силы или routing я просто уверен что все расслышал давайте вот в режиме диалога давайте первый вопрос и потом второй тоже 2 я как бы и и первую тяжело расслышал эры я рад и это то есть баги и все такое документация по бокам как умела нокса с этим у интела есть специальные документа хорош я понимаю умело нокс тоже есть документация ну а много там или не посмотрите там часть документации выложено в публичный доступ на гитхабе по моему если вы наберете mellanox виджетов да там буквально будет 1 метр коробку не про свечи строка они там больше написано то есть какие версии linux какие коробки что поддерживают очень рад map очень влоги вот это все и плюс ко всему если в общем вы клиент mellanox и заинтересованы в каком таком reset что ребята из молок сядут на встречу и во-первых могут предоставить какие-то документы которые не лежат в публичном доступе если у вас с ними подписан идеи ну и быстро line red line силовой вот глагол не понять онлайн рейд ну то есть особо нравится с android лет и все такое и он у нас один он находится именно в железо а железо поддерживать наладить a line rider то есть сам чепак спектром устроен хороший спасибо за ваш вопрос дмитрий спасибо вам большое спасибо что слушали местная тема она очень техническая но я надеюсь что на всем очень понравилась коряги огромное спасибо что уделили время и послушали на подарки подарки"
}
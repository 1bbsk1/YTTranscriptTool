{
  "video_id": "q1qxCaSZpEk",
  "channel": "HighLoadChannel",
  "title": "Построение архитектуры с использованием формальных моделей безопасности/Алексей Федулаев (Bimeister)",
  "views": 89,
  "duration": 2487,
  "published": "2023-10-06T07:19:00-07:00",
  "text": "так Всем привет Меня зовут Алексей взялаев Я уже более 11 лет работаю сфере информационной безопасности и сейчас нахожусь На позиции где все копс в компании бимейстер и сегодня мы с вами поговорим о неких ужасных вещах Да а именно об архитектуре о чем мы сегодня поговорим мы обсудим как максимально сдвинуться в Shift Left А почему важно поддерживать архитектуру актуальном состоянии А как это можно сделать и Как выявить нарушение безопасности в архитектуре и начнем мы с вами с принципа sheet Left в последнее время он стал особенно популярным Почему мы с вами знаем что разработка программного обеспечения это и традиционный процесс в который включает в себя этапы и затем операция снова повторяется соответственно на каждом позднем этапе исправить ошибки нам будет стоить дороже Да вот как в некоторых у нас компаниях принято Мы сначала выкатываемся ловим какую-то БАГУ откатываемся всю ночь фиксем пытаемся и заново опять выкатываем соответственно если бы мы на этапе Раньше бы отловили эту БАГУ Да например на этапе теста это было бы нам дешевле по ресурсам и по времени Вот соответственно различные инструмент они помогают отлавливать баги на этапе кода на этапе билда это различные сканеры всё такое а и соответственно максимальный сдвиг 6 лет это этап идеи этап плана и там архитектуры соответственно когда мы на этапе идей найдем какую-то заранее ошибку там в бизнес логике или ещё в чём-то её можно будет гораздо проще исправить потому что мы ещё не написали ни одной строчки кода нам не нужно будет ничего переписывать переделывать и так далее и как это тоже принято в некоторых российских компаниях Да где у вас документация тимлид ей есть документация собственно я сам сталкивался с таким же случаем я пришел работать в компанию мы разрабатывали микросервисную архитектуру и не было вообще никакой документации то есть как-то нужно было разобраться когда я спросил тех Лида А как быть как узнавать об этом он говорит Все просто подойди ко мне и спроси Вот соответственно отсюда же возникают другие вопросы Что если кто-то понял неправильно Да что ему этих лет объяснял и дальше передал своим работникам либо тебе как-то это неправильно поняли тут у нас большой роль играет собственно испорченный телефон И когда я ему задал вопрос хорошо а как допустим тебя программисты написали какой-то код который по второму проводу внб отправляет данные Как мне понять что это фича не Баг и так и должно быть на что он сказал не знаю И мы с вами сегодня попробуем разобраться в этом вопросе вообще Поднимите руки у кого есть полное понимание своей архитектуре продукты себе прекрасно Представляете как это все работает хорошо есть людям собственно архитектура продукта Да это компонента из которых состоит продукт И связь между ними в чем нам помогает архитектура понятно что мы можем ее проанализировать и выявить какие-то ошибки на этапе идеи это однозначное интерпретация идеи да то есть как раз у нас здесь исчезает вот этот испорченный телефон люди смотрят на стратегию что мы делаем программисты ее пишут это же эталонная модель для верификации То есть как понять что что-то мы сделали Правильно мы смотрим Что мы реализовали и сравниваем с тем что должны были реализовать и сразу можем сказать что мы сделали и не то и это опять же легкий для новых людей в команде когда приходит человек ему не надо бегать всех дёргать за рукав А покажи объясни притом что интересный факт это работает на командах маленького масштаба то есть с момента когда команда начнет очень сильно расти такой подход ну как вот тех лиц что подойди ко мне и спросил он будет практически не реализуем либо ему только целый день нужно будет сидеть и пробовать отвечать на вопросы и говоря об архитектуре хотелось бы конечно привести вам классический пример архитектуры Вот его мы видим на слайде это тоже очень Любимый у нас компаниях собственно это сегодня будет наше приложение которое позволяет пользователям подключать камеры и смотреть записи и стримы с них вот собственно изначально у нас понятно что толком никакой архитектуры нет у нас абсолютно плоская сеть между компонентами и чем опасно чем опасно такое построение архитектуры у нас в случае подлома Одного из наших микросервисов есть возможность спокойно горизонтального продвижения вообще К любым сервисам которые здесь представлены То есть у нас единичный рубеж который скорее всего будет очень легко пройти и возникает простой вопрос хорошо А что мы можем сделать с архитектурой чтобы привести её в лучший вид и тут нам на помощь придут нотации и сейчас мы поговорим о аннотации дата Flow diagram собственно она изображена перед вами на примере здесь она используется вообще изначально была придумана для построения программного обеспечения опираясь на потоки данных и циркуляции ими между компонентами собственно Дат флот диаграммы дальше будем называть dfd у нас выделяется следующее обозначение То есть у нас есть процесс который выполняет какой-либо преобразование информации либо он может получать информацию Да и сохранились данных следом как раз идут хранилище данных внешние сущности для нашей системы и непосредственно сам дата Flow поток данных Как нам понять что мы корректно строим нашу архитектуру и не допускаем ошибок у нас будет три простых правила этого построения у нас внешние сущность они располагаются по краям у нас хранилище не могут передавать данные между собой без процесса Ну это и логично У нас есть некая база данных Да чтобы из нее мы могли вытащить какие-то данные переложить в другую базу данных Нам нужен некий процесс который обрабатывает и соответственно каждый процесс и хранилище данных они должны иметь входные и выходные данные то есть мы не можем закончить нашу диаграмму на процессе либо на базе данных где-то в любом случае должно дальше использоваться и конечные сущностью и начали в том числе это будет Как раз внешняя сущность это какой-либо пользователь например или система Почему было выбрано dfd во-первых это простота вам не нужно какие-то запоминать там сложные формулы правила отрисовки они достаточно просты и банальные это удобство масштабирования сбегая вперед я вам скажу мы чуть дальше увидим этот пример и как можно легко и удобно масштабировать и то что основной упор у нас сделан на потоке данных а так как раз сегодня будем разговаривать о том как найти проблемы безопасности в архитектуре что мы с вами вообще защищаем нашим приложении мы как раз таки защищаем данные Поэтому был бы логично отталкиваться конкретно от потоков данных но а как это все применить к нашей например микросервисной архитектуре к сервисам это мы будем применять следующим образом у нас в качестве процесса будет выступать сервис у нас в качестве хранилища данных любые сущности для хранения базы данных файлы и так далее и в качестве внешних сущностей это будут пользователи и системы потоки данных остаются также И знай это все мы сейчас взяли Вот как раз нотацию dfd и применили к нашей той самой начальной классической архитектуре и получили примерно следующее хотелось бы оговориться сразу для удобства восприятия схемы немного упрощена сейчас на ней отсутствуют подписанные потоки данных и сущности для хранения они потом будут на более крупные декомпозиции собственно вот мы получили нашу тестовую архитектуру уже в принципе да можно по ней попробовать пройти тракт информацию уже какие-то связи между сервисами становится понятными она стала гораздо лучше для восприятия и Следующий вопрос который мы должны себе задать хорошо а как оценить нашу архитектуру Как мы можем сказать Безопасно ли она или нет И какие в ней могут быть проблемы и здесь на помощь как раз таки придут формальные модели безопасности и первая из них это модель Бибо вы еще можете знать как модель мандатного контроля целостности собственно во многих современных операционных системах она используется здесь я максимально упростил решил не читать всякие эти заумные определения мы просто с вами как бы договоримся о том что у нас выделяются разные уровни целостности в нашей архитектуре мы вводим два очень простых правила что нельзя читать вверх но можно писать вниз Давайте немножко с этим разберемся То есть у нас есть какие-то внешние данные относительно нашей системы которые являются не целостными мы не знаем что в этих данных Там могут быть как хорошие валидные данные так и злоумышленники могут пытаться проводить какие-то атаки делать инъекции в эти данные соответственно мы не можем эти данные просто так взять и затянуть наш контур либо с Нижнего контура взять наверх собственно оттуда и появляется правило но при этом те данные которые мы водоём мы знаем что они целостные и с ними никаких в нем нету но интересный момент с этими моделями то что это как бы получается некое изолированная такая идеальная система да то есть к нам в систему не поступают никакие данные поэтому ее нельзя нарушить она как бы целостная сейчас видим здесь для изолированных системы для простоты желтую зеленую возьмем и как только мы начнем читать в жёлтую со средним уровнем целостности система данные зеленый у нее уровень целостности понизится она как бы станет единой и получается такая некая система вакууме но работать так мы естественно не можем Да у нас есть наше приложение которое должно общаться с внешним миром которое должно получать от пользователей какие-то данные и поэтому мы с вами ведем такое понятие как нарушение формальной модели и вот в этом нарушении формальным моделям Как раз будем искать точку где может пойти что-то нехорошее собственно зачем нам нарушение чтобы мы могли повысить Доверие К данным чтобы могли из более низкого уровня втянуть информацию на более высокий Как мы можем повысить Доверие К данным здесь мы будем использовать типизацию синтезацию валидацию типизация это приведение данных конкретному типу в нашем случае где мы например на нашем примере работаем с камерами Пускай это будет ip-адрес камера Вы можете же ip-адрес камера привести к определенному типу У нас есть четыре актета у нас Аспект символов там используется точка Это легко понятный просто соответственно там где мы не можем использовать типизацию мы должны использовать синтезацию самый простой пример наверное знакомый многим из вас это HTML кодировка чтобы не могли подсунуть какие-то там спецсимволы входящий код скрипты инъекции и всё такое и там где мы уже не можем сделать санитазацию мы должны проводить валидацию То есть это допустимые значения да возможно там опять же в том же самом ip-адресе будет 255 максимальные значения мы должны уже проверять на эти границы сюда же там будет также относиться проверка там выход за границы массива или там длина Там сообщения или какого-либо поля хорошо разобрались собственно Таким образом мы можем повысить Доверие К данным и сделать их более целостным чтобы втянуть в наш контур но на одной целостности всё не заканчивается также у нас есть важный важное свойство это конфиденциальность Здесь нам на помощь приходит другая модель это модель была падала или модель мадатного контроля доступа здесь у нас также водится различные уровни конфиденциальности на слайде изображены высокие средние низкий и такие же Простые правила полностью противоположные предыдущие модели соответственно мы можем читать вверх Не писать вниз и самым простым примером наверное использование модели будет Как раз наверное некоторые сталкивались уровни То есть у нас там не секретный уровень секретный уровень софь секретный уровень Да и соответственно понятно что на не секретном уровне мы не можем читать не как секретные данные на секретном уровне мы можем читать не секретные данные но не можем читать сов секретные данные Ну естественно выводить это вне секретные данные не можем хорошо с этим разобрались это также получается как бы эталонный идеальная модель разграниченным уровнями и здесь мы с вами также ведем понятия нарушение формальной модели это будет понижение уровня доступа к данным здесь по предыдущему принципу также будет использоваться типизация синтезацией валидация но также Здесь вы должны будете комбинировать с другими различными механизмами здесь возможно и комбинации с авторизацией с какими-то ещё мы сейчас на примере как раз разберемся что нам необходимо использовать главной целью этих понижения уровня доступа к данным чтобы передавая данные на более низкий уровень они не содержали информации которая не должна предназначаться тому уровню Хорошо давайте мы Для дальнейшего взаимодействия с вами договоримся обозначениях то есть чёрным цветом у нас на схеме будет отображаться данный минимального уровня целостности конфиденциальности дальше мы это будем просто называть уровень зеленым цветом понятно что низкий желтым средний красный высокий фиолетовым цветом на архитектуре мы будем отмечать нарушение целостности и голубым цветом нарушение конфиденциальности хорошо Но прежде чем начать что-то делать с нашей архитектурой давайте мы еще проведем некий анализ активов и для себя выясним а что мы хотим непосредственно защищать и здесь для примера был введено три уровня и будет это выглядеть так что самый большой угрозы для нашего приложения мы считаем Это потерю персональных данных это потерю данных платежных карт карденшал пользователей мы этого вот вообще никак не хотим допустить на средний уровень было выделено информация с камер наблюдения Мы также не хотим допустить утечки с камеры наблюдения Ну с информацией пользователей это будет неприятно для них Но мы не хотим мы возможно можем это охранять как-то более слабо чем данный карт Либо это будет вносить меньше импакта и соответственно сообщение с уведомлениями в которых там не содержится каких-либо данных пользователей кроме имени и их имейла мы выделили в низкий уровень Ну соответственно внешне данный это минимальный уровень и теперь Давайте попробуем расставить эти активы на нашей тестовой архитектуре собственно здесь мы видим часть нашей архитектуры здесь подписан уже как раз потоки данных и Давайте попробуем это сделать мы с вами помним вот у нас идут видео данные по схеме мы с вами как раз договорились что информация с видео данных будет считаться средним жёлтым уровнем соответственно сервис ресивер мы красим от него видео данные идут к сервису storage Manager мы его краси желтый камера менеджер красим желтый Стример Стрим менеджер и непосредственно Стример хорошо сделали собственно здесь у нас получили сервисы в которых циркулирует информация с видеокамеры Давайте еще мы как раз подсветим цветами трактор передачи данных между ними вот и перейдем к второй части архитектуре архитектура здесь немного интереснее здесь у нас уже будут как раз присутствуют разные контора опять же как мы с вами обуславились кардинал платежные данные они относятся к высокому уровню соответственно модули там аккаунт User Manager payment транзакшнс мы покрасим высокий уровень в красный цвет и как раз есть сервисная идентификации где у нас откуда не будут отправляться никакие данные содержащие перстную информацию Мы красим зеленый получилось Давайте аналогичным способом мы подсветим потоки данных между ними а здесь на что стоит обратить внимание это поток данных к сервису уведомлений мужа обусловили что в персональных данных которые туда передаются а не будет содержаться Никаких данных которые мы хотим потерять А собственно значит поток данных будет таким же как и принимающий его сервис давайте взглянем как у нас получилось общая картина нашей тестовой архитектуры и здесь Вы сейчас можете заметить что у нас получились некие такие домены информации да то есть это сервисы которые работают с визу данными это сервисы которые работают с аккаунтами с платежами и сервисная дефекации и ранее когда я говорил что с помощью такой нотации очень удобно масштабировать Этот как раз тот самый случай сейчас мы можем например для удобства взять и свернуть оранжевый модули в один единственный модуль Ну то есть типа который работает с видео данными да можем также красные модуль свернуть в Единый А можем каждый из этих модулей наоборот развернуть ещё глубже и внутри этот рисовать А собственно что касается нашей системы её границы Мы также можем брать части системы вот у нас есть сейчас внешняя сущности камеры но камера могут быть и частью нашей системы соответственно мы можем очень легко Это масштабировать дальше хорошо и Давайте тогда попробуем сейчас наложить первую формальную модель и посмотреть где наша архитектуре есть нарушение безопасности собственно Мы возьмем модели Биба и наложим ее на нашу архитектуру Мы помним у нас там было два простых правила это нельзя читать вверх но можно писать вниз и соответственно нарушениями будут те места где мы читаем на более высокий уровень данные с низкого собственно например это сервис ресивер он получает какие-то внешние данные от камеры мало это может быть не камера это может злоумышленник что-то пытаться нам подсунуть вот то же самое касается сервиса Стример также от него получает данные и уже внутри нашей системы модуль User которая работает там с подписками с каким-то пользовательскими данными он получает данные из более низкого уровня и тут тоже это тоже потенциальные места где может происходить уязвимости в нашей системе хорошо с этим выяснили Давайте наложим теперь вторую модель сверху и применили модель был лападу то есть когда мы выдаем данные из нашей системы и они не должны сенситивные данные не должны покидать нашу систему это опять же модуль ресивер модуль Стример Но уже по другой стрелке Ну и также модуль User Manager и Давайте теперь наложим эти модели друг на друга а вот у нас получается такой вид Да они в основном похожи но могут различаться и здесь наверное тот самый важный момент что когда чисто человек это анализирует пытаясь применить там какие-то свои знания и опыт он где-то может упустить При таком построении что-то пропустить будет достаточно сложно потому что ну у нас есть вот эти вот границы мы видим где данные входят или покидает эту границу Давайте теперь пройдемся по второй части собственно применяем на вторую часть Мы видим что у нас идет обмен данными сервиса аккаунт с User API и с сервисом идентификации соответственно здесь мы должны также повышать целостность данных и в данном случае мы считаем банк внешний сущностью для нас и Мы также не знаем эти данные откуда они Вне нашей системы поэтому мы тоже должны устанавливать какие-то проверки в принципе в принципе строй архитектура Вы можете использовать Вы можете считать эти данные доверенными от банка то есть банка может быть как продолжение вашей архитектуры тут уволены сами то есть если у вас там закрытый канал между вами и банком и вы полностью уверены что оттуда не могут там пойти какие-то атаки или что-то пойти не так то пожалуйста это также было бы доверенные части скажем так и Давайте наложим также вторую формальную модель здесь у нас почти все то же самое но мы из модуля нотификации отправляем информацию пользователю по почте соответственно это опять же потенциальный момент где может происходить что-то плохое и какие-то сенситивные данные могут покинуть этот контур полететь снаружи наложим их друг на друга вот собственно у нас получилось и давайте сейчас перейдем к общему виду собственно вот о чем мы говорили изначально мы наложили формальные модели на архитектуру и звездочками у нас подсвеченные точки где возможно потенциальные какие-то нарушения соответственно это именно те места на которые нам нужно обратить внимание где втягиваются данные там провести проверки что ничего плохого бы не втягиваем соответственно где данные покидает нашу систему что ничего лишнего из системы не выдается что не утекает никакие не персональные данные не что либо еще и когда мы еще в начале обсуждали момент с авторизацией тут очень важный интересный момент по факту например тракт прохождения что если логикой нашего приложения например задумано что пользователь в своем аккаунте может посмотреть и свою карту и свои персональные данные то это легитимный тракт по которому информация покидает нашу систему но при этом поэтому же тракту можем получить данные другого пользователя он также будет оставаться легитимным поэтому здесь очень важно как раз это пытаться комбинировать с другими механизмами потому что по одному и тому же тракту причем легитим У нас может произойти и утечка данных а все ли мы здесь рассмотрели нет наши сервисы где-то крутится в нем собираются какие-то логи метрики И это тоже места потенциальной утечки причем часто про это забывают и Бывает так что действительно данные текут просто влоги их потом кто-то собирает эти данные оттуда Икс фильтровать соответственно важно не забывать эти места если какие-то файлы у нас хранятся на ну на файловую систему Да хрестовой системы соответственно также логистовой системы куда-то они могут собирать через них передаваться здесь это всё нужно учитывать О чём ещё мы забыли с вами упомянуть это про хранилище данных и давайте сейчас поговорим о том как правильно взаимодействовать с хранилищами данных Как можно делать и как нельзя и давайте начнем с того что как нельзя делать собственно здесь мы видим что у нас есть высоко целостный сервис 2 и база данных один высоко целостная и у нас туда пишет информацию низко целостный сервис соответственно мы-то как раз обсудили что меньше приоритет при изучении Ну не сказал что мы там несколько конфиденциальным сервисом водоём Да соответственно Хмм этот сервис может быть подломан из злоумышленники могут начать писать свою какую-то произвольную информацию в эту базу данных один а тут уже информацию будет читать сервис высокого уровня что соответственно приведёт к плачевном последствиям и второй пример да то есть когда у нас наоборот высокоуровневый сервис пишет высокоуровневую базу данных а ту в свою очередь читает низкоуровневый сервис тут в принципе тоже всё понятно он может быть всё подломан его мы защищаем меньше например системе а он сможет читать информацию которая не должен иметь доступ Собственно как можно сделать а здесь уже Мы видим что а низкоуровневой базы данных принадлежит низкоуровневому сервису Ну той же того же уровня информации и при чтении в высокоуровневый сервис у нас происходит как раз с нарушением модели и мы туда вставляем свои дополнительные проверки то же самое мы видим на второй части соответственно у нас высокоуровневый сервис Прежде чем начать выдавать информацию в низкоуровневую базу данных он проверяет что они водоём или мы чего-то лишнего но всё равно так делать не стоит самая правильный подход - это когда на каждый сервис У нас есть своя база данных и взаимодействие с этой базой данных может только Ну непосредственно сам сервис Чей это база данных а всё остальное взаимодействие будет происходить через epi этого сервиса в данном случае мы видим что у нас сервис два при общении с сервиса Один он как бы и на вход проверять информацию и на выход что ничего не происходит и то же самое касается третьего сервиса что ещё какие плюсы нам может преподнести архитектура собственно Да нужно немножко оговориться что здесь Было выбрано произвольно три уровня вам не обязательно так делать у вас может быть просто в системе два уровня то есть внешние данные и внутренние Когда у вас вся система будет плоская у вас может быть 7 уровне 10 это уже как удобнее зависит от вашего анализа актива А ещё наличие такой архитектуры например позволяет очень хорошо и легко писать те же самые Network policy Когда у нас есть перед глазами схема и составление политика оно сводится к тому чтобы посмотреть там кто с кем держится за ручку и просто это впиши это очень сильно упрощает жизнь там идиопсам и там при написании правил меньше всего экранирования может помочь во всём остальном и О чем еще сегодня хотелось рассказать здесь мы видим такую замечательную микросервисную архитектуру это взаимодействие микросервиса в компании netflix в простонародье называется Звезда смерти netflix из-за своей схожести И как же избавиться от такой звезды смерти Я думаю Теперь вы сами можете спокойно ответить на этот вопрос Вы знаете как к этому подходить А что важно знать не нужно допускать до такого и запускать вашу структуру до такого состояния просто Представьте что у вас происходит в компании какая-то утечка И вам вот в этом нужно найти где вы ещё эти Я думаю сделать это будет максимально сложно и невозможно собственно Давайте подведем итоги про плюсы такого подхода Первое это низкий порог входа вам не нужно обладать какими-то особыми знаниями в области информационной безопасности вам не нужно понимать подводные камни там всех этих там для кого-то может быть модных слов там radiss rebita и все остальное у вас нужно знать что информация покидает контур значит Тут потенциальное место где может что-то утекать соответственно Вы можете на любом уровне пытаться делать такое анализ это контроль путей приёмы и передачи информации системы и в том числе не очевидной Да вот помним тот момент когда мы как раз обсуждали прологи вот часто про это забывают часто на этом люди говорят здесь мы это всё контролируем тут это сложно обмануть Это и границы информации внутри нашей системы То есть когда мы как раз это покрасили мы увидели что есть такие отдельные островки информации которые скомбинированы по своему уровню что принципе тоже было удобно и удачи Удачно и это существенное затруднение горизонтального продвижения в случае Атак теперь чтобы злоумышленнику добраться опять же до каких-то там высокоуровневых сервисов нужно Там сначала будет подломить какие-то периферийные по ним вот так вот по шагам по всей этой цепочке пройти Как это еще может помочь очень просто в случае вот первоначального Да примера Когда у вас полностью плоская сеть Скорее всего вы этого подлома даже не заметите ну запустился на каком-то какой-то непонятный процесс на одном сервисе Я думаю быстро на это можно не среагировать А вот если у вас последовательность в сервисах Да что-то происходит отключаются какие-то механизмы защиты и запускается там новый процесс это уже может вообще как бы быть индикатором компрометации точно на это нужно как-то реагировать вот собственно помогал ли это в жизни да помогала наверное самый такой серьезный курьезный случай это было приложение которое позволяло обмениваться зашифрованными данными И вот так вот проанализировав и составив пути прохождения данных по архитектуре мы обнаружили что есть возможность полностью обойти схему шифрования и выплёвывать данные просто открытом виде наружу Я думаю наверное никому бы не хотелось бы пользоваться таким приложением которое может выплюнуть ваши данные вот собственно на этом У меня все спасибо за внимание задавайте свои вопросы Спасибо Алексей было очень познавательно и отлично уже есть вопросы можно сразу же вот сюда микрофон так кто еще хочет Микрофон Уже появились вопросы я пока один только Здравствуйте спасибо за доклад такой вопрос а вот на схема где изображены звездочки А каких проверках вообще идет речь Спасибо это вначале было типизация синтезация валидация но на Давай сейчас вернемся к какому-то моменту очень просто у нас есть сервис аккаунт а именно эти данные просто мы проверяем на их корректность или вообще Должны ли они быть отдаваться или это потенциальная точка мы должны все данные проверять Ну то есть у нас есть наша система которая в себя втягивает какие-то данные произвольные данные это может быть как и легитимный пользователь который добросовестно вел логин и пароль А это может быть пользователь который написал скрипт и что-то там пошло соответственно Вы должны эти данные обработать и привести к какому-то виду который не сможет нарушить внутреннее состояние вашей системы достоверность работы не будет нарушена я понял то есть получается Ну мы пришли к тому что эти проверки необходимы на входе и на выходе по факту Да и также еще внутри необходимо если у вас внутри часть вашего обязательно системами у вас может быть под ловле часть Application Все мы понимаем что идеальная безопасность не существует и При желании можно взломать все соответственно подломив часть вашей системы Если в дальнейшем Также будут проверки очень сложно будет как-то пытаться горизонтально продвигаться и невозможно но серьезно жизни это усложнит когда у вас внутри системы будут рубежи это может быть и сервис меж Вы можете использовать да то что например от желтого уровня вы не можете попадать в красный уровень без взаимодействия через какое-то Вы или что-то ещё это прям очень существенно затруднит продвижение Спасибо Так вопросы хотел напомнить у нас сейчас есть два приза Так что надо два будет выбрать э вопрос Алексею вот отлично смотивировали А вот допустим антифрот система которая на всех уровнях работает она к какому уровню вот относится к зелёному жёлтому красному которая мониторит события во всех вот этих антурах и какие-нибудь моделями там анализируют наличие Фродо А причём не обязательно там допустим в какой-то одной области а комплексно понимает что фрот произошёл фрод происходит по каким-то симптомам потому что он орудует двух-трёх направлениях допустим А направлено четвёртую систему а Хороший вопрос на самом деле у нас в рот системы тут есть несколько путей решений один из них у нас например может один сервис использоваться Ну в разных конфигурациях для обработки информации разного уровня и в таком случае самая такая по безопасности лучшая рекомендация это реплика сервисов одна например работает с низким уровнем вторая работает с высоким уровнем у нас информации не подмешивается раз не подмешивается информация то и она не сможет утечь там из высокого уровня Как там подмешаться в низкий еще что-то если возможно лучше делать так если нет как я сказал Вы можете выделять множество уровней нам нужно понять Может ли Фрост система что-то выдать в этот контур или только собирает информацию Если она не может там если она может что-то выдать то это как скорее всего управляющее воздействие на прекращение какой-то операции либо блокировку какого-то действия Хорошо ваш вопрос система собирает информацию аналитику вашу систему в таком случае может быть как раз максимального уровня То есть это По примеру колец там с ядром Linux У нас есть одна Вот как раз там главный арбитр который за всем смотрит он всегда и везде для любого процесса он самый главный если бы реплики для разных контуров Если это возможно сам продукт это подразумевает либо она как раз будет самый главный старшей системой саму Форд систему тоже надо как-то можете поставить взаимодействие также через вот эти вот библиотеки которые как это обычно происходит да то есть мы пишем некий набор правил по которым мы там втягиваем и проверяем информацию Он же у нас никуда не девается Мы также это можем прикрутить либо к нашей Фрост системе Ну то есть там банальные проверки инъекции никаких нет ничего ещё Либо мы доверяем вендору Фрост систему Ну опять же как мы можем взять недоверенную систему Да которая может что-то потенциально плохое сделать и воткнуть её к нам причём там если это внутренняя разработка тогда её надо как-то хорошо это очень можно очень просто сделать есть такие исследования на отсутствие не декларированных возможностей Вы можете и для себя внутри подтвердить что в ней нет никаких документированных возможностей она соответствует тому что должна делать Спасибо опять же как я сказал это можно масштабировать на разные уровни Почему бы не на этой архитектуре не отобразить Фрост систему часть каким-то крупными мазками Да что это внешние относительно просто система самому Фрост система вот так вот расписать и посмотреть как в ней циркулирует информацию и аналогичным же способом добавить необходимые проверки Это только повысит ее устойчивость к атакам и достоверности работы Понятно спасибо Так Алексей вот еще третий вопрос Спасибо У меня такой вопрос здесь говорилось про политики доступа но когда мы пишем политики доступ у нас скорее интересует не направление потоков данных а направлении устанавливаемых соединений то есть вот это подключается сюда то есть и соответственно вопрос в том на вот этих схемах каким-то образом мы рассматриваем именно направление установления соединений или только потоки данных я понял вопрос в текущем примере Я не показывал за то чтобы не усложнять вообще сам лично я как раз использую направление соединения Плюс Спорт у меня помимо самого потока данных Что передается какой протокол порт и в какое направление то есть условно говоря получается Стрелка Идет сюда но чтение идет в обратную сторону условно говоря или запись в некоторых случаях вы можете любом удобным образом рядом помечать на самом деле как сказать по-разному был В некоторых случаях У меня есть два варианта то есть первое Ну типа диаграмма контейнеров Кто как с чем Вот как раз какой порт как взаимодействует и второй это как раз именно подсвеченные потоки Ну она Ничем не отличается просто стрелочки покрашены там не указывается порты всё то есть здесь мы именно хотим э-э понять как циркулировать данные в нашей системе куда они могут попадать А куда нет И вот как раз выставить эти границы Спасибо так вот еще вижу в центре есть вопрос Алексей Здравствуйте Поделитесь пожалуйста опытом Дело в том что вот те картинки те модели которые вы показывали они как бы являются статичными но Мы все знаем что со временем отдельные модули приложения приобретают новые функции появляются новые потоки данных между отдельными модулями Как вы встраивайтесь в этот процесс для того чтобы поддержать текущее актуальное состояние таких моделей Хороший вопрос Я ждал его и на самом деле расскажу На самом деле во многих местах с кем вот так вот общаешься и где я работал есть очень большие проблемы с архитектурой и давайте сейчас с вами поймем как это должно происходить Мы же сначала строим теоретическую архитектуру Да смотрим Что нет ли там ничего плохого и потом это реализует пробуем реализовать у нас стараются наоборот Опа Мы прикрутили новое сердце так А давайте Теперь попробуем блин как куда это вот Можно прикрутить и поэтому на самом деле ответ на ваш вопрос что вы должны начинать с архитектуры посмотреть не несет ли в себе это какой-то опасности это же недолго прорисовать какой-то Новый сервис запланировать правильно Многие считают что поддерживать Это очень сложно Нет это не так сложно вот и оттуда пошла реализация на самом деле немножко сейчас такую интересную историю скажу откуда я это вынес Я до этого достаточно много лет проработал в лаборатории по сертификации и соответственно это была гостая И это были программно аппаратные изделия и переписать ход там не получится то есть какая-то вот такая ошибка в архитектуре это могло быть грозить переразводкой платы То есть это опять отдавать на завод получать платы опять там писать какой-то новый год то есть одна ошибка могла откинуть разработку на несколько лет назад и поэтому уделялось очень большое внимание то есть сначала всё прорабатывалось А нюансов там было очень много то есть там всякие побочные электромагнитные наводки всё остальное То есть Это изначально прям нужен был такой всё сделать и только потом начать реализовывать и тогда это всё работает Спасибо так коллеги остались еще вопросы Нет ну тогда Алексей надо выбрать два самых лучших вопроса который тебе понравились и подарить подарки лучше это тот который я ждал он должен был сегодня прозвучать и второй последний а второй наверное как раз про как же прикрутить что-то Frost системе Зачем также тебе сказать Алексей Большое спасибо за твой доклад выступление У нас для тебя есть тоже маленький подарок Спасибо спасибо"
}
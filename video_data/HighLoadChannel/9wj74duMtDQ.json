{
  "video_id": "9wj74duMtDQ",
  "channel": "HighLoadChannel",
  "title": "Илья Космодемьянский на РИТ++ 2012",
  "views": 177,
  "duration": 588,
  "published": "2013-04-16T06:44:27-07:00",
  "text": "добрый вечер меня зовут илья космодемьянский я занимаюсь базами данных я работаю консультантом для ряда компаний как в телекоме так и в вебе вам наоборот только российские суды низким не борется они просто берут и работать за ним но на самом деле вы драматизирует с одной стороны он естественно отхватывает довольно большой кусок и в основном это связано с нежеланием людей думать ну то есть вот посмотрите как бы глупо там ну конечно да ворог он бывает на своих тематических конференциях рассказывают что нибудь там высокая про то как какие они крутые но в целом всем очевидно что это и так хорошо как раз рассказывать о том что они всех порвут любят представители там на усе крова и люди этого обычно на это ведутся потому что ожидают чудо да то есть как бы там с настоящими базами данных где есть там транзакции где поддерживается целостность полностью где все наработанное стабильной в сердце нет надежность и производительность да там есть некий набор теории который лежит в основе которые не пользуются большой популярностью в принципе даже не всегда и преподают в вузах технических и есть какие то там стандартные подходы ну которые там требует понимание некоторые специфики зачастую несколько параллельные традиционным знанием программистов вот таким оперативным алгоритмическим вещам ну и как бы накладные расходы которые есть базе данных программист мне нравятся да и они начинают искать чуда а новый сколь готовые чудо обещает это как бы прекрасно очень хорошо зайдет на статистика сложения страничку гораздо проще к мужчине разработчик гораздо проще не узнает а то чтобы да конечно можно на практике оказывается гораздо сложнее и когда в базе начинается запись они только чтения она всегда там есть пушек как бы деньги в тумбочку кто-то должен положить оказывается что и не такие уж триумфальные прорыва в производительности очень здорово падает надежность если не дай бог идиот учет каких-то там денег клиентских или внешне когда там бухгалтерии а потом хватается за все места в общем смысла возиться с такими вот на коленными поделим я лично не вижу то есть надо периодически там даже в моей практике приходится там проводить миграция снова сиквела на какие-то классические решения обычно получается лучше и дешевле освобождается некоторое количество серверов например ну в другой стороны я например страшно благодарен создателем на усыпила но то что они есть я люблю виски люблю хорошие они мне существенно помогает прокси ну я вам могу сказать несколько примеров конкретно там вот раз вы заговорили о манга the с ней на у нее есть во первых достаточно странная идея авто выбора мастера я реально наблюдал в продакшене ситуация когда манга не понимает какой мастера и выбрать и это глобальный disaster потому что грубо говоря весь кластеры разваливается и это аварийная ситуация с которой очень сложно бороться долго и время простоя предсказать практически невозможно да там рыба говорят даже с падением там хорошо настроенного то мороку можно принципе сказать что да мы можем подписаться под каким-то мы сеем мы запасом что мы там поднимем систему там через столько если у нас там беда придет ровно 1 диск под базой про и разъехался они там метеорит упал той же манга это не сделаешь вот ровно по означенной причине во вторых они наконец стали вводить журналирование да то есть как бы осознали что до нужно поддерживать целостность данных иначе данные бьются иначе там грязно и ощущение так далее любой желающий может посмотреть исходники там есть такой файл с говорящим названием др . вот который реализует блокировки в любом хорошем учебники по теории транзакции да там отменен cambiar пару могут этих порекомендовать да вполне себе такой подход описан как наивно и дальше разбирается почему так делать не надо то есть описываются там теоремы которые изобретены там как минимум 20 лет назад а то и раньше и объясняется почему так делать не стоит почему применить тому горит на такую это классический двухфазное блокирование например 2pm горит почему это лучше но как бы люди которые вот так вот эксплицитно по ходу дела по ходу запусков продакшен и обещания кому-то чего-то начинают прикручивать общем коровы и вещи для любой системы хранения данных они узнают об этом сильно задним числом а также на самом деле было с моей скобелем изначально там никакой поддержки транзакции не было да потом пришли умные люди начали это дело вкручивать там вы надели в результате мы до сих пор имеем проблемы с этими вещами это как бы такая основа основ с которой надо начинать а не прикручивать его сбоку вот поэтому там дейсвительно проблемы с целостностью проблемы с конкурентным доступом как только начинается какая серьезная запись там получается что в реале одна запись идет на 1 ядро вам пример как вы hbs да там оптимистическое блокирование в результате ну оптимистических scheduler транзакции если там транзакции включены фактически нам нужно по количеству пишущих потоков иметь серверов для того чтобы оно работало нормально естественно как бы становится очевидно что это очень расточительный способ ну я порекомендовал бы собственно игре две книги одна из которых общей бесплатный сборник статей о такой целостный сборник обзоров называется летящего дайте мне systems один из первых авторов или штейн это такой человек по моему из университета беркли ну известный специалист в области лекционных баз данных вот она такой краткий вводный обзор дает потому как вообще это устроено что такое вот логе транзакция которых я сегодня говорил все вот эти вот общей теории как там в память засасывается как читается с диска как сен каяться и с реальными примерами из того как это устроено в базах данных дальше есть вот такой вот кирпич написанный страшным язык умно это такой фундаментальный труд с теоремами если маме со всеми делами автор его сыновей кум такие два немца один по моему один из африканского университета другой еще из какого-то этапа transaction informational systems то есть это вот полный вот такую кирпич вузовские серьезные учебник где полностью описаны все алгоритмы все наивные подходы все теоремы ну как бы я очень мало людей встречал которые дали себе труд об этом прочитать например саймон rex один из паровых спецов по подвесу один чек который разработал например там streaming репликацию в ее нынешнем виде он когда я не об этом спрашивал в катину венского туда когда я стал переделывать индукционную машину для хостинга я впервые в жизни нашел эту книгу я прочитал что говорить об авторах нагрузку или они явно как бы не морочили с такими вещами принципы какие было это супер гуляш чисто леджер а зачем вот зачем мне нужна возможность вы знаете на самом деле опять же когда возникает вопрос а persistent на хранение данных возникает вопрос записи в такое хранилище и что мы получаем мы получаем что мы прикручиваем какой-то примитивный менеджмент транзакции до туда где изначально не было этого трудно то о чем я говорил есть база у которой такой функционал и в которой это работает до какой-то степени будет прав а есть какой-то вот этот самый как правило там начинают бороться с конкурентным доступом выставлением глобальные блокировки какой-нибудь там начинаются какие-то очень странные вещи результате мы получаем что теряется вот это вот просто то за которые гонялись да и не появляется ничего взамен из в любом случае писать эта штука будет хуже чем классическая база данных типичный кстати пример из enterprise меры в этом смысле это классическая база вокал и база данных там ст м м стен которая урока купил некоторое время назад да в принципе time стонать обычные memory деби со своими приколами но как бы это рабочее решение оно много где используется она умеет в принципе писать да не только читать она это делает все равно хуже чем у руку и на адекватных тестах но как некоторыми что-то сферическая тестируем да когда мы берем реальную систему и пытаемся этом мигрировать на такую штуку он проигрывает о го клуб а запись сюда вот уже потому что классическое базу данных имеет огромные наработки для того чтобы это делать лучше поэтому я честно не понимаю зачем отцу нужна"
}
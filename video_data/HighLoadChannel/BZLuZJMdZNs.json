{
  "video_id": "BZLuZJMdZNs",
  "channel": "HighLoadChannel",
  "title": "Новая инфраструктура компонентов в MySQL 8.0 / Vittorio Cioe (Oracle - MySQL)",
  "views": 422,
  "duration": 1817,
  "published": "2020-04-14T11:30:41-07:00",
  "text": "плотник платини это было с до сих пор способ расширения функциональности в минске your server то я существуют плагине им грубо говорят лед все стороны то можно смотреть движок этому посмотри только плагин потом существуют плагины для пера писания запросы плагины для up all by the firewall он существует достаточно много благе для внешнего аутентификация в моей аске валя и и интересная вещь о плагине но это то что они позволяют модуляр на архитектуре теста не позволяют имеет модулярной архитектур где мы будем иметь сердце самого который будет отвечать за основные функциональности и если мы хотим добавить функциональности мы это будем делать через добавляя новые plague это хорошо чудесно было у этой методике а одно но одно но достаточно большой но благими чтобы общаться между собой как они это делали как благе не общались между собой через сервер тест плагине общались с сервером и сервером и сервер общался с другими плагинами соответственно это не смотрелось очень это не смотрел и не было практично презентация пришло так что о чем мы говорили что это не было практично и имя так что плагине общались между собой через сервер и поэтому чтобы ввести на следующем уровне этот концепт и чтобы дальше имеет возможности расширять сервер модуляр ным способом в моя squeal 8 бы было взгляде было введено так называемая инфраструктура компоненты почему компоненты грубо говоря чтобы отличаться от плагине в названию и как мы говорили у плагинов не хватало уже функции чтобы развиваться в будущее но нужно было украшать эту архитектуру а то может может быть на уровне архитектура то что все плагине общались между собой через сервером смотрится просто но на уровень кода из-за того чтоб чтоб моя squeal рос в течение года это несмотря лаз так просто так что нужно было украшать эти все функции у равен на уровне кода и улучшая изолирует а что до это дает стремление было у нас гадкий золя изоляцию тоже и все компоненты звезда все компоненты одинаковы им им компонент можно может обращаться к другого компонента эдик сервера и к нему можно обращаться так что архитектура этого этого чего arquitectura и тарного инфраструктура компонентов следующая есть компонент который называется сервер потому что в эту архитектуру сердцах тоже компонент yoast бинарный сардаров я с так называемым минимальный шоссе который состоит из реестра компонентов и дай на миг loader и потом ест компания компоненты в дни компоненты внешне нотариус по напоминают вам там плагины и продолжают быть все продолжают существовать плагине потом посмотрим почему они продолжают существовать так что сейчас будем знакомиться с со словарем это новая инфраструктура компонентов и будем ознакомиться с концептами как дай нами тайнами клода persist этой на миг loader компонент регистре и services так что что-то г-компонент компонент это контейнер для кода тест и зале кантер контейнер даже это очень модное слово в наш мир и сейчас и этот контейнер для код просто это изолированные что-то которые исполняет функции для которой был программеров у него есть и нет функции и нет идей нет которые могут быть хаттори инициализирован я отдаюсь отдай намекала удар и компонент может может воспользоваться службе который находится в сервис регистре и что он может еще делать может предоставлять для реестр компонентов имплементации разный имплементации данные службы что такое служба это абстрактное название для интерфейса тест служба это интерфейс чего-то это стоит лес и это не по мере его definite не поменяется доест если нужно добавить метода или поменять параметры нужно будет найти новое название для сервисов потом еще больше про сервис у него есть публич iskender который описывает pointer и катаре он возвращает и это лучше потом мест идет такая коты говоря лучше чтобы лучше чтобы использовать простые ты данных и лучше и лучше возвращать и лучше а прими имя то определенное название для стоимости которым будет возвращать потом сэр сервисе implementation что такое это грубо говоря на это даны то данная имплементация сервиса то есть если сервис это абстрактный интерфейс сервисе implementation это имплементация сервиса который мы будем иметь до сервис регистре и она где находится на находится в компонент и у него есть поинты и у него есть поинты ри который находится сервис врач из 3 потом религий servicing оменташен это сорви это тоже имплементация сервис которая нам позволяет делать каталоге сервисов через некоторые слайды будет картина которая будет объяснить что именно это значит что дальше что такое регистре регистре как мы видели это на бартсе сервисе которые даст у которые доступны и она позволяет она позволяет узнавать какие сервисе уже доступны и чтобы компоненты им воспользовались и позволяет иск от текущей имплементации сервисов динамический l'ador что дава динамический лотов динамический но то это скажем так компонент но не компонент как мы видели это часть я которая находится сервера который находится в минимальной шоссе который будет читать из сервис регистре и будет грузит services между тех которые доступны потом можно имеет тайнами феодор но тоже persist и тест самый лучший пример это то что например с команды аскиан они уже доступны через сервисе и они на х и они находятся внутри сервер тест лучший способ чтобы объяснят к чему служит persist и тайнами кладр и да именно это чтобы иметь постояли чтобы было возможно иметь постоянный компов что было возможно иметь постоянный компоненты как например команды остывают и чтобы ими можно было при запуске сервера грузит сервис котором используется минимальный шоссе это статический лайбрери которая определяет минимальный минимальный набор чтобы инфраструктура компонентов работала тест она состоит из в основном двух вещей регистре и тайнами клода ты просто каталог где вся сервисе описанный и тайнами клаттер который будет грузить эти сервисе и это как здесь назначена очень хороший способ для юнита string и для тестирования в основном какие сервисе сейчас существуют в данный момент вопрос почему в данный момент существует в моем скилл сервер и сервисе и плагине почему нет все плагине были переделаны как сервис очень простой ответ это будет операция которая планируется делать и будет сделано поступят в данный момент я ст как пишет на слайда 92 федор для сервисиз и например rest сервис ради страдай нами кладр логирования ошибок системные переменные статусные пермь анны пользовательские функции перформанс кейма плагин для плагин кстати очень хороший пример плагин который было переделан как компонент это части мы я уже не знаю какое слово используют плагин это вроде для старый компонент для новый и очень часто можно путать именно так что была переделана как компонент механизм ода механизм хорошие слова не относится не относится ни к одном ник другом контексте так чтоб механизм механизм для валидация паролей была переделана как компоненту за в новую инфраструктуру некоторые еще остались как плагине что это значит для пользователь какая разница для пользователя если пользователь не собирается как наш друг в последнем ряду писать свои собственные расширения функциональности для сервер маин скин разница для базового то тактические какая этот механизм полностью для ползолотого прозрачней так что для любопытства в ос где свет минут 10 15 минут которые остались посмотрим как что нужно делать как как можно писать свой собственный компонент нужно использовать юге леди макрос который существуют и лучше если копировать существующей компонент как база ест примера feast но я стюарт же открыто база данный тест можно посмотреть источник и посмотреть пример компоненты которые были уже написанию можно копировать существующие службы и это очевидно компиляция происходит место сервером тест нельзя компилировать отдельно но это компилируется все в место где скажет осторожно нет защита от краж и нету security чак стенд проверки безопасности нету так что из когда белшина собственный компонент имеем прямой доступ к некоторые функции в сервере нужно внимательно можно посмотреть здесь как папки расположены и где компоненты находится тест что мы видим здесь в зелёном этом минимальный шоссе моя сколь сервер и дай намекал удар и потом мест кампале потом здесь езд компоненты и в каждом и в каждом компоненты будут свои сервис и здесь уже начинается примере кода так что чтоб описать я уверен что вы это будет и понять даже лучше меня но чтобы писать собственный компонент первый шаг это добавит код для компонента тест что компонент делает нужно делать несколько in cloud для компонент implementation эдер и нужно делать include для игр для регистрации компонентов потом добавить кому добавить баннер play для компонента тест все что все что ямуну но если ну если нужны другие компоненты и метаданных это все здесь описывается дальше миг файл очевидно не будет процесс компиляции и сорвись до финиша сервис до финиша похожа на похоже на то что здесь и это то что позволяет иметь и это то что позволяет имя той информации для компонентов реестр служба и дальше implementation и дар это можно делать можно не делать потом это потом нужно добавить файл имплементации и ну и добавить это вот всего components мой скил server server компонент c класс класс дате слайды скажем так находится основная структура если хочется писать собственно компонента потом работать со статусом аэс-2 способов cipla сплав и есть тоже второй способ и тоже когда мы говорим о жалеть it service test 20 есть два способа потом вы помните что я вам рассказал что эры летит сервисиз это способ создавания каталоге разных сервисов вот здесь практически вот здесь идет графически объяснению этого всего можно иметь разные сервисе который находится в сервис регистре совершенно то есть совершенно разные места но им все равно можно будет идентифицировать все равно с компонентов которые будут использовать эти сервисе смогут идентифицировать и это пример для берлоги некоторые объяснения чтобы использовать лучше использовать инфраструктур не макро использовать базовый типов параметра тест кто-то более комплексно становиться слишком слишком сложно и идет она его на нем нет да и ты из то что скажешь тоже важно то что референции это очень дорогостоящий дорогостоящая операция и потом старайтесь не звать слишком много слишком много службы и держит и референсы для сервисе с вместе с компонент который им будет воспользоваться здесь идет пример кода и тоже пример это если работать со статусом ест улучшенная версия и финальную версию то дальше дальше 100 нас ожидает что большинство плагине в моей askew аль будут переписаны в виде компонентов в данный момент уже не разрабатываются опять для плагине и цель с ближайшим ближайшем следующие временем это будет уже избавиться полностью от плагине так что на это а инфраструктура компонентов все сейчас будем принимать вопросы спросите потому что лучше вопрос идет подарок спасибо за доклад у меня вопрос такой наверное самый простой вот смотрите я хочу создать свой кастомные компаниям то есть мой кастомный компонент допустим должен использовать какой-то еще компонент скажем компонент логирования то есть как я могу в своем компоненте грамотно обратиться к компоненту логирование то есть если там какой то типа сейчас модного слова т.п. джексон такое из понять этот контейнер зависимости либо я могу обращаться с как бы непосредственно своего компонента другому через реестр как грамотно сделать грамотно сделать вторым способом который сказал потому что в сервис триест будет список всех интерфейсов как не виде как мы видели и компоненты могут между собой общаться болше уже нет через сервер как было с плагинами но между собой еще маленький вопросик то есть а полагает что компоненты могут находиться вообще на разных серверах в зависимости от мой аскольда туз или как только на одном тест компонент это также как плагины чтобы это все сработало компонент должно находиться вместо сервером и компиляция идет одним блоком дилеру и компилируется сервер место и со всеми компонентами то есть это не единое как бы это просто все цело этот все цело на уровень кода внутри ssi артерий это и компоненты отдельный контейнер и но campina но компиляция и пакет будет один со спасибо вашим у кого-то есть еще вопросы вопрос непосредственно мотивах этих всех действий то есть ну вряд ли вы писали новую архитектуру просто для того чтобы иметь регистр общение компонентов архитектура плагинов были на них жалобы что она достаточно тормозная так далее с точки зрения производительности что-то изменилось лучшую сторону данной ситуации . это была одна из причине из-за хаттори это было сделано это были именно жалобы на архитектуре плагине о которых вы упоминали с точки зрения производительности оказалось что производительности а когда ты на тестирование который я знаю которой были сделаны производительности улучшилась но что дымят полная картина мы должни ждать пока вся плагине будут переписаны на компоненты потому что сейчас как мы видели вся горя есть некоторые компоненты которые вы были переписаны но остальная часть и осталось 2 т плагине тест мы находимся в гибридная ситуация сейчас ну и тогда второй вопрос из этого вытекает вы собираетесь сделать депре кейт от большинству там 99 процентов пользователей естественно это абсолютно но не интересует но вот есть люди которые сами писали плагины возможно самих использует им сложно будет мигрировать или в моменты прикид будет какой-то написано решение возможно это будет компонент обертки над плагинами в итоге чтобы людям возможно уволили разработчика прошлого плагина все бывает надежду люди не у валют разработчики прошлого плагина но скажем так в данный момент не нету информации о что будет сделано чтобы облегчат миграция в компонентов для люди которые писали собственные плагине но именно для этого нужно собирать информации чтобы потом мы смогли слушаться комьюнити матча вопросов нет так что сложный выбор до 2 призов нету есть два можем едва подарить но у нас два вопросы так что я не могу выбирать какая из них лучшая так что я выбираю оба твои коллеги потом если не понравится можете между собой поменять и так же давайте поблагодарим спикера за прекрасный доклад"
}
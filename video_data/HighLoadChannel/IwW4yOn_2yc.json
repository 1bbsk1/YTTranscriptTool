{
  "video_id": "IwW4yOn_2yc",
  "channel": "HighLoadChannel",
  "title": "Инструменты высоконагруженных проектов: кэширование и очереди / Вячеслав Москаленко (Ленвендо)",
  "views": 15140,
  "duration": 2354,
  "published": "2017-04-22T14:47:45-07:00",
  "text": "у меня зовут moskalenko вячеслав я работаю старшим программистом печки в компании легенда приехал из новосибирска основной офис у нас в санкт-петербурге и наша компания занимается разработкой высоконагруженных проектов в том числе среди которых такие большие интернет-магазины как эльдорадо связной и много других проектов помельче своем докладе я буду рассказывать вам об инструментах высоконагруженных проектов кэширование в том в частности веб-сервер в частности обмен кишти реддите и о сервисе и очередей рыбе темпе или в простонародье кролик содержание моего доклада в первой части вам расскажу о том что такое memcache базовые понятия штукой редис какие в особенности чем эти два сервиса отличаются расскажу о практическом применении в наших проектах обоих сервисов во второй части свою доклады буду рассказывать о в брокере сообщений рыбе темку об основных понятиях которые есть в кролики о том как работают как работает маршрутизация сообщений между продюсерами конфи мерами вот так же расскажу о практическом применении в наших проектах данного брокера сообщений ну начнем первую часть доклада кэширование я думаю многие из вас что такое широва ли поднимите руку кто хоть что-то фишера вал своих видео проектах я думаю большинство поэтому мой доклад будет в простой никакого хардкора никакой жести не будет все будет очень просто и доступно ну в целом что такое cash cash это посредник жду клиентам которые запрашивают данные и основным хранилищем в как правило медленным и такой посредник позволяет получать наши данные очень быстро как правило данные хранятся в какой-нибудь оперативной памяти в случае memcache то и редиса ну и также эффективное использование данного кэша позволяет нам снизить нагрузку на наши сервера на наши севера базу данных возникает вопрос когда и что нам кэшировать понятное дело что полезно кэшировать часто запрашиваемые данные то есть если у нас какой то маленький сайтик и там у нас 100 пользователей в часто большой нагрузки на базу не будет и кэширование ну наверно будет малоэффективно вот в больших высоконагруженных проектах когда мы хотим снизить нагрузку на базу данных мы используем кэш так же необходимо понимать какие данные мы можем кэшировать какие данные мы не можем кэшировать простой пример у нас интернет-магазин чтобы как когда пользователь оформлять заказ и нам необходимо получить остатки нашего товара внешних систем нам приходится делать это в онлайне потому что мы эти данные не можем кэшировать так как может случиться так что следующий пользователь возьмет данной спеша будет ошибка просто он просто не получится товар потому что не закрывались в группу не за внезапно кончились соответственно кэшировать назад те данные которые реально может оперировать на там на несколько часов на сутки и так далее ну и инструменты кэширования от о которых пойдет речь а то memcache терезис начнем с первого что вы каменка что вот это логотип официально memcache потому такие злобные быстрые кролики которые просто перетаскивать данные с невероятной скоростью история memcache начинается 2003 году бред sits sits патрик разработала для live journal они успешно внедрили и ускорили свой сервис ну цели каширования когда-то кэширование часто запрашиваемых данных memcached используется на таких сервисах как лазерного twitter youtube и многие другие в том числе мы его используем успешно на своих интернет проектах возможностями мкэш memcache очень быстрый нет зависимости от количества данных которые мы храним в нем кости простой интерфейс то есть можно засветить данные можно получить выставить время жизни удалить ключ и так далее memcache подерживает атомарные операции ферментация документация prepend up and как значением и также позволяет легко расширять количество серверов своих и там даже любое падение сервера одного из сиропа memcache просто рассчитывается как непопадание в кэш просто нет данных в кэше ограничением к что следующий длина ключей максимум 250 гбайт и объем данных который может хранить под одним ключом ограничивается одними га в этом потеря ключей и в memcache что может случаться по времени жизни по времени жизни по лимиту памяти тогда memcache начинает освобождать данные в своей памяти используя лист рисунки юст стратегию то есть он освобождает те ключи которые давно не используется ну и либо при отказе сервисе серую отказывает все данные наши теряются он их нигде не сохраняет ну вот так как я являюсь php программистом я привел пример как печь переиспользовать memcache для php есть два extinction один использовать библиотеку любим кажд и второй просто к старшим php memcache гребнем memcache имеет больше возможности он имеет все возможности реализовывать данные по умолчанию стерилизуют их с помощью php на можно определить стерилизатор джейсон например ну вот простейший пример мы создаем объект memcache добавляем наш сервер на локалхосте дефолтный порт у нас 11 211 мы можем защитить некую строку засветить некий массив подключили выставить время жизни куда передаем timestream когда данные должны протухнуть и вот простой операции get мы получаем свои данные то есть ничего сложного все просто после своих системных администраторов то еще не использовал поставить memcache поставить php extension написать простейшую обертку для memcache до свою грамотную нет ни такую простую как здесь и использовать для каширования каких-то часто запрашиваемых данных которые нагружают вашу базу который можно кэшировать все будет быстрее далее я расскажу о том что такое редис и чем он отличается от memcache то редис в одессе есть поддержка большого-большого количества типов данных среди которых строки хэши списке множество и сортированный множество также редис умеет периодически скидывать свои данные на диск то есть это все через конфликт правил определяется то есть можно например там после 1000 обновления наших данных скидывать это все на диск также поддерживает люстре sing views очищение то есть там можно определить различные стратегии очистки ключей можно рандомно например очищает можно также давно неиспользуемые либо сначала удалять только те ключи у которых выставлено время жизни и так далее то есть много и также можно сделать так чтобы он вообще не очищал свою память но тогда при обновлении данных ваш клиент редиса будет отдавать вам ошибку ну что она не лучше так не делать лучше пусть он очищается мы не используем данный также редис поддерживает masters лев репликацию поддерживает простейший очереди то есть можно создавать канал и на них подписываться публике ровать не какие то сообщения читать поддерживают транзакции с помощью команды мульти ээг запись мы запускаем мульти запускаем команду в редис и применяем эту транзакцию и поддержка также поддерживать ло скрипты ну лоск его язык я не знаю поэтому подробности вдаваться не буду ну и также ряде саутина отличная документация заходим на сайт и редис . ой а и там все доступно с примерами все расписано далее я хочу рассказать о типах данных и какие команды у нас есть в одессе первый тип данных это строки интерфейс простой мы можем по конкретному ключу засветите некоторое значение ну вот здесь на слайде я привожу в пример это скриншот из консольного клиента кризису то есть мы также как майскую коннектимся на определенный порт на конкретный хост и можем работать с редисом выставляя значения получает данные выставляя время жизни в секундах вот команда xp можно запросить время оставшееся здесь мы выставили на 5 час потом через 6 секунд получил время жизни вот осталось тридцать три тысячи пятьсот девяносто три секунды здесь все просто следующий тип данных это хэши то есть hash это структура в которой можно сохранить поля их значение никого объекта для работы с крышами используются в команды each set & mc то есть hash multi set headset вот в данном примере мы некий продукция диска и 100 и мы выставляем поля name и прайс в данном случае iphone 5s ценой до 2023 1900 что получить значение полей хэша мы используем команду orbital и получаем все свойства нашего хаша тут все просто вот сейчас например в кашах можно хранить пахнуть серии соответственно сессий пользователей следующий тип данных это множество сет множество это фактически множеств regis позволяет хранить по конкретному ключу некая может множество элементов при этом множество редис отвечает за его уникальность то есть если мы добавим множество два одинаковых два одинаковых элемента он всегда там будет один ну для добавления элементов множества используется команда хдд для получения всех мемберов множество используется команда с members ну там все просто так же ключа мы можем выставлять с помощью команды xp время жизни удалять ключи и так далее следующий тип данных это сортированные множество сортированный множество чтобы с ними работать они работают так почти также как стации ну за исключением затем исключением что мы можем выставить так называемые очки каждого элемента в нашем множестве и в качестве очков вот например здесь передается таймс темп в комментариях статье 13 то есть мы именуем свой ключ так чтобы понятно было что это например комментарии данный скин cummins и говорим что ты комментарии кстати кстати к статье 13 вот мы добавляем два элемента множества и можем получить отсортированный список по убыванию либо по возрастанию на наших очков ну честно неправильный пример потому что понятно что в одно и то же в один и тот же момент времени мы можем в несколько комментариев может прилететь поэтому здесь на самом деле это пример так чисто забыл поменять слайдик далее ну еще есть на самом деле такой тип данных как списке списке это тот тоже тип данных в рисе где можно кушать в наше множество элементов слева справа брать конкретно элемент из конкретного индекса до конкретного индекса и так далее здесь у меня сладок к сожалению но этот тип данных нету какие есть клиенты для php есть extension для php php редис он написан на си также есть библиотеки paredes который написан на php редиска редис сервер что просто классов которые открывают соки на конкретный хоз на конкретный пор ты просто общаются с редисом также с резидент это for cad 3d сервера но он ещё использует extension pack paredes для ускорения для получения более высокой производительности ну мои рекомендации используют конечно php extension php редис потому что он по всем больше марками тестом быстрее он написан на си и все пока пышной реализации зачастую медленнее далее я хотел бы рассказать о том где мы используем memcache и редис они давайте поговорим о различиях пппппп вообще различиях редиса и мем каждый memcache маленькая быстрее чем редис но редис свою очередь позвал ну то есть на самом деле рисе memcache нужно использовать под конкретную задачу то есть если нам нужно хранить какие-то свои структуры данных и это множество сортированы множество то конечно здесь на помощь приходит ряде если нам нельзя потерять данные мы тоже должны использовать редис потому что в memcache не наши данные могут просто потеряться вот так же редис как я говорю поддерживают мастер слоев репликацию с версии 30 который release candidate поддержка кластеризации с встроенной поддержкой хардинга производительность редиса на самом деле сравнимо с ним кажется ну и также хотелось бы уточнить что radisson однопоточный вот теперь о примерах пример 1 у нас как-то на проекте возникла задача просто показывать некую карточку быстрого просмотра нашего товара то есть на странице есть миниатюрки наших товар чиков и при клике мы должны показать детальную детальное описание нашего товара и задача стояла таким образом чтобы снизить нагрузку максимально в бэг-энд то есть меньше обращаться к базе и так далее ну мы решили таким способом то есть когда прилетает у нас а як запрос на наш frontend рентген x-wing гиннеса у нас стоит модуль который умеет работать с memcache там то есть мы сначала запрашиваем данный memcache по ключу если данные есть а там хранится джейсон у нас по продуктам для продуктов то мы сразу же возвращаем и тот же сон клиенту это работает очень быстро если данных нет наш запрос про фиксируется на php и там у нас две ситуации у нас карточка товара может лежать в одессе также в виде джейсона тогда мы берем из редиса сохраняем в memcache и отдаем дальше клиенту если у нас нет ни там ни там ни вредители memcache мы запрашиваем нашу карточку товара из мой стиль сохраняемые вреден дублируем эти данные в memcache и так же возвращаем и преследующих запросов наши карточки товаров отдаются уже напрямую из мем каждым вот здесь все просто следующим примером более сложным где используется большинством типов данных редис это параметрический поиск у нас в каталоге есть соответственно рубрике в каждой рубрике есть свой набор фильтров каждой группе фильтров ну то есть стандартные стандартная панель фильтров в каждой группе фильтров есть свои варианты фильтров и соответственно при выборе конкретных вариантов мы должны пользователь показать список товаров удовлетворяющий данным фильтром мы решили раньше это было все сделано запросами в москве аль там были сложные выборки анализ всевозможных свойств какие есть фильтры в данной рубрике и так далее это все на самом деле работала очень медленно мы решили полностью поменять модель хранения данных и решили использовать редис при этом для каждого варианта фильтров в рубрике мы решили хранить и диски товаров удовлетворяющие каждому варианту соответственно когда пользователь соответственно например в категории телефоны у которой одышка 100 у нас есть две группы фильтров производители и цвет допустим допустим у нас среди си для самсунга есть вот 4 товара 201 223 204 а для филипса 301 302 303 ну ключ и ключ соответственно содержит одежку рубрике фильтр и вариант фильтра все теперь если пользователь выбирает в панели фильтров samsung мы запрашиваем в редис все входные данные у нас есть мы получаем ледышки товаров отдаем и в компонент фильтров и наш компонент ой компонент списка товаров и наш компонент и отображает 4 товара теперь если пользователь выбирает еще производителя philips мы делаем два запроса фрёйдис берем объединение этих множеств и соответственно показываем всем элементов в нашем каталоге далее если пользователь выбирает вариант фильтра из другой группы фильтров мы достаем вот к примеру цвет красный то есть мы хотим посмотреть все samsung и philips и красного цвета мы берем множество объединения первых двух вариантов объединяем не объединяем пересекаем соответственно с красными телефонами и получаем во 2 товара 202 303 все особенности данной реализации она гораздо быстрее чем работа с моей сквере но есть одно но необходимо при каждых изменениях наших сущностей то есть когда меняется свойства товара когда товар переходит из рубрики в рубрику когда товара меняется производитель когда товар активируется деактивируются когда создаются фильтры меняются фильтр удаляются фильтр мы должны эти множества все пересчитывать то есть это основная как бы работа которые предстоит нам делать и у нас это реализовано через очереди то есть мы наши множество пересчитываем используя брокер сообщений рыбе темпе о котором речь пойдет дальше очереди говоря об очередях я буду говорить в основном о кролике наше него снова только кролики вот что такое забитым кого-то платформа реализующая в систему обмена сообщения посредством протокола м куб и тут маленькая ошибочка м киевская перепутаны ничего страшного особенности данного сервиса это надежность гибкая система маршрутизации сообщений поддержка кластеризации поддержка различных плагинов которые позволяют нам смотреть состояние наших очередей смотри сколько в них сообщений какие концу мир их обрабатывают также можно писать кастомные плагины чтобы поменять стандартное поведение нашего брокера написан рыбе темпе умной эрланге и клиенты для работы с кроликом есть для большинства языков для java руби питон тут нет php то есть также на сайте кролика есть отличный tutorial хорошо задокументирован и возможности 6 туториалов там для каждого языка есть даже примеры все доступным языком описано вот какие же есть основные понятия при работе с кроликом основные термины я буду рассказывать о том какие есть типы типа обменников кролики как происходит маршрутизации будут и буду показывать в диаграммы как происходит как происходит workflow сообщения от продюсера консьюмер у продюсеров и будем обозначать вот таким мальчиком буковка п ну продюсер эта программа которая посылает наше сообщение также основным понятиям в рыбе темпе это exechange это обменники и все наши сообщения попадают напрямую в очередь они все они все проходят через обменник и уже обменник лишается какую очередь мы должны послать той или иной сообщение ну понятно что вы есть очереди со сами очередью в которых хранятся сообщения и соответственно есть консьюмер и программы которые эти очереди читают и каким-то образом обрабатывать ну простейшего рф о то есть продюсер посылает сообщение в в обменник обменник решает в какую очередь посредством бензин ключа в какую очередь послать сообщение и консьюмер уже читает конкретную очередь при этом получив сообщение из очереди консьюмер может подтверждать что да я это сообщение получил я его обработал все сообщение можно из очереди выбирать то есть есть механизм подтверждения того что сообщение обработана в кролики то есть если грубо говоря нас консьюмер взял к это сообщение внезапно упал ту сообщение останется в очереди если мы не подтвердим о том что мы его обработали но на самом деле можно настроить чтение изучили таким образом чтобы любое сообщение взятая концу мира всегда забиралась то есть как бы авто подтверждение просто выставляем в true и и подтверждать ничего не надо если это не важно так как у какие же у нас бывают обменники excel-g вот эти вот синенький то есть первый тип excel-g это direct x ниже и сучек в следующем обменник может быть за бензин с очередью различными правилами вот например здесь верхняя очередь за бензина с их семьям посредством бензин ключа р нижняя очередь за бенди нас с обменником по через ключ варнинг соответственно продюсер посылая сообщение в обменник передает роутинг ключ сообщение и вот например вот видно красненькое сообщение сейчас выйдет имеет ключ роутинга р.р. а нос если она совпадает с бензин ключом то она попадает верхнюю очередь если сообщение имеет родинку sharing то есть строгое соответствие ключа ru ключа ротен ключа сообщения с бенин ключом конкретная очереди то есть о просто мы можем разные сообщения отдавать в разные консьюмер и следующий тип обменников это фанат здесь смысл в том что наша очередь bendita с обменником не важно каким ключом просто бендис а и все сообщения которые попадают в клинч с типом фанат попадает во все очереди которые заведены на этот обменник соответственно вот послав одно сообщение если необходимо разделить некий посланнику информацию нескольким сервисом вот мы от одну и ту же информацию мы можем использовать обменники типом фан-арт и наше сообщение попадает в абакан семеро здесь тоже все просто следующий тип обменников это обменники с типом топик обменник из типом топик могут биться с очередями посредством ключей которые могут содержать такие спецсимволы как звездочка и решетка то есть что это значит звездочка в бензин ключе может заменяться ровно на одно слово а решетка может заменяться на ноль и более слов соответственно ну вот в данном примере очередь q1 за бензина посредством ключа звездочка уровень звездочка вторая очередь за бинди на двумя ключами то есть она будет принимать сообщение которое начинается слизи и астер остальное неважно там может быть сколько угодно много других слов и слова разделяются точкой и 2 2 бинтик ключи это состоящий из трех слов первые два неважно какие главное что здесь в конце стоит кролик вот конкретно вот вот эти сообщения вот quik-а раньше пробит если у нас продюсер послал сообщение с таким родин ключом она попадает в дочери потому что она содержит состоит из трех слов вторым слоем содержит orange оранжевый и также попадает во вторую чуть потому что она содержится на конце слова ребят кролик соответственно корочку попадает в первую очередь desired fox попадает во вторую очередь потому что начинается слизи и там уже остальное неважно и не bendita с первой очереди собственно это было обменник с типом топик рыбе темпу на практике ну конкретно кролик мы используем на самом деле много где ну в том числе мы используем его из того в том примере для пересчета фильтр для пересчета данных в нашем рисе то есть у нас есть много процессов продюсеров которые мог менять какие-то данные мы посылаем эти команды на изменения в нашей очереди там у нас не две очереди там их больше и консьюмер уже обрабатывают конкретные сообщения например у товара товар ади активировался мы должны удалить то есть мы посылаем сообщение виде джейсона в наша очередь консьюмер вот читает конектится к кризису там у нас мастерская фабрикация мы пишем садиста мастер мы парсим этот джейсон видим что он необходимо удалить такой-то товар из таких то многих с такой-то рубрике из таких то множеств удаляем его и все и наш frontend уже читает счастлив редиса и показывает уже обновленные данные то есть вот консьюмер и пишут мастер читаем и счастливо ну собственно это все что я хотел рассказать про вот эти вот простые инструменты кэширования и очереди если у вас есть вопросы и волком мне тут харченко александр проект четыре точки вопрос такой не могли бы поподробнее рассказать как у вас реализовано протух они и кэша то есть как вы его вы считаете какие значения выставляйте поподробнее в каком конкретно случай в каком примере ну например пример когда вы показываете карточку iphone 5s и допустим изменилась цена как чин как быстро у вас обновиться кэш ну на самом деле там все просто мы не абы при обновлении цены мы не обновляем кэш и нам на самом деле по условиям задачи не особо важным и каширу им только на часы и все через час эти данные потухают то есть до цена обновится через час тогда можно более актуальной а допустим у вас есть товар который допустим продается по акционной цене очевидно он быстро уйдет а тогда как часто у вас обновляется остаток нет оставьте мне пишет в случае с карточка товара мы на самом деле можно просто дописать некую логику которая при изменении цены товара будет брать из memcache соответственно карточку товара зная айди товара и обновлять просто в нем цену ну вот как раз вот это поподробнее несколько про логике обновления кашей в разных ситуациях но хорошо у нас есть если нам необходимо обновить данные в кэше у нас есть обработчики на изменение товаров если товаром меняет цену мы просто в этом обработчике коннектимся х memcache ту достаем даже не достаем данные просто формируем новую карточку товара и сохраняя в нем к что я моментально цена будет обновлено для клиентов я ответил на ваш вопрос спасибо да спасибо добрый день у меня такой вопрос есть какие там встроенные средства понимания частоты использования данных каши чтоб понять какие редко используются и в случае там переполнения их очищать или это все вручную надо делать в конкретно вредить ну в рейде семён каши в memcached для носом длина ну только вот выставление то там ту лего но просто не time тут нужен а именно какие редко используются когда у нас память допустим забьется в хлам и очищать самые редко используемые вещи но только вручную получается нет ничего встроена ну я на самом деле знаю спасибо извините на самом деле memcache так и работает он вычищает по умолчанию те которые ну я об этом говорил когда используют ли стрельцам для юсб и очищает сама автоматически это а так чтобы найти такие ключи ну так такого инструмента я не знаю чтобы именно сказать что вот вот это вот эти вот ключи редко используются для чеслав вопрос из мобильного приложения какое количество максимальное количество очередей вы использовали и для чего в одном проекте но у нас порядка 20 очередей в кролики то есть там есть очередь которой пересчитывают наши данные вреден потом есть очередь которая следит затем какие смски каким клиентам отослать есть очередь по по статусной схеме там грубо говоря заказов то есть жизненный цикл заказа тоже через очереди проходит он происходит смена статусов ну порядка 20 очереди не так много наши консьюмер успевает обрабатывать все сообщения там больше упираемся в запросы как мой спилю то есть кролик в кролики мы можем очень быстро получать сообщение вырабатывает но как бы отправиться в то насколько быстро мы можем их обрабатывать ну мы успеваем их обрабатывать можно несколько контейнеров если вас очередь большая несколько контейнеров натравите он разберет уже эту очередь быстрее этом в два в три раза добрый день до как вас устроена pagination вот в одессе когда у вас фильтр на самом деле наш компонент фильтров он не занимается pagination наш pagination занимается другой компонент которому мы отдаем результирующий иди товаров то есть мы думаю в компонента компонент уже поедишь com делают или простые выборки из нашего хранилища и делают pagination то есть в ряде сим этого этого мы не делаем с помощью редиса мы можем объединять объединять множество пересекать то есть там есть с ю него с интер то есть вот такие вот операции чтобы не делать это на уровне приложения редис отдел сделает быстрее добрый день до у вас на диаграмме было использование используется и memcache и радость да да да я понимаю что редис используется потому что больше возможностей множеством и типом данных но почему в этом варианте еще и им кажется используется что это вам дало какие разницы memcache там использоваться потому что у нас уже есть в яндексе модуль который с ним конечно умеет работать а regis на самом деле есть бы кэнди потому что у нас еще есть другие процессы которые могут складывать карточку товара в редис то есть грубо говоря клиент заходит на карточку товара обычного невпопад щеки вот в обычную и там уже кэшируются карточка товара товаров редис и в следующий раз если пользователь придет с другой странице но уже например откроет попапы у нас нет данных мем кишки и наш запрос долетел до php там и там не подключает тяжелый фреймворк какой там из напрямую сначала обращаемся в редис если данное время съезд то тоже очень быстро отдаем и соответственно если данных фреди снят мы подключаем уже тяжелый фреймворк берём данные из моей съели складываем их также в ряде садить memcache добрый день спасибо за доклад а скажите вы как-нибудь мониторить и работу очередей ну да этим занимается system administrators плюс у нас есть поста поставлен плагин который отображает состояние очередей ну и плюс также с помощью мунина системами администратора настраивают какие-то критические значения где очередь на превышает какие-то критические значения то есть это мунин в основном и плагин для кролика здравствуйте зовут алексей мне такой вопрос интересный а вот у memcache редис ребятенка у них есть ростова и лисовский интерфейса для клиентов приставы из о пуске нет не встречал такого роста здравствуйте у меня вопрос про memcache кто-то очень с чем я столкнулся бывает ситуация когда вы обрабатываете слабо связаны как связаны данный например аккаунт и к нему еще привязана несколько кощей иногда используя тегирование ключей кэша я хотел бы узнать как вы решали эту проблему сколько знаю memcache и нет это опции из коробки и вообще решали вылей в ее мне такую задачу мы не решали он думаю тут надо уже на уровне вашего приложения как-то это namespace может включить водить такую задачу не решали поддержки атакой не видел здравствуйте такой вопрос если бы ты муку система событию то что не чтобы не гонять каждый раз обработчик очередей допустим по кровлю а чтобы кролик дел как о каком-то событии top самый лучший появилась сообщению он делает сам конкретно скрипт такая возможность rest да и то на уровне европе raw которые вот клей клиенты которые написаны на языках там то есть там до в консьюмер может придать callback если вы про это и как когда приходит сообщение то в колбе киана там автоматом выполняется если вы про это вопрос продолжения одного из предыдущих а вот с отказоустойчивостью ребята как обстоят дела на практике насколько часто ваши администраторы насколько интенсивно вынуждены за ним следить и как ваших приложениях вообще политика отказа сервиса чик 2 реализовано которая в отличии там от системных очередей которых можно записать сообщение все равно может отвалиться этом произойдет ну там детали администрирования честно говоря я точно вам не расскажу ну ваше сообщение никуда не пропадает если там вдруг он отказал и ну плюс есть кластеризация сможешь которую затем надменны могут построить решение данных проблем добрый день спасибо за доклад на небольшой вопросик по орбитам посмотрите вы говорили о том что в орбите реализован механизм гарантированной доставки то есть отправка окно legend of между от контейнера ребята вопрос а существует ли механизм уведомление продюсер а потом что сообщение доставлен до конца мира ну ну на самом деле такого не делали есть уведомление в кролик что дамы этот сообщение получили мы его обработали все сообщение обработано то есть правильно ли я понимаю что реализован механизм именно ну можно реализовать его каким то ну какими то другими своими способами уже на уровне вашего приложения на на уровне кролика я пальто тоже непросто реализовать уже на уровне самых системы взаимодействие так далее все по на спасибо здравствуйте спасибо за так вот вопрос такой вот вы говорите что радист по всем параметрам лучше чем memcache вопрос а зачем torment кэш использовать нет я не гуру что редис по всем параметрам лучше просто по ткань под каждую свою задачу можно использовать либо реддит либо memcache memcache он он быстрее на самом деле чем редис но редис при этом поддерживают в нем больше возможностей под конкретную задачу что если что-то просто надо кэшировать и эти данные не так важны если даже они пропадут а если вы используете мы мкэш ну ничего страшного можно использовать это очень надежный высокопроизводительный сервер а на сколько в среднем быстрее получается memcache 20 процентов 50 ну я смотрел в различные бенчмарки в везде разные данные кто-то там в несколько потоков делает записи чтения кто-то показывает что там редис местами на десять процентов чуть лучше чем memcache или там в обратной стороны мкэш маленькая в некоторых операциях быстрее чем редис ну то есть сам я бы любишь марков не проводил и как бы в наших приложениях это не самое узкое место как быстро нам отвечает редис или memcache что у нас другие проблемы но такие бенчмарки есть и на самом деле данные разнятся ну скорости сопоставимы"
}
{
  "video_id": "-5g_ppWqaRQ",
  "channel": "HighLoadChannel",
  "title": "Разработка портируемой инфраструктуры New Relic / Михаил Панченко (New Relic)",
  "views": 1040,
  "duration": 3168,
  "published": "2018-08-16T04:08:34-07:00",
  "text": "что 5 часов начинаем наш парад здравствуйте меня зовут михаил панченко первым делом предупреждаю я изначально объем мурманчане но лет почти 20 разговаривать основную работу особенно на английском по-русски общаются за нам семьей с родителями с братом поэтому по-русски очень подготовлен обсуждать там по году мировые события спорт собаку больше столах с работой иногда бывают затруднения поэтому если я люблю торможу вы меня извините может даже придётся подсказать слово потому что конечно а практики не хватает но я попытался подготовиться как можно лучше так что надеюсь на лучшее и так я прием к вам из отдела переводится примерно как скорость разработки в компании new relic попал я в эту должность после ну на всю карьеру как говорится борьбы с сантехническим долгом вот и свободное время прожил основном просто выращивая бороды вычислите довольно сокращенном состоянии ну хватит об этом о чем мы вообще говорим да что такое new relic зачем вы портировать вообще есть и такое слово но вроде как и есть и куда new relic это компания которая делает предложение по мониторингу я спросил говорят говорим мониторинг ну значит так и есть производительности от инфраструктуры до браузера и до мобильного приложения мы даем вам информацию о а производительность производительности ваших сервисов и ваших приложений начиная от того как загружено системы на которых это все бежит и кончая тем как она себя ведет уже перед сами самым самим пользователем на браузере или я на телефоне или на планшете вот то есть у нас целая куча продуктов которые зависит от того что нужно покажет вам информацию об этой части ваши инфраструктуры я как и сказал можно и здесь если установить все кто вы увидите ну уровень деталей от и да вот по цифрам компания примерно такая у нас дела разработки читаем р минус 400 человек это они разбиты на где-то 40 команд и все эти команды поддерживают чуть продуктов и кое-какие общие ко мне например компоненты по которые посылает уведомление и 3g и так далее в общем счете у нас 10 как считать от 400 до 500 сервисов то есть обратите внимание что сервисов больше чем людей вот до недавнего времени ну скажем до до сегодняшнего дня у нас всегда вот только 13 вами регион регион я используйтесь также кого использует amazon да то есть у нас когда подпитии подписывайтесь подписывайтесь на new relic и начинаете посылать данные своих приложениях это всё идёт в один логический одну логическую в базу данных скажем так то есть на самом деле она не одна но как бы есть одна инстанция нашего продукта она распределена по трем дата-центром который довольно ну который все в одном географическом регионе скажем так и соединена с amazon am чтобы иметь возможность там тоже что-то запустить и компании почти десять лет то есть марте будет десятилетие мы вернемся почему я написала про про возраст компании через к слайдов вот вся наша братья это мы недавно собирались на природу а еще удается собрать всех я думаю это скоро кончится потому что не можем уже найти куда все вместе так запекаться каждый год чем приходится находить новые места все дальше и дальше в деревню ну так вот в чем задача чего квартиру им до нашего инстанцию приложение 2018 году мы решили запустить второй регион в европе тут извините так как компания торгуется на на на бирже существует ограничение о том что я могу я не могу говорить и я не были с этические вопросы что я могу не могу говорить и мне сказали в принципе ничего из это говорить не можешь это включает себя в основном вещи как числа и другие компании с которыми мы работаем по этому будет нагиб некоторых пропуске но они по моему мнению по крайне мере не материально к истории поэтому я надеюсь вы простите некоторые умолчанию вот делаем это потому что джипе осложняет нам жизнь я не знаю знакомы ли вы с этим клипе а это аббревиатура радар protection это новый европейский закон который диктует очень много сложные детали о том что можно и нельзя в каких случаях делать информацией о жителях европейского сообщества так как мы сервис клауд итак я говорю у нас всего один регион находится он конечно штатах а то многие особенно самые крупные клиенты которых мы больше всего хотим очень сомневается стоит ли это делать до стоит посылать свои я данные через океан вот поэтому решили что наверное следует исследовать этот вариант и создать 2 ребенка вы могли сказать нашим клиентам что данные о ваших пользователях не будут пока по покидать европейское сообщество вот эта деталь этого законодательства очень сложная то есть можно я час покажу что мы примерно планируем делать и можно часто city про спорить удовлетворяет или закатать законодательства или нет я уже просидел даже больше часа часов наверное 20 с юристами с нашими со всеми остальными вроде как пришли к выводу что примерно такой расклад пойдет то есть самое главное вот здесь вести данные о пользователях наших пользователей должны оставаться в европе данные о наших самих пользователях можно держать в одном месте и просто делаете окей шин вот поэтому можем оставить вещи как а ну а сбор там платежей и так далее в одном месте и потому что делать это в двух местах просто с точки зрения вообще корпоративной очень сложно вот ну значит вот наш план примерно да конечно состав в это время не удваивается таз остается примерно те же 300 400 человек может добавить там еще 10 20 но второй состав на содержание европы конечно не выделяется также нужно сделать так чтобы deployment поддержка и так далее были объединены вот иначе мы просто просто утонем и там вот и подозреваем 103 регион тоже недалеко то есть опять никто ничего не говорил никто ничего не обещал и никому не не делал ни объявлений но если мы думаем продали по таким параметрам то наверняка 3 как только мы просто поставим поставим успешно 2 регион трите тоже будет не за горами в сторону я хочу сказать никогда не жалуйтесь боссу что вам скучно вы же я пожаловался ну вот он не сделать развесил ну вот возвращаемся я обратил внимание что там компании 90 лет в принципе это не так долго но в компьютерные годах это очень долго потому что когда была была разработана первая версия приложения она была написана на на на очень древним rails то есть ну первый продукт на что же фокусироваться на самих раз и и это до сих пор осталась в днк компании и поэтому по по мере роста компании нахуй и до сих пор находится всякие следы изначально заботкин только как у всех да ничего нового но за 9 лет мы также выросли на огромное количество точно час полторы тысяч человек в компании в общем счете и за 10 лет это довольно это не google но это довольно быстрый рост вот из-за вот эти десять лет мы органики органически вырастили эту инструкцию интернете инфраструктуру да сначала doblo 2 серия там базы данных и и в потом она удвоилось потом утроилось потом еще 10 потом еще 100 серверов но его час мы держались у нас сейчас стоит 1000 да вот и с нуля надстраивается почти 106 раз в год да то есть 1 год от нас требует уже мы должны доказать что мы можем восстановить наш бизнес в случае чп то есть постоянного возведения нету просто привычки такой не выработаем там всегда есть этот array один регион и люди так этому привыкли это так впиталось в наше в наше мышление в дизайна же систем что ну просто папа мере экономии времени дали стало сложнее и сложнее идет например местные какие-то окружения да и поэтому мы стали все больше и больше рассчитывай просто где-то что-то уже есть да вот что-то в дата-центре что-то вы перебьешь эта деталь не супер важная но факт существует что у нас часть компания рассчитывает на команду которая работает дата-центром которая заказывает там железо и устраиваете настройки вот а часть компаний компании уже перешла на более такой считать современный до подход что об инфраструктуре намного меньше мы заказываем сервера грамм и коране нам нужны и так далее вот инфраструктуру смешано еще в другом смысле да за счет того что уже долго это дело продолжается до у нас есть есть две версии цента сашка в принципе был приятно удивлен да потому что был могло быть намного хуже когда компании пришлось 6 на 7 перешла довольно практически на 100 процентов syntha-6 остался только там где ну просто не пошло да где там база данных начала падать начались паники и так далее вот недавно начали пытаться использовать курс о чем мы поговорим еще побольше деталях то есть как минимум три разных до 3 разных операционных систем вот большинство этих машин санта вас настроены по пятам которые при котором ничего не имею но которые в каждой компании которой я увидел превращается волосатую гидру на каждый раз и чем больше времени проходит тем меньше люди понимают общем чё там происходит чем чаще кто-то что-то меняет здесь и ломает что-то вот там а и тем труднее ставится находить людей которые вообще хотят трогать я хоть одним пальцем энцефалита же до более новая но издалека мне кажется готова к такой же себе через еще через девять с половиной лет и капистрано сих пор остался от наших корней в rails да то есть есть команды которые они ни тем ни другим вообще не пользуется которым дают пустую машину они запускают капистрано через два часа там что-то получается вот и после этого машина стоит и никто не трогает все нормально сейчас капистрано запускается когда нужно запустить новую версию и занимает меньше времени на то есть такой более ручной процесс вот ну в общем дипломат фигурой конфигурации зависят команды и года разработки то есть мы несколько раз внедряли новые технологии каждый раз не заканчивали переход да то есть вещи написанное 2015 году как правило в контейнерах многие из них на я бегут на на марафоне то есть это но ведь похожи на к вернете сдали которая рассчитана на запуска а также долгожитель ных сервисов вот но также есть и сервисы в кафе strap от капистрано который так и бегут по до системы д.и. а контейнер о контейнерах в этих команд и вообще никто не думает ну и даже среди контейнер до можем есть много разных разновидность пардон разных подходов да значит а и можно просто запустить до докеры джек верни токи раны сказать им restart always и докер будет в этом случае выступать как менеджер сервиса да можно запить засунуть команды докер подсистем где то есть чуть чуть к говорить о улучшить надежность что если машина перезапустится он опять будет там мы разработали систему называется санчин кентурий я его ласку называю собой это полшага между просто вручную запускать docker и что-то типа марафона можете посмотреть это open source и вы можете найти его на на гитхабе это система которая для каждого сервера описывается какие контейнеры на нем должны быть то есть можно написать на этом на сервере таком-то должно быть там 5 контейнер такого типа 7 кадров такого расписывайте все сервера запускайте команду он прямиком разговаривает с дагерами на этих серверах и запускать то что надо работало нормально но чем больше масштаб тем тем ну становится ну не не поддержим и как говорится потому что довольно ручной процесс ну и конечно сама нового нас на на системе марафон это каркас сегодня лучу новое слово для месяц для запуска вот именно дал гаже долгожитель ных серверу а сервисов вот и это стало очень важным да . ты говоришь людям что нужно перевести ваше приложение под контейнеры и вожу сильно напугать потому что они могут подумать что это значит за перри стича на марафон а если у них есть какое-то состояние в стене например обслуживают базу данных запускать на bar phone очень трудно но мы еще к этому вернемся к диапазону до разница запуска контейнеров но правило такое чем старше и важнее сервис тем сложнее его запускать да то есть самой наши такие коренные сервисы где которые используются самым главным таким продуктом который зарабатывает больше всего денег который у нас дольше все дольше всего назад были написаны вот те самые сервисы имеют самые самые самые сложные механизмы для запуска и ну ну и да еще одно одна важная вещь что мы выработали очень здорово 8 точки зрения зависимости от железа потому что вы так привыкли что вот мы запускаем запускаем все и растем и растем растем в дата-центре что когда людей спрашивают а вот как вот можно перейти там на накладно же перетащить частью да просто ну и так так пугает уже это такое такое изменение вы вообще в мышлении в дизайне что это тратилось ну это просто ужас как пристрастия вот и у нас есть наша собственная внутри написанная база данных когда он говорят не пишите свою базу данных верьте хотя у нас в принципе вроде как получилось система работает и и люди пользуются и плагина были чьи деньги за нее все равно решаем одни и те же проблемы до которые уже решены но вот именно эта система имеет довольно такую тяжелую зависимость именно железо вот зависит от железо очень отличное название для рок-группы если кто-то ищет ну так вот значит за n месяцев опять нужно пропустить четкой четкую цифру нужно возвести 2 регион всех предложений сделать это вклад или как можно ближе клад потому что бизнес все таки хочешь и мы куда-то в этом направлении двигались вот и ну и до нанимать целый новый состав в европе чтобы основать там то ли центр тоже считается большим риском потому что ну это как бы что-то новое да ладно это принципе рассчитан даже можно попробовать не получилось ушли но все должно тем не менее работать да и еще было бы неплохо если бы компания тоже продолжить работать там делать новые приложения делать новые какие то вообще возможности получать новых клиентов нельзя тормозить просто прогресс да ну чем больше об этом думать и можем не напоминал вот это знакомая невозможно и как говорится троицу невозможно троицу а еще очень понравилось а когда искала ту картинку многие версии вместо утопии помочь на не в россии но хотя это принципе не часто потому что я тоже могу сказать не в америке не в калифорнии это ну не знаю слышно вами был ну мы решили что вы топленом конечно не попасть но мы можем хоть как-то приблизиться да то есть времени нам фриц педали не то чтобы супер много но достаточно что можно было подумать придумывают а подход и не просто так лезть как можно быстрее дешево быстрое и криво вот и помимо по ходу походу вот размышления о том как вообще это будем делать то есть просто можно сказать да ну чё у вас есть software поставьте на вы сервера запустить новый софт war о чем вообще разговор до но конечно так можно сделать но стала быстро ясно что мы просто не выдержим этого потому что столько много разных разновидностей и разных подходах к запуску к менеджменту к вообще к поддержке этого всех этих разных сервисов что команды просто бы были растянуты до до разрыва пытаясь поддержать два региона в этом состоянии и так три характеристики которые мы вывели которую мы считаем помогут нам вообще выжить это сюда значит первое воспроизводимость характеристика результатов испытаний определяемая взаимное ближе результатов повторных испытаний ну типа научное слово что мы имеем в этом что мы имеем в виду когда мы разговариваем о компьютеры да то есть например если у вас и a software особенно да если у вас есть софтвер двора запускаем запускаем разных местах запускаем там с разными параметрами и и она продолжает работать да и и можно предсказать с ним будет и самое главное осмотрительнее что я включаю в это это определение что другой человек может взять ваш софт прочитать там измерю что угодно и запустить его и не не вдаваться вообще не читать весь весь код чтобы успешно его запустить вот ну примерно до если есть инструкция можно построить если есть чемодан полный пружин то общий нельзя с этим делать еще ним никак не могу вспомнить тоже этом не сказал но фраза очень полезная то есть переводится как можно можно хорошего мне делать только то что делается каждый день вещи которые делаются раз в год сто процентов гарантия не будут работать и так оно и получается да то есть мы это делаем каждый год каким-то образом добиваемся успехов но цена тоже то есть вообще количество времени которое уходит на это и количество человеческого вот усилия которое уходит на это ниже будет на эту ежегодную отстройку до дтп огромная 2 характеристика согласованность что внутренняя соответствие убеждений действий поведение индивида индивидуальном случае это инженерный отдел да и это давно известно что это понятие из из из компьютер науки до что когда есть от с вами конце ставили 6 до согласованные интерфейсы то намного проще работать с ними вот и инфраструктуре то же самое правило но если согласованности нету если особенно не тула ну так скажем эстетики у организации тогда люди спрашивают а можно сделать вот так и нету такого строгого ответа что нет так нельзя делать потому что то люди будут делать всё больше и больше кита разных вещей и расползаться в разные стороны потому что ну чтобы отказать нужно нужно иметь какую-то хорошую причину да если причина чисто теоретическая и нехорошо выработанная то не просто буду с вами спорить до смерти потом в конце концов люди сдаются и получается что у вас там четыре базы данных 8 разных методов запуска приложений и согласованности как таковой нету но в такой ситуации мы себя и нашли когда все согласовано эту любимая метафора до докера все поставили на кораблик все одного размера по спецификации все вместе получается когда несогласованно ну что-то висит но попробуйте до передвинуть куда-то и повесить во втором месте это будет невозможно третьи рога риска эта гибкость и в дикость у нас например при стратег железу да то есть когда когда спрашивают как запустить ваше приложение не на железе я люди говорят не как это очень опасно да потому что если смотреть на на более длинная длинный горизон времени до если чем чем меньше гибкость и тем больше обратно этот хрупкость вот то есть предпочтительно быть гибким чем застрять на рейсах ну вот и все три вещи у нас принципе имеются в изобилии на только локально то есть и никогда все вместе то есть бывает команды которые у которых приложение гибкие но они очень сильно отличаются от приложение других команд потом как и запускать бывают команды которые договорились и использует написаны друг другом software я и всякие скрипты и так далее и то есть 10 квартала как это какие-то локальные корицы племена которую пользуются одним и тем же вещами них есть согласованность но глобально этого нету вот и если бы они все три были тогда можно было попасть чуть чисто в центр этой диаграммы все сделать быстро красиво и поехать дальше ну так как этого нету но мы сделаем сейчас мы переводим 3 конкретных вопросов которые которые мы рассматривали вот при при разработке этого 2 региона вот и как эти вот три характеристики влияли на вообще наше решение что мы делали чтобы либо повысить и где-то либо просто всех приобрести да и и ну и как мы решили эти проблемы вот в первый вопрос вообще где строить второй регион да то есть мы пытаемся это сделать не посылая людей вообще в европу по крайне мере ненадолго да потому что как и сказал выстраивать новые офис там новую команду и вешать туда дата-центр это не рентабельно для нас вот идеально для моей команды которая задачи чисто построить это регион был бы засунь это всё вырубилось но как я сказать как я сказал раньше у нас как бы многие из наших таких ключевых систем просто не будут там работать под любой серьезной нагрузкой а поэтому это от пола практически моментально то есть каким то образом нужно было раздобыть производилась похожую на железо да то есть это это от пола моментально и рисковать то есть пытаться сказать она может быть для европейского региона команда которая ответственна за данных может они поменяют каким-то образом да и тогда она будет работать это очень большое такое как как говорят на неизвестное неизвестная то есть может быть они это успеть сделать а может быть нет потому что принципе то есть просто нужно полтона перед период заново посмотрите на дизайн всей системой а система очень важно то есть не хватает гибкости в этом вот именно четко четки недостаток гибкости свой то ты сальто тоже отпадает по причинам уже описанным остаются то что мы называем мсп мне подскажет а хостеры или а с select и гнуть например select all то есть есть компании у которых можно заказать как бы в аренду сервера которые они сами поставят на полку вы в это время сдаете например контроль над сетью то есть они гарантируют он только что будет то определенного определенного размера как говорится труба вот и у вас него контроля над а при этом такие свечи стоят на наверху до что чему мы очень привыкли да потому что на своей полке своих на своей площади но хотя вы можно получить свой собственный металл него на нем то железо право не волноваться а шумных соседей так называемых которые могут исполнить и и испортить производительность вот и ну и конечно же опять не могу назвать по имени но именно такого вот вендора как создать так и нашли да вот что у них есть они удовлетворяют наши нужды по производительности то есть них сеть общая но не делать достаточно высокие гарантии и и то есть наши до сетевые инженеры проверили все нормально они поставляют железо то есть несмотря на то что это заказывается все через и pr в конце концов просто получаешь доступ к своей к своему серверу вот и пьет принципе неплохой но моменты терская же ты все-таки не клауд поэтому посылаешь запрос ноября и до жопы дел и т.п. теперь создает ticket человек получает ticket берет сервер начинает вставляет него диски потом идет на идет полки вставляю туда включает все провода приходят обратно приходит ответ ну здесь ответ уже приходит сразу но потом меняется просто ряд в базе данных что сервер готов пожалуйста вот пользуйтесь вещи как тара форм о котором мы поговорим через несколько слайдов отсутствии отсутствует то есть нельзя там просто написать им я хочу 10 серверов до валяй такой не работает вот воспроизводимости как таковой нету да то есть это очень сложный то есть там структура такая огромная которая четко явно списанная прямо из их бухгалтерии да то есть пытаться появится что туда пихать очень трудно также она императивная то есть не декларативно что это значит я посылаю случайно два запроса я плачу 2 серия изучая посылают тысячу запросов я плачу тысячу серверов ну это наверное не остановится что все-таки человек увидит инженер не так сразу еще заказывать ну вот и я явно сделано то есть смотришь на ebay смотришь на их вот на на контроль на панель контроля и видишь что это вот вот она 1 уже тысяч тоже так что так вот согласовывать тоже отпадает потому что она не так похожи ни на наш дата-центра не на самой добьюсь то есть добавлять к это 3 вообще третий вариант с которым тоже нужно как-то разбираться как работать все делать решили что так как со вторым описать умеем и как правило довольно неплохо жадно писать еще побольше почему я сначала противился но потом согласился уже в принципе правильное решение мы написали кучу своих провайдеров дотеров он ну теперь давайте поговорим о том что это такое я вот вам добавил ссылку слайды я слайды потом поставлена на интернет select алекс у него очень хороший гостевой по блок пост о том что такое него я вам кратко расскажу что это утилита и язык для моделирования структуры что это значит но вот есть такое понятие до что вместо того чтобы сидеть на на наколку на консоли дай нажимать дайте мне новый сервер я хочу там столько то памяти столько диска пишется как так код для меня специально для этого разработана так называемый domain circle which то есть пишет я хочу там рвсн sense называется web размер можно вставить переменная для эмо и региона и так далее той сегодня очень хорошо подходит под всякую автоматизацию вот а еще лучше сделать например можно заказать вы добьетесь или знаете такое орский групп эта группа сервисе серверов да где можно либо и сказать расширяться и сужаться по мере использования либо просто написать количество а и что это сделать 200 один из них пропадает что в амазонии часто случается она на о она автоматически будет заменено вот когда запускаете этот вот таро форм он пока он показывает вам как div то есть что он добавит что он берет что он изменит вот поближе я сделал чтобы можно увидеть это примеры здесь же ложь и это тоже другой хостер то есть когда запускаете танкера for platja d'aro фонд line он говорит вот вот такие вот сервера я добавлю так как синтаксис декларативный это это обратная того что я говорил о тебя каждый раз к запускаешь запрос вы пьете сделать новые сервера тут расписывается сколько серверов я хочу 10 окей каждый раз как запускать их форм он смотрит 10 есть есть ничего не делаем 9 делаем 10 таким образом значительно упрощает вообще работа можно намного проще следить за что происходит с инфраструктурой также оформит полностью подключаем у info архитектура что это значит что а можно это очень-очень просто к нибудь добавлять в угла функциональность то есть а если торфом черта не делает его очень просто можно ставить это сделать просто написав немножко гол ну вот я включил примеры замена нашего провайдера то есть там очень много ну так называемой ну прям много повтора но все это как бы ну так запал как когда эта структура заполнена до описывайте просто вот ваш новый ресурс который пытаетесь определитесь нашем случае это да это да как это название нашего проекта мы засовываем всю new relic рюкзаки тащим ее в европу has the door это заказ ну сервера вот и поддаются пантеры на вот что делать чтобы создать хост да и в этой функции мы делаем тот же самый запрос выпей до как узнать есть ли такой сервер да это так пока уровень вот короче когда-то все расписывается и там есть некоторые свойства как почти у аренда то есть можно описать как как делать владеешь надо как вообще удостовериться что все правильно написано вот когда все заканчивается потом можно сделать и что простучим все просто да когда вот уже пришло время заказывать север мы сделали так называемый модуль 2 формы то просто маленькая абстракция вот здесь мы и описали да мы используем тот самый hustler ресурс который вам только что показывал потом мы используем этот модуль вот мы ссылаемся на него да и мы говорим модулю нужно шесть таких в такой зоне такого типа то есть средний сервис raid 6 дисками да все дальше мы сделали интересную вещь мы разделили вообще заказ сервера а то от вообще направлению как папа функции над имиджем когда мы заказываем сервер просто идет в в общей такой набор героев из которого люди потом могут его отдельно края кира им нужен сервер такого размера они верят мне он нужен то есть еще это будет уже написано другой команды для который просто нужен сервер таким образом с точки зрения этой команды которая вот ты просто нужен сервер да что-то него запустить а для них это становится почти как amazon потому что они не задумываются о том как заказать сервер что с ним делать они просто могут рассчитывать что какая-то другая команда занимается планировкой и смотрит сколько у нас доступна серверов и сколько нам понадобится как они растут у доставляет что они там где-то есть и поэтому когда человек заходит игорь мне нужен сервер вот такой вот контейнер фабрик это вот наш месяц класс терминации марафона он там будет и через десять минут он готов это дает нам вот именно вот эту воспроизводимость да можно направить написать кучу этого тира форма поставить как переменную регион запустить за дело от строить нашу инфраструктуру в этом регионе когда пройдет несколько месяцев и нам нужно будет ставить 3 регион мы возьмем тот же самый код поставим другую переменную для региона запустим опять и воспроизведем 3 регион звучит просто магически но действительно работает по этому поверит в этом можете мне верить смело согласованность тоже получается потому что как я только что объяснил да мы даём людям похоже очень интерфейс камаза ну то есть как и не думай о том как они заказывают amazon и как и не думай о том как не заказывают сервера у нашей внутренней группы которая называется умерла за сервис тоже отличное нас они для рук группы они так также в общаются замены и и и с этими бегать бонус все дети все это держитесь биргит и запускаем это делать исключительно через дженкинс то есть никто не заказывать и раз лаптопов никто не сидит в в консоли и нажимать на кнопки люди пишут делают паре класс гдз физика 10 raw furry класть сейчас у нас открытый ticket добавить в море квас будет автоматически проставлен план о том что пера форм хочет сделать когда люди скажут окей дженкинс пробежит еще раз и сделает это на будущее так как состояние s3 попадает в формат состоять он попадает в ac3 его туда можно скачать под память по мере того как она обновляется и делать на нем статический анализа там можно написать например и какое-то маленькое приложение там сколько у нас серверов как это растет то есть для проектирования и так далее это очень будет полезно также на немножко смешите нам же оказывается ну я немножко торможу значит вопрос 2 чисто человеческие да мы пришли и сказали так ребята делаем регион европе 300 инженера сразу вспотели значит много вариантов очень много языков платформы так далее а лишь мы поняли что если мы не будем это делать несколько раз для практики когда мы сильно будем это дело запускать он пройдет ужасно да мы решили что мы сделаем несколько практик то есть 1 месяц несколько месяцев ведущим ведущих к запуску мы мы наша группа садится и пытается запустить весь сайт с нуля до 100 процентов и те команды и ее нужно как то сделать так чтобы каждый раз это не тормозило всю компанию да и каждый вариант у нас паппи тайм сабо трали-вали всякие там капистрано добавляет хрупкость и добавляет люди которые владеют этими нестандартными методами запуска должны с нами сидеть и делать это мы не знаем как это делать и выучить нужно не хватит просто ни времени ни людей согласованности нету вот решили сделать что мы в контейнер и залезли очень рано слишком рано очень сильно избили пальцы но зато очень много научились но опять же не закончили да то есть вот все новое на контейнерах все новое в марафоне все довольны никаких проблем а старая так и бежит от по старому вот то есть решили просто толкнуть уже существующую волну вот сделать так чтобы команда которые еще не перешли на контейнеры и не на стандартизацию она переменных окружения да точно передачу конфигурация именно через переменное окружение больше никак просто закончить это дело и бонус тут решили рискнуть попробовать просто только запускать корову основы районе что был только один вариант системы си все в контейнерах почему нет если все пройдет хорошо все переводе на кур вас пойдет плохо перетяну на нас и на centos когда все в контейнер тоже легко значит это для меня просто общей а так раньше мне позволяют заделаем что пока же не огромного технического долго которые большинство компаний никогда себе такого не позволяю то есть мы уговорили руководству действительно дать нам время сделать все по-человечески и закончить миграцию это никогда я такого в жизни своей не видел за десять лет работы 2 как во шанса не будет и если мы успешно переведем компанию на на общую платформу это упростить нашу жизнь в будущем на огромное просто ну не могу описать но большие перемены требуют минимального надзора потому что очень просто напугать народ опять же эти люди сидят у них там очень важное критично и приложение руководство все время о нем спрашивает там любая любая нестабильность сразу вызывает внимание и ты вдруг я прихожу говорю так ребята все переходим завтра на контейнеры конечно это очень сильно нервирует и вызывает сопротивление вот и поэтому нужно очень очень четко выражаться я сделал эту ошибку я не осознал что когда я говорю для пиридина контейнера не думаешь надо перейти на марафон а если если приложение имеет простая достать то перейти на марафон очень трудно потом пришлось ходить они нет ребята можно просто гонять контейнер на серверах на на держит и который вы гоняете сейчас до помогает с этим страхом из не рвать только войскам команды в компании которых все туры сделали ничего сразу вот месяц начать процесс до участвуя когда мафии процесс значит инженер из одной из команд пришел буквально в первую же неделю давать свой доклад склада я загнал кассандру в контейнер нормально там повозился пару дней все прекрасно перегнала же встретим все работает на сайте недели перегоню production мы отпали потому что там другие группы сказали у них займет 44 недели что тоже конечно была явно неправда но мужик пришёл прост вообще пьет чай да вот значит что мы бы так сделать находить таких людей которые сидят рядом с командами которые не имеют такого опыта и которые боятся этого и сажать их как можно ближе и просто просить их вы просите у их рукава руководство просто пожалуйста освободить его там на неделю же мы просто пошел помогли им начать ваш как только не втыкается в дело начинает его делать все нормально этих проблем опыт есть если человек помогает который опытный то все какое-то прекрасно но если этого не сделать или динамика цен на какие-то ошибки и + карта вот я брал не получилось что я ушел делайте это сами это плохая идея до свидания и ну потом нужно по полному кругу идеи возвращаться и попытаться ггц их заставить сделать опять вот но перейдя полностью на контейнере мы получаем огромную подхват на воспроизводимость потому что все сервис запущен и через два метода мы оставляем кентурион для вот именно для вещей которые должны быть на одном и том же сервере сервисов которые на диске например там база данных колеса такое да мы оставляем вот этот старый старый способ менеджмента просто чтобы комп командам командовали перетянуть на что-то знакомое но вся конфигурация выдать в код если нужно заново поставить регион конфигурации копируется направляется в регион все те же приложения запустились поехали согласованность тоже на все запускается одним и тонн тем же способом и даже гибкость то есть три из трех да потому что теперь можно записать люди давно спрашивают мы начали пользоваться сам дотолкаю каберне the city все время спрашивать а почему не используем к вернитесь и ребята которые занимаются минусом но просто звереют не было еще губернии ты сочи вы пристали но теперь когда все на контейнерах можно попробовать каберне this можно пробовать nomad что угодно нашли как бы делитель и в идеальном случае нашего трогать запуск региона пройдет все будет очень просто но до этого нужно поработать вот третий вопрос более такой веселый и ну как раз концу вот на что делать bolsearon щеками мы сейчас пользуемся в нашем дата-центре так называемыми a file api и но это типа то же самое что там сельское лечили про просто ладно under балансировщик вот они большие и дорогие а но самое главное то есть деньги то есть ладно можно купить но ventrex их не имеет то есть нельзя мне заказать такой может я такой другой нужно переводить и сделать так нужно переучивать сетевых инженеров пользуются новыми блокировщиками это вообще кошмар потому что это такая критичная часть нашей культуры а вот кого на это дело напугала так и таких вот заменять тоже нет ни времени ни желания пружина это очень много зависит и группа уже и так занята дешево новая только в новом регионе пугает между нами будет одно в одном другом друга не обязательно сделает не так нет а не выношу и плохие люди а потому что просто так же трудно вот но есть виртуальная версия да он доступен как видим это оказывается просто links они написали там новый драйвер для сети и там делают какие-то вещи в хардвар но так вообще ли мать можно вы просто запустить на сервере поркур запускаем киму киви м так нет нельзя да и установить уже невозможно потому что нету менеджер для пакетов ok устанавливаем из сорта я человек рабы я скачал source нажимаю k и напишу configure питона нету я думаю бетонные устанавливаете source и не буду ни в коем случае это это это ст это жуть нет менеджер пакетов но есть докер тут сетевыми двери просто вообще испугались когда ты чё пацан выгонять вот bouncer в тему киви им в dota и скажу буду это ну как это сложно остановить не знаешь ни того ни другого так сильно то есть долго добираться но вот это кому-то из я пропустил тогда кучу опции трали-вали час немножко пишу что мы сделали поехали все нормально никаких проблем все как говорится рата работает в стене балансировщик вам покажу что мы сделали немножко из докер файл вообще очень простой то есть парочку пакетов у нас некоторые файлы и скрипты которые мы используем внутри а вот эти значит астарта партс это скрипты который мы хотим чтобы плательщик запустил при запуске письма таким образом там устанавливаем все доступ основную такую конфигурацию вот это откуда скачать и матч который мы чуть чуть поменяли чтобы вот это вот ввести этот стартап монитор девайс это контроль какие муки в матрасе контрольный порт консул при переводе на telnet чтобы если что можно загрузить на сервер подключиться к порту 8043 получаете концов правда местный промт пара еще ну настройки типа на какого он должен использует api и посылаем на и трипойнт в котором мы создаем это уже скриптом трипон часть мы создаем этот стартап диск то есть чисто создаем до image file делаем из него exe for загоняем на него кучи файлов здесь мы просто делаем как а ну сайт заменяем переменные на настоящие их значения и запускаем keygen и кучу далее мы даем три я как минимум до 3 я интерфейса на даем диск стартап который же моему смог бы найти и запустить ну и все и побежали и важно ричи там и дело мы даем контейнеры доступ к кастовой сеть этой связи видели вы знаете в докере да можно выбрать либо братик или голосовать мы даем и прямиком просто доступ к нику а чтобы через год или надо было ничего пропускать мы также ставим сам и мяч кинул кукол ковернино на в директорию на на фаина на правой системе и просто даем контейнер прямой доступ к этому конечно когда жизнь сетевые он же будет запускать контейнер это будет очень медленно да я знаю я уже спешу но это был бы конечно глупо так вот он забивает на 88 процентов то есть нечто но достаточно и это настолько дешевле чем ставить этот шкаф чтобы просто их запустим побольше и будем счастливы потому что чем больше будет надежности из-за этого потом уже будет поневоле будет горизонтальной и вертикальной а а что делать дальше ли скоблить конечно это она там на сечи 5 10 лет наверное работать не будет но 23 спокойно и также так ему сделать это автонастройку и так как только мы запускаем контейнер через несколько минут вот bouncer готов он все сам себе настроил человеку ни чего не нужно делать что вообще большое улучшение от того как они работы сейчас сути шкаф и потом там вставляй шкаф нужен загружаться не учета делать у нас все запустил вот это докер команда мы его запускаем почистим где тоже на на этих серверах и все пошло воспроизводимость стопудово согласованность тоже есть тоже просто бежит на корову с как контейнер вообще не надо ничего специального с ним делать все прекрасно ну а дальше увидим конец вопрос вопрос мастер не осталось очень мало времени но вопрос есть здесь можно протирать форм спрошу-ка причину почему вы его выбрали это как бы довольно таки сарай разработка там она в четырнадцатом году появилась прошлом или в этом году у них там первый релиз был у них там ужасаюсь и ужасающе пишется описывается ресурсы нет то условий нету циклов почему вы не выбрали ну то есть они есть но все пишется просто кошмарно а почему вы не выбрали готовые инструменты там мы scm который существует уже много лет там не знает тот же попить если вам нужно декларативно описывать ресурсы опять же если вы планируете разворачивать группа структуру в других средах не только в амазоне то есть траффорд amazon заточен да там есть плагины но вам придется писать свои плагины это дополнительно разработка и тоже не так все просто дело вкуса экспертизы да то есть а у нас есть куча человек который очень хорошо пишут голы которые этим очень интересуется да и а я в принципе с вами согласен так по большому счету но не согласны согласен в двух местах во первых тира форм как ни крути а вот эти вещи связаны именно с кладом а не может быть сыр и но я пользовался шаховским вариантом этого дела на память лично сам не смотрел в маггловском shop сама зонам очень хорошо ну опять же вопрос о вкусе и опыте да с большего программистов чем людей знающих ruby и ruby и и шеф и попытаться это не очень как говорится так я пошлю так что папа у нас в компании внедрен довольно глубоко да то есть как и сказал в стенку старые более старые прелат приложения бегут именно на нем а руби специалистов вот столько потому что основной продукт и сих пор именно и pm дай мы активно работаем с руби папе трогать никто не хочет уже никто другой вопрос вы планируете open source сеть плагин его для деплоя там разные среды потому что то что есть там допустим для запуска ногтевым ужасно сырой я не смог запустить просто вот там скачав скит хаба код аспиратор на девендра певички вот на киви мы через чарофон не запускаем да но то что мы то что мы делаем на vendor x как только можно будет мы попытаемся обязательно это сделать да то есть планы планы и желания есть спасибо вот вы сказали что прибыл request публикуете кира форум план это ну там просто какая-то там не знаю дженкинса подергайте ротару план применяет или какой-то там не знаю инструмент для этого используйте или откуда он берется за жилья это делает я написал самый причем получилось намного проще чем я ожидал арч новый дженкинс adsl вот iphone называется да я бы удивлен честно говоря потому что у нас женщина тоже очень много опыта в компании я часто это делать инерции потому что затаскивать еще какой-то новый инструмент не хотелось но получилось отлично их да просто все что он делает это запускает app for план берет текст и куда его куда угодно пути очень классно я бы хотел показать на меня не пускают из россии на корпоративную сеть тоже момент прикольно да но что получается когда он запускает трав он он проходит через все директории по брать frost но в ширину сначала да и везде где он находит план он запускает его до когда я делается запуск мастер он проходит опять и каждый раз как он находит план который нужно делать apple ай да он спрашивает то есть либо человеческого подтверждения я снова зима и съест он делает телефона fly изливаешь но он проходит все еще и все еще ну все чудеса directory стоит хранить рядом с кодом стали вот тира просто а ac3 или или там старый план- хранить план джин келли дает часа до армия идет через jenkins по-моему сейчас идет работа перегнать все секреты волк вообще чтобы хранить их тоже не было чем они были вставлены мир вами в момент запуска команды а плагины плагины допросы загоняет дженкинс как от из моих загоняем сами определения вот эти где сел этот даты все да спасибо вам еще по моему больше нельзя да то это можно уже все 4 класс спасибо большое"
}
{
  "video_id": "ReY7e_IO368",
  "channel": "HighLoadChannel",
  "title": "RU, How Raft consensus algorithm will make replication even better in MongoDB 3 2 / Henrik Ingo",
  "views": 196,
  "duration": 2632,
  "published": "2017-04-10T04:56:55-07:00",
  "text": "очень приятно что меня в очередной раз пригласили сюда по михаила в прошлом году у вас выступал меняется динкой привилегия потому что мне сегодня два выступления морда того что я настолько популярен или манго тебе настолько популярна я не знаю но на самом деле это прекрасно конференция на которой не хочешь участвовать первое выступление который хочу сделать касается репликации mongo db и потом ношения высокая доступность все проще алгоритмы которые сопутствуют мы немало работаем над тем чтобы повысить качество как отцы mongo db 3.2 это сейчас выпущено можете на самое загрузить сейчас пойти и выйти на соответствующий сайт и мои и официально еще пока не объявили но она открытая кто стопки имеется поэтому вы еще ни разу не услышите в будущем вы будете часто слышится гонка добра то есть место вот хенрика инга я живу в хирд хельсинки это не больше т.е. сам черника это небольшой город ирвин по где я нахожусь и слива перейти на английский язык на русский язык это конец озера то есть а где-то вот на на крайне озера и называется городок мой около зерна и такой вот поэтому я хотел бы сейчас остановиться на тех решениях которые буду делать в том числе насколько им помогаем всем нашим клиентам во всей европе выстраивается и свои приложения на основе mongo db сегодня мне хотелось бы поговорить о том что мы уже сделали в отношении mongo db 32 фактически это все основывается на каких-то академических исследованиях и такие слова как can can send консенсус или всякие личные машины каким образом рубрикации работает манка добрее какие улучшения мы предпринимали предпринимали подошли могли бы за последнее время вопрос конечно зачем нужны такие репликации мог бы для того чтобы предлагать какие-нибудь решения дополнительные но очевидная причина заключается в том что нам нужно более точное выражение потому что в конце концов это копирования это копирование обходимо и и значит 100 если у вас какой-то новой составляется один сервер то у вас имеется запасной резервный сервер но фактически проблема заключается в том что это не всегда помогает если у вас имеется еще дополнительные x-tribe сервер и чтобы вас не было потери данных и никаких наберешь когда выступал он говорил утром сегодня том что если это делает в отношении веб-сервер достаточно просто потому что там нет никаких такое активного состояния которое необходимости на поддерживать и поэтому что имеется большое количество серверов то понять это можно распределять такое количество данных и производить такие вот аппликации или копирования данных и и на для этого не предназначены еще до причина по которой хотел поговорить это не столько на доступность высокая доступность сколько качество функционала самого включается таким образом что действительно скорость света является серьезным ограничением и слезами какой-то приложением и она имеет глобальный масштаб допустим заходите москве находится москве м при этом имеется вас какая-то компания ваши стерляди находится москве но при этом у вас имеется пользователь в америке например сан-франциско не знаем кто то здесь уже пытался это дело все замерить какое расстояние от хельсинки дом москва это несколько миллисекунд 100 миллисекунд допустим от москвы до кто-то проверял сколько времени занимает пусть около 100 миллисекунд моргать 300 миллисекунд даже требуется для того чтобы сигнал папа франциск а это касается и запроса в том числе то есть если вы пытаетесь сделать это как можно быстрее это вы можете действительно эти запросы оптимизировать настройка насколько это возможно они это при достаточно быстро и когда речь идёт о нас равно 100 миллисекунд это занимает больше не заключается в том чтобы пользоваться копиями баз данных репликация my на каждом концерте контенте мир чтобы к ним можно было позволить обращение речь идет о том числе и облаках таких как amazon или какие-то еще если почему и пульт и кредитными картами то ним необходимо чтобы вас на 3 4 континента были соответствующие сервер которые вас приеду карт обслуживают консенсус это такое космическое слова я в будущем тоже буду это слово использовать и применять действительно проводились исследование работы были сделаны здесь имеется какого-то качество академический языка только меняется и консенсус в основном это означает что у нас имеется большое количество серверов и мы хотим что в нем были все в одинаковом состоянии на одном уровне работали то есть на самом деле это репликации или это копирование какого-то рода если мы говорим о каких-то машинах это вот степашин это будет на самом деле тот называем база данных машина который содержит базу данных если мы говорим о том что когда мы решаем какую-то проблему скажем проблему консенсуса в отношении таких баз данных то фактически мы говорим о копирование базы данных создании копии базы данных что касается высокой степени доступности это другая некоторые проблема дело в том что те кто снимается софтом то у них есть свои требования мне хотелось бы миндаля не хотел чтобы та момент происходил быстрее иногда речь идет об объемах я бы хотел все запросы которые впоследствии будут делаться в рамках этого индекса были в достаточно быстрыми с какими-то небольшими вариациями конечно вопрос высокой доступности конечно это главное чтобы в системе не было сбоев потому что мы не можем заранее предвидеть какие у нас бои могут произойти поэтому нужно заранее провести какие-то исследования нужно быть результативным отношении чтобы проверить и все это система в отношении высоко конечно доступа мор бойцы но в любом случае если попытаться выключить из сети электричество произойдет какие сборы следует ожидать этого не знаю может быть и заработать с firewall в том числе и посмотреть если вы включаете и выключаете то есть срабатывается или работать и работает ваша система в при включении выключении firewall или потом допустим все работает прекрасно потом потом скажем часы работают часы показ другое время надо массируйте за показы другое время пусто просто итогам посмотри какие сбой возникают результате потомки это проблемы вы проводите допустим какие-то испытания и не того что же происходит производстве но мы можем попытаться быть как можно более такими активными агрессивными даже этом плане поэтому сама идея консенсуса достаточно простая имеется 3 сервера вот вы их видите те если не изображены и они все находятся каком состоянии у них имеются какие-то базы данных и нам нужно добиться того чтобы не были одинаковыми и поэтому отделе вопрос конечно как-то добиться но на самом деле сейчас о том чего мы хотим достичь и если вы будете думать об этом об этой проблеме в целом то исходя из того что они находятся все в одном состоянии то-то мне кажется что общее представление протокола концепцию это называется консенсуса ли дербейс то есть это значит что мы имеем такого рода консенсуса mongo db и он упрощает решение проблемы фактически если клиент и обновляет свою свою базу данных то нужно выбрать и какой-то конкретный сервер и мы приходим к оригинальной модели первоначальной модели всходы модели и потом проводим соответствующие таскать обновление данных которые нам необходимо и металлист такие же обновления проводим все в их машинах м и это может касаться каких-то конкретных записи если какие два клиенты хотят обновить по интересам и и запись это кто-то первый кто этих первые тот и будет отвечать за это делает то есть от академических зик так сказать за все отвечает первый лидер и точно важно можно по-другому называется первичный и вторичный сервер по другому называется в том числе мая эксперты кого они тоже они говорят еще скажем а сдающие и таскаете сервер то есть но они будут политические неправильно так говорите а в америке в америке потому что это как бы диск некорректно этот как мастер и слоев это получается хозяина равно так не может быть и не должно быть важнее с точки зрения мире концев такие термины и так вот какой выбор им выбору делаем ее действием и если мы исходим из концепции основанной на лидере то здесь все обновления происходят на одном единственном единственными сервере и если не используйте копирования то вы затем копирую все проще просто копируйте операции которую проводили и буду стрелочки такие которые будут демонстрировать в академических документах они используют именно такие вот небольшие вот квадратики соединяют их стрелочками и вот таким образом все записывается на всяких схемах которые можете увидеть и достаточно просто но конечно вопрос заключается вот в чем а откуда откуда мы знаем кто здесь является лидером сначала может определиться с этим взгляд упав с ним произойдет какой-то сбой и что тогда мы будем делать хотя мы должны обеспечить при этом высокая степень доступности и то есть как же не допустим это мне то каким образом тогда мы будем производить обновление данных если там он отсутствует поэтому здесь нужно проводить такие вот выборы но типа тех выборов которые в жизни а проводим политические выборы сокета есть кто-то дом быть кандидатом я хотелось горящим лидера матч и каким критериям я должна соответствовать если действительно я мог бы быть избран следующем лидером и наконец и следующее мы смотрим потом на эту картину и говори зависимости от базы данных и некоторых еще критериев скажем мы только можем одобрит того лидер который который обладает достаточно надежные базой данных и с тем что можно было значит надежно копируете то баз данных и но если если он на самое тоже чего-то зависит и там со временем что-нибудь так и так далее таком случае вы хотел выше у нас был тот лидер который все такое обновленное что мне чтобы актуальная и чтобы действительно можно полагаться на те данные которыми он располагает в этом мир имеется имеет место определенного рода эвристику и поэтому определяем что с какой-то сервис будет первичный а все остальные будут вторичные то есть они будут зависеть от него и не обновление дано будет происходить на стоит тех да на которые имеется на этом первичным сервере и так вот эти вот выбора действительность точно интересная часть той репликации или копирования попытались разобраться в чем оно заключается то есть у нас имеется один какой-то задающие лидер который ночной которого или базу данных которая используется для сексуальных тиров и поэтому очень важно иметь такой вот выбор с тем что вы если какой-то сервис ломается потом тогда мы должны знать то есть у нас все равно система работает даже если какой-то один зарабатывать под очень важно знать что если тот который раньше был назначен лидером ломается то кто вместо него будет выступать в качестве его заменителя скажем так поэтому требуются какие-то ключевые требования которые следует соблюдать им то есть в любой момент должен быть какой-то лидер то есть какой-то лидирующие или сдающие такой вот задающая машина что произойдет если у нас этого нет если и и вот этот выбор следует сделать текст и допустим несколько различных конизации имеется на то чтобы стать лидерами то есть кого из них выбрать если все они стремятся стать играми как сделать правильный выбор и в такая ситуация называется спрэд brain то есть мы когда разор на как-то и мы пытаемся в таком случае разобраться какие различные были нас обновление от родных клиентов и то есть не трудно или невозможно или вот возможно для того же ставить какие-то данные и фактически мы бы не хотели чтобы получилось так что были какие-то скажу так и сбой или купированные данные чтобы у нас была возможность всегда пользоваться всей базы данных без ограничений то есть в любом случае победить в этом выборе может только один какой-то кандидата хотя с математической точки зрения может быть такой вот то есть одно только может большинство может быть это есть формы можно сделать выбор на что вы большинства если скажем прочие сервер и проголосовали за одного и того же лидер получилось больше 50 процентов но иметь это 50 процентов это еще не большинство когда вы производите конструируйте кластер этого хотите понять 50 человек действительно это не большинства и если вниз и два сервера какие то вы и вы думаете что имеется достаточно высокая степень доступности то и при этом один из серых сам за себя будет голосовать то это не получится то каждый понимаете 2 сервер и каждый из них за себя проголосует то есть их никто не может стать лидерами что их всего два поэтому именно поэтому необходимо подумать о том что хотя бы три было бы по меньшей мере что действительно эти выбор этот выбор был объективным с тем чтобы этот действительно когда вы разбиваете то есть эти первичные вторичные швы dots лидер был реальным и достаточно очевидно еще это что лидер который который на протяжении определенного времени выступал в качестве лидера он может уступить место каком-то другом а в нужное время поэтому возникает необходимость нового лидера избрать и опять и вас получается такой вот так сказать несколько кандидатов и достаточно трудно запомнить или следы запомни то что первый сбой который происходит но хорошо будем исходить из того что первый лидер сломался то есть для получился полный сбой на имеется сбой бывает самое разнообразное очень часто бывает так что сам лидер то присутствует конечно но дело в том что просто не подсоединён и и не знаю он таскать имеется с другими серверами и отсоединен и в таком случае получается так что он вроде бы лидер но поскольку ничего не подсоединён то никакого обновления данных не происходит от него поскольку он просто отсоединим поэтому частичному вот такое им такой вот выбор будет обозначать что если этот лидер больше не присоединенная к той самой сети большинство прочих серверов в таком случае должен перестать быть лидером сказать уступить место другому лидеру который должен быть выбор выбрана основе те кандидатов который появится на вы знаете тут выборы как президента выбирать красивый сера семь лет выбираете финляндии 1 of 6 разбираем но дело в том что все равно этот лидер ты выбирайте не значит что он течение всех 7 или 6 лет будет лидером он должен но он постоянно должен пользуется поддержкой большинства иначе если не поддерживается большинством то я тоже будет не лидеры то будет не понятно что если чувствуешь это и так туда он таком уйти со своего поста и больше не быть лидером и так 32 это кандидата мы пытались мысли посмотреть задаться загрузить вот эту версию мага db 32 мы сделать какое-то дополнение лишение сделали в том числе и протоколу выбора и почему мы это все делали дела ставшим мы хотим сохранить и сократить время сбоя простое и мы хотим до 2 цикла сократить определение и на самом деле хотя выбор могут и какое-то продолжительное время вместе с тем хотелось бы как можно быстрее преодолеть хорошо какой-то старый лидер уже больше не лидер что мы должны это остановить определенно и чтобы это иногда у нас времени до низа точно многое перед тем как мы проведем вот эти вот выборы для того чтобы заменить того лидер который вы было по какой-то причине и так это работа с новая цена на академических исследованиях которые описывают алгоритм который называется ровд если вы понимаете слова служат конечно знакомо слово это плотная по русски это не лодка но значка и порт если допустим с каждым если корабль тонет в таком случае выплат делайте всех подручных средств которые могут и сами которые искали плавают стуле там стало и не станешь ты чем ислам понадобится и вот эти гондара написал все время оставь и в стэнфордском университете написал соответствующую работу мы выбрали такой термин тела в том что совершенно новый алгоритм и было несколько исследований опубликовано в этом отношении зимой прошлого года если правильно помню в которых описывалось вот такие вот себя существующие версии алгоритма и товаров то или плата они очень похожи на существующие репликации который мы говорим и моих разработали несколько лет назад об этом а фактически то польза которую получаем от экономическом плане заключается в том что большее количество людей будет подвергнут искать рассмотреть от алгоритмы и так сказать удостоверится в том что он правильно и что в нем никаких нет и 22 ситуациях он будет правильно и корректно работать это очень тоже необходима тем чтобы когда у нас будет происходить обзор я данных чтобы нас не было никаких чтобы не было сомнений в том насколько объективно выборы будут гарантировать что мы выбираем правильное так сказать лидер данном случае что наша репликация что наши все копии настолько же четкие правильные как вот этой миске алгоритм ровд и в академическом мире принято считать что что вот это вот репутация вот эти алгоритмы или алгоритма консенсуса аппликациям то есть самое главное это под названием paxus то есть даже у меня на работе все часто спрашивают а там был горит ваш новый цена paxus и не основывается то есть топ 4 чистого я никогда не видел в реальном мире всяком случае в открытом доступе те источники чтобы говорили что пока с это идеальное средство но академиков он стоит на первом месте считается что он достаточно надежная хотя трудно понятия не один разработчик не может создать достаточно правильно это кстати вполне пак сан бин был за вечное надеждам и соответствовало всем критериям поэтому достоинства раз и заключается в том что эти алгоритмы должны быть легко воспринимаемый легко понимаемая и скажем можно сказать что я трижды их использовали три раза они как никаких больше не давали поэтому я могу говорить об их надежности с точки зрения они более релевантные к тому софта который я использую к саму программу свече некоторые используя и потому что им пользоваться уже не один год и надежности всегда демонстрировалось и так не было бы неправильно сказать что вот этот b32 что там исключительно все основывается на концепции рафта но вот эти вот по такой по репликации имеется немало фундаментальных отличий потому что алгоритмы авто является лидером который будет соединять все вторичные база данных и или серверы которые содержат базы данных и тем самым фактически это вот вторичные серверы которой подсоединены к первичному или лидеры сервером и таким образом это все работает это все здесь наоборот выстроенным обратным строение поэтому на высоком уровне когда вы делаете то есть обеспечиваете высокую степень надежности то должны на это смотреть все точки зрения когда вы смотрите на крафт вы предварительно определить и все вот эти вот проблемы которые проблематичные вещи и с тем чтобы вы должны быть и копии вы тихо репликации хотя не можете фундаментально могут отличаться трав такой степени вот эти все три вещи о которых на которых не хотел рождается первое что является наиболее важным улучшением которые мы произвели это видение внедрение а того что называется электоральные такой вот top мы можем сказать что если кластера начинает работает перед первых нужно сделать труда избрать какого-то лидеры и это будет первый срок 1 сбирать он и срок называется так понятий первых брать или срок как только меняется это первичный сервер быть будут пройдены какие-то вторичные выборы и скажем когда есть два кандидата у которых одинаково результаты и трудно выбрать из у кандидатов 1-го если у них одинаковые показатели это означает что если все кто участвует в этих выборах достаточно четко нужно представляешь себя в каких выборах они участвуют и нужно понять что голосовать только можно только один раз иначе если первый раз вы проголосуете за одного кандидата потом с другого так не бывает дом только один голос согласовать можете только один 100 раз иначе просто не будет объективно из лифта пытаясь защитить себя в этом отношении эту концепцию в том числе то в это алгоритм в рамках второму силе действо немецкое определён ограничения и можно подавать свой голос каждый 30 секунд и вы нас имеется цикла двухсекундный цикл поэтому типичные типичные выборы бы происходить именно вот в таком алгоритме если вы будете ожидать c 30 минут то вы не будете точно представляете какие результаты были на прошлых выборах но важно чтобы эти выборы отличались результаты одни других и чтобы удачно временные проведением к сожалению получается так что первичные сервер допустим он у нас не произойдет сбой он перестанет функционировать то в других имеется так сказать у них равные результаты по статистически они так сказать равнозначные топологических и смотреть на никто если у вас действительно нет лидера что не все рада значными воспринимается в таком случае нужно подумать о можете подождать 30 минут через ну по проводить вторичное вторичное так сказать и выбора иногда это необходимо сделать и может быть тогда они придут какому-то результату бетти случаев это происходит быстрее чем 30 секунд 0 4 секунды на хватает то есть вы выбираете новый лидер за за этой секунды и все а если вам не везет приходится 30 секунд 60 секунд она приходится ждать такое бывает но не очень часто поэтому могу db 32 если вы пользуетесь новым протоколом избирательным то и когда у вас так сказать два равных кандидата и вы начинаете новые выборы в таком случае потому что нужно каким-то все-таки чтобы они отличались от решающих выборов и чтобы нет никакого риска того что вы нарушите так сказать принципы обрели и большинства и так химический термин логический числе бы сказал 30 секунд если вам не приходится в тайском случае физически эти три секунды это логические счетчика который действительно который различает это отличие ход течение времени или течение времени на этом слайде представлены данные mongo db 32 и здесь так что представляет собой кто из вас видел это раньше октанте устранить эти вещи вот видео уроки то понимает значит видели почти половина из вас похоже знает что такое поэтому насчет вы знакомы с этим это значит что в настоящий момент имеется два независимых давайте вещи которые придают транзакциям мы зависимости от логической индикации то есть ds что является timestamp это значит напечатать времени и имеется хороша и сама транзакция которая регистрируется поэтому вот это поле бери обозначаю api обозначается буквой а и наконец в сторону от с 0 тесто и наконец вы вставляете объекты это нас будет той d3 и в поле а вы ставите значения 3 то есть в любом случае я речи не идет а то есть у меня безразлично какая-то загрузка данном случае в танце интересуется нас интересуется поле диез и речи а это действительно не и четко определяют и транзакция это они определяют количество то есть миллисекунды в отношении времени который требуется первичному сервера и и счетчик есть у вас имеется множественной это за акции то этот счетчик будет работать более медицина в поле речь здесь случайно и рандомизированные цифра какие подбираются вы можете как случайно случайно подобных цифрах и это сказать где характеризующая глобальной транзакцию и прежде чем вас какие-то причины и другие какие то можно расстегнуть имеется два серверов которые срабатывают за одинаковые миллисекунды и вас имеется всего найдено операции и имеется счетчик номер один они могут похожий быть друг на друга но при этом в поле и чего-нибудь или другое значение по это именно на его основе вы проводите разве это есть отличие одного другого поэтому что касается сервера в то каждый имеются и собственного блока и было очень важно что вы не все начали с одной и той же точки они с разные позиции а теперь с касается mongo db 32 имеется концепция выборов на основе рафта то здесь в середине и вот видите ли зеленым обозначена имеется отите это условия или термины и рафта и скажем сардо выбора это было проведено уже и я сейчас уже срок моего при ванили и так сказать или 40 из 43 свобода и грация поэтому фактически полете это счетчика этих самых автор то есть вместо того чтобы иметь какой-то цифра 1 141 это не значит что меня было сто шестьдесят транзакция которые происходили в эту самую секунду это совсем не значит но это значит с моста момента как праймари прошли первично эти выборы вот я получил такую такую цифру такое величину таки он стремится у нас с лодо данных но какой-то отличаю все-таки рисуем обеспечиваете на конец какие-то миллисекунды которые не используется мне протоколе рафти равта и это уникальный способом сказать проводятся различия между транзакции рафта и полем d + последней части с это миллисекунды на очень необходимо знать который требует требуется время для прядения той транзакции наконец-то еще и поле речи имеет также большие значения потому что там определяется аналогичные или подобные механизмы но все-таки там имеется какого-то рода хорошо этой транзакции то есть действительно и может быть номер транзакции 42 и штук еще там прочие они похожи друг на друга и на на самом деле там внутри у них наполнения или как контент может быть совершенно can совершенно другим хотя вроде бы на вид они похожи ну так еще на изменения второе изменение который имеет отношение к орбите нга иметь отдельная их орбиты у кого который срабатывает каждые секунд и позволяет им общаться друг с другом не всегда хорошо масштабируется если у вас имеется просто сервер которые хотят пользоваться этим то вам необходимо имеется миллионы на сотни тысяч таких вот убийца которые бы имели место с тем чтобы они могли серьезно сократили сократите себе ее в том числе сам трафика при междy происходит поэтому все это ограничивает интервалы ограничено месте 2 секундами с тем чтобы если первичные mongo db у него прозрец свой то остальные бы определенное время краткое время восполнили бы этот пробел поэтому время включения его в она должна быть тоже минимальными 2 то чего мы добились то что мы сократили количество узлов сегодня имеется сегодня имеется 12 таких вот взвода рисования и которые и порядка 50 нос в в этих вот репликах и хотелось бы также учитывая что в этих случаях имеется такое положение дел что бывает такое это асимметричное симметричное деление в сети и иногда не подсоединен к тому или иному серверу и и мы исходим того что какое-то серы допустим не работает простаивает но он подсоединён только время каким-то определенным образом и нужно такие для этого правильно сконфигурировать соответствующим образом сконфигурировать те фаерволов поэтому от это вот второй может действительно обеспеченные он будет выступать с качественные реплики или повторять все борозда на которые съезжались в первым сам плохом случае неудачным случае если произойдет что-то противоположны что на самом деле иногда происходит допустим все не дошли хорошо работает дух орбит все работает нормально и такое впечатление происходит что все работали маме что вот эти все копирование происходит это хорошо но при системе крафта могу db 30 hard to beat примерно то же самое делает и имеется только одна опасность когда вы проводите такой вот репликацию и получаете какой-то ответ от первичного сервера который читают операции с то это означает что даже если никаких апдейтов нет это все равно до цели хоббитов только соединение происходит и обмен происходит только вот на этом уровне это это хорошо но это так же означает что-то взрывается hard bed первичного столичных первичным вам нравятся вот эти вот выборов это значит что мы можем были часто проводить такие мир петь и и этом случае будем проводить раз в любом случае мы обязаны не сделать и на самом деле для этого и на для этого мы все это делаем и наконец в том числе имеется такая вот репликация по цепи и здесь никакого разбито не будете пороге основан на другом принципе вот это вот репликация принципе если нас имеется какие-то сервер который находится в европе другой в америке сервер это конечно было бы достаточно дороговато было бы использовать американский сервер для того чтобы он обеспечивал данными и армейские сервере поэтому имеет смысл только в том случае это только один какой-то сервер на территории сша который мы будет связано плохо с европа мы может быть не работать через единая цен база единая центра баз данных и этот оптимизированной система оптимизирует трафик и когда мы используем такой вот соединение их обитель там применяется то то этот сервер которая там находится он напрямую не может соединяться к первичному и поэтому когда работ хоббита в любом случае получаете репликацию эти всего того что эту работу производит функционал актеру призвать первичные сервер интерпретации примерно будут одинаковые никакого здесь не соответствовать не будет и вы просто будете то есть будут присылаться или тасс пользуется обмен вот этими импульсами орбите и наконец а следующие шаги которые мы совершили чем добились и поэтому мы делали can фигура сумели добиться того что можно конфигуратор менять конфигурацию вот этого работах орбита срабатывать хоббита и каким это какой который таймаутов быть то есть время отключения peta достаточно хорошо потому что они часто имеют различные вот эти вот промежутки времени в которые не работают был быть за 10 секунд для других это может быть случай сбоя это может быть допустимо первичные сервер сбой он так сказать остановился то нужно поделить ветру и всего хорошо это за что это за сбой и какое время требуется для того чтобы отреагировать и выставить положение дел и если мы обеспечиваем достигаем какого-то предела и работа с тирании останавливаться то мы переходим к этапу выборов и поэтому что должна быть конфигурация и достаточно просто и кластеры должны быть распределены на определенном расстоянии по времени зазор дом бойцы не очень большим допустим мы говорим о и южная америка северная америка и китай австралия мы говорим данном случае сети которая чтобы сорваться проходила в течение нескольких миллисекунд и что у нас и пальцы не происходит постоянно выбора какие-то потому что требует ходить на выборы то есть если имеется вас в кластер и вас все этими дожди высокое качество то таком случае в этот выбор будет происходить в течение каких-то миллисекунд и по сути мини секунды будет занимать у вас на выбор и таскаете вместо дома сервера будет . не даст вступать в качестве при этом мы еще повторяем что это высокая степень доступности действия также на ее основе все делается новые протоколы которые были созданы на основе конфигурации нова прямо на то имеются прочие компоненты случайной компоненты имеется потому что мы не можем самого начала задать и исходные данные на основе которых выбираем того или иного кандидата все кто получили бы сканер условия приглашения принять часть таких выборах с тем что мы получили бы все-таки какого-то когда победитель нас произошел а не какой то просто напросто ситуация которую нас сказать равные по по по рангу кандидаты и хотел бы чтобы действительно в вашей ситуации в ходе первого тура выборов была случился бы был выбрали бы первичная первичные сервер теперь посмотрела такой миски к выводы котором говорим мы говорили арте сейчас мы скопировали три вещи из ровд и в том числе и условие различные стили hack by king и кроме того мы хотим получить более быстрое определение всех всех недочетов всех сборов больше контроль для того чтобы избежать каких-то случайных сбоев чтобы быть более прочих бы чтобы были надежно против стояли каким-то сбоем и наконец рубль также нужно убедиться что все данные у вас были проблемы но вот в любом случае века такие кластеры которые мы of time it is это время его повтора включения будет несколько геном на мы сейчас время вопросов да конечно я закончила самом деле может дать вопросы мой вопрос кончается работает этот алгоритм как у нас действует на функционал сканд вы действительно репликация события остаются точно такое задание какой степени воздействует на сама она сама канал но он больше воздействует на когда вы с просьбой то с точки зрения вы можете быстро или можете продолжать сказать насколько я понимаю это синхронная репликация или нет не синхронно и асинхронно и дело в том что я ещё раз хочу подчеркнуть что мы фундаментальные ничего они поменяли про так у нас не поменялся если почитаете документ касающиеся рафта выпадут счет какой-то синхронная репликация на самом деле это прямо тросом и что раньше было поэтому честно говоря если вы знакомы с мангой добил нас имеются различные озабоченности в отношениям проведения записи но если у вас имеется большинство то тот опыт который у вас имеется синхронный такие аппликации то скажем у нас мы по большому счету мы конечно ас на chrome на и но с другой стороны это не совсем то же самое что рафта хотя вот выбор и сами себе они больше похожи на ровд согласно"
}
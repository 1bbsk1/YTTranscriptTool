{
  "video_id": "EABou64MgCo",
  "channel": "HighLoadChannel",
  "title": "Опыт перевода банковского продукта в риалтайм  / Владимир Ловцов,  Владимир Аврамов (Холдинг Т1)",
  "views": 201,
  "duration": 2707,
  "published": "2025-01-17T02:22:29-08:00",
  "text": "Приветствуем всех друзья Всем привет Рад на самом деле оказаться на хайде это наше первое выступление готово попробовать покорить Хайд что ж наш продукт наш проект на текущий момент называется опыт перевода банковского продукта ВТА Мы точно не Стар да то есть не будем вам подова какие-то огромнейшее истины да то есть там множество Советов давать мы расскажем как мы реально сделали наши реальные проблемы с которыми столкнулись А их всегда много Потому что айтишка не бывает идеальной что ж поехали перед тем как вообще начнём что-либо рассказывать и говорить вообще про любой продукт мы должны задуматься кто же вообще наш клиент потому что любой продукт не может начать свою жизнь свой жизненный цикл без непосредствено самого клиента вот достаточно недавно у меня была история Сижу работаю смотрю мне приходит пуш уведомление вам одобрено классное маркетинговое ложение от одного банка я смотрю оно приходит не раз десятый уже да то есть за пару месяцев оно Мне настолько неудобное оно для неважное оно мне вообще не к селу будем говорить не городу понимаете положе буде некоторых маркетинговых преложения кредит ипотека не будем их называть го проще финансовый продукт или маркетинговые от финансовых организаций соответственно Я как клиент хочу всегда получать любое финансовое предложение от любой организации только тогда когда мне это нужно то есть у меня что-то случилось Или я чем-нибудь заинтересовался и мне тогда это ре Может пригоди тогда хо бан его предложим хоть по офисам то есть всё должно быть максимально проработано предо добрее я нажал на одну кнопочку получил предложение от меня больше ничего не требуется либо я зашёл в какой-нибудь другой банк да то есть захотел там что-то взять мне тут же приходит в ту же то же самое время предложение Контр предложение выгодное То есть мне это будет выгодно теперь немножечко про сам продукт мы отвечаем вообще за бизнес-процесс ВТА для выдачи маркетинговых предложений мы их формируем немножечко теперь про нашу там архитектуру да то есть на что мы заточены и почему мы такие мы планировали что мы будем работать с десятками сотнями тысяч РПС это прям точно мы себе заложили планку с возможностью масштабирования до 1 милна понятно что могут быть ограничения там на той или иной стадии mvp моя команда меня поддержит сейчас что ж волод думаю сейчас будет вопрос как к нашему разработчику в ЧМ сила реально Как ты считаешь нашего продукта Ну преимущество нашего решения в том что мы обрабатываем события потокова на вход нам приходят некие события это события касающиеся клиентов на выходе мы отправляем так называемые маркетинговые предложения или предо добрее предложение это не просто реклама это предложение конкретному клиенту котора его устроит То есть он кликнул там ж макнул на кнопочку и получил также преимуществом является то что мы не храним большие объёмы данных со всеми вытекающими последствиями Мы обрабатываем в режиме онлайн эти данные и формируем приложение добавлю к Володе то что у нас полнейший асинхрон у нас множество микросервисов которые мы разработали за очень короткий промежуток времени и в принципе нас пока всё устраивает И мы выпо главную функцию бизнеса заработать Надеюсь вы всё ещё не ждёте кредит своей мечты да То есть вы можете получить любой момент что ж теперь про то как наша команда начала формироваться буквально в октябре мне говорят что есть интереснейший проект Готов ли ты его взять и возглавить да то есть и создать в энтерпрайз понимаем что такое энтерпрайз Да насколько там порой сложно что-то создавать если какой-то небольшой стартап Там намного проще й имеет свои да то есть отягощает йе есть свой отягощать фактор потому что это что-то большое надо встроить в энтерпрайз архитектуру суметь пройти по всем пайплайн и много чего ещё другого В общем буквально в октябре я зашёл на проект до этого я вёл то есть создавал графо ую платформу потом гео платформу поддерживал ML платформу и буквально за ноябрь-декабрь я сформировал Костяк своей будущей команды понимаем что команда сформировалась вообще с то есть в октябре не было никого кроме меня и продукта за ноябрь-декабрь мы сформировали Костяк Костяк - это два системных аналитика один супер тестировщик и три разработчика что ж уже где-то Мы в конце декабря тире середина января представили первый технический прототип который работал архитектуру я уже прикинул где-то в октябре мне помогали коллеги Ну то есть реализовывать и где-то в феврале мы показали уже первый бизнес прототип который можно было использова на продакшене и тут же Здравствуй февраль Здравствуй Март мы получаем изменение по бизнес требованиям полное да то есть полное изменение Ну разворот не на 360 с чем-нибудь там градусов да то есть не на 180 но где-нибудь там градусов на 70 и соответственно это прям большая проблема но ребята из разработки ребята из аналитики под и В Мате выводим новую версию продукта соответственно это 15 микросервисов чтобы вы понимали а Нет сначала у нас было получается 13 микросервисов А уже в июне мы 15 микросервисов запустили соответственно апрель май июнь Здравствуй продакшн получаем множество багов А это было непросто теперь чтобы вы понимали да то есть где мы находимся в корп архитектуре когда мы говорим опять же про корпоративную архитектуру это что-то большое что-то тут же шина протокол да то есть это не одна грубо говоря система порой это тысячи или несколько тысяч систем с которыми ты должен так или иначе начать взаимодействовать и точно не порушив тут же инциденты и все проблемы на голову руководителя проекта Ну в данном случае либо мне либо продукту вот мы в корп архитектуре покажем достаточно Просто мы взаимодействуем с огромной машиной кредитного конвейера с множеством мастер систем по обогащению нас данными как сказал Володя да то есть мы точно у себя не собираемся ничего держать нам надо быть максимально быстрыми оперативными масштабируемые ретай соответственно мы слушаем события по клиенту фильтруем то есть не о деся потоков дальше балансируя всё это гдето там дроссель Да сидит Потом мы начинаем все наши 15 микросервисов начинают всё это обрабатывать формировать После чего мы ложение пачку предложений их дальше начинаем приоритизировать потому что для клиенту точно не нужно иметь целую пачку то есть одно но реально актуально и важное да то есть потому что мы заточены да то есть на ответно предложение То есть клиент что-то хочет и мы ему что-то даём он даже Возможно либо он хочет здесь сейчас получить предложение либо он писал парочку приложений да то есть начал писать Сам на линке на Джаве на тарантуле волод Я же это написал Да да да мы ключи подавали помогли да Если говорить о об архитектуре нашей системы то вот это вот белочка слева с прямоугольником фильтрации это сердце нашей системы в неё приходят события от внешних банковских систем она отдаёт фильтрует выбирает по некому и отдаёт уже второй белочке с надписью калькулятор это расчётное Лин приложение которое является мозгами нашей системы оно формирует уже те предложения которые пойдут клиентам наиболее выгодные чтобы он был счастлив и доволен также у нас имеется Тарантул В качестве резидентное базы данных к ней обращаются все участники нашей системы имеется девять springboot сервисов Ну это Саппорт сервисы они занимаются аудитом разными штуками Неди другим нашим работникам работает Это ВС по шине сообщений кавка общаемся Мы с внешними системами Но это вот если совсем В общем в принципе всё так и есть да то есть ЕС посмотришь на экран думаешь как же это всё просто выглядит Но как это было всё не просто изначально спроектировать Да так чтобы это 100 раз выдержало все возмож переработки изменени бизне вот это реально было нам сложно что ж как вообще мы докатились до белочки да то есть не та самая белочка которая приходит после непонятного ония А этот афн пролин да то есть мне как менеджеру или там тех Лиду было важно чтобы мы оперативно разработали продукт у нас не было там огромного количества времени То есть ни год ни два да то есть на разработку нам нужно было за пару месяцев представить уже готовый прототип решения и доработать его буквально через 6 меся чтобы оно было полностью в продакшене и обрабатывал да то есть огромнейший массивы данных соответственно всё должно быть готово в коробке лёгкая масштабируемость Желательно чтобы это джило всё из железом и с виртуализацией многопоточность то есть мы должны обеспечить такую многопоточность которая нам позволит масштабироваться до десятков сотен тысяч ПС и соотвественно Даше возможно до миллиона да то есть заложить сразу у себя это архитектурно потом всё должно быть готово да то есть библиотеки уже должны существовать для интеграции с самыми простыми технологиями типа кавка да то есть пас гря и дружить там с jav ска да то есть основными языками Ну и конечно динамическое управление ресурсами это точно вот по таран Это точно Володя потому что без всякой скромности скажу что Володя написал очень много что у нас да В нашей системе и вот Тарантул Володя переписывал далеко не один раз Ну было дело выбирали резидентное хранилище Как водится всем миром Ну по классике выбор был между редисом и тарантулом в тарантуле привлекла во-первых высокая производительность гибкость этого решения возможность масштабирования ну и то что это не только кэш А ещё и сервер приложений плюс к этому в подарок шло построение модели данных схожее с нашими любимыми реляционными базами данных там даже можно ключ налагать внешни что вообще хорошо поэтому подумав взяли Тарантул вот полность с тобой согласен Хотя мне не один раз мои коллеги там советовали там волоть стой прям стой нельзя это делать то есть Не используй есть много рисков там новая технология да то есть Используй порю теча спасёт мы делали всё на поре всё на хранимых процедурах потом использую редис мы позвали несколько раз да то есть я услышал на самом деле всю критику от ребят которые из моей команды то есть что они думают и в принципе мы остановились на тарантуле и поняли что мы не зря его забрали себе теперь по нашей языковой солянки да то есть Сколько языков у нас потому что некоторые мне скажут там менеджеры или там тех Лиды может быть или даже ребята из разработки Зачем тебе там столько языков Почему да то есть один язык потому что один язык удобно легко потом себе менять людей да то есть ну на всякий случай задуматься об этом плюс один стек достаточно просто Володь Вот как ты вот с этим миришься То есть смирился Потому что ты человек из джавы у тебя тут я подсунул Скала подсунул лу ещё где-то там с да да Ну на самом деле зоопарк не очень большой бывает и больше но в принципе если говорить о Джаве То это классика это СНГ иго пот проекты Скала классика для Биг даты это флин ковы приложения хотя в принципе на линке можно не спринг бутовый писать приложения никто не мешает Ну они живут в синергии как языки А вот лу - это конечно совсем другая история это скриптовый язык со всеми вытекающими да но без него никуда не денешься по большому счёту если выбрать редис то там тоже лу поэтому Ну такое в принципе да ещ добавлю что нам не хватает и что-нибудь там типа реакта бидона да на самом деле шучу А у меня как там любого афишка посещали соответствующие страхи вот я затаскивать себе в проект множество неизвестных там А мне точно технологий То есть я Вернее знаю их да то есть а вскользь но полноценно с ними я ни разу не работал То есть я там работал с всевозможными мультимодальные базами данных это Big дата Полностью Вся но чтобы прямо реалтайм жёсткий да то есть иметь в себя под капотом тут нет поэтому какие там меня страхи посетили да то есть наверное перед страхами скажу небольшую историю когда я начал активную компанию в линки дене чтобы там найти себе ребят я там не ждал когда мне чары помогут я сам начал фигачит статьи да то есть писать множество сообщений заходить всем своим знакомым к директорам руководителям к знакомым айтишникам там типа ребят Помогите мне нужна команда хочу собрать себе классную команду да то есть на интересный проект необычный проект зашёл ко мне Мой коллега из сио из Штатов там одну крупную компанию ведёт говорит Слушай прям Давай говорит остановись вот прям Не рекомендую те технологии которые ты используешь да то есть брать себе тем более в тот короткий срок который ты хочешь реализовать Я говорю почему Ну смотри ранто ом Говорит есть риски да то есть если у тебя ребята его не знают они могут споткнуться где угодно там это реально это множество конро Т иже ли выпе действительно меду контурами взаимосвязь и настроить реальной хороший процесс вопрос потом Лин А вот тут Если вы используете ти Ты же понимаешь что очень много теоретиков но реально мало практиков И так на самом деле оно есть да то есть ты заходишь на наш знам там из разработки реально Кто знает флин У меня очень мало Ну то есть того одного человека которого я очень хорошо знал Я забрался на проект сразу вот ещё раз очень маленькая комьюнити да то есть меня обл страх то что мы не сможем это разработать вовремя плюс лайны дедлайны Сможем ли мы уложиться в них если будет переработка архитектуры то Сможем ли мы это выполнить И вообще Заведётся ли вся эта машина которая изначально была у меня в голове Володь А какие тебя на самом деле посетили тоже вот страхи да Потому что ты тара Я помню точно не работал ты мне рассказывал там всё что угодно про orac тарату но давай главная причина арахнофобия у меня как человека который всю жизнь писал на Джаве это неизвестность технологии это другой мир он выходит за экосистему за пределы экосистемы джавы и плюс к этому коммьюнити конечно ограниченная Да в сравнении с тем же редисом поэтому страх был плюс э технология не очень используемая она может быть и не очень молодая но баги все будут твои поэтому это конечно пугало в начале Ну как у любой молодой технологии действительно так это то что было у нас да то есть на стате что имели там какие страхи и теперь во что они воплотились для себя мы сразу же вынесли Что к чему надо точно Быть готовым да то есть вот если там вдруг пойдёшь по такому про процессу либо захочешь сделать продукт возможно просто Т надо посмотреть А как же они сделали мы-то уже разработали вот это мультиязычность если ты делаешь интересный проект и тебе нужно сделать это в горящие сроки да то есть то ты будешь формировать команду и возможно не всегда да то есть твоя первичная концепция будет оставаться той же самой ты её подработать нехватает каких-то скилов то есть мультиязычный проекта надо точность вы тащите се танту это знание лу готовым жить в линуксе Ну в принципе думаю тут это не страшно знать хорошо прямо саму технологию Тарантула да то есть ожидать что CCD будет отличаться от классики Это точно да то есть классика для банков для банка и финтеха Да потом мы точно отловили парочку багов да то есть ждите баги не только в своём коде И что там где-то вы могли сделать ошибочка А ждите багов в реальных официальных версиях да то есть по да то есть и Open Source и возможно уже готовы разработки какой-то потом и перестраивать 100 раз архитектуру волоть точно твоё Да ну сам жизненный цикл Таранто приложения он не сильно отличается от того же Java приложения мы его билдим мы запускаем тесты мы его передаём уже на деплой плом в разные контура наши и всё хорошо но проблема и нюанс заключается в том что таран строится на там свой сбор там своя экосистема соответственно если у вас настроен уже какой-то пайплайн какая-то сборка на Джаве вашему девопсу придётся настраивать это ещё раз Ну в принципе не страшно с одной стороны скажи девопсу да это и работа девопса и хорошо Всем Если говорить о том что позволяет таран то это в принципе сервер приложений полноценный Он позволяет писать приложения и вот тут нужно понимать какой какого баланса вы хотите достичь какую часть логику хотите вы перенести в Тарантул И хотите ли Вообще и какую часть логику оставить на каких-то внешних сервисах У нас например в начале часть логики по сохранению в постс и чтению свки полностью была реализована на тарантуле но в силу особенностей наших контуров пришлось переносить это во внешние jav сервисы Поэтому вот этот вот баланс его нужно продумать да то есть мы точно сейчас на этом докладе не сможем объять все фазы да то есть по которым строятся приложение но как минимум то есть основные вехи Володя рассказал точно каков же наш был спринтерский забег по контурам разработки а он реально был спринтерским забегом Сейчас наверно Даже моя команда сидит и срочно готовится к выдаче нового микросервиса Прошу прощения что ж когда Мы начинали на самом маленьком контуре это деф разработку делать Да мы столкнулись во-первых Где взять разработку какую разработку брать А будет ли это дружить с Прай архитектурой Вроде бы мы со всеми ВС обговорили но тут же ВС опять же может измениться Как правильно всё это развёртывать как строить в текущий пайплайн а поддержит ли нас текущий пайплайн который есть компании потом когда мы начали писать на тарантуле волод уже посветил наша логика начала немножко от него отваливаться отваливаться по кускам потому что между контурами да то есть мы там сделали сам деле сами ошибку то что разные ры нули изза этого у нас пришлось часть логики просто отрубить и перенести на СН и опять же мы срочно срочно всё время перепили микросервисы допили их под текущую архитектуру то где-нибудь в рамках интеграции кавка одной версии в другом месте другой версии там у нас шина такая-то да то есть здесь другая шина И совсем этим настроиться везде подключиться да то есть надо балансировать да то есть эти версии библиотек это ну это такое такое себе потом как-то раз мы сидим с ребятами не можем понять Мы вроде всё разработали первый бизнес прототип выкатили всё должно быть хорошо проверили все формулы прям то есть проверили досконально Все вычисления Должно всё работать нормально не работает Ну то есть выдаётся ошибка в расчётах раз посчитали два посчитали три посчитали садится д человека три человека вся команда сидит уже реально смотрит где что мы упустили это упустить вообще да то есть Володь Как тебе было первый бак Ну да первый божок мы словили когда начали выполнять сложный запрос Тарантул там было много условий и при изменении порядка условий мы получали разные результаты Сначала мы конечно долго думали что руки у нас кривые потом мы их выправить там подавали вопросы Ну естественно Был ответ выправки Мы ещё раз пошли подумали начали дебажить и тут Выяснилось что Ну вот точно точно ошибка где-то в модуле там используется модуль КД так называемый это модуль Тарантула который позволяет искать по шардам в кластере После этого мы уже пригласили разработчика он любезно согласился с нами с нами по дебажить И полдня дебага привели к тому что мы нашли ошибку там она была банальная оптимизатор Тарантула он исполняя запрос думал что все на все поля наложен индекс они все отсортированы и просто отсека выборку возвращал ноль в начале или там какую-то ерунду но в итоге за целый день э нашими стараниями баг мы нашли и Георгий спасибо ему пофиксили ну этот баг был далеко не один да то есть мы нашли там ещё парочку глобально Это был интересный прямо вот реально интересный опыт да то есть который приобрела се команда То есть когда ты находишь в реальном продукте и вроде бы в том самом модуле который используют многие другие команды и ни у кого не возникало вопросов там возникает Ну то есть другой вопрос У меня что вы там используете тогда вот по итогу чего достигли да то есть буквально за энное количество месяцев да то есть с октября и реальная разработка это там 2 с пот месяца Здравствуй продакшн реализовали Итого 15 микросервисов пять флин приложений Четыре из них фильтрующих и одно приложение - это мозг да то есть которые производит все расчёты самые высоконагруженные будем говорить далее каждый микросервис в том или ином виде танту танту великолепно с этим справляется мы изначально рассчитывали на то что мы можем на Таранто положи и положить до порядка 1 милна РПС внутренних РПС да то есть чтобы он это держал прямо и у нас не было никаких проблем нту справляется Даже тогда когда мы себе зали Ну не знача будем говорить а все-то передвинули и получили что наш какуля Ну то есть наш наш мозг начал рассчитывать очень много да то есть резко а запросов да то есть всю очередь перечитывать заново на огромнейшая была он спокойно дал на Тарантул нагрузку по максимуму которая была и Таранто справился даже особо-то и не пострадал потом основную логику мы бизне сову именно логику Мы положили во Френки всё что касается не бизнес логики это на СН Ну то есть на джаву переложили и это было наверное очень правильное решение чтобы часть прило то есть часть микросервиса вообще были без бизнес логики и ни в коем случае не пострадали плюс если вдруг мы где-то не успели дотеров она либо чтобы статистику собрать либо чтобы понять разобраться либо что-то ещё сделать То есть это больше помощь по итогу по опыту который точно мы получили там ребята надут соврать что таран мы поняли Это понятно что это не реляционная база данных это Вот прям реально швейцарский нож который Т вставляешь се в проект он может тебе сделать всё что угодно Главное правильно с ним обращаться у нас просто мы честно мы когда думали там А точно мы справимся с тарантулом да то есть на нам были предложения поря и там подобное когда мы начали между контурами то есть двигаться что понимали то есть в энтерпрайз это несколько контуров да то есть там контур разработки контура для интеграционного функционального тестирования нагрузочного тестирования потом пред промышлен какой-нибудь контур и уже контур для Промышленной эксплуатации Когда у нас начал Тарантул общи да то есть меняться или там мы нашли бакли Я говорю Володь Может это на Реди глянем переработки наших данных затащить их в таран таран будет по нескольким индексам отрабатывать и выдавать это реально быстро и поддерживать наш с минимальным Это было просто классно плюс там же у тебя само приложение которое помогает тебе максимально быстро работать с таран Лин и Таран хорошо дружат да то есть для ги они будут дружить потому что я видел на хаб там разных исследованиях как с редисом как любыми с другими да то есть Шами дружили но чтоб ранто меня не видел у нас всё это прекрасно сдружились Я прямо счастлив потом готовьтесь то что тестировать нужно всё по-любому да то есть это не только да то есть ваш функциональные тесты по тому что вы разработали но и то что могут быть баги в исходных версиях по да то есть и то что архитектура ваша будет реально меняться самое главное изначальный концепт заложить таким образом чтобы он легко перестраивался да то есть и а не сломалась ваша концепция изначальная А чтобы архитектура просто там ну кубики ой квадратики меняются да то есть но это не влияет глобально на ваш процесс на вашу информационную систему Володь вот я там сейчас Как техлит как аналитик да то есть как проектировщик могу дать да то есть совет какие у тебя на самом деле да то есть что ты испытал какие у тебя боли были боли Ну совет на самом деле Только один при создании таких проектов с нуля Да как говорил один военачальник на Поле битвы первым делом гибнет план этой битвы Поэтому в условиях во-первых жёстких сроков во-вторых постоянно изменяющихся требований если они Конечно есть это вообще хорошо нужно использовать все лю Ja который у нас натягивается на Глобус везде нужно это или нет Вот тут самое место ему это демо это синхронизация команды Ну и помимо ва в управлении командами гибкость конечно же должна быть на всех во всех этапах проекта начиная с архитектуры заканчивая точечными техническими решениями Вы должны быть готовы сменить базу данных Вы должны быть готовы сменить резидентное хранилище и группироваться уже в процессе поэтому только такой полностью поддерживаю да то есть грубо говоря выкидывайте любой кубик вставляете новый и ничего особо не меняется да то есть то есть сделано всё максимально да то есть одинаково потом поддержу Володю что вот когда вот мы начали разрабатывать я реально Оценил да то есть со скрам Мы конечно порой с ребятами там в it какой-нибудь конференции можем пошутить типа что скрам - это ерунда да то есть это просто методология Но то что мы проводим порой ретро да то ретро да то есть понимаем какие у нас где проблемы где мы что-то не доработали И порой раз мы и пару раз мы не провели и потом осознали что А вот тут-то мы это забыли подсветить и мы потом поздно поняли что одна из функций у нас там наме функция тестирование да то есть страдала нужно её да то есть ей помочь вот если вы будете там что-то разрабатывать Готовьте что нельзя ни в коем случае да то есть если вы делаете всё по скраму Следуйте его традициям да то есть это Лано помогает реально по кране ремы быстренько порой формируем задачки возм новы и прямо в спринт и понимаем что это здесь сейчас нужно а не потом когда-нибудь про баги я в принципе сказал что там ещё а скажу ещ наверное что каже перебил тебя что часть команды может вас покинуть потому что вы могли там если дела такой проект дам по софта всё великолепно вроде полностью всё хорошо но когда вы делаете в режиме жёстких сроков в режиме жёстких редлайна да то есть ваш проект вы понимаете что а вот тут это меня товарищ подвёл да то есть или вы можете там не сойтись во мнениях и часть команды покидает и тут тоже надо понимать что если покинул вас часть команды Вы должны продолжать всё равно штамповать ваш продукт не должны ваши функции теряться То есть как бы и где-нибудь заложить себе бэкап Чтобы кто-нибудь ещё это мог сделать в принципе наверное Всё Всем большое спасибо всем спасибо спасибо огромное А друзья переходите пожалуйста по QR коду оставляйте вашу обратную связь это безумно важно и спикером и программному комитету А теперь давайте перейдём к вопросам Если вы слушаете нас онлайн задавайте пожалуйста вопросы я буду их зачитывать если вы стесняетесь задавать го Вы тоже Можете писать вопросы в чат а я уже вижу руки пожалуйста х передайте микрофон осд раз привет ребят Я Серёга аналитик из Бера Вопрос такой Мне кажется одну тему очень важную Особенно для банков финтеха не коснулись рбе и вот эти вещи да меся полтора ли у вас уже есть какие-то приложения вы понесли на проверке там ВС светится красным и вот здесь вы понимаете что ну блин нам теперь нужно что переделывать всё что ли насколько сильно у вас именно в проекте влиял депс как получилось договориться скажем Володь скажу да да давай вопрос классный вот этот Ты прямо нажа на то больное место которое реа тоже болит обм е кто-то работал в энтерпрайз сталкивался с проектами в энтерпрайз там или в банкинге Он наверное понимает что разработка длится обычно месяца два или три да то есть а оставшиеся 40 или 60% времени - это defs да то есть Выведи Попробуй Выведи на другие контура настрой этот пайплайн А если мы ещё и отказались от некоторых продуктов типа Team City И зашли на что-нибудь другое какой-нибудь там или там другие корпоративные инструменты это тяжело ну мы Здравствуйте Бессонные ночи Бессонные вечера у нас скажу Так я сказал что мы выдвинули в феврале Наш первый бизнес прототип и в феврале мы начали настраивать то есть конвейер да то есть наш а настроили мы его где-то за месяц тире полтора То есть пока сразу же выводили на разные контура да то есть пошагово и дальше его дост плюс скажу что мы использовали полностью наш корпоративный конвейер это внутренний инструмент то есть полностью если у нас ещё руки в зале вот пожалуйста вот вижу две руки хл пожалуйста сюда микрофончик и пока мы несём Микрофон пока мы несём микрофон а всё микрофон уже Пожалуйста задавайте вопрос Добрый день работает Спасибо за доклад Вопрос такой говорили про гибкую архитектуру хоте узнать что именно вы использовали и в тах прое Наверное я отвечу тут на самом деле Можно целый доклад делать и в один тяжело уместить Да в небольшой ответ Если говорить на каком-то Нижнем уровне Ну понятно Это всеми любимые спринг репозитории Наши да Когда вы можете сменить источник данных быстро без переписывания логики если говорить об архитектуре то это выделение неких модулей ответственных например за внешнее взаимодействие Ну вот сегодня у нас Артемис Да мы общаемся с внешней системой по Артемис завтра она переезжает там переезжаем на другую систему там кавка Ну понятно что имеет смысл выделить какой-то адаптер это что касается архитектуры Но вообще конечно это под конкретную задачу какого-то Если бы был какой-то универсальный ответ да мы бы все были счастливы и может быть даже на лоу вот не ездили сюда поддерж Лори Спасибо огромное и перед тем как мы зададим Следующий вопрос Я хочу напомнить что вам друзья придётся выбрать один вопрос который вот больше всего вам запомнится причём придётся договориться Вот можете начинать об этом думать а мы слушаем Следующий вопрос Добрый день меня зовут Юра я из Яндекса Я хотел спросить про семантику обработки которую вы используете Я слышал что ВН есть проблемы с И вот хотел спросить живёте ли вы на at least или на чём-то мощнее и если читаете Вы можете одно событие обработать дважды и его эффект там мультиплит в системе И вот я хотел спросить вы как-то это предотвращается или вы просто пишете свою бизнес логику Так что с этим живёте с Ну действительно то есть мы можем за одну единицу времени да то есть событие может прийти сразу по нескольким потокам Правильно я говорю мы же правильно говорим а скорее или обработать в одном и том же потоки одно и то же событие несколько раз Ну прошло событие вы его обработали вас перезапустили как бывает в больших системах вы его заново вычитали заново обработали отослали пользователю два уведомления Надеюсь Нет нет нет у нас такого точно нет мы се поставили всевозможные ограничения да то есть на разных уровнях эти ограничения во-первых это на уровне in Memory Ну то есть в тарантуле да то есть мы делаем сравнение там по датам Ну то есть отправляли ли мы ранее запрос делали ли мы ранее вычисления да то есть чтобы не перегружать систему лишними вычислениями плюс если у нас одновременно срабатывает несколько потоков то есть несколько событий по одному клиенту да то есть сразу в нескольких потоков мы же не можем да то есть его заддосить да то есть маркетингом предложени мы должны делать одно всегда да то есть и систему не перезагрузить Ну если я правильно понял exactly У нас нет то есть действительно мы можем получать их это уже разруливает внутренней логикой Понятно спасибо Благодарю так вижу ещё руку пожалуйста сюда пока мы несём микрофон вопрос из чата какую используете где запускаются приложения и использовали SQL для логики Володь Хочешь я скажу Может ты Давай скажу сразу если там кто-то будет готов пообщаться по поводу фнка с нами наш коллега Который прям пишет весь флинк да то есть всю его логику м готовы пообщаться Ну а так в принципе скажу что нас используется вторая же версия правильно наша версия на которой мы сейчас находимся мы пробовали другую но решили остановиться на вот этой по тем или иным причинам которые там лучше сказать потом их очень много просто было для нас а потом кщ вопрос почему я наверно добавлю тебя Володя там был вопрос как разворачиваем разворачиваем мы в кубе в кубес разворачиваем через докер образы Понятно в режиме апликейшн благодарю прошу Следующий вопрос Спасибо большое за доклад Владимира Меня тоже зовут Владимир вопрос от Владимира Владимира можно ли верхний уровне сказать Какие нагрузки сейчас держит система То есть вы приводили какие-то цифры Можно ли подробнее к примеру в день максимальная нагрузка или в ночи как справляетесь какими-то даж полноценное нагрузочное тестирование по всем правилам регламентам того как это должно быть реально сделано да то есть Ну это уже где-то в июле это у нас плану потому что не успели мы это просто сделать физически и так все вечера были заняты а соответственно сейчас мы недавно мы выдержали там под сотню да то есть ПС Это буквально мы это было в единицу времени потому что мы решили перечитать заново очередь прямо ну а все сбросили да то есть там поставили новую версию и поняли что оп мы заново перечитывая решили ничего посмотреть как наш система поведёт себя повела себя прекрасно да то есть всё это выдержала а потом так как у нас пользуется множество микросервисов да то есть каждый из них рассчитан на плюс-минус чтобы он держал у себя Ну вот это планово да то есть архитектурно что он держит точно под сотню тысяч а дальше мы можем его развивать in Ну то есть наш таран удержит миллион фактически сейчас да то есть реальная нагрузка она в разы меньше не буду говорить точно число по тем или иным причинам как бы мы там инде немножко связаны Но это в разы меньше небольшой прикол расскажу буквально буквально где-то в октябре чуть нас не случилась такая ситуация что наша команда не командой Владимиров быть разработчик и тестировщик все владими И я Владимир да то есть оставшись это ю удобно супер Ели у нас ещё вопросы ребят в зале не вижу вижу вижу Вот есть Спасибо за слышно меня Спасибо за доклад Илья вопро на одной ноге А в остальном у неё такой интерфейс редиса были ли у вас какие-то сложные фильтра Если да то как вы их реализовывали к Тарантул ф Наверное я отвечу да да воло А что что имеется в веду Ну какая-то сложная фильтрация к запросам в Тарантул Да мы мы же на ней как раз и вот эту БАГУ словили которую Георгий Моисеев разработчик А а как вы её реализовывали то есть как-то чи злу что-то дописывать нет Нет мы используем решение это модуль круд модуль круд - это такая штука которая собственно делает жные запросы к шардам то есть ко всему кластеру она обходит все шарды собирает данные и возвращают такую такие вещи в ванильном тарантуле раньше реализовывали руками там в первых версиях и прочее но у нас для этого есть крут он вполне годится нам Вот соответственно разработчики руда Там не все скажем так сложные запросы там нет например объединения через или логическое насколько я помню но разработчики открыты если оставляете им там либо сами пишите либо запрашивайте их эту доработку они вполне идут навстречу такой ещё небольшой вопрос А вы как-то вот сам язык ло на тарантуле для какой-то там обработки бизнес лойки используете коне конечно у нас используется как полноценный сервер приложений вот простой пример это работа со справочными данными Да у нас есть справочники на основе которых наша белочка негодница считает всё это дело нам прилетают новые справочники Да в режиме онлайн мы их заботливо укладываем дальше в какой-то момент времени по событию эти справочники перемещаем и всё это естественно написано на Если хотите работать с Здравствуйте Илья Промсвязьбанк хотел узнать вот вы предлагаете банковский продукт разным пользователям А как вы верифицируемость гаем в люм случае скажу что метрики - это немножечко не наша Тема да то есть потому что мы больше как бы сама команда разработк реализует нас есть соответствуй продук и коллеги от бизнеса которы ОТС матри все эти метрики Пока всех всё удовлетворяет да то есть у них там есть метрик там удовлетворённости оперативности сколько там предложений насколько это там не знаю там хорошо на В общем базовые бизнесов да то есть метрики который укладываются на любой продукт для там банкинга он говорит Не могу там сказать Какие метрики точно по тем или иным причинам но они есть и они удовлетворяют пока бизнес ну да Для нас это некий чёрный ящик это выходит за рамки нашего приложения оценка качества Да собственно наших предо добренко бизнес сделайте фичу такую мы скажем Всё Не вопрос мы вам сделаем фичу да то есть мы её проработаем концепцию и выложим А по Метрика к нам зайдут скажут оптимизируйте мы оптимизируем благодарю Ну что пришло время выбирать тот самый вопрос который запал самое сердечко мы посвящаем быстренько Итак давай тягостная минута Слушай тяжело Да мне кажется в принципе вдвоём выступать на сцене Гораздо тяжелее но вдвоём выбирать один единственный вопрос Это ещё тяжелее это вообще восьмидесятый левел нам вообще сказали что мы обречены между прочим можем быть обречены на провал потому что мы вдвоём выступаем это сложно Сложно вобще наверное Наф этап следующий надо уже да Ну надеюсь что нет Итак вопрос от по-моему не помню как зовут поднимите руку пожалуйста Спасибо огромное за классный вопрос вам и всем за классные вопросы а в подарок от онтика мы дарим Ту самую матрёшку про которую говорил Олег пожалуйста дорогие хелперы подарочек поднимите ещё раз ручку супер Спасибо огромное та самая уникальная матрёшка с этого года у нас будет Волшебная возможность их собирать Владимир и Владимир Спасибо вам большое за классное выступление а благодарю Спасибо всем Спасибо ещё раз Всем спасибо"
}
{
  "video_id": "s9ta_VhKriE",
  "channel": "HighLoadChannel",
  "title": "ClickHouse в Kubernetes — это просто! / Александр Зайцев (Altinity)",
  "views": 2687,
  "duration": 2454,
  "published": "2023-01-19T06:56:45-08:00",
  "text": "сегодня мы поговорим про кликал и про губернатор на самом деле я практиковалась рассказывала на hail аудио уже лет 5 вот и это доклад будет больше про кубер незачем практика us но если какие-то вопросы будут практиковалось можно их тоже обсудить значит чуть чуть и себе кто меня не знает я уже много лет занимаюсь а идти и настоящее время сетевой основатель компании аль денте аль денте занимается там клика а сам и вернется сам и вещами связанными с ними чтобы сделать жизнь людям лучше и я не брат петра зайцева театр к сожалению не приехал из-за текущей ситуации он частый гость на этой конференции оттяните минутка саморекламы мы занимаемся клика устам и сделаем клика лась проще для всех то есть вы строите приложение мы готовим для вас николас то есть наша цель чтобы людям было максимально просто строить свои приложения сервиса накликала и о чём этот доклад о том что кликал из интернета с это на самом деле просто и это тот именно сценарий дипломанта который мы сейчас все чаще рекомендуем людям клиентам комьюнити пользователя увлекался потому что действительно это упрощает жизнь прежде чем мы перейдем деталям пару таких вот спойлеров если компания ebay наверное вы ее знаете и где-то года полтора назад они опубликовали интересную статью про построение своей системы мониторинга система называется шерлок и суть этой система в том что она собирает различные там логе или метрики скучая внутренних сервисов и b и предоставляют понеман олей аналитику изначально у них это было на друиде они пределы накликала сэкономив примерно в 10 раз свои расходы на серверах и так далее загрузка примерно 8 миллионов метров в секунду другой пример пасхалок может быть вы знаете такая компания делает окон собственную продуктовая аналитика она достаточно молода и они тоже в какой-то момент пишите на crack house и сейчас предлагают крика us как стандартный вариант бэг-энда и сколько и туман source вы можете сами себе это все поставить по тем инструкциям которые которые по срок делать у них сотни инсталляции у пользователей плюс какие-то свои собственные облачные вещи аль денте клауд у нас тоже есть куча различных crack house of в которых мы управляем клика 8 для наших клиентов стоит не кликал из кластеров что это все объединяет вот эти три совершенно разные компании три совершенно разные бизнес-модели то что в них кликала сработает в q бернетт оси и сейчас я вам попытаюсь рассказать как готовить кликал аську берна тыс и как его лучше там использовать и почему так не иначе вообще зачем нам эти в cabernet из вот я работаю с ним наверно из девятнадцатого года и в девятнадцатом году еще было непонятно правильно этот тренд или неправильный был месяц был там openstack но губернатор это было так вот модно и стильно молодежно то есть люди особенно молодые специалисты не ври о купер наци круто давайте это попробуем постепенно этот продукт становился все более и более зрелым и в двадцатом году уже можно было сказать что devops сказали что надо идти в губернатор поэтому мы тоже туда пойдем через год уже практически все так делают и в нынешнем году 22 можно сказать что губернатор это стал комодик то есть это как бы стандартная штука как linux уже не говорит кто-то что это что-то специально это общем стала как линус и большая заслуга в этом тех кто губернатор развивает частности те самые молодые люди которые до девятнадцатого года там в шестнадцатом семнадцатом 17 поверили в cabernet при этом поскольку это стало комодики то губернатор уже не нужно даже уметь готовить то есть сейчас небольшое количество компаний сами ставят губернатор срез что-то с ними делать большинство используют какие-то готовые решения например манишку бернетт с в амазоне в гугле ажур в digital оушен в яндекс облаке в mail.ru клауд везде где есть мы на что какие-то решения cabernet из часто присутствует это если вам нужно свое приложение выложить production а если вы разрабатываете есть мини-клуб есть еще несколько решений который позволяет вам на вашем лаптопе развернуть инфраструктуру и сделать то же самое что в каких-то там больших облаках на самом деле разницы запускаете в свое приложение в мини-клубе или в каком то там большого промышленном куплена в кластере она очень небольшая но чуть это было такое вступление про губернатор теперь вступление про кликал что такое клик house и на самом деле если у вас один серваке красота наверное это просто вы можете просто поставить там запустить процесс закинуть конфигурации он работает проблема начинается когда у вас большое приложение и вам нужен большой кликала сна это кластер в кластере есть шарда в кластере есть реплики они по-разному совершенно конфигурируется в кластере есть много конфигов при этом эти конфиги они связаны между собой например нельзя один и тот же конфиг раскатать на все узлы кластера потому что в конфиге могут быть специфичные вещи которые указывают что вот это это самая реплика вот это этот самый shard и какие-то там еще вещи это все можно сделать и люди это делают там enfeeble им какими-то вещами но это как бы нужно делать что нам обещают губернатор то есть cabernet а сам обещает что нас все будет просто у нас будет простая масштабируемость у нас будет простое там одна кнопочка управления нас все будет всегда работать потому что коберна это за всем следит у нас будет какая-то безопасность это вот это может быть скоро спорный вопрос и чтобы эти обещания выполнять губернаторе есть куча объектов то есть если вы знакомы то там есть но дэпо disciples это тепло и мотосервис и все что угодно но в кабинет assigned клик хаоса то есть как вот из этого набора кирпичиков приготовить правильный клик rouse чтобы он при этом удовлетво до влит varial нашим обещанием относительно масштабируемости простоты управления надежности и так далее то есть вот как то что с одной стороны слева превратить та что справа и для этого есть два общих подхода один из них можно все сделать вручную то есть вы может быть такой хардкорные специалисты умеете работать в целом умеете сами готовить яблоки вы их там на строгали нужным образом и получили clear house потом может быть в оптимизировали написали home чарт а можно пойти более простым путем с использованием оператора и я буду в основном рассказывать про использование оператора и начнем с того что это такое оператор операторов кудрин это все это в первую очередь программа называется он так оператор потому что это некоторым образом заменяет оператора человека и люди которые оператор разрабатывают они в него вкладывают знания и вот знания здесь основное слово знания как как развернуть крыла стер как его правильно сконфигурировать как масштабировать как его апгрейдить как делать другие операции типичные для оператора какой-нибудь сложной системой типичные для devops а типичные для детей и именно оператор как бы позволяет это делать что то он делает сам что то он сильно упрощает делать на входе в оператор всегда есть описание ресурса то есть что вы хотите чтобы оператор сделал губернатор расширяется мы немножко об этом говорим он может расширяться специальными описаниями ресурсов и вот описание ресурса который называется клик house это то как мы расширяем губернатор чтобы использовать там кликал с кластера оператор понимает ресурсы типа клик house 3 звезды финиш он обрабатывает их определенным образом и превращает вот в тот набор низкоуровневых кусочков cabernet если которые делают то что мы хотим то есть вот эти всякие подлые стартовал с этой сервисы разных типов сторож все это оператор делает путай инструкции которые ему дали причем инструкция она может быть максимально компактной а то есть мы вкладываем всю сложно и понимание как готовить клика us внутрь инструкции и оператор понимает что нужно сделать вот как выглядит например кластер кликала со из двух шар дав и 2 реплик это много объектов в каждом шарди реплики это стоит full set под валим валим клеем конфиг bp несколько и все эти объекты создаются буквально быстро когда вы даете оператору инструкцию сделай мне так лирическое отступление вообще когда мы говорим про облаках про cabernet из и про прочее мы часто употребляем такую метафору как стадо да то есть облака это стадо чего-то похожего серверов виртуалок of виртуалок кодов чем отличается стадо тем что там все взаимозаменяемая но все коровы примерно одинаковые пастух может даже не знать их по именам а база данных традиционно это котики и все котики свои все котики со своими характерами и часто особенно несколько лет назад люди не понимали как вот этих вот котиков базы данных запихнуть cabernet с потому что кубрина тест для них изначально не разрабатывался причем эти котики у нас не просто обладают своими собственными характерами они они еще тащат за собой чемодан с данными и эти данные они разные а неспецифические и очень очень ценные потерять давно это последнее что может позволить себе базы данных так вот оператор он на самом деле дрессирует котиков чтобы но не загнать их конечно стоило на чтобы сделать их управление и прогнозируемыми то есть это именно дрессировка обучение как с этими котиками обращаться в кубер на это с окружении чуть-чуть теория вообще как работает оператор и как работает губернатор губернаторе есть единый механизм который называется control лук контрольный цикл то есть он постоянно делает операцию обзор то есть он смотрит на то если изменение в описании разных ресурсов cabernet если если есть изменения то этот конце лук пытается эти изменения применить чтобы ну например мы создали новый под это изменение но мы его создали описания и загрузили в кубер нет из после этого control лук замечает что нас появилось описание нового года и нужно его создать он идет и создает вот этот постоянный цикл контроля затем что поменялось он происходит в губернатор си и это как бы суть его работы вот операторы они расширяют этот контрольный цикл дополнительные логикой который обрабатывает наши объекты то есть те модификации которые мы делаем в каждом ресурс в данном случае описание клик хаоса они все отслеживаются оператором он получает сообщение о том что вот у меня поменялся такой-то ресурс он видит что именно поменялось и может эти изменения применить то есть мы общаемся с операторами посредством интерфейса ресурса поменяем ресурс оператор видит изменения применяет их в губернатор соответствующим образом модифицируете объекта которые которые нам нужна теория закончилась давайте немножко посмотрим на практику то есть как именно как именно люди которые хотят использовать кликал scooby рн от оси решают специфически и очень общие задачи то есть наверное а каждый кто слегка сам работал так как у того такие задачи возникают у прежде чем решать задачи откуда берутся оператора до операторов есть два источника во первых есть оператор хоп это такой комьюнити проект по моему он сейчас подряд х там где люди могут публиковать свои оператора у радика то там своя собственная есть видение на эту тему эти операторы могут использоваться в подшивке но мы тоже можем туда посмотреть и если вам нужен какой-нибудь хороший оператор например клетка усилить какой нибудь еще вы можете пойти на оператор хоп и посмотреть а если там оператора для вашей системы для манги москве до aerospike а чего угодно если он есть скорее всего он там прошел определенной проверки его можно использовать вот оттенить оператор на оператора хоп уже 2 года или 3 года и его можно оттуда брать либо можно взять просто сдать хаба инсталлируется это все пан source инсталлируется в нужном space я не буду концентрироваться на конфигурации это нам сейчас не очень интересно вместо этого посмотрим на первый кластер вот первый кластер который вы можете создать он максимально простой всего здесь восемь строчек и в этих восьми строчках есть инструкция про то что мы хотим запустить кликала с губернатор эту инструкцию можно выполнить в мини-клубе на вашем лаптопе в амазоне где угодно на каком ты бормотал cabernet провайдер не важен инструкции одинаково она везде сработает и кластер будет запущен если мы выполняем вот эту инструкцию мы это можем сделать посредством и пику бернес а то мы увидим следующие объекты которые будут созданы не все часть из них это стыд full set под и два сервиса сервис для кода и сервис который load balancer потому что у нас может быть много серверов плескался мы сразу создаем лет балансер одна команда восемь строчек и у нас уже развернулись развернулась 4 объекта плюс еще там а дополнительные конфиг небо и прочее которые не видны если вы делаете купцы tail get all что если мы хотим добавить реплику нам нужно буквально поменять одну одну строчку или добавить строчку здесь я добавила строчку layout и количество реплик все две строчки делаем купцы тел а play и через там одна две минуты у нас появляется репников кликал оси полноценная реплика у нас пока нет звуки париж с мы об этом еще поговорим но это полноценная реплика с точки зрения конфигурации она настроена так как тебе щеки бы настроили вам кликал вам пришлось добавить одну строчку в манифест все остальное сделал оператор добавляем закипел и persistence в конфигурацию мы пишем что у нас есть гипер и в качестве там адреса какой-то хост в нашем локальном губернатор си добавляем описание сторону что мы хотим чтобы у нас было 1 гигабайт 100 раджа но для вашего локального мини куба нормально для продакшна вы туда напишите наверное 100 гигабайт 1000 гигабайт и так далее когда мы добавляем вот это то у нас появляется persistent естественно сторож опять же несколько строчек и у нас клика уже же сконфигурирован для почти продакшна использованию ну теперь надо добавить отдельно оператор закипели мне занимается но это тоже буквально один одна команда купер насоса и после этого буквально за 3 минуты у вас получается класс с репликации который можно использовать уже для продакшна приложения очень быстро очень удобно очень просто немножко про пирсе стала то есть губернатора с изначально как бы для пирсинг носа не был предназначен но постепенно как бы становится все более и более удобном делать пирсинг в камере тем не менее есть две большие разницы локальной persistent и сетевой персис нас локальный пирс из нас хорош тем что он быстрый он есть и если вы запускаете на своем лаптопе конечно это локальный пирсе стас но неудобства основная то что он не масштабируются и ненадежен то есть если у вас ограничено размером сервера сетевой приз у нас в этом плане лучше он его можно увеличивать если вы в каком-то публичном облаке живете или если у вас есть вон премия с какой мать меню или какой мид нас то есть есть много различных способов сделать сетевой персис нас локально и кроме того сетевой персис нас позволяет его переподключать к другим машинам то есть вы можете и мы об этом еще поговорим вы можете начать на каком быть маленькой машинке а потом поменять ее на большую и диск период точатся то есть апгрейт железа может произойти там за минуту за 2 а если у вас класс 1 репликации это даже без downtime а про свою проходит а потому что начало одна реплика потом другая с локальным пирс из нас там такое сделать можно но сложно насколько я знаю только айвен делаешь что-то похоже с локальным persistent говоря прикреплялась там те кто с ним общается знает что много вещей можно конфигурировать и про то как клика ось внутрь работает и про то как ли каас взаимодействует с окружением железо и прочего все это можно сконфигурировать через оператор вам не нужно идти некуда в другое место все настройки клик хаоса все настройки относительно того что вы хотите какие ресурсы вы даете серверу какие ресурсы вы pastore и же даете многодисковые конфигурации даже разные конфигурации для разных реплик все это можно сделать через оператор то есть гибкость достаточное для самых взыскательных пользователей и сколько мы как ольхи нити поддерживаем многих пользователей у всех запросы разные мы старались сделать она максимально гибко чтобы удовлетворить самым взыскательным нашим нашим клиентам ну например как мы можем скальпировать тип диска через оператора кто знакомству bird с с губернатором знает что там есть сторож класса сторож класса конфигурируется обычно администратором губернатор и он говорит что у меня есть какие-то такие строчку лассо с таким-то свойствами с точки зрения оператора и описание клика us инсталляции нам нужно знать только имя сторож класса мы его добавляем в волен клеем template и после этого у нас кликала стартует в данном случае с зашифрованным запятую диском на амазоне и масштабированием губернатор очень удобен тем что там легко масштабировать ресурсы и клика он известен тем что он тоже хорошо масштабируется причем масштабируется во все стороны вы можете масштабировать кликал как вертикально просто добавляя ресурсы хоста и он будет работать быстро и быстрее и еще быстрее еще меньше тормозит тормозить вы можете масштабировать клика us горизонтально добавляя шар дай реплики вы можете увеличивать сторож вот все эти действия они когда вы живете на каком-то железном сервере их делать нетривиально даже железный сервер у него ограниченные ресурсы у него и конечной диски добавление диска это там в рейд это сложная операция на здесь клиент сейчас который пытается в 20 терабайт добавить еще два в 10 лет и он как бы готовиться морально потому что три недели будет у него рейд перестраиваться губернатор себя особенно если вы где в каком-то публично облаке все это делается буквально щелчком пальцев просто изменением строчки в манифесте все остальное за вас сделает облака ну например как добавляется реплика добавление реплики состоит в общем то из двух этапов сначала нужно добавить пустую реплику потом на нее переливаются данные появляется у нас система между 2 реплик с тремя reply to me что делает оператор то есть он делает много вещей чтобы добавление реплики было максимально прозрачно для пользователя и ему ничего не нужно было делать то есть когда вот я поменял цифр коз 1 на 2 или поменяюсь 2 до 3 количество реплик оператор сделает в следующие вещи сначала создаст новый под вот но этот под будет пустой и его никто не будет видеть после этого он принесет схему есть оператор может посмотреть какая схема была на одной applique и создать ее на новый реплики то есть вам ничего не нужно делать как только создается схема автоматически включается репликация этим занимается crack house и когда репликация поехала оператор уже включают реплику в конфигурацию кликала со потому что репликацию может ехать очень долго и сильно нагруженных системах может даже никогда полностью не доехать и оператор этого не ждет он сразу включают реплику в запросу тут немножко отвлечемся накликал если у вас реплика отстаёт то вы можете тем не менее как бы это не замечать потому что откликалась есть специальная возможность не ходить на отстающие реплики вы можете сконфигурировать вот таким образом что слегка вас будет всегда отвечать самый не отстающие не стоящее реплики увеличение размера диска опять же строчка в манифесте то есть у нас было 100 гигабайт мы хотим 200 мы поменяли эту строчку оператор поменяет волен клеем template и после этого q бернес увеличить диск через соответствующие сторож драйвера если это паблик зная облака то там какие-то свои сторож драйвера там замазывание он пойдет и без увеличит валим google и он пойдет о гугловскую pierces насторожили щит волю но вам об этом беспокоиться не надо то есть если уволим поддерживает экспаншен а это можно посмотреть в сто раз классе то оператор это сделает и вас размер увеличится у нас самая частая операция в claude это в чине размерах диска люди когда они на железном сервере они часто удаляют данные когда они находятся в облаке то почему бы данный не хранить всегда и кто-то начинает там со 100 гигабайт заканчивать 10 терабайтами данных просто потому что это дешево и очень легко увеличивать сторож с размером с размером до о данных ресурсах as the тоже их можно специфицировать их можно увеличивать то есть в данном случае мы просим порядка 13 гигабайт памяти 14 гигабайт памяти и чуть меньше 4 secu почему меньше потому что нам нужно оставить место на какие-то системные сервисы у нас были случаи когда мы давали crack house весь полностью под и под очень большой нагрузкой с этого кода вы летали системная демона demand это которые отвечают там за сторож засеять и так далее это было неприятно поэтому лучше чуть-чуть ограничивает чтобы лимита нацепил здесь вот 38 чтобы они не никогда не занимали целиком весь себе чуть-чуть оставьте для других для других проектов но селектор здесь он выбирает тип нода а если мы живем в пышных облаках мы можем буквально заменив одну строчку переключиться с там с м 5 надо на м 6 на какой-то r на d в амазония или в гугле соответствующие типы нодов и таким образом либо на какое-то другое железо либо приключиться либо переключиться на ноды с большим количеством ресурсов больше степью больше памяти и то если вы на каких то там не в губернаторы все это гораздо сложнее делать и не в публичном облаке сервисы важная часть того чем занимается оператор это он манипулирует сервисами и есть два типа сервисов которые до клика уса используются во первых для каждого пода или для каждого хвоста клика вас есть свой собственный сервис и он используется для того чтобы гости к друг другу ходили ну например для распределенных запросов для репликации нужно хостом клик олафа друг с другом как как это коммуницировать плюс есть сервис для коммуникации со внешним миром обычно это лол от балансер и в случае с этим сервисом мы можем управлять когда мы включаем или выключаем определенный под стандартный способ управления сервисами это рейде состоянии жить и напади но если мы хотим например запускать репликацию до того как мы этот под включаем в запросы то мы можем отдельный лейбл сделать и в описание сервиса сказать что мы включаем данный под только тогда когда выставлен определенная метка лейбл и оператор этим занимается то есть он сам решает в какой момент включать кода или выключать повезло от балансира это используется очень часто при монтана с операциях вот как определяют и сервисы то есть есть сервис template вы задаете там как генерируется например имя для сервиса и аннотации аннотации позволяют использовать внешние средства клауд провайдера или губернатор провайдера в данном случае какой dns имя мы хотим до этого лот балансира снаружи иметь какой тепло от балансира и что-то еще аннотация для разных систем могут быть разные отказоустойчивости надежность важная часть и губернатор здесь многое делает сам когда мы думали почему губернатор хорошо для клика us а вот то мы отталкивались еще от того какие задачи могут быть у людей которые эксплуатируют клика us и губернатор многое автоматически делает например автоматически ри стартует под или там хост если он закрылся он может автоматически его перевести на другую железку например у вас железка умерла если вы используете какую-то самописная инфраструктуру вам нужно новую железку за продвижение как-то перенести туда ваше кликала сходство так далее губернатор эти все делает автоматически и у него довольно таки много специальных вещей которые позволяют настраивать вот поведение чтобы те когда мы хотим чтобы у нас работала но делает не все основная ценность в любой базе данных и crack house и ты не исключение это данные и чтобы наши данные были в безопасности мы можем делать несколько вещей и все это позволяет делать оператор первое и самое важное особенно если мы работаем в публичных облаках это разнести реплики в разные в лобби эти зоны что такое вела билете зона это грубо говоря зал в дата-центре и у него может сразу всего зала выключится электричество у там пьяный сантехников перережет кабель и электричество пропало вот разное в лобби и сезон и они всегда сидят на разных на разных на разном электричестве и на разные сети вероятность того что пропадет двигал обе эти зоны она пренебрежимо мала и одна из важных вещей это как разнести ваши реплики было в билете зоны например при помощи оператора это делается так мы можем сделать отдельные тимплей ты на каждую реплику и прописать до каждого тимплей то в какой зоне мы хотим чтобы разворачивался данная данная реплика это не единственный способ можно использовать и анти affinity но по ряду причин мы в операторе советуем делать так но это как бы не зашито в железе важно понимать что база данных это не веб-сервер и если веб-сервер у вас может быть там несколько этих голов да и вы можете их произвольным образом тушить запускайте так далее то с базы данных такое не произойдет то есть нехорошо позволять базе данных выключаться даже если это планово и большой вопрос как сделать так чтобы при плановом down тайме у вас клиенты ничего не заметили и при внеплановым done to me тоже желательно чтобы клиенты ничего не заметили например что делает оператор и вот эти вот 10 пунктов они все все важны то есть если мы хотим например обновить версию клик хаоса или обновить тип янцзы или сделать что-нибудь еще что требует нам рестарта сервера то мы это оператор делает это максимально аккуратно он набирает ход из балансира он убеждается что этот хост пассивный пусть только после того как там не один запрос на нем не работает этот на этот сервер нельзя попасть извне он только потом его выключает что-то делает и в обратном порядке все это включает с точки зрения клиентов они не замечают что что то случилось поэтому когда мы хотим проапгрейдить сторож прогреть единственный изменить конфигурацию то это все делается максимально незаметным образом то есть не нужно никакие минтон ос windows планировать и так далее более того при внеплановом down to me тоже почти все работает так же срабатывает life нас проба и как только какой-то host оба сломался так обернется своего выбрасывает из балансира в данном случае оператор ничего не делает это все делает губернатор и мы можем пойти разобраться в чем дело в некоторых базах данных считаю оператор или теперь могут решить что у нас хоть сломался навсегда и нам нужно запустить новую реплику и и синхронизировать но ст участке хаоса и потому что нас данных многом и так и обычно не делаем и основная причина потому что может там сплит brain произойти отличная лекция дмитрия столярова на highload восемнадцатом году про база данных и губернатор и там это подробно расписано что произойдет если у вас спит brain а как с этим бороться поэтому оператор внеплановые downtime не отрабатывает обычно все возвращаются сама но вот что оператор делает это он позволяет защититься от кривых рук то есть кривые руки на самом деле гораздо более частая причина того что что то ломается чем какие-то отказы железа у нас было несколько случаев когда мы случайно удаляли все клика вас инсталляции в прозе но не все так было немножко это было вначале но при этом данные сохранялись и данные сохранялись из-за того что мы нас на раннем этапе сделали такую штуку как двухфазный commit но удаление персистенция то есть по дефолту оператор никогда не удаляет persistence чтобы его удалить нужно поставить флажок вот я сейчас хочу действительно удалить эту реплику или удалить целиком увлекалась инсталляцию если это не сделать то вы удаляете все но вас сторож остается можно запустить то же самое увлекалась составлялся обратно с тем же самом имени мою конфигурацию и оператор обратно соберет ее и при а точат тот сторож который был вот у нас были случаи мы все удалили там клиенты тоже заметили это но через пять минут у нас все было обратно именно из-за такой вот защиты от кривых рук другой интересный случай и опять же встроенная защита в оператор это защита от удаления серди что такое серди это описание типа описание того что такое у нас кликал остаточный ресурс и получается что если вы опять убираете описание то губернатор удаляет и все связанные ресурсы когда кабина из удаляется связанный ресурсы он говорит оператору что у нас такой ресурс удаляется и оператору приходится выполнить такой задачи и удалить все кластера которые связаны с этим ресурсом это страшно чтобы это не происходило оператор тоже сейчас если удаляется сердито ничего не происходит и вы можете восстановить все обратно и все обратно соберется в нужную ситуацию ну я вот много говорил про губернатор и иногда говорил про мишку бернардо то есть про губернатор в амазонии в гугле где-то еще в яндексе что вообще нам дают монашку 12 и почему имеет смысл это использовать это на самом деле не дорого отдают они следующего первых авто скиллинг если вы добавляете реплики добавляйте шар добавить какие-то ресурсы то автоматически cabernet а сейчас авто скейлер запрашивает у облака дополнительные ресурсы можно использовать там cops какие-то ещё штуки которые тоже это делают но встроенные средства в облака не с этим справляются лучше storage controller и для вот масштабируемых сетевых дисков внешней лот балансиры с dns а мы впрочем это все предоставляется из коробки этим и наш губернатор сами плюс как правило у вас есть облик сторож для бэкапов и что интересно что на самом деле в серди и вот описание откликался инсталляции она переносимо между разными провайдерами и между манишку бернетт с вами почти все переносим а то есть как определён кластер какая конфигурация как определены под историк какие-то свойства зональности и так далее что непереносимо как правило это сервиса то есть сервисы 1с 1с и сертификаты она все анонсируется специфическое таковых провайдерами но это единственная вещь которой можно поменять вы можете взять кликал с зади площадь в гугле он вас заработает потом взять с минимальными изменениями то же самое описание за диплом эти в амазоне такой переносимость кроме губернатора никто вам не даст и раз уж мы говорим о - губернатор сито нельзя не сказать о том что бывает и мешки хаос и и таких решений достаточно на рынке что выбрать до может быть во благо нам вообще не нужных лекарств губернатора может быть мы хотим - кликал можно то есть это удобно все для вас продумали разработчики индекс облака или каких-то других облаков есть я и есть мониторинг и прочее но вы теряете гибкость и у вас получается winder локинг то есть если вы взяли мы нашли кого вас от яндекс облака вы не сможете его просто перенести в какое-то другое облако если вы сделали - сколько вас там не забыл клауд от там айвен сейчас запускает то вы там к нему привязана и кроме того вы платите еще за за сами услуги менеджмента когда вы используете кликал аську бернат оси то у вас нету этого локинга то есть вы имеете полный контроль и вы можете сами выбирать куда в какое облака вы хотите за тепло тип откликалась минус это что наверное вас нет его я для этого и нужны все таки люди которые разбираются нужны и немножко devops на самом деле в алексине темы придумали как это совместить и мы можем делать - клиф хаус в вашем губернатор но это другая история про которые я сегодня рассказывать не воду резюме губернатор это хорошая надежная платформа для he calls мы это уже доказали за 23 года использование и оператор open source най используемый многими компаниями позволяет удобно эксплуатировать настраивать кликал аську бернетт азию и последний пункт то что манишку бернетт с на самом деле сильно упрощает жизнь стоит недорого и я рекомендую если вы идете сколько уставку бернат с эти в какой-нибудь - губернатор куча шишек удастся избежать у меня все я помогу ложился спасибо большая уложился да друзья по времени у нас остается на два вопроса из интернета а остальное живьем просто хватаем спикера под сценой давайте поговорим с интернет-аудиторией да здравствуйте меня слышно иван привет говорит здравствуйте иван каменский меня такой вопрос какие накладные расходы вы говорили маленький волк обернитесь и по сравнению с bare metal и 2 небольшой рог вопрос накладные расходы на сетевые диски и диски локально хороший вопрос спасибо накладные расходы примерно 10 процентов по памяти по secu может быть даже меньше зависимости от размера инстансов на маленьких инстансах они больше на больших они меньше по сетевым диском все очень сильно зависит от сетевых дисков они есть разные скорости с разным перфомансом и кроме того зависит от сети то есть сеть бывает узкая бывает широкая трудно сказать но клика вас хорошо работает с сетевыми дисками к сейчас даже в последних версиях умеет кэшировать все локально спасибо большое друзья спасибо большое аплодисменты спикера ловить ее в кулуарах"
}
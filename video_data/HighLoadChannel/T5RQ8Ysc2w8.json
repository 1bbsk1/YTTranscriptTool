{
  "video_id": "T5RQ8Ysc2w8",
  "channel": "HighLoadChannel",
  "title": "Интервью с Максимом Залысиным (Ситимобил)",
  "views": 82,
  "duration": 1512,
  "published": "2021-10-04T02:42:07-07:00",
  "text": "совет всем привет да и день тоже заканчивается но мы так сказать еще бодрячком максим несколько вопросов вот ты активно занимаешься 7 был такой темой как devops и очень плотно связаны с devops трансформацией не мог бы немножечко рассказать о том а кстати подожди мы двое на стек положим эту тему нужно мы же на конференции harlot а завтра ваши коллеги будут выступать ну трансформация вообще в сити мобила на вот прям так глобально глобально запустилась наверное с этого года с начала этого года когда стало понятно что вот прям процессов не хватает так подожди то есть ну огромный сервис то есть и не хватило каких-то процессов именно внутри команд не хватило какие так это практике необходимо было привнести для того чтобы стало лучше как это боль проявилась вот в момент в именно пандемии не вовремя пандемией вообще city mobile развивался всегда как весь продукт живет духом стартапа быстрый удивительный росте я понял понял и вот это реактивное развитие она как раз закрывала глаза позволял закрывать глаза на недостатки какие-то технические долл ну для стартапа это нормально на самом деле это как бы да но сейчас у нас миллионы поездок в день миллион поездок в день одних таком поездок не считая того что вместе с этим а белом теперь есть и самокаты и и сити drive виде кардшаринга не тоже это все объединяется под одной площадкой ну в общем унифицированных каких-то подходов решения их просто перестало хватать то есть все что когда-то сами разработчики придумывали клали и запускали там он просто выдавались стервочки ресурсы какой то какие то serv очки выдавались мелкие то теперь они уж так не могут жить ну понятно поджог посмотрев от потребовались общие процессы уже я так понимаю ты хоть один из драйверов вот вот этих практик вы не при внесении внутри компании внутрь отдельных команд можно сказать первую практику которую ты принес и который ты считаешь что нужно было именно с неё начинать ну я думаю что вот именно здесь в контексте компания самое первое чего не хватает это обсе рвать и дразнить и у нас к сожалению есть достаточно такой приличный тех долг по мониторингу продукта иногда моя проблемах узнаем поздно вот это бывает много многих сервисов и коллеги действительно то что ты говоришь это прям вот важнейшей составляющей без этого когда ты не знаешь лечу по приборам да какие приборы тогда вот интересно какие инструменты вы используете для об сервами лиц и сейчас у нас new relic как мой большой большой стек но честно говоря как бы смотрим на него со стороны видим то есть смотрим у них у него уже с полученным опытом видим какой то объем недостатков среди которых и стоимость сожалению сожалению продукт конечно хороший на стоимость черт вот стоимость кусать черри и при этом все таки есть есть пожелание есть возможности внутри технические возможности ну по хорошему этот продукт когда заменять и унифицировать унифицировать на какие-то внутренние решения свои поэтому вот тут как бы еще со стороны инфраструктуры и есть свои наработки например инфу мы мониторим забег сам есть наработки со стороны нескольких продуктовых решений у нас несколько вариантов prometheus а и вот как раз сейчас как бы главной главной задачей на текущий следующий квартал что хочется поправить в контексте devops это мониторинг мониторинг мы унифицирует в рамках одного конкретного проекта у нас на выход выходят два вполне понятных интересных решений это ну естественно lk свой елка столько научились готовить очень неплохо выдерживаем бешеные нагрузки единственное что долго не храним вот а какой ну в среднем достаточно оперативно можно работать с месяцем с двумя стремя а дальше конечно надо куда-то убирать архивировать голодные холодный спа уже уже выбрали как вы будете их хранить ну я часто знаю ребята используют из 3 в качестве такого ну такого 100 раджа вы уже как-то определились куда вы собираетесь складывать данным нам для аналитики данные очень удобно складывать crack house house вот поэтому так текущей стык вот именно логирования он позволяет через кафку одновременно логина горячую доставлять в ластик и строить по нему метрики а в клик house для долгосрочного хранения анализ баян а потом оттуда вымывать соответственно здесь они также сложенные пусть такие пусть лежат максим тогда тогда такой вопрос вот так как ты смотришь когда немножечко со стороны смотришь немножко сверху как бы такой helicopter view такой над над процессами да ты конечно видишь те практики которые нужно внедрять в первую очередь ты сказал про об сервами лети а есть те которые принесут максимальную пользу и уже после того как вот процессы будут настроены вот какие ты считаешь процессы одним из самых важных в компании ну после обсе рвать elise конечно с чего конечно я согласен с тобой нужно начинать в разработке у нас очень не хватает унификации в общем то как я и говорил живем духом стартапа вот активно пробуем всякое разное решений основной основной слой у нас это печки вот печки занимает там больше 50 серверов это такие высоконагруженные серваке и во-первых понятно что поддерживать этот монолит живущие на 60 серваках просто сложно тогда поэтому второе году уже активно разработка потихонечку уходит в сторону в сторону python там где нужно аналитика потому что поэтому все-таки инструмент аналитиков как-то исторически уже пошло вам dat ass on this ты все захватили как положено дорадо вот и вот здесь в условиях того чтоб у нас больше 7 направления разработки и каждое из направлений по своему каждый из таких решений сейчас не на house вот вот этот вот house и будем причесывать едиными процессами едиными подходами суши и вот когда ты говоришь про унификацию это сначала книг я каждый раз когда я вообще люблю когда чтобы было выбран один бэг-энде русский язык один контейнер скину понятно там какой-то в общем выбрали но я не про выбрать все таки один язык оправ про создать один процесс который позволял бы разработчику независимо от выбранного языка или выбранного фреймворка и решение доставлять это максимально быстро и понятно ему самому доставлять под в тест ну в любое окружение моего с уже но с этой точки зрения когда я смотрю на вот историю связанную с со стартапами я очень часто понимаю что одна из важнейших составляющих особенно когда такой бурный рост происходит он связан с тем что нужно смотреть за тем что происходит и оказывать каста мир саппорт иметь ввиду поддерживать пользователи и какие то вот инцидент ные ситуации разбирать без инструментов мониторинга которая как бы позволяют следить за тем что же всегда и системе происходит делать это сложно и как как у вас происходит интеграция вот существующих решений в какие-то едины и даже бурды возможно вот если они есть у вас ну да есть есть пара таких даже бордов которые вот самую самую горячую метрику показывают по поездкам под назначением поездок на водителей вот но но все равно сохраняется очень большая intropia ну честно то здесь пока не можем похвастаться здесь здесь это то только только сейчас у нас запускается чтобы переделать наконец то есть потребность есть есть понимание есть уже четкий план куда мы двигаемся он парил в результатами похвастаться сейчас не смогу вот на следующему на следующем хайло диета вы уже будет то самое же интересно интересно не но когда есть понимание куда двигаться это тоже очень важный момент а с точки зрения языков программирования ты говорил что есть большая часть написанная на печке но это я думаю вы рассмотрите скорее как legacy уже систему да и новые сервисы вы старайтесь писать либо на питоне либо нога а вот выборга он менее немножко поправляю за извини это он это это вот именно инструмент аналитиков потому что аналитики в нашем деле получается очень много горе печки они также остаются просто вас становится более легковесным и сервисными кусками небольшой и монолит а вот именно разносим на логические на логические куртки да я понял то извини я тут немножечко это запутался соответственно как бы а как происходит выбор между этими языками то исторических это сложилось но имеется в виду команда вот хочет дальше писать на pitch пилот отдельные микро сервисы или хочешь писать на год или есть какая-то логика выбора языка есть да вообще зачастую вот когда ты смотришь как решить какую-то задачу имея хороший кругозор поездок am ну опытный семью разраб там побывавшие в мире гаи в пхп он примерно понимает какую задачу на каком языке быстрее ли решить там если это если мы говорим там про какой-нибудь соля кружок который должен периодически сходить в какую не получу переварить там данные сложить ее в очередь то ну по-моему на php она реализуется быстрее вот местами опять же вот бизнеса вую логику за счет динамической за счет за счет того что язык по печке динамические идти тип динамической типизацией на нем бизнесовый задачи решаются быстрее суши понятно что с одной стороны дух стартапа но с другой стороны уже большая система до количество людей понятно что растет ну потому что иначе выдерживает интенсивный рост невозможно как внутри компании вы передаете знание о системе есть какой-то внутренний он бардин процесс лёнинг процесс вот расскажи проект пожалуйста нам нас очень сильно к этому кстати говоря подвинула пандемия так так прим прим прим толкнула да я сам в компанию пришел чуть больше года назад и как раз полностью с нуля всю свою команду собирал на удаленку и по 1 по 1 очень сильно не хватало информацию и документацию ну и в общем-то массово за этой взялись вот то есть такой имеющейся некий технический долг связанный с отсутствием информации стали просто собирать по ниточке со всех сторон живем документации описываем все что можно строим по максимуму схемы карты всех сервисов взаимодействия всех сферах бизнеса во так и архитектурно а куда сохраняете вот вот этот ноль и что так сказать мира и но уж он умер аргументов великолепный инструмент мне тоже очень нравится я так сказать и об их фанат можно сказать уже но в этом смысле кстати тоже интересная история если бы снаружи соответственно сейчас приносите нового человека в команду он уже получает уже достаточно плотно обжитую документацию слепо всему но ведь за ней нужно следить есть какой-то процесс обновления вот этой документации всегда был круг угольный большой такой рога прямо мы же уже один раз сделали мне не ответ на на самом деле это очень больная тема вот я могу четко сказать вот за то что в моей команде происходит я требую от ребят чтобы документация была в актуальном состоянии и там в момент появившегося вопрос отправляю в документацию вот может быть это с какой то стороны жестко но с другой стороны она у нас в актуальном состоянии насколько это возможно документации к сожалению даже на сегодня не все покрыто и погружаясь там в каждой из новых направлений будет начинаем карты рисовать с нуля уже максима дорога и направления в контексте devops вот его не хватало с уже вот кстати с этой точки зрения интересно вы же живете в облаках но по понятным причинам нет нет нет у нас два дата центра ну мы colocation держим в dota лайне и все и selectel и нет а вот скалах allocation именно это решение суши ну тогда через colocation учитывая что в центр все равно задам этот вопрос а как вы разворачиваете инфраструктуру свою ну обновляете и и следите за его актуальным состоянием основной инструмент давно в сети мобилы то popped сейчас уже ощущаем его его недостатки его критичность в контексте больших команд он то есть команда эксплуатации достаточно сильного увеличилась часто порядка 20 человек и не хватает инструмента ну и как бы сама full модель вот которые нам создает некие задержки особенно на правых серверах это критично вот плюс как бы дух стартапа сказался и на in free тоже местами местами приходили шаловливые ручки сам что-нибудь отключали паппет гасили чтобы он вдруг случайно и низорал да я не помешал нам никто не поломал косточки чужие вот поэтому сейчас еще параллельно присматриваемся и и прям явно стремится к миграции скорее всего в анси был с другой стороны еще присматриваем sexual стек нанси были уже часть инфраструктуры умеет готовится но что самое наверное хорошая танцы было что в интернете ну вообще в окон source очень много можно много решений готовых найти и не тратить свое время на это там вот это кстати одна из важнейших историй когда ты можешь оказавшись в каком-то пространстве например на конференциях и вот посмотри чужой опыт отдельный виде докладов отдельно поговорить с экспертами и вот такой срез актуальных практик и меня всегда это воодушевляла потому что пришел и прям вот получил на выбор все что есть прямо сейчас вот так как ты говоришь что новые части вы покрываете некоторыми практиками devops но постепенно я ножа и погружаете да есть какая-то практика которую ты планируешь внедрить ближайшее время но что ты имеешь ввиду вот прям под практикой ну например я так понимаю смотрел про страх шансы кот у вас уже есть уже есть да это вот хорошие только что по нему скопились долги и нужно отдать об это будет как бы вы собираетесь сделать тоже ну это товар сознательное решение бампере воду с одного лишь как бы существующую решение на друга и мониторинг у нас то же самое что он как бы представляет из себя некий зоопарк вот и его друге задача по нему как раз это привести к единому унифицированном у решению авто еще серии у нас тоже в общем то есть единственное что он такой же разрозненной как и мониторинг потому что доступ и были у всех кому нужны было сейчас и здесь сделать процесс ну там тоже нужно некоторый парят но это нормально к сети того же вот прям нового и не хватает сити ma bell но я бы сказал что про приоритетов мы туда не держим но наверно пока нас туда не толкают это да все капс вот про security тут как бы и есть контекст и в которых как раз выделенный департамент безопасности уже погружается вот но не очень плотно не очень много здесь здесь я особо ничего не расскажу это какое-то будущее для нас пока что понятно а вот последнее время мы достаточно модная тема связанные с чат abs не смотрели в эту сторону мне просто очень нравится история когда но достаточно когда у тебя высокая уровень автоматизации процессов и мониторе связанность мониторинга с продам и соответственно есть возможность например автоматизировать выкладку новых билдов через чат ну например разработчик сидит в чате да и он там уже все за комитет ну накатить и новую фичу дано такие-то сервера и соответственно дальше соответствующие скрипт и начинает отрабатывать он говорит отработали отработали отработали отработали или если произошла какая-то ошибка то сразу же в чат написано смотри на ком сервере такая ошибка возможно есть проблема вот такая-то в документации смотри здесь возьму возможное решение ну то есть это такой как бы как подсказка такая как бы человеку который прямо сейчас является дежурным на вашем сервисе то есть он уже получается смотрит где проблема под графику дано посмотреть почему там чуть-чуть случилось вот серого счетчик вот здесь лежат доступ и а здесь возможны и какие то возможны какие-то проблемы да ну какая то какой то кусок реализацией вообще есть a top саму есть и сейчас вот то есть тот же самый монолит он полностью контролируется или выкатка на него порядок выкатки очередь выкатки потому что это монолит монолит не катится у нас к сожалению замену давала нам нужно время 10 минут примерно этот сожалению происходит вот но вот как раз в такой интеграции долю и есть боты он нас так называется катан катан ай красота какая служила он отвечает за контроль выкладки монолита блины овечка очень красиво ну прикольно да вот а так я из всех практик еще очень стремимся где tops максимально хотим сделать весь процесс seo и вот именно продуктовый ся и полностью завязанный на гид в том числе и мониторинг и allure think прикольном слушай ну это очень хорошо я последнее время вот уже очень часто слышу историю связанную с сергей посматривайте любой в эту сторону ну-ка выделение отдельных специалистов как и сергей инженеров сервера берите инженер как по практикам наших коллег из гугла или пока эта тема не актуальна ну а честному говоря в city mobile был и сергей то есть бы была команда не даже стать здесь ребята на конференции я часть команды на конференции тоже пришли послушать но вот сама интерпретация практике она больше заключалась в низкоуровневой продуктовой разработки ну то есть задача задачи из такие задачи которые прилетали ребятам они были связаны с тем что у нас должны быть надежны и понятные компоненты взаимодействия с базами данных соседними сервисами там с очередями с там без как форматировать логе вот еда это было хорошо ну к сожалению покрывало это только один монолит вот допускаю не вывозит весь основной наш продукт но как бы одно и только вот как на одной только разработки здесь не обходится и вот с точки зрения как раз реал ability мы сейчас больше делаем упор вот именно ушей делаем это на то чтобы максимум все покрыть мониторингом и выстроить выстроить процесс эскалации любого инцидента четкий и понятный в котором реагирование на на инцидент будет происходить по максимуму без участия дорогих инженеров сушину это то есть это не абсолютно интерпретация конечно google о вы за рулем случае ты достоин он оказался на реал ability я понял хорошо давай тогда мы немножечко вы же не просто так на конференции здесь находитесь да вы с какой то целью присутствует расскажи пожалуйста зачем вам нужен целый огроменный стенд здесь ну в первую очередь конечно из-за того что компания растет растет растет сам продукт растут всевозможные интеграции вот нам очень нужны инженеры много инженеров сейчас айтишный департамента до порядка 200 человек и в планах увеличить его в два раза этому здесь мы для того чтобы показать себя рассказать тем что мы занимаемся все-таки информационными технологиями а они в кепочке ездим и людей на такси развозим вот и какие всевозможные интеграции мы мутим под эгидой городской мобильности слушай ну это на самом деле очень круто я так понимаю помимо тебя здесь есть еще специалисты но пир докладчики да а кто вас а выступает от вас от нас выступает коль шуляковский это руководитель как раз разработки платформы и и александр яковлев он сити мобилу же покинул но доклад готовил и пообещал красиво также честно выступить с этим докладом завтра с утра отлично то значит на наши коллеги к те кто нас смотрит могут прийти и завтра садится на насладиться первых докладом об авторах может прийти сюда здесь на этот стенд и вместе с вами пообщаться обсудить нюансы и devops трансформации нюансы технологии обсуждение того как вот в целом что можно делать в общем как бы обсудить некоторые вопросы насущные поделиться опытом и правильно понимаем поделиться опытом да и мы открыто рассказываем про себя на каких технологиях мы же он не знаю как какие штуки на какие штуки новые смотрим какие штуки у нас уже есть и что нас расстроило что нас расстроил что хочет и поменять слушай ну вот эта открытость это на самом деле очень важно это очень круто мне кажется это одна из таких вещей которые ему который мы научились и сейчас вот здесь на конференции можно тем кто еще не научился этому поучиться здесь на стенде на стенде сидим убил приходите завтра сначала дня и до самого вечера она на этом мы с вами прощаемся и до скорых встреч пока пока"
}
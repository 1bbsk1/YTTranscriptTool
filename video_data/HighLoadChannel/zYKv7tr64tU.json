{
  "video_id": "zYKv7tr64tU",
  "channel": "HighLoadChannel",
  "title": "Как ментально полюбить и начать писать тесты на примере Yii 2 и Codeception / Артем Волторнистый",
  "views": 1769,
  "duration": 2324,
  "published": "2023-01-19T07:06:08-08:00",
  "text": "Ну я вижу у нас остались самые стойкие Всем привет Меня зовут Артём я печь пиразработчик работаю разработчиком около пяти лет и занимаюсь тестами последние полтора-два года и еще не успел и сегодня мы поговорим Как ментально полюбить и начать писать тесты на примере Е2 и собственно Начну с того зачем я хотел вообще писать тесты первая мысль что тесты как некий макрос который позволяет мне проверять мой код что он работает корректно и второй момент что мне надо держать в голове там Прибежал менеджер отвлек ты что-то забыл что-то не учел потому что ну я не робот не могу все как бы запоминать и памяти иногда очищается Ну поговорим о более а я предположил и вы возможно читали слышали что базу принято стабить немного освежим в памяти стал бы эмоки то есть внешние взаимодействие принято с тобой быть или мокнуть Стоп Это когда мы говорим Верни мне вот это в этом методе класса мог это Верни мне вот это в этом методе класса Но не более одного раза например то есть мог проверять еще поведение пример Хеш пароля Об этом я покажу чуть позднее плюсы что мы независимо от внешнего стенда его режим работы собственно мы ускоряем Наши тесты Вот пример то есть мы получаем пользователя по айдишнику из базы и проверяем что допустим у нас вернулся Окей я предположил Ну хорошо я протестировал базу теперь можно её замокнуть в каком-нибудь сервисе я заставил всё вроде бы хорошо но больше больше стабов Богу стабов если у меня появлялись свитч кейс какие-то ответвления и это маленький пример того что у меня было у меня была лимоки на 100 строчек кода это была дико неудобно и главная проблема которая собственно и не мог в тестах то поймать это ошибки с первичными ключами синтаксические ошибки и какие-нибудь там триггеры какие-нибудь функции и любая внутрянка самой базы Ну я предположил хорошо то есть не буду ставить базу значит база Надо как-то наполнять перед тестами потому что в тестах у нас базы всегда пустая чтобы исключить влияние тестов друг на друга Хорошо я добавил текстуру это вход сообщение Так выглядит текстура Ну текстура это у нас просто строки базы данных размещенных файле так вход сепшене она подключается класс текстуры ее содержимое Хорошо я подключен начал подключать текстуры то есть в тестах у нас моков нет база наполняет Все вроде бы хорошо но опять же дальше продолжилась история и у меня бывало 10-15 строчек текстур там менеджеры холдинги пользователи Ну что угодно и когда их было не так много было всё хорошо но спустя неделю например Я не понимал А что я вообще тестирую какой набор данных и что я хочу проверить например Мы открываем файл пользователей видим Type 1 что за тип один статус 5 Ну тратим время начинается опять выяснение как-то вообще должно работать я хотела относительно быстро понять что же происходит в тестах и решил сделать проще то есть в данном случае это были просто наследование моделей Active Record не суть не будем сейчас об этом и стало попроще то есть Я создаю пользователи связываю с учетком менеджера создаю админа холдинг добавляем жира Окей ну вроде понять ещё более-менее можно что мы Тестируем в эти классы можно засовывать фейкеры какие-нибудь которые могут генерировать какие-нибудь данные например там телефон город адрес в ларвел например эта фабрики данных это я потом узнал и около года я писал тесты писал писал вроде бы и перестал стабить базу и вроде бы все хорошо но сложность увеличилась и в какой-то момент я удалил папку тестов и начал тестировать браузер руками и был в принципе счастлив потом я набирался сил смотрел ютубчик изучал материалы потому что я хотел решить эту проблему Ну какие-то же люди пишут тесты Надо же как-то решить и в итоге для меня стало стали важны две концепции метод белого ящика имеет чёрного ящика белый ящик то есть мы проверяем то есть мы понимаем Как реализован наш система то есть мы проверяем даты в нужном формате Что у нас там кэш бросился джоба создалась Ну еще что-нибудь черный ящик Мы ориентируемся в ток на поведение системы То есть как пользователь мы просто неважно на чем она работает там база постгресс там маськель файлы или вообще ни о чём не работает и после всей этой боли которая что я писал тесты на каждый класс на каждый метод Что же мне выбрать рассмотрим плюсы и минусы То есть у меня был случай то есть V2 есть компонент это нормально да что она съехала или что ладно не суть Был случай в едва У меня есть компания-информатор если ты ему передашь нал он вы видите текущую дату Окей черным ящиком мы посмотрим заказ создался Да ты выводиться но все вроде бы корректно а даты в базе нет то есть вроде бы черный ящик Тоже неплохо но может какие-то случаи не покрыть для нас как разработчиков Ну это собственно к тому что пожалуй не надо исходники призы давать коллегам по цеху Давайте подойдем ближе коду А собственно первый способ когда писал Юнит на каждый класс да то есть который использовался реализации наших бизнес-требований как бы это могло быть то есть у нас есть формы метод Load валидец Ну еще какой-нибудь Директ то есть мы должны покрыть тестами там помимо этих методов Валиде и сейф у нас еще может там пяток методов быть Ну второй случай понятно Мне иногда хотелось убить ноутбук потому что новая фича опять тесты опять сколько можно второй способ мы кидаем запрос проверяем конечное состояние системы что у нас есть заказ в базе там Поля корректно заполнились там длина номера заказы на среди директного какой-то корректный адрес третий способ Более сложный мы поднимаем браузер кликаем форму там кнопочка активно поля подсвечивается там на среди рептит и вариант То есть например это актуально Когда например у вас форма оплаты критичный функционал Окей мы можем заморочиться поднять браузер протестировать И потому что ну напрямую влияет на прибыль форма редактирования пользователя конечно у вас вывози ненавидят один день помучиться но на следующий день Вы пофиксите например что кнопка сохранить стала неактивнее неактивный на JavaScript приходит новое требование отправить уведомление в телегу менеджеру Хорошо я решаю сделать через жопу там кидаю задание в очередь кидаю уведомления в telegram-менеджеру что меняется то есть мы написали какие-то новые классы дёрнул какие-то новые компоненты там Telegram например и мы должны написать тесты на каждый этот класс новый да то есть ну у нас появились какие-то новые штуки во втором случае я проверяю только что создалась задания в очереди итоговые сообщения телеграмма имеет нужные нам формат в третьем варианте например проверяют телеграм-менеджеры тестовый телеграм Ну то есть уже до более ближе к реальности наша любимая рефакторинг вот у нас допустим есть код наше создание заказа приходит тимлид говорит все пишем все по новой у нас новые подходы всё по фэншую в первом варианте конечно Я убиваю все классы и все пишу по новой во втором третьем я ничего не менял то есть Ну все как бы мы чекаем конечное состояние А ну кот поменялся но тесты прошли значит хорошо собственно я потом задумался Зачем вообще вся эта сложность Зачем мне вот это все я пишу тест на сервисный класс и всё вроде бы тип-топ но мы не покроем это я не покрывал следующий случай То есть у нас например есть какой-нибудь там проверки или инъекции потом обрезка пробелов потом у нас ещё есть контроллер а потом хендер который формирует например ответ в опеку используя второй и третий способ мы я покрывал потому что я тестировал весь жизненный цикл запроса То есть как он вошел так и вышел а и Сделал выводы что моя ошибка была что речь была про баланс и затраты то есть надо помнить про стоимость изоляции то есть писать юниты на каждый класс будет не совсем корректно потому что будет слишком много кода то есть на любое изменение мы должны поправить все тесты и в другом варианте юниты они вам повышают стабильность то есть чем больше вы покрываете вы Ну больше отлавливать не явных поведений или каких-нибудь багов более подробно изучай как бы для себя выявил что первое это были Юнит тесты второе это интеграционное тестирование когда то есть в юнитах я подразумевал что вот есть класс и мы Тестируем без взаимодействия с другими классами компонентами или каким-нибудь стендами и прочим второй интеграционный То есть когда мы Тестируем взаимодействие этих классов и третий приёмочный то есть это уже реально как бы мы как пользователь смотрим на систему она должна полностью работать со всеми там Java скриптами и прочим в среднем оказался пазотралом второй вариант потому что минимум кодов тестах они будут относительно быстрые и удобство рефакторинге то есть моя боль была в отсутствии баланса с чем я столкнулся дальше Ну например вот у нас есть тест мы там создаем заказ до сабмитием формы проверяем что нет ошибок валидации менеджер его может подтвердить Ну там зайти в админку на подтверждение заказа и проклика какие-нибудь кнопочки Ну по сути дальше спроектированием кода то есть ну у нас есть дубли коды куда бы его вынести в конце можно сделать некие такие классы function тестер - это класс код сепшена то есть это в документации там всё хорошо это описанное то есть мы можем такими функциями мнпейдж или спонсон скот там subment form да то есть проверить какой там страницу там Директ и перенаправления можно передать вторым параметрам и получается ну по сути наш контроллер только в рамках тестов и потом мы при подтверждении сперва создаем потом через утилиты код сепшена авторизуемся потом подтверждаем в данном случае Нет как бы functional Test это почти эмуляция контроллеров То есть он все-таки там магически заполняет там сессия авторизация То есть это некое упрощение Ну вроде бы все хорошо стало подумал я но все-таки текстура с текстурам пришлось вернуться потому что на самом деле бывают ситуации когда вам нужно Ну то есть это здорово что я смог через поведение системы генерировать данные то есть что генерируется неправильно мы Ну правильно всё становится хорошо но предположим у нас тысячный заказ и вам надо 5% скидку к заказу принять что мы будем делать то есть или как у меня было в Торговом роботе что мне нужно было создать какие-то ситуации на тысячу Ну ладно на 100 там каких-то ордеров это было долго В итоге я через вот этот как бы генерацию создал текстуру и подсол в тест потому что значит всё происходило очень долго и будет гораздо проще запускать Давайте разберем тест заказываем более подробно вот кода у нас пока нет у нас класс код сепшена с методом Create Ну допустим нам говорят нам нужно оформлять заказ на такой странице Окей мы там на этой странице создания заказа потом убеждаемся что у нас есть Ну 200 код ответа всё хорошо собить Им форму смотрим Что нет ошибок валидации и смотрим Что у нас редиректна корректный адрес Ну берем получаем заказ проверяем что у него правильные там Поля Да все корректно заполнилось а я заметил что тесты в принципе в данном случае отображают почти моё ТЗ от менеджера Ну вроде бы описал все что он хотел плюс-минус некоторые детализации потому что ну мы все же ходим и вроде будет идти вроде бы у меня получилось написать тест дохода Да конечно с учетом что Я набил руку скот section но вроде бы это получилось но я должен сделать отступление что всё-таки это не совсем TD Потому что есть ещё биде То есть когда мы вот пишем требования потом вот это там бехат веркин немного там уже как бы это уже эволюция кода тестов скажем так э-э в данном случае мой пример это более хрупкий тесты Потому что если вы перейдёте там рекордного РМ то по идее у меня тесту пойдёт Хотя вроде бы ну бизнес-требование поменялись не должен Ну мы это опустим и получается из прописывают требования потом под эти требования пешеход Ну так вроде сейчас у меня и получилось чтобы он заработал когда приходит новое требование мы Прайм сперва тест потом запускаем код и он падает то есть мы убеждаемся что действительно у нас есть допустим Бага или Ну код поломался то есть мы убедились если мы напишем сперва код потом тесто у нас получается такая неоднозначная ситуация что тест работал и он продолжает работать нам надо убедиться что Ну действительно что-то исправить или нет и получается что также когда я Уточняю требования Ну я могу добавить сразу ограниченный случай что у нас один заказ в базе два заказа в базе или там несколько что мы могли видеть что мы не затираем базу например или табличку Ну и также если случается баг сперва пишем тест потом Prime код в идеальной картине мира конечно потому что ну я это скажу еще позднее Ну вот например приходит новое требование что у нас есть да то есть пушить задание в очередь и отправить уведомлению в телегу К менеджеру получается у меня были вопросы а как я мог вообще проверить email сообщение в очередь здесь есть функции из коробки например мы можем грабить последние отправленную почту проверить что там ну email корректный да либо использовать контейнер то есть мы можем подсунуть какой-нибудь стаб клиента да то есть написать класс заглушку и уже работает там то есть просто сохранять в массив message и проверять что у нас он заполнился да очереди с очередями есть пару моментов то есть вход сообщить надо повесить события чтобы ошибки иначе тесто у вас будет проходить ошибка в очереди будет и также можно инкрементить каунт если Ну события Пушкину вопрос спорный у меня бывало по-разному то есть очень может тестировать инкрементить и в другом тесте допустим вызывать метод ран очереди и проверять Что джоба выполнилось например бывало что в одном тесте и то и то делал и пушил и сразу выполнял там были особенности уже сами библиотеками например Rabbit в либе для PHP не имел метода ран он переходил в режим демона Я использовал очередь на файлах прошлым Хотя протестировать пример проверки то есть есть очень-очень контрактов Я вешаю события и проверяю что ну мне запушилось я выполнил Ну в данном тесте Просто мне еще пушилась еще одна очередь в другой Джобе поэтому здесь аккаунт 2 глобально модуль для codeption я писал и мог повесить глобально вот эти события чистить еще кэш чтобы убедиться что после каждого теста система переходит значение состояние а это код section просто для общего примера документацию это есть просто есть несколько типов тестов Вы можете как угодно их называть там эти файлы выглядят приблизительно так то есть вы объявляете какие вам модули надо там папочки конфиги мемори лимиты и прочее собственно когда Я набил руку На тестах я перестал вообще не говорить то есть я потому что у меня получается поменялся подход к разработке То есть я начал их писать и в среднем когда я уже набил руку они занимали 5-10 процентов времени конечно за мной возможно выхло бизнес или меня после конференции поймают но за Вот это время но при этом бизнеса я мог объяснить важность этих тестов потому что в долгосрочной перспективе они ускоряют вы написали фичи вы понимаете что вы не поломали модули коллег например для того чтобы ночью вам не звонили то есть иногда доходило до абсурда То есть я сперва думал как я могу протестировать новую фичу И когда я понимал что не надо написать какие-то новые моды для codeption я вспоминал что я вообще-то руками могу протестировать и тесты там чуть попозже написать Ну вы наверное скажете что Коля я начал говорить про тест Теперь наверное всегда пишу нет На самом деле все также иногда их ленюсь писать но мысли об этом стало меньше Также мне навелось на мысль что я могу думать о дизайне кода например Мы хотим написать хешер пароля Пусть он выглядит так я люблю статику очень люблю стачку кстати предположим и могу сразу писать граничные условия что Хеш не равен пароль он не пустой и допустим 27 символов длина и допустим нам нужно какую-нибудь либо использовать для хеширования С каким-то крутым алгоритмом как бы это могло быть Ну например так Хеш там или через еще какой-нибудь метод или еще через что-нибудь А хорошо другая команда использует Dio контейнер или коллега захотел проверить что его хешер вызывает столько один раз потому что алгоритм напротив тяжёлый выполняется 20 секунд как бы он мог это ну проверить А у нас статика есть спец либо для мокания для 100 бататики Но это сложно Давайте его перепишем на обычный объект без статических методов тогда коллега Может просто вызвать это метод либо conception Stop То есть можно так вызывать всё он значит будет проявить что Хеш должен вызваться только один раз мы наблюдаем как зависимость и это мне навело на мысль что понесурс в принципе разрабатывать не так просто в том плане что просто взять и скопировать куда-нибудь Это довольно Ну тоже надо подумать как его могут использовать и как его могут потом тестировать где-нибудь теперь пример по поводу команды на новом месте работы мои тесты были вне Гита потому что пройдя вот весь этот путь более я понимал что это довольно долгий процесс это ментально надо понять переварить принять и Я предложил их в некий Так держать потом я их добавил потому что многовато и мне нужно было как-то это все версионировать но все было как бы так факультатив как информация для команды потом их добавил вся также то есть количество сдавали мэры мерджили просто как информация было что с тестами и когда тесты поломались Коллеги начали ощущать эту пользу по-моему это было при обновлении то ли версии PHP то ли при обновлении какой-то либо то есть все-таки тесты давали пользу и коллеги Но я надеюсь они начали ненавидеть то есть поняли плюшки также это был на Pad проекте То есть мне нужно было Быстро накидывать тесты плюс это ну То есть ты понимаешь что у тебя есть запал тебе надо быстро накидать функционал но при этом ты же должен как-то тестировать и не ломать в одно время это тоже было удобно Вот при этом подходе когда мы используем средний тест кинули запрос проверили состояние без браузеров без слишком частых юнитов Ну если вдруг супруга супруг то Ну немного будет неприятненько что ну там с багами то есть надо как-то отложить этот момент И рекомендации выводы которым я пришел То есть это позволило понять что мне было проще обновлять о фреймворк Конечно же это вас Ну то есть меня тесты не спасали от всех возможных багов но нет в этой нет в этом как бы задачи покрыть всё это невозможно нам нужно покрыть минимальное как бы ограниченные условия описать хотя бы долгосрочный перспективе это позволяло быстрее разрабатывать фичи потому что я мог убедиться что я ничего не поломал А если что-то и ломалась то мы писали тест на бак а потом фиксили сам код и тесто выступают почти как бизнес требования потому что все таки мы разработчики мы немного мыслим в рамках кода поэтому понятно что мы проверяем базу модели поля и прочее то есть писать тесты до кода можно при определенной подготовке на это нужно время то есть у меня неправильный подход занял где-то год То есть я удалил папку Но вот понял что надо было немного по-другому писать если вы не писали тесты Я советую начать писать потому что со временем вы поймете как-то Здорово Что вы от рефакторе почти весь контроллера тестовом вообще не надо было править то есть ну добавить пару случаев конечно же там будут случаи что потом по сути начинается также ревью хода обсуждения насколько тест понятен насколько он удобен начните с малого поставьте section настройки Создайте тест у меня был проект где я не смог завести Ну вообще никак он не работал я раздел курал запросы что меня хотя бы 200 код ответа есть было удобно когда мы меняли SEO перенаправление и при помощи курла Я понял что ну мы кое-что поломали причем в самом неявном месте из 500 уролов сломалась 3 но это была ошибка логики Конечно же conception это фриорк для тестирования вас может быть любой То есть это Это просто пример потому что я программировал два и cods aption был в коробке Ну это просто так сложилось и в кот-сепшене есть особенности что для консольных тестов так как у нас там другой экземпляр приложения нужно подсунуть свой конфликт функциональные тесты вот которые эмулируют как бы вот эти глобальные массивы сервера будут если один раз то есть вот monpage когда вы хотите по контроллерам через тесты будут сразу только только первый раз на Первом контроллере лоу-дисы Но об этом надо помнить у нас прям ну это правится по-другому когда на Coral например переходишь но надо помнить об этом при включении особо на консоль когда я пытался сперва в браузере накликать потом перейти все лайки были ошибки но я эту проблему оставил потому что ну я просто сперва тестировал браузер то есть тесты Веба а потом тесты консоль в API будут падать реальные Exception То есть он мне реально будет ответ приходить А Exception то есть ну это особенность то есть модуль E2 для crosseption так написано то есть там свои моменты через курул запрос то есть там можно указать не едва а PHP браузер тогда у вас Ну реальный ответ будет Ну собственно Спасибо вам дорогие слушатели что послушали мою боль Также хочу сказать спасибо всем моим коллегам потому что это на самом деле работа большого конечно людей потому что мне задавали многие вопросы также мы в работе много обсуждали это наводило меня на многие мысли также Спасибо команде программного комитета команде в Билайне который помогла мне с докладом Всем спасибо также есть ссылка на трезвую короткое если кому-то надо Если вы захотите например попробовать тесты ввести в команду то в целом вот рабочий кейс Всё Всем спасибо супер И самое главное у нас разыгрывается три подарка за три вопроса вот передаю слово Екатерине отлично то есть у вас не один подарок а три подарка Да у нас подарочку да то есть три лучших вопроса скажем так Итак друзья у нас задача надо задать как минимум три вопроса вижу первую очередь Здравствуйте меня зовут Роман Я Back and Разработчики у меня собственно сейчас прохожу этот путь более тестирование и вопрос касательно функциональных тестов на код section я как бы пытаюсь их трогать Как обойтись без базы Ну то есть менять довольно таки тяжелая база и если какой-то способ там мог сделать или еще что-то иное функциональных тестах Ну из опыта Почему собственно еще не ставил базу потому что она считалась как ну это составляющая системы без которой она жить не будет И поэтому базу Я не стал исключать но мне например бывали случаи например пачка дуб это было внешняя система Несмотря на то что вроде ходу можно поднять Но это было очень сложная задача запрос там выполнялись причем синхронно очень долго не помогало вот через контейнер допустим обращение к базы через какой-то класс происходит я ставил класс и через и контейнер отцу уже в коде вот эту реализацию то есть таким способом было то есть изначальная подключаю di-контейнер а потом уже функциональное тестирование То есть это как бы два разных сервиса Ну получается что как бы в коде Мы сперва начинаем если контейнера нет то мы наш основной код приключенном контейнер А в тестах уже контейнером с этим вот например какую-нибудь класс заглушку то есть вот такие варианты бы Спасибо так Следующий вопрос рука была руки были с той стороны пока несут микрофон добавлю еще было что ну бывало что вот мы съели нам подсели и тесные очень сильно тормозить но там были уже пути на уровне там самой базы то есть там конфиги подкручивали ну то есть это уже как в оптимизацию ходишь не надо не забыть оценить доклад Итак вопрос пожалуйста Привет ещё раз скажи вот смотри ты говоришь Я сначала пишу тест потом реализовываю фичу А если все-таки задача не фичу реализовать а Целый жирный модуль вот в этом случае ты как пойдешь Можно повторить что реализовать ты говоришь что ты сначала пишешь тест потом реализовываешь фичу А если у тебя задача не фичу реализовать А Большой жирный модуль ты тоже сначала будешь тест писать или Ну смотря что модуль делает То есть если это какой-то модуль там корзины например но я попытаюсь как вот ну как бы я кликал браузер по сути тестировал модуль там зайти сюда кликнуть сюда проверить вот это вот как-то так то есть начать с более вот такого общего а потом уже докидывать какие-то там более детали Например у меня были случаи что ну у тебя большая фича Да иногда Ты сперва пишешь код Ну то есть это как вот привычка то есть Иногда ты даже не понимаешь потому что ещё не знаешь как ты это реализовывать будешь Ну бывает такие моменты поэтому я стараюсь начинать как от общих Мазков и потом уже более докидывать какие-то ограниченные случаи Спасибо еще вопрос А вот смотри представим что у тебя есть большая очень ваза и тебе нужно написать функциональные тесты данные очень сильно взаимосвязаны как вот написать текстуры и вот эти с ума не потратить на это 2 недели Ну вот как я приводил примеры что ну у меня было сперва То есть я писал без фикстур то есть ну я там хожу по контроллеру когда понимал что Это долго или что-то как-то это монструозно то я просто это выносил какой-то класс и на нем уже генерировал текстуру Ну это было топорно правда я отключал транзакцию дам пил Вот этот текстуру Но это вот уже как вариант оптимизации был Спасибо Здравствуйте Вопрос такой у нас огромный проект на E2 codeception все дела Вот пока он заведен только и Проблема в чем проблема в том что надо покрывать тестами там все страшно все плохо нет у них хорошо то конечно говорить о своем Вот но да Зато честно вот с чего начать То есть у нас куча модулей контроллеры сервис Жлобы и все вот это вот ну как бы С какого момента начать То есть у нас пока проблемы именно в этом Возможно стоит начать либо с багов Ну допустим Если есть какой-то баг Вы можете начать с Бага то есть вот есть бак там Вы заходите какой-нибудь URL там или не выводится и пишите тест Например если у вас сейчас нет тестов вы допустим с командой набьете руку каких-то простых Хотя вещах а потом уже потихоньку начинать дописывать можно таким вариантом либо начать Ну есть задача например протестировать Ну вот создание какой-то заказа записи Ну написали там зашел авторизовался за сабмитил форму проверил состояние Ну вот сегодня простого Потому что если сразу начать со сложного то Ну может случиться как у меня вот юнитестами вышло то есть по сути начать с каких-то по сути из багов из фич то есть того что добавляешь новое и того что сейчас уже не работает сделать так чтобы оно работало да то есть по крайней мере с багами В чём плюс то что вы закроете БАГУ и тест будет всегда показывать что вы БАГУ не повторили в другой фиче например то есть это как бы лавинный сегбагов исключить хотя бы вот который явно есть и сможете потом докидывать фичи видеть что баги там из-за фичи не скрылись например так можно Спасибо Спасибо большое супер вижу здесь руку а пока Helper а несет микрофон напоминаю если вы смотрите нас онлайн жду ваши вопросы в чате я их зачитаю все я хотел чуть-чуть уточнить ваш формулировку вы говорили про Чёрное и белой ящик есть еще Серый вот второй ваш метод это Самый классический серый ящик Да я согласен То есть если так подытожить то мой скажем черный ящик он как бы ну получается как бы размазывать Сынок то есть он там где-то чернее где-то Белеет то есть И вот в связи с этим у него вопрос Насколько я понял вы сначала покрываете тестами то есть там например поля API и всё такое вот это получается вы параллельно с написанием тестов фактически производите проектирование будущего решения Я правильно понял ну скажем да то есть конечно получается хру где-то не совсем TD как я говорил но В неком смысле как для разработчика для меня но как бы ну я хотя бы могу убедиться что у меня и правда корректно запомнилась база там кэш бросился сама вот реализация корректной работает Ну то что на них хрупкие потому что может быть я как бы не совсем точно знаю когда вы какие-то новые фичи делать в которых например требуется Новые поля в базе данных вот это вот Ну да правильно тест то есть дописываешь проверки на Новые поля покрываешь тестами Ну то есть фактически по результатам написания теста Вы имеете готовый архитектуру для написания кода на выходе скажем так нет элементы основные потому что ну скажем так архитектура она может другой быть то есть это я просто Как пример то что ну и два actifrecord Ладно мы используем для чтобы получить записи с базы и Ну просто как вариант выполнить запрос получить вот записи чекнуть Быстро А архитектура может быть любой Я например также чекал как бы базу но при этом у меня там репозиторий использовались Ну то есть оно никак не связывалось то есть вот так было супер Спасибо огромное Ну что больше нет вопросов У нас в зале так и в чате тоже У нас нет вопросов Ну что у меня с математикой на самом деле не очень но мне показалось что у нас 4 приза и 4 вопроса Я все правильно посчитала три призы четыре вопроса А есть еще четыре три тогда прям тяжелая задачка Да фотка получилась классная Ну я думаю у меня просто вопрос девушки про отлично раз еще два и наверное Ваня Да Если как А Рома пожалуйста чтобы и последний выбирает очень сложно Я понимаю ребята Я думаю вот последний вопрос и последний вопрос Спасибо огромное это было очень здорово и классно Спасибо огромное за подготовку за очень интересное выступление это подарок от организаторов Ну что я хочу Вам напомнить что у нас следующее будет выступление это будет tiktok с Павлом кузнецовым из Газпромбанка 1650 Жду вас А следующий доклад в этом же зале в 17.00 с валерием горбачёвым из Delivery Club До скорой встречи"
}
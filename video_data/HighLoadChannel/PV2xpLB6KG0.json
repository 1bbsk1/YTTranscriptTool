{
  "video_id": "PV2xpLB6KG0",
  "channel": "HighLoadChannel",
  "title": "Системный администратор Vkontakte. Как? / Антон Кирюшкин (Vkontakte)",
  "views": 3432,
  "duration": 2803,
  "published": "2017-04-22T14:48:17-07:00",
  "text": "здравствуйте у меня не слышно не слышно отлично да собственно в теме доклада есть вопрос как он отвечает его можно задать к тому а как мы собственно работаем то есть какие у нас есть инструменты речь не идет о том как мы настраиваем сервера или как мы пишем скрипты это вот каким нибудь разработчикам или к другим ребятам кто больше по коду моя цель здесь дать может быть идея о том как о подходе к работе к управлению к тому как решать какие-то массовые проблемы и выходить из сложных ситуаций в плане несколько пунктов речь про быстрое распространение файлов про и быстро и выполнения команд как на всех серверах такой на серверах по маске о том как можно контролировать и росси конфигурационных файлов на всех серверах о том как можно так или иначе распределять доступ потом как собирать alt и что может быть полезно для мониторинга и в конце можно будет позадавать вопросы если кратко то масштабы вконтакте они вот на слайде есть это более 35 тысяч серверов и менее 10 системных администраторов цифра для того чтобы мы оказались ещё более масштабными то мы генерируем больше двух терабайт трафика может быть кому-то интересно и да все технологии которые мы которая так или иначе участвует докладе они доступны для скачивания можно скачать посмотреть теперь собрать исправить задать вопросы уже предметно по коду как написано почему так а не иначе вот и перейдем к первой теме к первому подразделу как мы быстро распространяем файлы тут есть несколько подходов вы можете распространять их например на дисках или по почте тоже вариант вы можете распространить их по ssh нуб scp как вариация на ту же тему расинг тоже да почему нет если вы хотите это делать более-менее безопасность классе интернет то кажется это ваш ваш случай вы можете распространить пока ттп так тоже многие делают например да bean почему нет и если речь идет о какой-то большой площадке где несколько дата-центров то наше время часто используют торрент чем это хорошо тем что вы сервер с оригинальным файлом не убиваете по сети и тем самым распределяйте копирование как можно шире есть еще такая штука называется gote при плетей шины там почти как utorrent и но не совсем у вас есть некий сервер который является неким главным вирусом а дальше вы распространяете цель файл по какой-то определенной траектории и вот в нашем случае это как раз gossip рипли кейша чем-то хорошо тем что это быстро нашем случае файлик 70 мегабайт можем распространить на более чем 10000 раз за 20 секунд я проверил их правда так вторым пунктом является то что это гибко потому что вы можете распространять ни один файлик и не только какую-то одну маску к файликов а каждый сервер может получать какой-то свой набор вы зависимости от сервера можете это гибко ранжировать какой-то файл принимает архивчик какой-то файл принимает белок какой-то сервер принимает и то и другое а 4 является мастером для этих двух файлов роль определяется конфигурационным файлом а не каким-то глобальным конфигом это молодежный это правда шутка тем не менее свежий подход и от отказоустойчивость в чем она заключается в том что у вас сервер на котором вы так или иначе собираете архив или белок он у вас действительно один но дальше копирование самого файла у вас 1 петли распределена и таким образом вы не зависит низвести не зависите от какой-то какого-то конкретного в конкретные но до конкретного сервера если в процессе копирования какой-то из зараженных завис умер его роль подхватывает кто-то следующий и это атомарная почему это тамара будет стоит запомнить пустота more ность она будет дальше полезно и рассмотрена скорость копирования это false то она обеспечивается тем что сам движок состоит из двух частей это попив а сервер и купи fast engine который собственный работает на серверах по pifast сервер это как бы вершина дерева соответственно он выдает каждому серверу на основе конфигурационного файла с топологией сети три точки ближнего и дальнего порядка хотите копировать близко копируйте близко не можете близко идите подальше ну не в том смысле да и все эти вещи они определяются can фигурка торы и задается непосредственно при старте движка соответственно если вы перед стартовали и изменили этот конфигурационный файл быть конкретная модель конкретно сервис стали считать иначе и гибкость гибкой заключается в том что вы можете распространять как файлы целиком так файла в виде версий так и распространять записывание кабин логу в нашем случае мы часто пишем бинарные файлы в которых конец дописываются изменения эти изменения можно распространять через к pifast нашем случае получается быстро и удобно да хочется отметить еще и то что расследование версии у кати фаста реализована в виде манифестов и ещё один момент могут быть сейчас у многих вопрос о том почему не показаны собственно примеры манифеста как мы пишем одно как напишем другое сознательно уходил от этого момента с целью как можно больше показать технологии и меньше упираться в какую то одну из них сводясь к презентации вроде халтуру если хочется hal тут в конце будет ссылка на документацию там подробно все написано вот и теперь мы научились условно мы условно научились распространять быстро файлы практически со скоростью света но на большом проекте хочется и быстро применять эти команды какие то неважно записано не в лоб как в нашем случае или записаны в текстовом виде баж строкой на этот случай у в к тоже есть движок называется копия джек мы состоит из двух частей это собственность движок который работает на на всех серверах и движок который работает на одном единственном копеек заказал центр он двух лиц всегда и он поддерживает транзакции про транзакций будет один вопрос к аудитории пока просто запомните что он обладает транзакциями самое важное что он не зависит от интерпретации таким образом если вы на сервере сделали какую-то деструктивную вещь например потеряли к нему доступ по ssh технически с помощью копья к вы можете это откатить потому что в момент когда вы добавляете транзакцию в движок который реплицируется через к pifast вы можете сделать действие которое обратит ваше ручные какие-то действия с 5 вы с помощью копеек за к можете выполнять команды как на всех серверах так и на серверах по маскам ну например у вас есть сервер ip applications серверы баз данных сервера фронты вы явно не хотите на серверах фронтах стоять или обновлять мы успели массово правда ну вот на этот случай есть такие разделения купе язык обладает еще штук и под названием кажется мне подготовку под названием неизбежность транзакции что значит мы раскидали мы добавили команду в белок мы раскидали по всем серверам на сервер на котором мы хотели и выполнить завис сервер перезагрузился с реплицировать себе кусок бинокль и поиграла волга сюда локально и вместе с тем в какой то момент времени можем сделать необратимую операцию таких операций у нас было много например у совсем недавно бирму переходили на редизайн но это делали с помощью копья языка и после того как мы это сделали было сделано . синхронизации как раз на тот случай чтобы мы случайно не перешли на редизайн дважды к вопросу о вечных транзакциях один системный администратор в какой то момент времени решил сделать массовое хорошее действие и подчинил как вы думаете что произошло дальше ну не совсем сервер по жене на стал выполнять с что можно сделать в этом суть в этом в этом случае как вы понимаете копьях заказа нет он ничего в данный момент больше выполнять не будет на этот случай можем сделать две вещи или пройтись по всем серверам и убить этот процесс или записать скобках за транзакцию об отмене предыдущий ну тот момент он почему-то забыли что у нас такая возможность есть поэтому раскидывали чертовки и долго из этого страдали вместе с тем купить igzo к нам помогает еще и версии конфигов контролировать видим раскидываем довольно часто и нам хочется чтобы их версия была достаточно гомогенной поэтому мы воспользуемся примерно таким вот порядком действий мы подписываем на мастере конфиг конфет какой-то версий мы распространяем конфиг мы распространяем архив с этим конфигом мы записываем на каждом сервере результат исполнения команды а применение конфига с этой версией таким образом дальше мы можем строить на основе этих вот файлов на мастере на всех серверах мониторинг о том что здесь что-то не применилась таким образом обеспечивать целом единую структуру конфигов теперь интересный момент так можно обновлять исходные коды если они у кого ты распространяются наверняка же не все еще компилирует свой код сайта как мы для этого вот можно делать несколько вещей например их single that многие до сих пор делают там есть инструменты капистрано которые делают почти тоже самое так далее можно делать бетон но так или иначе если у вас серверов станет больше десяти или там больше ста сервер с репозитория у вас может случайно умереть можно делать докером так вроде бы делают банки поправьте если я не прав ну тем не менее не так делают в нашем случае это falsies кфс engine и к pifast что мы делаем из файл сиз что мы делаем вообще file size что он из себя представляет это как обычно движок с беловым мы любим берлоге в которой мы так или иначе пишем файлики или с помощью специального тула под названием falsies комет чем час или можно писать через memcache он поддерживает после этого он и рипли crm этот белок на все серверы и дальше на всех серверах у вас есть два варианта или пользоваться им через memcache интерфейс что он тоже поддерживает или монтировать с папку нашем случае эта папка если вы монтируете в папку то все ваши исходники хранятся в памяти что во-первых ускоряет к ним доступа вторых может быть полезно в случае если вы ведь исходники не хотите хранить на диске он мог вы можете зашифровать что ты еще забыл наверное все здесь если что обращайтесь в какой-то момент нас было мало сисадминов и мало разработчиков потом число разработчиков игр выросло число сисадмину за ними не успели поэтому если вернуться к с новым масштабам вконтакте то это более 50-ти разработчиков самых разных это и все разработчики php разработчики frontend разработчики как это теперь называется и стала проблема с тем что разные группы разработчиков что-то хотят от серверов продакшена кто-то пускает разработчиков на продакшн и не опасается а мы постараемся поэтому в какой-то момент времени один из наших системных администраторов хлопнул рукой по столу и сказал что он угадай мелодию с 30 дней в итоге начал угадывать и сделал delegates некий движок которая тоже состоит из двух частей является клиент-сервер ну и собственно нашем случае помогает исполнять команды или какие-то действия на серверах причем надо учитывать что эти действия они строго определены то есть не так как пусть он работает суда когда вы можете дать право на команду в вы даете право на команду и аргументы в данном случае что может быть удобно и в частности вы не пускаете человека на сервер то есть вы можете быть стопроцентно уверены что он не попадет сервер не сделать там ничего деструктивными прочитает какой-нибудь секретный файл которого забыли скрыть вместе с тем мы позволяем группам разработчиков выполнять какие-то действия ну например в нашем случае все разработчики могут скачать лог движка что может им быть полезным для того чтобы исследовать чем же там проблему почему каком-то месте не работает или падает и что еще полезно это сетевой протокол у вас может быть много серверов где живут пользователи и один сервер который в итоге запускает распределяет команды сейчас каждая команда подписано сиси он им ключом перспективы мы надеемся дать добиться шифрования нашего наших разработчиков delegate аид когда можно считать что он еще и совсем безопасный можно им пользоваться и сквозь интернет да что еще отважно что я говорил что мы что телегид поддерживать несколько аргументов для команд это может быть полезно в том случае если вы не хотите кому-то выполнять именно какие-то строгие аргумент или например хотите разреши строги аргументы но зашить это в один маленький лес может быть удобно но при этом удели гей то есть и ограничения которые во первых были не учтены при планировании вторых не предполагал жители gate это какая-то серебряное поле от всех бед частности вы должны понимать если вы будете когда ты вы использовать вы должны понимать что delegate сам по себе ничего никому не может запретить если вы разрешаете копировать пользователю файл серверу то вы должны в скрипте который вы через delegate так и иначе запускаете это ограничить скрипте не в дели гейте delegate тут вам не поможет удели гейта никто транзакционные модели поэтому если вы хотите посмотреть что пользователь вася делал вчера то вы сможете увидеть только по логу если он у вас не тратился собственно это не предполагалось реализовывать да тут собственно пролог и нельзя сделать какие-то интерактивные команды вроде топа или tail минус f если вам нужен блок то или вы выберете из него что нужно или скопируйте полностью помощью delegate вы это можете сделать и наверно один из последней пунктов это сбор таль сбор alert of the что может быть полезно в сети вообще в принципе для работы не только сисадминов но и разработчиков как часто собирают alert и допустим сисадмины они могут их записать файл на сервере собирать по ssh обходя все серверы они могут записывать их точно также files в сразу меня так из какой-то и потом эту разметку раз обрабатывать можно собирать по snmp гусиным п принципе вы практически не ограничены в том как это собирать как-то агрегировать многие напрямую пишут базу делают select до поры до времени может работать но тут надо понимать что база в какой-то момент может распухнуть и вам нужно что-то делать или если базу вас умрет то вам нужно идти alert этого нужно и как только как-то восстанавливать в нашем случае был когда-то очень давно написан движок позвонил макс в которой можно писать из кода из консоли и при этом делать почти скверный select него есть некоторое преимущество вроде пациент с интерфейсов вы можете как писать про пациенток так и читать функцию вас никто не ограничивает в этом месте сам движок работает по следующей модели все данные которые у вас доступны для чтения они ограничены объемом памяти которые вы движков выделяете соответственно так или иначе в памяти эти вот эти данные ретируются одинок который пишется при этом вы можете так или иначе безболезненно удалять если сделайте снимок временного состояния не сделайте удалить предыдущие кусочки то будет обидно да собственно вот этой про диска и сказал вы можете выделять этому движку ровно столько данных сколько вы пишете в день не боясь что в какой-то момент у вас закончится место и все рухнет также так как вы пишете белок вы можете его сохранять за большее количество времени и по нему восстанавливать историю каких-то счетчиков нашем случае logs используется не только для артов но там для восстановления например контента мы можем сохранив какие-то метрики а пользователи потом случае если пользователь за сломали у него удалили фотографии его посты на стене и так или иначе их восстановить и это для тех кто любит из кельи так или иначе таких тут наверное большинство похоже на sql запросов sql запросов в движку вот собственно сами движки можно найти вот по этим ссылкам недоступные можно скачивать в первом репозитории где лежат движки написанные на си также есть документация по каждому движку который выложен и все спасибо что я бы дмитрий самсонов одноклассники грязь . у меня следующий вопрос от своих инструментов кто занимается их написанием это администратора или разработчики если разработчик какие-то выделенные разработчики для администраторов или общее как происходит процесс разработки ну надо понимать что движке которых я рассказал они были так или иначе написаны для сайта в целом и достаточно давно то есть связка купив as the купе игрок они были написаны году 12 когда я только пришел в вконтакте они уже были работали с тех пор серьезных изменений в них не делалось они делались в рамках некой общей концепции там которую так или иначе нас стали продолжать телеграме а вконтакте пошел после 14 года некоторым своим путем поэтому говорить о том что эти движки строго гвинт админский нельзя если говорить в общем о том кто пишет у нас движки то это сервисе разработчики которые есть штатно не в общем способным и коня на скаку остановить у горящую избу войти здравствуйте вячеслав спасибо за доклад по поводу delegate мне кажется можно было просто давать доступ по ssh пользователям на сервере написать кастомный шел в котором вы проверяете команды который приходит от этого пользователя и команды все описать можно было там в любом ямал формате соответственно можно было писать команды аргументы к ним можно было ограничивать эту посуду у вас было бы шифрование и вы могли бы например обращаться к этому серверу через по дистрибьюции системе то есть из одного кого-то сервера через цепочку серверов через за шаген и мне кажется такая схема ну немного лучше подходит как думать ну смотрите тут можно спорить во-первых в этом случае так или иначе вы все равно даете доступ на сервер и для нас до сих пор это является некоторым таким камнем преткновения которое мы не очень хотим каким-то как как-то обходить во вторых писать кастомный шел довольно плохо это вроде бы в тринадцатом году показали одноклассники в третьих если вы каждый раз когда вы хотите дать какую-то новую маску команд вам придется это так или иначе ну довольно большом количестве сервов обновлять виде конфигурационного файла в виде перри сбора пересборки баша еще чего-нить еще чего-нибудь в нашем случае мы пишем скрипт который мы описываем что можно делать пользователя что нельзя писать на баше может принципе любой system administrator at писать носи не любой согласитесь это чуть-чуть сложнее во многом поэтому пошли по этому пути собственно это первый момент второй момент если говорить о шифровании то нашем случае вхождения от клиента до сервера это хождение между двумя соседними серверами если вы хотите использовать delegate более массово то есть ходить не в рамках одного одной стойке или 1 дата-центра ходить между дата-центра мили между континентами ну тогда да конечно вам шифрование вот прям совсем нужно нашем случае вот пока это терпит спасибо давайте пока вас микрофон привет мир видимость одноклассники такое у меня вопрос вот рассказали про штуку которая позволяет напротив выполнять массово команды так там скрипты и вот мы скриптик раз копировали это масло его запускаем вот а ведь может быть так что там какая-то ошибка будет ничего особенного просто человеческий фактор весь протри пытается вот какая-то защита от этого есть не у всех голова на плечах да она просто вот ошиблись ну так или иначе вы же не напрямую движок прям сандалики команды в этот сделайте через некоторую обертку в которой вы наверняка хотите написать в маску серверов на который вы хотите выполнить команду не пишите там фильтр самом движке дата на движке этого нету защиту к сожалению или к счастью не знаю здравствуйте они могли бы чуть подробнее рассказать как вы ограничиваете кто что на какое вот на каком из этих тысяч шаров может запускать а что не может соответственно через зеленеет через delegate да вот именно вот вот эта часть как в разграничивать ну собственно для чего нужен delegate для того чтобы выполнить команду на каком-то сервере на конкретном скорее всего ели если вы хотите маску серверов то вы так или иначе заранее из должны знать после этого в собственно в конфиг сервера вы добавляете скрипт который с помощью которую вы это будете делать не саму команду и сервер а скрипт который вы пишете на ваше питание на чем угодно самом скрипте вы уже пишите где запускайте как запускать пришли аргументы такие сделали то-то пришли аргумента такие сделали тот то есть ну тут delegate данном случае это способ дать пользователю это запустить и получить на экране такой-то результат или получить файлик в какую-то папку или получить результат и слога или там на группе серверов перри запустился какой-то демон и вы видите ли статус и его перезапуска вот как то так или или вы хотите как-то иначе а здесь я здесь бывают группы пользователей да у вас есть да у вас есть политики в которых на в котором написано что есть пользователя пользователя принадлежат таким-то группам и такой-то группе можно вызывать эти команды такой-то группе нельзя да или можно выдавать персональные право на пользователи еще забыл сказать что религии то есть очереди чтобы там 20 пользователей подряд и начали что-то копировать на сервер или серверу возрасте вопрос как устроен мониторинг на 35000 узлов как монет что на конкретный сервер подошла проблема если фолловеры приключений нагрузки перенос нагрузки на другие сервера как у нас устроенную никто не кунас мониторинг свой мы часть диалектов пишем вот как раз в oxygene оттуда раз какое-то время выгребаем последние по ним строим какие-то уже сообщения у нас есть с другой стороны мониторинг когда мы сервер обходим мы постоянно их как-то пытаемся обойти ну и соответственно если на каком-то из из этих с тысяч серверов что-то случается то в зависимости от критичности можем себе сообщением вконтакте отправить например или смску то есть сумма иска мун куда к не сможем отправить себе сообщения в telegram да снова андрей из одноклассников раз уж пошла такая пьянка и все задают вопрос который сбивается из клип повествование такой вопрос а если можете ответить на фильтруете ли вы трафик себя в праге внутри рода между серверами служебный трафик какой-то да если да то как каком уровне носите обитой бархатом или кого нет фильтруйте а смысле в смысле вы шейпинг или именно или фильтра админа и вот и фильтрационного 5 bus такие да спасибо вот там вот кто-то хочет и еще в первом ряду мне вот интересно какие будут как администратор 20 какие вот дистрибутива вы используете centos димой debian 6 7 версии ну сейчас вот по-моему у нас массовых везде 7 и мы по чуть-чуть вместе начинаем переползать на 8 а наших масштабах это довольно тяжеловато ну да понимаю так исторически сложилось debian я думаю да потому что еще в 2008 году debian выбрали как основной вот почему выбрали в 2006 я к сожалению не могу сказать не знаю еще один вопрос было пришел какие системы тепло и вы использовать например оси был побит если вы заметили вот тут вот у нас есть такие штуки называются вот видите купе язык там и поэтому целом мне не должны использовать что-то другое мы можем использовать копеек за как способ запустить команду на сервер и распространить мы можем через скопив астана писать мы можем ваше этом смысле писать на чем-то еще не особо имеет смысл спасибо здравствуйте у меня вопрос такой вот на основе таких alert of которую собираете если у вас какая-то автоматика которая обнаруживает какие-то проблемные зоны и отключает это чтобы локализует проблемы отключает и чтобы потом можно было спокойно администратором с этим разобраться то есть чтобы эффект его минимально прот просто больной участок отрубить сразу и раз красным же потом ну вот прямо на текущий момент мы конечно стараемся автоматизировать все что можно что не получается толкаем автоматизируем но так или иначе отключать что-то довольно страшная история конечно какие-то служебные вещи которые работают на каждом сервере мы способны отключать и опять-таки и чинить автоматически про отключение целых разделов на текущий момент нет и вроде бы не очень мы этого хотим мы скорее хотим работать хорошо чем отключать что-то все говорить о каких-то масштабных вещах то кажется что вам это не особо похоже ну то есть надо понимать что в контакте на текущий момент и такой один большой сайт где очень много переплетений внутри если вы захотите какой-то компонент выключить потому что там проблему чтобы потом разобраться то это может случайно отразится на всех пользователях но все таки это не очень хотим мы стараемся сделать так чтобы если у нас есть возможность переключиться на какой-то резерв мы это делали автоматом но не выключать основной функционал стремитесь мастер но так или иначе это попытку делается например на фронтах когда часть серверов с кодом не отвечают они им ставится тмл 10 секунд например на то чтобы их не долбить дальше текущий момент это самое самый максимум что мы делаем здравствуйте спасибо больше за 20 скажите galaxy note что всего 10 системных администраторов 35 тысяч 70 менее 10 тем более есть какие-то искала ционные политики между этими администраторами или еще что-то когда происходит проблема вряд ли проблемы сразу на всех 10 человек из полируется ну видимо вас тут интересует о том как мы организуем работу ну да на текущий момент если смотреть на это с разных сторон от происходит не очень эффективно мы так или иначе стараемся быть всегда рядом с компьютером всегда смотреть за лентами и поэтому какой-то четко эскалации между тем что вот вот этот раздел чинишь ты вот этот раздел очень я на текущий момент нет наш системные администраторы должны чинить все нет не слушал все они все ну допустим два дня дежурят там от нее сена министра tor 24 часа реагируют на проблемы или вот как поломалась в любой день на всех 10 человек придет alert ну на текущий момент а мы отправляем 7 10 allure там alert и чтоб не выпадали жизни если там ну политика что в чине какого времени люди должны отреагировать или допустим каждый из этих 10 подумать новая ней от ума кто-нибудь ну мы пришли к соглашению что если проблеме полчаса если никто не отреагировал то надо бежать сломя голову как то так спасибо огромное за доклад вопрос такого неожиданно каким образом вот смотрите на этапе разработки получаются вы внедряете какие-то новые фичи либо изменения вопрос такой каким образом вы тестируете но каким образом бы вообще внедряете каким образом вы тестируете эти новые изменения дебатам на части пользователей сначала либо там как бы вы каких-то каких-то тестировщиков там например 100 тысяч человек ну смотрите у нас целом изменение так или иначе выкатываются 1 по 50 в день с нашими возможностями которых я рассказал докладе мы можем это делать быстро и часто если говорить о каких-то масштабных вещах ну например редизайн да вот to redesign довольно долго живу на отдельном адресе с отдельными серверами парке с отдельными фронтами и долго и упорно там все обкатывал сначала это были только своей потом все сотрудники так или иначе вконтакте или и моего по-моему так потом начали туда потом объявили публичное тестирование постепенно нагоняли туда людей чтобы посмотреть если какие-то проблемы архитектурные ну трудно что-то не учли в самом коде или в обращении к движкам если говорить об изменениях которые происходят каждый день то как правило выкатывают с какой-то вероятностью соответственно вы часто даже не знаю того тестируете новый функционал и мы с этого собирая метрики есть получается вы например берется каких-то но средства пусть пять процентов пользователей евро инвестируется в них но функционал да и потом так напитываться итеративно нарастать мир стал 10 20 стол да да да то есть мы обладаем еще как у каким-то внутренним арсеналом движков с помощью как в котором мы храним конфигурацию того как должны вот сайтом процента почти как процент новых обращений к одному движку какие-то настройки для языковых вещей и туда же мы можем писать вот процент пользователей которые должны обращаться там какому-то новый функционал тем самым если этот функционал что-то рушит мы быстро в течение там пару секунд его откатывает то есть это не вы какое то мы ушли от далекой старой ситуации когда процент регулировался в коде сейчас на регулируется вне кода и в код просто проверяет что-то должно быть да спасибо здравствуй меня зовут егор компании на игру ресурс такого содержание а какой интерпретатор используется для кода вконтакте и почему был выбор сделан в пользу того или другого интерпретатор выметет вы ими сюда тот который сайта на то что что непосредственно уже видит пользователь выбить алиби ну выйди довольно давно компилируемый транслируемый язык так получилось на чем контакт написан контакт написан вот вот прямо сейчас он написан на си плюс плюс полностью ночь мы берем php и дальше транслируем во все + + и виде большого бинарного файла раскидываем по всем серверам можно спасибо здравствуйте жить и делать такие копейки продолжение конфиги мы храним на диске как правило это как правило это генераторы которые написаны на большие которые генерируют уже что-то другое я не очень понимаю ваш вопрос у нас есть у нас есть такая штука когда коллеги подсказывают у нас есть прокси с помощью которых мы получаем доступ из одной точки кода в другой в другую точку какой-то движет крышка а то прокси и она но не буду эта стрела летит установок ухо стен так понимаю все так какие механизмы балансировки нагрузки вы применяете где ну например round robin dns все либо либо как вы распределять нагрузку по этим сервером как знаете что человек с одним один нужно править именно это сервер опять страдает могут страдать механизмы кеширования вот какие механизм используется у вас можете поехать ну если поверхностно то на фронтах у нас энгин кс который дальше определяет запросы по включительно round robin у между обработчиками этих запросов ничего здесь хитрого особенно не используются тише тише нет вас к шее чего тут понимаете мы с вами можем уйти довольно глубоко внутри что не хотелось бы если говорить в общем то конечно каши есть если говорить конкретнее то о чем вы спрашиваете например как вы сохраняете как старайтесь сохранить валидность кеша то есть вот то о чем я скажу кошачьего подождите давайте давайте уточним конкретно но если вы не можете так сказать поверхность давайте не будем углубляться я понимаете если говорить каши каких-то данных которые мы получаем из базы ну это один вид with cash а если мы говорим о крэше как о том что мы распространяем файлы ближе к пользователю согласитесь с другой вид каша если говорить о запросах к картинкам и хотим ли мы их как-то кэшировать 3 витка шоты вот например такой картинки сообщение промотали там на год назад в истории сообщения от все это есть проматывать в течение 5 минут будет процесс каша или будет пересчитываться ну если вы хотите получить на год назад скорее всего этого в кошение потому что у нее не часто ли ставить на тут не имею 2 2 1 2 2 скорее всего да спасибо сложно тут тут тут тут тут надо понимать что кэширование тоже может быть на разных участках она может быть в движке который это читая с диска может быть в коде которые то хочет получить от движка пока есть memcache и это их много в к есть persistent ный memcache вот тоже очень много как то так подскажите у вас конфигурации серверов однотипные или в железе нет мы вот мы раз мы развиваемся и постепенно сервера тоже развиваются то есть не возникает таких проблем что допустим один сервер какой-то там древне конфигурации перестал страниц ну скорее всего если это сервер древний конфигурация то он уже давно не принимает свежий фотография лишь их хранит его планет какие-то второстепенные функции если какие-нибудь графики обновления железо избавление от 40 серверов ну примерно раз в год мы избавляемся от нескольких тонн железом старого ответил он так спасибо лучше микрофон какие средства защиты информации вы используете для соответствия фазе 152 хранение обработка персональных сколько я знаю мы храним в базах данных что соответствует закону вот честно я вот-вот правда бег без понятия требуется системы защиты информации такие как секретный отдал слуг и прочее если честно для меня это новые слова я я почитаю я я правда не знаю спасибо вот вы говорили про свои инструменты и так далее интересно на самом деле насколько просто до них добраться то есть вы запускаете с каких-то условных серверов туда попадаете на sshd ну то есть вот как у вас вообще сделано авторизация ваших администраторов как раз как вы получаете доступ сможете ли вы туда быстро попасть в тот момент когда alarm и произошли и так далее насколько это просто будет или вам нужно обязательно там приехать подключить спал ну то есть как как организован безопасный вход для управления не серверов ну я наверное не расскажу каких-то удивительных вещатель скажу что есть сервер для доступа есть серверы для того чтобы работал сайт сервера для доступа у нас серых для доступа нас ни один как минимум с помощью этого мы позволяем себе входные маневры ну тут ssh ключи и списки доступа ok давайте тогда пока вопрос активно кончились давайте расскажем большое спасибо очень интересно валите стенд контакте я думаю что ребята там будут не сегодня-завтра задавайте эти вопросы сейчас сделаю небольшой первых минут 10 15 продолжим про видос а после про нейросети будем тоже слушаете так что возвращайтесь"
}
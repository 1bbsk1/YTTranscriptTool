{
  "video_id": "icXJru4FaRU",
  "channel": "HighLoadChannel",
  "title": "Разработка React-компонентов / Павел Силин (ООО \"ДЭВИМ\")",
  "views": 5182,
  "duration": 2712,
  "published": "2018-01-16T13:26:36-08:00",
  "text": "всем привет меня зовут павел я являюсь ведущим смотреть разработчикам в компании давим сегодня хотел бы рассказать о своем опыте в разработке react компонентов немного себе в разработке я около шести лет из них два года это непосредственно разработка на reactie в продакшене работала в таких компаниях от яндекс директ это один из самых сложных интерфейсов в яндексе затем я работал компанию roistat это за сервис сквозной бизнес-аналитики где возглавлял разработку нового спа приложения тоже с довольно таки сложным интерфейсом и сейчас я работаю в компании dream я являюсь ведущим frontend разработчикам мы там делаем в основном crm системы и другие приложения для автоматизации рабочих мест сотрудников вот в ходе работы я столкнулся с некоторыми проблемами одна из них это перри использование реактор развивает использование компонентов и компоненты и такая вещь которой мы должны взять ее за использовать другом месте соединении с другими компонентами но так часто не получается тогда нам нужно использовать компонент другом месте мы пытаемся это сделать мы понимаем нам чего-то не хватает вертайте моего модифицируем дополняем и изменяем если это компонент использовался много где то нам приходится найти все места где он использовался и протестировать их и довольно проблематично когда мы это делаем то у нас появляется регрессии мы компонент меняем и это где-то не очевидным образом ломает нам что-то другое и это проблема затем нас иногда получается довольно таки сложные компоненты с богатой функциональностью но когда мы его используем то мы понимаем что какую часть но все-таки нужно его выделить и нам его приходится рефакторинг а так как компонент может быть сложного довольно таки тяжело вот одним из таким кейсов бывает то что ради производительность нам нужно какой-то элемент завернуть специальный контейнер который там например будет из редакции что не доставляет из круто хранилища свое состояние еще одной проблемой является то что когда кто-то другой написал компонент и вы хотите использовать вы на нее смотрите думать как что ты использовать но самое интересное что бывает вы берете свой компонент которую давно написали и вы тоже не смотрите не понимаете как ему и спорт как им пользоваться в результате вам приходится залезать внутрь компонента изучать его смотреть его код иначе вы просто не поймете как им пользоваться но такие проблемы встречаются не только у нас но и например на сервер сойди и в целом в программировании или решение есть пять золотых принципов которые называются solid давайте немножко них поговорим первый принцип это принцип единственная ответственности суть его заключается в том что у компонента должна быть всего одна причина для его изменения давайте посмотрим например на компонент меню довольно таки простой в чем здесь проблема проблема в том что он отвечает у нас и из обработчик выборы меню из-за то как располагаются в нем элементы внутри и вообще за то как выглядит элементы у данного компонента приблизительно вот такие причины изменения например мы хотим поменять логику выбора элемента нам придется его модифицировать либо у нас изменится внешний вид элемента например мы хотим добавить какую-то иконку в один из элементов тогда нам снова придется компонент изменять 0 например изменение расположения элементов мы хотим чтобы они были не горизонтально и вертикально и либо изменить отступы нам опять придётся модифицировать сам компонент меню а если он находится у нас много где то нам придется найти его использование и протестировать ничего ему не сломали как предлагаю сделать это я чтобы не нарушить не нарушает принцип у нас есть довольно непростой компонент меню который отвечает только за расположение элементов и внутрь он принимает дочерние элементы как меню ой там который тоже довольно непростые отвечать только за внешний вид самого элемента а вся логика за выбор элементов у нас находится меню контейнере таким образом если мы хотим поменять меню элемента мы просто берем и используем не меню ой там а там меню ой там с иконкой какой-нибудь либо просто вставляем иконку ему дочерний элемент и нам абсолютно не нужно не трогать не менее не менее а этом не какие-то другие элементы и а нас ничего не ломается следующий принцип это принцип открытости закрытости суть его в том что объекты должны быть открыты для расширения но закрыт для изменения по факту это значит что если вы написали какой-то компонент он у вас находится в отдельном файлики если вы поняли что он готов больше вы к этому файлик у никогда не должны прикасаться вы не должны каких-то изменений носить посмотрим на примере компонента input он давайте простой неё есть значение которое отображает и ее можно изменять но завтра к вам приходит говорят нужно чтобы телефон отображался с пробелами там или по какой-то маски после завтра вам приходит говорят нужно чтоб там внутри into the слева был было иконка телефона и вам нужно модифицировать этот input вам нужно его изменять вам но где используется вы можете много чего сломать как это можно сделать мы у импа добавляем несколько точек для расширения это например текст formatter куда вам передам функцию который форматирует наше значение для вывода и у нас например есть такой проб а дом бифа ну на самом деле мне еще скорее все будет addon-ов то вот это кислоты которые внутри input а позволяет нам что-то добавлять слева и что добавлять справа можем добавить иконку можете добавлять суффиксы можно добавлять во все что угодно тем самым машинку становится открытым для расширения зрелище принцип это принцип постановки барбара лесного фонда улики твой сложный суть его в том что например посмотрите по примеру вас есть там класс посетители кафе вот и откладываем а действует с классом официант но потом вам нужно сделать там vip официанта вы наследуете этого vip официанта официанта и суть этого принципа в том что когда если ваш класс клиент пусть кафе взаимодействовал с официантом то когда вы поменять подставите туда вместо официанта официанта этот класс должен корректно с ним работать и наоборот если кто-то работать официантом если вам подсунут обычно официант он тоже должна с ним correct нормально работать что значит на практике в разрезе компонентов моя практика показала что использование наследования в ряд компонентах это приводит больше проблем чем каким-то профитом и решение чем простой просто не использовать наследование намного лучше компоненты делает расширяем ими или использовать композицию следующий принцип это принцип разделение интерфейсов java скрипте у нас нет такой сущности как интерфейс и поэтому напрямую этот принципе с всем применим но у нас есть контракты и в частности ряд компонентов от нашей пробкой пса который даже есть варианты и этот контракт проверяется если чуть-чуть переделать этот принцип то сучьего будет в том что мы не должны использовать сложную сложных проб type of передавать туда какие-то большие структуры которые влияют на поведение нашего компонента и внешний вид наши проб и должны быть простыми вот у нас есть компонент select и в него есть такой пробках ой там это массив объектов и этот объект эти объекты могут быть довольно таки богатыми у нас например может быть свойства который отвечает за то что этот элемент выбран если у нее иконка если есть то какая может ли он быть выбран или не может быть выбран или мы вообще можем передать туда целую группу элементов и от довольно-таки сложно во первых такой очень сложно разобраться не залив не залез если не залезть внутрь компонента и посмотреть как он работает и даже вы если будете записывать виде проб types of этот апитонус будет большое и недовольны быть тяжело смотреть вот но и также это делает компонент наш хрупким потому что нам вместе мы хотим что добавить нам придется изменять эту структуру а наш компонент зависит от структуры и он может сломаться более того когда мы добавляем все новые и новые этого свойства это и 5 пухнет latch внутри компонента пухнет там появляется куча iv чиков которые давали сложно разобраться и все это приводит к проблемам что можно сделать это как принципе из меню у нас есть простой компонент select который принимает дочерние простые элементы select ой там которых простой очевидный 5 ну разобраться с этим как это работает валите легко никаких проблем у нас не будет последний принцип это принцип версии зависимости он полностью основан на интерфейсах ну java script у нас нет интерфейсов в принципе если использовать скрипт или flow то вы можете изучить принцип но я не буду рассказывать у нас просто нету нет возможности сделать инверсию зависимости давайте посмотрим на практике у нас есть такой замечательный header противень кий гламурный он состоит из логотипа и каких-то табов меню так сходу напишет какой нибудь неопытный react разработчик этот компонент он сделать один такой простой с первого вида в первый взгляд компонент header который будет весь в себе и не будет обработчик клика на логотип и обработчик выбора меню если повезет он все-таки ему еще сделает возможность передать начальное значение индекса выбранного элемента потому что страниц может так открыться и уже быть выбран такой элемент потом к нам приходят и говорят давайте похоже меню за используем другом месте но там была проблема в том что мы даже элементы меню зашли внутрь вот и мы же не можем просто взять за использую ну тогда разработчик добавляет еще 2 пропа это ссылка на картинку логотипа и меню ой там с через которую может передать эти элементы потом к нам приходит говорят но надо добавить у штаба с телефоном иконку телефон мы снова добавляем туда еще одно свойство потом к нам приходят говорят нам нужно необычная иконка особо иконка мы делаем поддержку чуть фуга иконки внутри header добавляем и хочу который это обрабатывает возможность топе дать из воды иконку наш компонент пухнет парк но потом нам приходит но у нас офиса во многих регионах на что можно выбрать телефон для каждого региона мы добавляем поддержку множество значений для tabo данный компонент нас уже много 5 используется мы обязательно что они день сломаем тестируем и факторы происходит тяжело что нет а в целом с этим подходом тут мы нарушили почти все принципы наш лидер отвечает да очень большое количество вещей за то как он выглядит зато где располагается логотип зато где располагается то бы за логику самого выбора табов нам постоянно приходится изменять что можно сделать делается это примерно вот так мы делаем компонент header очень простым я называю такие компоненты layout он отвечает только за отображение самого федора и то где раз по располагается левая правая часть мне есть два простых пропал left и right и их называю с лотами федору абсолютно все равно что то будет перенос все что будет передавали в лифт будет располагаться слева все чтобы перед наврать будет располагаться справа а это не обязательно может быть можем взять заменить логотип на бутерброд с меню и левое меню можем заменить на какое другое меню или община can select также мы завернули само меню в отдельный меню контейнер который будет отвечать за логику самого выбора меню выглядит он примерно так он тоже состоит из очень простой компонента меню который принимает дочерние элементы меню ой там все очень просто и легко расширяемая мы можем где нужно подставить нужную иконку а если нужно изменить логику самого меню мы это дело имени фонтейн мере логика отделена само состояние тоже убран авеню контейнер то есть сам компонент меню он не хранит все состояния какой именно элемент был выбран и нам даже не нужно думать в начальном выбранного значения потому что печать не контейнер и все состояние хранится в нем целом что было использовано у нас есть ли я в компоненте да у нас есть контейнеры который инкапсулирует и логику и состояние у нас есть меню этом это его и компоненты они тоже очень простые и могут содержать себе маленькое простой состоянии типа там hawera нажата sti и так далее теперь давайте поговорим о риске у нас есть простая кнопка нам вдруг необходимо добавить и отступы слева как мы это делаем мы делаем открываем наружу у кнопки атакой проб top style и туда мы можем передать любые стили что есть не так во первых сам объект style он довольно таки сложный туда можно передать огромное количество цесса свойств и как они повлияют на кнопку мы не знаю чтобы понять что-то передать нам нужно залезть внутрь кнопки посмотреть его стиле и подумать ничего ли мы не сломаем например у кнопки уже можно представить отступ слева и без того чтобы сместить кнопку на 40 пикселей вправо это сделано 20 пикселей неожиданно потому что у нас уже там и lost упредить моего перекрыли мы еще можем поступить так мы можем открыть 2 кнопки такой пробка от классной это а передавать просто все с close as a mystery вынести в отдельный файл тем самым делаем компонент расширяемым казалось бы хорошо но с помощью этого мы открываем дорогу в ад и через css стили мы можем вообще с этим с этой кнопкой сделать всё что угодно и у нас еще появляется могут появиться там неочевидной зависимости потому что эти в этих стилях можем использовать препроцессоры которые используют какие-то свои функции написаны вообще на другой технологии либо они могут эти стили могут extended с открыть и что другие в стиле не дай бог там может быть использовать может быть использован those that мы можем открыв кнопку для расширения мы просто говорим делать с ней все что хочешь сломай и так далее что можно сделать я для себя сделал выделил такие компоненты как стилевые у меня их 2 это view-компонента и текст здесь используется view компания view компонент может спокойно принимать стиле это просто обычный девчат который внутри используют flexx бокса в результате есть нам нужно сдвинуть кнопку точнее добавить отступ у кнопки слева мы просто оборачиваем ее в этот you компоненты ему задаем стиле тем самым абсолютно никак не влияем на саму кнопку мы не можем поломать наша кнопка отвечает только за свое состояние за то что она кнопка зато как он располагается отличается отдельный компонент view в принципе это возможно . благодаря тому что в приложении сможем спокойно сейчас использовать flexx бокса и абсолютно любые из и реализуется с помощью этого способа но тут у нас онлайн стиле онлайн стереть не очень хорошо показала практика это во первых не очень быстро во вторых сильно усложняет инспекцию ешьте мель на полу в браузере я использую снг с под капотом библиотека джесси и стиле примерно выглядит вот так и view есть специальный проб стайлз который принимает массив фактически строк которая получается с помощью style sheet trade результате наш компонент он весь закрытый мы не выставляем свои стили наружу все находится в одном файлике и никто на это не как не может повлиять не очевидным для нас образом и того у нас есть пять простых тактик для того что наши компоненты были легко поддерживая и подчинялись принципам принципам соль первое это разделение всех компонентов на три типа play all компоненты ю ай компоненты и ставил компонентов layout компонентов я уже говорил отвечают за верстку и расположение элементов и основным его api является это слоты слева расположить что справа сверху снизу обзора экшенов и так далее ей компоненты это наши маленькие такие не большие функциональные компоненты реализующую ей то есть это ян путает кнопки select и элементы меню и так далее и стилевые компоненты ну я для себя сделал только два это view и текст это компоненты которые могут в себя принимать стиле то есть помощь нет мы задаем расположение верстку цвета и так далее важно отметить что не layout не его и компоненты не выставляют наружу properties которой принимают стиле это делать только ставил следующая тактика это простой 5 я считаю что каждый компонент должен принимать себя только вот такие проб и это примитивы массив примитивов компоненты массив компонентов и функции это позволяет соблюдать принцип единственный от единственной ответственности и разделение интерфейсов если вы откажетесь от сложных объектов вам придется как-то декомпозировать ваши компоненты и они будут удобными следующий принцип это не выставлять ставил и классное обнаружим но об этом я уже говорил это могут делать только стилевые компонента это нам позволяет не нарушать принцип разделения интерфейсов и расширяя компонент открываю компании для расширения не открывать дорогу в ад ну и четвертый принцип это у нас выделение таких компонентов как контейнера обычное все компоненты стилевые юлай и layout они не должны себя содержать никакого состояния никакой логики все это должно находиться в специальных компонентов которые называют контейнерами в контейнерах у нас находится состоянии обработка данных mapping данных фильтрация данных и любая логика который возможно мы это все мы носим в отдельный контейнер и с помощью этого контейнера уже заварачиваем нашу компоненты и строим композицию ну и такой надеяться что будет спать спорное утверждение используйте снг с и забудьте про с классический css и всевозможные препроцессора я своевременного писал на процессоре стилусы например сделать подойти нужны какие-то вспомогательные функции для генерации стилей там приходится писать от на каком-то своем своеобразном языке в которой очень и возможно дебаты это был какой-то честно говоря от а если мы делаем используем с снг с у нас полный функционал чего скрипта можем все это делать de bajo это все прекрасно работает и и у нас одна технологии на все нам не нужно изучать еще какой-то препроцессор или как работают каскады и переопределение в css и вот и последнее о чем хотел бы рассказать это такой библиотеки как сторибук свое время я писал компоненты довольно таки тупо я просто брал вставлял в приложении прям на живую там где нужно было сделать функционал делаете компоненты иногда до этих компонентов было довольно тяжело добраться нагло что посмотреть как он работает там немного покликать куда-то залезть и так далее это было не очень продуктивно вот и однажды наткнулся на публике как сторибук это такая песочница для разработки компонентов не можем написать специальные называемую история и поселку по левому меню и посмотреть какой-то компонент работает вот истории выглядят примерно вот так но помимо удобности разработке этого еще родил о такой подход что мы сначала пишем api компонентов то есть мы пишем такую storie показан как какие-то компоненты есть проб и что-то вставляем все из нас это пока не работает мы добиваемся того чтобы наш сторибук собрался и это заработало там например создаем недостающие компоненты просто кем-то пустыми и только потом потихонечку добавляем to over стк у какой-то функционал это чем-то становится похожим на очереди и это очень удобно плюс еще вы можете когда уже написали пьянь сделать небольшой request показать другим на review все оценят скажу да все классно опять хороший и вы можете спокойно продолжать работать и вам потом не придется ничего менять еще одним плюсом такого подхода стало то что в компоненты разрабатывать независимой среде и вы не думаете в окружении и ждать ваши компоненты становятся более правильными и их становится более легко переиспользовать потому что вы не на завязывайте с окружении на этом в принципе все всем спасибо вопросы так перед тем как вопросы будете задавать за самый лучший вопрос по мнению докладчика человек которого задал получает наклейку по истечению конференции ну можно набрать наклеек и эти наклейки в центре игровых зон можно обменять на какие-то призы вот вопрос выбирайте здравствуйте спасибо за доклад вопрос на иран 2 на 2 я задам немножко попозже первое это в чем существенное преимущество в компоненте header использовали использовать баб рапса left и right то есть если у меня допустим добавится еще 3 компонента мне надо будет добавить 3 проб с middle почему бы это не перенести на чудо рано ну в принципе можете в идеале лучше сразу написать такой компании на которого будет ли of middle играть вот но написать новый компонент который будет там lf ты видел рай и вам не придется менять старый компонент вам нужно написать простой такой же похожи но немножко другими с лотами а почему не использовать бы чудра для такого для так смысл ты ну то есть а я понял в одних пропсы а внутри этот какая-то черни компонента там у нас есть федор не дам например там left right middle довольные три компонента а я так делал свое время но во многих случаях это становится не очень очевидно того чтобы зависть за вести на порядок тут в straight тут в принципе очевидный порядок но бывает там например какая то форма у него есть там то кислоты для разных групп input as например контакты работа еще что-то если вы это видите ланов передаете то вы сразу завязываете на порядок как-то передали да но а тут вы задаете ему слоты и если вам нужно поменять порядок вы это делаете внутри компонента header но остальные компоненты никогда не затрагивать то есть мы как передавали таком порядке тот передавать так и передаете но все пасибо плюс от не очень очевидно иногда бывает спасибо тоже за доклад у меня тоже 2 вопроса будет вот первый вопрос я услышал что вы рекомендуете использовать ей и ставят компонент это означает что допустим если взять пример с меню то у вас будет меню меню айтем у меня мать там этой компании то есть в данном случае правильно я понимаю что каждый меня мать там надо обернуть встанут компонент да и то в в компоненте меню он внутри себя берет каждой дочерней меню ой там и например заворачивает его view-компонента цифрами а то есть это он сам делаю да да понятно и тогда второй вопрос еще вот в данном случае рекомендация такая что мы берем один большой федор и и разбиваем его намного всего мелкого принципе практика хорошим как бы тоже так стараемся делать но тут возникает другая проблема то есть вместо одного жирного компонента одного файла файловой системе вы получаете много много много файлов которые которых много и не понятно как структурировать вот здесь хотелось бы ваш опыт услышать как вы там там по папкам как-то раскладывать или как вам как вы в этом не теряйтесь в итоге в таком большом количестве файл не понял последнее время это было примерно так я выделял какие-то совсем общее там ей компонента они лежали в отдельные папки компонент а компоненты которые относились какую-то определенную функционал там страница они лежали в отдельном модуле то есть у нас есть там папка модуль из которым там например лежит например там лежит еще папка сервал это модуль сервиз в котором уже компоненты лежат непосредственно относящихся к этой странице фунта сервису а это было примерно так но последнее время я думаю о том что все таки нужно иметь одну папку компонент где очень много разных компонентов показатель например делает фейсбук мне кажется все таки я склоняюсь к этому теперь способом а кстати по поводу этого иногда если это все-таки компонент уносящихся к чему-то общему опять хитер и в ней есть определенная этому то у меня есть компонент hitter который по дефолту экспортирует сам федор но внутри хитро еще лежит header сайта мтс который можно через фигурные скобочки там еще импортирует то есть они лежат рядом с ним там меню у нее есть специфичные для него меню айтемы разные типов они рядом с ним лежат в одной папке можно это делать так спасибо за доклад то очень интересный вопрос по вёрстке и css которые вы предлагаете отказываться в общем ну давайте как бы мы же понимаем что все-таки во фрунт индии есть как бы разделение на верстальщиков и которой они хорошо вир стоят они знают всякие тонкости css вас просто платформе насти есть разработчики которые больше они пишут код и и они там больше ну завязаны алгоритмы понимают ну в основном все что вы сейчас говорили вы предлагаете объединить как бы вот эти два этих направлений получается например я как же с разработчик мне бы было не интересно заниматься какой-то версткой и я дима и я в общем то как бы он в этом не особо разбираясь cross-platform кросс-платформенность верстки под разные браузеры не хочу этим заниматься и вы предлагаете все это объединить вам не кажется что разработка она станет немного дорогой ну то что я уже с разработчику нужно будет html верстка изучать тонкости всякие а если верстальщик будет писать такие компоненты то ему соответственно нужно тонкостей вот этих ну вашего рио компонента изучать я понял а ну во первых это не очень часто разделяют на верстальщиков и джесс программистов но во первых такой подход к верстке делает верстку очень простой если вы используете flexmax и не используйте весь богатый функции с это становится очень простым вам не нужно знать всех тонкостей верстки это первое во вторых это легко разделяется на верстальщик и джесс программиста явно при последнее время редко верста вот если у вас большой богатый приложения вас там очень много чего делать помимо верстки это фактически те же самые react контейнеры которые прям компоненты получается там очень много именно джесс логики и про верстку вообще ничего нету я забыл сказать я контейнер и вообще не должны в себе некую рсп и использовать нити в стиле вот по поводу верстальщиков например у нас пришел верстальщик он за неделю вполне все пишет так ряд компоненты никаких сложностей здесь нету и там особо чего скрипта знать не нужно у вас xml подобный синтаксис и джесс секса и стиле тоже это просто описание объекта иногда например уже кем-то написано использование их то функции которые там помогают писать стиле вот то есть ему джесс знать особо не надо и не это очень хорошо делится на верстальщика и для программист спасибо за доклад собственная нет примерно очень похожая боль я в раке занимаюсь работаем для тех и компонентов и передал ваша дама страницу использование компонентов там еще не приходили дизайнеры не спрашивали а вот можно мы туда тоже закомитить и будем какие то свои дела и комменты писать на этой странице нет такого не было но в результате у нас было так что на каждый пузырь тест отдельно собирался сторибук и у нас slug прилетала ссылочка и мой отсылочку давать дизайнеру и дизайнер там уже смотрел тот и сделать компонент и уже говорил какие то свои правки там у тут что-то не то со стерео тут он не так выглядит тут давай здесь делаем по другому вот у нас такой есть был сторибук он решает проблему того чтобы посмотреть какие у нас есть компоненты и как правильно контексте дизайн системы эти компоненты использовать но это немножко про другое для этого мы используем я использовал другую ли те которые именно примеры генерировала но сторибук лишает в первую очередь это удобность среда для разработки и второе это удобный удобная документация то есть вы берете компонент видеть его код видите как он используется и видеть в живую его примеры вот вот так спасибо за доклад можно вот я еще отвечу немного на вопрос про разделения верстальщиков программистов вот используйте авто префиксе и это решит в общем то большую часть более скромностью вот у меня вопрос по поводу ей компонентов и вот ставил компонентов скажите какого рода свойства вы вот собственно через оставил компоненты меняется на подступы понятно как быть допустим ситуации если мы хотим там одну и ту же кнопку допустим по разным оптимизировать ну то есть там кнопка там обычно я желтая и красная понял так вот для таких целей у вас вот есть решения тех пор это забыл сказать например если у вас есть обычная кнопкой например кнопка праймари по это особая я считаю но один из способов это сделать проб там тема кнопки этапе давать м а но мне кажется не очень правильно потому что тогда стиль этой кнопки разбухают они становятся тяжело поддерживаем у нас там было пять тему кнопки и добавить шестую или попрать выпустим был просто бы that я считаю лучше сделать компонентом просто батон компонентом праймари батон компонент ryzen батон компонент link батон то отдельный сюда у нас компонент то чтобы предлагать все равно как бы выделить некоторые базовые компоненты на его основе создать соответственно компоненты по-разному утилизированы так я так делал добыл к не базовая кнопка компонент от него наследовались но потом я понял что наследование очень та же проблема приводила лучше какую-то функциональность по стилям выделить это функции хелперы который например будьте регенерировать но не с помощью базового класса какие-то базовые вспомогательные функции утилита выделить с помощью которых вы будете задавать кнопки у самой кнопки функционал простую заново написать эту кнопку общение проблем на это дублирование кода и так не очень хорошо иногда копипаст намного лучше но он здесь маленький и там как дублирование кода ну меню ой там вот тоже видно где придется писать например мы каждый календарный но нам принципе я понял спасибо дойдем туда там человек в конце тянет здравствуйте у меня такой вопрос немножко может длинной у меня не такой простой компонент где 12 там этих слотов меня у компонентов по 10 по 12 а может чуть микрофон поближе к все у меня у компонентов по 10 по 12 примерно с лоток получилось и соответственно есть латы вложены один другой ну то есть это не какой-то меню там айтем элементом рейтинг какой я понял люди люди с аватарками статьи как или ещё что-то такое соответственно мне мы уходим от халат наследование мы переходим к house проб сами то есть я вот эти самые слоты сделал как стоит лес компоненты которые через дэс определяются у этих самых элементов и при я определяю через наследование эти это мы собственно передаю чем такой вариант блок вот и еще вторая часть как бы под вопрос а соответственно вот в эти компоненты нужно как-то собственно пропсы кормить их там достаточно много вот мы понятно там три точки и все такое прочее через этот оператор но если я передаю компонент как у вас уже со свойствами а потом его нужно до определить это получается единственный вариант это сделать это через склонный элемент то есть я передал компании с какими-то начальными свойствами как у вас допустим листай там вот слот неважно просто мне пробст наследование и определить свойства которые прилетели вот с сервера информация пришла и мне вот эти свойства нужно туда накинуть кроме как клон элемент вашей этой схеме сделать это будет никак невозможно это лак по производительности но и третий вопрос почему вы не используете контекст и чтобы не передавать лишь не пропсы и stateless компоненты вот допустим вас создается компонент style и у него все вот эти вот ненужные вам в данном случае lifecycle собственные ивенты и так далее стать лес компоненты эту проблемы с производительностью решают значительно function компоненты вот такие вот три вопроса тяжёлый все запомнить по поводу того что вложенные там могут быть slade и во первых нужно делить если вас получается вложенность нужно это делить на более на несколько разных layout of например там select внутрь при этом в общем вас должен быть какой-то один общий out который принимает два других лейаута например у которых уже свои слоты это первое а второе мы каждый такие компоненты можем заворачивать в свои контейнеры то есть внутрь кутала я у то мы просто вставляем там два каких-то контейнера а уже в этих контейнерах у нас есть свой компонент layout который уже какие-то свои дочерние тоже слоты вставляет и тут не нужно передавать тогда большое количество данных каждый контейнер выдергивает откуда ты своей базы смотрю просто написано приложение в каком состоянии данные и уже прокидывает дальше результате у нас получается много небольших контейнеров который не так много данных передают и с производительность там решается вопрос потому что они небольшие у них есть свой счет компонентов диет который не позволяет постоянно перегрин дэвис и когда какой-то layout запускает несколько контейнеров там про и происходит проверка они не перерисовываются а потому что с контекст контекста использована для других целей контекст вич опасная если у вас что-то в контексте поменялось вы никак это не отследите и например если у вас вы использовали в ком-то компоненте данные из контекста а их кто-то поменял ваш компонент не перри рисуется он не может отслеживать эти изменения то есть контекст и даже сам фейсбук говорит типа осторожно используйте это не совсем для этого через контекст хорошо передавать например какой то файл структуру с темой где у нас есть там базовый цвет еще что-то размер и так далее вот к сожалению время а можно чуть-чуть быстренько человеком очень давно тянет все игнорируешь потом можете вопросы задать уже непосредственно после выступления так вот счастье большое скажите вот вы вкладываете компоненты внутри друг друга а вот если вам нужно организовать кута сложную логику чтобы от родительских компонент как-то управлял дочерними компонентами например если там выделен один элемент меню чтобы другой элемент снимал выделением утки такие принципы как вы это реализуется очень просто это делается в контейнер то есть у нас есть компонент контейнер в котором вся эта логика хранится то есть стоит хранится именно в нем и он уже манипулирует всеми всей этой композиции или давай им нужные свойства способна павел какой вопрос по вашему мнению лучшие ну пусть будет самый большой я понял тогда подойдите ко мне я дам вам наклейку все всем спасибо"
}
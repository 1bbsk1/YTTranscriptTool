{
  "video_id": "q7ibo5L9eLI",
  "channel": "HighLoadChannel",
  "title": "UI-тесты в iOS-проекте / Михаил Домрачев (Improve Digital)",
  "views": 2565,
  "duration": 2905,
  "published": "2018-01-16T13:19:24-08:00",
  "text": "зовут меня михаил работаю я ios разработчикам новосибирской компании брук digital сегодня буду рассказ районе тесты именно в ios проектах поговорю как же мы докатились до того что решили внедрить ее тесты расскажу немного практики как мы это делали но и в конце поделюсь своим мнением своими мыслями когда же реально нужно внедрять ее тесты а когда это бывает излишним начнём с банального хотелось бы ради интереса и статистике узнаете как много людей хотя бы раз писали ведь тесты в каких-либо проектах дома либо на работе а как часто эти люди пишут на коммерческих проектах ей тесты но я так и думал обычно таких людей очень мало потому что данную часть разработки очень сложно продать заказчику ну и как-то аргументировать своему менеджеру зачем же она нужна и почему настолько затрачивает временем начну я издалека какой же бэкграунд было нашем проекте до того как мы столкнулись с кем-то проблемами с дизайном у нас наложились несколько факторов во-первых хочется сказать что наш проект активно живет и развивается около двух лет его уже можно смело назвать долгосрочным во вторых наша команда разработчиков тоже не стоит на месте она расширилась с 2 до 6 человек тоже можно считать в три раза такой хороший прирост ну и что самое главное последние два фактора наш проект состоит не из одного мобильного приложения а из множества мобильных приложений которые имеет какой-то общий функционал ну и чтобы выделить данный функционал в какую-то отдельную сущность мы написали свой core from work куда запихнули весь функционал и просто подключаем каждому проекту виде сам модуль она ишвари морг чтобы перед тем как озвучить проблемы с которой мы столкнулись с дизайном я в двух словах расскажу про проект мы работаем с довольно большой зарубежной финансовой компании у этой компании есть филиалы в разных европейских странах и не только ну и по сути в каждой стране есть свое мобильное приложение и как я говорила все они имеют какой-то общий функционал который мы перри используем но отличие там обычно в дизайне ну и какой-то специфичный функционал для страны например законодательства разные мы должны реализовать кто-то другой функционал как же это сделано с технической точки зрения все наши экраны сделаны в табличных видах таблица состоит так сказать из набора таких связок как ячейкой view моделька для нее то есть у нас есть очей к мы можем настроить ее контент через view модельку ну и также выставку это определенный дизайн и она будет выглядеть совсем по-другому на разных экранах там в разных странах а по сути это один и тот же ресурс и все эти ресурсы у нас лежат коробкой горки ну вот как показано на слайде экран вы видите у верхние чайки есть своя в и моделька через в you модельку можем настроить бэкграунд в чеке выставить название картинки которые мы берем из ресурсов но вот внизу в you моделька для кнопки мы можем выставить контент это тайтл выстоять дизайн тайтл color ну и бы ground этой кнопки немного расскажу про core from work что же он из себя представляет средняя статистика в каждом новом приложении у нас при используется примерно 70 процентов функционала и скоро фреймворка ну и только 30 процентов накручиваться какого-то нового функционала что лежит в корне горки в кор фреймворке находится уже готовые экраны виде модулей ну я их называю модулям потому что там уже реализован ок это бизнес логика стандартное уже прикручен какой-то роутинг переходы на другие экраны ну имеет какой-то свой дефолтный дизайн костанай дальше у нас в кори лежит различные сервисы такие как например для работы с сетью network слой для работы с кэшированием данным данных ну и так далее такие вот базовые вещи ну и также у нас лежат всякие учился ну это категории хелперы который нам помогает как-то быстрее писать код чтобы каждый раз не реализовывать это заново ну и что самое главное как я уже говорил в кори лежат все дизайны элементы они стоят и спасибо спасибо для всех ячеек дальше классы для этих ячеек ну и вот эти вот view модельки который мы называем это вами ну и собственно в каждом новом приложении нам приходится делать следующие вещи она состоит из перри определенных экранов из кора если мы надо поменять какой-то дизайн либо впихнуть какой-то новый функционал в этот экран дальше мы разрабатываем какие-то новые экраны если какой-то функционал прям не перри используется нигде для этого мы создаем новый экран для него свой бизнес логику ну и так далее дальше мы обычно переопределяем network service потому что а петли во всех странах работать не на 100 процентов идентична там бывает меняется api методы как-то какие-то новые добавляется меняются старые ну и очень специфичный кейс когда нам надо разработать какой-то новый дизайн для ячейки обычно все ячейки берутся и скоро и их дизайн мы можем настроить из view модельки то есть мы не довольно универсальны и на выходе мы получаем дизайн видели во мы берем китайчики скоро пригорка настраиваемых через две модельки ну и все это скармливаем таблица ну и вроде у нас получается такой франкенштейн и приведу пару примеров как видите на слайде тут один и тот же экран но в разных странах он имеет общий базовый общую базу реализацию вот этот дизайн уже запрограммирован в горе и отличие дизайне мы делаем через растительные категории для цветов там картинок ну если приглядеться тут с трудом можно найти 10 отличий 1 ну разные картинки ну это решается то что в ресурсы в разных странах кладутся разные картинки с одним и тем же именем разный бэкграунд у калькулятора различные выравнивание в информации но и шрифты немного другие ну и 4 как пример различные цвету кнопки если вам видно второй тип экрана тут уже посложнее слева видите базу реализацию в кофеварке а справа заказчик в новой стране решил немного поменять дизайн по-другому отображаете ту же самую информацию то есть бизнес логика принципе сохранилась но надо было сделать новый дизайн мы используем другие ячейки тоже и скоро пригорка и также реализовали новый функционал которых нет в других странах как например оплата кредита банковской карты ну и вот так это выглядит все вроде было хорошо проект в проекте мы реализовали пару стран но как бы не все учли заказчик был очень доволен как бы мы такие крутые быстро все делаем красиво а давайте-ка увеличим обороты на проекте давайте-ка быстрее делать эти новые страны вы же можете вы же хорошие ну и вот такие лица у нас были в определенный момент что же послужило кто же был источником наших проблем чтобы увеличить обороты на проекте я становлюсь новые разработчики как я уже говорил у нас общие ресурсы для всех стран ну я не в открытом доступе как бы когда новый разработчик но даже или старый разрабатывала новую страну он мог как-то залазить в общие ресурсы немного менять там не знаю constraint и либо как-то элементы двигать там располагает другие но он конечно поле может так нельзя делать нос равно бывают случаи ну и такой фактор наш но я забыл упомянуть что все эти приложения имеют какой-то единый стиль одинаково выравнивание цветов подтекстов например там какие-то определенные цвета ученики то бэкграунда одинаковые ну и наш дизайнер со временем начал забывать про этот единый стиль ну и когда поступало новая страна в разработку например для нового разработчика он вроде смотрела такая ячейка есть уже в старой стране но она немного изменена ну и думал например наверное это надо везде поменять что дизайн для этой базовые чайки в принципе она неплохо смотрят смотрится других странах но тем самым он не подозревал что может навредить совсем другой стране за которого даже не в ответе а тот разработчик который занимается тоже этого не знал то что ему навредили ну и в итоге предрешен тестирование там постоянно находились какие-то проблемы в дизайне ехал дизайн ну и решением этих проблем мы сразу поняли что будет внедрение от тестов перед тем как внедрять ее тесты мы сделали небольшой анализ рынка с помощью этих инструментов это можно делать именно на и из проектах мы не рассматривали другие платформы но первый инструмент это естественно apple ios и testing второе мы рассмотрели фреймворк опиум он сейчас довольно известным самый популярный для написания каких-то единых тестов для разных операционных систем то есть можно писать в общий тест экспортировать его в разные платформы там android и ios windows и еще один инструмент мы рассмотрели калабас это тоже открытый фреймворк он разработанный к самаре нам он также подразумевает написание каких-то общих средств для разных платформ не привязывается к операционной системе ну и в целом тоже он довольно популярный вот ребята вчера исмаила рассказали им пользуется так ну анализ мы делали такой поверхностные по четким критериям небольшим первый это критерий стоимость все наши продукты в какой-то базовой комплектации без всяких фич они бесплатные но это огромный плюс любой разработчик может взять их там прикрутить своему проекту и пользоваться второй критерий это кроссплатформенность нам это конечно не так сильно было важно но ради интереса когда делали анализ с равно рассматривали то что опиум около башни принципе для этого и созданы чтобы не привязываться к операционным системам описать что-то общее ну а естественно технология была заложена только под свою платформу им плевать на и на другие следующий критерий это кода генерация мы рассматривали такой инструмент какие-то recore денги где мы можем просто запускать наш проект наше приложение тыкаться в дизайне как-то там в приложении в длину взаимодействие с элементами и в это время нам бы генерировался код нашего теста то есть ручкой мы ничего им не пишем все вроде круто ну и опиума apple есть такие инструменты а вот около баша в базовой комплектации нет ну вот не знаю как давно появилась у них чистка возможность к самарин клауд вы можете купить эту функцию и в этом claude вы можете уже генерировать код ну и также там предоставляется более 2000 девайсов на которых можем прогонять наши тесты так ну и последний критерий он наверное a protest record in кстати не сказал не всегда это очень хорошо когда мы не понимаем что нам генерируется кипр руками ничего не пишем даже не понимаем что там пишется но это не всегда хорошо об этом я скажу чуть позже и отсутствие такого инструмента может сыграть как плюс и последний критерий это опыт использования членами нашей команды какого-либо инструмента до нашего проекта но все ребята в нашей команде используя только один инструмент apple как использовать просто знали про него что он есть смотрели видео там водятся но и все единогласно проголосовали за этот инструмент что никто не все разбираться в других ну и как бы нам в принципе хватало всех функций которые он дает на другие платформы других платформ нам не так были важны немного поподробнее расскажу может то забыл что это вообще за инструмент может кто не знал вообще это довольно молодая технологии она была представлена 2015 году на dc основываться на всего на двух вещах это exe тесты stability exe теста такой фреймворк который позволяет писать нам тесты ну и запускать их собственным stability это такой функционал чтобы люди с ограниченными возможностями могли пользоваться устройствами apple в полной мере ну а для играя тестов они предоставляют возможность взаимодействия элементами во время выполнения тестов так немного еще скажу проекте тест что это довольно простой фреймворк и он базируется всего на трех классах это ексей applications своего рода прокси между вашим приложением и тестами 2 класс to excel элемент это и есть вашей элемент на экране ну и третье это excel элемент мере это запрос на поиск элемента который находится на экране по комната критерию ну и как обещал еще скажу протест regarding покажу небольшой дома которая записал как это очень работает может а не видел все вроде очень просто ставим курсор функцию нажимаем рекорд запускается и и тест все мы вроде нажимаем накид элементы код генерируется вроде все хорошо наверное да простенькая программка сейчас закончится он правда тормозило мне xcode почему-то все мы участники конференции все хорошо вроде код сгенерирован мы даже ничего не писали просто как могли быть к инженера запустили там что-то потыкали и все а далее и с разработчиком но как бы посмотрим что он сгенерировал конечно не всегда так делает плохо но в моем случае я честно пытался раза три-четыре записать дыма и всегда попадался одни и те же ошибки первое что бросается глаза естественно много кода вроде мы ничего не делали там прошлись по двум экранам что потыкали что будет на продакшене на кон готовом приложение 1 ошибка он неправильно у меня инициализировал ексей applications он не сделала и не для него а приравнял какой-то мифической переменная п п 2 которая до этого нигде не была определена и на следующем экранчиком сделать то же самое следующая он нашел элемент ну и в моем случае неправильного нашел во первых у меня у элемента был выставлен а stability лейбл соберите надевай по которому он должен был искать этот элемент но этого не увидел и стал искать просто через 40 сенгтай по наверное все знают если смотрели там обучалки как это все делается то есть он в иерархии поэтому графу прошелся первый элемент нашел на экране и вернула ну и какие минусы у него есть они конечно не всегда встречаются но при написании тестов важна скорость написание потому что и так это трудозатратно хочется быстро красиво конче коль функционал запилить и чтобы он работал ну и не хочется возвращаться и что-то проект после теста и корни нга обычно это больше времени занимает чем бы ты ручками быстро написал но во первых это много кода минусы второе это не всегда читаемый код естественно росава много 3 это не всегда работающий код там конечно не страшные ошибки нос равно осадочек остается ну и третий такой фактор мало кто на него обращать внимание при написании тестов это перри использование функционала то есть функционал например для поиска код элемента на экране а в разных тест кейсов мы можем попадать на один и тот же экран и каждый раз у нас генерируется новый код ну возможно даже будет одинаковым но если надо будет что-то поправить то есть я надо пробежаться по всем тест кейсов и заменить поиск элемента поправить как-то это не очень хорошо ну но делать она закончилась а теории и практики как же мы это делали первое с чем мы столкнулись это стаб менеджер а вернее с его отсутствием у нас до этого на проекте не были внедрены китаю не тесты и мы никак не эмулировать и связь с сетью этого не было реализовано второе мы попытались не повторять ошибок тест рекорде нга написать тест и более чистыми правильными и в этом нам помог отжиг паттерн про него мало кто знает но тестировщики который пишет тесты должны быть в курсе и 3 мы внедрили инструмент чтобы делать скриншоты во время выполнения наших тестов чтобы получать результат не только упала упал ли наш тест при выполнении его но и смотреть фото результат сравнивать дизайн смотреть что у нас было на этих экранах немного поподробнее про каждый пункт 1 ст об менеджер почему-то все боятся там что сложно реализовать эту симуляцию сети на самом деле делается все очень просто делали мы это с помощью делается все с помощью классный нас url протокол такой класс который позволяет предопределить работу системы загрузки url для вашей операционной системы делается все очень просто первое что надо сделать это свой кастомный такой класс который наследуется от и нас урок протокола и второе зарегистрировать его вот в этой системе загрузки url когда в приложении вы отправляете к это запросу сеть на своем уровне системы вот эта вот система загрузки она сначала проверяет зарегистрирован ли какие-то кастомные свои insurer протокол и если есть то на каждому из них каким-то своим своем порядке обращается и спрашивает а можем ли мы обработать данные запросу если мы говорим да то он обрывает запрос в сеть и мы его вырабатываем у нас на уровне приложения все вроде очень легко ну как выглядит класс на суру протокол свой кастомный первое там надо переопределить всего три метода первые то можем ли мы обработать данный запрос просто возвращается true force 2 самый вот этот метод start ладен где происходит вся магия подмены данных то мы говорим что мы что-то там берем из кэша там возвращаем свой кастомный request ответ от request а в конце говорим системе то что мы закончили обработку запроса немного поподробнее скажу про старт логин где делается вся магия внутри мы просто берём данные из кэша в нашем случае они хранятся в разных банках потому что для каждого тест кейса один и тот же запросу может могут быть разные ответы мы их там размещаем китай рисунки берём данные проверяем если такие данные ну если они есть создаем свой кастомный response скармливая системе и также системе говорим чтобы мы чтобы она вернула такие вот за кашированные данные ну и какой все ок если же мы не нашли этих данных мы создаем просто свою кастомную ошибку и возвращаем просто вернется просто ошибка на тот запрос как будто оно пришло из сети но внутри у можем это обработать ну и собственно устав менеджере реализовываться всего 12 ндс вы просто регистрируете свой класс это делается через n с url шон конфигуратор какой-то расширенный скорее всего на вашем сервер нам слое и все вроде работает делается все очень быстро легко так что не надо этого бояться вроде мы все сделали реализовались там менеджер и были готовы к написанию тестов ну и как я говорил мы решили побороться с теми минусами ts3 картинга и более ответственно отнестись к написанию я тестов не так потыкать элементы написать код и бросил попытаюсь сделать о более чистым применили данный паттерн паттерн довольно простой он основывается такой вещи то что между вашими тестами и вашим приложением всегда не вашим приложением вашим экраном для которого пишете тест и должна быть какая-то прослойка где реализован вот этот вот перри использованный функционал который используется других tires кейсах там например в разных кусках кода то есть там зашиты все взаимодействия с элементами которые там какие-то сложные и все поиски элементов на экранах то есть какой профит от него получается более читабельный код потому что в самих тестах вы там обращается к этой прослойки пишите queen простенькую команду там передаете fair там и что хотите делать с этим элементом мы все хорошо читается и видно логично логически второе то при использовании функционала как и говорил все это зашита в этом в этом классе прослойки и третье это централизация интерфейса пользователя то есть когда надо поменять например пояс на ком-то элементе мы это дело для код элемента поиск мы это делаем все в одном месте и надо пробегаться по всем тест кейсом это уже все будет поправлено в одном месте будет работать ну и как же мы это делали мы мы решили что будет излишним писать прослойку для каждого экрана мы написали просто общую прослойку для всего приложения называется на у нас exe тест utils стоит она из трех вещей первый из них мы написали свой класс ff элемент в котором зашили поиск элементов на экране мы реализовали две функции просто поиск выключу и поиск по индексу второе мы написали категорию qixi тест кейсу там указали вот наши five elements и определенные которые нам нужны для написания тестов в нашем случае это всего четыре элемента этой ячейки лейблы кнопки текст льды нам этого достаточно чтобы написать любой вид с нашим приложением я думаю для всех приложений этого достаточно ну и последнее мы такую небольшую категорию написали для excel элемента она нам помогает работать с текстами как вы видели в дымом чтобы ввести кого-то текст textfield он генерировать код нажать этом на каждую кнопку получалось много кода не понятно там по букве но он вводит текст мы ввели такую функцию for стаб длительное нажатие когда мы нажимаем на textfield у нас появляется плашка типа вставить какой-то текст либо скопировать ну и мы с помощью функции вставить просто вставляем к это текст space текст так ну вроде как вы все круто у нас получилось были очень довольны покажу небольшой adema как мы ими пользуемся первое что я сделал я удалю вот эту кучу кода ну и просто через property вот эти ff элементы обращаемся к конкретным элементам с определенным типом int фаером и вызываем какие-то методы для взаимодействия с ними сначала могут кнопочку нашли без поиска зашит у нас в ff элементы классе вот секс в дом работает так нажимаем делаем длительное нажатие и вставляем текст дальше немного ускорим дома да и получилось всего раз два три 4 5 шесть строк всего получилось все вроде понятно читаем а ну и главное работает как вы видите все вроде мы молодцы вроде все написали все было красиво ну а что делать дальше мы вот так сидели там запускаем тест он у нас там прогоняется на девайсе что-то смотрим в рот не поехал дизайн а могли просмотреть ну и мы решили внутри такой инструмент как snapshot это инструмент который входит в группу инструментов вас лайна довольно простой от него большая польза легко внедряется какой от него польза во-первых он делает скриншоты а во вторых что самое главное он делает это скриншоты посредством ее тестов то есть когда мы вызываем этот инструмент он запускает ее тесты и делать скриншоты определенных местах которые мы указываем ну и во-вторых он легко интегрируется в третьих он легко интегрируется сей потому что он запускается с терминала мы можем там простенький скрипт написать чтобы при какой-то сборки у нас начало прогоняли сияй тесты ну и потом получались скриншоты на выходе ну как живо внедрить как и говорил очень просто делается в три действия первое это просто в терминале вводим команду fast lane snapshot и нет после этого он генерирует определенный файл под названием steep файл это такой файл настройки для этого инструмента я поподробнее расскажу что в нем указана ну и последнее что нам остается это в тестах указать места где бы мы хотели получить скриншот так поподробнее про сны файл что он имеет мы можем указать девайсы на которых будет про гоняться и тесты и мы можем указать общее все девайсы он прогонит на всех девайсах и сделать скриншот и в одних и тех же местах на разных девайсах второе мы указываем схему на который прогоняется я тесты указываем папочку где будет храниться результат всех скриншотов ну такие сама вспомогательные уже настройки там будет ли останавливаться тест после первого попадания там будет ли перри устанавливаться приложение перед запуском будили чистится директория с этими скриншотами чистится симулятор ну и также мы можем указать языки на которых будем прогонять наши и тесты если у вас много локализации вы можете тут указать все свои локализации и на выходе получить там скриншоты с разными языками ну и как это делается технически в самом коде мы просто добавляем определенный файл snapshot helper в таргет с тестами snapshot helper он генерируется ваши папки с проектом когда вы делаете fastlane снапшоты нет было мало просто ручками надо вторых запихнуть второе надо сделать для неё сайт об для этого инструмента внутри какого-то с кейсом вернее во всех тесты среди хотите сделать скриншоты должны вызвать сайтом snapshot туда передать вашей exedy applications все будет хорошо ну и последнее что нам остается просто вот в коде пробежаться по местам где мы хотим сделать скриншот и указать имя скриншотам с которым сгенерируется картинка и запускается этого так это с терминала делаем fast and snap shot и радуемся после прохождения тестов там будут не только картинки разных экранов но сгенерируется html страничка в html страничке все картинки разбиты по категориям например по девайсам который вы указали на файле по локализации которого также там указали но правда единственный минус все эти скриншоты сортируются не по последовательности их выполнения по названию то есть он просто по алфавиту экспортирует но это не очень удобно но нам хватает ну и хочется заострить внимание на что же стоит обратить что стоит обратить внимание перед тем как вы хотите внедрять ее тесты во-первых не надо бояться стал менеджер ну его сто процентов надо реализовывать на реальности тестировать это плохо все-таки надо бороться за чистоту своего кода не важно для чего он описан даже для виа тестов ну и третье вы можете легко внедрить такой инструмент как snapshot если у вас готово все тест кейсы какие-то написаны весь код это делается все очень быстро там в течение полудня максимум ну и что же мы в нашем на нашем проекте получили на выходе мы уменьшили количество баков с дизайном почти до нуля внедрили инструмент который как бы запускает наши тесты делает ним скриншоты ну его легко интегрировать все им ну и про это я не говорил у нас также появилась проверка правильного роутинга в приложении у нас довольно сложный роутинг в разных странах и может отличаться и мы просто на каждом экране нам проверяем какой-то специфичный элемент который находится только на этом экране и тем самым если его нету значит мы находимся не в том месте что-то пошло не так ну и тем самым можем проверить роутинг но мы также гребли небольшие минусы первое все-таки это временно внедрения тестов написать какую-то базовую основу как я говорил вот эти вот призвать джорджик паттерн там внедрить snapshot 100 менеджер то все делается очень быстро но все время тратится на продуманнее всех тест кейсов там на отладки 1 ну и также надо забывать что ваши тесты все-таки надо будет поддерживать при факторинге нашем случае это тоже довольно часто делается что-то надо менять в какой-то стране рефакторинг то надо лезть в год и тестами конечно не так много времени тратится но она есть ну и как я обещал в конце скажу свои мысли когда же реально стоит их внедрять во-первых если у вас долгосрочный проект мне кажется процентов надо внедрять если вы постоянно там развивайте свой продукт вы должны отвечать за качество и дизайн а второй это постоянный диалог по поводу pixel perfect а например заказчиком там либо со своим дизайнером мощным статьи и тесты там прикрутить на пошел ты постоянно оперировать с ним не словами там там что-то поехала ему результат выдавать всего вашего приложения где будут все скриншоты он будет просто смотреть там то там то поправь очень удобно ну если вы имеете сложную логику навигацию приложения вам тоже стоит внедрить you и тесты это очень сильно помогает даже можете там на дизайн своего внимания не обращает но реализовать просто логику для проверки навигации довольно просто ну и у меня все всем спасибо поставить на вопросы спасибо за доклад у меня такой вопрос вот вы говорили про нсл протокол а на каком этапе он вообще уступает действие где это регистрируется в коде но впп делегате каким образом определи гад понимает что его тестирует а вы можете при запуске приложения передать аргументы какие-то где вы просто в делегате получить эти аргументы ну как функция main поступает этот аргумент при запуске приложение вы какой-то специфический аргумент отправляете там проверяйте если это запуск из теста вы сразу обрубаете там часть логике там чтоб аналитика не запускалась там и такая вот лойко который не важно и в этот момент просто вот своим устам менеджер говорите зарегистрирую сейчас класс на самом деле у нас в стоп менеджер счет такой функционал там другой реализован я про него не рассказывают для записи вот этих а джейсон of в определенные там файлики которым потом по банкам регистрируем но по факту вы можете устав менеджер написать который будет только резать свой вот этот протокол все будет работать так мне еще один вопрос если можно задать вот подменять данные с сервера сидит хорошо а вот если например приложение работает с камерой с галереей с контактами если средства какие то чтобы подменять вот это один но на самом деле затрудняюсь ответить я для таких приложений я тесто не внедрял ну а насколько важно как сказать анализировать юрий когда включена камера как они я илья больных умер какой-нибудь приложение которое берет фотографирует кларк от скажем и нам нужно засунуть этот бар код в камеру там ладно я к вам подойду потом спрошу запишу спасибо так у меня еще некоторые есть вопросы если можно не по поводу я тестов на то что я увидел у вас в докладе вы все стоите в таблицах да о чем это оправданно но мы не разрабатываем ки такси бы для контроллеров не пишем мы пишем базовые чеки которые лежат там отдельно и просто в новом экране мы берем эти ячейки мы не завязан на key такси бы что-то не надо менять верстку в кассе баф там лазить это constraint и у нас все это базового ячейках реализовано скармливаем очей кита намного быстрее получается разработать новый экран и ну самое главное переиспользовать ты одну ячейку может там хоть где использовать понятно и вот еще вопрос у вас несколько получается приложений они у вас виде нескольких таргет of используется или же вы как-то с помощью по своим того же все это делаете собираете как отдельное приложение с подключением с обманули понятно спасибо у меня микрофон спасибо за доклад у меня такой вопрос на white теста часто гонят из за того что они очень медленно прогоняются вот ты вначале сделал там сравнительно характеристику разных инструментов и хочется не делал именно скорости как быстро гоняется при помощи того или другого инструмента есть какая-то статистика но статистика есть правда но я я конечно не пользовался другими инструментами но провод к ла барр знаю если ты подключаешь к самарин клауд то он тебе дает возможность во первых на множество девайсах это делать а во-вторых он запускает тесты в разных потоках и то есть у тебя там могут сразу 10 тестов про гнаться за минуту ну а в нашем случае до хромает как бы ну долго ждешь но у нас все прикручено какой-то маг машине ну запустили там проверили нам не к спеху принципе если тебе не хочется ждать это сборки ты у себя из терминала запустил определенную страну ну кстати когда fast lane запускаешь он почему-то тесто немного быстрее прогоняет не знаю причину такая статистика на секунду например там на каждом экране там что такое а вот а ну и кстати про пим также можно там через amazon по моему есть клауд какой то тоже можно свои тесты прогонять разных потоках в общем это как-то реализуется конечно но выпал не знаю спасибо я есть ответы вопрос взгляд про камеру и телефонную книжку можно использовать для этого просто вставляете в как для тестов с тобой какие-то сервисы которые были метить может протокол мы так у себя делали вопрос по тестам собственно ваши тесты подают как я понял только в случае если не нашлась какая-то кнопка ну да проверяет пост после того как вы получили все скриншоты дизайнер сидит с красными глазами и проверяет каждый пиксель вне мы не ведём разговоры по pixel perfect у заказчиком или с дизайнером все это делаем как то самостоятельно потому что нас есть уже единый стиль для всех приложений у нас не какой-то специфической графики для экранов но вы просто для разработчиков туза имена то что мы смотрим не поехали где-то дизайн а вот заказчик на выходе уже не смотрит его смотрите глазами весь правильно глазами сколько можно много можно я я показано да давай а у меня вопрос такой насколько теста стабильным когда-то пытались exe прикрутите постоянно то там на айфоне одном работает на другом не работает работает улетает еще я понимаю твою боль но первый вопрос мы не сталкивались с такой проблемой у нас вроде все стабильно на разных версиях ios тестируем прогоняем тесты на разных девайсов ничего не падает все одинаково работает а второе я про второй вопрос я уже упоминал в файле есть такая функция то что перед запуском каждый тестов ты просто указываешь там булевскую переменную надо ли переустанавливать тоже не он автоматом делает и так же ты можешь там ну как-то настоя переустанавливать симулятор перезагружать каждый раз при прохождении этой так что это решено snapshot привет спасибо за доклад я может быть не совсем что-то понял и рассказывал что у вас вот core вот эта библиотечка есть в которой дизайн компоненты лежат и они используются в разных приложениях и в каком-то там приложений дизайнер может что-то поменять это поменяется в других приложениях типовой вроде как от этого хотели вот уйти и потомки начал протеста рассказывать мы от этого не ушли задать вопрос ну да это вот первая часть вопроса возможно то есть вы вы от этого не ушли вы не избавились от этого как сказать по ручкам бьем дизайнеру и все как бы но сейчас уже все научные там с проблемами с богами там с этими с дизайном как бы если он что-то меняет мы это согласуем что должно ли это транслироваться на другие страны во-первых но обычно это не транслируется если он что-то написал прям специфично мы обычно говорим давай лучше сделаем так вот в едином стиле зачем у нас будет отличаться там какой-то минимальный отступ потому что у нас но я уже повторяюсь нет какой-то специфической графике это финансовое положение она обычно довольно простое должно быть и понятная юзеру без всякой графики ну то есть вы сейчас стараетесь менее кастомизированные вот эти компоненты ячейки делать чтобы они там на другом экране где то другое приложение не изменились поехали везде да ну мы сейчас просто не лезем общие ресурсы практическим это нам не задавали какой-то базовую базовый функционал с помощью которого можем как-то их configure более правильно меня этом не знаю например выравнивание текста еще что-нибудь но такие вот вещи там фонд поменяй там нет такой проблемы что например вот ресурс используется тонов 2 3 приложив десятку класс сколько вас там приложений пример таких ну сколько 6 работающих 9 ну не знаю вот в двух приложениях такая штука используется в других нет в ресурсах она везде лежит мне такого нет мы ну как она же постепенно проект развивается что была одна страна а потом 2 мы если понимаем что то встречается постоянно это в кор выкидываем там из разных стран ну а вот специфические там ячейки как я говорил это очень редкий кейс это уже в самом приложении мы верстаем в короне выносим ну то есть у нас столько себов например получается в кори если это конечно много но не так уж сильно и с помощью этих стояк себов можем любой дизайн совершать для любой страны ok понятно но это был только первый вопрос смотри ты говорил про нср протокол есть липко прекрасная архетипе stabs смотрели в ее сторону потому что оно представляет очень хороший интерфейс удобный для как раз stabbing сетевых запросов да но с ней очень легко работать намного легче чем с протоколом там и из старой школы если это можно легко реализовать самому лучше это сделать самому чем пользоваться какими то там линками я тоже придерживаюсь этой позиции но для тестов принципе можно использовать ну да можно если надо побыстрее внедрить и вы не знаете как это сделать на можно окей юнит тесты вы пишете или только и о нет я же сказала нас нет но идем конечно к этому и последний вопрос вот ей тестах вы как-то анимации отключаете чтобы ускорить эти тесты а какие анимации все у нас нет никаких особых анимацию переходы между экранами анимированные например на у нас довольно быстро все прогоняется с обычными там ушами модального ну может еще раз 3 ну видишь нас устраивает скорость прохождения тестов на мне так сильно критично не знаю подождешь там две минутки не но я понимаю вопрос нас корить да ок но все спасибо ладно спасибо за доклад у меня такой вопрос по поводу вставки не было таких случаев что вы за того что не то есть медитируете по буквенный вот пропускали баги подсветки там включение кнопок если вы все время используете только вставку в и тест ставку смысле протестами что а какая там подсветка может ну можно когда что-то ввели подсветить что то какие то элементы включить кнопки выключить кнопки в зависимости от контента нет не было таких у нас просто ничего там как сказать не дизайн лице просто ты водишь если ну может нажать на кнопку нажал у тебя там под светились красным в тех стрел дак там что ошибка у нас такие костяные текст л.д. то есть у нас нет вот этого иное был один план спасибо спасибо за доклад как вы разруливаете ситуации когда у вас попадается какой-нибудь системный alert несистемный системный alert мы знаем в каких местах появляется обычно когда мы запрашиваем доступ к комната функционалу системе но обычно например мы при старте приложения это делаем но как я уже говорил мы напали можем например перед каждым запуском теста удалять его из симуляторы он заново будет устанавливаться запускаться то есть мы сто процентов знаем что в этом месте при первом запуске появится alert делаем там white 2 секунды или секунду не помощь секунду и все нажимается а таких вот кейсов не знаю не попадаются келлер ты обычно ты все можешь предусмотреть а как вы проверяете локализацию наверное тоже как проверяется при помощи чего и как вы вставляете его границ этого библиотеки ваши или нет а хранится смысле ну и не зная можно например реализовать самой библиотеки локализации что именно вот этого элемента будет такая специфика не но у нас просто и abricot есть несколько локализации даже если есть там и просто определенным определён локализации запускаем тест и в этой папочки будут лежать скриншоты только с этой локализации но все что нам нужна ну просто в наши кейсах обычно одна локализация типа вот язык той страны где мы выпускаем а вот чтобы там английский было этот текст нет не вижу там английский и например там грузинском близки испанского но есть ну я незнаю для тех стран где то есть мы еще не написали тест не но я не вижу проблемы с мысленно ты запускаешь scarce разной локализации с наполи указываешь локализацию ну например вы забыли перевести что-то там а ну вы на скриншоте то увидите удобные скриншоте то есть все это нужно будет просматривать до глазками все делается к сожалению ну можно мы идем к этому мы ответили спасибо за доклад у меня такой вопрос сценарий вы самим придумывать или они приходят откуда-то с аналитики от тестеров и дополнения тестировщики они как-то учитывают результаты ваших white с то есть они скупают какой-то там нет часть регресс но вообще нет мы как сказать эта инициатива именно просто нас разработчиков не команды там менеджера там тестировщика это чисто наша борьба разработчику что как а этот чувак может поменять кота кот и у тебя в приложении сломается и это мы реализовали чисто для себя и все тест кейсы у нас такой продукт как бы конечно вот sorcery мы отвечаем за этот продукт и мы как бы знаем все специфичные кейсы ну как бы бизнес-логику знаем приложение все же придумали сами вот у меня такой вопрос по организации как это вообще происходит все это какой-то один человек который пишет все эти тесты или это все по чуть-чуть и сколько это примерно занимает времени от общего процесса и как руководство относится к тому что у вас процесс разработки замедляет процесс разработки не замедляется потому что это вообще другая часть разработки но мы нет мы же не пишем как т.д. у нас уже есть какая-то готовая страна какой-то функционал ну обычно человек который отвечает там за это проект писал он садится и сам это дело для каждой страны один человек например пишет ну а какие-то базовые штуки вот эти как я говорю xi тест utils но один человек написал там отдельно там кто-то дополнил ну вот такой общий функционал конечном смешивается там работ ну как сказать вообще а вы про сроки спрашивая что покрыть одну страну первую нам по тропе потребовалось две недели но одного разработчика но там пол недели потратили на реализацию базовых вещей там на изучение и полторы недели было на придумывание в сектор из кейсов и вот эти вот проставления всяких меток написания кода а так для написания страны ну не знаю максимум неделя скорее всего про то что мешает ли это разработки это делалось повторив параллельным как бы потоки разработки что какой-то человек был свободен сейчас от новой страны и мы ничего не надо было делать просто брал он просто брал и покрывал тестами определенной определенную страну спасибо за доклад я на презентации видел что вы в основном вставляете текст и нажимаете на кнопки а какие-то более сложные действия вам делать приходилось то есть прокрутки движения масштабирование масштабирование нет но там взаимодействие с элементами уже есть базовая там есть tab свайп он своим down свои плебс right ну для меня этого хватает приложение а вот так масштабирование нет ни делали ну скорее всего там это реализовано все просто почитать нога время уделить тогда всем спасибо если что подходите отвечу на вопросы вот мой контакт"
}
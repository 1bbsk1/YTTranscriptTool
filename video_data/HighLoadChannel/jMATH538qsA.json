{
  "video_id": "jMATH538qsA",
  "channel": "HighLoadChannel",
  "title": "Как мы в Тинькофф Data Catalog создавали / Дмитрий Пичугин, Роман Митасов (Тинькофф)",
  "views": 2413,
  "duration": 2591,
  "published": "2023-01-19T06:56:45-08:00",
  "text": "у вас много ну и хороша потому что интересные истории прекрасно рассказывайте на большую аудиторию и так о чем сегодня будет моя я расскажу вам о таком квесте как мы создавали в тиньков одну особо интересную систему но прежде чем перейти к ней самой мне намекнули что этот слайд тоже крайне необходим поэтому пришлось сделать сэлфи ужасы в общем меня зовут дима я занимаюсь то это голландцам сегодня со мной выступает ромовые вы еще увидите человек который виновен в появлении большей части нашего бэг-энда так что он расскажет о нем намного интереснее меня а теперь к самой истории оглавление о чем мы вообще не будем рассказывать ну начну я как можно верно заметили и я вам расскажу про то почему мы вообще во все это влезли и что у нас в итоге получилось потом на сцену выйдет рома и поделится с нами проблемами интересностями и вызовами которые были в то время когда мы это делали и расскажет о наших дальнейших планах и а их влияние как на нас так и возможно на вас а теперь не одна история не обходится без злодеев в нашем случае это проблема проблема поиска данных вообще представьте себя на месте аналитика у вас есть какой-то вопрос вы хотите найти на него ответ а где взять данные вы не знаете вы можете потратить часы и она даже да не на поиск информации и в итоге все равно все закончится одним и тем же вы платите своему ноутбуку откроете slug и будете написывать десятком людей пытаясь найти хоть кого-то кто знает хоть что-то нужных вам данных вообще насколько на проблему близко и здесь люди которые узнали мои истории себя или может своих коллег о вижу руки отлично это знаешь там уж покороче немножко контекст сделаю потом потому что вы это в курсе лада вообще об этой проблемы должны были сначала узнать и мы сделали максимально просто нажми по создатели были пользователи которых мы взяли и спросили на самом деле как то платформа тиньков нам постоянно интересно насколько мы соответствуем ожиданиям наших пользователей и чтобы это узнать мы периодически пускай вопросы и опросы 19 и 20 х годов ясно показали следующую тенденцию первая проблема поиска данных есть второе она была крайне актуальна что подтверждает например цитаты верху слайда и третье если оно было ясно было актуально пришло время ее решать собственно мы это и сделали но прежде чем мы это начали делать мы решили проблему чуть изучить как вообще выглядит рабочий день обычного сферического вакууме аналитика поскольку рук было много я детально проговаривать не будут скажу просто что есть заказчик у него есть вопросы есть аналитик который предоставляет ему ответы с помощью данных кажется максимально простая схема но где в ней подвох не подвох начало в инструментах какие вообще инструмент аналитики используют своей работе первый это confluence то есть места где хранится описание всех наших данных второе если кантонский помог это сообщество аналитиков куда можно просто прийти и задать любой вопрос и возможно получи ответ что ж какие здесь нестыковки на самом деле они почти везде мало того что confluence может быть outdated разрозненные или просто отсутствовать так еще и ваш аналитик может быть в отпуске заболеть или просто уволиться пару лет назад обычная история о вечной на торте здесь будет заказчик у которого есть бизнес необходимость ему важно получить ответ здесь сейчас и проблем аналитиков ему говоря не волнуют да и не должны в общем выглядит довольно страстного для нашего аналитика и какой от этого можем подвести итог есть четыре пункта которые у нас получились по итогу анализа контекста я их выписал на слайде и когда мы их увидели мы начали думать что мы вообще можем с ними сделать и что мы можем здесь порешать подумали и выбрали три из них как минимум потому что огромный объем данных этот . но просто сложить мы не можем собирать их меньше и имея уже выбраны и цели у нас была возможность сделать первый шаг мы решили попробовать найти что-то снаружи потому что тот момент у нас была картина что наша проблема ну ни разу не эксклюзивно и с ней на определенном этапе сталкиваются все компании которые надели но хотя бы 10-15 аналитиков и наша идея идея вода часть оправдалось потому что средний аналитик тратит на поезд данных очень много времени и это естественно не радует ни одного из мастодонтов всей нашей истории бокса зовут ростислав соли ответственно такие мастодонты как google land in upper left и все прочее уже успели подумать над тем как эту проблему решать и ответили на нее внедрением систем класса d это каталог что это вообще за система на самом деле чтобы ее понять нужно иметь немножко контекста и тут нам на помощь приходит великий и могучий дома букв но естественно сегодня вы ведь пересказывать не буду иначе мы состаримся раньше и остановлюсь только на 4 основных концепциях которые нам пригодятся первый из них это данные как актив если кратко то в текущей картине данные стоят реальные деньги это просто аксиома и раз они стоят реальные деньги они стоят того чтобы о них заботятся ими управлять и в данном контексте нас интересует конкретный sap cis а именно метаданные кажется довольно простое понятие его можно стилизовать как данные данных но понять не от этого не становятся можно наоборот уйти в дебри перечисляет десятки типов данных которые входят в это понятие тоже не будем поэтому давайте просто говорим со следующим что метаданные это такой тип данных которые помогают нам корректно использовать все наши datasette и эффективно и во время но чтобы метаданные эту роль действительно выполняли необходим определённый процесс его тоже забрали он называется управление метаданными и ему в дома вуки посвящена аж целая голова и здесь не придется воспользоваться подсказкой потому что там все так как же звучит его определение планирование организация и контроль деятельности по обеспечению доступа качественным интегрированным метаданным с моей точки зрения не очень по-человечески поэтому давайте перефразируем мы просто скажем что просто проблеме то данными это то что гарантирует нашим пользователям что у них всегда есть доступе качественная интегрированная и объединенная в одном месте мета и вот именно одним таким местом и выступает система класса d это каталог если проводить аналогии представьте себе amazon вот вы открываете сайт у вас там есть гигантский thwack товаров вы вбиваете хоть поисковое слово наваливается выдача у вас куча информации рейтинге комментарии фотографии прочее так вот да это каталог это по факту то же самое только для data set of что ж теперь зная о том что такое такой флаг вернемся к нашему анализу вообще исход наши ожидания были прям очень высоки мы думали что на рынке куча решения вот сейчас мы взойдем выберем что-то допилим чуть-чуть внедрим и будет счастье нет счастья не случилось сожалению в итоге нам не подошло ни одно из тех решений что предложил рынок анализировали моих по следующим критериям их было всего четыре первый критерий это гибкость модели причина у нас очень сложная и разнообразная эко-система в ней есть очень много разных систем и многие из них самописные поэтому нам было необходимо такая система что могла бы затянуть себе любые метаданные любой структуры из любой системы вторая история которая частично выходит из первого критерия это до таллина поскольку наша костюм большая а точно также и сложная когда наши аналитики анализирует изменение одного единственного столбца это может вылиться в анализ десятков сотен а в некоторых случаях и тысячи зависимостей и чтобы наши ребята в этом просто не потерялись и не уволились на фиг нам нужен инструмент который позволит все это легко и удобно визуализировать и ответственность это вытекает третий критерий которые являются удобством мало иметь инструмент нам нужно чтобы пользователи получали удовольствие это работа с ним и не сражались и не тратили свое время и нервы на него последний самый скучный критерий стоимостью но с ним все понятно деньги конечно есть но это отменяет необходимости их эффективно расходовать что же как это все наложилось на наших кандидатов примерно вот так всего мы анализировать этом году что-то около 16 систем здесь я вытащил всего пять из них которые были для нас наиболее интересно на тот момент но как вы можете видеть по самой таблице к сожалению ни один из них по итогам нам не подошел хотя у всех из них были свои интересные и сильные стороны искру даже больше сейчас многие из них тоже неплохо развелись что же получается такая история выделить критерии попытались что-то найти не нашли но это еще не все мы ухитрились сформировать пятый критерий того что нам нужно от эти системы и мы обнаружили что поскольку наша система очень быстро это дикость м и очень быстро эволюционируют нам нужен инструмент который позволит нам его леса не развивать его вместе с ней то есть мы не готовы ждать годы или месяце на доработку инструмента мы хотим его здесь и сейчас в общем картина маслом мало того чтобы по четырём критерием нифига не нашли так мы ещё и 5 сделали и после всего этого нам оставался только один выход не нашли ничего время сделать свое но мы не будь дураки сделали и появился да это дефектов наш внутренний д это каталог который называется dd или по старинке mg что он из себя представляет но внезапно дети каталог но его основная фишка в том что он предназначен для работы в максимально разнообразно и к системе то есть он заточен на гибкость и удобство которым доставляет пользователям потому что его целевая аудитория это не тот инженеры нет а то стюарды это вообще все люди у которых есть какой-то интерес данных и которые хотят что-либо найти и для них наш инструмент предоставляет во-первых единую точку входа то есть места где можно найти вообще все и удобно надстройку над этим местом которое позволяет им искать не страдая в процессе собственно не страдание гибкость и интеграции как раз и были основными принципами на которых мы строили это инструмент про гибкость и универсальность я уже рассказал по ходу что касается интеграции есть немало кейсов когда информация по одному единственно тасс эту раскидано по десятку систем и это реальный кейс естественно если пользователь хочет составить свое мнение на тот эти лозы по десяткам месте ему не хочется поэтому наша цель это интегрировать всю меру не важно откуда оно пришло в одну единственную карточку и дать нашему пользователю полный контекст жко kdt сет может ему помочь у нас я говорю про карточку а как она собственно выглядит оставлю примерно вот так конечно пришлось сильно выкрутить зум чтобы хоть что-то было видом на слайдер но и так ничего что здесь видно по центру собрано основная информация в карточке на примере мы видим карточку отсчета тут есть уже много информации и на самом деле она скроется еще далеко далеко внизу справа видна вторая мини-панель к это связи второй базовый элемент д.д. то есть первая карточка 2 это связи между карточками инструмент который позволяет нам переходить с одной карточки в другую потому что ни одна из них не существует в вакууме например я хочу посмотреть на какой job создал мою таблицу у меня эта связь будет про могу я и воспользуюсь слева же мы видим дерево обетов каталога которая позволит нам найти любую карточку в нем но при условии что вы хотел примерно знаете где находится то что вы хотите найти посмотрим еще примеры вот карточка номер два таблица здесь уже хоть немножко другая визуализация на самом деле она у нас очень гибкая но они подробнее расскажет рома я пока остановлюсь на том что левая панель к может трансформироваться в подробный поиск по нашему каталогу в приятными настройками который позволит легко найти любую необходимую информацию но иногда и его не хватает в таких случаях мы используем подробный поиск по факту во многом то же самое но совершенно в другую обертки что позволяет использовать все пространство экрана для поиска данных и последний слайд с которым мы наверное больше всего провозились свое время на который составляет нашу отдельную гордость lineage какие говорил у нас сложная экосистема и эту сложную к систему и все потоки данных в ней необходимо визуализировать наш инструмент самописный это позволяет как вы здесь видите наш lineage способен отображать связи вплоть до уровня столбцов но ещё один важный момент в том что он не ограничен таблица миль жабами и всем прочим вы можете заложить абсолютно что угодно поставят модели правильные связи они часто просят вот это что касалось визуализации наших инструментов но визуализация хорошо а как понять насколько это в итоге используются не сделали мы работа в столб ну что ж на этом случае у меня есть немножко цифр мы начали вообще развитие нашего продукта в первых числах февраля 21 года и по состоянию на конец прошлого месяца наш еженедельный поток клиентов 650 уникальных аналитиков которые при этом ежедневно генерируют 6 с лишним тысяч запросов и еще и ухитряются оценивать наш инструмент почти на 8 баллов из 10 ну вот я сказал про еженедельно аудиторию а почему не ежедневную почему не ежемесячную на самом деле все просто потребность поиски возникает не ежедневно но и должна возникать слишком редко в конце концов дата гривен мы или кто поэтому да уж слишком часто мау слишком редко вау идеальный показатель для того чтобы на нем отце непопулярны от каталога но то сухие цифры а если поговорить про то как у нас отзываются наших вас от отеля примерно вот так я немножко покопался и собрал чуть обратной связи и не спорю это было прям очень приятно ну естественно не все прямо сразу же есть и моменты которые нам уж развивать и которые мы будем развивать их счастью нам в этом помогают наши пользователи которые подсвечивают нам наши проблемы к слову сэмпла у нас уже есть с тех пор вообщем вот такая получилась моя история и впереди будет вторая не менее через техническая часть и я передаю факел робби прошу да спасибо дима что же техническая реализация расскажу немножко про нее поговорим и про основные наши фичи это каталог поиск ну и собственно lineage что же каталог когда мы начинали только работать на самом-самом старте проекта мы знали что нас ожидает ну не прям все все будет очень плохо нас ожидает такие позитивные мысли а именно холода не будет как ни иронично потому что пользователи мы считаем по неделям рпс of не надо было тоже нам никаких считать ну и вторая кайфовая такой кайф а нюанс это небольшой объем данных с которыми будем работать да у нас хранилище данных много но если брать данные метаданные систем твоих объем совсем небольшой там мегабайт и для всей компании мы ожидали загрузить метаданных несколько гигабайт ну не больше это плюс и но были еще и сложности которые нам предстояли это естественно многообразие метаданных мы хотели сделать универсальную систему загрузить очень много разных систем не только базы данных но и всякие сервисы тень даже ручную документацию в итоге мы загружаем наш да . получилось получилось примерно такая архитектура в ней ничего интересного особо нету не буду подробно рассказывать загружая метаданные с помощью телефон грэс а дальше уже действует наш каталог backend frontend все как у людей ну что ж ним к подробнее расскажу про то как мы эти данные собирали наши даты инженеры проделали очень кайфовый у работу мы сделали этель фреймворк на базе airflow то есть нас также ребята построили очень крутую инфраструктуру для разработки которая позволила полностью покрыть тестами все наши и телепроекты эти процессы конечно же а как полное покрытие тестами это конечно звучит как сказка на самом деле нас не сто процентов там 98 кажется тесты естественно интеграционные я бы даже сказал in the end в чем обычно сложность покрывать тестами большое количество этих процессов это конечно же данные тестовые данные их надо откуда-то взять их надо поддерживать актуальном состоянии это очень большая головная боль именно с этой головной болью мы в итоге смогли справиться создав генератор тестовых данных ребята не пишут тестовые данные на все на всей теле джаббы а создают только входные тестовые данные которые при первом прогоне написано воитель процесса генерируют последующие данные и так далее и так далее потом эти данные сохраняются используются как эталонные при следующих запусках сразу возникает вопрос если да то инженер совершил какую-то ошибку и сгенерирует плохие тестовые данные это же в итоге сделает тест неправильным он не будет нормально тестировать наше приложение но в этом случае ребята предусмотрели это просто генерируя не только тестовые данные но еще их очень очень красивую презентацию в виде markdown а то есть на этапе review можно быстренько и очень удобно посмотреть на эти самые данные их сверить конечно без ручного тестирования тут не обойдется но в итоге мы получаем крутые интеграционные тесты которые при последующих запусках при модификациях помогут отловить самые самые маленькие ошибочки возникающие вообще неожиданных местах очень крутая штука всем советую загрузили мы данные в модель доменную про которую дима уже немножко сказал то есть у нас есть сущность которая представляет собой какой-то объект метаданных там это будет таблица там отчет какой-нибудь процесс и так далее и между сущностями мы сохраняем связи связи могут быть какие то ну совсем тривиальные типа контент как мы их называем связями когда допустим колонка внутри таблицы все просто но могут быть чуть более сложные допустим связи по которым мы lineage строим ok доменная модель есть есть один вопрос мы сделали одну сущность назвали ее сущность но надо же в нее все эти метаданные сложить как-то метаданные вообще разные то есть у нас есть метаданные для баз данных метаданные для каких-то отчетов ручной документации так далее об этом я уже сказал надо это все сложить в одну таблицу в пол верси получается потому что мы сразу откинули идею с созданием нескольких таблиц потому что это сразу бы поломала все универсальность в общем да надо было сложить в одну таблицу и тут нам помог немножко позже супе потому что у него есть джейсон бы туда qr коды на слайде просто здесь же на хайло эти есть цикл как раз выступление про джейсон б от пост про очень крутой очень нам помогла то информация джейсон бер прекрасный инструмент который позволяет не просто динамические данные хранить возрасте а еще и индексом на них вешать и вообще работать с ними как с обычными колоночка my с этим все очень круто окей данные мы сложили теперь их надо как-то показать мы чтобы про каталог говорим все-таки и вот тут-то мы немножко застряли потому что разнообразие она все еще остается первые мысли было придумать какой-то редактор карточек то есть взять какой-то конечный набор частей интерфейса всякие блоки дать их нашим клиентам которые к нам интегрируется ну и пускай они сами себя там нарисуют как они хотят видеть свои страницы в каталоге начали развивать эту мисс смысл поняли понадобится еще и админка понадобится ролевая модель нужно будет какой-то инструмент для редактирования этих шаблонов предпросмотр слишком сложно нет нам это не подходит мы вот идею не стали выбрасывать сделали просто чуточку проще блоке мы оставляем просто делаем универсальный дизайн клиенты все еще контролирует как это отображается но контролирует просто заполнением данных то есть к нам приходит клиент наш какая-нибудь система тиньков говорит мы хотим в интегрироваться загрузить данные мы им даем документацию и говорим вот если вы к нам в данные вот сюда вот в это поле положите что то она будет на экране отображаться вот так и в принципе этого хватило мы загрузили очень много систем все в целом довольны остается только один вопрос это универсальный дизайн это конечно круто но он какой-то над как рельсы то есть ну не можно же нельзя живут вообще все показывать одинаково но хочется допустим бегать и же чё ты их показывать по другому чтобы удобнее было пользователю сориентироваться а это у нас есть ответ на самом деле мы заполняем не просто данные в базе а вот на моменте загрузки данных есть еще специальное поле там же в сущности который определяет дизайн и сам дизайн у нас написано несколько дизайнов на фронт индии и мы можем их по заказу еще и создавать если прям совсем надо будет ai пример дима показывал карточку с отчетом это она же и это как раз другой дизайн это уже не универсальный это специальный дизайн для обе отчетов принципе вот ok каталог каталог мы сделали на теперь по нему сделать поиск всего с этого вся история начиналась конечно же с поиска и тут интересно потому что было уже сказано что целевая аудитория у нас это все наши аналитики всей компании на самом деле начиналось всё совершенно не так когда мы делали прототип только наш целевой аудитории были как раз даты инженеры дата аналитики в принципе наша 2-х и мы захотели сделать поиск который работает быстро работает чётко и конечно же он удобный ну про скорость мы поняли сразу что лишь бы он просто был этот пояс которых confluence и знаете там вообще нихрена не работает и про четкость как я уже сказал мы работаем с датой инженерами ребята очень часто именно физически какие-то таблицы ищут по части названия надо найти там все реализации какие то ну мы подумали что нам надо именно так сделать мы подумали немножко поняли не заморачиваясь использовали просто яндекс по версии индекс 3 гранный как раз позволяет делать четкий поиск по скорости нормально все весь поиск уместили в выставили запрос можно радоваться задача выполнена малой кровью потратили мало времени но на самом деле нет совсем не то что мы хотели потому что целевая аудитория оказалось обширнее пришли аналитики из других подразделений начали что-то искать им поиск что-то непонятное выдает программный индекс оказался медленным когда мы загрузили все метаданные то есть пока там он и работал на сотнях мегабайт все нормально было загрузили 10 гигабайт метаданных и все ждем по 10 секунд ответа иногда при мысли совсем поисковый запрос generic то есть человек ведет название там какое-нибудь там банк ждем там тайм-аут и ловим нет ранжирование получается ответ недетерминированные нерелевантный много жалоб было кстати вот на тех же скриншотах от димы там были если успели прочитать печально но решение мы не стали выкидывать фокус мы все-таки сделали на каталог на удобство дизайна поиск мы улучшили в итоге добавив просто фильтры дополнительные фильтры они по моему помогли очень сильно сузить выборку просто приходит к нам пользователи они как правило ищет не вообще все метаданные а конкретно допустим только по своей системе какой-то которую они уже знают выбрал свою систему они уже получают более менее релевантный ответ этого на первое время хватило помогло сэкономить нам время также мы сделали удобный интуитивный дизайн ну и пока что на этом мы остановились естественно продолжаем думать над тем как улучшить собственно сам движок добавить ранжирование сделать его нечетким либо переедем на новое решение используя по сгрыз либо возьмём новую какую-нибудь систему пока еще планируем ok дата lineage это моя любимая мы вообще считали колоночный lineage нашей кивер фичей потому что на момент когда мы начали все это делать его и не было да и сейчас не особо он есть выглядит он так вы его уже увидели когда мы приступали к его работе мы хотели чтобы он был ну во-первых красивый это самое главное посмотрели еще раз на экран дизайнеры молодцы красивый есть что еще но мы хотим чтобы он был подробный дима про подробность уже очень подробно рассказал есть колоночки есть эти процессы можно добавлять свои какие-то виды сущности в этот lineage то есть если клиент захочет какой-то прям информативной войны из показать он сможет поэтому подробность тоже есть остается самое интересное это голубой глубина глубокий войны мышь хотим как мы хотим показывать от самого самого начала до самого-самого конца историю изменения данных как нам это сделать сели и начали думать что мы имеем но мы имеем сущности мы имеем связи между ними у нас уже стоит по сгрыз о об адресе есть рекурсия вы такие давайте рекурсии напишем написали запрос с рекурсии бах на самом деле конечно же ничего не взорвалось пожара не было но было очень больно сидели мы несколько дней и думали о чё не так а что именно было не так пока делали все работало пока тестировали все работало длинную и на ему войны встроился показывал полный граф все было чётенько выкладываем на пруд он начинает валится каждые минут 20 там каждый час падает рвет все подключения падают 500 а почему непонятно начали копать начали разбираться почитали логе поняли рекурсии они подходят гениальный вывод конечно же она не подходит мы же лишь юзать play или и все сломалось но почему потому что у нас метаданных как оказалось есть это вот моё любимое большие злые таблице на экране вы можете увидеть ее linea да это он это если уместить его целиком на экране то что вы видите на самом деле чудо что я могу его вам показать но чудо только благодаря тому что это не глубокий войны что всего лишь один уровень то есть это вот просто все связи в этой таблице их там 5 тысяч примерно конечно же если я попробую рекурсивный запрос имея вот это выполнить у меня начнется коллапс полный потому что рекурсия в подгрести довольно тяжелый инструмент там происходит материализация под запросов которую никак ты не оптимизирует естественно по сгрыз начинал очень сильно очень много думать потом плевал на это говорил давай до свидания рвался подключения как там и все по новой да вот если приблизить там видно это она та самая таблица у неё нам связей и получилось что не получилось да с рекурсии не вышло пока что мы показываем всего один уровень ну вот как на прошлом слайде да это у нас сейчас продакшен такой показываем один уровень войны g это наше такое очень умное дизайнерское решение чтобы не нагружать пользовательский интерфейс большими графами чтобы пользователь зашел увидел только вот ближайший уровень потом начал тыкать по нему открывать следующие уровни так вот по нему ходить принципе решение неплохое но но не она лично не нравится да и целом не устраивает ананас глубины то нет но надо же что-то с этим делать решили как варианты были либо использовать не по сгрыз возможно другие какие-то технологии либо сделать какие-то оптимизации для графов думали думали думаем до сих пор как-то планируем пока что самое любимое это сделать на стороне uiaa продолжить эту мысль что показываем сначала только один уровень после пользователь тыкает и подгружает еще там дальше в глубину только те части графы которые ему нужны в целом это поможет раз размазать нагрузку только это очень хорошая задача для наших фронтов надо будет сделать чтобы это все работало быстро чтобы это все работало бесшовно и конечно же интуитивно то есть дизайнером тоже придется попотеть чтобы пользователь когда зашел он сразу все понял как надо делать но это все будущие то есть это все еще наши планы ну и про будущее я щас немножко и расскажу нас тут типа карты ну или истории нашего развития если прям почитать то видно что сделали мы уже достаточно много у нас команда уже сформировавшиеся продукт уже в продакшене клиенты у нас есть пользователи довольны в целом довольны есть конечно недовольны но без этого нет развития в целом сделали мы уже много дизайн готов устоявшийся архитектуру тоже менять мне уже не планируем все рефакторинг и мы закончили и в целом прямо сейчас ребята закончили вот push сценарий чтобы клиентов быстрее интегрировать чтобы они сами могли метаданные присылать как уже понятно из того что я вам тут понарассказывал делать мы будем поиск делать мы будем lineage ii вообще мы хотим сделать вот такой продукт очень удобный очень приятный который будет частью нашей большой к системы данных тиньков это как бы все но есть ещё одна тема мы хотим делиться много опыта мы уже получили делая наш data каталог хотелось бы этим опытом поделиться с вами как именно мы это будем делать мы пока не знаем поэтому давайте обсуждать спасибо спасибо большое так давайте переходить к вопросам во первых вам аж два мешка потому что вас двое держите подарки от холода пассивов и 2 отлично тут еще важно отметить что ребята устраивают аттракцион невиданной щедрости и как раз именно у них за лучший вопрос есть подарок какой подарок это будет кружка которая может быть забрать на нашем стенде вас прекрасно поехали до вопросы давайте вот по центру начнем супер ребята очень крутой доклад обычно это такая стандартная фраза задаешь вопрос но это не так вот правда очень крутой доклад я фактически ради него приехал на хеллоу жене ermakov индекс г я пока слушал доклад записал семьдесят три вопроса задам 7 остальное в кулуарах мы готовы кто вас отвечает за контент обычно в таких системах самое главное это контент кто именно его в систему грузит а прогноз наш вопрос кто его грузит кто за ним следит кто его обновляя кто оценивает качество контента вообще как этот контент системе живет кто контролирует довольно большой вопрос смотри исходно у нас был подход такой что мы заключаем сколько системой контракта то есть некое обязательства как она должна нагрузить метаданные контакт фиксируются и после этого централизовано первое время загружалась диск на метаданные если возникала какая-то проблема с ними мы анализировали есть во время на стороне источника источники и правил иначе проблем было у нас провели скорее мы сейчас у нас появился второй путь от про который говорил рома это пуш то есть наше участие как команды уже не обязательно система может прийти к нам заключить контракт и тем не менее все равно необходимо и отливать нам данные самостоятельно и нести за них полную ответственность то есть владение метаданными на стороне системы есть ли у вас бизнес глоссарий обычно таких системах он рядом если что такое яму слиток бизнес класса и у нас есть но он пока скорее в стадии развития потому что у нас очень большое хранилище если говорит только пром таблицы модели это такое подмножество самых самых важных их будет в районе шести тысяч если не ошибаюсь и соответственно бизнес глаз творит их мы сейчас заполняем он появится в т.д. но примерно через месяц наверное два но отобразить его не проблема проблем не наполнить вы не оценивали структур употребление разных страниц но на самом деле мне больших вопрос про колоночный lineage это частый запрос от такой системы но на самом деле мало кто ей пользуется во многом потому что вот как вы показывали скриншот система где гигантский lineage ничего не видно вот нужен ли к мощный войны он нужен потому что для развития нашего хранилища котором занимаются если ошибаюсь около 70 аналитиков помните я рассказывал про вообще порядок зависимости у нас то есть сотни тысяч и даже без этого инструмента дорабатывать и и просто невозможно у нас был кейс мы не успели загрузить на систему в d&d и из-за этого у нас пару раз очень сильно ломалась построение хранилища потому что не заметили зависимость то есть отвечая на просто я так для аналитиков д.х. это маст хэв кейс он просто необходимо не господь постоянно для аналитиков простых бизнес снаружи они используют его конечно сильно режет новые лютню все равно гигантская все у меня последний вопрос просто я не первую руку поднял там пить ермаков был раньше но я просто выше подпрыгнул когда open source не было последнего пункта 12 open source потом мы начали уже свою пилить вот как раз таки поэтому мы и хотели стереть обсуждения то есть у нас есть такая мысль но мы хотим понять во-первых насколько это продукт вам полезен насколько вы в нем заинтересованную и от этого уже будем плясать то есть прямо четко вас только пока нет приходите к нам в чате кв он там есть харьков будем обсуждать до разжижение просто захотел получить подарок и поэтому семьдесят три вопроса я с маленьким вопросам анализируете ли вы запросы да то есть к любому хранилищу можно еще по сосаться в виде log off и порой запросы дают инсайды такого неочевидного line in g например когда четких зависимости между таблицами не простроены но люди это joint как ты использует между собой и вот эти инсайды запросов они бы показали возможно следующий уровень оптимизации хранилище вынос от них решение там ясно допустим что cliff house таковой табличку используют с другой табличкой спасбросок и вот таким цыгане бывают полезны просто в виде частотно распределенных связей я отлично так и да и нет то есть у нас есть анализ запросов в первую очередь те которые существуют в zeppelin и в helicopters это наше утреннее интерфейс их мы анализируем для построения лайнера если говорить просто про запросы в базе именно в d&d этого сейчас нет это вектор развития который мощи хотим сделать довольно обозримом будущем но мы это анализируем вне dd просто стульчики потому что хранились у нас большое очень много в том числе за дубль его не некоторых встречается периодически поэтому не анализе то мы просто не можем вас пока еще не здесь а ручками давай еще может один вопрос успеем что был еще выбрать вот человек есть спасибо за доклад и максим единый индекс а скажите а вот lineage по фил да это же наверное какой-то framework пришлось переделывать все существующие перелив ки чтобы эта трассировку организовать как это технически получилось сделать учитывая масштабы хранилища спасибо я наверно бы сказать так что исходно колоночный ваныч в принципе доступен во многих детей инструментах то есть у нас такая остановит осознай дать internation студию в нем пока он ночной lineage есть как мы собрали его вдт по фактам и написать их коннектор ко всем нашим сам описанным и не очень сам описанным интерфейсом и затянули все это к себе если говорить про отображение то мы сделали свой вариант то есть мы взяли окон страшное решение сильно его перепилили и использовали в нескольких наших продуктах внутренних вод в том числе здесь вообще довольно интересная история я надеюсь однажды мы они расскажем отдельно на такой более техническом выступление отлично спасибо давайте еще раз поблагодарим дмитрий романов спасибо выбирайте лучший вопрос тогда уж сразу что то ли люди убегут потеряются то как думаешь у нас будет сейчас и вы сможете подойти к нашим нет я скажу лучше вопрос выберите даже не знаю ты же на все отвечал почему я должен выбирать тогда я дам пару персам оттуда за самые подробные вопросы отлично супер значит дальше у нас по плану ребята проследуют в цифровые кулуары"
}
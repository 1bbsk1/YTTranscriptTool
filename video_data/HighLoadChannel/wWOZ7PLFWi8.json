{
  "video_id": "wWOZ7PLFWi8",
  "channel": "HighLoadChannel",
  "title": "Рефакторинг клиентского кода / Алексей Золотых (Wrike)",
  "views": 570,
  "duration": 2096,
  "published": "2018-01-16T13:32:31-08:00",
  "text": "всем привет мне на самом деле претензия коллегам есть они собрали что мы не пишем о java скрипте на самом деле у нас java script законсервированном состоянии и мы новые фичи не пишем на java script я сегодня как раз об этом поговорим немножко но чтобы вы знали мало кто в россии знает компаний wrike в основном мы занимаемся пишем одну такую классную штуку которая позволяет вам работать с большими проектами контролировать сроки стану контролировать ресурсы и прочее несколько фактов про нас чтобы вы понимали вообще почему я сейчас с вами говорю про рефакторинг в нашем репозитории который клиентский ну то есть мардон райка там более 2 миллионов строчек кодов всего находится также у нас в этом же репозитории лежат библиотеки измененные под системой контроля версий например там лежит старичок x 34 пропатченный шансы обновиться у него примерно 0 он будет до конца жизни и джесс 34 там же лежат какие-то версии джейк вере и прочие библиотеки про которым даже не надо наверное значит на фронте энди у нас работает более 50 разработчиков насколько я знаю по последним данным их уже 60 стала ну и в нашем коде есть глобальные переменные много глобальных переменных и от этого тоже никуда не уйти я к вам своего друга взял это ктулху кто не знает ктулху всегда со мной потому что я очень люблю музыку и вот эта проблема запутанные наушники на самом деле эта проблема глобальная она иллюстрировать некий физический закон и сформировал этот физический закон но вот этот вот человек рудольф клаузиуса еще по-другому его называют второе начало термодинамики или закон не убывания энтропии звучит он примерно так на читать вам это абсолютно не важно потому что это взрыв мозга важно понимать что если вы не будете рефакторинг код будет запутываться все же видели туда им весь и теперь представьте что вы сдали такой туда им вести в продакшен люди им пользуются потом приходят проджект-менеджеры говорят а мы хотим туда им виси назначать на пользователей вы в спешке переписываете ваши компоненты для to suck и понимаете что вас там теперь логика для пользователей а потом нужно еще делать групповые действия с задачами скажем задачи закрывать перри открывать и вы в эти же компоненты пишите логику по открытию перри закрытию задачи вот как этот чувак попадаете просто по самое немогу запутываетесь и не знаете что делать знакомая ситуация и что важно понимать про рефакторинг рефакторинг это именно процесс изменения внутренней структуре кода он не затрагивает функциональность это важно я бы даже сравнил рефакторинг с некой гигиены понимаете вот без рефакторинга чувства уже не те как бы до определенного момента и я могу вам сказать абсолютно точно что рефакторинг frontend это сложно почему ну потому что у нас есть минимум три контекста если страница всех этих фреймворков в никуда не денетесь от хтмл и css и java скрипта по любому а кто-то может что-то своем туда напридумывать и еще что более важно эти контексты не между собой связано ну примерно никак вот я правлю текст этой провале исходный код этой замечательной презентации моя идея умеет понимает что я все с меняю classic и она это все прекрасно делает все работает все круто до того момента пока я не пошел в html который ничего не знает о том что и все с поменял classic проблема глобальная я вас сразу предостерегу не надо все писать в джесс я пробовал это не работает а пока я у некоторых из вас бомбит проговорим по высокое искусство здесь есть коренные москвичи лес рук значит все остальные были в третьяковской галереи видели замечательно видели замечательную картину казимира малевича девушка с граблями это просто основа моего доклада она будет постоянно встречаться но сразу могу сказать про рефакторинг такие банальные вещи но почему-то про них все забывают но чем чаще were factory сети потенциально вас меньше проблем чем меньше вы работаете с кодом тем меньше вы совершаете ошибок если вы рабы править и какой-то маленький кусочек кодори factory вы всегда в контексте вы все время понимаете что там как вы можете удержать в голове то же самое про ваш отделку ваш отделку а всегда абсолютно точно знает что ему тестировать знает скоб знает где что может отвалиться это тоже плюс но и еще несомненный плюс ваше начальство никогда не заметить что что три фактора часто тоже плохо но это понятно почему потому что если все время мыться когда же код писать если например за гиеной возвращаться вы мне можете сказать типа парень ты сюда пришел вещи толкать какие-то очевидные совершенно да я вам скажу да и вы можете спросить а как вот мне вообще быть я же пришел слушать доклад рефакторинг 2 миллиона строчек кода да как вот вы там работаете я вам скажу что на самом деле любой рефакторинг большой всегда можно заменить на маленький и тут есть такое правило турист ссср она о чем говорит о том что полянку нужно оставлять всегда после себя чище чем она была ну и вот в нашем случае встречаются наши тим лиды и они говорят а давайте мы будем рефакторинг код постепенно по чуть-чуть капля за каплей и даже мы готовы на это 10 процентов времени выделять и готовы даже бизнес под это подписался но обязательно найдется человек который забьет на это правило первым решение приходит быстро это добрые туристы по принуждению но мы ставим гип-гип хук и говорим что давай-ка ты программист будешь писать код сразу же правильно а мы линкорами проверим и код с тайлами всякими и мы считаем что ну через время наша кодовая база останется такой же прекрасной как она была первоначально до того как начали внедрять все эти фишки страны но есть реальность до всегда придет человек и скажет что нам нужно прямо сейчас какой-нибудь давно код закомитить прямо сейчас ну что я могу сказать тренировка только тренировка других вариантов нету постепенно ваши программисты или вы сами тоже вы научитесь работать в этой парадигме качество кода превыше всего вы наверняка ведь вам интересно послушать про соль до не банальные вещи и я вам сейчас попытаюсь рассказать как быть когда собственно поздно пить боржоми когда уже туристы засрали всю полянку и все плохо но давайте немножко про наш разухабистый frontend расскажу ну вот у нас есть некие файлики это не самый джесс это файлики которые относятся к их джессу и файлы это выглядит примерно вот так вот каждый файл есть какая-то глобальная переменная да у нас тут есть какое-то расширение с кто еще старый кто вернее уже старый тот помнит текст extend есть какие-то настройки непонятны этого же x то и вся логика в call back ах как то вот так вот помните вам говорил про библиотеки вот библиотеки тоже там они тоже в кучу лежат тоже файле коми все нормально я надеялся этот человек сегодня придет ну ладно в общем у нас работал очень классные программисты он очень умный написал библиотеку и мы сейчас страдаем от того что никто кроме него не знает как с ней разбираться и все работают на примерно наугад нет награда не ждет своего героя как это выглядит но это такое frp очень прикольный фреймворк он в основе своей очень умные и я вас призываю сходить он лекцию будет читать но нам с ним к сожалению не по пути достаточно вече числу число буквенный идентификатор аккаунта мне кажется перебор но и у нас есть мои любимые стойким play to say тимплей ты в них прекрасно все они выглядят примерно вот так вот они кстати были уже head of time compilation когда это еще не было модно они уже сразу компилировали java script и компилировали ся не java и вот видите меня да у нас есть еще парень который меня больше он devops очень радуется когда ему говорит что frontend теперь должен еще и джавы собираться я вам скажу больше там еще и питон есть именно в коже компанию теперь к самому к самому процессу сборки но вот лежат эти файлики лежат свои тимплей ты я здесь по цветам подсветил там и джесс вендоры вот эти все и с этим plate ему суда накидываем и у них есть вот такие вот 2 pro white игу краклер гук право это когда файлики что-то предоставляется а кукла ира это что перед этим нужно вставить то есть у нас еще во времена и джесс 34 не было модуля и поэтому мы кампана вали просто по порядку вот эту всю историю это кожа кампай ли рут это кстати питонов sky от ул за она прогоняет и расставляет вот эти файлики в зависимости от этих двух строк в правильном порядке и потом мы это все через три мы запихиваем в угол по как-то собираем и в как то это все работают и явно даже вот вы сейчас понимаете что то есть но недостатки во первых глобальной область видимости каждый кто что то поменял он имеет шанс в принципе сломать систему не должно так быть второй момент что вот это вот вся штука что каждый раз приходится прогонять этот кожа кампай лир и начинать сборку сначала никакой инкрементальные сборки вообще речи быть не может именно с java script он третий пункт это вот эти вот все библиотеки которые лежат в коде ну грустно все и я как человек который пришел такой с мира фронтэнда фрайг работать уже наверное году два назад мне очень нравился в пак и вот это вот идея все знаете что у вас есть один индекс s и все остальное управляется по дереву как бы зависимости по граф то есть ассистенты джесс мы можем из него бандл собрать все в модуля все очень круто и я так подумал ну давайте мы возьмем все наши java script file и выполним вот такую вот консольную команду кто не понял она формирует файлик endless просто через реку аир и попробуем посмотрим что из этого получится как-то там может ты да я поможет и да я не помогло потому что видео на этом ноутбуке не грузится и он специально записал в общем jetbrains вам обещает что все будет работать visual studio года обещает что будет все работать но она как-то вот не выходит каменный цветок вот кстати пример когда вы попытались это даже я не код боевой пытаюсь рефакторинг это я просто сборку рефракторы понимаете вот я хочу вместо паз и джесс пас на нажимаю enter и жду я человек нетерпеливые больше десяти минут никогда не жду до 5 девушка с граблями и внезапно выясняется что этих файлов проекте только чисто боевых и свои тимплей то в тысяча сто штук больно короче и тут получается такой комбинаторный взрыв потому что связи очень много и мы возвращаясь к нашей схеме видим этот ложек empire который файлики вот эти вот выставляет в правильном порядке и я так подумал почему бы просто его вывод как он выставляет файлики не сделать также через консоль не обернут в руку аир и не получить индекс такой вот попытаться его завести но внезапно возник вопрос такое а что мне делать со и потому что сайта он собирается во первых в пакетном режиме а во вторых что еще важно с этим plate они друг от друга зависит то есть вы не можете просто взять один template использовать в факт от вас требует вы такой и сын из какого-то файлика джесс импорт стойким plate и вы думаете что все заведется нет так не работают и самое важное что для сборки нужно java которая сама по себе достаточно тяжелая и что еще мне не нравится это еще один синтаксис новый человек который собирался писать надо рте в нашей команде а его заставили писать на java скрипте ему придется еще и свою чуть не очень хорошо и тут как бы напрашивается знаете какой вывод а давайте мы просто напишем плагин для вы пока и сначала это все в пакетном режиме сохраним в какую папку temp а потом из этой папки temp будем лоулером загружать но в принципе нормально но опять пришла девушка с граблями дело в том что у нас всегда во первых время на рефакторинг ограничена во вторых это все должно работать под разными операционными системами потому что у нас демократичная компания люди сидят под линухом под маком есть даже которые вине себя у них потом презентации не грузится вот ты тут но он приходит знаете какая идея нужен ли нам вообще сай может имеет смысл как-нибудь от него попробовать избавиться потому что со генерирует вот такие функции которые возвращают конкатенацию строк отсюда собственное зависимости ahead of time compilation все дела вот эта строчка а вот так вот это все могло бы выглядеть в принципе почему бы и нет это даже там як наверное победил даже да ладно обмазываться говорить короче это мир же секс-то даже похоже на есть еще проблемки вот такие вот когда у нас есть цикл и это все вот такой вот превращается особенно вот-вот пути когда забываешь лифчик закрыть но да есть и радость мы можем сказать что все хорошо и так сойдёт потому что как говорил же ним от нового кода там не пишем почти и идет в соитием plate я просто зашел в них об репозиторий посмотрел как часто с этим плитка месяца и получилось что туда комитет один старый разработчик древние умной аксакал раз два месяца я к нему подошел его юра зовут игру юрты как от множества сгорит у меня есть 2 файлов которые якобы еще говорит так продолжай ты вот их мне сделать чтобы удобно было потому что их там два только я в них раз два месяца лазию как а вот влазит ну вот и и короче я с ним договорился что я их выделю только надо вот эти два файла привести в нормальное состояние круто но тут еще знаете какая есть момент я столкнулся дело в том что стойким plate и вообще любой темплейт это штука которая связана с безопасностью безопасности у нас именно в раки очень тяжело у нас сидит отдельный человек безопасности в чатике есть его вот иконка такая специальная когда кто-то говорит про безопасность это иконка появляется с его фотографией он очень не любит когда тимплей ты в тимплей приходит переменной она не экранируется и тут нужно после того как мы ужас компилировали тимплей ты положили их под нашу систему контроля версий попытаться взять и как-то сделать эти escape и и вот тут я пришел 3 факторингу на основе абстрактного синтаксического дерева абстрактно синтаксическое дерево у меня там в ноутах было записано на и определение сам я его не выучил но это в общем такая штука в которую превращается ваш код написанный примерно typescript и прежде чем превратиться в java script некое промежуточное представление и она позволяет делать странные вещи она может залезть ваш контекст и например скажем переменные майлара если вы попытаетесь просто через комом tf переименовать через control of она не она позволит это сделать то есть поиск не позволит рефакторинг на основе st позволит я нашел такую классную утилиту grasp у меня есть на самом деле два синтаксису 1 синтаксис он выглядит вот так вот то есть вот эта строчка поиска и в подсвечен и он выбирает из всего исходного кода вот вот эти вот все и фу а дальше он и всех и fav выбирает только те iv и у которых есть and i также может искать по шаблонам если вам лень вот например return какие-то пропуске очень похожи на регулярные выражения но поверьте они умнее и он нам подсвечивает все хорошо и я даже больше скажу мы можем прямо с консоли попробовать рефакторинг вот скажем у нас есть такой странный кот файлик не понятно с чего бы он нам нужен но он есть и мы можем вот такой вот командой попробовать его 3 factory ну во-первых мы говорим что у нас слева выражение всегда должен быть y вот это выражение нам подходит вот это выражение в лице на часть этого выражения нам абсолютно подходит получается у нас две штуки и за реплей сети и по какому-то правилу по определенным в данном случае мы оборачиваем вещь весь наш результат в некую функцию f как это выглядит теперь вместо наших выражений у нас все обернулось функцию f очень прикольно как раз именно так такой техникой я просто подменил сорский когда компилируется soi я подменил вызовут этого эскейпер а автомобильного вот на вызов и зла у дыша и все в принципе завелось подхватилась но делая при помощи нет и утилиты а при помощи джесс код шифтом jeff scott shift это утилита от фейсбука как раз она нужна для того чтобы и factory и и киллер фичей внезапно оказалась некая манат стройка над тем что это все-таки пакетное преобразование у нас есть мы пишем некий такой модуль некий файлик в котором у нас есть file info и мы просто после того как что-то поменяли вот так вот например мы можем это сохранить методом ту source и еще более круто что там есть мы можем у нас есть готовый способ готовые рецепты на это на все то есть вместо того чтобы руками переименовывать все вары в const или в лет и мы можем это сделать автоматически они уже тестированы каких-то ошибок я не выявил чтобы были можно все в стрелочные функции перегнать тоже прикольно работает ну и я из этого 3 использовал я взял эту конкатенацию строк и перегнал их в шаблоны в принципе тоже работает у нас завелось и вы можете спросить а что стало с глобальными именами но у тебя там проблема была это же в oпacнo глобальных переменах не заводится есть на самом деле два способа решения первое это скрипт laughter некоторые для вы пока он берет и ваши legacy файлы выполняет так как будто бы они выполняются в глобальном контексте то есть как будто бы они друг за другом вставлены и это выглядит внутри вот так вот я пришел колоду но что не подходит мне скрип flower потому что мы еще и я производительности думаем о других вещах я безопасности его не наш путь и тогда я нашел набрел на экспорт loader и мы при помощи экспо у слайдера прекрасно можем добавить в глобальный наш контекст глубине и добавить модуль глобальный контекст и выяснилось что вот этих переменных которые торчат виндовых не так много там 10-12 штук они все прекрасно за x пользуюсь и все прекрасно заработало вот джейк вере кому интересно можно по использовать и знаете я к чему пришел помните вот я вначале говорил потом что маленький рефакторинг он всегда лучше чем большой и вот вам прекрасный пример маленького рефакторинга попробуйте ваш код прогнать через утилиту стать статический анализ кода я например нашел замечательные perla в нашем коде вот на них падал бабу парсел парсер вот аргумент очень прекрасно сюда передается в браузерах все работает и поправить это достаточно просто никаких проблем нету это за конечное время все делается и багов тоже но скорее всего минимум если вы с головой но это делаете и я пошел дальше а что если взять и применить этот автоматизированный подход не только джаваскрипт кода а еще их стилем до того как я взялся за дело у нас в нашем прекрасном репозиторий было три различных версий стилей то есть мы использовали стилус лес с все это вместе и поскольку мы пишем на даче и для дарта у нас разработка придумала что мы будем писать на вес и ну то есть атласа мы никуда уже не денемся поэтому нужно выпиливать стилуса обычный css как это можно сделать ну во первых все прекрасно знаешь что стилус внезапно умеет компилироваться все с и при особых флагов то можно даже оставлять комментарии и я расставил комментарии я просто в начало каждого файла дописал такой вот комментарий с названием этого файла у меня получился такой один большой css файлик вот название файла и я пошел дальше я подумал а почему вы мне весь шлак оттуда не выпили при помощи possess a хорошие же утилита и possesses the самом деле позволяет делать уйму вещей например можно выпилить всякие дублированные стиле можно уменьшить разброс цветов там есть специальная утилита которая смотрит то у нас по моему 800 серых цветов на проекте был кодовая база 2007 года каждый дизайнер считал что у него самый правильный серый цвет стилус он был в миксе нами и естественно он вот эти вот свойство к стоны и для браузеров очень много на генерировал их тоже вычистили ну и также мне удалось каким-то чудом выделить вот новой переменной как раз цвета по моему но в принципе если вы достаточно упорные и терпеливее чем я вы можете прям какой-то анализ делать и даже можете миксины обратно вернуть некоторые но поскольку мы в этот код старый не лазим нас устраивает уже то что все хорошо компилится все хорошо работает ну и соответственно после этого мы тот же авто при фиксер добавляем нашу сборку именно после леса и ну и все в как бы начинает работать уже как по-модному по молодёжному у нас огненный css и как вы понимаете любой css это в принципе лес проблем нет единственно что у нас один большой файл остался но я взял просто посвятил по комментариям написал просеки скрипт и обратно разложил на те же места где лежали файл исчез с только переименовал их власти они уже были чистыми красивыми ништяк и ну вроде как расслабился все хорошо но потом вдруг пришло осознание что когда ты рефакторинг очень сильно много то мертв изменений после того как то три фактора до всегда боль особенности ли а учитывая то что у нас 50 разработчиков в день там разработчик делает not 34 к метода и потом но если они не уйдут а если они уйдут еще в мастер и мне нужно будет мастер подлаживать это очень плохо и тут я вспомнил про старичка golf который у нас тем более уже был что хорошо умеет делать gold и лучше него я не знаю кто это умеет делать вот помните там в квадратных скобочках указываешь паттерн по которому ты берешь файлики а потом он их очень прекрасно умеет процессе я подумал вот в базах данных у нас же есть миграции мы можем накатить некоторые изменения ну а там арно так скажем да поэтому я написал вот именно для этих рефакторинг of особенно для автоматических очень хорошо небольшой плагин чик на гуппи и теперь вот эти три команды волшебная накатывал свежие мастер и дальше применял рефакторинг плагин для гал по таким образом у меня проблем с иммиграцией вообще не было все прекрасно и еще один момент я исключал человеческий фактор то есть после того как находили баги я просто брал и смотрел свой скрипт что-то там исправлял я могу сказать что возможно у вас это не заведется но как минимум попытаетесь рассмотреть такой подход возможно вам подойдет и тут опять та же да вроде как все хорошо но опять девушка с граблями дело в том что после того как вы уже стиле а3 factory или багет и они не всегда очевидны вот вам интерфейс райка перед рефакторинга тот же самый интерфейс после рефакторинга я давал эту задачку нашим разработчикам которые постоянно смотрят в интерфейс райков каждый из вас скорее всего этого не видел и никто из них не нашел что на самом деле встречаются два вот этих цветов каким-то чудом это на самом деле проблема и после того как я вот эти стили все а3 факториал еще месяц длилась регрессия полное чтобы люди хотя бы чтобы там хотя бы стиле не отвалились никто на эти цвета даже внимания не обращал потом уже находили и тут еще возникает знаете какой вопрос о вообще уверены что это был бак может это и не баг может быть кто-то просто взял и поменял и знаете какой вывод напрашивается вы как дори факта реки вы можете маленькие рефакторинг и сами делать но когда вы делаете большой рефакторинг пожалуйста скажите об этом менеджеру чтобы он понимал чего ждать ну в принципе все стало хорошо спасибо за внимание может кто-то меня вопросами побалует а кто первый был подскажите пожалуйста когда вы поставили проверку автоматическую при комментах связали что все-таки нашелся разработчик и в итоге вы идете на поводу когда нужно глядите лишь всё-таки вот жестко стола и прямо сейчас стало вот прям совсем жестко а под был гриша больше меня я ему ничего не сказать не могу да нет поначалу на самом деле доклад он такой больше ориентирован в какой-то степени на вас я считаю что если уже люди о чем-то договорились надо соблюдать потому что если будет такой вот разгул демократий то ничего хорошего но не получается спасибо за доклад хотелось бы цифр побольше узнать то есть что было что удалось сделать и за какой срок это очень тяжелый вопрос на самом деле вот женщин смотрят круглыми глазами потому что он ещё не знает что с этим plate of не будет если я договорюсь юрай на самом деле вот стиле рефакторинг где-то порядка выходными нас выходные просто оплачиваются за три за 4 выходных делалась именно сначала начинаешь и тоже не сразу к этому приходишь это именно цель вот этого доклада показать что вот смотрите можете что-то взять попробовать ну по приколу чист и не обязательно что что процентов работает а сначала я сидел и руками пробовал потом на третьем дне мир же я устал у нас есть люди героически они дарт к тане год меркель представляете каждый божий день ты заходишь можешь мастер и узнаешь о том что что то не так но это уже с кодом с таким серьезным но тем ни менее да вот есть такая намного регресса был на месяц я не знаю но на самом деле я тут конечно лукавлю что на месяц просто это была не такая приоритетная прямо задача это верстальщика очень просили именно чтобы они своими ксены вводят им хорошо бы чтобы ну не было дублирования вот этого лес миксины и стайлз миксины ну исчез с так для кучу конечно спасибо да спасибо за доклад такой вопрос о пробовали делать какие-то более структурные изменения ну то есть полис на уровне выше примеру объединить два дерева там сопоставить их вернут как показали пример с применением классов то есть прапорщиков распорядиться поставили их и уже вместе что-то делать и ну вот такие вот пробовали эксперименты делать позже он понял нет я ленивый на самом деле я понимаю и у меня нет к сожалению такого вот прям тяги вот к этому мне нужно просто что все было хорошо и еще есть очень важная вещь которую проход нужно понимать нужно цена у всего есть и вот этот legacy он там лежит грубо говоря с 2007 года и он там еще пролежит 10 лет и никто не никогда к нему не обратится пока что-то не сломается то есть он качественный код в принципе но пытаться туда вкладывать деньги и инвестиции никто не готов конечно алексей спасибо за доклад скрыть пожалуйста вот и крисси я вся проверялась получается руками или были какие-то попытки автоматизировать ввести вот переложить часть задач на компьютер спасибо за вопрос дело в том что я уже сказал кодовая база старая и сейчас мы безусловно вводим вот эти вот автоматические тесты и вот такой небольшой победой было у нас слоеной архитектура именно для фронтэнда у нас есть такой дал им и вот выключили заменили новую версию со старой на новую версию и практически ручные q&a нашли там два или три бага при этом автоматика нашла порядка сотни то есть я считаю это прямо победа ребята вообще молодцы они вот как раз вот этот человек который занимался год вот это он пытался вот эту базу поменять дал а так в принципе что то автоматом нашлось ну естественно что-то не нашлось был баг что мы отпали картинки некоторые и приходилось вот опять же гриша написал классный скрипт который ходит по css и проверяет если там картинка или нет если нет он там ну тревогу бьет то есть все на автоматизация вся на руках такая была и спасибо так считать вон туда еще можно и всей большое спасибо за доклад как ты понял что эта девушка граблями не википедия подсказала вы думаете я в третьяковке но да так а это просто как вы автомобиль автоматизируете распространение хуков по машинам разработчиков лежит не попадают да я понимаю пример такое на самом деле детский и просто чтобы было понятно у нас на сервере хуки все и у нас хоть и вплоть до вплоть до названия ветки статический анализатор вся его гоняет то есть просто сборка упадет но такой немножко искусственный пример то есть вы даете все-таки запушить не хороший код а потом уже сообщаете разработчикам ну что в мастер попадет только хороший код то есть не совсем у нас запах узурпатор ствола нас чуть-чуть демократии есть еще вы показывали утилиту которые делает search или плейлист с этими кривыми ногами вот я не очень понял чем он отличается от просто search & replace который есть в любом и этом истребляем вооружениями тут вопрос памяти вот я вначале про контекст говорил то есть когда мы рефакторинга st режиме мы понимаем что вот сейчас мы ищем переменная прям показывал что у нас есть iv и мы там проверяем что в этом их есть and через n сравнивается это безусловно можно сделать регулярным выражением но у меня на некоторых версиях этого прогона была такая картинка хтмл парс хтмл вид рек xp это очень тяжело потому что если у нас два названия 12 одинаковых названия то без контекста мы можем что то не то три фактора из граца он позволяет какие-то велик . он может сказать что вот эта функция и поищи-ка пожалуйста внутри функции f либо может например сказать что вот эта должна быть объявления переменной и там пожалуйста его поменяю спасибо за доклад очень интересно уже все стали давать звездочки сразу же так и ну все тогда заканчиваем спасибо большое за доклад"
}
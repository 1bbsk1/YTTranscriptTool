{
  "video_id": "V-MdoxGOQ_o",
  "channel": "HighLoadChannel",
  "title": "Путь мониторинга 2.0: всё стало другим / Всеволод Поляков (Grammarly)",
  "views": 2651,
  "duration": 2312,
  "published": "2017-04-22T14:47:58-07:00",
  "text": "всеволод из компании grammar ли приехал к нам из солнечные украины он собирается рассказать про углеродную форму мониторинга вот а именно производную от карбона вот в общем я и вы знаете там очень много метрик в секунду миллион да был да ну в общем сердце во все расскажет всем привет очень рад вас видеть надеюсь я не очень громко говорю если буду говорить громко я буду микрофон моя тема мониторинг опять почему опять потому что я про мониторинг рассказывал на прошлом рот конфи если коротко то меня зовут все васева polyakov тут фотография немножко забрели на я потому что не знаю я не люблю себя есть у меня блок стрелок am я работаю в компании гремели думаю не все наверно значит тот край марли это спасибо это проверка грамматики английского языка ты могильщик пишете текст то он направляет на наши сервера там отправляется на 10 разных других серверов проверяется и отдается обратно там с исправлениями как все исправляется само по себе компании у нас небольшая 4 миллиона активных пользователей только from история семь лет работаем сама купаемся без инвестиций в общем бла-бла-бла сегодня я буду говорить о мониторинге и о метриках вот самый первый просто закрой метриками она к до конференции когда я рассказывал мониторинг я люблю рассказывать о мониторинге я очень люблю мониторинг а мне даже на бейджике написано что я люблю мониторинг спрашивают первый пост что такое метрики поэтому я коротко пробегусь я думаю все из вас многие не знают что такое метрики поэтому извините а просто быстренько проскочу для тех кто не в курсе допустим у нас есть допустим у нас есть приложение в которое так не привык микрофон у которых входят пользователя но что эти пользователи делают они может быть как-то они могут ходить успешно или неуспешно их может быть много или мало для самого приложения время может быть прямо запроса пользователя может быть длина и летом короткая неподходящие соответственно это все выделяется метрику мы пишем данное пишем время краткого снимаем метров нас такая метрик мы можем верить взаимодействие приложений с базой данных мерить взаимодействие приложения другими приложениями лет взаимодействие приложение самим себя там всякие внутренних кодов в это все просто берем записан записан записываем и какая-нибудь гидом мы можем снимать разные системные метрики типа циpкa там сеть рам диски что уровне кстати тут диск почему-то похож на танке я только сейчас это заметил зачем нужны метрики метрики нужны для того чтобы по ним строить alert это знает все метрики нужные для всякой аналитики дебага чтобы понять что творится в том числе всякий бизнес метрика витоге у нас есть сервис сервер окном запущено приложение или то несколько приложений которые пишут метрики плюс пишем системные метрики метрики обычно все пишут в графит ну то есть типа это общеизвестно для всех систем это обычно sdb архитектура графита примерно такая у нас есть relay на которой метрики приходят метрики проходит через карбона и сохраняются в базу данных визбор и давайте поговорим что такое vespa vespa это р.д. ну типа на самом деле это не ради база данных там ссылочку в докладе можно будет зайти посмотреть но типа это орда like база данных у неё структура метре примем такой атом ты пишешь метрика через точку она сохраняется все всп файл и я вот вот так там где-то быть немножко удобнее и все сохраняется с фиксированным разрешением файлики эти все фиксированные размеры с каждой метрика это отдельный файл который хранится в файловой системе принципе это все знают у этого всего есть различное разрешение и потому что нас фиксирован на разрешение фиксированный размер мы можем там изначально задач мы хотим хранить метрики один день с разрешением в одну секунду это будет занимать примерно там дизайн мегабайт если мы храним 19 разрешение в 10 секунд он тоже будут занимать мегабайт это очень удобно поэтому все хранят метрики высоком разрешении если мы храним одну секунду в 361 с разрешением в одну секунду храним метрику год этого занимает примерно 300 мегабайт и на одном надо to the bottom диска это выйдет 3000 метрик это мало и не прикольно потом в три тысячи метрика то относительно мало у нас 240000 сейчас мы планируем число очень сильно увеличить если мы пишем с разрешение в 10 секунд 365 дней то это уже будет 30 тысяч метров примерно это прикольно разрешение кстати может быть фиксированной этом потом можем по возвращении походить 30 дней с разрешения одну минуту хранить 120 дней там так далее но в этом мы сможем ходить намного больше метрик но в этом большая проблема потому что метрики агрегировать они очень просто если допустим многие наверное знают что те же самые histogram и которые все используют их ниф-ниф не всегда можно нормально среагировать и чаще всего этого лучше не делать но тем ни менее агрегация флот ведет по средним обе есть еще другие виды можно делать агрегацию под каждый метрика это в принципе такая короткая вводная информация про вес просто дальше было понятно я решил посмотреть сколько метрик можно записать потому что если чем больше метрик ты можешь записать в секунду тему пробовали меньше incense тебе нужен для того чтобы это все дело терзал вооружился от формы манси блам рокером это наша утилитам я буду сегодня нами так и рассказывать об утилита чтобы собирать docker и mojet очень много прикольного сделали рокер компасом инси блан и в под каждый взял несколько разных tsw просто под это все сделал небольшой автоматизацию что можно было 30 сейчас и потом в принципе я всегда люблю говорить о докера и рокера так что подходите если что обычно архитектура гриффита вот здесь и и приключился сейчас мы будем смотреть что такое карбон если коротко карбон это такая тем к если мы выяснили что ви спорта просто файла на файловой системе то карбон только демон в которой ты присылаешь метрики юных сохраняет на диск но звучит просто но на самом деле когда деревья были зеленые или молодыми или низкими собственно тогда были обычные диски мы не могли много писать нам надо было писать желательно последовательно и желательно большими блоками то что лучше чем больше блок последовательной записи потом проще это читаете проще писать в общем то это все все знают карбона это вот компонент называться как карбон или harbour кэш он брал эти все метрики зафигачить свой кэш нужно какое-то время и потом сбрасывал это все на диск урал другие метрики ну то есть ты пишешь метрика ты грубо говоря пишущих сразу в ram автор из романа просто сбрасывать на диск стандартным механизмом кэша и для начала теста я взял карбон краж по это стандартный компонент на нем работали и собственно все вот это мой вес вообще весь рассказ начался с того что у нас начал не знаю начала не хватать кору карбон кашпо я решил понять где мой в ты чем что где мы упираемся и всю тему прапорщик как самое оптимальное решение понять где где когда упирается карбон qashqai это одноядерные приложения написанные на питоне у него очень много опций в конфе файле потому что он очень старые люди поддерживают много людей до переливали свои разные фичи дефолтный и обычно его архитектура выглядит таким образом у нас есть силы и которые пишут на допустимом доме tense запущено несколько карбона кошель они пишут на каждый из них потому что он одноядерный допустим на четырехъядерном машине мы запускаем 4 карбон каша и именами там abcd мы пишем данное на эти carbon кошками дальше все сбрасывают на vista вроде бы простая архитектура для лот testing это всего лишь зал обычный станции м34 x-large разрешение 1 секунды один день вот опять же про разрешение почему только взял и почему вначале об этом рассказывалось то что как каждый раз когда мы создаем новую метрику вис-вис про записывает файл пример такого размера которые предполагается 1 секунда недель это мегабайт на файл на диск если ну-ка кадра ска добавляется метрика в этом такая одна из проблем графина потом я подключал все лимиты сорта я захотел все-таки не то чтобы он работал стабильно чтобы куда-то переться ну и все остальное ставил по умолчанию и вот здесь к график как растет кэш у carbon каша за например полтора часа до 85 тысяч метров в секунду собственно вот тут можно увидеть что этот маленький взлет и падение взлет и падение так это падения этого начинается дикий дикий взгляд означает что мы не успеваем сбрасывать каждый диск что он просто накапливается к + накапливается информация на диском это сбросить не можем соответствовать здесь вот несколько других метрик например вот здесь у нас число обновлением osu шло обновление обновление обновления бах они перестали и время обновления по уровню короне кроме как мбах мы начали писать и типа очень много так я понял что мы в принципе где-то уперлись так что у нас тут видно дисковые сколько нас было диск операции сколько у нас было записей и вот здесь вот кстати вот как каждый из этих пиков я не знаю от их могу показывать указах указкой вот здесь вот каждый из этих пиков вам сейчас джедаем немножко каждый из этих пиков это когда вас когда я давал быть март пусть морковь команду нагнать тропа то есть это создание новых метрик и это такая ничего себе проблема в общем в итоге я понял что 75000 метрик секунду это максимально флагманской скорость десятых метров секунду что ничего не боятся и в итоге мы упираемся где-то в и опыт может а количество операций у нас проблемная я попробовал завязать штуку spores на обычных дисках мы на мне new new new неудобно писать разные блоки нам лучше писателем большими объемами а желательно все еще создать заранее что потом просто обновлять файлик так типа считается правильным чтобы у нас все было ровненько последовательный могли потом последовали отсчитывать но с ssd и amazon а мы-то в принципе абсолютно не важно если у нас есть кое-то и без там много рандомного доступа мы можем писать куда угодно соответственно можно делать порт файлы с part file to мы создаем просто обычно этом за голову что здесь будет файл и потом пишем его куски когда надо когда придется ну и кажется статейка она обычная и это это позволило получить немного больше метрики я тут за такое включить быть морковку поэтому нам не дошло до стремился 5000 метров в секунду но результат это 120 тысяч метров в секунду флагманская скорость вот вот эти дни на на питоне и ну и соответственно та же самая проблема мы не можем нормально сбрасывать кеш соответственно я попробовал различные к стратегия макс она занялась тем что мы просто накапливаем команда длина очереди скую и скидывая самые длинные очереди это позволило нам написать немножко больше метрик но глобально 90 тысяч метров в секунду это всё равно мало вот тут тут чуть есть небольшой график степун видно что мы очень сильно упираемся в и а я попробовал потуги взял другую htc игра называется наив и это ничего нет не дало при при примерно то же самое примерно также строительство тоже сус 20000 метрика секунду но не знаю в общем я увидел что везде очень сильно упираемся в циpкa много задержек и скорость принципе не очень-то и устраивает а потом до меня дошло ножи и без диски если б с диске то там у нас есть limitation и по и о думаю все кто работал с amazon знаю потому что у них выделяется его поэтому взял попробуй сделать диски побольше 500 гигабайт соответственно больше и операций в секунду выделили ну это не особо помогло на 120 тысяч метров в секунду все упало я остановилась и так по поэт поэтому я решил попробовать другие компоненты как карбона на самом деле сейчас есть их несколько но основное это вот тот который смотрели карбон кэш написано питание второй гол карбон который написан 1 он multi-core ты запускаешь обычное приложение и томсон сразу подхватывает все настройки того он написано гулаге достаточно клёво из того что его легко чуть-чуть у них то есть всякие приколы ошибки у него не много опций для тюнинга и собственно на этом все для лот песенка взял такую же машинку м4 из ларца такое же разрешение отключил макса есть подключал все лимиты по чертам что они не мешали и начал вот тестить и сразу он выдал без всяких опций ведь без ничего 130 тысяч метров секунду это прикольно но не знаю нет недостаточно вот здесь вот есть специальный график опять же видно что мы немножко уперлись в диске то он опять тут тут точно также создавал вот эти вот пике и вот такой даже зато у вас 1000 метрика секунду но это без парс файлов и я про мои ступни экспорт файлов то давайте попробуем их за не приметить поэтому я взял добавил пару строчек кода 3 . закомментировал за это и люблю bolang очень простое то можно буквально влезть в код что-то добавить что-то убрать и она сразу заработает это уже есть в год карп карбон да буквально недавно у ломик это все сделал добавил мои исправление знаю и просто имплементация spore создала увеличение скоростью до 180 тысяч метрик секунду это прикольно это уже интересно и там намного больше чем у карпун qashqai вот здесь на графиках видно что у нас растет кэш сбрасывается развертка сбрасывается растет каши потом когда перестает расти а вот этот ужин означать что мы не можем сбрасывать и так как мы все-таки упираемся в и а я подумал если мы нам надо писать большими блоками чтобы нормально доходило на и bs и то может сделать ограничение на количество файлов котором мы обновляем одновременно то есть если мы допустим будем обновлять за одну операцию за 1 один цикл работы go карбона только полторы тысячи файлов дописывать в них то он будет записан соответствие большими блоками как будет расти и блоки будут увеличиваться это чтобы долго не говорить позволило увеличить скорость до 210 240 метров в секунду но кэш вырос до 31 миллиона записей в каше ну чтож чтобы понимать все что спеша если грубо к серверу вырубится на все в оперативы и но все матерятся это не прикольно опять же к этому есть проблема с доступом если клиент не поддержит к carbon линк и в графике как у нас роскошь как у нас все это создавалось видно что там были пики взлёты падения я это все попробовал по тю-тю-тю-тю тю нить и поигрался ножки с фотографиями и увидел что кстати если кто не играл со своим раками очень рекомендую тема просто шикарно очень крыла попробовал ограничить убрать ограничение на количество операций в секунду но засовывать это эти все метрики не в кэш но не форман каш просто увеличиваете буфер входящий для как карбон к шанс 2000 до 400 тысяч чтобы просто общение париться об этом это достаточно неплохо сыграла вот здесь видно что у нас примерно трудно 300000 как начал расти не остановить или ну так чтобы нельзя было остановить он просто оборот вопрос и я попробовал вот подумал если мы уже можем писать 270000 метрика секунду то может нам поиграться мировой системой как всем известно если вы пишете данные на диск то вы сразу не пишите хадис под этим резервуаром записать файлы на диск после чего он складывает все операции где-то в виде дроби там сложите все операции я не помню точно не буду врать после чего уже по придёт момент спрашивает на диск вот youtube аккаунт recorder тереть его то процент оперативной памяти который можно который система может выделить под вот вот запись и сброс метрик на диск сыграл достаточно неплохо и мы получили 300 тысяч метров в секунду флагманская скорость без и 180 тысяч метров в секунду мы работали фактически без каша но вот здесь вот видно что шло нормально потом и стали создавать больше точек у нас появились дополнительные проблемы такое это принципе все что могу 6 pro car car бункер дальше у нас идут relay вот вот здесь вот они rifle эта штука на которой метрики приходят и потом они отсылаются дальше на карбон и стандартной архитектуры филов так как в графе того самого у него нет какой-то пластилин архитектура у него с этим большие проблемы то единственно что можем сделать для отказоустойчивости и для того чтобы менять перформанс это либо отсылать метрик ну да связи с вашим можем просто слайд метрики и туда и сюда то есть стандартам если у вас архитектур forwarding а мы берем от самой метрику на 1 корж и настройка шантаже метрику если у нас мы можем это все сортировать пробег там что-то нужно мы можем там for вредит на 2 что-то не нужно складывать кто-то вообще далеко еще у нас грилихес такая штука как хэш он при старте рила и вычисляет хэш там здесь несколько разных алгоритмов но не суть не вести вычисляют какой-то хороший и когда приходит метрика она уже вы высчитывается по табличкам клана попадает и на кой бы елена эта метрика не приходят он ссылается на один этот один и тот же карбон cage если мы делаем хэш реплика фактор 2 то получается глубине у нас отсылается на 1 3 потом фиолетовая у нас отсылается на 1 2 и они зелененькой на 1 3 небольшой дальтонизм из в общем тут все просто и понятно карбон cash point точно также написано бетоне он тоже также используют twisted и я потому надо вот то есть я в виде использую одинаковый как конфигурации только для белых и взял уже не так важно памяти взяла c4 sludge взяла там у него же есть гигабитная сетка у него все стандартные параметры и естественно если мне надо тестировать времени на тестировать forwarding мне надо тестировать хаша прикрыла и было всего десять подключение я сделал вид что у нас там к это стоит какие-то 100 стад де который фигачат просто много метрик и был немножко удивлен как это на слайде я что relay просто форварде имеет метрики начал падать на 50 пещеры квестов в секунду на графике на котором без метрики видно что может перестали ну то есть мы перестали расти начались какие-то проблемы соответственно просто взял его в топку взял карбон грн же это такая штука он написан на голландия у него есть выбор да у него есть живые апдейты то есть можно обновлять как конфигурации лев добавлять новую ноту удаляют мода меня всякий алгоритма прямо на ходу и свобода или там по я пиарю у и у него всякие агрегаторы самое клевое что него есть pulling если вы записываете много метрик тает допустим 1 стакан до впадает он там сохраняет их на диске потом когда бог он поднимается он дальше в неваде слайд это прикольно но как оказалось что вот сам этот механизм буллинга и вообще как работает как как он решил планету в голове верни в коде неправильно и мы ноги пока нельзя добился скорость записи только 150000 к квестов секунду потом я увеличивал увеличил увеличивал но трафик не рос это не круто поэтому я взял карбон силы он написан на си у него там вес 20 кг менеджмент потом если что могу рассказать там грубо говоря можно маркировать каждому каким-то определенным хорошо мы заранее и потом если даже меняешь моду он смотрит не на имя анахата моды и может на нее дальше переключаться и здесь у меня уже вышло в полтора миллиона метрик секунду это достаточно прикольно то есть на 1400 я понял что там дальше сколько я не увеличиваю ничего не увеличивается форма скалетта скорость ну не знаю на самом деле по цепи будет видно что нигде никуда не уперся но если мы обратим внимание на скорость мы видим что вот здесь мы уперлись на самом деле это ограничение амазона гигабит truffle а собственно вот уперся в сеть хочу сказать штук карбона и голове очень быстрый go карбон очень быстро поэтому если используете графит надо использовать go карбон и карбон сверла это быстрая штуки которая позволяет визой как можно меньше incense или вопросы писать много метрик томска и лица все такое так вот и перед тем как начал расскажешь только и графит я оставил вот на таком слайде у нас есть сервер этот сервер пишет метрики системой все такое но что делать с у нас много серверов каждой метрика у нас он здесь нет слайда каждый метрика у нас а потом вот моя метрикам целую за что-то еще у нас есть много серверов метрик нам надо между собой различать ну и желательно метрики можно и вообще как эти все сервером между свой различать точно же посмотри который не пишут это может быть роль это может быть различное окружение это может быть различные не знаю теги что угодно допустим для тестирования может быть там так а для и либо или что угодно это все почему можем различать и вроде можно было бы писать метрики ровненько но у нас появляются как контейнере все ставится запутано потому что на одном и том же in снасти могут стартовать разные но до разных контейнера разные сервисы соответственно нам нужно понять чем они могут различаться может различаться окружением ролью треком айпи дата-центром чем чем угодно различий много соответственно можно пробовать это все писать в теге то есть мы пишем точно такой же метрику допустим циpкa . user а все разные между ними записывал в так там дата-центр такой-то роль так а это что еще такое то все становится немножко проще это чтобы потом найти теста быстро вами есть несколько и the influx baby об ntsd бац и они бьют с некоторые из них используют кассандры некоторые пишут в свое опыт с да вот использует лишь bass из еще попыталась они там у них помню тоже к это свой движок и я подумал а надо быть погонять и посмотреть можем ли мы использовать эти штуки в частности взял influx и на кластере у меня получилось за больше всего лишь до 130 тысяч метров секунду и классе риск таких же машинок на котором ты силу графит но у influx и такая тема вот я сразу не обратил внимания потом стало 7 тонн ти-ти-ли дату это в камере меня очень сильно бесит вот на этом графике видно что просто и flux из этих метрик который отправил записал не все и это не какой-то кашне что то еще но он просто тупо не записал сейчас метрик и нет ничего об этом не сказал написал их раз в секунду но то есть ipad тут все все все такой же точно также как везде подписал раз в секунду разный метрика там не одна и та же метод сколько здесь было 130 тыс метрик потом я взял он append из добра пробовал его погонять поднял там кластер из ходу по из из пяти машин и поставил один патент сдп перед ними меня вышло 150000 метрик ну это немного на самом деле если есть пациент с dbf с удовольствием пообщался и и я начал думать как как работают в в вообще вот эти вот опыт с добби которые работают в тегами то что она за записывать данные с тегами это очень дорогая операция если у нас есть допустим файл который можем просто дописывать него строчки это проб просто особенно если этот табличка типа значение дата значения даты то мало данных мы их можем просто записывать если мы пишем с тегами у нас получается значение время и как какой-то так причем теги могут быть разные они могут добавляться на ходу вот вот здесь вот я сделал небольшое разделение что было видно как она грубо говоря мы записали у трех инсов в одну метрику в одну секунду во вторую секунду в 3 секунды каждый раз эти теги могут меняться я начал разбираться как она работает вот например если вы выбрать и и оказалось что хода раз записывая данные любой из этих баз данных она формирует отдельную метрику типа вот из списка ттт газ с самой метрикой и записывает его в отдельную табличку после чего делает компакт компакт операция тяжелым там все перечитывает потом загоняет обратно все начинают то тормозит они очень круто но грубо говоря виток у нас появляется значение время и уже так как отдельное поле то-то таблички и я подумал если мы можем это все вот если мы так записывать это все в отдельное табличке мы можем просто брать эти теги как-то сформировать их структуру и записывать это все в графит то есть мы берем пишем в роли модификатор айпи адрес метрика но тут такая проблема если мы запишем вот в такую жесткую структуру то мы не можем в середину добавить еще один так то есть мы изначально все формирую и держим как есть если мы добавляем новый тех так мы теряем связь предыдущими метриками в тест с тегами у нас такого нету неспроста добавляются все автоматизировано и вторая проблема если у нас докер тому какой то кубер на эти ssd или просто мы хотим запускать разные приложение на родах народ у нас нет такого понятия как роль у нас появляется какой-то препринт и покажу как больше applications мы не можем его составить здесь допустим там до айпи адрес или для чего-то еще и и допустим если мы хотим узнать какие роли на айпи адрес или в dc мы не мы не можем посмотреть обратно он на самом деле можем но там уже будет хакк это не в графит стиля соответственно подумал если мы попробуем найти уникальные штуки ну то есть то что будет уникальная для как к каждого приложения то что будет уникальной для метрики а все остальное мы возьмем и вынесем в теге я так немножко по сисси и сидел и и понял что самые уникальные вещи по которым можем найти приложение на сервере это ip-адрес сервера и имя приложение соответственно мы можем писать api адрес сервера имя приложения имя метрики в графит в то время как вот эту всю остальную дату мы можем писать в classic search у нас будет групповая поиск по тегам в ластики не только бум охранник и не гасить of и вот сам интересно что и апликэйшен и ip-адрес ну то есть допустим мы мы хотим найти все там по два ремонта рот и приложению что-то там мы делаем запрос пластик возвращает список ip-адресов и мы поставляем их в и метрики и приложение у нас точно так же именно приложение у нас есть изначально соответственно взяв буквально за 2 часа написал небольшое приложение которое фигачат данной власти все с каждой машины и вас обычное приложение пиши данной либо связи либо укрепит и мы уже можем найти под тегом поч-почему угодно метрики или можно взять просто написать или все данные сразу писать статистов сзади будут управлять имя метрика ластик search а метрики сами отправлять его в графит но тут внимательный читатель из карт если вы пишете данный власти ксир чьи то почему сразу не писать все в lasix типа если вы пишете метрики власти кк ну то есть вот эти все таки власти делает запишем лунных писать постоянно что имеете к это чтобы можно было их по времени связать между собой теги метрики с самой метрикой но у каждого из нас у нас допустим будет один набор тегов или несколько нибудь обновляться постоянно в то время как метрику вот мы например собирай примерно 33 300 метрики ddr400 metrics каждого инстанса и мы можем иметь различные разрешения властей можем писать допустим с разрешением в одну минуту графит мы будем писать разрешением в одну секунду соответственно у власти выписать меньше даты в графе там будем писать намного больше дата это в волосе писать конечно было бы клево потому что листик он сам по себе прикольно но много власти писать вообще ни у кого не получается я недавно читал статью пацана пишу 24000 ивентов власти в секунду и там пишут эту тему статью рассказывают свои best practice и 24000 это вообще ни о чем хотя все уже из коробки сразу работает графин это самый самый большой плюс просто в grafana там в темпе тенге вместо что брать весной источника fit берешь источником elastic и все то тебя работает прямо из коробки тоже для чеков для того чтобы найти метрика дергая scholastic дергаешь и промбиофит получаешь дату и идешь все это прикольно просто сразу везде работает с коробки не знаю почему мало людей это использует дополнительные штуки про которую я к которому еще использовать тест iq здесь zip zip from the carbon сервер штука которая считает метрики carbon zip который plush опрашивает постеры и carbon api который делает такую математику вот здесь на графике если немножко детальное у нас есть i'll be есть приход данные на краба сирла и дальше она отправляется на карбон и читается он станет vespa vespa файлы читает карбон сервер это все опрашивает как carbon zip и витоге раскоп через корму на пик grafana или там senso то сюда на высчитывает sense у такая мы такая схема выглядит немножко монст розни принципе я вот прошлом году рассказывал про sense думаю нет смысла рассказывать дальше еще есть такая тема для всех любителей графита как баки туз мне ее посоветовали на хэнка цру по моему просто шикарно штука никогда о нем не слышал всем очень рекомендую баки тулз для работы с графитом самая прикольная тема наши планы то сделать пальчики стад де который будет фигасе данные власти ксир чьи и немножко промочить как a carbon сервер он научился работать с кабан ленком и в принципе это все что я могу сказать вот здесь без моих контакты контактные данные принципе это всем спасибо да еще заранее свинюшка прошлом году я рассказывал очень сильно много парков культуры до вокса я сам начале хотел сказать но забыл извините я рассказывал как мы внедряли что у нас там девелоперы просто сейчас предполагают много вопросов это тем мы сделали так что давало право сами пишут метрики вы сами мониторе свои сервисы сами просыпаются ночью сами вот вообще всем этим занимаем занимаются что у нас сейчас дошло до того что у нас вообще опция дело как такого нет мы ему не поддерживать srs и кроме там допустим мониторинга или там не знаю чем сети или что кибла банальной вещи всем остальным заниматься давала поэтому суть такая мы хотим писать много метрик хотим чтобы у нас если мы представляем метре как счас мы хотим что давало про мог согнуть метрик все было ок потом уже мы собираем метрики с front and chris ну с приложение которое начало скрип top-user просто пишут данным и потому гербами опять же пишем метриками выходит очень много вот именно скорее всего поэтому если у кого-то этим вопросом довольством спасибо за доклад скажите пожалуйста чем вы тестируете потому что полтора миллиона метрика секунду вряд ли вы с одного сервера это вы даете мне нет там по моему 20 либо 10 до 20 т 3 сларк а в утиль и халид с ты написал сам на gucci и писать спасибо за доклад сразу много вопросов но коротких односложно во первых не считающий что и без это в общем достаточно режиме понятен для тест там нету гарантированной скорости соответственно теста дальше идут просто как бы по звезде а ну и я делал то все неоднократно и ноги при тут суть не не можно одна сложность и посчитать что достаточно точно не считаю что недостаточно точно или считает что можешь повторить эти тесты на железе вопрос еще тут 8 как они все коротких но хотелось кучу знает ответ от тут очень быстро просто да нет а окей я сейчас быстренько отвечу потому что такая штука диких я забыл про него сказать и без и я использовал обычный я делал несколько прогонов это все не с первого прогона с нескольких и суть в том что разница тут 300 тысяч метров в секунду и 70 тыс метров секунду и такая разница существенна что вот тут это не конкретная цифра стена была 300300 одна тысяча секунд типа бог сказал то конечно предел погрешности дальше второй вопрос насчет независимости создание тесты создавал метрики новые и создавал метрики не новые ты делал отдельное прогону на создание метрика не создания потому что в графе того карбон и других карбон у самой тяжелой операции задойнова файлов даже на графике показала что краска , но непонятно сколько их создается брошу тебя есть 300 тысяч черкесов и непонятно сколько из этих 30 тысяч черкесов создание новый файл вот здесь здесь и делал так я просто всегда что допустим там плюс 1000 метрик ждал пока она все спадет cage ну там и везде я показывал кэш вверх вниз вверх не знает и я ждал пока кажется падет вы станет ровным и добавлял еще ждал пока кажется падет добавил еще нормальный режим протесты не менял количество боевых новых метр я просто добавил новый не добавлял каждый раз определенный одинаково естественно я понял не очень хорош тест так дальше но прям вот ну ладно как я с удовольствием отдельно еще обсужу если какие-то вопросы у меня всегда можно найти вот magic базовый простой вопрос оправданный стек технология а вот собственно вопрос насколько сложно поддерживать вот то все что используется для мониторинга вас команда работает над этим вот сложно ли эксплуатировать это нижняя почин мне все очень просто мы все а вас команда разработок как у вас есть некая команда которая работает над мониторингом или пару людей просто один у нас говорить с 26 человек а потом мониторинг один из них я его сном это все работу включается в том чтобы работать сдавала премию и рассказывать им как правильно мониторить отовсюду поставил работать под спасибо еще раз спасибо все буду перерыв буквально там 35 минут не больше потому что в 1 за доклад немножко спасибо всем"
}
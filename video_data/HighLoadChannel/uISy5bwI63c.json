{
  "video_id": "uISy5bwI63c",
  "channel": "HighLoadChannel",
  "title": "Мониторинг и отладка MySQL: максимум информации при минимальных потерях / Света Смирнова (Percona)",
  "views": 1386,
  "duration": 2950,
  "published": "2018-01-16T12:19:00-08:00",
  "text": "итак мониторинг отладка маску л.а. максимум информации при минимальных потерях кто я такая я занимаюсь отладка маску л я занимаюсь не только отладка май скул но и говорю про не я провожу мастер классы я делаю так лады и я так же работаю в поддержке москвы и вообще моего желания с этими именно с отладкой как инженеры технической поддержки то чтобы у клиента всегда все было включено работ чтобы работали работали были включены все инструменты и когда у них возникает проблема не просто прислали мне ту информацию которую я попрошу и не было такого что вот включите в пришлите пожалуйста у нас нету а давайте ждать следующей проблемой и так но я никогда такого со мной не происходит почему не происходит потому что а потому что мониторинг этого все столько не дешевая это и вот мы сегодня будем обсуждать почему не дешёвая и так видение котлет желание и возможность а все что мы хотим от мониторинга при возникновении проблем а нам нужно получить как можно больше информации информация нужна для того чтобы технос тировать для диагностики конкретного случая вообще дело в чем дело в том что клиенты когда присылают прислать какие то проблемы у них такой сначало с одной частью майского проблема потом с другой и для этого требуется разные инструменты разные струмент ации разной информации хотелось бы конечно же получать ответы на вопросы и в том и в другом случае в то же время никто не хочет чтобы их не прилла их приложение замедлилось хотя бы на на на секунду лучше чтобы она работала так же быстро тем не менее почти любой мониторинг это дорого но сейчас просто голословное утверждение я считаю что стоит с любом случае задуматься о памяти месте на диске процессором времени и всем сразу а почему почему я протестировала протестировала это те теста сделаны на перка на серверы по это могут на оранжевом вы видите две строчки оранжевым это специфический фичи перку на серверы world of mysql сервер и таких фич нету в то же время вся остальная мониторинг какой только возможен включен perfomax кима тут включена и фифу морскими включено все инструменты и консьюмер а второй тесто я сделала с выключенным по максимуму инструментами performa схема выключена все выключено фичи которые доступны только в перка на сервере тоже выключены а perform от стима вообще используете фома схему не знаете что такое performa схема performance кима появилась версии 5 5 там а это база данных которые извините у вас твои поэтому 50 процентов аудитории не знает это базы данных которая синоним майского ласки мо а в которой которые содержатся данные о том что происходит внутри май скул сервера например сколько анютик софта есть версии 55 это было такой информация сколько раз такой тайный деби beautix был его ждали сколько раз захватывали дожидались версии 56 появилась информация о запросах и а запросов то есть сколько строк просмотрено создавались и временные таблицы и тому подобная информация также шагах выполнение запросов это что увидеть обычно в шоу процесс лист также времени который занимает тайная операция версии 57 и функциональность расширилась очень сильно и мне очень не нравится это и было instrumentation памяти instrumentation метаданных хранимых процедур prepared statements переменных и так далее а консьюмер а все были инструмент это то что то что мы вообще смотрим костюмеры костюмеры это таблицы которые хранят данные данные они хранят память размеры их настраивается то есть можно сказать сколько конкретно вы будете хранить в данном случае для теста я выбрал а умолчание включала все и брала у и брала умолчание для контейнеров их можно включать и инструменты и консьюмер их можно включать и выключать под требование но perform at схема должна быть включена как я тестировала я использовала стандартный search рид протесты что это такое это на мульте statement транзакция который начинается с беги на ли старта odzak шин потом есть несколько select и запросов несколько апдейт запросов они совершенно разные там от запросов которые выбирает одну строку до первичному ключу да раньше distinct ray j разные апдейты денсер ты иди лет и вот такой тест и вот результаты когда вся диагностика была выключена красивая зеленая линия такая вверх высоко когда же я включила все instrumentation вижу что ситуация совершенно другая огромной разницы давайте посмотрим о том что будет если мы оставим все все выключено но включим performance схему и включим все инструментах performance ски получилось лучше но лучше незначительно татар анджелине я в принципе с другой стороны о чем нам это говорит и говорит что само по себе perfomax кима со всеми инструментами она достаточно дорогая этот сравнить зеленой линией с другой стороны говорит о том что все другие инструменты они не такие уж может быть и дорогие потому что вот здесь разница она все равно она во сколько до 15 5 в 3 раза но все равно она не по сравнению с разница зеленой региона меньше чтобы немного успокоить что performance кем это не так плохо это настройки по умолчанию я включил еще настройки для диагностики памяти диагностики блокировок метаданных это я считаю самое полезное включение то есть ощущение на самом деле я очень люблю instrumentation переменных но одни из самых полезных включений версии 57 разрыв то есть что-то что я хочу показать этим слайдам что разрыв здесь большой между тем чтобы у нас когда радио классика все включено между тем когда у нас диагностика вся выключена и между тем когда у нас включена только часть диагностики то есть мы всегда можем варьировать что-то еще можно вот смотреть вот по этому графику то что perfomax кима в общем-то занимает достаточно большую часть может быть имело смысл еще попробуйте вот когда везде тут единицы кроме performance кима может быть стоило 5 график сделать так почему же это дорого давайте разбираться опять-таки а вот что на этом слайде на этом слайде видно что все вместе это дорого все выключено это хорошо для производительности но где-то тут есть одна большая такая огромная часть и где куда попадают к как какие-то возможности диагностики которые мы можем включить и у нас все заработать так почему что дорого слуги требуют дискового пространства то есть во первых они могут занять полностью все свободное место место на диске и второй момент еще с ними что происходит то что они должны что один диск вам нужен не только для того чтобы писать логе здесь вам нужно для того чтобы писать данные для того чтобы синхронизировать данные и включении любого дополнительного logo у видео увеличивает количество операций записи соответственно ухудшает в целом производительность май скул который требуется производительный записи mais moi ce que al что делать при нагрузке допустим высокой ссору гигабайт сейчас только на запись то есть а в плане диска пространство тут вариант 1 что просто rotate полисе в плане в плане увеличения коли уменьшение количества записей то есть тут уже все немножко по-другому память следующего этапе perfomax кима требует выделенной памяти для своих таблиц консью миров и что нужно знать про память память припев о морскими она выделяется в 5-6 при старте и 57 при первом использовании но после этого она никогда не освобождается это означает что вы не можете хранить performance кими вообще все я часто к рассказ про perfomax ким у меня спрашивают можно ли там сохранить например данные за неделю потому что выглядит очень красиво очень красиво и таблицы очень красивый красивый вывод нет за неделю там с при высокой нагрузке сохранить скорее всего не получится просто потому что эти таблицы в памяти нет нету никого рационального смысла держать это все в памяти размер соответственно таблиц ограничен informations ким информация схема кто кто был на предыдущем докладе предыдущем докладе дима ленив говорил что информация схема там есть проблемы с памятью и некоторые запросы требует через чур много память о нас сам обсе она хранится в памяти и некоторые запросы а не нужен выглядят иногда как мимо relic например вот пример вот этот баг он к счастью исправлен в современных версий если вы вдруг почему-то использовать версии меньше обновитесь но к сожалению даже в 5-7 где ситуация намного лучше все равно встречаются баги до сих пор новые баги именно с проблемами при проблемам использования памяти informations кима там разные запросы то есть они как то что мне надо сказать немножко иногда даже удивительно что команда морского ракал исправляет эти баги потому что это проблема в дизайне информация схемы опять-таки дима ленив рассказывал про то что про то что 80 они изменили дизайн и должно быть все лучше но команда разработчиков marshall старается это все исправлять но они появляются и это проблема есть и проблем с информацией с кем она звучит в чем заключается формате схема включена всегда но у вас возникает все вопросы когда вы возвращаетесь обращайтесь запросом к ней то есть когда она сама по себе включена она но она всегда включено она никак не влияет на производительность но запрос обращу обращение к не запросов влияет это еще заметно для некоторые некоторые приложения при а при старте к соединение они обращаются либо конформация скиба либо к шоу команда show они зеленкова напитки с информатических фактически если для запись например шоу статус и вы используете информатики money performance кимов 57 и select from информация схема состоит из variables это тоже самое это одинаковые запроса поэтому в общем такие моменты есть perform an процессор a5 таких performance схема performance кем она работает за счет кода который срабатывает при вызове функции несмотря на то что он улучшен в последних версиях все равно этот момент остается и все равно каждый инструмент не бесплатен и я там если поискать на перво на перво на блок я по просьбе своих слушателей на конференции делала benchmark perform адским с включенными разной instrumentation и самые дорогие носим так подтвердились подтверждают и старые бенчмарки это на instrumentation которая которая сделана для instrumentation для инструменти рования шакирова внутренних блокировок new кексов и кода который исполняется очень часто то есть это за счет это просто за счет того что бывает что когда допустим при обращении посмотреть освободился ли тот ли ангиокс или нет и на тебе это делает цикла очень много раз и каждый раз срабатывает вызов performance кима а более какие-то например выделения памяти случается реже поэтому памяти например она более дешевая каждый значит сказала а бинарный при использовании sing белок дополняется добавляется дополнительный вызова в sing присходит блок больше 0 естественно сейф лапшин это не только нагрузка на диск но это еще каждая нагрузка к диску это еще и нагрузка на процессор по поводу sing белок тут можно сказать что у него есть такой workaround когда вы для вас 7 белок равно 1 вам кажется что замедляет а0 вы не хотите потому что вы можете потерять его можно сделать больше единицы будет работать сеть все прокси которые вы можете использовать мониторинга для то для того что они дополнительные слой и соответственно тоже дополнительные просто дополнительное замедление на чисто даже даже без всякой даже если вы не пытаетесь что-то сделать умные нас на стороне прокси все равно у вас по вас будет будет удлиняться путь от клиента до сервера внутренние блокировки а внутри блокировки а есть шоу есть некоторые команды которые блокируют на пришел sleeve статуса но на самом деле блокирует операции по управлению сливов там стоп слоев и так далее можно версии 56 использовать перка на сервере соус состоит из нам blocking либо же просто использовать 57 он там он blocking по умолчанию это сделан work а вот эти вот все голубые голубые клубы и надпись это активные ссылки и в слайдах доступных на сайте будут можно по ним кликать шел бы углубил global state as a с ним известная такая проблема что когда несколько соединений спуска запускает что шоу глобул state as производительность замедляется в целом и поэтому если вы допустим используете какой-то фреймворк который делал спускает что углубил стоит us marine имеет смысл connection pulling и не запускать одновременно там тысячу соединений которые будут это делать либо обновляйтесь до версии 57 про informations кимом то же самое говорили с бинарным логом там такая ситуация получается бинарный используется для дела чем дело то что архитектура моя стоила она несколько уровневая и данные они пишутся движком но для репликации репликация на уровне и сервера она на для этого по использует отдельный бин бинарный лог куда записывает данные как бы получается две копии данных одна копия в движке вторая копия в бинарном лаги и какая проблема получается если произойдет до того как бинар налог записался произойдет крыш может оказаться что данные будут движки они будут синхронизированы с диском то будет все хорошо а бинарном логе их может и не быть и вот проблема сигнал синхронизации они добавляют внутренних блокировок помимо всего остального а приложение с графическим интерфейсом они используют те же самые инструменты то есть это нельзя сказать что вы поставили какую-то мониторинг паузу и она будет прекрасно все мониторит сама по себе она используйте же стоит из в rails она использовать маску и лана использовать системной логе они некоторые используют команды linux performance кима и конечно же и имеет соответственно те же самое ограничения и так как же найти золотую середину ну как мой первый наверно график может сказать что можно запустить мой скол вообще без мониторинга ну вот всем видно lost connection to mars ql сервер daring вере это симптом может быть и крыша то есть нельзя запустится без блоков начиная с минимально необходимых ошибок лука ошибок вообще кроме особенных случаях когда вы используете но он сейф репликация statement там туда пишутся только ошибки и ошибки сервера то есть это не ошибки ваших запросов от ошибки серверов их как правило немного и как правило сильные нагрузки он не дает зато даёт очень много информации в большие вообще первые как бы 1 все что я прошу клиентов и пришлите лоха ошибок поэтому вот он должен быть включён всегда соответственно журнал операционной системы опять таки они содержат вот эту самую критическую информацию поэтому они тоже должны быть включены всегда что-то можно включать по требованию просто такой я что-то можно что-то нельзя general из laugh verilog файла не начиная с версии 5 1 их можно включать по требованию и отключать можно например в какой-то момент например хотите посматриваю вас приложение замедляется на какой-то период нагрузки но очень много запросов и даже если вы включите слова к вере не general к вере лоб вы включили на час посмотрели критическое что-то оптимизировали выключили и на типе мониторы все знают что и не все знают что он женат и деби статус команду все знают что ее можно писать в лог ошибок то можно писать ошибок каждые 15 секунд это бывает полезно когда вы вас какая то опять таки проблема на с вашим приложением которое использует ваши пользователи и хочется посмотреть и уже после того как вы не можете смотреть это все время в реальном времени потому что контексте время изменяется можно посмотреть что там происходит также помогает случае каких-то повторяющихся крышей из связанных например в том числе например сына дебит что там происходило раньше их можно включать их можно выключать написано can search на самом деле can seem берс instruments perfomax кима можно включать по требованию например можно включить performance эскимо с настройками по умолчанию и потом если у вас возникла какая-то проблема включать соответствующий instrumentation единственное только что нужно обращать внимание что perfomax кима собирает данные после того как вы включили instrumentation то есть если вы например запустить сервер с performance ким а потом вы браузите мимо relic и включите ее то а вы не узнаю не узнаете что-то манат куда мимо куда память ушла а до того как вы включение соответствующая instrumentation да это kollection при помощи 5 ставок а вот все то что я говорил это были встроены средствами sql а 505 стол к это любимая утилита пир can support а это утилита который говорил что например когда вы набираете шоу шоу статус или обращайтесь к informations кима обращайтесь к на тебе монитором то есть это вещь это такие команды которые выполняются именно в момент когда происходит происходит проблема опять и стол к обращайся собирает ряд ряд команд moi ce qu'il таких как шоу процесс есть что он же наледи бестий туз и также несколько команд linux которые собирают данные о производительности операционной системы a person системы то есть и и опять таки можно запускать ее можно запускать например как как демон и чтобы это был триггер именно момент возникновении проблемы например вас ответ ответ вашего приложения какое-то большое она может запуститься пятисотку либо количество соединений активных поисков сервера больше какого-то числа тоже можно ее запустить итак давайте разбираться что когда включать динамически значит что можно включать динамически динамически можно включать это general и аудит аудит это фича есть вор около майской enterprise server и платная и аналогично есть в перка на open source и в общем то они достаточно их легко писать вы можете написать свой на основе слову к вере можно включать динамически и на тебе мониторы performance кима инструменты и консьюмер so not perform at схема обязательно должна быть включена потому что если она вас то стартовал service performance кемалов у вас performance схема будет недоступна требуется перезапуск плохо ошибок бинарный требуется перезапуск perfomax кима само по себе то есть без инструментов в зависимости от задачи то есть когда что включаем оптимизация оптимизация за оптимизация запросов что может быть полезно для оптимизации запросов performa схема instrumentation стоит нацисты часу здесь а вот здесь запрос к таблице perfomax кима event statement history это на что здесь интересного она как у нас здесь не не подробный не подробно сейчас доклад об отладке от просто пример здесь интересно показывает все запросы которые не использовали индекса тени не использовали хороший индекс events 3g с instrumentation это вот то что вы видите шоу процесс листам опенинг лейбл стендинг дейта или то что вы видели в шоу profile в предыдущих версиях дима а 80 шоу profile остался его все-таки убрали говорит что папа его убрали в том что это кто небольшого profile пользуется то есть уже меньше народа то есть это было достаточно популярный камней текст ерша на она была очень долго deprecated 57 она есть 80 его все таки не то есть надо привыкать пульс и performance кима и when strangers instrumentation в сиски массе с кем это компаньона компонент performance him a team of набор а представление и хранимых процедур который облегчает работу с performa с кем а все схемы есть представление где тоже собранное запросы которые можно такие как сказать кандидаты на оптимизацию то есть можно вот этим все включать медленных запросов это выдержка из лога медленных медленных запросов его удобно обрабатывать при помощи утилиты 5 к вере дайджест именно вот виде файла можно его еще направлять в таблицу но в таблице 80 и не будет поэтому может быть имеет смысл познакомиться с 5 передач из той работать непосредственно с файлом или бас perfomax кима графические инструменты графических инструмент много я здесь поместила картинку и сквере analytics пера кона мониторинг и менеджмент только потому что это наверное единственный графический open source инструмент для мониторинга а майского серверов здесь для новые запроса показана сколько раз запрос выполнялся это время можно посмотреть explain и так далее просто я не делал здесь мультик здесь один из скриншот вообще утилит много и так веря надеть xpm advance for sql solarwinds вот эти первые два у них есть прекрасные демоверсии на сайтах где можно где успеем перка на мониторах мы решили настолько прекрасная демоверсия что потолкли эта проблема вот именно с этим продуктом я не ставлю себя на компьютере его я иду первым первым делом на demo версию и смотрю что там не так и как оно должно правильно работать в девяносто процентов случаях большего какого-то от еще делать не нужно уже сразу находится ошибка и в чем проблема и как помочь клиенту вот этих уверенно лазера в мае school in the price монитор это от oracal утилита от нее столько видео к вере сына медведково cortex там тоже de ma vie детали картинок и видео есть еще масса других других инструментов с похоже функциональностью оптимизация приложений в целом что поможет это и на тебе мониторы но тут в данном случае оптимизации естественно если вы используете не db performance кима сбор данных при необходимости например запущенные вручную шоу select a room информация схема или 5 стол а если бы завтра забрасывать запускаете вручную подобные команды имеет смысл и собственно что делает 500 имеет смысл запускать их несколько раз с перерывом с перерывом modis где-то 30 секунд до 5 минут в зависимости запускать эти шоу команда то есть чаще и потом сравнивать во все что изменилось то есть такая техника 5 стол к это делает автоматически но он запускает больше чем только два графические приложения опять таки то же самое они используют те же самые инструменты и вот здесь видео бэкграунда это перк она мониторинг от менеджмент опять-таки показано показано в общем то одна из дашбордов есть коммерческие блокировки для блокировки имеет смысл включать методы это блокировку диагностику performance стиме и только таблица методы толок позволит вам узнать какая транзакция держит блокировав держит блокировку какая ждет ее видно в процесс листа какая держит что-то кроме то блокировки метаданных нужно объяснять все знают хорошо и на тебе мониторы на тебе мониторы покажут блокировки которые на уровней no debe между строками на тебе и на дебит print all die blogs есть такая опция то есть на тебе мониторы там есть информация последним де блоки но только об одном а принтер blogs говорит и на тебе печатать ту же самую информацию в лог ошибок но обо всех диалогов которые случаются крыши для крыши имеет смысл вообще вот я написал здесь корда мтс она первое дело что вам нужно вам нужно открыть лоха ошибок и посмотреть что там написано там может быть там будет что почему он на произошел крэш возможно там будет запрос который вызвал крыш но если его нет вы можете если вы хорошо общаетесь дебила можете использовать core dump и имеет смысл использовать general к вере лог почему потому что general к верил то следы повторяющихся естественно крышей а если они повторяются достаточно частые вы но можете себе позволить его включать то есть он не убьет ваш производительность вашего диска в какой смысл там там смысл такой что как записываться дженерик verilog запроса там он приходит ещё до того как он выполняется он уже пишется плохо только потом происходит выполнение то есть скорее всего он будет последний запрос general к вере логе но он уже там будет но потом может произойти crash какая техника работ на работу если вы знаете какой запрос вызывает crash вы можете вы можете во первых послать бах и ждать когда его исправит а можете попытаться переписать запрос таким образом чтобы у вас май скул не падал а плюс он может еще вызывать быть крыши за каких-то проблем с дейта короб шин и вы таким образом найдете таблицу которая к кораблю то таким образом то же самое аудитом в бинарном логе кстати сказать там проблема в том что там команды сменяющие данные и потом он все-таки пишется не до того то есть то есть крыш может произойти раньше до того как будет записан этот самый запрос но можно попробовать неожиданное поведение что я подразумеваю под неожиданно поведением это когда вы пишете какой-то код вы ожидаете что от него результат это возможет быть набор данных либо же изменение определенных struct облиться но результат получается другой чем вы ожидаете опять-таки это general к вере таким образом в чем вообще проблема вот в чем какая ошибка часто бывает у людей которые неожиданно поведение вот у нас приложение она возвращает неверные данные говоришь о пришлите запрос и они присылают код из приложения код из приложения там переменной подставляются еще что-то и совершенно не понятно в результате что будет на уровне маску л либо на уровне приложения там есть возможность записать рау запрос когда виде нраву запрос уже можно понять что реально там произошло бинарный аллах там как сказать если вас statement бесит репликация у вас будет запрос для ru базе пропекаться у вас будет строка но с опцией wear босс вы можете прочитать такой нормализованный запрос где вас колонки будут заменены псевдо именно номерами но можно будет составить хотя бы что вы конкретно получить представление что конкретно вы обновляете и это же понять почему поведение неправильно итоге всегда включаем логе ошибок и системные логи включаем по требованию instrumentation и консьюмер perform at схемы и на тебе мониторы и различные логе general слабой на релог естественно говорю с тобой на релог он может использоваться для репликации поэтому нас ключом если он его и не испортите репутацию ли это вас life которому нету собственного слова то можете его использовать именно таким образом дополнительной информации и все активные ссылки на на веб-сайте будут видны это 1 мая скулди абсент ребус это моя любимая моя любимая страница пользу официального руководства маску л.а. я ее как всегда у меня есть на в закладках это список всех опций и с указанием какие они динамически не динамически где их поменять и ссылками на комп и полное объяснение вторая ссылка это перк он от алкид набор утилит это 5 стол по которым я говорил то часть перка на тау кита и дальше ссылки на популярные графические графические приложения для мониторинга принимаем этапе рукой на мониторинг от менеджмент ссылка на демоверсию там три месяца зайти и покликать и ушел романсе есть еще такой же дима и время для вопросов у нас есть как можно повлиять на скорость обработки баллов которые вот уже опубликованы на ночь воде на ночь поеду с перво на перво на сервер ну я вам тоже могу рассказать как и на но в общем то достаточно просто то есть на самом деле на самом деле с богами там такая происходит ситуация на что в пир кони что ворог и она работает похоже что пустой как бах попала на спад на багдад a bass его нужно подтвердить мы называем верифицировать либо поставить статус confirmed на лан на hdd а для чего это нужно нужно для того чтобы понять что это баг это или нет а должен поставить должен часто это делают support инженеров перка но иногда это делают девелопера кей но очень творог не тоже но реже это за новое то это работа спорта смысл значит а значит какие значит какие сложности почему его не мог нельзя бывает быстро возможно подтвердить а потому что нужно для чего это нужно чтобы во-первых это это бах а не какая-нибудь бага фича то что это бах не duplicate при уже пронизали порченого то что это бах воспроизводится то есть инженер который повторяет бах-бах должен то есть если вы грубо говоря пишите что май-май сервер красоты и присылается stack trace это очень после этого очень достаточно сложно подтвердить а если вы говорите что если я набираю команду 123 после этого происходит крыш это подтверждается за 5 минут далее мы должны убедиться ну очень грубое между этими двумя вариантами есть еще такое разрыв и поддержка занимается еще тем что работает с бах репортёр на то чтобы создать диски с такой что например когда инженер начинает начинает работать над богам он букву взять воспроизвести и и не было так что он пришел а я не понимаю у меня не повторяется и что делать то есть и присылать к вам а вы может быть уже бах репортёрах репортёр может быть уже интерес потерял или уже удалил все даты то есть первое дело для того чтобы на 2 курсе начали работать над исправлением нужно добиться чтобы был статусе confirmed либо вере fight на бак с моей скалку добиться этого проще всего если вы предоставите тест кейс который может просто человек запустить либо отвечать на вопросы и помогать ему составим помочь вам как бы сказать составить текст после того как банк становится в confirmed он дальше идет ну как бы боковым не один а девелоперов инженеров их их тоже не один но во всяком случае их не могу больше багов сильно больше а если замыкает вопрос приоритета приоритета она идет двумя каналами канал и собственно непосредственно инжиниринга инжиниринга и тогда engineering самостоятельно решают что мы хотим допустить справлять это баг или мы считаем что его поток а здесь тут такая ситуация чаще всего крыши они но большинство крыш и которые в релиз версии не в de bach а из про и конечно исправляются серьезные баги справляется если бах допустим с неверными результатами то есть тут уже возникает вопрос насколько кажется кажется инжинирингу это полезно будет исправить есть второй канал канал это платный support контакт контракт и вы просто открываете теги то говорите что вот у нас есть бахнуло чп иди и мы хотим чтобы его исправили но то тоже не все совсем просто потому что бог может казаться вот я у меня любим бахыта 989 бах он не про него даже меня спрашивали как то давным давно делала такой круглый стол на pitch picos то еще это defcon будет 16 17 июня а то ничем зал спички код и вот там пригласили разработчики май скул и инженеры компании с майской ли вы собирали вопросы к и к нему из прошли почему 2 не пофикшен уже много лет общем для того чтобы он все он теперь исправлен чтобы имплементировать потребовалось тревор плуга и где-то 50 других багов пофиксили и еще там больше мы где-то там 40 новых фич то есть это как раз с методы это локи по-моему до то есть грубо говоря борьбах мог быть таким а может быть достаточно простым который быстро исправит но как бы повлиять если при прочих равных вопрос что грубо говоря баг такой некраш какой-нибудь там на средний и средний бах который не очень понятно чем разработчику исправлять и при прочих равных если он не такой что потребует очень много работы to support к на платный спорт контракт поможет пожалуйста да и я сразу отдам наклейку вам я вам даже там ну неважно это настька тебе до пожара проскользить пород это вот по поводу биркун monitoring on менеджмент насколько оправдана его постоянно держать включенным на продакшене он вообще для этого предназначены или не стоит ну вообще для этого предназначен потому что потому что если вы не будете держать включенным то у вас не будет этих красивых графиков и в общем-то не увидеть там не того что там происходит другой вопрос что вы тоже можете контролировать собственную информацию будет собирать вы можете что-то отключать ну да просто и тестил которая не версию там в докере что-то очень-очень сильно начал сажать на этом сервере ресурсы пришлось ну а биби без подробных разборок его выключить ну может быть часто не так на самом деле сейчас спирко на мониторе энд менеджмент как-то очень совершенно сумасшедший развивается я каждый раз там про него что-то говорю на конференцию там появляются новые даже борт и появляются новые какие-то фичи поэтому его имеет смысл держать оттуда это добрый день и спасибо за доклад что остался у меня вопрос а как в итоге какой горит у примерно работы с кашами которые не воспроизводятся то есть понятно если тебя ты ты кто 1 2 3 серых крашнулся нос кайседо сам может подключиться кгб и что-то потрястись но когда сервер просто кажется он дом на время каждом по типу core dump не очень типа себя помогут том что он готовит дофига памяти и даже некуда может банально сохранить к алгоритму и является ли допустим повторяющийся краше аргументом для того чтобы этот баг как-то подвинуть то есть каждый раз прикладывать но выезд актрисы а значит такая фишка с пажами во-первых значит но высокая ни в одном месте courage to celebrate это разных сферах кашица по-разному типа примерно так trace примерно одинаковы ли нет но на разных запросов и на разных базах данных то есть а если значит во первых одинаковые stack trace смысла прикладывать нет значит что нужно делать а я-то понимаю тот же самый запрос если вы набираете вручную вас сервер не крошиться да окей а значит за чего происходит это про то есть имеет смысл конечно если есть возможность включить курдам надо включать куртоп и смотреть core dump и потому что ну все-таки в них больше информации что еще имеется пустой смеет смысл включать дополнительным мониторах вот там или и на тебе мониторы ну performance схема она как-то сохранить данные из performance стима куда-то а включать допустим пмм до этого и мониторить исчез и потребление ресурсов допустим бургас перекрашен там какое-то потребление жуткая памяти еще какой то вы паттерн просто поискать какие-то паттерны которые происходят перед кроша то есть что-то ведь происходит перед крошем из-за чего у вас происходит рандомно краж но естественно и еще один момент конечно же в первую очередь проверить на ford надо это коробкин вашей таблице а вот порода такая община как лучше всего проверять надо этот экшен таблицы массово там есть какой-то алгоритм тоже примерно какие-то тузы посоветовать у кори тут конечно так тут все секты бал который урок новой май скул просто она положит в пир кони можно поставить опцию чтобы он не крошился потому что когда я на тебе находит коробки пейдж он считает что надо крыш сервер можно и на имя checksum использовать чтобы посмотреть файлы таблиц непосредственно для току тебе и май рокса тоже есть утилиты но ну здесь рисуют видно больше надо бы ну собственно да собственно все иначе псом и чек treble какие-то утилиты которые позволяют проявлять что номер ты был space соответствует это когда сыночек сумма она был текст с и там в информация схема есть есть таблиц которые начинаются на слова и на тебе там есть ты был спс там там есть либо списать и там она как раз и есть такие как то верит что типов али правильно хранится ну да мне так понимаю либо воде либо фарина где-то еще проверяет то есть они очень верно как она проверяет но у тебя допустим эта информация может расходиться то что у тебя находится в того спейси и видимо либо влоги либо где то еще но на самом деле если вы хотите так глубоко вы на тебе есть такой проект и найди беру by jeremy колят наберите джереми у него джей кул . талией с толиком у него веб-сайт а джереми coles и он написал утилиты для того чтобы смотреть что там внутри на тебе о-окей пасибо еще один вопрос но он большую сторону экстра бы картуса после перехода на 5-7 как-то нестабильно стал работать инструмент то есть бывает крошиться версия 24 последняя то есть 2323 на 57 вообще не запускается но при этом и не орёт запускается и падает то есть а 24 умирает во время если за время backup а прошло некие изменения структуры то есть alter какой-то таблицы как правило она умирает язык но он баку где тут есть тачпаде но это вот именно непонятно как отлавливаете вот вообще то поищите там есть баг на ночь придет и слуха и в кулуарах я вам его под нужен пытаясь найти и вопрос будет ли еще и котовой copy the куда б к данным за реализован буков я не могу сказать там сто процентов будет ли он или не будет но разговора про это есть вдогонку это может табличная моя проблема но вот в одном из последних релизах 57 р к на них появился мой рокс и там такая ситуация происходит добиться таблицы ну обычным носкам дампом и при загрузке если пользователь не рудовой да ему разрешено базу то есть раньше дамп обливался потом но он ругается на какую процедуру там от моей рокс а вот ту можно как-то вообще выпилить потому что нужно . здесь мой рог да он там не используется но вот она на мой рокс так что значит удар через некие хранимые процедуры связанную с переменными из-за явно рок sdb там с названием рук стб и это все ошо является в дампе получается такая вещь а дело в том что на сколько я знаю перка на сервер сейчас есть какая-то специальная версия с максом а бинарники а в релизнут его релизе именно юморок со там быть не должно то есть если вот это происходит на достать бакс на на самом деле мой урок самодельная общем то он дело в том что беркана богин есть на перку на сервер ночь пензе но марок считалку тебе эта специфическая история и это баг в jira но вы попытаетесь а тут не знаю интернет есть вот сейчас я стоит на ubuntu репозитории вот официальный курс если это официальный перк он овский сервер который релиз наберите там шоу engine stampa и димой роксане должно быть я вам нужно свадьбах потому что это но это просто не правильно поведение чувство песня если это именно так ну да там тоже есть по - такую глушь он не решают ампир кона jira . перка на ком слэш мвр это вот та вот так вот откуда она домой rocks ну в принципе если вы пытаетесь на ланч послать вам напишут что куда его паса ничего не должно быть до этого не должно быть поэтому шлите ждите бах вот ему особенность вот он все спасибо большое"
}
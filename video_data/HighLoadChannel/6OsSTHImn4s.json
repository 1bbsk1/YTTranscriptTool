{
  "video_id": "6OsSTHImn4s",
  "channel": "HighLoadChannel",
  "title": "Информационная безопасность против Хайлоада / Георгий Тарасов, Денис Рожков (Газинформсервис)",
  "views": 748,
  "duration": 2954,
  "published": "2021-10-04T02:45:36-07:00",
  "text": "добрый день друзья приветствую на слышно и даже видно друзья ну откуда мы и откуда взялись на этой конференции док слайда не видно ну наверное с опозданием как в некоторых залах сейчас тут появится те же люди но такой виде фотографии параллельная как раз начну говорить об этом собственно георгий единиц мы из компании газа form service и занимаемся продуктом jit оба это суббота на основе под грейс quelle один из форков со своими особенностями улучшениями так далее но мы не не про наш продукт друзья нас презентация настолько сильно отстает слайды есть слайд есть тут нет а там все видно отлично и соответственно я занимаюсь организации работы самого продукта георгий у нас ведущий специалист и сегодня мы расскажем про некоторые аспекты по безопасности которые в нашей компании наиболее актуально в тех проектов с которыми наша компания работает а что за компания собственно говоря мы отечественные интеграторы и вендор по программного из печенья области информационной безопасности в основном работаем с крупным отечественным сегментом то есть крупной корпорации где безопасность как правило на высоком уровне поэтому для нас это не теоретическое какая-то задача нам реально в наших проектах надо решать задачи которые ставят заказчик и в том числе регуляторы отечественной которые вы наверняка знакомую компания крупная но собственно говоря на слайдах в принципе вы видите о том что и филиалов много и сотрудников много поэтому процесс и не простые продукты делается надолго серьезно почему мы про безопасность будем говорить потому что в продукте и тоба как раз аспекты безопасности на исторических был или как раз проработаны в большей степени даже некоторое время назад мы на безопасности за тащились даже больше чем на перфоманс и некоторые вещи просто вы open source и отсутствуют они собственно даже в коммерческих версиях некоторых иностранных отсутствуют но на отечеством сегменте это просто жизненный необходимость заказчика это должно быть реализовано какими способами какими средствами это как раз проблема разработчиков то есть наши и как раз вот мы прошли сертификацию в стык на 5 d и собственно говоря у нас это собственная разработка то есть команда разработчиков как раз занимается тем что пилит свой продукт собственно вот уже переходим непосредственно зачем вообще этим проект проектом и зачем заниматься этими аспектами ну георгий тут наверно тебе как раз лучше говорить да добрый день уважаемые коллеги добрый день уважаемые коллеги ну и начнем наш доклад в общем там будет немножко технического от по сгрыз и основной вещь которую мы хотели в общем донести до и это устроить как бы такой своеобразный мочи из докладе да у нас с одной стороны во всех проектах есть постоянное требование заказчиков что все должно быть быстро все должно быть надежно но в то же самое время мы почти всегда слышим такие вещи что все должно быть безопасно я сейчас использовал самое широкое как бы понятие этих терминов то есть все конечно детализируется и вот мы решили ну посчитать вообще основное как бы все прекрасно понимают что конечно все информационные системы и базы данных должны работать быстро и надежно но мы в докладе решили посчитать а чего стоит безопасность в хайло иди и вот придумали некий такой доклад некое такое ну может быть соревнования или определить вот долю каждого понятия да у нас есть хай лот у нас есть безопасность грубо кто выиграет вот что важнее ну и что мы будем обсуждать вот у нас значит всем разрабатываем информационной системы до суда является сердцем любой информационной системы и дальше мы в докладе будем говорить только с ума дзд у нас под газ ну плюс наш продукт что там и как бы покажем из наших расширений когда строится в инфраструктуре какого-либо проекта субботы до у нас там есть пользователи вот мы даже нарисовали что у нас есть у нас есть как люди пользователи да так и какие то другие системы компьютерные программы которые там подключаются к сободы у нас есть субботы как центральное звено обязательно должны быть какие-то реплики иначе там какая у нас там отказоустойчивость какая надежность и все это подвергается клонированию аудиту мониторинга то есть вся вот эта инфраструктура должна работать ну и наш план следующий дамы вот осветим четыре аспекта через призму highload против безопасности или безопасность против хайло вода у нас есть подключение к сободы их надо как-то защищать у нас есть много много данных которые находятся внутри субд и внутри баз данных этой субд и их тоже надо как-то защищать у нас есть реплики каналы между репликами ну между главным сервером и репликами и у нас есть аудит всего этого как бы который тоже добавляет сложностей нагрузки и вот собственно цель нашего доклада как сочетаются требования высокой нагрузке и безопасности наш матч до безопасность против холода счет пока 00 давайте приступим сразу хотел бы вот такую может быть в конце кто-то поднимет руку и скажет вот мы здесь выделили как бы 4 раунда у нас будет четыре раунда ну я не очень спортивный человек но с виду за некоторыми спортивными соревнованиями и чаще всего сталкиваются тем что там где-то 3 раунд где-то два раунда ну там хоккей футбол не знаю волейбол баскетбол бокс а вот как-то спорта с четырьмя раундами основного времени ну не знаю да вот если кто-то поднимет руку и скажет что вот такой то спорт приз это просто развлечение итак приступим защита подключениях пользователи или какие-то программы и субд и ну прежде всего во всех проектах когда речь об этом заходит всегда начинается некое проектирование до выдвигается что у нас есть бизнес пользователь пользователь су б.д. часто это ну как бы в разные сущности да есть разные проекты разные требования он так или иначе этот вопрос должен задаваться субд и может предоставлять некоторые api виде хранимых процедур у да все зависит от того как построен проект субботы часто вот со всей инфраструктурой реплики там еще вспомогательные сервера да она выделяется как некий отдельный отдельная сетевая инфраструктура появляются всякие дополнительные слои буллинга прокси и так далее и вот из той простой как из той простой картинки которую я нарисовал в начале у нас появляется вот такой вот монстр да ну все зависит от грандиозности того что вы делаете то есть ну для маленьких проектов понятно может быть нужна простая схема когда у вас десятки серверов еще больше реплик тысячи пользователей то вот все это неизбежно приводит к тому что у нас появляются каскады кулеров внутренняя инфраструктура суббота и и реплик с различными механизмами управления отказоустойчивостью и в общем это уже появляется такая непростая вещь и здесь сразу появляется там ни одно 345 может быть 10 всяких сетевых взаимодействий сетевых конфигураций в которых тоже передаются чувствительные данные персональные данные не знаю банковские данные ну то есть все что угодно что представляет коммерческую ценность защищена различными там государственными регламентами и так далее должно быть защищено ну их что мы чаще всего видим да есть всякие кастомные решения кто-то ставит аппаратные вещи кто-то разрабатывает целые регламенты связанные с порочными политиками кто-то занимается там защитой каналов специальных там со специальным оборудованием но общепринятая практика да и она вот мы видим и в open source и и в открытых проектах и в закрытых проектах это в общем традиционный ссср или его сейчас современное уже развитие этот лес и в принципе все облачные провайдеры да вот все что мы сталкиваемся и не только по фгос это с мтс в каком-то виде то есть все защищена ну и соответственно сразу возникает такой вопрос то есть если у нас вот такая большая инфраструктура кластера и нужно делать безопасные соединения а чего это будет стоит с точки зрения ну хайло да то есть у нас там большая нагрузка но вот все необходимо защищать там разными способами и как бы чего это будет стоить мы обратили свое внимание как бы решили вот померить assn вообще он насколько что он отбирает с точки зрения хайло да что мы знаем про с с или прайс цель мы знаем что это некий такой стек протоколов чуть выше транспортного уровня он дает помимо того что у самого тисе пи есть до некоторой летом сито и он сам по себе дает некоторую лотность потому что в начале происходит scher-khan шейк где та сторона сервера и клиента договариваются о ключах авто модифицирует и так далее и после этого когда все произошло все себя установлена значит происходит уже передача данных и собственно основная нагрузка ложится вот на нижележащий уровень который шифрует компрессируются расшифровывать ну в общем когда уже идет передача данных то вот значит нагрузка вот здесь опять же хан шейк тоже периодически возникает потому что ну можно там раз в час устраивать обмен ключами переназначения ключей и так далее и так далее то есть это ну весьма такой требовательный к ресурсам протокол ну и мы провели простые тесты сразу хочу сказать что вот у нас докладе будет ну разные тесты но вот чем глубже мы так сказать копали в этом направлении тем больше было понятно что тестов можно производить и больше и так сказать милион всяких нюансов возникает с разными конфигурациями поэтому в одном докладе все не осветить мы остановились вот на коротких тезисах ну в чем-то показательных вещах которые и хотим представить то есть у нас но для тестирования в полисе мы все знаем да pg bench как бы там можно воспользоваться стандартным тестам можно написать свои скрипты и у нас здесь ссср и бсср и как бы некая нагрузка то же самое там с установлением соединения без установления соединения на каждую транзакцию ну тут вот некоторые результаты и наш результат общей сразу скажу что абсолютные цифры здесь не важны то есть мы не то чтобы не заботились о каком-то качественном там супер производительности нам было интересно именно в сравнительном соотношение то есть при одинаковых настройках при одинаковой конфигурации что будет стоить что мы включили ссср и выключились цель ну и оказалась весьма оптимистично в общем вот наш ссср вот здесь и наш новый счастлива здесь как видно ну чуть меньше цифры до когда если цель включен и чуть выше процессор на я нагрузка ну опять же там погрешности измерений и так далее то есть есть доля приближение в этих цифрах но тем не менее вот этот результат повторяемые как бы в некоторой степени соотношение достоверно что мы получили в итоге что в общем чем больше мы защищаем кем у нас больше нагрузка на циpкa потому что надо шифровать надо расшифровывать все это математика инструкции ну тайминги понятно к сожалению да ссср это тяжелое соединение она там устанавливается кучу запросов передается туда-сюда все это в общем ну негативно влияет на хайло то есть сколько база данных в состоянии переварить транзакции ну и отдельно вот поскольку у нас и так сказать много государственных заказчиков все они приходят с требованием что вы знаете а у нас там должна быть ну российская криптография не только эрсо аистом и все прочее иностранная ну в принципе вот vs el это называется там enjoy да и можно есть соответствующий реализации где мы можем заменить движок который ну там конечные алгоритмы подставляют и в общем пользоваться российской криптография поэтому явно разницы в потере производительности но не было то есть что там математика что у нас везде одни и те же ну как бы один и тот же набор операции ну только разные алгоритмы соответствии с разными государственными стандартами им вот учитывая что у нас там получились проценты да то есть там не десятки процентов процент и мы вот сделали вывод что ну все-таки здесь highload побеждает да если так можно как бы выразиться да не нужно ограничивать себя вот смотрим в сторону хайло до добиваемся максимальной производительности максимальных нагрузок нужна безопасность возьмем и ссср если нужны там какие-то государственные стандарты ну возьмем там соответствующие средства которые нам это делают и безопасность точнее выполнение требований безопасности здесь ну не окажет такого прямо катастрофического снижение до значит вот работы нашей системе системы поэтому в части защиты подключений здесь бесспорно так сказать 10 и в общем я и здесь на докладах видел значит все спокойно пишут кто знает как это в кузбассе настраивается да и со столь moda very five то есть полная проверка клиента сервером сервера клиентам и как бы все нормально пойдем дальше раунд 2 обратимся теперь что у нас есть внутри суббота да то есть пользователи к нам подключились присылают нам какие-то данные просят какие-то данные происходит обработка внутри сумма д.и. где-то это хранится на каких то значит система хранения что тут можно делать ну мы так несколько так значит примерно разделили на некие группы до на уровне данных то есть на уровне там таблиц ли на уровне доступа данных есть различные методы как можно значит скрывать ограничивать и так далее есть ряд специальных требований и хотелось бы вот несколько слов сказать по каждой группе и если возможно значит показать некоторые тесты того что мы значит успели померить тот результат который у нас получился опять же рассматриваем через призму того что мы хотим хайло да но есть безопасность и вот что чего нам это будет стоить начнем с самых банальных примеров да есть в позу раз уже очень много лет пиджи крипто ну там как бы зарубежная криптография но в общем пока это для целей нашего исследования не очень важно и можно написать такое очень простой пример ну там создали таблички засунули раз-два-три-четыре 10 миллионов записей засунули их в шифрованному виде и вот потом достали в расшифрованным виде и что у нас грубо получается то есть если мы вот там значит включим соответствующие запросы у нас здесь время одна миллисекунда когда все отключена и мы просто достаем данные которые там физически лежат а когда у нас так сказать мы вынуждены пользоваться какими-то функциями шифрования мы заставляем сервер до достать данные с диска расшифровать и отдать в сессию пользователя то почему то запрос и сразу вырастают там 40 в 50 раз вот примерно так сказать статистика да то есть у нас тут какая-то выборка опять же абсолютные цифры не очень важны вот главное воспроизводимость ситуации и точность того что мы делаем то есть есть обычные данные эта колонка а есть зашифрованные данные эта колонка b все лежит рядом как бы таблица записывалась последовательно нет там никаких шумов апдейтов и всего прочего вот мы сначала выбирали одну колонку шли sequence к нам по всем записям и доставали поле 1 а потом шли другим запросам тем же six senses к нам ну сбрасывали кэша ребуфферов чтобы был как бы более-менее честный тест что мы загрузили достали расшифровали отдали пользователя ну и вот вот такие вот данные что все таки вот такое шифрование да ну пиджи крипто конечно не самый лучший пример как бы это как нам так делать но тем не менее это очень серьезная нагрузка на базу и поэтому когда таких запросов придет десятки сотни ну мы сразу получим overload следующий пример вот в часть шифрования это ну много методов сокрытия данных да то есть как бы encryption а есть masking и тут много всяких методов да вот допустим стандартный пост предлагает некое сэмплирование таблиц то есть можно там за simply можно там всякими апдейтами создать ну некую копию и там что-то маскировать можно добавить там шумов случайных данных и так далее кто-то занимается перемешиванием и так далее ну вот для цели нашей нашего доклада нашей задаче это все таки не совсем честно потому что все таки вот такие вещи чаще используют для генерации тестовых наборов то есть когда нельзя что-то делать на реальных данных но это конфиденциальные данные пользователя их никто как бы не отдаст вам разработчикам том что допиливать что-то оптимизировать естественно как бы нужно это все как-то замаскировать поэтому вот ну с точки зрения нашего исследования highload против безопасности или безопасность против файла да это тот же самый результат что шифрование то есть это та же процессор на и время мы там что-то посчитали что то заменили где-то там подменили поэтому вот ну сэмплинг здесь он в общем не играет какой-то серьезной роли следующий тест и пойдем дальше следующая группа у нас есть помимо того что данные хранятся где-то там внутри у нас есть мы можем ограничить доступ чувствительным данным на уровне доступа данным и по сгрыз в этом смысле предлагая там широчайшие возможности есть там избирательная модель управления мандатная но вот частный случай избирательная ролевая модель и мы придумали как бы вот такой тест то есть он ну в чем-то смешной эффективны мы создали 500 пользователей да мы создали табличку которая так сказать содержит 500 полей и не каждому пользу сказали что только один пользователь может читать это поле ну тут соответствующую тестовые функции написали вот она ниже перечислены и получился у нас тест что вот они результаты да мы 500 раз там точнее из 500 вызываем какой-то случайного какое-то случайное число это обозначает что так пользователи с номером таким-то будет читать такую-то колонку при этом возраст должен проверить все свои access-list и а вообще такой пользователь может иметь доступ вот к этому полю там на конкретную операцию чтения и соответственно нижней тест где все эти проверки выключены зная код возраста до мы как бы специально смотрели знакомились как это все устроено изучали что там так сказать кэшируется access-list и там соответствующие типы данных то есть сообщество очень серьезно отнеслись вот к проблеме быстродействия вот всей этой подсистемы проверки корректности доступа к данным но тем ни менее получилась вот такая вот ситуация то есть если мы делаем вот такие странные примеры до создаем большое количество access list of чтобы проверять доступ у нас вот там ну на тесте чтения получалось там 14 с небольшим хвостиком тысячи транзакций а если простите если мы верхний случай еще раз это немножко ошибка на слайдах перемешалось вверх вниз верхний случай это у нас большое количество access листов в нижнем случае это мы просто напрямую как бы выбираем да не проверяя вот это все изобилие access list of поэтому вот получилось примерно 3 процента а верхи да то есть заставляя по сгрыз вот напрягаться по части проверки сложных политик доступа это тоже делает серьезную нагрузку на базу данных и это несмотря на то что все таки все таки большие большая работа проведена по там кэшированию вот всех этих access листов и так далее следующая вещь вот защита на уровне файлов данных то есть у нас вся все данные хранятся в файлах в блоках но мы знаем как устроена в плоскости физическое хранение всех необходимых данных мы тоже вот значит мы разработали некое расширение это пока в определенном смысле им в пеники такой рабочий прототип но это тоже продиктовано требованием наших заказчиках то есть дельта и 3 ст то есть то что данные лежат где-то на хранилищах они должны быть зашифрованы если вдруг где-то там кто-то что-то украл или скопировал не знаю должно быть невозможно расшифровать ну и соответственно по сгрыз позволяет начиная там с 11 12 12 точно появилась можно писать собственные access методы к таблицам соответственно мы сделали некую свою такую реализацию который умеет на лету шифровать и расшифровывать блоки и соответственно на диск уже кладется зашифрованное состоянии наружу пользователям отдается расшифрованной состоянии естественно это вся работа происходит но по мере того как происходит запросы к таблицам то есть естественно когда мы уже отдаем и секс с мет расшифрованная часть она кладется в шарик baker's и там хранится ну до тех пор пока внутренний механизм возраста не решит ее так сказать убрать оттуда и получается так что в общем но мы проигрывали вот здесь ну как бы некие данные показаны опять же абсолютные цифры не важны но при определенных как бы вот тестовых наборах у нас получалось но мы не отключали кэшированием мы там не устраивали sequins канав мы просто запустили вот как есть типе себе вот этот бенчмарк который встроен пока bench и смотрели ну что будет и как бы да вот overheat есть здесь конечно ну еще предстоит нам работа так сказать вычистить вот всякие тесты чтобы более четко показывать абсолютные и относительные цифры но звоночек такой прозвенел что ну все не так просто и как бы вот это шифрование на лету эта проблема еще один момент на котором хотелось бы остановиться и и эта работа в подгрести на чьи-то значит а там по моему если не ошибусь 2015 года во многих современных коммерческих зубы д ну как-то oracle сиквел сервер и так далее есть transparent data encryption то есть вот ты до еды и ну естественно значит ну как мы оставим по сбросу насчет без т.д. разное люди участвовали как бы создание этого прототипа там ну вот в частности значит мы попробовали реализацию от сайбер тех это иностранная компания ну вот они создали некий такой прототип и можно скачать сконфигурировать попробовать ну вот скомпилировать да то есть там мы мик-мик то есть получить инсталляционный образ по сброса запустить его и гонять какие-то тесты значит суть реализации которую вот пытаются продвигать сообществе это два понятия да это transparent это encryption и кмс этакий management system эти вещи они получаются не отрывные чтобы нам что-то шифровать нам нужны ключи чтобы у нас появились ключи нам нужно к эта система хранения выдаче этих ключей контроля ключей то есть ну просто так не придешь и не скажешь вот я там в конфигурационный файл под газ quelle пропишу ключик да ну придет какой-нибудь там администратор котором мы не очень доверяет не очень доверяем и увидим что вот он видит ключ то есть в общем нужно прям вот почему эта фича пока идет вот ну как бы очень много всего сразу надо сделать чтобы это прямо появилась в открытом космосе ну потому что вот сама по себе задача непростая то есть нужно и ключи и шифрование обеспечить и как-то вот на стадии конфигурирование инициализации базы данных все это значит привести в единое соответствие еще значит строить ну предложить комьюнити вот ну коллеги нашего рассказывали олег что у них из джейсоном тоже так сказать вот это все ну требует долгого кропотливого взаимодействия с комьюнити чтобы такого объема задач и встраивать в финальной версии под grass но тем не менее вот эту версию как бы можно просто для себя пощупать чтобы сделать какой-то вывод опять же с прицелом у нас есть база данных которая должна работать быстро highload и у нас есть безопасность это вот такая тяжелая инфраструктурная вещь шифровать все на лету то есть можно собрать протестировать запустить увидеть что там мы is ready to accept connection ну вот предоставить некоторый способ передачи ключа внутрь да ну то есть чтобы соответствующие внутренние механизмы поняли каким ключом значит шифровать и ну соответственно вот результат ну следующие удалось запустить эту вещь удалось пощупать и но основные результаты сейчас я не могу показать ну потому что они у нас получились отрицательные то есть мы ну совсем как бы ушли вниз по производительности и мы поняли что надо глубже разбираться как бы вот именно в этой версии вот со всеми этими элементами но могу сказать что мы получили крайне отрицательный результат ну и в сообществе сейчас вот тоже пока что вот тут твите девятнадцатый год предлагали патч в один комитет 2 3 4 и пока эта работа продолжается то есть по т.д. плюс k мест есть тоже соответствующей страницы на сайте по сброса да где там вот такой вот список туду что еще нужно сделать чтобы вот это все нормально заработало для обычных пользователей администраторов что все было безопасно чтобы нигде не было там проблем утечек и так далее вот ну нас очень эта тема интересует мы как бы вот изучаем исследуем значит как это все устроено ну и подводя итог раунду второму да вот я некоторые вещи перечислил у нас получился такой результат что вот очень большие нагрузки то есть чем больше мы вносим шифрование чем больше мы заставляем базу перемалывать значит данные темы это все сильнее сильнее отражается на нагрузке поэтому вот мы выставили такой результат что до highload есть он ну от него никуда не деться но безопасность не дает то есть всегда нужно придумывать какие-то вот сложные специальные вещи как обеспечить безопасность и не потерять highload в каждом конкретном проекте в каждой конкретной информационной системе что шифровать какой объем данных является открытым какой объем данных является закрытым кому открытым кому закрытым и так далее и так далее поэтому вот второй раунд ну счет 1 1 то есть там был 0 1 здесь 11 highload пока выигрывает 12 давайте пойдем чуть чуть дальше следующий следующий следующая часть архитектуры это у нас реплики да ну что здесь надо сказать здесь по репликам у нас не очень много здесь на наш взгляд но вот две основные вещи да в подгрести мы знаем что и синхронные и асинхронные реплики которая отвечает там за разные предлагает разный уровень не согласованности данных и между ними мы можем настроить сны новый состав соединения между праймари и репликой но опять же цель мода very five ул небольшая по марка ну и что получается то есть в принципе здесь в этой части ну как бы тоже небольшой оверхед то есть если sing синхронный реплики от асинхронных отстают ну значительно да мы заставляем реплику записать данные транзакции в реплике а потом уже отослать клиенту сообщения ну точнее не клиенту праймари сообщения о том что как бы все на реплики зафиксировано продолжай транзакцию там или завершает транзакцию поэтому естественно синхронные реплики это overheat но это опять же как бы плата все-таки за надежность ну а сам по себе безопасный канал между праймари реплика он ну на уровне того же что мы получали между пользователями и главной базой то есть цель это хорошо highload выигрывает вне всяких сомнений тут не может быть вопросов ну и последняя часть да это вот всего этого монстра нужно как-то мониторить беспокоиться о том чтобы собирались правильно и надежно логе хранились аудит вести ну кто куда чего ходит смотрит и так далее то есть ну все кто сталкивался с безопасниками да по информационной безопасности вот мы часто слышим как бы нам надо все и блокируйте все что только можно но опять же если так сравнивать с коммерческими субботы до у нас есть там оракал дано который мы все там значит как бы больно невольно сравниваем там значит масса всего разработана у возраста в открытом доступе есть расширение пиджи аудит кому-то это окажется достаточным опять же в sampo сгрыз встроены различные там широкие возможности по логирования и мы решили вот посмотреть то есть если у нас как бы база работает в продакшене в то же самое время нам надо все все все запросы все обращения к данным каким-то образом фиксировать чтобы это потом куда-то передавалась анализировалась ну и кто-то сделал вывод о том что вот как бы нет утечек нету проблем там того-сего в общем кто то за этим должен следить и беспокоиться ну и соответственно вот лог statement of ничего особенно не провели как бы просто попытаться на определенных нагрузках значит заставить логировать все все обращения все запросы ну и сад но опять же погибнешь там соответствующий тест и в общем я не буду останавливаться на как бы деталь сама методика тестирования на общем обычная ну и получилось так вот если ну как бы здесь сухие цифры выдавать если прям сильно нагружать то у нас ну подскакивала secu потому что эти лаги копились они там буфере zero вались лог коллектор это все там куда-то записывал и так далее то есть это ну были вот была определенная нагрузка на вот это вот виртуальную тестовую машину да то есть ряд тестов мы как бы на virtual как проводили ну и как результат то есть мы получили серьезный overheat по процессору напрягался и в то же самое время у нас там накопилось в два раза больше данных логов чем этого собственно лежала в базе данных то есть тоже такая ситуация как бы вроде данных там два гигабайта мы еще на генерировали там четыре с половиной гигабайта логов и кто-то должен это разбирать ну и получается вот ну часть я уже как бы сказал да когда сталкиваешься вот серьезными организациями где поставленная информационная безопасность ну так сказать выше чем может быть какие-то другие требования ну получается вот получается проблемы то есть логирование не дает хайло оду в полной мере так сказать вот не можем почувствовать highload в полной мере ну поэтому тоже 11 и вот у меня остался последний слайд для того чтобы подвести итоги ну что хочется сказать в заключение мы все делаем проекты направлены на то чтобы все работало быстро и надежно но в то же самое время вот такой даже беглый анализ да опять же повторюсь мы не углублялись прям вот тут можно тестов генерить ну бесконечное количество всяких разными всякие разные аспекты мы попытались пройтись по верхам получили вот такой результат да то есть мы все-таки хайло воду поставили четыре очка безопасности поставили два если эти цифры перевести ну в некое такое некую проект на область да то когда мы проектируем систему получается что у нас примерно 30 процентов мы должны задумываться о том что у нас же еще будет безопасность там с какими-то повышенными требованиями этому сразу надо уделить внимание слава богу что вот ну а сгрыз да это максимальная открытая система и в общем там можно сделать расширение как бы любого уровня функциональности то есть строится в любой аспект обработки данных там на стадии соединений обработки реплики всего остального спасибо огромное за внимание спасибо люди спасибо георгий за такой интересный доклад спасибо вопросы да да сейчас поговорить и части спасибо за доклад рассматривали ли вы возможность шифрование данных перед записью не в базе данных а на клиенте просто если использовать какой-то апиа сервер их может быть много их бы если шифрование там то она будет масштабироваться я понял вас но вы знаете здесь вот такая проблема перекладывание проблемы сервер на клиент может не очень хорошо быть воспринято на десктопе потому что ну что будет там где работает клиент не известно это может быть толстый клиент тонкий клиент заниматься вопросами шифрования и дешифрования на клиенты когда эти данные туда пришли ну вот это опять же неоднозначная ситуация то есть кто то это позволит а кто-то скажет мне извините мы не можем вот тут перемалывать как вот эти строчки там что-то расшифровывать вам а потом уже выдавать куда-то там значит зашифрованную вещь сложно уже при толстом клиенте препон каму клиенту у тебя себя сервер который это находится в вашем контуре уже и вы можете решать дешифровать либо на 5 сервере либо с угадает я понял вопрос вы имеете ввиду что если там и какая-нибудь трехдверная архитектура у нас есть субботы какой-то там applications сервер ну это допустимо но уже это не наша цель доклада то есть мы здесь application server все-таки опустили такое безусловно возможно но я вот тут тут надо добавить что вас появляется еще один контур защиты то есть если вы часть безопасности вы носите еще на отдельный сервер который скорее все физически будет другой то вам кроме базы данных надо будет защищать и ключи и механизмы шифрования в другом месте так же и таким образом вас два объекта защиты и защиту надо будет и там и там тоже организовывать со своими нюансами хранилище ключей например на веб-сервере и так там данные будет перемещаться если они будут шифроваться как базе до этого но все равно как-то должно в защищенном виде да и средствами в базе обычно делается чуть быстрее и обычно проще защитить одно место где-то централизовано чем распределенное у вас будет не один веб-сервера несколько это будет ферма на ферме будет размазана вам ключи на оба синхронизовать между этими серверами инфраструктурный вопрос возникает который также надо защищать и пошло пошло пошло пошло у вас все будет сложнее хотя and wine шифрование то есть управление ключами на клиенте на сервере конечно актуальная тема она сейчас в многих enterprise решениях есть из коробки про индексы это все и так знают друзья еще хотели сказать что у нас стенд открыт и там есть лотерея беспроигрышно если вы подойдете обозначить и стул завтра в 15-20 есть шанс получить полезную вещь здравствуйте и спасибо за доклад все очень интересно познавательно вопрос похоже может быть предыдущему рапторам по поводу аудита вот вы сказали что очень большой warhead при включении аудита на уровне субботы не смотрели на уже же есть лог вал с него снимать данные аудит и или puller например если все не иду через puller писать логе там не тащить это все из базы не нагружать базу я могу ошибиться насколько я помню в вал не записываются перми шины и читая вал мы ну как бы увидим операцию видим что случилось данными но перми шины да не хранятся где-то в других таблицах системного каталога поэтому ну спасибо за вопрос я как бы обращу внимание но вот сейчас я как бы мне кажется не ошибаюсь в ответе что мы в валах не прочитаем перми шины в общем случае это для аудита окажется бесполезной для интерпретации усложнения то есть это реализация допускается но если вам потом развернуть информацию нужно в читаемом виде то когда вы формируете лог все таки можно ну вот мы например делом и прям пишем все что необходимо для расследования и для восстановления а если из голов разворачивать надо понимать уже в каком контексте данные использовались восстанавливать связи то есть вот этот айдишник какой учетной записи принадлежал иногда это отдельная сложная история которую в некоторых случаях мы просто реверсе очень сложно проще писать на лету и потом как бы прозрачно отдал все им и там уже эту корреляцию упрощенном виде там ну понятно как обрабатывать а в файл и все мне отдашь и правил корреляции в системе выявления инцидентов уже будет сложно реализовывать по этого нет нам потом мы обычно пологаемся свозим спасибо и да кстати есть open source опять же аудит хорошие расширение которое позволит более подробно получить информацию которая например ванильной версии с коробки нет рекомендуем друзья у нас на стесняемся еще есть время задать вопросы еще еще вот справа слева спасибо за доклад собственно такой вопрос вы упоминали про российские алгоритмы шифрования насколько они крипто стойки по сравнению с зарубежными аналогами ну куча организация работает по требованиям стек фсб то есть тут в общем ну я как бы не специалист по из когда еда но в общем те регламентные документы которые читал знакомился то есть у нас вот в основном сегмент это все-таки связка нашего инструментария с имеющими средствами шифрования то есть несмотря на то что мы также занимаемся безопасностью разрабатывать алгоритмы шифрования проверяет на crypt устойчивость мы конечно этого стараемся избегать отдельная задача работа математики много есть хорошие продукты фреймворке которые ты решают поэтому в основном наша область сводится к интеграции имеющуюся ну например субд и механизмов с имеющимися механизмы шифрования то есть есть например а из окей используем ну для нас это плагин что то что это засунули туда получили уже преобразуем у информацию которую смело можно хранить поэтому оценка конкретного алгоритма ну вот мы стараемся до этого не доходить потому что ну специфической занятие вот на уровне баз данных своих нюансов хватает вообще было бы странная ситуация если бы не доказали крипто сквозь стойкости это как бы обозвали государственным стандартам россии я думаю что тут серьезно подошли к вопросу о том что публиковать вот для ну так скажем российских информационных технологий для выглядел бы если бы мы давали оценку как крипто устойчивости алгоритм в которой правоохранительные органы рекомендуют и говорят что необходимы студию использовать а про то я надрезал центре пожалуйста добрый день такой еще вопрос вы не рассматривали вариант шифрации на уровне файловой системы то есть вы же говорили что там вы пробовали пишет я не помнит анталию движок самом деле распространённая идея я на первое приходит в голову file encryption и и да такие решения существуют да и они георги насколько них влияет мы да мы написали то есть это пока вот опять же говорю им в питаясь мы исследуем изучаем этот вопрос ну пока нам не удалось добиться как бы нормальной производительности хотя ну вот опять же есть зарубежные так скажем аналоги этой вещи и там показывают что даже еще быстрее чем стандартный пост грыз работает то есть вот вербер подгрузку и я видел тесты вых блогах они показывают что как бы мы шифру и мы это еще быстрее чем не шифровать мне кажется здесь вопрос чуть был глубже и вот эта реализация это как раз шифрование при записи на файл но средствами под гриль когда вы своими конечно вы имеете желание сделать а взять шифрующую файловую систему под капотом есть такие реализации или да точно медленнее будет это естественно также дает просадку по производительности нельзя сказать что это будет значительная просадка по моему учета порядка 10 15 процентов наших тестов было то есть но это файл disk file encryption в общей терминологии но по-моему нас сейчас тестах это отсутствуют мы сейчас рассматривали но как бы для разработчиков postgres и для разработчиков это бы своего решения мы рассматриваем более интересную ситуацию когда у вас есть прям свой контролируемый механизм при записи файлов на любую файловую систему преобразования данных это некая прослойка между самой судьбе и файлы и подсистемы то есть не смотря на то какая у вас файл эта система вы уже храните данные зашифрованном виде вот как раз эту ситуацию мы рассматривали это как раз возможность 12 пузыри там plug-ins историк можно реализовывать стой функциональностью как какая вам нужна что может быть и шифрование то может быть и компрессия может быть что-то другое для нас более интересный кейс хотя выдает да она тоже распространенное в линуксе чаще всего делают что первое что включить шифрование на уровне диска это хищение самого диска предотвратит даст врх порядка 10 15 процентов вот но с другой стороны если вы уже открыли под монтировали файловые системы кто-то имеет доступ к данным то свечение на уровне файлов и не предотвратить и я думаю мы обязательно по мере и в багаж из твоих тестов это сделаем чтобы шифрование прозрачной наука дает хорошие тем он ее расширения доклада и уважаемого докладчика был вопрос по поводу четырех раундов виды спорта я один такой знаю какой как в андон по крайней мере для этих самых командных вариантов там именно 4 все мы знаем из ручки значит если у кого-то есть альтернативы предлагаете да вы подойдите пожалуйста на стенд мы вас но визуально запомним но все хорошо но это еще не все нужно выбрать еще один вопрос точно баскетбола все желающие вопросы задали есть уникальный шанс задать лучший вопрос а лучше вопрос мы лучше зададим в кулуарах время поджимает тогда георгий как ты считаешь какой ну вот это всегда очень сложный выбор никого не хочется обидеть ну вот поскольку человек так сказать предложил тест но pdf да на уровне файловой системы пиджа до серьезный вопрос считаем что хорошая добавка к нашему докладу хорошую тему на следующую зазвал лиза джек-пот человек под сорвал ставим спасибо спасибо вам огромное"
}
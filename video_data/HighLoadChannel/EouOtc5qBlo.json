{
  "video_id": "EouOtc5qBlo",
  "channel": "HighLoadChannel",
  "title": "Total'ный контроль за сотрудниками через Telegram / Ст. Жуковский, Василий Шалимов (Старботс РФ)",
  "views": 668,
  "duration": 2828,
  "published": "2024-10-29T03:08:36-07:00",
  "text": "встречаем коллеги из starb друзья да всем Добрый день всем Добрый вечер А это не женский Стендап на ТНТ да нет мы просто по привычке в прошлом году мы были во второй день это был вечер в зале сидело три человека поэтому мы сегодня будем ки надувать потому что вас больше Спасибо вам большое с вами Жуковский Станислав и Шалимов василей мы себя представили давайте Вы тоже по порядку вот Назовите себя а потом вы себя и так по очереди нет Ладно хватит шуток у нас сегодня в докладе будет много про девушек Ну много же парней тут сидит которые девушками наверное интересуются девушки тоже сидят Поэтому будет много про котиков не переживайте вас не забыли и Ну кого кликбейт заголовок наш заинтересовал вот всё остальное будет только скучнее тоже как бы ну готовьтесь к этому А кликер же у меня есть Вот давайте знакомиться слушайте Ну я понял что мы уже по очереди не получится у нас Да представляться и вы не хотите этого делать так коты там пока знакоми я Вас спрошу Скажите пожалуйста кто-нибудь из Ва вори ходит поднимайте руки Так кто волосы на ногах стрижёт я понял А кто маникюр делает так маникюр кто-то делает хорошо там шутки не будет что вы сразу за переживали так всё так уже приготовились это мы напряжённые вас много а мы вдвоём отдуваться А вот до нас вообще один человек был а как вы записываетесь к парикмахеру к маникюрши WhatsApp так White clients отлично ещё instag а Instagram Instagram Директ приложение Ну в общем как бы наш заказчик он так как-то по помас Бней по унифицированный И если мы с вами ходим во всякие там не знаю магниты Пятёрочки вкусвил и прочие всякие сети про которые мы знаем что это сети а для нас с Васи стала новостью что и в сфере Бьюти услуг оказывается тоже есть сети Это довольно масштабный проект который не только по России стора МНГ уже выходит на зарубежье довольно интересная успешная франшиза где большое количество салонов и в них большое количество мастеров которые оказывают вот эти самые Бьюти услуги вот больше 4.000 салонов красоты в восьми часовых поясах но уже в девяти часовых поясах к моменту сегодняшней презентации Ну и с чем к нам пришёл заказчик Дело в том что Ну понятно Когда вы пришли в пятёрочку там может продукты испорченные Когда вы пришли Куда ещё куда-нибудь в M Видео у вас там не знаю какой-нибудь телефон сломанный продали как вы думаете что может у у руководителя такой большой сети или у руководителей такой большой сети что-то пойти не так в их бизнес-процессах с их салонами Ну давайте я Вас заставляю думать сегодня с утра анм налого Так подали данные по клиентам налого это бухгалтерия мы до этого ещё не дошли ещё какие варианты стрижки сделали маникюр Ну это надо чтобы клиент спал в это время нет там вроде как бодрые приходят Как вы сегодня с утра а не очень лояльные так очень лояльные типа да ладно на всё согласен на одно и тоже время несколько человек пришло круто так запись задвоился Но это вопросы cli как раз ещё какие варианты некачественная стрижка инвентаризация на самом деле там всё проще в том в том смысле что некоторые сотрудники В смысле мастера опаздывают на работу Ну то есть как бы клиент пришёл а мастер Нет вы хотите постричься А тут как бы ну некому вас постричь у вас вроде как маникюр вы торопитесь вам там надо на свадьбу ехать А тут тоже какие-то Ну всё без варикосетте всех увидеть если они ещ не приехали как бы ну можно их подбодрить но дело в том что сеть устроена таким образом что администратор не всегда управляет только одним салоном это может быть несколько салонов в одном городе и соответственно как бы ну лично объезжать салоном просто чтобы убедиться что сотрудники на месте проблематично вот поэтому функциональные требования надо Чтобы сотрудники прислали фотку что типа я на рабочем месте и в общем их очень много 20.000 мастеров за 15 минут до начала рабочего времени и нам было понятно что как бы на вебе и в мобильном приложении мы это делать не будем мы в целом специализируемся больше 6 лет на проектах в Telegram и поэтому поэтому мы сделали быстренько запрос тележки вот начали сравнивать всякие там фотографии вчера и сегодня Ну потому что Если сотрудница отправила фотку в бот то это же полбеды А если она отправила вчерашнюю фотку в бот Ну типа я на рабочем месте Да ну то есть как бы вот там включается сразу Фантазия у людей как бы так такое поэтому заказчик нам сза Слушай нам отслеживать что они пришли на работу Ну и находятся на работе в том в чём они должны быть на работе и ещё это надо делать за 15 минут до начала рабочего времени да котиков то а про девушек мы разговариваем просто все так надеются что мы их показывать будем Вот ещё и показываем и собственно это вот к вопросу о функциональных требованиях про Нейрон вчера нас просто на прогони спрашивали это действительно так это от заказчика было пожелание Давайте использовать Нейрон для того чтобы мы распознавали И делали это качественно сейчас я уже перестаю тарахтеть передаю слово Василию так а перелистнуть сразу как Станислав верно заметил от заказчика была было пожелание использовать нейронные сети потому что это модно молодёжно мы видим в Авито в a.ru в Яндексе в Гугле Да там применение активное работа с изображениями на основе нейронокс три подзадачи было внутри вот этого кейса связанно с изображениями это распознавание стандартов предприятия то есть франшиза держит качество обслуживания и чтобы не сдерживать рост да то есть вот ну активно опирается на it Итак у нас на фотографии есть чепчик есть тапочки которые нужно определить и это один вид нейронных сетей потом и много кейсов и Гугли хорошо вся эта история Да там много кто решал подобную задачу и некое опрятный внешний вид что такое опрятный внешний вид ну Вот наверное как-то опрятно как-то не опрятно и Нейрон в этой части было сложнее всего натаскать да то есть на этот самый опрятный вид и поэтому в если мы классику использовали на определение наличия тапочек и наличия чепчика то наличие опрятный неопрятный вид - это уже использование свёрточные авто энкодеров поднимите в зале Кто из вас кто писал код про нейронки круто надо было больше тегов добавить в презентацию Ничего страшного я думал будет больше и мы устроим баттл в конце Вот и де сайентист такие товарищи у нас тёмные материи отдел специальный с данными специалистами мы туда После заката не заходим потому что никто не понимает как они это делают только верхнеуровневое то есть на низком уровне специалистов не так много и Тайна За семью печатями так вот по поводу внешнего вида это использование СВЧ авторов по поводу тапочек и чепчиков это уже и стандартные либы более-менее стандартные и фильтра для работы с данным кейсом на данном проекте мы применили cuf что такое ow Это с библиотеки T там есть ещ несколько по работе с нейронка но у нас использовался с сочетание с кубернетес кубернетес у нас уже был под капотом потому что кроме того о чём мы будем рассказывать у заказчика достаточно большой проект был в части там учёта админки отчётных там форм То есть это фирма микросервисов и кубер в принципе уже был в стеке и поэтому комфортно было затянуть то что касается нейронных сетей также в cuber так вот ow - это в двадцатом году релиз был сорс на библиотеке там крупные компании над ним работали и призван снизить трудозатраты по поводу обучения нейронных сетей от начала и до конца то есть вот Sci придумал Нейрон её протестировал и выкатил в продакшн то есть вот полный конвейер чтобы был в одном месте в комфортном для специалиста виде Говорят что в 10 раз ускоряет работу де сантим Ну на нашей практике у нас не было де у нас был два два у нас было Два да то есть Поэтому Э мы не можем сказать 10 не 10 но у двое справились А как я сказал несколько библиотек используется это tenser Flow pch и с с Sky Kit Learn Ну tenser про знаю остальные вот мы никогда её не использовали а сама по себе нейронная сеть не в не в новинку для нас то есть мы фотобанк делали и было ра фотографии определения что на фотографии уже да то есть там по Поэтому с определением тематики Ну тематику определяю да те определение тематики здесь глубже сложнее данных больше так вот фу для дантиста чем помог То есть у нас есть вопрос обучения а то есть есть контент который через Telegram Бота сыпался раньше то есть Девочки уже отсчитывали о том как они на работе не на работе как они выглядят и массив входной был достаточно большим и мы его добули и безшовна в кубе в кубе Фло сыпались данные от администраторов вручную разметка опрятно не опрятно опрятно не опрятно опрятно неопрятно и поскольку салонов много и ну администраторов не так чтобы много но они это осилили они осилили и данные собрали да то есть под обучение дальше по мониторингу насколько нейронка ошибается не ошибается что у нас с графиками с метриками в Фло много инструментов мониторинга для того чтобы понять обучила сетка не обучила это в перспективе потребуется вычислительных мощностей для того чтобы пропускать необходимый трафик это всё в капоте но там было сложно Я потом дальше расскажу то есть не всё так радужно как в рекламе есть моменты и по поводу развёртывания также есть туза внутри достав обу Нерон от обучения до доставки чтобы решить конкретную задачу но есть нюанс нюанс В чём когда мы убедились в том что у нас нейронка ошибается Но в допустимых пределах и начали выкатывать в кубер и прокачивать уже боевой трафик перешёл первый счёт за месяц заказчику и заказчик говорит блин а можно что-то ещё ну как бы дорого то есть на данную сетку это выходил счёт больше полумиллиона рублей и А даже обычные нейронки вот из-за того что их три нейронки из-за того что они нагружены Да низкий процент ошибок но какой ценой А и заказчик мы послушали заказчика да то есть не стали говорить а мы вам говорили вот и э библиотека сравнение изображений привязанная к статистике к конкретной девочке девочка обычно работает в одном салоне да то есть редко когда есть вот кто там посменно перемещается по салонам у неё есть любимая поза у неё есть любимое зеркало и она плюс-минус выглядит одинаково и у нас велась задача к тому что подло Ну подложек с того с прошлого дня Либо не подложенным и вот этот вот пилоус погрешность да то есть она позволила отслеживать в допуске и сократить вычислитель мощности в три раза и соответственно Мы поместились в приятный для заказчика бюджет да то есть и снизили нагрузку на сервера вырастили скорость при этом да вырасти в скорость и Поли чуть-чуть высу погрешность но в целом В целом все Остались довольны пилой ко спе такой нечитабельный его же не Видного вид того что когда 2000 строк кода пакуются в 150 Ну вот решая по большому счёту ту же задачу Вот про это и хотел сказать Ну кто вдруг не использовал на пайне Да нас попросили специально тут типа Дайте ребятам какую-то пользу вдруг они захотят сразу себе какую-нибудь ссылочку перейти и пою Вот она есть но Ну всё Мы готовы в прок Ну нет зака знае Какие есть варианты правки Спасибо большое прям сразу мы переживали что будет ответ не сразу Нет сразу требования просто прилетели они говорят слушайте У нас ведь девочки когда сидят они ногти покрасили реснички сделали Бровки выщипали там всё поделать посмотреть так вот нам говорит надо фото Ну вот мы говори для smm потом используем фотографии видосики то есть они отсняли фоторабота можно чтобы бот сразу же типа наших мастеров спрашивал типа Катя у тебя смена закончилось Пожалуйста пришли фотографии сделанной работы или там коротенький видосик с ними мы так конечно да всё как бы кто платит тот и заказывает музыку Но вот к чему Мы пришли к тому что оказывается в Бьюти сфере очень популярны хорошие телефоны все любят iPhone все снимает уже в высоком разрешении и видео в 4К мало того что мы в принципе и так уже присев на на на на количестве запросов и трафике так тут ещё и нам подвали вот такого вот снежку внезапно в требованиях не было хранить хранить фотографии а то есть мы их нейронка Растай сегментировать распознавали всё что Не распознано рассылать в те же каналы ботам администраторам и они э до опознавать эти фотографии валидные невалидные А тут у нас сыпется э доп трафик да то есть который уже не ложится в архитектуру на дисковую полку то есть мы в дисковую полку помещались Вот вот исходя из отчёта А дальше просто ну не хранили удаляли либо снижали разрешение и выносили в архив для разбора полёта Ну там те фотографии которые были не ронко не опознаны тут у нас резко выросло нагрузка дневная она слава Богу была не на утренние вот Когда сдают отчёт за 15 минут до начала рабочего времени эта нагрузка была размазана по часовым поясам и референсы не так часто сли но сли большие файлы большие файлы и без S3 тут уже было не обойтись поэтому тут Без этого никак стати да Вопрос тоже да ве есть ну говорю к ребятам тоже вопрос есть про Вот про Telegram про ботов про ботов про ботов вы же знаете что такое баты Кто знает что такое Telegram баты не нажимают случайно тост большие вот сейчас к этому тоже придём а Кто пользовался какими-нибудь корпоративными Ну в смысле более-менее крупными ботами скажите кто чем прямо Скажите Ну у кого у банка Да там Telegram боты или вот Ну вот В какой сфере Вот кто имел имел опыт использования либо имеет активность Telegram ботами кто работает Скажите прямо название что это было за что это за боты были Ну у нас нет названия это наша внутренняя бу на всю компанию несколько штук там мы их делаем какие-то новые отклики быстрые всё ходит хорошо а они есть на разных технологиях 1S piton тот же airflow там и так далее И когда Telegram работает в целом норм самая наверное такая проблема которую сложно решить когда телега падает А в остальном с отклика наверное нет проблем В стандартное время и нагрузка на боты там которые мы используем она достаточно высокая Угу отлично а кликни котика пожалуйста он сейчас опять А да давай этого да Без раз тоже хорошо ту в другую сторону так вот так так всё он наверное Не сработает уже как это ну и ладно пускай Ладно всё про Telegram здесь у заказчика не было каких-либо ментальных ограничений по поводу телеги потому что уже девочки присылали в Telegram и тут момент только в том что вот это дополнительное требование оно повлекло за собой более активную а при применение Да там этой технологии то есть бот чем хорош он и хорош и плох тем что у тебя интерфейс интерфейс заложен вот в этом диалоге да то есть вот особо не разбежимся Но с другой стороны ты и вынужден креативить в рамках вот этого диалоговой системы Поэтому вот боты темы хороши по Telegram апе да то есть там Telegram бот апе на мой взгляд наверное самое продвинутое на рынке по сравнению с вайбером с ватсапом а с с другими конкурирующими мессенджерами Да вот и всё хорошо падает он редко Ну вот коллега наверное подтвердит да то есть сам центральные сервера редко там долгой ответ А завалив уся я на своей памяти не припомню а единственный момент связанный как раз с то что нам присылают Рен - это большие файлы это видео занимает больше дву гигов и у нас количество соеди науках мы архитектуру так выстраиваем чтобы максимально быстро давать ответ почему потому что это очень опасно когда у тебя девочка опаздывает на работу и шлёт свою фоточку А у тебя Telegram рисует часики да то есть она её 10 раз отправит это вот прямо 100% а если видео то там делов можно натворить поэтому Ответ нужен максимально быстрый вот Иу должны максимально быстро высвобождать да то есть там нельзя нельзя их копить есть ограничение на эту тему а слава Богу Telegram бот подумал о таких как мы и у них есть локальный сервер исходники выложены и компилируется эта история в свой сервер как это выглядит то есть выпускается токен да то есть подвяз к локальному серверу к приложению Вы разворачивать у себя локальный сервер Он снимает ограничение в 2 гига Он снимает ограничение по вебхука и у вас файл сразу приземляется в шару то есть внутрь вашего сервера А да этот локальный сервер по Метрика общается с лондонским балансиром да то есть там ле телего вссм Вот но входной трафик он сразу приземляется у вас в локальную А ваши локальные директории и дальше у нас уже airflow растает по А на балансир на кубер кластер с в зависимости от типа контента да то есть у нас есть ещё раз то есть фи которые для Отта нужны это да то есть подтверждают девочки о том что они на месте и дальше это уже референс локаль вы снимаете ограничение по входящему весу файлов и вы значительно сильнее В смысле значительно ускоряет быстродействие сервиса он не прожорливый локальный сервер нах написанные и весьма весьма нам понравился так и опять про этот слишком быстро А что может ещё пойти не так да то есть это заказчик вспоминает о том что нужна ещё интеграция с класом упоминался и Мы также с ним поработали на этом проекте Да тут у нас не кошечка но не было кошечки весёлой которая хохочет куда-то интегрироваться но сейчас я бы хотел сказать очень важную штуку про то что если вы там сидите хихи и подумали что вам как-то уже Скучновато может быть вдруг Да я напомню что у нас есть во-первых подарок приз там что-то за самый интересный вопрос их будет два один от партнёров конференции а второй от нас Мы в прошлом году привозили там ножичек из дамасской стали от нижегородских Кузнецов и в этом году тоже привезли ножичек только уже не из дамасской стали А из другой хорошей и вот как бы так так вот про Смотрите дело в том что изначально подразумевалось что расписание будет делаться внутри сервиса который мы соорудили и по сути там будут создаваться салоны там мастера и расписание под них и всё такое И это одно из ещё там ну дополнительных плановых направлений как бы развития потому что там будет ещё клиентская сторона но тут клиент сказал что слушайте мы вот тут что-то тут угорели тут угорели и в общем всё здорово и всё замечательно Но может давайте не будем с расписанием мучиться У нас есть всё у нас есть там города У нас есть там салон у нас есть там мастера вот а у них есть давайте интегрироваться что бы нет И мы посмотрели на это апе так и посмотрели на это апе хорошо написано тоже не сказать что вот прям какие-то проблемы с ними были но наш клиент для White не вот тебе прямо самый крупный и под нас никто никаких ограничений метрик по д досу снимать не стал и нам пришлось выкручиваться самим в чём выкручиваться то есть у них ограничение на п запросов в секунду а у нас есть 15 минут на синхронизацию всех расписаний по всем салонам до начала Ну вот глобального отчёта то есть есть по часовым поясам когда салоны начинают работать но есть Москва когда собираются топы и топы хотят видеть что вообще происходит да то есть вот эта синхронизация она была уложена в очень маленький промежуток времени А на каждый салон до двадцати мастеров работает и вся эта история превращалась в такая достаточно а нет нет до баи да то есть мы по запросам пересекаемся это классическое решение там было применено мы его на других проектах отката вся эта тема была да то есть несколько публичных адресов микросервисы смотрит на эти публичные адреса нужно что-то Что быстрее секунды распиливает запросы и мониторит запрос ответ Чтобы не ддосить а заказчика то есть мы необходимое количество поднимаем публичных айпишник микросервис работает от этого пишни дис у нас выступает система очередей да Для того чтобы чтобы быстро отвечать микросервиса есть ли у нас ещё квота на этот айпишник Или уже всё мы всё выбрали и rabit MQ для того чтобы очередь расталкивать и не падала потому что дис может если будет ребут какой-то да то есть там потерять эту очередь Вот так эта история устроена как п как секунду распилить на нужное количество запросов и не ловить DDoS потому что DDoS сразу вырубает долгое количество времени а ждать по 5 секунд Ну не представляется возможным Ну я думаю кто с кодом работает с подобным то в курсе как там Что обычно делаются так проблемы и решения проблема с которой мы столкнулись как мы рассказывали у нас была дисковая полка дисковую полку нужно было быстро-быстро переехать на горячее холодное S3 Слава Богу у нас был уже были уже заготовочка с фотобанка поэтому мы переориентировали поток данных airflow с балансира cuber и использует под капотом уже общение с С3 слава Богу тот Облачный провайдер с кем Мы работали на этом проекте комфортные А по работу с S3 горячее холодное перекладывание из горячего в холодное всё прошло без проблем но всё равно это время всё равно это время и была был момент с этим связа по поводу нам понравилось нашему тоже это 10000 ямкой нужно чтобы эта история полетела нейронки вроде бы как и ближе к людям А всё равно есть довольно много технических моментов и в этом вопросе нам помог соседний отдел как это ни странно это финансисты финансисты тоже используют нейронки нейронки для прогнозирования бюджетирования финансирования бдр БДДС что будет по финансам там по по анализу показателей многофакторного да то есть когда Ну неважно мы сейчас не о финансистах Мы сейчас котиках да то есть вот так вот взяли в аренду их дантисты посадили с нашим и они достаточно быстро настроили конвейер да то есть для того чтобы обучить нужную нам Нейрон работа в Production класика свой gitlab CD при выкатывании в ркр А кстати почему ркр да то есть ркр здесь Откуда взялся вот есть у нас нагрузка и она плавает нельзя просто так прийти без уважения развернуть 100 серверов и весь день их держать пиковую нагрузку утром мы прошли и потом в течение дня никто не трогает эти сервера Это очень дорого да то есть понятно что у кубера он для этого и создавался для того чтобы динамично раздувать пиды поды и динамично их сдувать единственное Здесь нам нужно предо разворачивание то есть нам авто скейлинг от нагрузки не подходил слишком долго да то есть НР Flow Ну тяжёлый да то есть там если не ронки использовать А а и поэтому пред выворачивания по расписанию кубер кластера Следовательно доставка понятна балансиры на входе А тут скорее работает не работает микросервис да то есть балансир для этого использовался микросервисы а внутри кубера конвейер обработки я рассказал по поводу kubeflow по остальным airflow активно использовался для растаяло логирование метрики перед тем как проект запускать понятно что мы прогнали на нагрузочные тесты и сначала архитектуру под эту историю подстраивать да то есть чтобы не делать ненужного рефакторинга потом и на проекте наша любимая графа на Прометей для того чтобы собирать метрики как у нас справляются сейчас уже PL да то есть там PL микросервисы как у нас файлы как у нас дисковые полки да то есть S3 хранилища Как как всё между собой взаимодействует то есть очень любим логи и разборы полётов не любим И когда нам девочка говорит о том что всё шлём ничего никуда никуда отчёты не не это не попадают то есть всегда доказательная база у нас на руках всё есть всё есть не прислала да Итак как сейчас ну собственно сейчас мы соответству заявленным функциональным требованиям со стороны заказчика получаем примерно 20.000 сообщений в день обрабатываем около п гигов фотографии до 200 гигов видео в месяц вот до 1 гиби трафика Ну и как я уже говорил более 4.000 салонов в нескольких часовых поясах Из ближайших планов которые у клиента есть в задумка и так как мы до сих пор проект этот поддерживаем соответственно Надеемся на то что эти планы реализуются тоже вместе с нами Это мультиязычность потому что на текущий момент сервис работает только с русскоговорящими мастерами Ну потому что работать на русском языке Ну и второй момент - это и секретарь это дело в том Ну как бы там вообще полностью как бы клиентский сервис который они планируют реализовать для того чтобы клиенты могли через Telegram ботов ещё и записываться в соответствующие салоны и секретарь в том смысле чтобы это можно было делать не обязательно ручками или там через какие-то дата пикеры а голосом ну типа хочу записаться туда-то и туда-то ну на такое-то время к такому-то мастеру Есть ли свободные слоты тун Да вот Мы уже подходим к концу сейчас быстренько выводы Да А вы там в телефоны как будто бы их записываете выводы по поводу нейронокс нее поработали видно то что технология снижает свой порог и много готовых рецептов которые можно применять в продакшене А так что SkyNet не за горами все все уже этот сторонники мирового заговора должны быть настороже а нейронки всё ещё дорого Наш кейс это подтверждает то что да хорошо да получилось И точность классная но прожорливой такова что на хайлоу может разорить заказчика и какие-то предварительные метрики имеют смысл посчитать на калькуляторе прикинуть до реализации а не после салоны красоты - это весело весело и задорно Мы никогда не видели наш наших программистов таких таких воодушевленный что им прислали девочки огонь да то есть что только не присылают там в куклу Вуду да то есть там этот укан вот иголочками да да да И много много много чего ещё Ну просто нельзя показывать потом потом потом же на YouTube это положит правильно чтобы нас не заблокировали вот поэтому контент да имеет значение для настроения команды клиент никогда так естественно не звучало для нас фраза от заказчика Ой вы знаете тут забыла ко что Давайте ещё доделаем Так что доп требования не не так это воспринималось психологически сложно Next не ты всё у нас всё Мы готовы к вопросам ещё раз жеков Станислав Шалимов Василий Спасибо вам большое спасибо ребят большое за доклад очень интересная тема была на самом деле Ну и Давайте начнём я вижу вопросов очень много Давайте начнём вот с той стороны с правой спасибо спасибо за доклад конечно же Володя Меня зовут два вопроса про хитрых девочек Угу первый вопрос вы говорили что сравниваете предыдущую фотографию чтобы повторов не было да А насколько глубоко вы храните историю Может ли девочка набрать себе ну скажем за месяц-два каких-то разнообразных фотографий а потом их подкидывать ту вы там предыдущие забыли м храним храним мы долго то есть мы на холодное хранилище пока вообще всё складываем да то есть на всякие пожарные то есть не очищая Вот Но меми прилетело по поводу того что надо делать фоточки итогов работ видосики и мы так или иначе столкнулись с тем что у нас всё равно будет как бы вагон данных и те отчётные вещи которые они нам присылают их просто туда же складываем потому что в общей массе того контента который там есть это небольшая часть ни одна хитрая девочка на этом поймана не была нос интерес если они не смотрят эту историю да И второй вопрос похожий на этот рассматривали ли вы вторую степень защиты Чтобы ещё геолокацию не отсылала У нас есть у нас цепочка то есть ну вот Гео с Ну там с погрешностью привязка к салону Спасибо Давайте теперь с этой стороны вот Здравствуйте Станислав Васильев Спасибо за доклад у меня такой вопрос Вот вы говорите проо как раз у меня тоже был вопрос Но насколько я знаю для нейронной сети хорошо работать с тегами фотографий потому что их очень много и они там разнообразные вот Работаете ли вы с тегом времени который создание фотографий потому что это достаточно было бы удобно просто ориентироваться на тег когда она была создана потому что не думаю что девочки сидят и там корректируют эти теги у нас просрочено Ну просрочено фотография не просрочена но мы ориентируемся на который ле нам отдаёт тут скорее учить их отправлять как файл это оче тяжело поэтому мы принимаем фотку как уже ужа тою тележкой за она Да она теги затирает и там в разных разрешениях сразу урл да то есть там и в поскольку она перезаезд А вот Stamp который транслирует да то есть к файлу телеги он пригоден для и соответственно всех волнующие история Наверное потому что мы всё-таки в корпоративных таких историях работаем Это по поводу безопасности как вот вы с персональными данными вообще это а там обезличенная и на самом деле топ-менеджмент не интересует конкретная девочка их интересует конкретный салон что у него там с метриками да то есть там вовремя не вовремя то есть всё это всё равно сводится к цифрам да то есть к цифрам графикам на кликхаус вся эта история вертится А по э выбивается не выбивается да то есть там А если потом ходит происходит уже разбор до персоналия да то есть то это администратор он эту девочку и так видит знает и он эти фотки видел в своей публичной группе А по поводу да да Ну смотри мы просто берём W cence у них есть на стороне W cience идентификатор он вообще ни о чём не говорит и когда девочка приходит в бот регистрироваться ей просто надо ввести свой идентификатор Ну да разматывается на отсылает набор цифр мы понимаем что она Это она и всё там какае-то на соглашение подписывает о том что она будет это всё от нет соглашение подписано на стороне салонов не на стороне Бота Ну это можно реализовать внутри это не сложно то есть у нас есть такие проекты где мы выкидываем там ссылку на ПДФ типа пользователь соглашения нажимаем кнопку дали Вы с ним соглашаетесь всё такое здесь этого нет потому что они это делают в салоне ещё когда устраиваются на работу а так механику хранения СБ проверила что соответствие там закону о персональных данных и Ну всё для нас это технический момент то есть мы не этот не морочить Спасибо так коллеги вы вопросы запоминает Да чтобы потом подарок подарить а можно пишущий инструмент какой-нибудь я буду их записывать Ага вот справа ещё с Дальнего ряда вопрос у девушки Здравствуйте Меня Андрей зовут Спасибо за доклад У меня вопрос из области дата сатанистов сталкивались ли вы с пробле с проблемой дрейфа данных и Если да то как вы её решали прибули модели либо Как вы отслеживали метрики то что у вас начинается там дрей вашей модели мы хотели с собой Санти привести но нам не разрешили поэтому этот вопрос он уже как раз лежит в более глубокой плоскости то есть мне как архитектору нужно было процент ошибок да то есть там и насколько тот или иной алгоритм там прожорлив да то есть вот А вот то о чём вы говорите да там ошибки нейронных сетей и требовалось ли по слоям там переобучения возврат на начало мы до определённого момента обучали Нейрон вот по поводу чтобы эе переобучения остановили да то есть остановили и эту Нейрон выкатили в продакшн то есть вот этот глубоко системный вопрос можете у нас же там наши контакты есть отправить я перешлю дентим и я думаю они с удовольствием с удовольствием расскажут Да так Следующий вопрос я видел ещё сильно Заранее с первого ряда Здравствуйте меня зовут Алексей компания ВН Мой коллега Антон хочет задать вопрос Здравствуйте меня зовут Антон у меня был вопрос а почему бы Вам самим не делать эти фотографии или не поставить камеры с умом зрением пробовали вы считать обрабатывать данные там на местах и уже отправлять обработанные фотографии Хорошая идея Кстати мы улучшаем ваш продукт и продавать клиенту Где находится сотрудник в течение какого-то времени что он там делает как бы ну вот я думаю он коррелирует с как раз сохранностью персональных данных То есть если мы поставим следил то это уже в другую плоскость Ну следики да В целом в целом другой уровень продукта сотрудникам заказчику Ну и тут момент Они за полмиллиона нам как бы сказали ребят дорого да то есть а если мы 4000 салонов камеры и там низкое разрешение не прокатит да то есть там чтобы девочку опознать и там типа Вот зеркало где она фоткается ставится какой-нибудь фонарь и обычная камера и всё подошли туда есть же системы контроля там сотрудников где палец прикладывается просто по сути тоже самое комп фоторабот видео работ вот это вот всё то есть там как бы у нас в бате реализовано довольно много элементов бизнес-процесса и опять же идея исходила со стороны заказчика раз второй момент как бы это то что а какие-то решения которые касаются железяк не совсем наш профиль потому что мы всё-таки с телегой 6 лет дружим Вот и поэтому как бы нам в голову такая идея не приходила вот встречный вопрос к вам Почему у вас как бы клиентский бот помер в телеге не очень понятно потом разм это в дискуссионной мы обсудим да Давайте следующий вопрос вот справа Спасибо Сергей компания ядро вот у меня такой вопрос он больше про бизнесов часть А когда всё хорошо то всё хорошо а я так понимаю бывают Ну тем более когда сеть большая бывают нюансы что девочки там подменяют друг друга там одна не вышла на работу другая Вместо неё Я так понимаю у вас где-то внутри есть группа людей которые следит за тем что это именно та самая девочка например или решает вот такие вот вещи что вышла Не Та девочка как вообще в принципе у вас это всё устроено нетт нет Ну у нас Мы не салон мы разработчики да то есть мы под заказчика делали заказную разработку вот поэтому тут за этику вопроса Ну не сможем вам ответить по бизнес-процесс если говорить конкретно про механику да то есть то до конкретной девочки если она злостный нарушитель добирается да то есть вся эта история А так ещё раз эта история нужна была топом кто контролирует выдачу и отзыв Франшиз и поэтому им вообще в целом по салону косячат не косячат а салон уже дальше со своей девочкой сам разберётся да то есть там ну вот что она им выбивает показатели из месяца В месяц злостный нарушитель да то есть там оно всё равно в на вот местном уровне всплывает у них у нас не входило в задачу там ловля девочек да то есть там нам нам нужно было именно общие метрики собирать собирать их быстро в очень жёсткие рамки да то есть вот нельзя раньше нельзя позже да то есть вот вот вот ворота да то есть в эти ворота куча контента сыпется медийного контента тяжёлого контента а администраторы они не вывозили уже на тот момент да то есть рос это ограничение роста Ну салонов вот и всё но в целом на самом деле вы правы на стороне заказчика есть определённая структура kpi под который они сейчас девочек подводят но опять же там важно не то чтобы одна другую подменила и не подменила это не принципиальный момент принципиальный момент - это чтобы клиент был обслужен То есть как бы чтобы опоздания не было То есть даже если ты опаздываешь но теб кто-то подменяет это ок вот ну и кстати тапочки то у неё всё равно есть даже если она подменила да то есть там там как бы важно Вот именно Ну как бы процент попадания в kpi если она там за месяц опоздала три раза там условно это там в пределах нормы Тем более если е подменили клиент никаких негативных отзывов не написал то вообще всё хорошо Да вот уже очень долго Человек просит просит Да сейчас вот Меня зовут ан у меня похожи вопрос у коллеги Вот с первого ряда хотела спросить не рассматривали ли вы на этапе архитектурной проработки такой вариант что вы купите просто устройства определённым образом их настроите и будете как бы контролировать разрешение фотографии работу этого Бота с этого устройства и просто в салоне будет телефон с которого люди будут отправлять фотографии так было бы наверное проще Ну как бы с точки зрения унификации стандартизации и у вас возможно была бы готовая технология на продажу уже другим у нас парадигма другая к нам клиент приходит уже в принципе с более-менее сформированной идеей То есть он не приходит с запросом А как бы мне контролировать своих сотрудников в салонах они пришли в принципе с идеей от того что у нас есть куча чатов в которые девочки сыпят кучу контента Как нам это автоматизировать мы говорим можно сделать Telegram Бота они говорят Интересно а как это будет работать дальше мы начинаем обсуждать какие-то возможные бизне бизнес механики и это решение оно вытекает как бы из того профиля в рамках которого мы работаем Мы не работаем с хардвар дми решениями поэтому как бы мы пошли туда и у нас камера не закрыла бы Geo нам нужно было ещё Geo Она ну она подбегает уже к салону или она уже в салоне да то есть камера внутри уже салона вот ну и вот эти вот момент с Geo то есть Ну чтобы передавалось А то что она к Machine Learning подбежала к устройству да то есть ну тут вот как раз да этический момент то есть вроде бы не хотелось за ними следить напрягать их сильно да то есть вроде бы у каждой телефон в руках да то есть там свой личный и как конфетка то что вот референс вы скидывает будет публично на всю компанию раската Да АНО у неё всё равно телефон в руках вот всё время в руках Ну кстати там даже хохма есть в алгоритме опроса за 15 минут до того как она должна выйти на смену Вот её спрашивает там Елена ты приехал уже на смену она отвечает Нет он ей говорит поторопись пожалуйста Ты должна Успеть к тому-то и тому-то времени Ну и там довольно много вот этих текстов написано то есть он пытается шутить да то есть на эту тему до определённого задержки потом уже жестит Давайте знакомимся по кругу и всё такое дадада Спасибо за вопрос и последний вопрос первого ряда Да очень давно руку тянут Да спасибо А вопрос об инфраструктуре первоя если можно примерное количество ядер на Когда будет пиковая нагрузка У вас сколько ядер куда занимает конфигурация второй думали ли об смене провайдера когда прил вопрос об оптимизации и трей и если сейчас с нуля бы считали бы конфигурацию прода насколько бы смогли бы попасть в целевую или же Насколько сложно считается конфигурация для нейронки у по ядрам блин я не помню ну я сейчас наверно могу просто неправильно сказать то есть опять же если напишете то я подниму метрики да то есть попали мы на 30% то есть когда нагрузочное тестирование давали Да и то что получилось потом по факту потому что Нерон несколько раз до вот коллега там спрашивал да она тоже да то есть мы на тестовых данных всё нормально начинаем выкатывать продакшн ошиб Ну процент не попадает в допуск да то есть там и запускали заново за обучение поэтому тут вот отследить насколько вот от самого старта да то есть там по железу по ядрам сколько мы прогнозировали до самого финиша доп требования там какие-то да то есть там салоны по-разному там контент Ну в общем много нюансов Вот и тут по ядрам это напишете Я посмотрю по э по по по попаданию 30% то есть мы на 30% помирай Мы в неожиданных местах потому что часовые пояса и кажется что ну там условно говоря там мы сейчас распределим как-то так усреднённый всё будет норм вот потом э ну как бы надо было сразу себя резвиться тем что в рамках Московского часового пояса будет наибольшее количество салонов это раз второй момент наибольшее количество сотрудников в рамках Московского же часового пояса и поэтому как бы 9:00 утра Для большей части сервиса По Москве это это самое тяжёлое время Ну и опять же мы на нейронка ошиблись 30 раз да 30% а потом в три раза сократили потребление поэтому заказчик всё равно Ну Профит остался для него относительно того бюджета который на проект он закладывал А зачем то есть ну у нас у нас хороший Облачный провайдер который спонсирует ВМ это мее ного с работали с мегафоном и с телом и с Яндексом да то есть вот но остановились на Том который нас это на котором остановились Давайте предлагаю на этом тоже остановиться коллеги Спасибо большое за вопросы у нас ещё осталась небольшая активность по вручению подарков Итак ребят лучший вопрос лучшие два вопроса и первый подарок от нашего спонсора Газпромнефть кому достаётся выбирай я не сейчас мы посмотрим кто раз Кто останется и оставим подарки Давай вкусвил вкусвил давай в вкусвил один подарок и второй второй вот молодой человек ребят хелперы пожалуйста подарок сюда и вот парень на этом про бизне стандарт нет ножик второй будет Вот молодой человек Давайте сюда Да или ко Да нет нет нет нет вот вот Да спасибо вам за вопрос на самом деле очень круто рассказали бизнес-кейс шикарно сде Спасибо что пришли Мы не ожидали столько народа Да похлопайте пожалуйста это ещё не всё у нас есть подарки для спикеров тоже после которых они пройдут в дискуссионную зону Где вы можете продолжить ваше общение Поэтому пожалуйста коллеги передвигай не задерживайте спикеров в дверях Дождитесь в дискуссионной зоне А сейчас подарки для уходим уходим Ой спасибо спасибо большое спасибо спасибо большое за доклад действительно очень интересно"
}
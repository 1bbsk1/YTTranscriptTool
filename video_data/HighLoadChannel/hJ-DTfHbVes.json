{
  "video_id": "hJ-DTfHbVes",
  "channel": "HighLoadChannel",
  "title": "Нужно ли внедрять DevOps? / Андрей Шорин (HeadHunter)",
  "views": 279,
  "duration": 2750,
  "published": "2017-04-22T14:48:02-07:00",
  "text": "спасибо большое что пришли многие из вас приехали из других городов а москвичи выбрались за город и для мы скачает и может быть даже более серьезные события чем для других приехать из другого города кто-то из вас заплатил 20 тысяч чтобы сюда попасть или сделал больше убедился руководство заплатить за него деньги вы добрались сюда пришли в этот зал и пришли на мой доклад спасибо вам большое неужели все это для того чтобы ткнуть со своей ноутбуки и телефоны и видеть там все то же самое что вы видите каждый день я предлагаю попробовать закрыть эти ноутбуки потому что здесь может произойти что-то новое здесь может произойти что то что вас изменит когда заходит речь об улучшении работы службы эксплуатации то популярным на сегодня ответом будет devops и многократно повторенное модное слово мало что объясняет я расскажу как эти изменения произошли в нашей компании и наш секрет а вы знаете да как устроена работа службы эксплуатации значит бизнес придумал какую-то штуку которая будет ему полезно потом менеджер продукта дизайнеры менеджер проекта архитектор и вся эта махина запускается и начинает работу разработчики разработчики перед проект месяц два или несколько маркетологи запускают рекламу новые фичи продажники продают баннерные размещения персонально рассылка по клиентам произошла все в курсе все готовы но не эксплуатации и вот вы когда утром рисуйте себе радужную картину завершение проекта и буквально на крыльях несете свою задачу на выпусков флотацию то вы что совсем что ли неузнаваемо изменились это не заработает это нельзя выпускать на пруд поэтому опытный менеджер не только знает правильную марку напитка ну и к вечеру приносит ее сисадмином это mitigation рисков классический вариант поэтому однажды на ежегодном слёте собрали всех руководителей поддержки руководителей колл-центра продажников менеджеров продукты и менеджеров проекта поставили перед ними руководитель эксплуатации и разрешили говорить все что они думают и вот наши показатели изменились если три года назад показатель доступности сайта был 99,6 процента то сейчас это 99,9 процентов я кстати в конце дам ссылку на слайды поэтому вы можете посвятить себя тому чтобы просто смотреть слушать и наслаждаться это значит что 13-м году 8 с половиной часов в квартал сайт был недоступен или работал неверно сейчас это два часа и одна треть за три месяца при этом критерии того что такое сайт не работал ужесточились это общая картина как же это произошло сначала мы формально определили что такое аптайм и down time следующим шагом было начать регистрировать инциденты и мы научили наш мониторинг заводить задачей в жиру и регистрировать время начала и конца инцидента мы стали анализировать причины инцидента когда мы увидели что во многом причина в качестве кода мы захотели увеличить покрытие функционала сайта авто тестами и чтобы увеличить управляемость релизов то есть уметь быстро его откатить или накатить hotfix автоматически предсказуемо и время мы переписали наши скрипты выкладки и на основе этих скриптов создали тестовый стенд то есть мы переработали наш тестовый стенд и те же самые скрипты выкладки что и в бою работают на тестовом стенде в том числе вместе с пакетами которые собираются изредка тестируются и файлы конфигурации дальше логичным шагом стала исследовать поведение наших приложений в мониторинге чтобы понять какая часть сайта требует доработки это общая картина посмотрим детально формально определить что такое аптайм и downtime и автоматически регистрировать эти инциденты это во-первых сэкономит вам время и внимание во вторых позволит избежать разночтений потому что одно дело когда сайт не работает у десятка мелких клиентов у которых даже персонального менеджера нет и совсем другое дело когда у крупного холдинга сайт не работает правда вы чувствуете проблему сама объяснение того что считать downtime им сайтом занять дни часы и недели поэтому мы собрали вместе технического директора руководителю службы эксплуатации и они договорились о том что формально считать down time on три года назад мы решили что 60 ошибок в секунду это тот предел когда будет автоматически регистрироваться инцидент ему утвердили это решение генерального директора чтобы опять сэкономить время на обсуждение и мы пошли дальше мы научили наш мониторинг регистрирует событие в жире время начала и время конца инцидента как я уже говорил и связи с этим мы можем проводить анализ вы знаете как компании грузоперевозчики борются за безопасность и за экономию топлива они устанавливают gps регистраторы на свои грузовики и если дальнобойщик хочет обогнать трактор то он может это сделать но со скоростью не больше 90 километров в час потому что иначе это будет автоматически зарегистрированный инцидент и произойдет внутреннее разбирательство на фирме поэтому когда мы заботились об тайном сайта немножко тороплюсь мы стали автоматически регистрировать эти инциденты которые сначала формально определили так уменьшим количество аварий в онлайне следующий шаг анализ причин инцидентов в совершенно в темах да потому что когда мы начали регистрировать инцидент это настало время систематизировать тот поток который мы получили о самом начале мы действительно получили целый поток и нам потребовалось классифицировать те события которые мы получаем для того чтобы понять какая причина больше всего влияет на доступность сайта какая чаще что чаще всего ломается и что чаще всего приходится чинить и вот какие мы придумали при помощи мозгового штурма причиной эксплуатация причины инцидентов это ошибку службы эксплуатации очевидно это проблемный релиз ошибка в приложении чем отличается релиз прошел хорошо не забыли никаких скриптов базу данных а утром сайт упал была какая-то ошибка в приложении железо сеть канала дата-центр понятно электричество кончилось проблемы с базой данных надо отличать ошибку в приложении когда в приложении неверно обращение к базе данных которые слишком часто со слишком тяжелым запросам приходит база данных или когда в базе данных какая-то неведомая ерунда происходит и вот эта область ответственности бить дверь и это проблема с базой данных внешние проблемы чаще всего это наверное не даст плановый downtime очень важно чтобы сразу договорились опять утвердили у генерального директора возможность иметь плановый downtime потому что надо сайт захочется обслуживать и ему еще предстоит вырасти до того момента когда можно без downtime это сделать нам пока нужно и ошибку мониторинг мониторинг это та же программа и может давать неверные результаты давайте посмотрим что такое мозговой штурм при помощи которого мы все это узнали представьте такой инцидент сжатия в груди учащенный пульс расширенные глаза и верхние дыхание такая картина расширенные глаза учащенный пульс верхние дыхания и сжатие в груди какое-то ставим человека у меня такое состояние походу да а вот у этого человека такое состояние может поднимите руку кто считает что так может быть спасибо а вот у этого человека может быть такое состояние наша задача здесь не угадать спасибо как она называется надо просто посмотреть на картинку представить может лет состоянии вызвать сжатия в груди расширенные глаза верхние дыхание учащенный пульс а вот это состояние может вызывать такие симптомы хотели бы вы его испытать кто согласен что это так а такое состояние верхние дыхание расширенные глаза на ждать и в груди может такое быть а вот это состояние тоже ведь может вызвать такие симптомы расширенные глаза верхние дыхание а вот это состояние а у ди каприо и когда мы получили список причин и классифицировали их это можно сделать позже на фуршете то мы увидели что разные причины могут приходить приводить к одному и тому же итогу и проведя эту классификацию с помощью мозгового штурма вы можете рассмотреть какая из причин вносит больше всего downtime а какая причина требует первостепенного внимания куда нужно направить ваши ресурсы поэтому возьмем проблему штурмом и мы увидели что больше всего проблем вызвано качеством кода не эксплуатации и наша команда разработки пролила огромную невероятную работу потому чтобы сайт стал лучше определенно была увеличена покрытие функционал авто тестами покрытия кода модульными тестами это выходит за рамки моего доклада знаете у меня есть история про авто тесты значит если вы можете вспомнить картину что такое битву за урожай то легко представить и картину что такое битва за релиз когда три команды разработчиков сделали свою фичу ждали неделю или полторы с его релизного дня потому что лиза происходит не каждый день у них другие команды выпускаются и лис конце концов не вышел то можно увидеть уже не картину о кино причем это кино происходит в корпоративной почте а в open space и сидят насупленные тестировщики разработчики строчат гневные письма мы из-за вас пропустили свой релизный день три месяца назад уже было зафиксировано договоренность что дед делать нельзя мы будем применять сомнительных следующий раз разработчик не имеет права ставить задачи статус протестировано эта работа тестировщика а чё такого бакта на пруд не попал надо отобрать у разработчиков право ставить статус протестирована а зачем этим лидов отобрали это что тестер что ли выше тимлида тестер это дешевый китайский прибор мы тестировщики из-за того что кто-то позволяет нарушать себе workflow сломалась большая база данных и тестовые стенды не работали целый день вы видите в чем здесь проблема она не в авто тестах она в культуре этому случаю уже больше 4 лет и то что сейчас наша тестировщики с нашими разработчиками работают вместе это огромная заслуга и коллективы и нашего тех дира который сумел изменить сознание большого коллектива людей я вижу это когда прихожу в гости на утреннее стендапы я считаю сам и надеюсь вы согласитесь со мной что такое культурно изменения дорогого стоит что же делать эксплуатации если все-таки на выпуск приходит код с дефектами вот так надо делать улучшить управляемость релизов для этого мы переписали наши скрипты выкладки во-первых они были 1 пользовательскими а сисадминов уже несколько поэтому нам хотелось бы каждому работать свои папки это удобнее во-вторых мы хотели избавиться от ходоков потому что к нам постоянно шли разработчики которые спрашивали а вот эта настройка моего приложения как установлено в бою а неделю назад мы просили вот на строчку поправить вы сделали вообще у нас черты не работает и тогда мы решили выложить наши дипломный скрипты на git хоп и теперь разработчики и тестировщики в любой момент могут посмотреть как же их приложение настроена в бою секретные переменные мы спрятали такие как пароли к платежным системам или может быть пароли в базу данных для приложений и храним в отдельном репозитории наша система deploy она основана нам sibl это позволяет делать если то о чем я рассказываю выглядит не очень знакомо то вспомните про рефакторинг кода по сути мы провели рефакторинг того кода который выпускает релизу бой и стабильность его работы выросла и мы теперь можем по мере выпуска релиза если количество 500 как растет можем быстро откатить этот релиз полностью автоматически и за предсказуемо и время или когда разработчики подготовили hotfix автоматически за предсказуемо и время выпустить хоть fix например если разница постирать одежду и постельное белье вручную или зарядить его машинку и нажать кнопку и когда люди выбрали стиральную машину то и жизнь незаметно и качественно изменилась автоматизируйте выпуск релизов и ощущение изменится многократно вы захотите заниматься этим чаще вести здоровую регулярную релизную жизнь это скорость которая важна для бизнеса нам понравилась и мы пошли дальше на основе тех дипломных хребтов о которых я говорил мы построили уменьшенную копию инфраструктуры сайта то есть вокруг наших дипломе скриптов мы построили инфраструктуру которая на логическом уровне повторяет устройство боевой площадке одна из первых воспоминаний моих жизни вход hunter это релиз задача в жире с новые версии и инструкции в такую-то настройку установить указанное значение это я могу я изменю настройку я выплатил релиз через пять минут приходит делегация разработчиков что с сайтом а что с ним брата его нет на каждой страницы 404 в любому углу а у меня еще испытать мешок не выше в общем через 40 минут самый сообразительный разработчик нашел что когда я изменял настройку то не перевел ее значение с языка теста стенда на язык боевой площадке потому что ничего общего между ними не было наверное тогда и у меня и родилась хитрая мысль про новые тестовые стенды и вот наша служба качества повторила каждый сервис так как он устроен в бою в отдельном контейнере с отдельным айпи адресом со своей файловой системой на этом тестовом стенде даже когда собираются из ветки пакет для того чтобы протестировать он дальше выкладывается теми же самыми скриптами выкладки которые работают в бою и он выходит на тестирование с теми же самыми конфиг файлами с разницей лишь в паролях таймаутов количестве потоков что очень важно ребята повторили балансировщик и тестируют конфигурацию балансировщика тоже потому что там вы можете представить сколько различий между тестовым стендом и боем и какие могут быть последствия хитрый состоит том что мы теперь в эксплуатации получаем незадача с просьбой изменить настройку а готовый патч к нашим конфиг файлом который к тому же еще и протестирован когда военные получает бывают боевую задачу то они отрабатывают ее на наглядном макете местности потому что великолепное знание местности и рельефа и четкое взаимодействие подразделений между собой это залог выполнение боевой задачи эта фотография с войны в афганистане 1982 год 21 веке мы применили эту технологию себя в мирных целях поэтому тестируйте конфигурацию повторите архитектуру вашего площадки в уменьшенном виде на тестовом стенде и пусть ваша боевая задача будет выполнена без потерь и по мере того как мы занимались качеством сайта нам захотелось чтобы сайт больше выдерживал нагрузку и мы стали исследовать поведение приложений с помощью мониторинга то есть мы видим какой функционал сайта скажем отвечает медленно и значит нужно уделить внимание его оптимизации такой функционал сайта пяти сотен дает ошибки и значит нужно их исправлять и это происходит как с точки зрения функционала сайта так и с точки зре и так и в разрезе этапов обработки запроса обращение в базу данных вычисления наложения верстки применения переводов потому что когда ваш проект становится популярным то качество кода это не только отсутствие логических или функциональных ошибок это еще это какую нагрузку он способен выдержать потому что если ваш сайт абсолютно точно и безошибочно отвечает на 30 запросов в секунду при том что желающих 300 то от него немного пользу поэтому найдите такое мониторинг или научите свой который позволит вам видеть какой функционал сайта какой ирель вносит больше всего ошибок который потребляет больше всего ресурсах вашего сайта и в разрезе этого функционала какая стадия запроса может быть ваш мониторинг покажет даже запрос базу данных который следует исправить мы такой нашли сравните методы работы в средневекового врача и современного до леонардо да винчи даже строение мертвого тела не было известно и врач с помощью специальной металлической палочки зонда проникал в рану пациента и исследовал с крики видимо пациента и на основе этой картины назначал лечение мало того строение живого тела становится известной медицине только сейчас 21 века с появлением томограммы и с помощью неинвазивных методов исследования когда вместо палочки происходят рентген затем томограмма результаты изменились впечатляющую за сто лет продолжительность жизни увеличилась 40 до 80 лет мы с вами будем жить 100 или 120 лет я в это верю я вижу я вижу серьезные лица которые тоже верят в это спасибо это обеспечит наше долгожительства остальные завидуете поэтому исследуйте поведение вашего кода с помощью мониторинга сделать и в конце концов томограммы головы вашему проекту и вот каких мы забить добились результатов эти проценты значит что если в 13-м году сайт был недоступен 8 половиной часов то в 16-м это два часа и одна треть и это изменение в три с половиной раза при том что три года назад мы договорились про 60 ошибок в секунду как критерии инцидента а полтора года назад мы ужесточили этот критерий до 20 ошибок в секунду сейчас это один процент от общего числа запросов таким образом помощью уличной магии мы получаем улучшение работы сайта в десять с половиной раз я бы еще сказал о том что три года назад у нас было два раза меньше пользователи ну нет получился люди vox давайте спросим у microsoft они сняли замечательный курс дива fundamental это видео курс который стоит посмотреть и замечательно структурировали информацию про страх через и код и я говорил про тестовые стенды которые можно автоматической по кнопке вы в интерфейсе создать за полтора часа если что-то сломалось его можно пересоздать за полтора часа автоматическое тестирование и я говорил об увеличении покрытия функционала сайта авто тестами об изменении культуры и workflow для того чтобы автотесты было нельзя обойти continues in ты грешен наши разработчики готовят код ветки гид тестировщики из этой ветке собирают пакеты на тестовом стенде по кнопке раскатывают его с помощью тех же самых скриптов которые используют эксплуатация и вместе с конфигурационными файлами он проходит тестирование continues deployment это наше будущее сейчас я могу уверенно говорить про continues delivery когда каждое изменение может быть доставлен на сайт все же разработчики считают решают стоит ли его доставлять или нет чтобы получить containing deployment нам нужно сначала решить хотим ли мы этого а если да то соответственно изменить свой цикл разработки релиз менеджмент это то что уже с нами процесс выкладки пакетов в бой тестируется уже на тестовом стенде как я рассказывал и благодаря тому что этот процесс гоняется постоянно мы можем уверенно и полностью автоматически откатить неудачный релиз или автоматически из-за предсказуемо и время накатить have six которые подготовили разработчики configuration management я снова скажу про тестовые стенды потому что конфигурационные файлы вместе скриптами выкладки хранятся в бите с ветками со всеми удобствами если потребуется быстро масштабирует площадку то мы можем это сделать за предсказуемо и время потому что процесс выкладки приложений автоматизирован апликэйшен performance monitoring это исследовательская работа которая позволяет по графикам в мониторинге предсказать нагрузку и своевременно изменить инфраструктуру availability мониторим это те 20 ошибок в секунду которых мы боимся и который автоматически регистрирует инцидент в jiri макросов в курсе devops fundamentals расскажет еще продвинутых практиков интересно вспомнить или вы их в моем рассказе когда будете смотреть этот курс если вы решили внедрить devops у себя то есть очень важный вопрос который нужно себе задать вы помните эту сцену вместо встречи изменить нельзя когда горбатый спрашивают у шарапова а зачем тебе деньги мил человек и ричард брэнсон основатель virgin огромного конгломерата международных компаний написал книгу чёрту всё берись и делай и он в том числе делится одной мысли с нами деньги это средство для достижения целей а не сама цель что как бы подразумевает что цель должна быть чтобы не получить ответ как у шарапова а вот хоть бы в кисловодск с легкий закатился поэтому если у вас есть цель если вы планируете показатели своего проекта то идите к своей цели на основе того образования этого опыта который есть у вас что делает наших сисадминов диап сами на интервью перед уходом сотрудник сказал мне что ему не хватало смысла и это великий подарок дима спасибо тебе где бы ты сейчас не работал потому что на основе этого отзыва мы начали эксперимент и наши сисадмины стали ходить в гости на ежедневные стендапы в различные команды разработки каждый мой человек два-три раза в неделю ходит на стендап и каждый из этих стандартов по 15 минут они делают это сами и с горящими глазами потому что это позволило им выбраться из вакуума эксплуатации и увидеть смысл того что они делают он в том что от результатов их работы зависит результат и других и это тот секрет как devops появился в нашей компании хода вы выбрали цель devops intel другие лучшие практики которые вы изучали или о которых вы читали будут просто появляться сами собой как побочный эффект вашей осознанными деятельности если вы можете представить себе ваш проект работающую под высокой нагрузкой и без ошибок то вы легко представить и себе критерии по которым вы будете измерять качество его работы поставьте себе такую цель приблизьте картинку чтобы сделать ее более желанной и запланируйте время когда вы хотите этого достичь берись и делай это лучший совет от лучшего предпринимателя мирового масштаба спасибо спасибо большое спасибо за то что вы дотерпели в бездну звуков весь этот доклад я буду рад ответить на ваши вопросы лично запишите пожалуйста мои контакты это ссылка обещанная на слайды и вы можете задать ваши вопросы сейчас а вот давайте с микрофонами договариваться да здравствуйте большое спасибо за доклад в принципе интересная история немножко не хватает не хватило мясо вот для мяса можете рассказать какой именно балансировщик то есть что за схема балансировки было воспроизведено аналогичная баюл тестовой инфраструктуре вот ну а также конечно повис неотвеченным вопрос в воздухе а что же за мониторинг ты в итоге вас устроил спасибо большое за подачу значит на хабре есть блог компании had hunter там есть моя статья про то как мы переделали тестовый стенд и там же будет ссылка на видео докладывай склады из 18 где об этом рассказываю подробно отвечая на вопрос непосредственно это внутренний балансировщик у которого запросов в 10 раз больше чем на фронтах ну потому что много сервисов да да действенно это engine x который мы масштабируем на площадке в теста на тестовом стенде это просто ещё один контейнер так же как и другие сервисы где запущен engine x и сервисы настроена поскольку конфиге те же входить в этот инженер в альтернативу тому что обычно бывает на тестов стендах все на локалхосте на разных портах порты другие чем в бою и когда просто происходит инцидент разобраться невозможно вот эта балансировщик мониторинг мой директор николай севка стоит в коридоре конференции на стенде ок метр когда он отчаялся написать свой в том смысле что нанимали людей писали свой и это не давало результат он просто сделал стартап нанял людей которые заинтересовал по-другому они сделали великолепную штуку которая действительно даже для паз gresso показывает конкретный запрос который больше всего отнимает время называется me the ring окей метр . а его вот ответил наше спасибо за доклад у меня вопрос связанные значит с автоматической регистрацией инцидентов jira то есть первый сколько у вас бывает в день скажем так на кого не назначаются что происходит дальше по началу у нас былo примернo там по инциденту каждые полчаса правда выяснилось что драйвер ай да он умный он поставил мониторинг не развалился и рейд и не скриптом запускался демон который все это проверял этот мониторим блокировал весь вот вывод на мастере база данных на какое-то количество на полсекунды по это просто был 500 500 вот и мы знали что у нас не развалился было очень приятно мы эту штуку выпилили сейчас инцидентов да я бы сказал вы знаете пару неделю наверное мониторинг заводит в жире задачку она это специальный специальный проект джерри заведен да про которой прописано что нужно делать во первых нужно обязательно поставить причину инцидентов благодаря тому мозговому штурму надеюсь нет а вот кто это делает то есть у вас devops это делает или кто там бегай дергает выясняет в чем причина установка техотдел дернуть калашников может еще кого то как бы вы это предложить нет у нас это тоже есть конечно мне интересно как у вас дела на ко мне интересно какого в нашем случае нужно пообщаться пыталась его у нас есть специальная команда разработчиков прямо выделено это огромное достижение и это так вот работа которой я не говорил да потому что ну там ещё много всего кудри вьются который занимается качеством сайта ее назвали по-модному сайте label reliability engineers списали это вам из гугла и они действительно заботятся о том чтобы запросы которые на базу на основной функционал сайта работают проходили быстро чтобы на них ничего не блокировалась обязанность эксплуатации было долгое время ставить причиной инцидента есть специальный отдельная отдельный чатик флаг и который посвящен именно downtime а мы там общем во первых надо починить и когда мы починили если мы на если нам удалось починить он не прошел сам собой значит мы разобрались что причиной мы уже можем назначить да какая была причиной дочур flow разделяется если эта в зоне ответственности ответственности эксплуатации то эксплуатация должна там завести задачу до который будет будущем устранять причину этого если это в зоне ответственности разработки то разработчики заводит задачу вот так дальше как вы поступаете я понял еще вопрос наверное я отвечу так что в конце каждого квартала мы получаем премию это вот собственно секрет и для того чтобы чем вы чем больше тем больше или чем больше меньше эти нами просто не дадут если мать чуть не отправим вот и поэтому мы должны всем инцидентом в конце квартала проставить классификацию что это было отправить отчет я показывал этот патч орда который причина показывает в конце то есть вас формируется некая такая база знаний значит причина и решения причина решения то есть это ведется уже не g-league то другому стремительно ведется в жире просто в другом проекте что этот проект посвящен исключительно да вон той мам их учету и оперативным прогнозам потому что в этот проект может могут работу смотреть службы поддержки там колл-центр для того чтобы давать прогнозы сварки начинается когда сайт сломался вот а уже решение идет задача которой связанным образом появляются я может быть ну джерри же связь да там абсолютно конечно нет не интересно даже то есть я понимаю что вы заводите задачу значит решаете и у вас вроде как это не повторяется и есть инциденты которые повторяются там база падает я не знаю там что делать если вас за упала то есть куда бежать кому звонить выполнить такой то скрип то есть есть причина есть значит ее решения вот фиксируете ли вы вот эти решения или все же каждый раз на грабли наступаете за новым и фиксируем пытаюсь исправлять да есть какие-то вещи которые но вот они систематически есть как не систематически вещи которые пока не знаем как решать а есть не систематически но там грубо говоря мы написали инструкцию как переключить мастер база данных если она умерла мы ее отрепетировали там вики в корпоративные прям четкие действия и мы устраивали учение действовали по инструкции из ничего не срабатывало подменяли там ну какие такие вещь сама собой как любой эксплуатации вот я собственно про этот этап он помогает о чем мы вписали конечно ну то есть база данных когда переключается я что скажу вам сайт недоступен три секунды потом он две минуты работают редон и это если мы штатно переключаем мастер база данных мне кажется хороший результат для переключения мастера это тоже спасибо что вопроса спасибо за доклад несколько напоминали критерии 20 ошибок критерий downtime а мне не дают покоя как какие ошибки ошибки возникает личности бывают и рассматривала страница неважно там конец страница компании 404 их там хоть сто может быть ошибочной мы считаем мы считаем пятисотке а почему и на 20 потому что мы способны выдержать 20 смотрите сначала было 60 потому что иначе бы мы просто потонули под этим потоком когда мы вы провели основные какие-то системные вещи там низкоуровневые мы поняли что можем снизить порог до 20 если 500 очки есть фоновый какие-то 5 7 5 соток командой сырья до сайт reliability engineers они этим занимаются все равно просто не тот инцидент который влияет накипи и так далее ну 20 500 км эти это может не работать какая-то одна штука там черных от хантере важно поиск вакансий не работает мило но там то там будет больше 1500 секунда тогда вот если не работает какой-то функционал в бэк-офисе до для наших продажников но они как-то справляют хотя нам достается потом от них вот как только хоть что-то у нас сломается это один один процент 20 процентов один процент от общего 20 ошибок это один процент от общего количества запрос как только что-то сломал серьезно 20 там точно будет ну вот так а меня после критерий это совершенно вот такая вот штука сколько мы сейчас можем выдержать потому что если вы сейчас у вас все хорошо если у кого-то 100 ошибок на проект значит он работает вообще говоря ну и ладно то есть можно поставить 150 и все что выше инцидента поняли что хорошо захотели улучшить качество когда начинаете мириться с разработчиками эксплуатации им хочется как-то друг друг перебороть от прямо работает а давайте пониже а выдержим не знаем дайте попробуем давайте попробуем это игра с деньгами это азартная штук вообще в премии и премии конечно спасибо про разработчиков я не стал бы так рекомендовать наши разработчики премию получают по другим показателем но там разная система мотивации просто да и для для эксплуатации вот это очень понятно и справедливый китай когда если сайт был доступен 9995 получаем 100 процентов премия альпин больше был доступен то мы получаем 120 процентов премии мой 1 квартал так выдержали вот если меньше там бывает восемь процентов градации до 60 процентов премии 50 процентов премии ну если уж мы пролежали без премии мы ещё ни разу не оттого ли слава богу сайт как-то работает в зоне ответственности эксплуатации конечно то что но вот вот этот по чарту он показывает что есть разные причины и часть из них за них отвечают разработчики а за части из них за за проблемы железом отвечает эксплуатации железка сломался память вылетел эксплуатации теряя тремя ну потому что мы должны как то придумать или как мониторить и своевременно заменять ну вот не всегда кажется то есть не хотелось бы в целом железо и забрака какого-то производителя до 31 гах это здорово помогает есть три выйти на 120 процентов премию а мы такие ребята гибки обжаренные все у нас такой там канбан или философии заложено до что процесс постоянных улучшений все то что рассказывает еще по мере того как сайт развивается новые фичи там новый дизайн там вы к выкатывали до увеличивается количество пользователей там на ноль не так просто выйти в целом мы хотим ну нам просто это интересно не знаю будем ли мы на 0 когда-нибудь я бы хотел наверно как это сделать у меня нет рецепта насчет денег но ну да на скот насколько это эффективно смысле вложений ресурс потому что может быть если мы запустим там 3 дата центра в нем будет полная копия площадке мы можем сможем легко но когда мы станем как mail.ru возможно мы так сделаем вот сейчас чуть-чуть по-другому решаем эту задачу скажи пожалуйста как изменилась ваша команда как после того как вы приняли решение копать надежность но увеличилась уменьшилась не изменилось народ уволился народ прибежал вы помните эту историю когда собрали всех руководителей и они высказывались то есть бизнесу стала это важно почему то иначе бы он этого не делал и может быть и это помогло команда разработчиков увеличилась команда эксплуатации осталась такой же 3 года назад семён команда осталась в том же размере вот разработчику команда увеличилась это этой фиче увидите целую целую команду выдели только под качество сайта и это прямо огромное достижение это не так давно произошло может быть года два у них нет бизнес-задач у них весь бизнес в том чтобы сайт хорошо отрабатывал эксплуатация справляется вполне то есть нас нет ночных дежурств которые пяльцы мониторим мы получаем эсэмэски просто только по делу найдите доклад к лисе входит кладезь андрей спасибо большое за интересный доклад а у меня вот какой вопрос прозвучала мысль что в случае ошибок по его после установки релиза он на автоматически отказывается вопрос следующий не рассматривается ли вариант быстрого hotfix или вас и по каким критериям проводится этот к то есть например там saville ошибку получили такое-то количество инцидентов и после этого уже он автоматически откатился спасибо спасибо за вопрос автоматически значит что сам процесс произойдет автоматически запускает его человек и есть часть в котором гневно общаемся если чего да это принятие решение смотря какую функцию она сломался можно ли потерпеть если сломались переводы на какой-нибудь брендированный страничке работодатели например да это конкретный работодатель то может быть он потер я не знаю то есть это каждый раз вот прям вот человеческое решение в автоматизировать невозможно и дай принимая принимают люди разработчики говорят мы знаем что это такое елки-палки я ж тут не тот метод использовал сейчас я сделаю за 10 минут соберу за 10 минут расскажите ну велеколепно а иногда даже функционал понять на какой сломался как чинить нет но откат или еще вопросы спасибо вам большое за ваше внимание"
}
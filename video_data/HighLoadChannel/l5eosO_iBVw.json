{
  "video_id": "l5eosO_iBVw",
  "channel": "HighLoadChannel",
  "title": "Анализатор кода PVS-Studio (мастер-класс) / Сергей Хренов, Филипп Хандельянц (PVS-Studio)",
  "views": 931,
  "duration": 6146,
  "published": "2020-04-27T12:10:12-07:00",
  "text": "как нас уже представили меня зовут сергей мой коллега филипп мы таки я рабочих philips se plus + все шарф и devops разработчик сегодня мы поговорим о статическом анализе кода и ну об особенностях об особенностях внедрение статического анализа как с нуля так и какие-то действующие системы системы continues in the creation is in our куб скажу в двух словах о как бы зачем вообще слушайте этот мастер-класс смотреть его в первую очередь это будет нужна вам если вы скорее всего вы уже слышали о статическом анализе как вы знаете что это зачем это нужно ну вот но если вы об этом никогда не слушали нет ничего страшного мы позиционируем наш продукт и вообще всю идеологию статического анализа как 11 из из инструментов как один из дополнительных барьеров да на пути ошибок для улучшения качества вашего кода мы ни в коем случае не призываем использовать там только статический анализатор или какие то другие методики использовать надо вообще абсолютно все есть у вас возможность использовать code review вы используете code review еще там статический анализ динамический анализ юнит-тесты то есть полный на полный стек технологий которые вы вашей компании можете себе позволить наш продукт коммерческий но у нас есть варианты бесплатного использования о них можно узнать на нашем сайте или или на нашем стенде подходите пожалуйста также наш продукт будет полезен если вы уже решились или используете статический анализ или планировать о мне в его внедрять при внедрении статического анализа в действующие проекты особенно большие есть определенные нюансы моник сегодня поговорим основное из нюансов это то что если вообще не применялись никогда какие-либо инструменты вот такого плана то это взрывной рост ошибок на начальном этапе но с этим на самом деле очень просто бороться и современные коммерческие инструменты они здорово позволяют как бы упростить эту задачу вот но если в двух словах то просто все старые ошибки будут отмечены как некий технический долг внесен на специальную базу разметки кода и вы начнете с какого-то момента работать только с новым кодом также мы сегодня это все продемонстрируем на практике значит по структуре такого мастер-класса он будет состоять из двух частей значит первый первая часть будет посвящена внедрению статического анализа система continues in the grey шона это очень как бы такой распространенный сценарий при том что мы все таки рекомендуем использовать статический анализ как можно ближе к коду к моменту написание кода потому что всем вся мощь и статического анализа в скорости и времени обнаружения ошибок если вы обнаруживаете ошибки на этапе написания кода то есть на когда статический анализатор установлен машинах разработчиков да то есть этот этот код не уходит никуда с ошибкой выше по стыку разработки он остается на машине разработчику при этом человек находится в контексте потому что часто бывает что что-то там откладывается в туда и потом чистка это время человек человеку очень сложно сложно опять войти в контекст до этого этого места этого фрагмента кода и понять где же там ошибка вот но тем не менее обязательным таким хорошим условием является встраивание статического анализа на этапе сборок ну условно давайте скажем каких-то то ночных сборок это вам позволит отсекать ошибки на этапе уже как бы следующим ну скажем так для всей команды да уже то есть если у вас ошибки все таки как то просочились до выше по степу разработки вы их сможете поймать на этапе сборки на вашем сборочном сервере вот и допустим наш инструменте есть такие возможности там по выявлению клейма да то есть кто кто заложил этот код систему контроля версий да там рассылка писем счастья менеджером и так далее вот это бывает очень удобно и в любом случае позволять здорово экономить ее компании да не то есть ошибочный под не идет дальше не дай бог он не дойдет до стадии релиза или еще куда то то есть мы считаем это правильным сценариям значит в качестве content- играешь на сервера мы будем сегодня на примере дженкинс сервера показывать вот собственно наверное такая краткая водная часть да вы можете сейчас пока ознакомиться с как бы с тем что мы сегодня будем рассказывать в первой части значит мы используем в качестве тестового проекта мы смог будем моделировать некую такую скажем так типовую среду типовую ситуацию понятно что как правило у всех очень много специфики да особенно в больших и старых проектах там там и свои сборочные системы там свои серверы contents decoration там что угодно может быть вот но собственно говоря принципиальные моменты внедрения именно статического анализатора они в общем то везде одинаковые в принципе ну по крайне мере очень похоже будут мы используем в качестве некого проекта тестового на котором мы будем как бы который мы якобы разрабатываем да это проект spoon проект с открытым исходным кодом вот он у нас будет таким как бы нашим подопытным вот и на на базе то есть мы будем искать ошибки в этом проекте внедряться то есть ну как бы будем эмулирует сборочный процесс с этим проектом будем использовать сборочную систему мэйвен ну и вот как бы разные ситуации будем эмулировать коллега мой будет давать как бы развернутые комментарии на этот счет ну как бы в принципе у меня все я предлагаю же приступить некой практической части вот и начать как бы смотреть так постепенно как это всё дело происходит да я передаю слово моему коллеге филиппу флип спасибо сергей итак приступим так вот первое чем мы начнем да собственно запустим наш сервер дженкинс собственно строить весь наш процесс мы будем на основе pipeline а я надеюсь здесь аудитория знакомы с pipe лайнами и так у нас есть некоторый проект который мы собственно что с ним сделали мы его уже выкачали зайдем под админу итак нас интересует вот это вот часть скрипт что мы будем делать мы будем делать следующие соответственно мы будем создавать несколько стай джей 1 стоишь стандарт традиционно выкачиваем из репозитория да на ваш проект следующий стейдж просто обычная сборка spoon основана мэйвен соответственно мы просто для него вызываем пару шагов мэйвен клин пикачу но и skip ним тест пока на первом шагу при этом ну традиционным можем там в качестве артефактов уже заархивировать там вот этих жарки формируемые следующий шаг мы уже как раз внедрим наш статический анализатор как его внедрить собственно мы его нам тоже позволяет все необходимо сделать для того чтобы внедрить его в мы иван нам необходимо всего лишь указать будет в дальнейшем нужный шаг видео pvs-studio ps она вайс и еще необходимо будет поднастроить pom.xml естественно как у нас менма дефект модифицируется space как у нас модифицируется для того чтобы внедрить наш анализатор вам необходимо всего лишь добавить сначала репозиторий сторонний и второй шаг который необходимо это уже собственно добавить наш плагин для плагина мы также добавляем необходимый нам настройки в качестве настроек что может быть выходной тип до lock который формирует вам внутри него будут вас лежат сообщение для нашего анализатора java мы выбрали джейсон формат и естественно второй параметр это необходимый это куда мы собственно будем записывать его например в ту же саму папку соответственно так первый шаг то есть мы формируем отчет второй шаг который необходимо это джейсон формат мы должны преобразовать в какое-то уже удобоваримый для нас формат мы предоставляем много достаточно вариантов но для дженкинс очень хорошо подойдет формат мы обзываем файл html в дальнейшем его покажем смысл в том что у вас будет прогружается странице дженкинс вы можете обозревать все ошибки которые анализатор на шоу переходить по ссылкам внутри на определенные файлы и вам будет прям подсвечиваться где ошибка у вас нашлось в исходном коде спицына это шаг у нас вызывает утилита полок конвертер с определенным флагами что она принимается тип в качестве параметра t это флажок какой тип a full html параметр p как мы назовём просто про наш проект в выходной шапки будет писаться параметра куда мы пишем это будет директория параметр это какие мы типы сообщений хотим оставить в локе мы предоставляем различные виды формат фильтрации вы можете наше сообщение делятся на несколько типов первый тип это general анализе с диагностики вообще назначение они был каждое предупреждение бывает трех уровней вам необходимо для начала просмотреть первый уровень сколько там самые интересные ошибки находится дальнейшем вы пробуете второй уровень уже находить просматривать предупреждение и дальше уже третий в котором весьма вероятно что находится ложные срабатывания они остаются на самый последний момент ну естественно посреди проектора это наш de sohn этот отчет который мы собственно преобразуем и при помощи плагина дженкинса publish тмл мы просто его опубликовываем ну дальнейшем у нас какие могут быть шаги это просто запуск unit тестов у нас могут быть другие какие-то шаги их мы опустим просто но будем считать что у нас юнит-тесты запускается ну и дальше все и так же мы их просто публикуем в итоге если мы все это ставим и собственно чем сборку собственно у нас сейчас на там пойдут шаги в виде сборки после сборки статический анализ запустится как только статический анализ пройдет но уже сможем будем просмотреть формат отчета и что в нем внутри да коллеги вот пока идёт сборка дам пару комментариев значит смотрите мы сейчас показываем на примере дженкинс на примере java проекта естественно у нас есть варианты использования для сесть и плюс плюс проектов и сишарпа на самом деле там ну в принципе такая же диалоги да только вместо моего на используются там я не знаю м с build да с какими-то другими флагами но собственно все шаги интеграции они очень похожи чем еще как бы хорош ну честно скажу что мы сами используем дженкинс да но в принципе другие сборочные системы ничуть не хуже вы можете себя легко внедрять на другие системы как правило и наш анализатор и другие анализаторы имеют достаточно развитые средства для внедрения в в сборочной системы которые заключаются в том что ну как правило это набор некоторых утилит либо плагинов для известных сборочных систем до популярных но вот допустим как мы его name is built вот что очень сильно упрощает работу но в принципе если вы используете какую-то совсем экзотику если говорить о java вот в частности анализаторе то наше ядро нашего java анализатора но достаточно гибкая вам просто придется туда вручную передавать какие-то флаги чтобы ну как бы сделать интеграцию вот но в принципе это все несложно и вы сможете достаточно просто все сделать там ознакомившись с какой-то разумное время с документацией вот мы идем видим идет сборочный процесс а это не анжу это не могли соотносить анализа все он практически близок к завершению давайте посмотрим что получится сейчас это только дженкинсон сразу вам позволяет помощью плагина publish тмл формировать публиковать на страничку она у вас в каждом как каждой сборки донос то цена будет волшебная кнопочка и вот тут уже увеличу ножка здесь у нас соответственно мы говорим какие у вас группа предупреждений есть данной ситуации для языка java в преимущество это дженни ярл анализе и диагностике общее назначение кликабельные ссылки куда сынок файл сон и строчка где у нас собственно предупреждение есть есть также сортировка по уровням хай медиумы low первый второй третий уровень самого предупреждения и сообщения о том что именно что именно происходит вот если мы в принципе будем нажимать на ссылку то у нас будет открываться уже код сам исходный и в этом коде вы уже можете просмотр делать предупреждение ответственно этакий формат как все в дженкинс и можно будет произвести посмотреть достаточно удобно так вторая вещь которая тут тоже есть остается вы можете посмотреть документацию по диагностике о чем она говорит какой там некорректный код то как его поправить различные кейсы наш сайт приход так вот если посмотреть в итоге еще раз все мы заметим что у нас 423 предупреждения найдено тут надо сделать заявление в принципе во первых среди этих 423 предупреждению вас чаще всего могут оказаться срабатывания на ваши тесты на тесты нам срабатывание нужны мы хотим видеть только именно код который где это была допущена ошибка либо мы не хотим выдавать предупреждение на 45 библиотеки тоже не нам это не нужно например как мы можем убрать для начала предупреждения которые нам не нужны у нас есть все так же наш pom.xml здесь мы можем прописать параметр exclude указываем папку которую у нас лежат тесты например заложим ну естественно перезапустим сейчас соответственно после второго прогона у нас исчезнут срабатывания которые были на тестах в исходном формате у нас было четыре двадцать три предупреждения станет 96 следующий факт которую необходимо сказать у нас есть 96 срабатываний это в принципе хорошо это еще хотя бы кое-как читабельное и можно переварить но чаще всего статические анализаторы могут выдавать вам сто пятьсот предупреждений что с ними делать непонятно и здесь есть аналогии с скажем так с почтовым ящиком вот если у вас 400 сообщений и вы все ещё не прочитали то если вам придет 401 приду сообщения то вы должны увидеть его в этом письме у вас там новый клиент который у вас готов купить ваш продукт то бишь вы потеряли не очень необходимое предупреждение как это можно избавиться такой проблемы такой ситуации мы считаем такой необходим подход вы подавляете все вот эти 96 предупреждений и пока я куда-то откладывать в долгий ящик здесь надо сделать тоже поправку почему долгий ящик технический долг но надо понимать что ваш продукт уже сколько то лет на рынке вы его тестируете поэтому все достаточно критический багги вы их уже убрали и даже если у вас есть какие-то срабатывания статического анализатора то они не настолько критичны что могут повалить вам всю работу ваши программы поэтому вы пока откладывайте в долгий ящик считаете с вашим техническим долгом так вот у нас уже шестой paragon прошу остается на как мы видим второй прогон 93 предупреждения срабатывания уменьшилась что нам необходимо сделать чтобы все таки вот эти 93 там 96 срабатывания убрать у нас есть так называемый со просьба за мы просто вызываем шаг определенный через мы иван в истории повеса пресс и передаем им два флага первый это то флажок это срабатывание все который у вас есть 96 и из него формируется лак у вас сапр с базы это отдельный файл он сформировался у вас что вы делаете вы просто добавляете в ваш систем контроля версий и второй шаг необходимые то что вы вписываете в также настройку анализатора необходимо необходимо еще одно свойство press bass говорить откуда смотреть анализатору блиц-опрос базу и теперь при новом прогоне также мы ещё замужем теперь мы можем опять перезапускать процесс сборки и следующие срабатывания у нас уже ноль предупреждений все ваши то все ваши вот эти срабатывания которые были они где-то лежат ноль предупреждений и они нас не трогают теперь что произойдет у нас если добавить какое-то какая-то ошибка да коллеги еще дам небольшое пояснение мы сейчас будем ну мы сейчас эмулируем на самом деле то чем игры вначале внедрение статического анализатора на большом проекте на самом деле эти там 400 ошибок но понятно это не так страшно вы можете столкнуться с ситуацией там нескольких тысяч ошибок там с чем это может быть связано ну статический анализатор это такой инструмент который технологически да может генерить достаточно определенное количество ложных срабатываний то есть при помощи статического анализа нельзя точно сказать вот ошибка это или нет да статический анализ можно считать как бы таким скажем автоматизированным к treeview только для кого-то review вам нужно отвлекать квалифицированного специалиста тратить на это деньги здесь за вас это делает машина и она вам указывает на потенциально небезопасные как бы места в ходе который сам программист который находится в контексте может исправлять или отмечать их как ну не требующие внимания для этого тоже масса существует различных как бы инструментов включая вот эту suppress базу я сейчас чуть-чуть поподробнее расскажу все таки что это здесь немножко скажем так много ручного труда труда приходится применять потому что мы здесь на самом низком уровне таком на низком уровне ум как бы показываем вам работу для того чтобы показать как как это все изнутри выглядит максимально на самом деле если если брать у нас есть плагин для некоторых идеи да да intel j&d ну допустим плагине для студии у нас вообще работу с этими базами она идет через интерфейс то есть когда вы в окошке можете выбрать несколько предупреждений в логе до в стандартном студийным окошке мы там выводим наших предупреждений до найденные ошибки предупреждения и просто сказать их там отправить их собрать базу и там все это происходит автоматически то есть здесь приходится вот немножко больше ручного труда делают то есть идеология вот этих suppress бассано на самом деле просто то есть это просто файл файл скажем так с разметкой кода может быть разный подход к этому мы используем такой достаточно простой подход мы храним грубо говоря информацию по каждой ошибки это просто xml к структура примерно там такая имя файла строка кода мы храним хэши специальные на предыдущую строку и на следующую строку и даже если вы будете менять ваш код там грубой раздвигать его база останется целостный вот таким образом это вам позволяет в дальнейшем даже в измененном воде как бы править ваш технический долг это вас нет ни отвязывает да вот от той ситуации которая была так же есть еще другие на самом деле варианты наш анализатор позволяет но и другие на самом деле многие так умеют можно прямо в ходе ставить метки то есть если вы вот в процессе когда он уже анализатор указал на какую-то какой-то паттерн вы видите что явно этого ну как был позитив да то есть это ложное срабатывание можно поставить какой-то комментарий специального вида и дальнейшем анализатор будет вообще это строго пропускать либо если вы не хотите свои под да там как-то ну размечать дали в нем какие-то делал пометки соответственно используется вот это technologies опресс то есть то что мы сейчас показываем это просто ну мы как бы все вообще совсем да то есть мы абсолютно все ошибки кладем технический dolls вопрос здесь надо понимать своих там могут быть тысячи и это часто отпугивает людей на стадии внедрения когда люди видят тысячи ошибок ну может быть какие-то смельчаки берут стал них разбираться видишь там действительно там из десяти тысяч там могут быть какие-то сотни ложных срабатываний они могут попасться сразу и человек да ну я никогда не буду это статический анализ применять это какая-то вообще абсолютно ерунда вот то есть здесь надо понимать что это принципе нормально вот в дальнейшем то сейчас продемонстрирует филипп прям вот практически на этом шаге что вы начнете искать ошибки в новом ходе то есть под который был сгенерирован непосредственно в последнее время потому что естественно ваш проект действительно у него есть какая-то история и он же как-то работал вот но от новых ошибок никто не застрахован то есть надо понимать для филипп спасибо продолжение итак после того как мы со просьба за сформировали теперь у вас лог выглядит так то чтобы paul studio вас благодарить за то что у вас нет никаких ошибок у вас их 0 и теперь в дальнейшем когда уже у вас человек пишет код и вносит случайно ошибку при этом понимать что идеальный сценарий что что у него статический анализатор тоже работает на фоне у него локально когда он пишет код статический анализатор работает находит ошибку и он тут же и должен исправить это все хорошо это идеальный сценарий как и должно быть но тоже из-за человеческих факторов невнимательность или что то еще ошибка может все равно проникнуть систем контроля версий никто не застрахован естественно на этапе уже continues in the creation на необходим это ошибка тоже поймать теперь когда у нас есть запрет база все уже у нас подавали на ноль предупреждений как только человек вносит ошибку как я сделал чуть ранее ну то есть во первых у вас может быть потенциально ситуация когда насколько я помню до вас падает unit-тест то есть например это вообще замечательно то что ошибку даже еще ранее нашли но статический анализ муха и еще раньше найти соответственно если мы открываем отсчет то мы здесь видим две ошибки 6000 1 говорит а что у вас слева и справа от оператора равно находятся два одинаковых объекта и второе то что там будет ниже по коду сейчас посмотрим там вызывается re-therm естественно у вас ниже мертвый кот получается если открывать вот я внес ошибку определенную до из метро на весь метод на самом деле если кажется что это не реальная ситуация то она вполне реально и второе да и мы видим здесь one true естественно у вас всегда это происходит и дальнейшей весь ваш код который здесь есть он является мер то есть вас статический анализатор сразу предупредила двух возможных ситуациях и дальнейшем уже необходимо делать какие то действия какие например можно написать утилиту которая будет брать вот эти предупреждения братья система контроля версий кто именно виноват при помощи blame информации отправить ему письмо такому человеку что хагрид сделал ошибку в своем коде и можно еще дополнительно рассылать предупреждение менеджером проектов или же тимлида этим людям которые собственно уже пинать должны разработчика потому что он допустил ошибку собственно это примерный как процесс должен происходить в идеале на к машине каждого разработчика должен быть статический анализатор запущен и эта ошибка не должна была еще даже и проникнуть с тем controllers но если это происходит тогда статический анализатор запускается после сборки при этом тут надо отметить факта что почему именно после сборки потому что мы проверяем валидный код то есть если он отваливается на момент компиляции то мы не запускаем анализ да например intel и j-dee там если кто использует она может там такие ошибки находить но мы немного другую задачу выполняем поскольку анталья j1 они могут анализировать код который еще не валидный не компилируемый но из-за этого сразу качество анализа падает потому что они им приходится строить дерево для кода который еще как бы не компилируется это намного сложнее задачи и качество анализа при этом падает мы с тестом и запускаемся уже после того как скомпилировались все идеально ошибку нашли после этого сразу толкаем разработчика виноватого он пускает исправляет да коллеги так ну мы показали такой достаточно распространенный сценарий я я надеюсь я честно говоря немножко упустил момент когда филипп носил эту ошибку но он ее реально вносил перед мы можем сейчас еще продемонстрировать что мы эту ошибку исправили и она пропала без со пресса без всего давай еще раз сделай то есть допустим наше письмо дошло до то есть менеджер проекта написал зло и письмо программисту у нас есть для этого утилита но она там связано с рассылкой почты мы не стали то эмулировать немножко сложно она у нас называется блеять эфир до который позволяет рассылать письма счастью автоматическом режиме вот и теперь как бы программе из понял что все-таки надо включить статический анализ на своем рабочем месте вот сейчас или продемонстрирует что у нас ошибка исправляется так что еще можно сказать вообще по вот этому стеку по поводу выходных отчетов на самом деле ну для каждой команды может быть как бы разные разные варианты до использоваться мы показали full html это некий полный отчет у нас еще можно там делать отчеты суммарные которые просто так вот такой скажем так отчет без ошибок но по суммарной информации сколько был найт на ошибок там сколько там сколько какого уровня ошибок также мы еще можем делать более простой html key для рассылки их ответственным в текстовом виде там до всей свято есть вариантов масса и на самом деле практически любой вот коммерческой анализатор вам может позволить то же самое делать помимо так ну вот сейчас еще я думаю же последний раз мы посмотрим как это происходит в принципе наверное здесь о дженкинс у все дальше мы покажем где он к нему еще вернемся дальше вторая часть у нас будет про sonar куб вот там мы будем использовать плагин для дженкинса увидим как то есть мы еще там еще еще одну интересную вещь покажем я хочу еще одну вещь добавить здесь я показывал сценарий когда у вас система контроля сборки в принципе ловит на каждый коммент я в принципе не стал бы советовать этого делать то что чтобы у вас на каждый прямо к мида происходило сборка статического анализатора ну или даже еще на прикамье though a да и анализа пускается начинает сразу ошибку это искать почему потому что ваша разработчики вместо того чтобы теперь пилить фичи начнут чаще всего исправлять баги то что они их внесли да и тут же бегут потом после этого исправлять в них производительность теряется ну естественно не очень хорошо лучший сценарий то есть вы используете это в момент ночного билда вас запускается ночной build статический анализатор запустился нашего ошибки вы их идет уже на следующее утро исправляете дацана исправление такой ошибки повышается потому что разработчику надо быстро опять вернуться в контекст помнить что я там такое писал почему у меня ошибка такая возможно произошла и так далее но такой сценарий скажем так менее жестоко сына человек исправило проблему после прогона статические анализатор ему говорят что все нормально вот так примерно 100 росстат анализ должен работать до коллеги в общем то пока здесь наверное все возможно имеет смысл сейчас сразу на какие-то вопросы по отвечать или что то еще показать я думаю возможно и какие то вопросы дата моды потому что потом мы как бы переключимся на сына рк опытом в принципе это смежная вечно она немножко отличается вот ну чтобы потом не вспоминать то есть смотрите я сейчас сейчас есть у кого то вопросы да мы можем сразу с филиппом ответить на них прости пожалуйста вот представим я допустим разработчик какой он крупного проекта типа chrome там длинных ядро и так далее то есть у вас есть какие-то механизмы встроен уже чтобы она автоматически инкремент определял как для разработчика до что рис играть из проекта общем во-первых значит если случае с java анализатором да то есть флаг инкремента и вызов соответственно сборка будет точнее анализ будет запускаться на только на том файле который был изменен соответственно у вас и анализ у меня время выполнения анализа уменьшается также как и в принципе и сборка может так такими же сценарием уменьшаться для других анализаторов если брать плюсы да все зависит от того как был внедрен статический анализ тут просто есть какая ситуация там все то также завестись темы сборки система сборки если вам выдает сразу информацию о том что вот только один файл изменился до мы можем потянуть то есть это пример семейка там и так далее в мы к тяжелее уже интегрироваться да например и для того чтобы также можно было как-то инкрементальный анализ построить можно например отлавливать вызовы команд компилятора компилятор выполняет компиляция какого-то файла да у нас мониторинг работает нашел этот файл тоже мы соответственно там при процитируем начинаем на нем анализ гнать тоже то есть это формат это кикоин к ментального надо за здравствуйте дмитрий скажите как под капотом устроен анализатор если он использует какие-то статические шаблоны кто-то и куда вносят пользователи их изменять и если анализаторы skoda давайте начну как бы ну с конца спасибо за вопрос сколько от мы не анализируем мы сейчас анализируем такие классические си подобные языке и си си плюс плюс сишарпа java изначально мы начали как бы с плюсов ну там история достаточно долго 10 лет в пятнадцатом году мы выпустили sharp и и вот сейчас где-то около полугода назад мы зарелизили djow то есть ну пока иску или к сожалению вот что по поводу под капотом у значит мы используем на самом деле такие достаточно стандартные технологии анализ потока данных и меж процедурный анализ да это когда мы ну допустим при использовании некой переменной там внутри методы или при этом при ее передаче между методами до функциями до определенной глубины мы можем отслеживать какие диапазоны значения этой переменной получает и пытаться делать какие то выводы на основании этого какие мы можем делать выводы ну какие то проверки допустим глупые да то есть мы знаем точно что в каком-то фрагменте кода переменной там точно равна нулю и и проверяют на равенство нулю но это самый простейший вариант это позволяет всякие там выход за границы массивов там ловить кит еще там для reference типов да или если говорить там ну а языках типа ситом показатели да мы можем выяснять когда там ссылкой указатель точно ну а их пытаются использовать мы стараемся делать это максимально аккуратно потому что основная задача статического анализа не статического анализа разработчиков нас как статического анализатора это минимизация ложных срабатываний потому что мы прекрасно понимаем что это большая проблема когда анализатор шумит изучать эти предупреждения конечности она надо человеку программист тратить свое время и нас часто в этом упрекают и говорят что ну вот вы на code review тратите время и вы тратите там на изучение вот ну предупреждений анализатора надо хорошо понимать что конечно упрек он как бы закономерен поэтому я могу сказать по нашей практике отличники своей на разработку допустим такой средней сложности и сишарп диагностики троится два дня два рабочих дня до 16 часов на то чтобы довести эту диагностику до ума отравиться еще где-то там неделя может 2 да вот что это что это за процесс мы используем там разные подходы сначала мы придумываем свои тесты какие-то простенькие где она прочно срабатывает и точно не срабатывает позитивные и негативные и когда ты думаешь о окей круто можно идти сдавать ее там менеджеру проекта там выясняется что после прогоны на тестовом пули проектов у нас достаточно большой полу проектов открытых там несколько сотен здесь поправлю да значит для того чтобы вот так протестировать анализатор используется тестовая база проектов реальных которые на гитхабе если так далее мы просто берём их выкачиваем для си плюс плюс у нас используется под windows 140 проектов под linux по также под плюсом еще 40 под macos сам еще дополнительно 510 под шарпа по моему 53 шиза вы где-то проектов и java там тоже потихонечку растет там тоже уже где-то 30 40 проект но смысл в том что вы создаете диагностику и потом и уже гоняете смотрите на других проектах зачем вы смотрите а действительно для такой паттерн ошибочный есть других проектах и чаще всего так и происходит но при этом возникает то что вы диагностику плохо сделали ее приходится допиливать потому что там есть ложные срабатывания ложные срабатывания никто не хочет смотреть и видеть поэтому приходится там смотреть на какой-то паттерн до видеть что он часто ну происходит до его надо подавить подавляем еще раз такой прогон делаем тоже достаточно долгий процесс там 140 проектов у нас прогнать это там три часа почти опять прогоняем весит процесс смотрим как уже теперь происходит все если хорошо значит она закладывается мы не делаем то чтобы клиенты сами писали свои диагностики кастомные поскольку специфика очень такая сложная что проще на саппорт написать и мы уже этим займемся конкретно да спасибо филипп вот эта водка что касается борьбы с ложными срабатывания my вот как отвлеклись чуть-чуть что еще мы используем из технологий в отмеченных да когда мы ищем просто в ходе какие-то конструкции подозрительные но мы их ищем не при помощи там ну говоря там там просто анализа кода мы именно анализируем там потоки данных ну там достаточно много эвристики используем классический метод она аннотирование функции да когда мы знаем что метод или функции допустим какой-то библиотечное там должна себя вести определенным образом что-то принимать конкретные там что-то вращать ну допустим забыли использовать результат это помета да он критично важно для для логики то мы можем ругнуться дальше допустим про работу с нулевыми показателями до стараемся делать аккуратно то есть понятно что ругаться на все случаи когда передали ссылку и и in anal мне проверили используют ну как бы это немножко глупо да потому что это будут тысяч срабатываний пытаемся делать эвристику что программист предполагал что ссылка может быть 0 где-то он или там проверила использовал после проверка где-то забыл год то есть ну таким образом мы символьные вычисления используем то есть решаем простейшие уравнения когда мы видим что есть какое-то сложное выражение и на самом деле другая там сравниваются два выражения и после вычисления как бы эти два выражения одиннаковы до сравниваются сама с собой что-то то есть глазами этого не видно на самом деле ну а печатались ли что-то но по факту то есть вот весь но еще там какие-то технологии более таможни хитрые весь этот пул технологий в принципе нам позволяет выдавать некоторые такой адекватный набор информации программисту чтобы он тратя минимум усилием ох как бы улучшать проходить реально ошибки в коде вот но всегда конечно понимать что статический анализ он это не динамический анализ да то есть да у него много плюсов это быстро это полное покрытие практически кода но есть некоторый шум полностью победить невозможно примерно так это под капотом но и плюс еще и так это это относительно ядра анализатора они все принципе одинаково примерно работают нужно кстати по примеру показать здесь как вот механизм различные используется то есть я внес ошибку да то что весьма странных мест здесь что значит первое стандартно это преступление шаблону странно если у вас слева и справа от оператора равно находится один и тот же объект с одним и тем же именем да что-то странно вот это первое следующие анализ потока о провале уже управления да работает и что как он видит если здесь метод раввины из мест а это всегда до истина о начинает анализировать тело этого iv а потому что она всегда выполняется и у него видит там сразу выход из функций при помощи ведь one true все соответственно мы знаем дальше можем выставлять информацию что в дальнейшем весь код который ниже будет лежать это у вас уже мертвый кот и он не будет никогда выполняться это пример уже do it flow как работает ну вот как бы если когда 2 да понять ваш анализатора того анализатора которые используя в еде или чем он лучше да спасибо за вопросы кисти какая-нибудь ведется том виде отсюда ну как смотрите мы одно время какое-то время назад даже пытались писать статьи по сравнению анализаторов вещь достаточно оказалось неблагодарные потому что сразу начинают в комментариях да вот в этом вот в этом специально все подстроили как бы чтобы у свой анализатор как-то вот сделать хорошим этот анализатор и встроены в идее хороший он он неплох но у него есть определенные как бы тоже недостатки он встроен в идею у нас такой классический махровый старт такой статический анализатор с максимальными возможностями использования такими знаете с максимальными кастомными возможностями то есть вы можете наш анализатор прикрутить практически ну да практически везде у нас куча это там разных утилит плагины да там что-то еще там нас есть плагин для snork упала например то есть принципе как бы мы стараемся вот мы это считаем нашим таким как бы преимуществом по качеству анализа сравнивать не всегда корректно разные анализаторы на самом деле работает по разному саровский напустим анализатор мы сейчас будем дальше про это говорить собственно сами его анализаторы вот они больше на скажем так на запахи кода дата можно искать ошибки но достаточно сложно там уровень ложных срабатываний ну на самом деле велик но это неплохо у него другая задача он именно качество кода с точки зрения вот качество мы именно на ошибки на цельные поэтому вот у нас есть много клиентов которые любят sonar и они с удовольствием используют наш анализатор одновременно с анализаторами встроенный мир сонар и еще какими то там несколькими своими и они строят дейсвительно полноценную систему непрерывного контроля качества таким образом то есть зачем сравнивать если у вас есть возможность использовать его их все понятно надо проводить дополнительные какой-то там дополнительную работу но в качестве sonar куба если на на примере sonar там все это очень просто делается да там как бы все это представляет единым таком как бы виде можно смотреть статистику то есть вот ну как бы то есть в лоб мы не сравниваем ся потому что ну это достаточно такая задача мы все но никому не угодил всегда найдутся люди которые скажут все вообще не так не то методология вот как бы вы можете взять попробовать наш анализатор можете dot прогнать на проекте там своем чужого мы сделать какие-то свои выводы вот как правило после этого люди там вот мы рекомендуем использовать максимальные пункт технологии вообще мы есть возможно может взять анализаторов использовать используйте их будет только лучше ну то есть вот так я еще чуть-чуть добавлю я скажу так разрабатывать статический анализатор сложно заставить его людей использовать еще сложнее смысл чё как только вы ну своей компании решили стад анализ внедрить кто-нибудь найдется все равно кто его не включит мы например как пишем код компилируем он тут же у вас проверяется найдется человек обязательно кто выключит этот процесс ошибка все равно попадает систем контроля версий ее надо так ловить вот этот человек я так надо делаю ну ну у нас смотрите даже для плагина для visual studio который был у нас первым плагинов да то что мы начали си си плюс плюс и первый плагин который мы делали он был для visual studio даже там мы не пошли по этому пути потому что требование компилируем асти проекта нам позволяет собрать очень много информации вот раскрыть там все связи особенно это критично вот коллега филипп сейчас может быть мне поправить но как я понимаю опрос sharpies для си си плюс плюс проектов вот скорей вскрыть эти все сложные дефайны вот это все как бы ну анализ кода не компилироваться в моем понимании он в чем-то он проще и быстрее но объем информации меньше поэтому мы все-таки вот мы пошли по этому пути как бы у нас нет такого вот как допустим там других в том же ришар передо там он там подсвечивает дает команды ну там дает советы у нас немножко другой подход мы проверяемся вываливаем лог ошибок с которым там человек может уже поработать ну вот так да коллеги еще есть это вопросы или будем двигаться дальше здравствуйте это снов хотел узнать в сапр с базе как-то могу отличить фолз позитив от технического долга нет наверное нет потому что за просьба за ну это на самом деле такой как сказать внутренний механизм мы его показали просто чтобы было понимание что это но вы можете в любой момент эту базу скажем так включить включить и покопаться в этих ошибках уже перед переходя там по коду вот и уже ну мы пока на самом деле вы можете в suppress базе работать с отдельными сообщениями там то есть здесь здесь вот и говорю мы показали самый такой сложный вариант так обычно но это как бы ручной привод такой так обычно не делал пишет неудобно вот когда вы в рамках и какой-нибудь дыре используете да там это проще вот но как бы сама база сама по себе она такого ничего не содержат то есть там просто такая когда информация техническая ну то есть где ошибка хэши там от этих строк вот там в ну то есть вам все но надо анализировать ход иногда вообще до старшей сложно понять есть ошибка или нет даже автор проекта иногда смотрит и и не понимает там она может быть 10 на есть . ну так но отдельно еще скажу что собрать базу у нас попадает информация что каждого сообщения да у него есть эта информация что это ложное срабатывание или нет если вы его памяти о том сапр с база добавили то у вас там будет написано это фолз положите вы уже пойму до если вы отметили уже то есть это вам все равно вам самим необходимо помидоров просто так сказать что это фолз позитив или нет это не всегда понятно потому что во первых срабатывания для вас может быть не критичным и вы там увидели то что вас условия у вас труда но она высовывает руб почему потому что define так знаете раскрылся да вот по под маком до или под линуксом или подвинуться поэтому вот такое условие а на других платформах вот такого не будет то есть срабатывания получается для вас не критично до его его вы можете до пометить как фолз alarm вам это приходится самим руками делать то есть да да коллеги ну а в принципе давайте наверное сейчас будем переходить ко второй части у нас все-таки мастер-класс он как бы затянул на два часа есть идея сейчас может быть сделать перерыв там на 5 до какой-то вот да на 5-10 минут вот и во второй части мы будем говорить о сын арку беда об этом инструменте поговорим о его особенностях и как наш анализатор или там мы 22 других показываем как их внедрить снорков использовать и связать еще и дженкинсон то есть пока давайте такой маленький перерывчик сделаем коллеги вы будете отвечать на вопросы в течение этого перерыва да пожалуйста да я сейчас вот буквально могу как бы если еще хоть есть какие то вопросы ну и так же вы можете всегда на наш стенд подходить да коллеги в общем давайте 5 ну давайте пять-десять минут перерыв и жду вас обратно вторая же доклада пробковые студию и просто нарку до коллеги спасибо что вы все еще с нами это очень приятно так сделайте нам тогда спасибо вторая часть нашего как бы мастер-класс на она про достаточно такой популярный инструмент сын архип расскажу в чем интерес нас до казалось бы к нашим конкурентам да то есть сын архип у них на самом деле система непрерывного качество кода у них есть там статические анализаторы и многие используют этот инструмент достаточно в коммерческих организациях и очень любят за что его любит это инструмент который в тебе совмещает очень много таких хороших свойств там много визуальных различных инструментов внутри всякие красивые там можно метрики кода рисовать строить очень гибкая система настройки и главный как бы плюс это инструмент а почему он интересен нам у них открытой api для написания плагинов то есть они позволяют сторонние анализаторы статические к себе интегрировать вот мы этим воспользовались и мы не считаем их конкурентами потому что но мы считаем как бы да я уже говорил что чем больше вы всего используется тем как бы лучше вы можете в этот центр куб очень много всего добавить все статический анализаторы по-своему хороши да там кто-то ищет запахи в ходе кто-то там нацелен на какие-то оптимизирующие диагностики да там мы вот ищем просто ошибки конкретно вот сегодня мы вот поговорим принципе на том же на примере того же проекта spawn уже нам известного поговорим как развернутся на арку ну так не очень правда может быть подробно потому что мы уже ограничен во времени к куда инсталлировать плагины настраивать там профиль и качество настраивать правила для правила того как эти quality gate будут применяться на ошибки когда которые будут туда попадать вот ну и там различные еще дополнительные вопросы да и так же посмотрим в конце как это можно связать дженкинсон конкретно про наш плагин могу сказать что он состоит из двух частей собственно плагин и так называемый языковой плагин но сейчас филиппа там более подробно про это расскажет процессе доклада вот ну собственно давайте приступим цен орков и так значит когда вы просто кочевать снорков до вас чтобы его запустить у вас есть папка бен здесь основные платформы под которым может пускать мы будем запускать под linux моего с 864 и у него здесь в принципе самое главное то есть сценарий sage скрипт при помощи которого краз стартует сервер для того чтобы стартануть sonar sh старт так у вас будет запустится в отдельном потоке мы уже запустили с ну что у нас здесь есть когда в первый раз заходите там под админку давнего стандарт admin admin первое что он вас просят то что да давайте сделаем две вещи первая сформируем публичный токен для чего нужен если вы формируете пользователи до которые могут триггерит анализ насмарку то вы можете вместо того чтобы давайте свои аутентификационные данные там типа логин пароль да вы можете предоставить вам публичный токены все он при помощи ток будет запускать и вторая вещь которая просится это возможно будет предварительно сконфигурировать проект который соответственно в дальнейшем будет проверяться мы с гибким этот шаг поскольку в итоге там она покажет вам команду при помощи утилиты sonar сканер будет загружаться результат sonar куб с анар купами это модуль client серверную архитектуру где у него сервер sonar куб это вот как раз будет выбить web-интерфейс да здесь вы будете именно просматривать уже основную часть то есть предупреждение кто виноват том что до пустилась эта ошибка и так далее и клиентская часть это просто там утилита самар сканер которая уже будет собственно 39 анализ sonar сканера существует для разные форматы существует то есть самая основная и the summer сканер который будет триггере цис консоль просто нам повезло проект мы ивановский поэтому есть отдельный мэйвен плагин который все за нас все сделать автоматом что нам необходимо сделать следственно первое это да установить плагин и мы будем использовать три плагина для собак со для sonar java и наш плагин соответственно мы просто сейчас подменяются и собственно кладут откуда все плагины это папка с марку stations plug-ins здесь будут лежать в начальной инициализацию если бы вы там будет посмотреть плагины для порядка 10 языков программирования различных там будет java там будет все шар там 5 и так далее необходимо там джентельменский набор за так и два плагина будут обязательно лежать для систем контроля версий для из вены для кита это необходимо для того чтобы blame информацию тянуть и показывать кто именно виноват естественно перезапустим пока сервер чтобы все наши плагин перри ставились сама restart что необходимо чтобы использовать сонар куб ровно две вещи первая кальки profile профиль качество вторая вещь quality gate это некоторое состояние определенный набор правил до который будет вам говорить что каково состояние вашего проекта там например можно будет определить правила что если у нас новых багов больше чем один там до больше если у нас там уязвимости больше чем один или же там зависимости от код смелов да то состояние проекта будет вы стану там варнинг или же r100 цена от этого можно например останавливать ваш pipeline так давайте мы собственно займем с тем что культе profile от настроим сейчас то тут уже существует определенно бор правил для java каждый плагин там может по умолчанию свой билд yanofsky набор создать онлайн бакс есть сонар вы и которые чисто просто наркомовский правило мы создадим свой новый за ему workshop например язык java и теперь нам надо просто наш профиль качество наполнить необходимым правым правилами переходим во вкладку rules здесь соответственно все наши правила находится 3 различных анализаторов вот например то есть на каждый вы можете переходить и читать информацию о нем что это за диагностическое правило какого она типа как у нее уровень достоверности какие возможные теги сын арку предлагает для вот этого правила и плюсом некая документация что она делает ну и плюсом вы соответственно если вы прочитали и думайте но вполне нам подходит такое правило активировать его для для нужд для вашего нужного профиля качество да и можно и если плагин вам предоставляет вы можете например даже периода переназначить вот как здесь уровень достоверности для этого правила то есть стандарт он пример считает что это менеджер до уровень достоверности говорить и для нас это очень критично поэтому аж давайте блокер сделаем так придется настроить все правила но мы не будем этим так заниматься сделаем что сын орков предоставляет неплохие средства фильтрации мы выберем репозитории до тех вот набора правил да здесь у нас есть сонар на лазер этот как раз она java есть файл бакс ну пишется здесь fine баксов формально там spot бакса и повис studio можно применить все это сразу балкончике weight in говорим воркшопы в качестве нашего профиля качество активируется и вот у нас сейчас будет там 1040 правило 3039 потому что одна уже активировал все теперь у нас профиль качество готов что можно делать во первых профиль качества можно ставить сюда по умолчанию это дефолт это значит что каждый новый проект который вы будете загружать всн орков если не имеется никаких настроек по начальных предварительных то будет брать этот профиль качества и с этим профилем будет проверяться ваш проект или же вы можете создать ну предварительную настройку сделать для проекта и поставить ему свой определенный профиль качества для нужен для имя для этого проекта вторая вещь настроим это quality gate как раз набор правил который будет говорить что у нас состоянием проекта здесь мы добавляем какие-то условия ну например давайте что мы скажем что если у нас больше чем ноль багов да и то если у нас больше чем ноль уязвимостей если у нас больше чем код смелов новых код смывов больше чем четыре состояния варнинг будет выставляться там больше девяти естественно сразу вверх и также можно его поднастроить для каждого проекта использовать только определенный профиль качеству мы сделаем это же по умолчанию всегда он будет использоваться для нового создаваемого проект дальше всего теперь необходимо что сделать просто триггер нуть sonar сканер который запустит офисе анализ начнет потом загрузку sonar куб нам опять как всегда повезло у нас есть во-первых мы будем показывать еще также это все на примере дженкинса у нас есть spoon проект который нам и иван поэтому нам все достаточно будет просто первое что у нас наш топ pipeline который был исходный немного видоизменил наш pipeline все так же остается на чьи chocolat шаг все также потом сборка идет после этого 3 гевинсон орков уже в виде как три девицы нарком здесь данность формате мэйвен указываем все те же самые опять шаги pvs-studio персонала из-под бакс spot бакс sonar sonar это будет как раз три анализатора ну и плюс для нашего анализатора надо еще указать дополнительный флаг откуда брать ему xml отчет этот соответственно pipeline и и настроим это раз второе что значит есть плагины у дженкинса для интеграции summer куба там как раз предоставляется неплохой шаг который будет вытягивать состоянии quality гейта и передавать его на сторону дженкинс и дженкинс может из-за этого pipeline ваш обрубить что необходим для этого необходимо сообщать от со стороны сына куба что определенный веб хук настроить вот такой назовем мы просто дженкинс и его смысл то что он будет передавать просто запрос что у нас все готово ты можешь врать состояние проекта от кольца гейта и например повалить богу ведь весело pipeline плюса надо настроить сам дженкинс еще дополнительная дженкинсон 1 строить с откуда с каким сервером он будет и собственно сообщаться добавим сервер назовем его пока локалхост сервер типе локалхост 9000 вот можно еще дополнительный параметр настроить там версия мэйвен плагина саровского который будет использоваться нам это не нужно а дешина параметр который будет в самарской анар передаваться ну и дополнительные параметры которые передается сам уже самому sonar сканеру также смысл чем всегда стандартно используется засияла и утилита то есть в любом в любом способе используется на самом деле sonar сканер силой мэйвен просто формирует для него alexander project пропить из которой протолкну там необходимый набор параметров и потом передаст это все sonar сканеру на сканер на основе этой информации уже три гернет все вам необходимы стоите на настройку дженкинс мы сделали все вроде сделано теперь уже можно собственный триггер мой проект просто pipeline естественно сейчас немного paypal они наш перестроиться теперь стал стать понятие static analysis не будет ранд с все также может оставаться для чего вам в принципе дать antigate нужны теперь у вас уже есть несколько различных утилит вас может быть что на самом деле статический анализатор кода вы можете интегрировать динамический анализатор кода добавить в sonar куплю информация code coverage написать для вашего утилиты которые например ищет запахи кода вы можете также написать плагин определите на определенный набор правил и также загружается наркоту информацию то есть вы агрегируется с различных инструментов все результаты отчета и будете видеть их только в одном месте в этом смарку by с плюсом он вам будет вытягивать информацию там кто им на виноват в допущение вот этой ошибки на эту строчку кода при этом как мы сейчас увидим и посмотрим там все основано это еще tracker обыкновенный каждое предупреждение это отдельная прям вот круга ряд task вы можете будете видеть какое состояние у него какое какой тип это предупреждение кто виноват все возможные теги для этого предупреждения и так далее станут у нас первый уже анализ наш по в студии прошел сейчас пошел уже spot бакс после того как собственно вас все три анализатор отработают дальше формально sonar сканер начинает индексировать ваш файл и это вот как раз этот шаг это ты пошёл у вас проиндексировать все ваши файлы вытянется было им информация что там еще и в принципе значит дополнительно у вас может быть подпроекты их также проиндексирует sonar сканер то есть у вас будет может быть ситуация когда вас есть один общий проект у него под проекты в терминах sonar куба у вас будут под модули каждый под модуль может быть также потом просматривать естественно после того как пройдет как каждый вот анализ прошел сформируется файл формально но для спорт бокс для нас формально вообще создается просто файлик в котором есть набор вот этих предупреждений дальше вы пишете плагин плагин просто берет этот файл парсит его и отправляет данные на базу sonar куба то есть это один из способов как написать свой плагин второй способ это вы можете вообще автоматизировать всю вашу работу вашего утилиты то есть формально плагин будет триггерит ваш утилиту утилита может сразу например не куда-то записывать файл до сразу же например отправлять данные наса нарку это второй вариант по второму варианту написана сама jiang раз в теле то наши pvs-studio и spot бакс реализована как раз по принципу просто уже на готовом файлики загружаем данные ну и собственно после того как весь анализ проходит дальше все это отправляется сразу на сервер sonar куба дополнительно еще запускается процесс который там все это обрабатывает и после того как вот это все отработает культе гид выставляет исходя из метре которую насобирал количество новых ошибок количество новых от уязвимости который нашел количество под смелов на основании этих метрик он вам выставит станет анти-гей то это кольца gate можно уже потом использовать для того чтобы pipeline там обрубить или нет все зависит от того как сделан вот сборка готова на sonar кубе я в этот момент сейчас еще будет крутиться еще один дополнительный task наш причем pipeline при этом как раз и будет ожидать стане quality gate при этом дополнительные тут интересно и fitch да то что у вас сразу можно будет переходить на из дженкинс of sun or куб смотреть все то что у вас происходит но данная сейчас пока ситуации там background task работает который всю эту обработку делать после него уже можно будет смотреть на весит проект есть соответственно на стороне дженкинса кольца gate статус пока будет ждать пока придет notification мы пока посмотрим на весь наркот что у нас тут есть интересно естественно в вкладке projects и вы можете смотреть будет все ваши проекты здесь пока он будет один пункт состоянии к летяги это то что он прошел выполнили все условия то есть у нас там нету новых ошибок нет новых уязвимостей и так далее в первый прогон у вас происходит в принципе такой же процесс как мы рассказывали просто произ базу то есть на первом этапе считается вот все вот эти предупреждения у вас как технический долг и поэтому у нас quality гейтс соответственно статус у него секс с в дальнейшем уже когда у вас будут там добавляться на предупреждение уже может метрик отработать до его состояние сразу карте гейта варнинг или р что именно здесь у нас есть вот эту страницу можно показывать уже менеджером проектов то есть на ней что здесь у нас изображена сколько багов мы нашли сколько уязвимости на самом деле это не уязвимость это потенциальная уязвимость то есть чтобы ошибок ошибки подобного рода стали уязвимостями да и можно было называть так надо написать пруфов concept доказать что есть сценарий эксплуатирования уязвимости и потом я уже будет присылаться ты идентификатор сирии и командовал дробились на яндекс пользуюсь она тот также уже по некоторым формам считает вам сколько технический долг то что вам выправлять двести тридцать семь дней уже почти целый год код смел и если сюда еще подпилить он может вам и code coverage показывать плюсом стандартно sonar куб вам уже считает сколько у вас кода дублируется сколько в процентном соотношении сколько в реальных единицах вот эту страницу как искал мы можем показывать менеджер проектов они будут собственно смотреть за качеством при этом от прогона к прогону там будут и графики рисоваться красивый и показываться сколько новых ошибок появилась для разработчиков нас же интересует вкладка isis вот здесь уже собственно это стандартный tracker можно вот так назвать на каждое срабатывание у вас создается и такая отдельная тоска здесь можно как раз при нажатии она вам сразу открывает исходный код подсвечивает и система контроля версий если она есть сразу даже вытягивается кто виноват когда был вина когда был кот заложена и так далее при этом мы сразу можем для этого предупреждения его редактировать то есть мы можем вместо того что код смыл считать его там пример уязвимостью до поставить ему определенный уровень достоверности поставить ему статус то есть мы можем сказать что он все это просмотрен действительно доделать или зарисовывать это как исправленный там и так далее при этом значит если у вас sonar кубе я зарегистрированный пользователь это автоматом посетим контроль версий оно будет выставлять вам кто причастной к ошибке если еще и дополнительно снорк оба настроен почтовый сервер да то она будет ему тут же еще и письмо высылать письмо счастье ложка дегтя то что на каждое такое вот срабатывание высылается ровно одно письмо с 96 срабатывания 96 писем неприятность да конечно что поделать поэтому свое время мы гора деле отдельно утилит которые все срабатывания собирает и одним только по 7 высылает при этом все также доступны и различные форматы фильтрации то есть человек может просматривать по например предупреждению какому-то конкретному все будут срабатывания 152 только про это но по идее самое интересное это выставлять то что это баг например даст дальше как весь принцип работы вы смотрите на критические какие-то ошибки просматривайте их вы проявляете все также закладывайте свой код вот здесь например да он говорит то что есть классов шинода с него какой-то метод вернул общину общину не проверили тут же за использовали в нем может быть на лоб не известное состояние это может привести к реальной ошибки соответственно в чем еще интерес сейчас найдем если у вас на строке кода выдается сразу несколько срабатываний то они будут аккумулироваться 1 заодно и и вы можете так просматривать плюсом можно тут же прямо смотреть документацию там при нажатии многоточие смотрите документацию читать в чем проблема выправляет вот при этом если разработчики плагинов предоставили такую возможность тот иногда тут каждое правило еще и дополнительные строчки кода вы указывают то есть то он говорит что на point are exceptions существует почему и начинается вот рассказ да то что первая функция может вернуть нам то что мы это сохраняем то в какую-то переменную и так далее и вот за счет этих вот дополнительных меток можно например указывать там в чем проблема да коллеги но вот филипп показал такие как бы основные вещи sonar куб достаточно такая объемная как бы система тут много нюансов да ну мы попытались показать именно как бы вот этапы именно интеграция анализатора мы показали вот на филипп показал на примере трех анализаторов для для других там принципе не сильно все это отличается что я хочу как бы сказать в конце до что вот чем хорош sonar куда он как раз следует этой парадигме да что вы используете то что что что хотите что можете как можно больше инструментов может быть разной направленности чтобы покрыть как можно больше ситуацией или выбрать инструмент специфические для вашего кода да там может быть вам может быть вас отличные программисты ошибку ошибок вообще не допускают но вам важно там скорость работы кода тогда будут кито своей там анализаторы вот у нас есть запись мастер-класса прям после на арку по на там такая большая серьезная если кто-то интересуется можно прийти на наш стенд и взять там ну в общем ссылку да там такая бумажка у нас ну и в общем найти эту запись посмотреть вот и что-то еще там ну или приходите в любое время на наш стенд сегодня-завтра ответим на любой там дополнительные вопросы по этому мастер-классу еще там по нашему анализатору вот если сейчас принципе и какие то вопросы по второй части мы как бы готовы ответить на вопросы добрый день александр компании мы используем ваш утилита членом давно и в принципе довольны есть такой момент что она не умеет как раз такие как sonar куб определять владельцы чем сетов строки кода где конкретно разработчик указывал для этого сделали свою программу которой ваши репорты парься я так понимаю ваши вот этот плагин решает эти все проблемы то есть он в принципе может быть интегрирован получает всю информацию из tfs в мастифа дэш на сервере чаще используется и может получить именно пользуешься подсчеты были читаемом виде для разработчиков основная была жалоба что человек получает огромную простыню со списком ошибок и не может понять где его кот и где он должен посмотреть как я понимаю вот этот плагин который мы еще пока не использовали он эта проблема должен решать и в принципе у нас тоже если он арку для шаркова части и он как бы прекрасно работает то есть если мы ваш плагин ставим и мы получаем законченную систему которая позволяет получать именно пользователи отправлять им письма нам не нужно будет своего деда крутить надо ну вот именно вот эту цель мы преследовали когда делали плагин для sonar куба потому что ну очень как бы серьезные системы и ну может быть даже был бы не совсем целесообразно вкладываться чтобы создавать такую же если люди уже все как бы сделали пожалуйста мы как бы приветствуем очень такие вот кейсы а покину вас отдельные деньги лицензию планету нотрон сцене у нас очень простая лицензионная политика у нас нет деления по языкам по коллагеном только время использования все то есть у нас только подписка ну то есть вот критерий тогда попробуй большое спасибо спасибо вам спасибо большое да коллеги ну в принципе если больше да если больше нет вопросов коллеги огромное спасибо что вы нашли время еще раз повторюсь приглашаю вас на наш стенд в любое время у будем рады всех вас видеть я надеюсь было полезно спасибо спасибо коллеги спасибо большое за доклад выберите самый интересный самый объемный вопрос вопросов было много филипп напомню вот чет мне кажется уже некоторые ушли сейчас будем их искать ну вот человек подходил спрашивал мы кстати хотим вот с этим человеком еще пообщаться был вопрос про пра пра пра пра пра пра сборочной систему дам хорошего продавал хороший вопрос один подарок можно подарить да да да давайте вот было очень такое вот а вот вот парень da vodka da da da"
}
{
  "video_id": "SszWYsEio7E",
  "channel": "HighLoadChannel",
  "title": "Пиксельные шейдеры для Web-разработчиков / Денис Радин (Liberty Global)",
  "views": 472,
  "duration": 3164,
  "published": "2018-08-16T04:39:49-07:00",
  "text": "да меня зовут дениса вы можете найти меня в сети под псевдонимом писав скамандер хотя а живу в амстердаме организовывал кроме того что занимаюсь фронт-энд разработкой конференции react амстердам амстердам джесс и виду несколько комьюнити работаю в компании evolution гейминг где мы разрабатываем онлайн игры с помощью webgl я лично пишу blackjack с реакторе дюксом очень интересная связка получается react редакции вирджил и что на выходе получается это очень много компьютерной графики с эффектами пишем шейдеры но в то же время работаем с мы стрёмными технологиями вроде реактора typescript а вы пока и так далее итак вопрос вопрос сколько языков программирования распространено в вебе большинство из нас скажут 3 кто-то скажет 4 если самом деле какие-то специфические языки типа r m l но они практически мертвы на самом деле хорошо поддерживаемых языков большинство знают html css java script и с реджи правильно но есть еще один язык который поддерживает цену текущий момент всеми браузерами и на всех платформах и этот язык очень сильно отличается от предыдущих по многим параметрам язык называется джейл сел его поддержка на текущий момент полная среди браузеров и он замечательным замечателен тем что в отличие от java скрипта в отличие от css html а он не родился в вебе он пришел в других платформ и он нативно поддерживается многими другими платформами многими другими языками программирования то есть однажды выучив джейл сел язык программирования шейдеров вы можете использовать его в unity все шарпеев си плюс плюс и так далее так далее так далее все платформы которые поддерживают об angel вы можете переиспользовать эти знания там также джейла сел это технология за всеми шикарными визуальными эффектами которые мы видим современных компьютерных играх каустика освещение bump mapping и так далее так далее так далее с помощью голоса у можно выполнять параллельные вычисления на джипе you огромный объем вычислений в сотни и тысячи раз быстрее чем вы можете сделать это с помощью java script а также вы можете майнить криптовалюты стоимостью джерси правда здорово и конечно вы можете разрабатывать какие-то ю ай компоненты с помощью джерси достаточно заинтересовал языком давайте продолжим начнём мы с истории когда и зачем был изобретен жилось л немного теории до появления glsl pipeline рендеринга об angel выглядел таким образом на вход подаются вершины из этих вершин собираются примитивы затем примите вырасти рисуются они обрезаются и накладываются текстуры которые также подаются в pipeline на выходе получается не как некая картинка на вводится в монитор но здесь есть небольшая проблема все это здорово работает но как только вам нужно сделать что-то особенное вы практически сделать этого не можете потому что pipeline задан жестко вы подаете вершины подаете текстуры из этого формируются изображения давайте рассмотрим простой пример нам нужно сделать туман есть специальный opengl extensions для тумана но каждый раз писать тексты на на си плюс плюс довольно трудоемкая задача они тяжело переносится платформы на платформу есть какие-то более частные кейсы но вот туман это очень простой на тумане можно легко показать математику которая стоит за пиксельными шейдерами дети ландшафт ландшафт был подан как в pipeline как массив вершин верно нам нужно сделать на него на нем эффект тумана что мы можем сделать можем каждому пикселю экрана применить следующую формулу фок в или это расстояние от камеры до поверхности на этом пиксели затем умножить на плотность туман а затем цвет пиксела будет равен текущему цвету пиксела без тумана умноженному на фок color умножить на количество тумана которые мы получили в предыдущем выражение то есть это самый простой спецэффект который можно просчитать математически и на примере этого мы видим логику которая лежит за пиксельными шейдерами самом простом виде вот уже с применённой формулой и тот же ландшафт жила сел появился в апреле версии 2 которая была самым большим апдейтом об angel за всю историю с момента появления в девяносто первом году и был встроен в pipeline рендеринга таким образом мы по-прежнему подаем вершины на вход далее эти вершины обрабатываются корректным шейдера мы можем применить какую-то математику к вершинам затем строятся из этих измененных вершин примитивы также роста рисуются здесь в игру вступают пиксельные шейдеры пиксельные шейдеры позволяют каждому фрагменту или фрагмент ные шейдеры часто английская литература изучается каждому фрагменту то есть пикселы экрана применить какую-то математику и затем уже это изображение обрезается и выводится на экран таким образом pipeline рендеринга становится программируем ok давайте поговорим о том что делает джелло сел очень очень очень особенным языком особенно если который программирует на java script личность большинство же wisecrack разработчиков мы все привыкли к очень и очень высока уровне мой язык и java script он на высокоуровневый вы к железу практически никаким образом не относятся только через какие-то опосредованные 5 и он динамический типизированный здесь жила сел это что-то кардинально иная несмотря на то что вы можете применять ее в браузере но если вы немножко устали от java script она тут жила сел для вас будет язык с глотком свежего воздуха почему давайте посмотрим на фичи джо у села но начнем с фичи которая определяет его сущность для вас как для веб-разработчика жила sell it apart часть спецификаций в джилл и по сути он выполняется в контексте канваса в контексте вирджил то что вы понимали какая что там магии нет это все отображается на канвасе очень важный очень интересной особенностью jell-o съел является ее его компиляция на джипе то есть если джесс мы процессе с помощью процессора либо джастин тайм компиляция либо это какой-то б было так далее то эта штука она компилируется на видеокарте вы отправляете текст на видеокарту текст исходный код и затем вы получаете ответ скомпилирован или нет и либо ссылку если компиляций успешно то ссылку на результирующую программу благодаря тому что компиляция идет на железе непосредственно каждый видеокарта каждый видеокарта компилирует это под себя каждая система компилирует это под себя это чрезвычайно кроссплатформенный язык везде где ageless л поддерживается он поддерживается есть несколько версий но в вебе есть вероятность практически стопроцентно что это все будет работать на любом желез и благодаря тому что компиляция идет на железе это чрезвычайно оптимизирована под железку под наивысшее быстродействие мы уже говорили о том что с помощью джилл сел можно делать параллельные вычисления например видеокарта gtx 970 запускает одновременно 1664 желал потока и обрабатывает и купи вся эта мощность позволяет производить вычисления как я уже говорил в десятки тысяч раз быстрее чем на java скрипте вы представляете скомпилировалось на железе выполняется на железе на специальных устройствах в 1664 потока одновременно не перекрывая друг друга хотя это накладывает некоторые ограничения на то каким образом поставляются данные вычисления вы не можете поставить вы не можете результат предыдущего вычисления завязать на результат следующего или наоборот вы можете только поставить какие-то данные одновременно скорее всего вы поставите опять же вершины и текстуры и затем выполнить вычисление можете сделать два прохода но никоим образом один пиксель на 2 уже не повлияет либо поток gsl это язык со строгой типизации основные типы это флот интеджер boolean вектор двухкомпонентной по сути это двухкомпонентный массив из двух элементов 3 4 матрицы 2 3 4 размерные это те типы которые присутствуют в джерси они очень ориентированы на математику и весь функционал языка все ключевые команды встроенные функции все это очень сильно заточена под математику давайте посмотрим некоторые из них из них это перевод градусов в радианы наоборот синус и косинус и тангенс здесь обрезание потом сам микс степ это функция которая обрезает значение даёт единицу если меньше заданной если число входящие меньше заданной edge и 0 если больше с mustek делает интерполяцию если между двумя значениями число то она от 0 до 1 интерполирует входящие значение на основании того в каком месте между двумя за данными величинами находится входящий то здесь весь цвет математических функций даже больше ok давайте перейдем к практике мы здесь собрались не для того чтобы теоретизировать на самом деле мы в итоге напишем свой первый пиксельный shader но напишет его только те кого есть лаптопы кто может зайти в интернет открыть лаптоп если вам интересно это самое время начать расщеплять лаптопы и пробовать подключиться к интернету я надеюсь что интернет здесь есть потому что этот опыт скажем так барьер при начале работы с жалел сил он довольно большое на самом деле потому что вы никогда этого не писали это совершенно другой язык и если вы сделаете этот первый шаг и напишите что-то небольшое то потом очень большой шанс что вы придете домой и вас это заинтересует и вы напишите свой второй пиксельный shader или на работе где-то этом он пригодится хорошо пойдем на здесь пока можно меня не фолловишь здесь я просто покажу самый простой shader и что там происходит вот самый простой shader у нас видно да там здесь совсем немного кода 9 строк справа результат его выполнения первое мы определяем float переменную радиус которой равна 20 затем центр это двухкомпонентный вектор сто-сто здесь мы уже можем поменять и получить какой-то результат она автоматически компилирует автоматически отправляет в израильской скорость компиляции на видеокарте самом деле все работает очень быстро потери небольшие практически в реал тайме редактируется вот затем идет функция main кстати заметьте что здесь juve координаты то есть 0 0 будет в нижнем углу они верхнему хорошо дальше идет функция main с которой начинается выполнении любого шейдера дальше вычисляем дистанцию от текущей точки текущая . это джейл фраг kaart входящие в shader переменная берем у нее x y и вычисляем дистанцию до центра центр мы задали вот здесь да и записывает в переменную distance ту центр следующая перемена которую мы вычисляем это перемена называющийся in circles которая будет единицей если мы в круге и нулем если мы не в круге определяется это все очень просто мы делаем distance центр меньше радиуса если меньше радиуса значит мы в круге на выходе мы получаем здесь in circles один либо ноль и вот эта переменная джейл фраг color она выходящая то есть мы вот эту единицу передаем сюда цвет джел фрактала это 4 компонентный вектор р джубей только не 256 как не побайтно и как фотошопе от 0 до единиц и мы можем что же можем сделать мы можем покрасить за что-то какой-то другой цвет здесь очень много разных штатов в брюсселе например сейчас мы передаем единицы она заполняет все компоненты вектора вот вектор 4 компонентной мы передали туда единицу это раз расширенный overloaded конструктор и также можем передать все компонента можем передать двухкомпонентные вектор еще два числа это очень интересно но с этим можно разобраться чуть позже хорошо это был самый простой shader который никакой смысловой нагрузки не несёт за давайте перейдем к решению практической задачи однажды осенним утром мне пришел task в дыру в томске в этом говорилось про прелоадер был у нас прелоадер мы писали операционную систему на java скрипте прелоадер был вот такой вот вполне себе обычный прелоадер который крутился вертелся но иногда с ним происходили проблемы когда шел какой-то бы grown процесс он подергивался происходили какие-то джанки я начал разбираться что там происходит бехайм заз sens и нашел что дизайнеры и программисты этого куска кода не заморачивались они сделали вот такую простыню и sprache это и затем с помощью background позиция на они все это анимировали так как бы ground позиция вызывает repent при изменении то естественно у нас был repent думаю что многие знают уже об этом много раз говорила что repent это дорогая операция ее можно отследить включив repent mountain бокс опцию в рендеринге в хроме там сафари тоже есть такая опция но смысл в том что очевидно здесь происходит rip and это все дорого и нужно а ты бы ground позитано уходить уходить от бы ground позиция нам нужно с помощью джипе ускоренных свойств css одно из джипе ускоренных свойств css это по сети и opacity можно применить таким образом казалось бы да как opacity применяется как она может как можно с помощью вас проявить эту анимацию можно что сделать можно положить таким бутербродом все кадры которые были в спросите и через opacity менять отображать нужны таким образом создается точно такой же прелоадер и на этот раз с помощью аппаратно ускоренного средства про аппаратного вскоре аппаратно ускоренного свойства css про это есть куча отдельных больших крутых докладов я не буду заострять внимание но смысл в том что при поинтов не было все классно заработала коей были восторге все работает классно чувак молодец а теперь давай исправь нам другой спиннера который синий и пять пиксел ширину я подумал это здорово мы можем исправить этот спиннер но для этого нам придется сделать новый спрайт шит а новый спрячет это не только 100 килобайт загрузить но также нужно развернуть его в памяти сначала развернуть в памяти оперативной затем его нужно способ поместить в видеопамять потому что у нас создаются текстура видеопамяти на каждый кадр 150 текстур это как минимум 8 мегабайт в видео и затем 8 мегабайт в оперативной памяти для одного спиннер а если у нас два спиннер а то это уже 40 мегабайт если у нас три спине рад это 60 мегабайт только на спиннеры в операционной системе это немножко ту матч было я думаю для любого мобильного приложения 60 спиннеров это немножко ту ноту матч поэтому я понял что у нас есть проблема у нас есть проблема что наше решение она негибкое нужно куда-то мигрировать делать что-то иначе с помощью css сожалению такой спиннер воспроизвести у меня лично не вышло может быть есть какие-то гениальные способы это сделать но border-radius там тоже перерисовывать будет и в целом я пришел к выводу что сделать это можно с помощью джел сел носит жилось это сделать делается легко и затем это все легко параметр рисуется тут мы подходим к нашему первому пиксельные шейдеры который я вам обещал на экране адрес это адрес give up репозитория с файлами воркшопа скорее точнее там один файл всего и в этом файле есть коммиты здесь есть 8 комментов на понимаете степ 17 23 как это будет все происходить дальше я вам настоятельно рекомендую установить плагин для хрома загуглить сейчас refine и в git хоп настоятельно рекомендую потому что иначе вы будете выделять шаги с плюсиками там вот эти плюсики добавлено добавлено добавлено а refine get копать и плюсики убирает в отдельный div и вам будет намного удобнее загуглить refine it did have он есть я его туда и ставила думу что здесь отсылка на него есть просто ссылку с этого магазина ну да вот он refine гид хоп добавлено меня у добавлено в chrome мне будет удобно вы поставите вам будет тоже вот нужно еще подождать кого-то нет хорошо рожи затем мы открываем замечательный editor за буков shader задком урал вы видели editor dot звуков shader задком это онлайн редактор для пиксельных шейдеров и туда мы заспойлерил все затем мы открываем шаг 1 и копируем шаг 1 вот в этот редактор эти три раза буков shader задка откроем на экран лишь что у нас здесь есть здесь мы рисуем тот же круг но мы вынесли определение лежит ли точка в круге или нет в отдельную функцию это нам в будущем поможет лучше все компоновать естественно взрослые люди понимают в отдельные функции мы задали здесь пи заранее будет использоваться центр мы вычисляем теперь как половина от разрешения экрана unipharm вот здесь вот в переменных доведите и не форум vector2 юрий solution это значит что юрий solution пришел и java скрипта java script может же лучше жилось шейдеры передавать один одиночные перемены это происходит достаточно быстро опять же они предоставляются раз за проход шейдера но тем не менее вот запомните uniform значит пришлось java скриптов здесь же вас крип нам прислал что canvas имеет размер такой-то и такой-то если мы размерами умножим на 0,5 мы получим центр нашего канваса и затем радиус мы вычисляем как максимальный вписанный в windows в main у нас изменения в связи с тем что circles это теперь отдельная функция теперь у нас из field это функция которая определяет лежит ли точка в круге либо нет и здесь изменение есть мы из единицы и вычитаем из field для того чтобы сделать фон белым то есть цвет обращаем хорошо 1 нужно еще кого-то подождать вот с первым шагом там с открытием за букв шейдеры задком и дитера репозитории называется вот здесь если видно пиксел скамандер pixel shader workshop я перестаю этот ощущаешь вот репозитории хорошо давайте продолжим к следующему шагу шаг 2 ну и неплохо было бы взглянуть вообще на то что мы делаем нас есть вот этот вот замечательный спиннер он состоит по сути если перевести это на кита геометрические термины это арка которая изменяется угол охвата постоянно динамически рисуется арка и у нее изменяется начальный и конечный угол мы будем пытаться воспроизвести эту же логику в шейдеры поэтому для того чтобы это сделать мы сначала печем сектор от окружностью это тоже вместе с вами водка пиво щи увидите в следующем шаге вот зелененьким подсвечена то что мы добавили это замечательное свойство гитхаба можно использовать для того чтобы по шагам делать здесь из field посмотрите что происходит очень важно что происходит с field is field у нас либо 1 либо ноль раньше это определяло окружность сейчас мы это также домножаем на результат выполнения функций сектор функция сектор определяет лежит ли . между двумя углами то есть у нас здесь комбинация лежит ли . в окружности плюс умноженная на лежит ли . между двумя углами если мы уберем окружность из этого умножения то получим исключительно сектор по всему канвасу вот хорошо шаг 2 выполнили идем дальше шаг 3 рисую марку здесь создается функция арки задается функция арки и функции main мы добавляем ширину нам теперь ширина понадобится вычисляем внешний радиус и внутренний радиус об нас появился появилась арка ждем еще кого-то надо подождать до но вы можете сразу прыгнуть на шаг 3 допустим из этого комента скопировать скопировать сорт и продолжить с нами вот тут мы если хорошенько присмотримся не знаю позволяют здесь разрешение до позволяет мы видим что арканы немного пикселизированным есть такая лесенкой идут пикселя и это происходит потому что при рисовании круга - рисования круга вот функция которая говорит лежит для точка в круге либо нет мы используем функцию о которая уже раньше говорил степ и функция четко отсекает если больше заданного значения ту 0 если меньше то единица в результате у нас идет четкая либо пиксель черный либо пиксель белый для того чтобы это исправить мы переходим шагу четвертому самому простому и используя функцию smooth stab которая интерполирует между двумя значимыми величинами мы получаем сглаженной слаженный арку дальше арка у нас готово нам нужно теперь сделать анимации давайте еще раз посмотрим на спиннер и попробуем декомпозировать анимацию и здесь две на самом деле одна анимация схлопывается захлопывает арку 2 анимация вращает весь спиннер сначала сделаем вот это вот схлопывание захлопывай не орки мы видим что сначала она ускоряется и затем в конце цикла замедляется если присмотреться это все видно и нам нужно использовать здесь математику здесь хороший easing функции будет синус в пределах от минус п на 2 до пи на 2 он сначала ускоряется и затем замедляется шаг 5 анимирование краев что здесь происходит мы берем время в замкнутая в пределах от минус пин a2dp на 2 и берем и затем применяем функцию синуса к получившиеся значения умножаем это на 360 получаем градусы и наша арка она заранее была готова я немножко пропустил на функция функция арки написано так что она принимает начальный и конечный угол если мы все это дело ну поверьте на слово что арка рисуется с начальным и конечным углом назад эти уже не очень хочется хорошо у нас есть анимация и j теперь сделаем вращение вращения делается еще проще потому что есть нужно просто постоянно вычислять функцию синуса от вот вот этого времени умножать все это дело на 2 потому что за один оборот так туда куда встал за один оборот схлопывание расслаивания за один период со 2 бороться с периодах окуня расслабления выполняется один оборот от если присмотреться к начальному спине ru так происходит и вот здесь вот мы добавляем вот это вот переменную rotation результирующую к начальному и конечному углу у нас получился спиннер практически такой же как нам было нужно в этого спиннера можно здесь и с помощью виз мы два круга делали пересекающихся здесь дважды выполняется circle из одного отнимаются другой для того чтобы внутренний радиус отнять мы реализовали то что можно сделать изменяющуюся ширину этого спиннера нам не хватает света пока я делаю цвет вы можете сказать там звук у нас есть вот если с ноутбука я знаю вас здесь вконтакте музыка работают в голландии не работают на тихой и хорошо супер хорошо добавляем цвет нам нужно сначала добавить функцию которая вычисляет из привычного нам photoshop nova art by joel сильно rgb что в как я уже говорил фотошопе orgy и побайтно 256 от 0 до 250 до единиц вот у нас синенький спинеры параметры суэца цвет можно менять он рендерится на джипе то есть задача выполнена при этом этот спиннер занимает здесь семьдесят пять строк кода и это явно меньше чем там десятки мегабайт которые мы использовали для этого но на самом деле многие могут скептически отнестись к возможностям которые дает glsl вот поэтому давайте попробуем применить его полностью и доказать что с помощью джила сел можно управлять каждым пикселам поверхности давайте перейдем в другую в другой в другую зону позволяет здесь немножко разнообразить наше развлечения это назад ну собственно тот же самый спиннер но так как у нас есть контроль над каждой точкой поверхности мы можем добавить ему неограниченное количество эффектов все зависит только от того какой сложности математику вы сможете написать и на самом деле если вы посмотрите доклады по компьютерной графике вы поймете что возможности здесь практически приграничные и все зависит только от вас а есть замечательные ресурсы а вот шейкер то это один из них очень люблю этот контракт бейкер то это один из них вот например вот этот вот космический корабль он полностью нарисован с помощью математики мы можем посмотреть его source code и понять что мы находимся где-то в начале вот этой вот математической эволюции вот есть source code это космического корабля это все описана математическими функциями используется несколько буферов но в целом да это немного кода и при этом вы видите что весьма интересная и контент на я картинка с какими-то текстурами это все практически фантастика на самом деле джилл оцелота тьюринг комплит язык вы можете писать полностью на нем игры и конечно вам придется в текстурах сохранять стоит текущее приложение но сделать на нем можно все у меня и знакомый который написал major sell a и d типа собой мо и он работает в вебе практически без задержек потому что рендеринг идет в одном потоке в главном он идет на jell-o цели а все операции выполняются в покере если вам интересно как жилось л компонент можно ставить в приложении то вы installer уйти из тема geely sl компонент музычку мир не захватят хорошая есть такой пакет жила сел компонент вы ставите так желал компонент внутрь ставите исходный код вашего шейдера и он отображается на странице в том размере которые вы его задали вот встали то есть этот спиннер интегрировать просто этот код скопировать желал компонент и он появится там где нужно вот здесь идет визуализация того как это работает в браузере вот есть спиннер он правда там добавлен еще интерактивность можно через координатой мыши добавлять интерактивность здесь вот при наведении на ободок добавляется утолщение и таким образом можно делать интерактивные компоненты дальше если вам так если вам интересно продолжить то попробуйте звуков shader с это интересный ресурс который постоянно развивается но никогда по всей видимости не будет дописан до конца эта книга которую пишет 17 человек она замечательная но на текущий момент здесь есть три раздела еще четыре нужно дописать не знал пишет и уже несколько лет и это все не очень быстро происходит на она просто потрясающе очень простым очень понятным языком описывает как работать с шейдерами как делать но из как делать какие-то анимации и другие функции в общем то у меня на этом все спасибо вам за внимание и пользуясь возможностью хочется пригласить вас во первых заметить ваш толк если вы занимаетесь реактор и если хотите то посетить самую большую в мире конференцию по react джесс и не только react амстердам в прошлом году это было огромное событие 1200 человек лучше спикеры по реактор будет 13-го апреля приезжайте будем рады видеть спасибо большое вопросы будут я такой вопрос а на выходе только скомпилированный уже джек джерри компонент случае до скомпилированные но в общем вопрос по большому счёту читак могу ли я дать на вход сложные вычисления и получить результат ну в виде опять же вычисленного кота за что можно происходит таким образом считать из видеопамяти значения в же вас крестьян напрямую нельзя но можно выдать это в виде текстуры в виде просто на canvas и считать канал все по пиксель на такой вариант понятно спасибо скажите пожалуйста я вот так и не понял как биндить униформу на кот джейси то есть я хочу сама сапплай чтобы свое за это лучше посмотреть спецификации до gelo я подписал ностях примерно таким же образом происходит просто uniform спасибо еще вопросик передавая да я думаю что об этом тоже будет доклад но там немножко сложнее потому что тебе нужно сначала найти эти вершины их не так много но что когда-то будет доклад про сгибания и разгибания дивов но можно конечно это все в спецификации в джилл jill по сути это интерфейс коп анджелу java скриптов и поэтому то что доступно для open джалла все доступно для рук дело вершинные шейдеры тоже понять спасибо ешь и скажите поток дескриптор рабочий он бы блокировать или нету java скрипта не будет но в целом выполнение может быть там используется рик просто не меньше нравимся что блокирует request понимаешь настроимся будет блокировать дро а мне вопрос вы приводили числа о том сколько это занимает ресурсов ну спиннер помните там ближе к началу доклада и там было 80 войны по моему мегабайт сначала вибро тивная затем видеопамяти да и то приблизительно там есть особенности вычисления размеры текстур и разжать ее в памяти который я не учитывал но это абсолютно arrow если просто битва положить в память то сначала оперативные потом видео то это будет так да извиняюсь что перебила просто немножко проясню да спасибо за уточнения а вопрос мой заключается в том что как то регламентируется лет limited и нагрузки или она будет ну грузит систему до сих пор псков сколько мы там сколько требуется столько на и загрузит оперативки видеопамяти или это как-то речь идет про тот сейчас спиннер до который дьявол все еще промежуточные варианты которые с помощью своих делался там все это работает постольку поскольку позволяют ресурсы дальше зависит от того как настроено ваша система там может быть настроен либо лимит памяти для всего процесса что скорее всего стоит там linux вот leaving the limit памяти вас просто процесс упадет браузер у нас это была главная проблема что он падал либо начнется в очищении либо графический ускоритель может использовать оперативную память для видеопамять эмулировать видеопамять это уменьшает скорость работы там много довольно параметров которые могут влиять на скорость работы но в целом да чем больше памяти вы занимаете тем больше шанс что будет какая-то регрессия либо займется видеопамять на устройстве будет использоваться оперативно затем там оперативно не хватит будет свалится файл подкачки потом вероятно нужно будет освободить java-script хип и сделать garbage collection и так далее так далее то есть конечно чем меньше тем лучше тем лучше для перформанс и продолжаю этот вопрос с точки зрения загрузки ресурсов насколько этот подход который мы сейчас новых что просмотрели лучше с точки зрения ресурсов по памяти он конечно намного лучше потому что не тянуться статические ресурсы он намного лучше по количеству ресурсов которые нужно загрузить тот же спрайты даже слива сделать же бегом или gif омон там будет 100 килобайт весить это довольно много если там 5 спиннеров полгигабайта на спиннеры нужно будет загрузить здесь 70 строк этот просто 7040 кода вот сколько они занимают там килобайт может быть естественно что-то там 500 раз меньше чем 5 спиннеров по 100 килобайт правильно понял что для того чтобы 3 на 3 это на странице используется web components можно использовать web component можно написать свой обвязку веб-компоненты как предполагаемые решение которое позволяет вот из букв shader editor а скопипастить вашей дыру который вы написали в этом онлайн-редакторе ставить его на страницу между тегов gelesen компонент и он будет у вас отображаться на странице в том месте куда вы этот web component поставили решение там много вы можете использовать какие-то джек вере плагины есть мам же говорю плагины для этого web component самый простой синтаксис спасибо здравствуйте спасибо за доклад не очень понятен из кейс этого использования а если какие-то реальные примеры в приложений которые компоненты написаны на ну кроме знаете это очень новая тема я не думаю что есть яндекс карты есть google карты которые используют жила стал шейдера но они не применяют их для интерфейсов потому что не всегда есть челленджи по производительности хотя не уверен что например на google картах спиннер не шейдерных тут в принципе если брать карты то они сто процентов ядерные совершенное в приложении спасибо и еще коротких вопроса и существуют ли какие-то библиотеки или фреймворке чтобы чуть-чуть подняться уровнем над вот чистой математикой фреймворков нет но есть огромное количество helper functions потому что это все таки не такой высокоуровневый язык это математически но helper фарш нас огромное количество вы просто заходите в гугл и gsl но из functions например если вам нужно там китова облачка нарисовать вы берете готова функцию симплекс нойза уложите и себе используете а также можно собирать есть браузере фай да а есть же elseve ой и что он делает то можно included шейдеры и он их потом бандит и то есть баннер для джонса и он вполне рабочий так можно огромные приложение камеры спасибо то вопросы боюсь у меня два небольших вопроса каким образом ну сейчас про сборку как раз была вот допустим я 2 шейдера я могу как-нибудь между ними кот шарить между двумя шейдерами через текстуру можно пожарить кот тоже вопрос понятен да то есть я хочу какую-то библиотеку который за usa для формул еще что-нибудь да которую на место я хочу и в том автобуса использовать чтобы два раза не копировать или посадить или динамическим туда закинуть это золото 2 в чем шейдерах просто динамически туда нет shader компилируется на устройстве и поэтому как то за них никитенко компилирую теоретически да по этому придем к компилируется можно собрать 2 entity сделать как браузере фай можно сделать две библиотеки там библиотека библиотека б обе использовать библиотеку c тоже самое можно собрать здесь два бангла и это самая простая клиенте да прямо клиенте бандерам во время пока там вот и второй вопрос как данные прикидываются сам шейкер ну то есть вот тоже указатель мышки или еще что-нибудь пропитывается вы не за тоже как получить назад получить можно вот вопрос задавался через canvas можно считывать год пиксел у камеру со это единственный вариант как получите туда данные и передать туда есть несколько вариантов самый простой это через сад unipharm это вот эти вот uniform v-ray был с которой там вверху висят тогда вы получите на входе через эту не for можно передавать небольшие значение ну и единичные скажем так либо можно через текстуру передавать взять большую текстуру там 1024 на 1024 это уже там огромное количество значений и загрузить ее туда и вот допустим для больших вычислений и логично использовать текстуру чтобы передать я если динамически вот то есть об новое значение пришло мне нужно передаваться вот это для динамической uniform спасибо еще раз мне ещё у вас возник один по поводу вы говорили что это происходит в отдельном потоке на gpu отрисовка происходит в отдельном потоке не для того чтобы вызвать отрисовку нужно все равно дернуть драко поэтому дракон дергаться и сжала скрипта это позволяет сильно разгрузить живо скрип потому что дом манипуляции с никаких нет сама эта операция она не блокирует java script но при этом если у вас сжал skype заблокирован например какой то вашей тяжелой логикой то этот дракон тоже отложится как request a не меньшим обычно кладу на сколько я знаю что на согласование вот этих двух потоков ресурсов 3 не меньше то есть javascript поток все равно дождется когда же там все закончится и в любом случае javascript поток будет тормозить рисовать это будет красиво но я ! будет да я понимаю чем ты говоришь если сильно тяжелый shader то конечно и java script поток затормозится нарисовать тяжелый shader это нужно еще очень сильно постараться этого должен быть такой космолет который пашей депо пиксель нарисует какую-то тяжелую геометрию тяжело представить что какой-то ивой компонент б ощутимо загрузил java script at red или ощутимо повлияло на java script ряд при любом мыслимом железе направлять там 10000 например все можно нельзя можно нагрузить примерно например я вот иконочки свои анимации захотел над раздавать у меня к тому образу 200 штук каждый из них шевелиться я думаю что это не будет большой проблемой там другие совершенно порядке чисел и тут нужно конечно хорошо понимать природу шейдеров и как это все выполняется для того чтобы не сделать просто тяжелый shader можно просто написать такой shader который там будет экспоненциальное количество операций выполнять на каждый пиксел тогда это все будет тяжело нужно писать правильные шейдеры ресурсы джикию они очень большие спасибо последнего опроса вопрос а вы делали альтернативный вариант для тех систем которые не поддерживают об angel если да то как вы обходили какие альтернативные варианты вот честно говоря если система не поддерживает opengl я не думаю что это там будет работать и что это вообще принципе то можно применить я знаю что есть какие-то эмуляции jell-o села на канвасе но мне кажется что это не имеет никакого смысла потому что придется на каждый пиксел считать очень много java script а я сам берут этот конкретный кейс он настоящий или то удобный это конкретный кейс который мне пришел сети джерри который решался с помощью джонса вы для него не делали никакой альтернативы альтернатива была сначала было решение на если без запаса маша сохранилась какой-то рашида то есть она осталась с css нет и картинками с картинками там очень много ресурсов употреблялся но все же если он жил не поддерживает у нас платформ но на какой платформе не поддерживается кинжал машины на конкретной машине не мы упростили все я честно сейчас не знаю машины у нас во первых было операционной системы под конкретную платформу и там понятный был чип и там был джипе упусти слабый это были сет-топ бокс и которые там 5 миллионов купе они четко задевай nina но даже для веба для широкого я не могу представить день этап angel на любом такой кейс мы делали-делали обработку изображений ну вот у вас очень специфичный кейс что обработка изображений клиент я думаю из одного из десяти тысяч скорее ними работала и этот клиент оказался корпоративном он платил вам много денег ну если такие здесь один замер случаются везде с этим нужно что-то делать самое простое это купить ему новое железо конечно так спасибо большое вам спасибо седая"
}
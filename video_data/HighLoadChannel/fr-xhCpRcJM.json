{
  "video_id": "fr-xhCpRcJM",
  "channel": "HighLoadChannel",
  "title": "Comparison of Kubernetes Operators for MySQL / Сергей Пронин (Percona)",
  "views": 479,
  "duration": 2571,
  "published": "2021-10-04T02:42:07-07:00",
  "text": "да сегодня я расскажу про кудрин эти операторы в для маску и да и если кто не знает оператор это такой концепт или расширения каберне цепи чтобы можно было менеджер апликэйшен и кубинцы примитивы без человека то есть человек вместо того чтобы деплоить контейнеры леди площадь под или тепло и там стоит full set какой-нибудь он тепло это оператор из через оператор управляет всем applications купер найти то есть он кидает копий огромный манифест говорит дай мне десять not дай мне прокси дай мне еще что-то и все магическим образом появляется прежде чем перейти к моей стоил оператором хочется посмотреть на первый слайд здесь видно что есть кубер нет съесть moi ce qu'il это известный open source продукты есть оператор это оператора из детей который был разработан и создан компанией red hat для разработки операторов это тоже все open source и очень здорово что open source развивается open source растет комьюнити все время увеличивается и увеличивается для разных продуктов и мульти рб они как бы ставим своей целью создавать open source продукты все наши решения они open source и бесплатный и мы всегда очень ценим наших контрибьютором хочется посмотреть вот на этот слайд кто нибудь знает что это за слайд никто есть такой человек его зовут дэниэл стенберг он создатель библиотеки лидкор и тузы самой куру наверно все ее использовали когда-нибудь жизни и он у себя в твиттере или где-то ещё собирает разной интересной истории где карл используются например в каждом android девайсе в каждом айосе есть куру это уже миллионы сотни миллионов устройств и недавно он опубликовал в твиттере вот такой вот картинку что теперь куру и на марсе потому что в апреле 21 года там запустили миссию на марс как она in india нити или как то так и там вертолётика такой летал и на нем запущен корни и он вот опубликовал что теперь куру на двух планетах что в принципе очень круто и интересно но купюрницы moi ce qu'il пока на одной только планете но думаю это всего лишь там дело времени если мы посмотрим на эту картинку то в девяносто пятом году зарядился майскую первая версия появилась это двадцать пять двадцать шесть лет назад чтобы понимать в то же время появился 9 первые 9 выпустили любимой всеми 95 винда да потом через 19 лет появился кубер нить из и чтобы опять же понимать в этот же год появился apple watch которую такой маленький девайс и apple pay да кто не помнит что это за сердце такое правильное the hard блит уязвимость в ссср которая позволяла волк у нас цель которая позволяла читать блоки памяти удаленно огромная штука из ржд кучу данных тогда утекло было очень интересно и весело и после того как упираясь зарядилась это четыре года появились операторы оператора с детей и начали делать давайте с диплом нашей апликэйшен и все будет круто это же все у там собственно и вот сейчас мы в 2021 году у mais quel там 164 до 1000 коммитов с 2008 года потому что она на git кабель не так давно появилась и это номер один базы данных open source база данных в мире фазберс потихоньку там догоняет но мой сказать пока держится и купер нить из это тоже 100000 же комментов у него ему всего там семь лет до 67 лет и он номер один для контейнеров когда-нибудь он станет там номер один не только для контейнеров для всего остального если посмотреть вот на эту разницу между 95 мы 2014 годом то видно что пропасть времени прошло это целая плохо для технологий и понятно дело что когда кто-то там девелопер mais quel никто не думала контейнерах а клубный эти forestry вообще о чем-то таком и это было совершенно неизвестная тогда стезя и при этом качестве хочется как-то mais quel и кубер нить из поженить да ну не знаю там у пугачёвой с галкиным получилось почему этих двух не может и сейчас вот мы посмотрим с вами на существующие операторы которые есть как раз можно сказать дети этого брака и что и сегодня на рынке существует как они работают сначала почему вообще появились операторы особенно для баз данных во всяком случае со стороны перк он это выбило так что к нам начали приходить люди и говорить ребята мы хотим запускать май скул в контейнерах или в купер нить мы сказали ok давайте мы вам дадим docker и больше но мы понимали что если мы им дадим докеры мать что они его запустят за пусть засунут это все в к кончику вернитесь она у них поработает потом у них падик перезагрузиться не знаю там надо умрет еще что то они придут к нам и скажут черта но у вас плохой продукт ничего не работает зачем вы нам его вообще ничего не готово поэтому мы начали думать как это можно все автоматизировать чтобы юзер не надо было думать вообще пользователь не надо было думать как он это засовывать купер нить из как она там все запускается и достаточно просто взять операторы скормить ему манифест и наверное такая штука историческое что убирается от номер один для контейнеров сейчас и когда какая-нибудь компания говорит мы хотим делать контейнеры у нас там контейнер история начинается они берут своей контейнеры засовывать их сразу в кубе рный ну вряд ли кто-то сегодня запускает докер просто как докер ну хотя это делают так потестить но в продакшене это редко летит и история такая что сначала был жесткий bare metal были сервера прям железные в строчках там запускались базы данных потом подумали что окей отчетам и много там циpкa теряем много памяти много дисков давайте как-то все более жестко компоновать и начали запускать все дело в виртуальных машинах и после виртуальных машин или параллельность виртуальной машины начали появляться контейнеры этой free bsd джейл и это как и инди-группы в линуксе и появились контейнеры и потом припру прибежал докер сказал что уважаемый бизнес можно делать все намного быстрее давайте все запускать в докер-контейнер их у вас диплом будет супер быстрый и так появился docker и потом появился убирайтесь для оркестра ции сотен и тысяч этих контейнеров которые все куда ты засовывал потому что без регистрации достаточно сложно менеджер у вас они поддаются рим перезагружаются и надо как-то их с одного сервера на другой перетаскивать но вот вы пришли к сотни и тысячи контейнеров все у вас работает в кубе рн эти все отлично но встает вопрос а как это configure то есть у меня есть докер-контейнер да он вроде как им юта был но при этом ни на там какой-то там состилить applications мои добавить мощность ней или забэкапить как мне это делать и у человека начинается головняк что как же мне это все менеджер теперь и приходит операторы операторы как я уже говорил это расширение кудрин и склепе когда вы просто ему говорите сделай мне backup он делает backup на какой-нибудь с три стороны вам не надо думать что ах заблудился ты backup или нет где он там лежит достаточно ли у меня прав и так далее вы просто говорите оператору что сделаем некрасиво и он это делает то есть операторы это упрощения и автоматизация полная и последнее здесь пункт это пир канаде bass у нас есть решение беркана мониторинга менеджмент это туза основанная на графа не для мониторинга и менеджмента баз данных и сейчас мы добавляем туда дойти bass easy service то есть он позволит пользователю за деплоить базу данных используя наши кубер на эти операторы ну где угодно любому бернис кластере и опять же это открытый исходный код можно взять наше решение и использовать его хоть в облаке где-то хоть он прим ну где угодно она будет отлично работать это что касается вообще операторов и почему стоит выбрать операторы как пир кону к этому дошла окей поехали сравнивать операторы начнем наверно с такой серый лошадки мария baby наверное все знают мария тебе она была создана монти или майкл виде news который основал мария тебе после того как oracle купил sun microsystems и он сказал что нет оракал там чуть накрутить на вертит и так и случилось поэтому я хочу мария baby чтобы все было супер open source ее комьюнити дальше комьюнити как как надо но чет пошло не так они выпустили свой оператор и через какое-то время они сказали блин закроем исходники и создадим скай скай скай скай л это облачное решение мария dp для диплома рейды в облаках купер нить из и где угодно она работает и в основе ска и скулил как раз таки лежит их вот этот оператор которые они сердца закрыли про него на самом деле ничего особо не известно уже так как он был открыт на м 2 года 2-3 назад потом они у закрыли и все и больше ничего никто не знает но при этом есть неофициальный оператор мария dp который кто-то там тепло и какие-то там 2 человека из индии и он прям вот btb то они там так и пишут что не используйте его в продакшен ни в коем случае и что интересно у него есть home чарт но как бы нет ни бэкапов нет ни прокси нет ничего такого что позволило бы использовать production то есть это такой серый такая лошадка нашего списка дальше идет о рука операторов 40 ломило оператором история тоже достаточно интересная у них был оператор но он уже мёртвый версии 030 последний релиз был где-то в августе по моему 2019 даже 2018 года то есть он древний и как-то в марте мне пришло email от оракла что у нас будет вебинар как запускать mais quel в кудир не this ну я решил сходить пришел думал они там про оператор что-то про новый свой расскажет или еще что-то а вместо этого они начали рассказывать как запустить стоит full set как потом зайти в порт через зигзаг как с configured реплику и так далее потом мы с ними пообщались они сказали ну пока мы не смогли не готовы но при этом на прошлой неделе была конференция перка на лайв и к нам пришел oracle на конференцию и они сделали анонс что они разработали новый оператор для майское пока что он не зари лежит то есть я ничего про него особо не знаю не так дымку показали бета релиз обещают 2021 году полностью open source она базируется на лицензии или бросил переместив light sense это как эмайти лицензии то есть бери свой бренд навешивай бери там сердце переделы как угодно что хочешь делай лишь пользую внутри они обещают группы applications если кто знает это решение для синхронной репликации в mais quel скорее всего то есть это восьмерка только мысль 8 потому что 57 группы applications не очень интересное решение для оператора обычно операторы так как это обернитесь докер long всегда пишу ногу ланге тут они решили на си плюс плюс и питоне но решение их понятно потому что они свою логику и логику оператора построили вокруг масел shell да но я не знаю насколько комьюнити проникнется их идеи потому что все таки как я говорю операторы обычно делают на ребята нового lange то есть это будет странно дальше куб baby keep baby есть такая компания об скаут они поддерживают кубер нити за деньги и у них есть разные операторы разные решения под кубер нет там стаж например для универсальные бэкапы ну наверно классно есть куб baby you тебе классный оператор мне очень понравился когда первый раз его развернул вы ставите один оператор и через этот оператор можете площадь практически любую базу данных вот там они перечислены власти кризис memcache манга по скоростной sqweel казалось бы все супер но единственный минус клип тебе это то что они не фокусируются на базах данных они фокусируются именно за деплоить и забыть то есть там нет какой-то да это operations у них практически и у них решение об encore что значит о konkor это значит что вам бесплатно дают какой-то функционал остальное вы должны купить за за деньги либо за support либо за какой-то enterprise подписку что не очень работает но проект все-таки живой у них релиз был в прошлом месяце 018 0 поддерживает маску или 5 7 и 8 023 и еще они поддержку групп репликацию что кстати тоже очень интересный из коробки еще они работают с нашим продуктом перкова экстра тебе кластер то есть это mais quel с валерой для асинхронной репликации но почему только 5-7 когда я с ними общался спросил почему только 5-7 они почему-то внятно объяснить не смогли хотя 80 не кажется перспективней но пока 57 мы с ними поработаем может добавить поддержку 80 когда-нибудь и вот они limitation и да какие у них есть то есть если вы не платите им деньги то у них есть компьюнити версия их оператора там нет ни прокси нет ни бэкапов не restore то есть вы запускаете базу данных но backup сделать не можете зарисовать не может то есть только своими силами вы можете мой сиквел дампом под коннектится сделать например backup но встроенных в операторов это функционала нет с келли тоже нельзя опять же то есть вы можете зайти в кубер найти например сказать дорогой стайлса добавьте еще not он добавит но как это будет дальше работать оператор ничего там не с configured все у вас скорее всего сломается и нету никакой intent encryption то есть скрип шины трест тоже в комменте идишем нету и еще у них класная штука есть у них есть прокси sql-оператор под этим же оператором но при этом у него нету никакой интеграции с их оператором баз данных то есть вы можете запустить отдельно прокси sqweel отдельно запустить moi ce qu'il и как ты их там подружить уже сами то есть они никакой интеграции нативные не дают что-то мне как-то странно но вроде нам на сайте у них написано что за деньги мы наверное что то сможем с вами придумать то есть у них какой-то там ремонт hands или гибель который сядет вам это все и настроить следующий наш оператор это пресс лепс достаточно известное решение это ребята которые делают wordpress хостинг и они для себя запилили mais que al оператор для кубер месяца чтобы деплоить его вместе с вопросом своим клиентам то есть клиентами приходит говорит хочу сайтик на вордпрессе он диплом себе wordpress а рядышком они тепло от вот этот свой оскал оператор тоже достаточно живой проект несмотря на то что последний релиз он наш в июне 2020 но он развивается если посмотреть нам историю комментов достаточно много и комьюнити делает коммитов и они сами с команду пришла что-то правит они используют под капотом перка на сервер формой сказал место обычного майского ну потому что там какие-то интер по разные фишки которые open source почему бы нет очень правильное решение сам император open source он под apache лицензии но они в своих доках везде пишут что ребята это альфа это даже не бета это альфа мы не рекомендуем вам использовать его в продакшене хотя сами они его мы знаем используем и с ними общались на тему и по умолчанию этот оператор использует а синхронную репликацию что это значит для к убирается это значит что скорее всего вы потеряете какие-то транзакции если какая-то но да умрет то транзакции обязательно потеряются если это для applications для вашего приложения нормально то почему бы нет так же они поддерживают всеми синхронную репликацию то есть когда камень подтверждается на славе и только потом мастер говорит юзеру что все все закончено можно работаем дальше но я есть честно не тестил 70 framers пальцем скорее всего она работает потому что это фича самого москве не оператора и х и выберите отказывающегося не достигают за счет up an orc оркестре драки с трейдеры это продукт который позволяет уменьшить москве кластер и и если у вас мастер слоев репликации он сам детектор что мастер упал и перевешивает там лейблы мастер сампери конфигурируется и начинает работать уже новый мастер и взамен того который упал и у них достаточно живая такая норма по они обещают добавить или sql 80 когда-нибудь потом но пока мой сколь 80 у них нету к сожалению вот так она примерно выглядит у них архитектура то есть для купюрница архитектура любого оператора любой базы данных она плюс-минус одинаковая где-то там deployment но чаще вас стоит full set используется в этом статуса эти несколько кодов запущены какой-то под скорее всего работает как праймари или как мастер и какая-то магия происходит вокруг этого всего чтобы в случае падения мастера вся нагрузка переключалось на другую ноду в данном случае при падении мастера в роль вступает оркестра тары просто переключает мастер на другую ногу да и сверху они используют с и рви записи в dns то есть если вы хотите обратиться к мастеру вы обращаетесь там к мастеру с помощью определенного доменного имени оркестра tor за этим следует и если что подменяет доменное имя то есть архитектура плюс-минус одинаковое следующий товарищи вид с я думаю много кто про них слышал если когда не сталкивался с мая скверным и шарден гам то вы наверняка использовали вид с если нет ну достаточно интересный продукт оператор у них продакшен ради в отличие от предыдущих всех которые мы смотрели у них из упор для этого оператора и последний релиз хочешь опять же был достаточно давно но при этом они очень очень много комитета мастер branch она уже далеко далеко ушла под капотом у них тоже используется либо перка на сервер для mais quel а либо мария де беф что тоже интересно мария тебе почему бы нет он тоже с открытым исходным кодом и по умолчанию у них используется 7 и синхронная репликация ну а синхронную репликацию можно включить но наверное не стоит потому что митинг трон и все-таки дает какую-то гарантию консистенции консистенции данных и опять же это решение сфокусирована для на шар денги если у вас базы данных 10 гигабайт и вы конечно может планировать там на сто лет вперед что она у вас вырастет ну не стоит пока выберите другой решить потому что это такое действительно микроскоп очень огромный котором там бить по гвоздям не стоит sharding он нужен для того чтобы спилить вашу базу данных через на несколько дата-центров и если у вас нет такой цели то зачем это делать изначально configure кстати он достаточно сложно если кто-нибудь когда-нибудь игрался и пробовала его за суд аппетита не то что там один я малик применить и все работает там достаточно сурово на поковыряться и отказоустойчивость там внутри они оркестра tor используют внутри и даже кто-то по мне говорю что они как-то там патроне прикручиваю но я не йемен и наконец перка навский оператор последний релиз вот был недавно в прошлом месяце под капот и мы используем перка на x-terra деби кластер это mais quel с вместе с валерой это сделано для синхронной репликации полностью то есть multimaster синхронная репликация тоже это open source полностью apache лицензия и мы говорим что он production ряде у нас есть клиенты которые его используют он из широко используются в комьюнити к нам приходят люди с вопросами мы готовы всегда помочь тому jiri можно tickets создать либо мы можем простить вам support если он вам конечно нужен как я сказал внутри используется галера это значит multimaster значит синхронная репликация асинхронной репликации значит данные записались на одну ногу и мы ждем пока они на всех нотах появятся и без этого мы ничего не коми тем как только они появились мы говорим все окей данные на месте это значит что если одна надо упала то нам как то все равно но упал и упала данные записались у нас все на месте мы никаких данных не не потеряли то есть это консистентной но и такой систем то есть естественно может прийти с определенной ценой ценой каком performance импакта да что у вас все ноты должны дождаться пока все все данные запишутся пока этого не случится ничего не произойдет то есть если у вас много там записи огромная к ним таблица на несколько терабайт и вы делать на не альтер какой-нибудь то он скорее всего будет достаточно небыстрый но и синхронная репликация никуда от этого не деться и в наш император есть эти прокси и прокси исправили они встроенными интегрированы прям во внутрь у оператора можно использовать архитектуру как я сказала она как бы от оператора к оператору практически не меняются то есть у нас есть галера которая следит за репликации данных между not делает стоит трансфер между ними в случае падения или поднятия новой ноды и прокси esc верили и чьи прокси на уровень выше практической он хорош тем что он умеет делать играть сплит какой-нибудь умеет кешировать запросы но например случае с оператором у нас возникло проблем что прокси скуёт реверсивный прокси и он не умеет например прокидывать айпи адрес клиента то есть для и чьи прокси прокси протокол какой-нибудь это нормально а для прокси склеивать не будет работать для кого-то нужно это для кого-то ненужное всегда можно выбрать либо идти процесс либо праксис как использовать при этом можно конфиги и того и другого как угодно менять сквозь оператор без лишних телодвижений руками и вот такая табличка когда-нибудь здесь тоже наверно появится оракул оператор пока его нет потому что он ещё не зарились но если смотреть сверху вниз то по прокси понятно в vitesse есть ведь и как там ведь и proximity эйджинг называется который проектирует трафик между шар даме в vitesse у нас есть либо и чьи прокси либо прокси sqweel это это она нативно интегрируется то есть вам не надо ничего самим конфигурировать все но сама заработает у пресс лапса прокси нету то есть если нужно прокси нужно самому ее как-то там устанавливать но у них есть регистратор наверное им как то этого достаточно как у них это делается я объяснял у них есть dns и сорви записи они их используют для балансе нга трафика кому-то этого может быть достаточно и в топливе есть прокси sql как я говорил но за деньги то есть бесплатная его не дадут и он к тому же еще пока что не интегрирован у них но за деньги опять же они могут его интегрировать мульти реджем что наш мульти реджина это два дата-центра в разных регионах один на вас ист коуст другой там день в африке и между ними вам надо сделать за 100 recovery синхронизировали данных vitesse яркая солнышко светит потому что это sharding а у них сразу это из коробки все работает вообще думать не надо сделали есть в перка не можно руками конечно это сделать но так как это пикси кластер на одну ноту в другой кластер не засунешь потому что и солей пенсии будут проблемы поэтому пока там . но мы над этим работаем скорее всего сделаем мультирегион репликацию асинхронного между двумя кластерами следующем релизе в пресс labs так как там синхронная репликация используется у них достаточно просто это сделать то есть там тоже особо телодвижения делать не надо добавлять еще одну ноту настраиваете и и все работает поэтому там такое солнышко с тучкой в тебе там групп рипли кейша и в операторе точно ничего вообще даже близко нету мониторинг один из таких важных аспектов для оператора потому что когда вы все топите базу данных где так убирайтесь и мало того что она в кубер нет там все падает все время и куда то туда сюда двигается вам еще и базу надо успевать мониторить и в пир кони есть два решения для мониторинга это перк он и мониторинга менеджмент можно запустить прям с оператором он сразу начнет плавать метрики ваш перка пмм сервер и все будет работать либо вы можете взять из-за диплом титратор сайт карам то есть вы там прям в манифесте можете указать вот меня такой сайт корма секунде экспортер например и спустить его вместе с оператором почему бы нет он будет работать вид с классно интегрируется с дата долгом прометею сам совсем совсем совсем у кресла пса и club baby они пишут что ну хотите мониторить вот вам prometheus оператор пожалуйста мониторьте как хотите так и настраивать то есть какой-то интеграции в операторе прямо нету и крещеный трест он есть только в пир коне в vitesse vs labs его нету а в тебе говорят есть за деньги но такая штука на самом деле для безопасности важное но может кто то как привык базы данных и by закреплены запускать совершенно нормальное решение майское 8 есть практически везде кроме приз labs и но как я говорил о них в роботе и простота использования пресс labs он просто простой как камень можно взять их ямал за деплоить и сразу работать все из коробки без лишних телодвижений потому что мы синхронная репликация и прям вот реально очень легко рекомендую у перк он и немного все сложнее потому что он все-таки а синхронная репликация и надо чуть чуть подумать головой deep ловится она также все легко да но надо думать головой когда вы какие-то данные туда засовывайте синхронно репликации как я говорил приходится какими-нибудь performance им пактами которые надо сначала про пестики хорошенько прежде чем мигрировать вид с я здесь тучка такая ну реально он сложный то есть это sharding это всегда сложно просто так его запускать опять же для одной базы данных но это бессмысленно абсолютно и никогда так не делайте он он классный продукт но очень и очень тяжелый и кьюб тебе он простой в плане что вот он операторы там и синхронная репликация тоже но за счет того что это такая огромная пушка которая поддерживает много баз данных и что там у них version ность какая-то определенная есть это работает с оператором это нет достаточно все-таки тяжеленький такой ну если в simplicity как бы это самое важное легкость тепло и что у вас есть это вот пресс labs он у вас заработает опять же здесь когда-нибудь появится оракал оператор надеюсь но пока что она выглядит вот так если вам нужен sharding сразу идите дит с даже не думайте если вы думаете что у вас базы данных разрастется через 100 лет или через 10 лет до шарден га ну возможно вам пока sharding не нужен потерпите дальше идем налево и готовы ли мы потерять какие-нибудь транзакции потому что если у вас есть infront репликация и у вас кубер нити все у вас там базы у вас пода какая-нибудь умрет вы обязательно транзакцию потеряете если у вас какая нибудь и финансовая машина какие-нибудь обработки платежей вам транзакции терять ни в коем случае нельзя и если вам транзакции терять нельзя то идите ещё дальше налево тут выборов пока что между перк он и и куб деби потому что у этих двух есть синхронная репликация и тип тебе опять же он запомните он не бесплатный пункт и придется подумать стоит ли нам туда идти потому что какие-то фичи там я не только за деньги и наверное это последний слайд что идет в что придет когда-нибудь в операторы в миску или особенно первые ты мульти реджины потому что это действительно с чем к нам приходят люди они говорят вот у меня есть кубер ней кластера в европе есть глубиной цикла storm америки и меня надо как-то данные между ними гонять а я не хочу делать это руками и не хочу configure тито заходить в операторах заходить в под и что-то там менять я хочу чтобы она сама из оператора работу и при поэтому это решение надо делать но при этом disaster recovery она как бы есть то есть можно восстановить из бекапа но тут встает вопрос какой у вас артовода recovery time объектив если у вас там можно чтобы 24 часа база валялась ну пожалуйста пусть валяется если у вас там пять минут то естественно вам бэкапы не подходят и что касается прям перк он и если то сейчас у нас есть оператор пикси да перво на x-tribe кластер он базируется на асинхронной репликации gallery асинхронной репликации galleria их хочется конечно как-то прийти к тому что мы будем использовать более нативные продукты как просто маску из групп reflection потому что когда мы делали оператор групп репликация она была зачата зачаточном состоянии никто тогда даже не думал делать синхронную репликацию мы скрыли она не работала нормально и сейчас группы applications стало намного лучше но стала она лучше только в восьмерке то есть пять шесть от все равно только асинхронной репликации ли 7 и синхронная как уж пойдет ну и хочется добавить в наш оператор когда они тоже sharding потому что тоже люди к нам приходят спрашивают как бы нам там зашортить нашу огромную двадцати терабайт ную табличку потому что мы не понимаем чуть не дальше делать ну мощный парень и пошлем их там в подгрузили в мангу скажем муки надо шар идите-идите вид с используете но вид с это другой уже продукция своими плюшками ну вроде всего все я рассказал все что хотел промо и сказал оператора это был такой краткий экскурс и как они работают если хотите подходить к нам на пергамский стенд пообщаюсь с удовольствием за кубер нити за оператора и за все остальное спасибо close но еще прежде чем на пир конский стоит стенд приходить можно будет цифровой clorox тобой пообщаться просто слушай ну так похоже что сингулярности еще не так быстро нам приходит ну как илон маск там уже в голову чита внедрил так что мы тоже уже начинаем потихоньку чипе роемся поднимайте руки ваши вот есть рука и на первом ряду друзья несите микрофон вот на 3 ряда онлайн пожалуйста нажимайте кнопочку подключаетесь уже давайте вопрос свой фильм здрасте меня зовут евгений спасибо за доклад при сравнении операторов вы не учли ну да операторы будут использовать в основном для управления там десятками бо сотнями баста мы так далее и здесь никакого не было там сравнение как как настраивать эти десятки сотни постам грубо говоря на каждый кластер можно свои настройки указать там ну для чего-то хотелось бы узнать про зрелость вот этих операторов ну вот в тонкости настройки каждого каждого другой ряд не единственный ну там кладя понял не пали до отличный вопрос интересные спасибо на самом деле правильно совершенно то есть оператора они изначально заточены под то чтобы разворачивать не 1 инстанции а сотню и это даже не инстанция это кластер то есть вы запускаете в uber нет ни 3 мая скрыл но беда вы запускаете класс то есть у вас это как сервис ведется по за вас есть право у вас есть отказоустойчивость и практически все операторы не знаю только как там у марии дебиторку но но все операторы работают одинаково у вас есть оператор который это под с при конца луком вы ему кидаете огромный манифест говорили зимние кластер номер один он его разворачивает там создает стоит full стоит создает прокси и все что угодно потом вы ему кидайте уже другой манифест с другим конфигом например называть его кластер 2 разверни кластер 2 он его разворачивать и так он может стелет сколько угодно единственная проблема с операторами это то что когда у вас там 100 кластеров - 1 одним оператором у вас ри конца и лук он начнет подтормаживать поэтому все-таки рекомендуется разбивать то есть там 50 спускать хотя у нас есть клиент который спустил там сто с лишним кластеров под одним оператором и пришел к нам говорит четко у меня там медленно все configure база не тормозят а конфигурация медленно и вот как то так ответил на вопрос снабжения у тебя отобрали уже микрофон может быть принесут давайте пока следующий вопрос подумай кто там потом подойди и пообщаемся вами давай спасибо за доклад меня зовут арман у меня вопрос такой вот операторы это про автоматизация всех процессов управления менеджмента умеет ли ваш оператор восстанавливать кластер словно там у нас есть проплакал у нас есть виртуальные сервера и часто бывает ситуация когда в облаках сеть лагает неизбежно глостера разваливаются приходится восстанавливать собирать кластером обратно в кучу вот оператор этот процесс автоматизируют да вы вы не спирко на ну понятно да да автоматизирует как раз для этого операторы нужен особенно это суровая проблема для асинхронной репликации когда у вас например 3 ноты они все потеряли друг друга и сеть между ними лагануло или все трипода перезагрузились например одновременно потом они поднимаются друг на друга смотрят и говорят блин я не знаю у кого последняя транзакция это синхронная репликация они реально не знают и тогда наш оператор undetected что произошел в кластер крыш и ищет у кого последняя транзакция была там достаточно у меня был другой доклад про на архитектуру нашего оператора где объяснял как мы это сделали как она работает ну да он то есть recovered полностью базу данных даже если но до потеряли друг другу супер у нас есть из глубины а потом будет на первом году спасибо за доклад у меня два вопроса первый наверное больше про базы для stay джин гав и быструю быстрое развертывание самой базой и быструю наливку данных с какие здесь подходы используются для ускорения для ускорения наливки данных если у вас база терабайт то она неверного здесь десятки десятки гигабайт но мы ожидаем на что база сможет развернуться условно за меньше минуты возможно ли такое да я слышал что в например в конкурсе такой есть да там snapshot взять накатить в москве ли такого пока что нет есть другие решения когда можно делать делает реплику какой-нибудь до и вот так делать но какой-то магии к сожалению нет то есть если у вас это восстановление из баков и то есть вы берете базу говорить о установи камни из бака помой продакшен чтобы я мог использовать его как station и она устанавливает backup это 10 там 30 гигабайт ну не знаю сколько нам будет устанавливать у нас экстры backup используются то есть он умеет декстер backup да тогда он из треков под капотом использует а есть он достаточно быстро и но все-таки магии никакой к сожалению нету пока не придумали спасибо и ещё один вопрос по поводу проектирования то что я видел это в основном праксис гель который ставится в составе самого кластера и по сути является единой точкой входа а не было ли где-то подходов с точки зрения того чтобы отдавать конфликт праксис келли чтобы он был сайт карам к приложению в таких подходов не было наш оператор на самом деле можно за деплоить и без прокси совершенное использовать какую-то внешнюю практику до томский ларк какой intel также прокси риски вел но пока нет пока так не делали я правильно понимаю вопрос что вы хотите чтобы у вас был applications и например 20 кластеров да и вы там прокси и squares and он в том числе и еще один из кейсов что одни ноты приложения должны словно иметь одни правило а другие ноты приложения должны иметь другие правила на прокси ну пока такого не делали единственно что есть это можно зайти оператор is configured прокси sqweel как нужно то есть если есть там какая то нужно четко набросать туда своего можно через оператора это сделать а вот как сайт к распускать его там с приложением пока такого не делали хорошо спасибо онлайн просыпайтесь у нас есть условные сигналы с техниками когда вы же онлайна есть вопрос там вот глубине зала запускают фейерверк я хочу его увидеть а сейчас первого ряда сергей спасибо за доклад у меня такой вопрос можно ли оператор рассматривать для построения продуктами же дтп с тобой с как сервис для как продукт и пейте за сервис да ну конечно да можно у нас есть даже тоже доклад наш сити одел вадим диао и дует юсов в дтп сюда можно и так и делают мы на самом деле работаем с несколькими клауд провайдерами который к нам приходит хотим построить димас помогите им им помогаем в том числе с помощью операторов и у нас есть я там в докладе рассказывал пмм который под капотом у него есть небось который как раз таки это и делает то есть вместо того чтобы я буду запускать можно по кликать мышкой он запустит кластер там пока вернитесь сюда конечно спасибо сергей мы тебе не дадим подарок пока ты не выберешь лучше вопросы не выручишь подарок соответственно вот мне молодого человека в зелёной футболке понравился вопрос это же не мы с ним работали вместе оплачено кажется очень важно да поздравляем нашего это правда хороший вопрос и он говорит что я сейчас не буду продолжать кулуаров еще продолжим на спасибо тебе огромное за этот рассказ за такой прям гайд потому что делать у нас есть для тебя благодарность конечно персональная рамочка которую можно повесить или положить до одесса а люди которые будет согревать дача фаллон фаллон михайлова спасибо огромное"
}
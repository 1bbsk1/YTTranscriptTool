{
  "video_id": "XFCv4gP7kdA",
  "channel": "HighLoadChannel",
  "title": "Гайд по shift left security для архитекторов и разработчиков / Вацлав Довнар",
  "views": 371,
  "duration": 2940,
  "published": "2025-01-17T02:32:55-08:00",
  "text": "Всем привет ближайшие 40 минут мы с вами поговорим собственно про shif Security надеюсь что все вчера Хорошо отдохнули все себя хорошо чувствуют после первого дня и надеюсь что доклад будет полезен вот здесь вот есть странно что-то со звуком Надеюсь почти нет здесь сонно QR его можно пороть Это ссылка Нана после выступления сама презентация все материалы все внешние ссылки соответственно можете не переживать всё там будет А так и я даже не знаю что ещё сказать на этой на этом слайде меня просто попросили на нём какое-то время остаться и он не перел ет значит наверное ещё не время нет всё всё можно дальше я пойду посмотрю что там с он не работает ребят бегу вот заработал всё что быстро поднялось значит не падало Да пару слов обо мне просить зать техническую паузу собственно А что про меня сказать Я занимаюсь тем что помогаю компаниям выстраивать процессы безопасной разработки А в 11 лет работал в финтехе консалтинге в разных компаниях в двух компаниях отстроить безопасность нуля э собственно выступал на куче конференций в открытом доступе есть и другие доклады если вам будет интересно пойдём к сути собственно Что такое shif Security это подход к разработке при котором меры безопасности переносятся на ранние этапы разработки настолько насколько это возможно и у нас с вами соответственно есть поток изменений который идёт слева направо от требований к поддержке Да а Shift Security идёт ровно ему назад наоборот справа налево и чтобы чуть-чуть глубже погрузиться Давайте посмотрим на Я думаю всем известный график про зависимость стоимости исправления Бага от времени когда она было обнаружено и здесь действительно очень хорошо видно Чем раньше обнаружили тем дешевле исправили всё вроде бы круто но на самом деле на практике есть несколько нюансов во-первых Дело в том что в правой части мы с вами работаем либо с Продакшен либо с крайне близким к ним тесту и соответственно мы всегда можем воспроизвести нашу уязвимость и понять какой Импакт это бесспорная вещь то есть как бы мы воспроизводить и понимаем как оно работает Когда же мы с вами делаем shif Security мы с вами начинаем работать с объектами просто другой природы мы работаем с требованиями архитектурными артефактами и который не факт что вообще компилируется не факт что будет ровно так работать на продакшене Не факт что там Также будут запускаться с теми же параметрами Также будут работать сети что где-то не повлияет там cdn или FAW или всё что угодно ещё и это приводит в итоге к тому что у нас растёт непонятность последствий Особенно если это сложный какой-то Баг и команда Security и команда it могут разойтись в оценке его последствий это с одной стороны с другой стороны из-за того что опять-таки мы не можем проверить уязвимость на продакшене растёт э количество ложно положительных срабатываний Ну хороший самый пример это на самом деле секрет а в коде на самом деле есть много всего что выглядит как секрет Но секретом на самом деле не является Кроме того есть ещё следующая проблема что в правой части как правило за безопасность отвечает команда иб И если в левой части У нас ничего нету то разработка просто не парится Ну вот там есть безопасники они там сделают безопасно мы занимаемся разработкой всё клёво вроде бы но потом мы понимаем что на самом деле безопасники создают как бы ещё один целый цикл у нас отодвигается релиз ухудшается Метрика Time to maret Все говорят безопасники слы Давайте короче что-то менять и безопасники такие Окей вот вам Shift Security и соответственно раскидывают безопасность тонким слоем всех вовлекают по Best prac в безопасность вроде всё клёво Но на самом деле в этот момент мы увеличиваем доменную зону и теперь как бы человек который может быть никогда не думал про безопасность должен начать про не дуть если в этот момент не дать правильный Тулин не дать метрики не дать способы измерения этой эффективности то мы на самом деле можем Time to maret не уменьшить а увеличить Потому что люди теперь должны заниматься не своей профильной работой и при этом могут не иметь возможности понять а сделали они его хорошо или плохо Кроме того Проблема в том что на самом деле Shift Security не предполагает того что безопасность права вообще исчезнет она-то там как была так и должна остаться и про это это надо не забывать и более того ребята которые собственно придумали Shift Security они в какой-то момент поняли что они сделали ошибку и потом переименовали и правильно теперь говорить Shift Left вве потому что безопасность как бы должна быть на каждом этапе дальше следующий Поинт он заключается в том что хорошо вот мы всё-таки поняли что хорошо у нас есть безопасность справа нам теперь надо делать всё-таки какой-то shift-left но проблема в том что из-за того что на каждом из этапов разработки Мы работаем с разными объектами это означае что нам нужна разная экспертиза разная автоматизация разные процессы А это означает что мы не можем сразу пойти во все места и нам нужно сделать выбор И этот выбор на мой взгляд он должен быть основан только на цифрах и фактах и этими фактами как раз и является безопасность права с правой страны где мы понимаем что у нас не так за счёт там пинте бак Баунти понимаем На каком этапе мы можем эту проблему исправить потому что разные проблемы справляются на разных этапах и понять в Какой этап мы вс-таки можем инвестировать Итого чтобы сдвинуть безопасность влево у нас с вами должна существовать безопасность справа внезапно shity это не только про уменьшение стоимости исправления но и про уменьшение Маркета Ну и то при условии что мы его правильно внедряем уязвимости выявленные с помощью sec имеют свои особенностями вероятность ложноположительного срабатывания у них вы выше а понятность последствий эксплуатации ниже Дава понима Конте пом секюрити Чтобы стало лучше а не хуже первое О чём поговорим Ну собственно Давайте снова посмотрим на нашу диаграм из DLC где мы идём от требований к поддержке По этапу нашего жизненного цикла программного обеспечения и собственно построим безопасность справа вот мы сделали несколько итераций тестирования на проникновение Может быть мы с вами достаточно зрелые и мы запустили охоту за ошибками или по-другому это ещё называет бак Баунти Это история когда мы через специальную платформу взаимодействуем с сообществом белых хакеров и они за фиксированную стоимость дают нам инсайды о нашей безопасности это прикольно потому что и круто по той причине что мы взаимодействуем с большим сообществом и они как бы там разные люди Они по-разному думают они являются экспертами в разных областях это даёт инсайты в самых неожиданных местах про которые мы могли и не подумать вроде бы всё клёво и собственно мы теперь можем идти соответственно в какой-то из этапов так как мы с вами в рамках доклада рассматриваем какую-то сферическую компанию вакууме то мы просто пойдём слева направо и сначала поговорим про требования на этапе требований На мой взгляд э очень хорошо себя в среднем показывает активность которая называется чек-лист по безопасной разработке собственно В чём суть А во-первых давайте определимся с понятием на всякий случай чек-лист - это список пунктов который э исполнитель должен сам применять чтобы контролировать те действия которые он выполнят это по сути как тул который мы даём для разработки чек-листы бывают очень разные а первый и самый простой это чек-лист обязательного второго мнения То есть если вы попали на эти на один из этих пунктов значит Go To к безопасник нет безопасника архитектор или Элит нет Ни того ни другого говори хотя бы сча gpt Вот соответственно первая э первый функционал при котором надо обязательно подумать про Безопасность - это генерация обработка секретов во-вторых это функционал аутентификации авторизации в-третьих - это получение от клиентов любых файлов особенно если вы до сих пор храните не в ри А где-то на серверах в файловой системе а также это это до сих пор к сожалению не для всех очевидно это конвертация ресайз И вообще любая работа со сложными структурами данными xml PDF любые файлы документов всё что угодно если оно сложное там всегда можно запутаться и допустить серьёзные ошибки Ну и последнее - Это любая криптография и любые какие-то сложные кастомные механизмы где там есть какая-то энтропия и как бы от какой-то или или от каких-то алгоритмов безопасности внезапно начинает зависеть вся реализация А дальше следующий чек-лист - это собственно чек-лист отсутствия плохих Практик он уже более продвинутый потому что на самом деле для разных компаний он будет сильно разном Ну вот хороший Пример например не Используйте дебаг мод на бою для одних компаний Это будет классная практика Но действительно не надо использовать deb на бою А для других Может быть у них такой стек что там Нет в принципе де бак мода или это закрывается на этапе платформы на на уровне платформы разработки в принципе не нужно про это никогда думать тоже самое там с хранением кодов личных с хранением кодов личного репозитория для одних компаний по некоторым причинам это может быть супе актуально и разработчики ошибаются и корпоративный код закидывают к себе а для кого-то это уже Вопрос решённый там сильно корпоративная культура есть онбординг курсы и про это даже нечего отдельно говорить для кого-то важна опять-таки история с тем чтобы избегать лю сложных структур данных а для кого-то наоборот может быть история с тем что сложные структуры данных - это ваш хлеб и вы должны по-другому как-то просто построить меры и компенсировать это вы не можете этого избежать А есть Интересная история там про отсутствие про необходимость отсутствия в URL параметрах гет запросов любых чувствительных данных нуно Возможно вы веб-студия вы Клепа ете сайты там за один день и вашим заказчикам совершенно всё равно есть там чувствительные данные или нет ну тоже самое касается логирования полного конфига влог сервиса Например если вы стартап для вас это может быть это неактуально или скажем избегать использования паролей для клиентов Если вы достаточно большая компания вы заботитесь о безопасности своих пользователей то скорее всего Вы в курсе что пароли на самом деле сейчас это зло и лучше перейти там не знаю там какие-нибудь одноразовые ссылки на email пас или там IDC через какого-то провайдера Но если вы делаете очень маленький сервис для очень маленькой группы лиц Ну почему и нет На самом деле так что как бы каждый чек-лист его нужно адаптировать а следующая ещё более сложная История - это чек-лист правильных Практик вот как делать правильно это совсем очень кастомная история здесь будет Всего пару пунктов Первое - это собственно делать делать редирект например только на белый список доменов это хорошая история она защищает от некоторого рода Атак но при этом если вы пилите социальную сеть или у вас новостной агрегатор то Это совершенно неподходящая для вас история потому что у вас есть ссылки примерно на весь интернет И У вас в этом лом списке Он ровны и будет а есть хорошая практика например да там про избегание двух разных технологий при обработке одного сложного запроса например не ставить там Джин очм или не использовать два разных gvt парсера но опять-таки возможно что у вас есть leg И тогда вам нужно применять другие меры безопасности ещё более сложная История - это чек-лист на основе шаблонов Давайте даже сразу дам ссылку на него если вот пря кому-то интересно Она пря вот живая можно по ней перейти шаб для история в мри думать то оказывается что все требования PB привязаны к функционалу Представьте что у вас есть приложение которое делает ничего Какие к нему будут требования никакие И наоборот если у вас есть приложение которое реализует функционал маркетплейса или социальной сети у вас там огромное количество пользователей групп их потребностей функционала которые закрывает эти потребности у вас будет огромное количество соответственно требований ПБ и таким образом на самом деле это означает что можно сесть на берегу и все требования разделить на группы в соответствии с функционалом и тогда ваш разработчик который будет реализовывать конкретный функционал будет знать конкретные требования которые к нему предъявляются уже на берегу так сказать даже не обратившись в команду иб можно пойти ещё дальше и посмотреть на это со стороны продукта или пользователя а то есть здесь мы уже говорим не на уровне функционала а на уровне как бы хотелок и идей Ну вообще У нас будет наш сайт будет индексироваться поисковой системы у нас будет какая-то модификация мы будем об персональные данные Да это менее точно Но это позволяет нам собственно работу с требованиями сместить максимально влево насколько это вообще возможно ровно тот момент когда люди хотя бы просто понимают Ну что же у них приложение это будет делать и собственно такую штуку можно у себя развернуть ВП там дальше будет на неё ссылка и Она позволяет пролить вот кликать этот функционал получить такой список в НМ Можно потом нажать и узнать А почему же На самом деле плохо передавать там Сен ID в URL параметрах опять-таки вся эта история доступна github называется Security requ я принимал участие в его разработке тут главное понять что Это история которую надо развернуть у себя ВП раз Вы е развернёт в премию значит у вас есть желание как-то её кастомизировать Значит вам надо выделять эти ресурсы это совсем история не для скажем не для начального уровня Я бы так сказал но она имеет ме быть Итого мы с вами проговорили про пять вариантов чек-листов А самое главное что чек-лист должен быть адаптирован под риски на основе безопасности справа чек-лист должен быть адаптирован под стек компании и чек-лист должен быть коротким чтобы его прохождение не занимало больше 30 минут иначе разработка просто забьёт и ничего не будет делать собственно мы с вами поговорили про кли это механизм безопасности на этапе требований и перейдём теперь к этапу проектирования на этапе проектирования Давайте поговорим про ревью безопасности архитектуры это на мой взгляд крайне эффективная мира собственно что это такое это исследование всех областей безопасности которые нам доступны на этапе собственно проектирования приложения а сама эта практика состоит из четырёх целей первая из которых - это на самом деле проверка на соответствие чек-лист про чек-листы мы с вами только что обсудили а здесь на этом этапе который предполагает как минимум часовую сессию между безопасностью и командой разработки архитектор ПБ как правило очень легко может понять а люди-то вообще читали этот чек-лист Они собираются ему следовать или нет И таким образом как бы вещь которая была не обязательной мы как бы создаём для него точку инфорс где люди понимая что у них про это обязательно спросят будут про это думать это на самом деле очень клёво На мой взгляд вторая цель - это проверка на соответствие базовым принципам безопасности А что такое базовые принципы базовые принципы - это некоторая ну философские подходы они с одной стороны широко все известны Но с другой стороны их можно по-разному формулировать а выделять одни или другие некоторые как бы формулировать более общ или наоборот декомпозировать на более маленькие это тоже зависит от контекста вашей компании нуно некоторые требования можно в любом случае привести и про них поговорить например присваивать наименьшие привилегии всё неявное делать явным потому что вот эта неявно Она обычно и как раз и приводит к какому-то забыто leg си в котором потом чтото страшное поддерживать порядок и управляемость потому что на самом деле вообще порядок - это основа безопасности там где нет порядка как правило и нет безопасности включать долгосрочный аудит для любых критичных действий потому что это позволит нам в случае инцидента расследовать Собственно сам инцидент и применять принцип защиты в глубину про сам принцип Я в рамках доклада не буду говорить но если кому интересно оставил него сбм следующий этап следующая цель На мой взгляд самое важное на этапе ревю безопасности архитектуры - это проработка рисков характерных для конкретного сервиса А что для этого нужно для этого нужен некоторый набор артефактов которые нам предоставит команда во-первых это описание сервиса и задач ради решения которых компания решила потратить на его разработку ресурсы во-вторых это диаграмма последовательно для сложных действий в сервисе В третьих - это диаграмма связи компонентов И вообще любые технические вещи которые могут пригодиться вашим it архитекторам и которые помогут архитектору и понять А что же делает сервис это может быть всё что угодно это может быть количество ПС которое сервис собирается принимать количество пользователей количество микросервисов внутри используемый базы данных и так далее и тому подобное имея всё вот это с одной стороны а с другой стороны имея экспертизу архитектора PB который обязательно должен иметь опыт проведения аудита в безопасности опыт участия в бабан и набор ещ некоторых навыков например опыт работы в Application Security то есть человек должен понимать Какие советы давать чтобы они были адекватны для разработки Желательно чтобы у архитектора был также хотя бы небольшой опыт разработки Ну чтобы он понимал как люди себя чувствуют с другой стороны и как это на самом деле писать софт и опыт грамотно структурировать и декомпозировать свою проблемы можно вот запить сам процесс проработки этих рисков который состоит Ну просто из совмест сессии где мы берм каждый функционал и думаем как нас могут взломать и как от этого можно защититься а на выходе мы имеем разрешение на выходку от безопасности это тоже достаточно важная точка инфорс Потому что получается что если люди не получали эту выходку то соответственно devops который занимается выходкой он просто не пропустит сес продакшн и мы заставляем людей следовать нашим регламентам во-вторых это список задач на исправления которые являются строго обязательным без этого Просто нельзя и как правило возникает е список рекомендаций на самом деле если у вас хорошая архитектура по безопасности там всегда есть до чего докопаться и есть куча фичей которые там если сервис новый Это новая Вертикаль мы просто в самом начале не хотим реализовывать потому что это будет стоить слишком дорого и обычно дать время сервису ему пожить убедиться что он способен расти с нужной скоростью и только потом до инвестировать уже в безопасность но уже понимая какой у нас технический долг последняя история связа проблем в архитектуре приложения во-первых это может быть предотвращение каких-то конкретных болей в компании Ну например мы понимаем на основе безопасности вправо что у нас люди часто Не используют шаблони Зро выражения Ну вот забывают они или как-то им кажется что они работают не так такое бывает К сожалению или другая какая-то проблема И на самом деле тогда архитектору PB ничего не мешает Просто каждый раз спрашивать а как вы будете защищаться от сль инъекции а как вы будете экранировать данные так сказать при выводе чтобы защититься защититься от xss Да это может быть немножко не в попат но как показывает мой опыт такой фрейминг людей на проблеме к случаю не к случаю он уменьшает шанс того что люди в итоге допустят эту ошибку во-вторых у некоторых компаний есть проблема с дедом дедос бывает там на разных уровнях на седьмом на четвёртом и собственно задавая опять-таки просто вопрос А как мы защищаемся на этом уровне А как мы защитим от этого можно заставить людей думать в правильную сторону и продумать эту защиту можно подумать про защиту от ботов это Очень актуальная на самом деле история Если вы развитый живой бизнес у вас много клиентов то скорее всего кто-то из ваших клиентов захочет написать какую-то автоматизацию потом начать её продавать другим клиентам и эти клиенты каким-то образом будут абьюзить ваше API что-то делать и ваши Воронки А ваша прибыль будет каким-то образом страдать вы будете видеть что ваши клиенты ведут себя не так как вы ожидаете из-за каких-то вот этих автоматизаций Кроме того у вас будет большая нагрузка на ваш бэнды и вы захотите соответственно детектировать таких клиентов и блокировать эту активность К сожалению чтобы такие вещи нормально блокировать как правило нужно закладывать на этапе проектирования дополнительные механизмы защиты это требует ресурсов и соответственно если такая проблема есть и мы или мы ожидаем что она будет её неплохо заложить Следующая история - это защита от активного конкурентного анализа её наверное проще всего рассказать на примере Представьте что вы работаете на очень высококонкурентном рынке у вас куча конкурентов у конкурентов огромные маркетинговые бюджеты и вот они влили свой маркетинговый бюджет и теперь их Главное желание - это понять А когда они потратили свой мешок денег как их мешок денег повлиял на вашу воронку стали ли клиенты к вам реже подходить или вы никак не пострадали у вас как расла расло количество клиентов определённого образом так и растёт Что для этого делают для этого берут нанимают специальных людей это такая около серая история на самом деле я е нисколько не поддерживаю которая Что делают люди люди смотрят создают аккаунты в вашем сервисе и предположим что у вас в вашем сервисе аккаунт имеют айди ники Ну положим вот у меня аккаунт будет 5.000 а вот у кого-то из зала 5.000 о и таким образом просто создавая аккаунты раз в сутки или раз в месяц или раз в 6 часов мы понимаем С какой скоростью растёт пользовательская база и измеря это и понимая какие мы вливаем маркетинговые бюджеты конкурент может оценивать степень его влияния от этого защищаться достаточно сложно про это мало кто знает и соответственно от этого как раз нужно вот ровно в этой точке защищаться Но это сложно но можно если про это заложить ресурс Следующая история - это имплементация требований по комплайнс рано или поздно любой успешный бизнес становится успешным а богатым и к нему приходят регуляторы к нему приходят партнёры которые хотят с ним запар зависеть от него но не в достаточной степени ещё вам доверяют и вам нужно им что-то рассказать и раскрыть чтобы доказать что вы безопасно с вами можно работать и тогда к вам приходит этот compliance и вы соответственно в какой-то момент понимаете что лучше бы заложить определённые моменты фичи в ваш сервис чтобы потом уже больше не парится и не объясняться Итого мы с вами обсудили э четыре так сказать цели для ревю безопасности архитектуры А дальше поговорим про масштабирование собственно процесса в зависимости от контекста вашей компании а положим что мы говорим с Вами про маленькую и незрелой компанию в этом случае на самом деле не стоит ожидать что команда ть что-то приготовит Слава Богу если ребята просто придут на назначенную встречу в полном нужном составе уже Победа вот в этом случае задача архитектора просто позадавать вопросы разговорить ребят Да это будет не так эффективно как Если бы люди хорошо подготовились но это уже будет сильно лучше чем ничего если вы соответственно более зрелые но ВС ещ маленький возможно ваш архитектор подготовит достаточно качественные чек-листы и грамотно сможет проработать риски потому что он понимает у него есть связь бизнес он понимает От чего на самом деле нужно защищаться либо может быть ситуация обратно Когда вы а быстро про масштабировать а поняли соответственно м поняли что вам нужно масштабировать этот процесс но вы всё ещё незрелые и тогда скорее всего чек-листы у вас будут какие-то скачаны из интернета или взяты из какой-то из каких-то слайдов типа моих Не факт что соответствующий так сказать контексту вашей компании Но тем не менее но эта история позволит вам опять-таки хотя бы В некоторой степени закрывать эту боль Либо вы будете большими зрелыми и тогда соответственно вы сможете закрыть все вопросы на достаточном уровне и даже вопрос такого специфических вещей как с комплайн сом или с конкурентами А собственно с этапом проектирования Мы закончили перейдём дальше к этапу разработки и поговорим про секреты секретами достаточно интересно с одной стороны Это вроде бы банальная Вещь все зна Что такое секрет Да это конфиденциальный набор символов байтов я уверен что каждый из вас может придумать ещё 20 примеров секретов которых не приведены на этом сайте Но есть интересное наблюдение я на самом деле именно про секреты рассказываю уже не первый раз я заметил следующую историю что люди в залах как правило делятся ровно на две группы первые работают над какими-то проектами которые относительно молоды где достаточно зрелые процессы и они кода читают та и они такие что в д чем году ещ надо кому-то расска серра об это с но при этом сбоку сидит другой человек у него на самом деле дикая легаси там 10 секретов в исходном коде он тихонечко молчит и потом в рах про это рассказывает Вот и я отсюда как бы сделал Вывод что э тема на самом деле Несмотря на то что кому-то она кажется уже супер заезженный она ВС ещё имеет место быть и более того сложно потому что у нас у всех есть какие-то Legacy там миллионы строк кода А чем у нас больше кода тем больше там того что выглядит как секрет Но не является я я уже говорил про это Какие тут могут быть примеры это могут быть файлы шрифтов потому что они выглядят как как случайны их токены это могут быть картинки это могут быть какие-то b64 блобы это могут быть тестовые секреты которые выглядят как продакшн Но им не являются это могут быть на самом деле уже устаревшие секреты которые просто ну Давно уже арати но на которые надо теперь тратить время Кроме того проблема в том что Секреты могут быть не только в коде они могут быть в тестовом волте и вы такие Ну правильно тестовый волт он для того чтобы хранить секреты вроде бы всё так но проблема в том что на самом деле К сожалению Иногда случается Так что секреты в тестовом ЛТЕ и в продакшн волте совпадают Ну просто потому что их скопировали с of прок потому что процесс так отстроенный не было то люди бы знали что у них есть проблема а так они думают что проблемы нет а она есть кроме того Секреты могут быть в различных инфраструктурных компонентах тас трекера В общих каналах мессенджерах и вообще в чём угодно Даже в кофеварке если она достаточно умная а собственно что же со всем этим делать На мой взгляд нужно ставить себе выполнимы цели нужно просто сделать так чтобы тренд по секретам пошёл вниз вот это хорошая цель там Для любой компании насколько бы э плохой ситуации не была и простым решением этой ситуации является Договориться с C с руководителем инфраструктуры о том что с сегодняшнего дня все секреты в компании имеют фиксированный префикс например My S Corporation и потом пошли 16 или 20 там случайных символов кажется что нам это даёт а даёт намм эту следующую историю это даёт нам возможность очень хорошо приоритизировать собственно сами секреты И если такой секрет затем текти мы во-первых очень легко можем выделить на него ресурсы команды б потому что мы понимаем что это настоящий секрет во-вторых Мы очень легко можем с высоким приоритетом выдать выделить на Это ресурсы команды разработки потому что мы знаем что Чем дольше секрет лежит в коде тем дольше больше нужно потратить ресурсов на его ротацию а в идеале Мы даже можем отстроить механизм который будет блокировать комит собственно таких секретов в репозитории и саму ротацию та производить не придётся мы защитим разработчиков от случайной ошибки когда секрет сгенерировать правильно ну где-то ошиблись и случайно просто не тот файл закатили при этом компании которые уже применяют их подход их много вот здесь примеры собственно шаблонов для регулярных выражений как Тулы которые работают с секретами Тулы которые занимаются поиском секретов детектировать не просто секрет а они уже знают что это секрет амазона гитхаба или Яндекса а Итого соответственно секрет позволяет предотвратить утечки если мы это централизовано настраиваем и позволяет повысить критичность и быстрее ротировать А это соответственно позволяет намм э создать тренд Да потому что мы с одной стороны не позволяем появиться новым секретам больше а с другой стороны потихонечку Разбираем кло и тогда уже становится просто технической задачей понять А сколько нам нужно ресурсов чтобы вот такое количество секретов там за какое-то количество времени арати исправить и там убедиться что среди них нет хотя бы супер критично а перейдём к зависимостям э чтобы поговорить про зависимости надо сделать на самом деле сначала шаг назад и поговорить про типы уязвимости уязвимости бывает два типа во-первых это зрд уязвимости Это уязвимости о существования которых мы ничего не знаем и самая главная сложность с ними заключается в том чтобы их найти хороший пример - это SQL инъекция мы не знаем где в исходном коде находится SQL инъекция пойди её Найди мы не знаем где в исходном коде находится какой-то маленький странный секрет который не имеет префикса нужно там если у вас миллиарды строк кода потратить очень много времени чтобы найти этот секрет а в противовес есть One уязвимости они присутствуют в тиражируется поис она абсолютно рутинная мы просто берём название программы версию заходим на сайт вбиваем и знаем все все уязвимости которые есть это супер просто но есть другая проблема Проблема в том что этих уязвимостей их десятки тысяч и сотни из них выходят каждый день и соответственно никаких ресурсов на самом деле не хватит это просто нецелесообразно их все и возникает вопрос а что же делать решения тут два во-первых нам нужно договориться о некотором минимальном уровне там пороги да то есть мы например обновляем там уязвимости если их критичность там скажем повс кору там 9 и5 из де Но даже если мы возьмём столь высокий порог даже в этом случае у нас этих уязвимости в большой достаточной компании будет слишком много что ресурсо ну разработка Иво просто не вывезут в этом случае нужно подумать об автоматизации и облегчении их работы чтобы задача была сделана как это можно сделать во-первых надо стараться переходить в контейнерные облака большие компании даже если используют B Metal тоже стараются у себя на самом деле накрутить внутри какую-то внутреннее облако потому что в Облаке у нас соответственно можно достаточно легко сбил новый контейнер а опустить его на часть пользователей посмотреть Всё ли хорошо Если всё плохо откатиться назад противовес железного где Не факт что когда мы обновились на старую ну как бы откатились на старую версию что всё пойдёт хорошо потому что может быть новая версия поменяла формат конфигов А старая версия его больше не поддерживает и никто не написал скрипта который А откидывает назад соответственно измерения в конфиг файлах А кроме того на самом деле прикольном то что можно из этого процесса по работе с One уязвимостями полностью исключить команду EB и сделать её по-настоящему платформенной потому что команда может написать ну не написать а запить скажем а тул который обнаруживает такие уязвимости а во-вторых второй тул который автоматически сдаёт реквест и тогда цикл происходит следующем начинается спринт н разработчик открывает свой репозиторий видит там реквест от такого Бота МРТ его убеждается что всё более-менее работает инженер потом проверяет и в общем-то всё и получается что люди могут это делать самостоятельно в своём релиз цикле со своим приоритетам и ресурсы команды здесь практически тратить не нужно на это Уменя на самом деле всё мы с вами прошлись спокойно по всем этапам разработки поговорили про общую проблематику Shift Security поговорили про важность безопасности справа поговорили про чек-лист про ревью безопасности про масштабирование аю поговорили про секреты и зависимостями вот здесь ссылка на мой Telegram я после соответственно выступления скину туда презентацию и там же будет ссылка на то чтобы проголосовать за мой доклад если он вам понравился на этом У меня всё буду рад ответить на ваши вопросы Спасибо Ладно спасибо большое за доклад прежде чем мы перейдём к вопросам хотел опять же напомнить по традиции нашим онлайн участникам что у нас есть возможность на платформе задавать вопрос я его зачитаю можно писать вопрос в чат зала я его тоже буду просматривать и зачитаю и опять же обязательно оценивайте пожалуйста доклад спикера это очень помогает и конференции и нам и спикеру И вообще все будут счастливы если все будут оценивать Вот потому что вас сегодня много пришло надеюсь на большое количество оценок И мы начинаем нашу секцию вопросов и ответов и я вот вижу третий ряд прямо по центру ээ Спасибо Здравствуйте А спасибо за доклад Меня зовут Дмитрий а вопрос примерно такой э вот как может быть есть план дните пожалуйста на слайд где вот описано полностью тебя схем схем сейчас вот вот вот вот прика на Да вот вот Да отлично вот предположим Я хочу Вот ввести практику в команду Да и практики естественно нет вот с какого этапа стоит начинать учитывая Да что хочется начать Естественно С разработки Они вроде бы ближе к разработчиков и только справа Я считаю что только справа тестирование на проникновение Вы должны понять что у вас болит и только понимая что у вас там реально болит этим заниматься потому что в чём опасность shif Security в том что если вы этим не занимаетесь У вас на каждом этапе есть чем заняться там точно есть проблема но весь вопрос в том а является ли эта проблема самой важной Входит ли она хотя бы в топ-3 или в топ-1 ваших проблем А если забыть про приоритизации в таком плане то есть я к тому что есть например младшие Разработчики у которых например нету да соответственно образования профильного именно и и возможно им это будет например тяжело Естественно они как работают с некоторыми задачами Вот именно в плане разработки то есть вот Под таким углом посмотреть говоря сло ответь вопрос смот себя на безопасность как на платформенную команду которая сама определяет на основе своей экспертизы куда надо двигаться ваш вопрос кажется про то как строить безопасную разработку при отсутствии команды безопасности у меня для этого есть отдельный доклад прямо вот когда нет ресурсов даже на отдельного профильного это отдельная история Я в неё сейчас не уходил Можем ли в ларах поговорить нет здесь скорее типа вопрос про фича команду когда есть отдельная команда информационной безопасности слу детали чтобы отдать вам толковый ответ Простите Давайте продолжим не понимаю как дать отве Да сейчас вот в второй ряд правая часть зала посмо и прежде чем валов справа задают вопрос На всякий случай я тебе скажу у нас будет приз за лучший вопрос поэтому у нас уже первый вопрос был супер давайте ускорим всем поможем Спасибо за доклад очень интересно И хорошо что скажем так больше популяри история имен с безопасною вот есть чек-листы на лёгкие какие-то уязвимости есть там не знаю статические анализаторы которые могут легко искать а есть более сложные ну к примеру говоря те же там SQL инъекции их сложнее Ну статический анализатор пока не справляется смотрели ли на историю с там поэкспериментировать с разными аиш ками чтобы вот не знаю натравить На репу и сказать Вот что она здесь может найти более таких глубоких Да я смотрел слушайте Ну давайте я попробую супер коротенько ответить мой опыт такой а с аиш ками они хорошо ищут если ты им скажешь где искать в маленьком количестве кода а при этом когда у вас большой код то как будто бы вам проще идти в небольшие Тулы которые не строят полного семантического дерева но проблема в том что опять-таки с практикой со статическим анализатором в том что вам нужен отдельный человек который за всем этим будет верховой эть и за всем этим смотреть и вопрос ещё эффективности всей этой истории и я я не являюсь поляризаторов анализаторов потому что у меня есть отдельный доклад если кому интересно там тоже есть Telegram канале о том что статические анализаторы они by Def не закрывают все проблемы к сожалению люди часто их воспринимают я поставил сас значит он меня защищает а он к сожалению by дел только защищает меня от определённого класса уязвимостей либо помогает найти такие же если я точно знаю что мне искать то есть типа найти вот эту же проблему но в другом месте Давайте дадим руку дальше я кажется отвел а то есть да хорошо там был в левой части зала Вопрос будешь спрашивать Отлично вацлав спасибо за доклад интересные рекомендации наверное в продолжение первого вопроса А как ты вообще думаешь может какие-то паттерны ты видел кто вообще должен делать Вот этот Shift Left Ну потому что название доклада что это архитекторы разработчики может быть ещё кто-то вот там ты ни разу не упомянул секюрити Чемпионов или может быть какую-то эбн команду вот опираясь на свой опыт что ты видел и кто вообще должен этот shif Left запускать Хорош это вопрос достойный отдельного доклада Вот потому что по сути мы говорим как зади зайни этот процесс А как за дизайни процесс супер сильно зависит от контекста нашей компании какие я знаю там кратко принципы Первое это когда у нас есть ресурс у нас есть отдельная платформенная команда безопасность она может быть соответственно даже немножко эйлинг а соответственно мы можем туда вовлекать секюрити чемпионов но я просто давайте я проговори что это сложно там много нюансов Я не готов сказать что это так работает в лоб и к сожалению чаще видел что это не работает а люди просто притворяются что оно работает так либо на практике есть ещё история когда мы просто лежим по направлению вот ну наверно это всё что я могу сказать такого сходу Спасибо можно микрофон сюда На первый ряд центр зала Спасибо Здравствуйте спасибо болье за доклад ня зовут аите вот часть которая касается архитектуры именно Вот и я думаю что вы как бы не коснулись очень важной темы которая касается проектирования данных Дело в том что ну как бы баги там инъекции и всё такое Это конечно здорово Вот но важно также минимизировать ущерб Вот и правильно проектируя данные например ну у вас утекла какая-то база например да и эта база она Ну сделать так чтобы эта база ничего не давала или давало меньше чем что-то да то есть и это как бы ну это важно И вообще то есть и это надо закладывать на самом начале на самом в самом начале то есть это это нельзя потом пойти и сказать что Ну вот вы отличные там сделали хранилище и так далее А вот теперь перепилить его так чтобы например не было данных здесь А здесь вот э чтобы значит виза Там что-нибудь э я я понял ваш вопрос я с вами полностью согласен и я у меня это в планах в отдельный доклад потому что это супер специфическая история и Ну это как бы история для очень зрелых ребят да Вот Вы кажется из такой компании Это здорово но для большинства это кажется просто ребята ну не поймут у них просто нет на это ресурсов вот так да это это хорошая глубокая тема вот архитектора с архитектором поговорить про это очень интересно хорошо правая часть зала первый Рит Да спасибо за доклад такой небольшой комментарий хотелось услышать Да я здесь Я здесь ну на мой взгляд вот Security - это развитие devops То есть если мы развиваем devops получается devs хотим космические корабли делаем Cops и чтобы вот это ещё начать развивать то это трансформация команды трансформация компании какие-то Ну корпоративные новые правила и мало того что разработка должна тоже сказать применять в архитектуре и е там BD принимаем вот у вас компании как с этим То есть или это просто ну уровень чек-листов просто смотри делать можно по-разному возвращаясь к началу вопроса это супер классная часть это вот мне кажется что похоже как мы с игм обсуждали в начале был вопрос про как бы Какие бывают типы команд как они взаимодействует есть отдельный доклад про связь безопасности пря надо отдельно сидеть и дизайни это вот есть знаете такая по-моему поговорка что главной в компании devops - это C Да наверно знаете вот это садиться и дизайни Ну вот можно очень по-разному и как бы ну вот как я говорил может быть отдельная команда это могут быть чемпионы это может быть просто мы легли и знаем это может быть формальное исполнение когда мы наняли человека и он нам формально это закрывает ради ко требований как угодно Хорошо последний комментарий я работал где через чек-листы и допуска соответственно разумный размер этих давайте так я скажу не про размер а про метры как я сказал не больше 30 минут то есть вот вот человек Вообще ничего не видел он тратит не больше 30 минут чтобы оценить свой проект там что там как разобраться вот на мой взгляд это это разумно больше работает только если у вас есть Например аналитики у вас какой-то серьёзный комплайнс и вы заставите человека прямо заморачиваться У вас есть точка инфор этой истории хорошая и серьёзная Спасибо Уви вот хотел нет Если есть врем нас у нас ещё есть время на пару вопросов вот по центру прямо за колонной опять мне не видно но я усмотрел Можем пока на ко переключиться домой да спасибо большое за доклад Да у меня вопрос как раз таки к подходу с чек-листа по цент Да да я тут Значит у меня вопрос такой как объяснить бизнесу что разработчикам нужно выделять время на заполнение этих чек-листов а разработчикам донести что важ чек-листы пройти не так что на обом Да нет а погрузиться в каждый из пунктов этого чек-листа А так смотрите есть два подхода первый мы идём по классике просто сверху вниз вы приходите соответственно к руководству не знаю cto кто угода ещё и показывайте на примерах которые у вас скорее всего должны быть которые говорят что вот если бы мы вот это сделали то нам бы вот здесь Было бы не так больно и опять-таки я именно поэтому и рекомендую начинать с безопасности справа потому что там будет не какая-то новая в интернете какую-то компанию взломали а Конкретно Ваши проблемы которые вы могли устранить потратив вот здесь 10 минут и это хорошо работает то есть разговор пример разговор с топом А масштабируется это когда вы преодолевается закон конвея Несмотря на то что безопасность отдельно от разработки может быть Это там ну то есть безопасность не внутри команды вам нужно быть френдли Вам нужно быть добрым вам нужно делать так чтобы люди с вами общались и хотели как бы собственно это делать Это Ну немножко быть эбн командой и пропагандировать или евангелина с обоих сторон идти и тогда где-то там возможно вас ждёт успех как минимум это будет неплохо А ждёт ли успех не могу гарантировать вот Но это правильный путь Спасибо теперь вот второй ряд правая часть зала а пока вопрос не задан я хотел уточнить вот обычно обычная практика что половина вопросов связаных с се это А кто кто будет за это к будет это делать какая команда как будет распределение ролей команды то есть мы больше говорим про какую-то ответственность конкретных команд или людей Так давай той вопрос так распределение обязанностей вот значит мысль такая что если мы идём в сторону платформенной команды то там можно чётко разделить ответственность следующим образом а безопасность отвечает за метрики Тулин и инсайты команда разработки отвечает за то чтобы выполнять то что ей сказали в рамках ответственности эта доменная область она узкая и чётко понятна и измеримая а C level отвечает за принятие стратегических решений Когда у нас есть конфликт Ну например мы должны исправить вот эту уязвимость или вот этот пул уязвимости Но тогда мы должны пожертвовать бизнес какими-то вещами Либо наоборот а в итоге взломали вас потому что Фишинг пришёл бухгалтеру и он кликнул на email Это нормально если мы правильно распределяем ответственность то мы сможем как бы разобраться кто по нашей матрице как бы неправильно сделал решение Да даже если это был принятый риск и понять что окей мы создано берём слишком большие риски то руководство сможет понять Окей это значит на моей стороне проблема И я могу по-другому приоритизировать либо нет ладно О'кей мы продолжаем жить также нам О'кей тоже вариант по понял спасибо возвращаю ээ в зал Да привет да спасибо за крутой доклад А у меня вопрос Следующий смотри у тебя там были был слайд с этапами и этап там этапы в какой практике вот вот вот вот вот смотри там требования проектирование разработка да то есть смотри Допустим сегодня команда прошла там все необходимые чек-листы прошла необходимые ревю по безопасности как будто всё замечательно фичи летят непрерывно там от самых маленьких до очень больших и мы не знаем там что будет завтра через месяц через год когда нам необходимо задумываться о том а всё ли у нас в порядке и возвращаться вот Окей смотри значит когда мы сетам ревью безопасной архитектуры оно вообще хорошо сепи если у нас есть как раз архитектурный комитет по it А когда у на Архитектурный комитет по it там ребята уже 20 раз это подумали и в идеале мы просто к ним прицепляется и помогаем и говорим Ребята а вы вот про это не подумали Давайте Подумаем и как бы я бы начинал с этого чтобы it как бы Простите воевало с it они там сами решили и договорились короче чтобы безопасность в этом не участвовала А мы такие Ну вы же пришли к архитекторы Они же вам сказали прийти Ну а мы вот рядышком стояли просто вот но ответ на самом деле Вот вот я вот так вот делаю я в эту сторону воюю Ну там там ну как А как А как Бут хорошо Как будут потом it архитекторы Договариваться с командой но они просто сядут Т какие-то требования Ну примеры там вот ты делаешь такой функционал вот не знаю там столько строк кода вы планируете вот там не знаю новы функционал которого раньше не было какие-то будут критерии и всё и дальше будет какая-то точка инфорс Скорее всего такое тесное взаимодействие да дадада и как бы дальше там это как-то может быть вы это покритие скажете нет нам нельзя нет мы хотим там может быть куда-то вмешается в ваш какой-то бизнес и скажет нам надо вот так Ну то есть это вопрос переговоров Да супер Спасибо Спа друзья у на очень много вопросов снм первый Р Да привет Спасибо за доклад Меня зовут Филипп у меня такой вопрос Ты часто упоминает платформенная команда и не очень понятно что такое платформенная команда с точки зрения безопасности Ну в смысле для маленькой компании Окей и может жить внутри продукта Ну и быть в доме не продукта но если мы берм большую Корпорацию котоно является ли платформенная команда это центральным блоком который нарат над всеми или ты предлагаешь внедрять собственные маленькие команды безопасности в каждую команду как от масштабировать Shift маленькой до Большой корпорации счит скажу две вещ пер У меня есть отдельный доклад как я упоминал про связ это кажется как раз как дизайне а сго ны вот сожалению как и Сай первый вопрос ском мало Конте ответ А как надо можно так и можно так А как надо Ну не знаю Надо разбираться Нет но я про то что если есть концепция Shift лефта то кажется что ну она будет очень сильно разная в зависимости от того это маленькая компания с одним продуктом или это большая корпорация бев Именно поэтому там был слайд про даже архитектура вот помните где это там было сейчас вот то есть мы даже архитектурное ревью можем четырьмя разными способами сделать и там всё вот так вот это ещё можно декомпозировать И декомпозировать оно но всё супер разное Да и тогда я последний дополню просто Вопрос в том числе важен потому что вот вы обсуждали ответственность того Ну у кого Как делится ответственность и в зависимости от того как построена и как выделена платформенная команда будет сильно отличаться и то какая ответственность как она размывается Да всё так просто я что-то постеснялся уже второй год подряд второй доклад рассказывать вот сори Ну тако право абсолютно спасибо спасибо валов самое приятное и сложное выбрать лучший вопрос чтобы подарить подарок кастомную матрёшку можно кони с этого года Подождите это действительно сложно Давайте вот человеку просто вот подарим Ага я понял Да я в принципе так и ожидал Это здорово так но у нас есть Подарок Ещё и для тебя подарок от конференции по поводу матрёшек их реально можно теперь будет коллекционировать через 10 лет сказать что у вас есть полная коллекция матрёшек за все самые классные вопросы за 10 лет спасибо спасибо спасибо тебе большое за доклад ребята аплодисментами провожаем нашего спикера а"
}
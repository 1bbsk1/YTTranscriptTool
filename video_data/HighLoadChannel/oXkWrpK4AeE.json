{
  "video_id": "oXkWrpK4AeE",
  "channel": "HighLoadChannel",
  "title": "Vue.js и его брат-близнец Vue-server.js / Андрей Солодовников (НГС Технологии)",
  "views": 3443,
  "duration": 2869,
  "published": "2017-04-22T14:47:58-07:00",
  "text": "итак на следующий это такая за те кто не вкурсе никому более популярны ты не мент с довольно интересную понимаю нарисовать солодовников . привет поприветствуем всем привет сегодня я раскажу про бюджет его брата близнеца сервер cs хотел бы сразу прояснить путаницу с произношением названия дело в том что само по себе сломано отцовское и на французском языке читается как однако автор и разработчик утверждает что правильно читать как английское слово бью поэтому названием библиотеки считается you немного обо мне я уже пять лет заниматься разработкой а еще дольше я увлеченный велосипедист вот это я в предгорья алтая гоняем на газетном походе вот у меня был сзади на багажнике эти сейчас я работаю в компании gess технологии с технологии занимаются разработкой сайтов для региональных digital и работаю я над проектом n1 n1 размещает объявления по недвижимости мы сейчас имеем данные где-то по 50 регионов россии и проекта уже два года и все эти два года вот я с этим проектом до этого я тоже работал над проектом недвижимости это как предыдущая версия он был более ограничен то есть начинался с новосибирска потом несколько сайтов несколько регионов туда еще подключилась если говорить о это технологиями там были его плагины и такие скопления скоро стали использовать и но там еще есть попытки внедрения таких парков похожим на боковом самописных но они просто по сути для того чтобы ход структурировать и вот когда мы только начинали n1 нам показали вот такие макеты на одном из макетов была вот такая форма форму поиска если на предыдущем проекте the bottom коммерческая недвижимость жилая недвижимость там под каждый раздел была отдельная форма так вот один у нас одна форма для поиску по всему на свете я сразу по всем категориям сразу там все фильтры вот и что самое страшное в из поиск все изменения должны были сходить сразу могли нити из перезагрузки вот и это значит что на предстоит написать мне в сингл публике чем то есть одна из частей сайта будет сингл быть от летишь и перед нами встал вопрос как бы мы смотрим на же говорим смотрим на сайт снова кита смотрим на заборе смотрим на воде ты понимаем что мы да не вылезем никак потому что дверь запер мы должны очень много кода писать чтобы контролировать вам разметку то есть вы вручную по сути ввести код который контролирует дом и у нас команды и если бы мы столько времени тратим на которой дома то мы бы никогда не сравнивать поэтому мы начали думать что-то изменить в этой жизни и какую технологию взять который позволил писайте в основном бизнес-логику именно с вот этой целью мы проводили исследование технологий там пол долги такой-то под года мы пробовали там apps by georgette страшной кстати вот в том числе вот как разряд и в бюджет и они стали такими финалистами это этого бойко самые такие позволяющие меньше всего думать о контроль и разметки вручную и больше писать бизнес-логику оба from work a реализуют компонентный подход который основывается на концепции год web components кстати кто в таком вот слов компонент руку поделить пожалуйста чтобы я понимал в компонент о том что приложение делятся на какие-то самостоятельные блоки вот которые реализуют какую-то логику и могут жить сами по себе небольшое такое условное сравнение этих двух реакции на сегодняшний день очень много зарабатывает бюджет у него всего лишь оба поддерживают как только вот недавно отказаться подтяжки и 8 если говорить о размере паза в библиотеке то обе они довольно легкие свд свю джесс при этом все равно два раза легче и вот чтобы как-то ориентироваться я еще написал тестовое приложение под джинсы подряд и заверил за какое время они стартуют на самом деле время почти одинаково но уже чуть чуть побыстрее о том что это за приложение такой тестовый просто я ему еще куда обращаться дальше она состоит из трех компонентов это базовые блики в нем список из условных объявлений которые 50 штук я рендерил на странице и так что за вью дженс основном на нем подробнее потому что про реакции выпал на сегодняшний день и не говорит только ленивый а вот бюджет в россии он не очень популярен пока что первая версия 060 вышла в декабре 2013 года то есть и может где то два с половиной года его автором и разработчиком и долго время единственным моим тренером яйца вот этот вот человечек его зовут иван я родом он из китая позже переехал сша и устроился в google работать он работал google а сейчас работает разработчикам в медиа групп юджи примечателен своими данными дело в том что это не просто данные это реактивные данные когда впереди создаете приложение придаете туда данные ваши данные перерабатываются и туда встраиваются специальные watcher и эти watcher и позволяют отслеживать изменения этих данных и подписываться на них и если у вас есть какая-то разведка какие-то дома элементы или другие данные вы можете реализовывать реактивные пилинги между этими данными должны разметкой что позволяет вы просто меняете данные и бен смотрят что что-то поменялось и придать идти изменения в том или в другие данные для связи с дом элементами бюджетов пользу коллективы в этом он не убегали бюджет директивного бизнес это некие готовые логические блоки которые реализуют ники функционал то есть после 1 так и разметки и если в ряд например используйте функцию рендер и напрямую реализуйте там все логику то есть готовые боги это с одной стороны позволяет ускорить разработку другой стороны но есть обуви ну что не всегда это удобно когда нужно какие-то странные вещи сделать может быть нестандартные но в таких случаях можно написать основную директиву то есть можно дополнять этот набор вот так вот выглядит директивы д.с. это очень похожа на примерно angled вот для сравнения привел директивных из n 2 1 на самом деле намного больше чем в обвесов очень много в известных меньше и если вы сранивать что на что директивы вес больше похоже тут скорее взгляд 2 отличается и приведу пример работы 1 директив это директива вид она занимается контролем отрисовки do not если вив выражение преданной обвит мирного falls to do много не от рисуется если кто-то давно дат рисуется и в паре с ней работать директива вентс которая его тоже самое только как бы наоборот так же как их и такая конструкция этом случае произойдет вот такой результат для вендинга трибутов то есть для реализации связи данных с атрибутами используется или gti вами бает она позволяет она принимает также выражение данном случае я передал строку фу для того чтобы удобнее было писать так как директива используется часто есть для неё шорткат убираем любой то остается только : право говоря это значит что такая директиве директива является динамической помимо прочего доступен специальный синтаксис для атрибутов klass & style валет удобно контролировать множество множество классов или стилей и вот такой результат получится если это джесс помимо контроля за атрибутами и за тегами нужно как наполнить контентом то есть стоит какой-то текст для этого используется широко знакомые увы предается выражение там или какой-то какая-то переменная когда даны когда сядем на задаче изменения не отслеживаются вот и не отображаются в разметке двойные усы и они говорят о том что если там лишь тем это будет происходить если вам нужно стоять и в тема для этой страницы и еще усы можно использовать прямо в атрибутах также для них доступны фильтр и фильтр это просто специальная функция которая обрабатывается результат два разных не но прикол в том что удобно сидеть с их можно использовать по цепочке друг за дружкой вот и очень удобная вещь такая штука есть и waggled втором только называется пальца от атак тоже самое так базовой единицей приложение нам you guess является компонент у компонентов есть определенный жизненный цикл от создания то уничтожения и этот цикл делится на этапы этапом соответствуют определенные фуке то есть калуге это немножко упрощенная схема жизненного цикла бюджет и четыре таких наиболее часто используемых kuga то есть когда только создаются данные когда скомпилирована полностью с конгревом полностью компонент они стали на разметку когда все готово и когда компонентами что росс еще еще два хука которые очень похожи по этапам кризис и на destroid еще есть специальный звук активац он по этапу зарабатывать в тот же самый момент что и звуком bold но обладает специальным функционалом у него есть когда и покатит о бок не будет вызван то дом надо не переведут это обладать то есть не будет вставлена разметку и благодаря этому можно какие-то данные в компонент например прямо в компоненте поучить их и передать теперь о том как создавать компоненты это очень просто на самом деле компонент ввс это всего лишь объект изначально дальше я буду опускаются диск бабочки будут вас писать свойство которые в этом объекте находится и первым и обязательным соусом для годов компоненты является template строкова steam или который вы туда передаете и который будет отрисовывается у компонентом вильдан и у компонента есть методы капитан то есть функции которые вы можете использовать в любом месте компонента вызывать шаблоне директивах во функции датой и многих местах есть что такое классное что компьютер свойство которое представляет из себя функцию но при компиляции то есть при инициализации компании превратиться в свойства значением 5 будет результата работы фишка в том что если данные которые он использует меняется это свойство автоматически будет просчитываться так как когда вывести обращайтесь какой-то переменной происходит подпись на ее у меня вот эта благодаря системе больше происходит дополнительные функции никаких названий нужно таким образом также вызывается уже больше представленные фуке компонент еще нужно помимо того что его создать нужно привязать его приложению то есть чтобы он был объявлен внутри приложения для этого есть два способа первый это глобальный объявление компонента через бью компонент создается имя и собственно контент этого компонента второй способ это явная привязка компонента по другому компоненту внутри его акции дальше компонент нужно как-то вызвать делается это обычно через разметку тоже доступно несколько способов первый это использование константинов вот здесь нюанс какой есть в том что и чтим и он не чувствителен к регистру на самом деле и если вы используете имя в контенте то при запуске в браузере ваш html 5 коротких например имя не совпадёт и вот чтобы это проблемы решить бюджет автоматически конвертирует именно вкл пенсии и bobcat но если вам допустим не нравится такая ситуация вы хотите использовать одно имя этом и то есть или пить его трегуб у атрибут из который вызывает компонент нужно в теге на самом деле вот имя имя тега компонента но здесь не обязательно вы можете использовать директивы ес на любой книге вот а еще компоненты можно запускать в цикле спасибо ребятам от одного до десяти то будет адресована 10 компонентов и вы можете ему счете цифр передать и теперь осталось только запустить данное приложение то есть ставить его документ для этого я создал так называемый рутовый компании то есть это самый верхний компонент приложения он точно такой же как и все остальные но у него есть опция ел и селектор куда приложение будет вставлен и она будет работать одна из фич которые мне он больше всего полюбились когда бюджет это система динамических компонентов дело в том что когда хочется дать им помочь облик песен думаешь я хочу клёвую навигацию реализовать чтобы в бразили тыкаешь зад вперед и вот такое изменяется туда-сюда вот проблема в том что зачастую нужно писать много дополнительной логике чтобы эти переходы организовать бизнес чаще всего это логову писать не нужно то есть вы просто меняете данные привожу автоматически меняется как-то работает используем тот же атрибут из но в данном случае он является динамическим то есть посмотрите у него есть : перед названием это значит что я сказал директиву убиваем иначе что внутрь передано уже не простыми компонента образует и вот если результат этого выражения совпадает с именем компонентах который доступен для инициализации то этот компонент автоматически станет на это место и более того если у вас есть другой компания если вы поменяете привязанную перемены то этот компонент автоматически станет для ее место зимовки объявить 10 компонентов и только одну 1 т годовых может вставлять туда все 10 компонента в зависимости от значения какой-то переменной бюджет позволяет обрабатывать события таки копеек день а до этого существование реактивы и всем ним события нужного можно передавать функцию можно сразу писать прямо выражение то есть gonna написать из письма урону фолз в данном случае я не переключаю туда-обратно толстую для директивами он доступен шепот ну чтобы было удобнее было писать можно просто писать собака перед именем события и вот простой пример как это работает есть кнопочка на ней водятся клик тексты изменяется в зависимости от переменной и звереву и переменные связи был собственно управляется видимостью никого контейнера с содержимым а его веселом она управляет свойствам где спорит переключать на ном и или к дизайну охота дав может работать данные компонентов являются изолированными внутри каждого компонента но зачастую нужно как то связать все равно то есть из одного компонента передать данные прыгай для этого есть специальная система процессов которая позволяет явно передавать данные за новым компонентом другой я это покажу на примере вот такой схемы допустим у нас есть компанец родительский и у него есть данные которые я хочу передать что мне нужно сделать для этого для этого дочернего компонента пишем опцию props что в ответ робсон от прописать если вам нужно просто когда извлечение без каких-либо требований написать минут ну если нужны какие то что на иначе будет орган в консоли полное значение можно задать ты мне по типу этой переменной и можно вообще какой-то кастомной валидацию туда прописать функции придать я допустим прописан просто новинку потому что мне никаких треугольник этой переменной нет и последнее что нужно сделать это на тэги которые предлагает компонент прописать всю ту же конструкцию с динамическим атрибутам имя которого будет вылью внутри будет носить и таким образом переменной порядочек ником по дефолту бенинг такой является однонаправленным то есть будет данные если они изменились в родительском карбоните и обновляться обновляться и в начальном компоненте а вот наоборот уже не заработает сделать так чтобы данные передавить только один раз потом не менялись этого ланс и можно организовать двусторонний binding то есть в то бы данные когда хирна влияли на родителя и для этого используем сины на самом деле там много все очень интересного есть готовы в озеро есть стыд который работает как шлюз например под названием viewnx есть лотта пи есть тесту скоро чего чем все много интересного и особая гордость сообщества бизнес это замечательной итоге то есть а вообще все описано все примеры есть я не знаю что там нет сериал у меня и знакомы которые долгое время словаря в том все но там попался сильно малой скрипте не солгу там человек подался во все тяжкие и он агитировал людей в том числе писать на реакции его услугам был попробуйте реакции 7 дней и вам понравится потом перешел на бюджет и воздух остался тем же но как бы количество не поменялось до 1 поэтому серьезного быть и штука вероятно вам понравится и джесс дает серьезного чем функционал и при очень низком пороге входа но пользователи не единственные для кого приходится писать на все приложении есть еще поисковые роботы и нужно как-то этот вопрос решать решать вопросы так чтобы не нужно было писать дополнительный код вот чтобы взял тот же бат который передается в на клиентское приложение и отправил на север и у меня получился одинаково результат то есть хотелось их заморское приложение и второй момент я хочу видеть контент сразу когда захожу на страницу зачастую если особенно это какой то информационный сайтом статьи какие-то информация в объявлении так далее вот у нас как раз была такая ситуация что есть красин complications то есть поиск объявлений а потом отдельно открывает страницу там дома объявление еще какие-то такой гибрид тебе кучу песен и информационного сайта выходит ряд по довольство он на самом деле умеет то как говорится на севере позвольте мне рассказать почему мы все таки не спешили останавливаться на нем я провел исследование как мы моем тестовое приложение вендре c какой скоростью на разных версиях так то вот последняя версия которым у когда их солдата 215 2 сейчас на самом деле время довольно таки хорошая то есть его можно использовать продать им вот но как бы два года назад время было по печали и ну мы посмотрели на это и нам стало как бы немножко страшно еще одна проблема серверного рендеринга реактора в том что до сих пор из коробки функции его родными две синхронные и блокирующие это значит что ваш поток будет ждать пока андриса ваше приложение в 430 под вашим надо будет ждать на самом деле сейчас есть модуль стороны который позволяет контрит стриме но два года назад его не было вот-вот нам очень хотелось взять в виду решить эту проблему первое что пришло в голову это эмуляция документа наследования то есть мы берем запускаем как вы браузер на сервере гендером наше приложение и отдаем его сервера о чем хотелось это все в реал тайме делать потому что давай всё менять до этого мы пробовали звездой и ндс медленная для real-time а не годится а вот здесь дом заняли интересную историю запускается долго очень дом но само приложение говорит очень быстро и было где даже сделать семьи с отдельной которые на котором будут подняты отдельные копии же из дома который будет принимать запросы на red green отдавать это все но система как бы очень сложно получается у нас мы начали что нет у нас столько времени и сил и плюс там еще и периодически ошибки возникали какие-то неведомые запускают приложение для чего-то валится непонятно что и там ругается на какую функцию zilla скрипта и родстер помимо эмуляции можно на самом деле еще фокусироваться на решение проблемы seo 3 доступности сайта для поисковых роботов и для этого он использоваться на 500 и в частности что такое снапшоты это когда вы заходите на сайт снимаете с него вот получив и систем или усядется хранить и дает потом это как кому потом и для решения этой проблемы существует в шикарное приложение принять дарю она доступна как готовый сервис платный и как open source code которые можете у себя поставить запустите пожалуйста вашу проблему seo действительно тут эффективной решено помогу вам отлично справляется из гуам больнице индексом с кем угодно но мы хотели еще решить проблему ментальная дача и поэтому вот такие посидели и о чем нам не а там ведь люди с на сервере если мы можем запустить а давайте напишем штуку которая делает то же самое пока себе и без документа таким решением стало rds идея может показаться дикой на самом деле это не было вообще ни разу сложно дело в том что в бюджет на по себе простой его понятные атрибуты понятно директиве понятных принципы работы на сервере когда вы говорите приложению вам не нужно я реактивность потому что вы раздавите приложение один раз дальше она не меняется то есть это уже пойдет другая сессия ringa linga ваш браузер не столь же не вопрос для но джесс там один только вариант кода который вы запускаете и не все нужно писать 0 потому что какую-то часть кода я позаимствовал прям из gps например взял функции которой компилирует строки с выражениями превращают и функции или тоги на вот и как бы это все я собрал вместе и буквально за четыре дня выпустил за прототип некоторый учетом и примерить и в принципе почему это не страшно потому что какие-то вещи можно просто нарисовать на клиенте если они не нарисовались на сервере то есть главное чтобы оля меня структура совпадало но тут еще вопрос как поступать здоровья дело в том что классическая схема берега на север и предлагает что приходит у вас некий запрос вы его передаете в какой-то слой который отвечает за логику вашего приложения он формирует запрос получает эти данные в эти данные обрети наряд опрятно колбаску и вот их одна из уникальных визирного в том что он на самом деле обладает почти ли активностью это псевдо реактивность в чем фишка вы можете взять передать запрос приложение сразу же начать его рендерить ваше приложение будет так какого то степени отражают готовы какие-то компоненты и например если вы плохой мальчик не пор не используйте стыть у вас какие-то компании то могут содержать логику до для получения данных можете прямо в приложении просить эти компоненты получить данные получить информацию дальше зарабатываем специальный хук активы это серверный вы получаете эти даты вставляется приложения и у вас несете приложение перед а только та часть зависит от даже поменять страничке почитать модуль и а еще нет опции и потому что и есть события которые она не блокирующий все пропитано доступна при компиляции шаблонов подготовить функцию это ускорит еще мы написали 1 и теперь про скорость я помню старый сервер немножко обогнали конечно мы используем здесь приблизительное время разных страниц вот небольшой и остался последний вопрос тобой детская разметка и нужно как-то переход от этот суп осуществить и так чтобы этот пользователь не заметим для замены разгадке с 2 подхода это подхват считанной разметка никуда не девается ее просто берут баба вот так поступают react если вы одинаковые версии населенной календарь или и второй подход это замена заново рендере клиентскую именно так поступаем актив как-то работает и серверные с темой из темы в нем есть хоть и бани и мы будем сейчас работать body берем шаблон который соответствует секции боли только в сыром виде подсовываем его визуально под готовы почтены чтобы пользователь видел вселенную готовую разметку а сзади был шаблон запускаем рендеринг лицу с to do the country's а затем параллельно уже клиентское приложение после этого берем серверные в темы и скидываем его и показываем уже готовы клиентов для контроля над help то есть например то это нужно поменять используется were селектора так вот почему это работает на самом деле современные браузеры они не спешат перерисовывать вашу страничку если визуально там ничего не поменялось если вы визуально идентичные версии покажите потом одну уберете браузер не будет дергаться и перерисовывать вот именно так это работает вот это серверная версия разметки приложения нашего поиска нас для селекторов используется select 2 на сервер english поэтому для них реализовано заглушки а для клиентской версии энтелис и инициализируется select 2 и пользователь почти ничего не замечает и это делается очень просто ни о чем буквально не нужно думать просто расширяю прототип компоненты на сервере белому переменную стенах а в разметке а в разметке использовали книгу гниц и если это сервер отель для лица за кошкой сожалению сервера есть ряд недостатков он является по калекой реализации поэтому эмоции время приходится догонять и сейчас он поддерживает максимально версию 10 играющим невозможно использовать сейчас там свои доступны директивы потому что о том модели и если а еще они поддерживают нативный роутер и на самом деле вот мы упоролись написали вот такую штуку для себя мы используем нас она устраивает но вам вероятно в этом не нужно думать потому что скоро очень выйдет новый рецепт 2ds уголь через два месяца и она будет поддерживать сервер нарядами прямо из коробки вот api будет почти полностью совпадать с первой версии на сайт еще проще еще там появится функция рендера прям как в react то есть можно использовать вот и все это паре с директивами спасибо за внимание вы встречались раньше столкнулись с полимером да насколько удобно гигантские шаблоны страниц и ява скрипте которые невозможно но вы показывали что у вас объявление и строку то есть фактически я правильно понимаю что в данном случае виджет похож на полимер когда он равен дарит все шейди дом нету ни революции бегом реализация абсолютно вообщем например похож потому что полимер это конкретная реализация оппонент пытается стремится подход инкапсуляции javascript а то есть это ваши css популяция там реально золото как бы через короче создание хитрых имен класс большое уважение компонентов легкий очень быстро даже не думали о том чтобы не общей случаев данные тоже то я вообще не умею и этого не обязательно приложение общение не умеет и вторая сторона вопроса это в том что он не обязательно все приложения список из 200 объявлений вы можете ограничить этот список десятью отдать их сервера быстро она клиенте он просто 30 с полностью и пользуйтесь успеть до старались как-то добрый день спасибо за 20 г достаточно давно разрабатываю и вы меня заинтересовали одной вещью вы говорили прогулкой говорит он документированный вообще потому что они разумны него не утыкался видимо нет да он документированный но он не значит сам в общем списке хуков я кстати на почему я был полый послал он не добавилось вероятно потому что сам по себе хук активы используются в валкири ввёл тире вот и он видимо астана не хочет его как бы открыто вообще в гайде вот есть он на нем писал когда выходила и одна версия то есть лекция 10 но просто вопрос не выглядит ли у поддона двигателя до этого был другой механизм изволь по атрибут и просто пришел на замену не показалось очень данный сеть он похоже на гулять особенно над второй стектрейсы stack trace omi тоже все бывает печально там не указывается место не про и ваша ошибка но меня редко возникает проблем потому что отображается выражение которое допустим соломона она отображается вот если что-то сломалось по-любому видите воду чтобы найти просто место по выражению принцип другой способ определить что он может показать какие изменения каких данных в каком месте привело вендору который которая привела к shit для этого на pistols использовать они позволяют отслеживать ну то есть если вы справитесь как стоит то можно вообще гулять по состоянию смене этого сайта увидеть какое изменение привело к можно просил тому слайд то обидел где с ботами которые имеют женской получается так что загружается и скаредный контент исторический который статический сервис так как наша сила наш родился абсолютно доволен то такой ситуации нет и часть его допросить и поисковый краулер google ждет это пять секунд пока страниц и турецкого они у нас практически идентичны поэтому я не могу сказать почему почему не проводил потому что если он достаточно быстро они по скорости блестит и так же вопрос мы знаем что watcher словно сам можно как-то регулировать чтобы он еще подряд и 100 что-то буклетница регулирует нельзя если вы используете свойства какой то у нас тут вопросом какой в процессе у нас есть юнит-тесты мы пробовали делать специальную платформу готовы жить с него компании но сейчас вот denis колесников у нас сидит здесь занимались написанием функциональных тестов и пришли к тому что самое эффективное наверно это именно функциональность и сэкономит эти все приложения потому что тестить конкретный компонент чаще всего не эффективно можно тесто написать unit тесты на слой логике которые данными управляют смысл писать тесту намерен конкретного компонента если есть в этом особого смысла нет без нужно как бы связь двух компонентов то есть 3 4 приложения целиком часть всего ломается именно вот что-то вот где-то ты чё то отломал такое именно связи компонент поэтому функционале"
}
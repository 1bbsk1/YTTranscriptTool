{
  "video_id": "yyjs7Zqv92E",
  "channel": "HighLoadChannel",
  "title": "Эволюция клиентской разработки от веба ко всеобщей мобилизации / Павел Довбуш (Badoo)",
  "views": 91,
  "duration": 2585,
  "published": "2017-04-10T03:06:06-07:00",
  "text": "добрый день меня зовут павел довбуш я руковожу клиентская разработка в компании буду сегодня расскажу немножко про эволюцию того как у нас развивалась развивался наш продукт как веб так и мобильные клиенты я пришел в компанию в 2000 начале 2008 года все было очень просто то есть у нас есть веб-сайт тогда царил internet explorer 6 ничего сложного общем-то не было то есть логика отображения и шаблонизация у нас на сервере javascript больше используется как какое-то украшение yax какие-то маленькие маленькие что есть ничего сложного сном вся логика нам бэг-энде гоняется просто хтмл классический в м10 с точки зрения процессов и разработки все тоже было просто то есть у нас есть какой-то технологический стек у нас есть определенный процесс внесения новых фич и собственно одна платформа с точки зрения структуры изначально у нас была узкая специализация то есть 3 к 3 команды печки разработчики javascript и разработчики html css разработчики которые совместно работали над каждой фичей то есть дизайнеры присылают какие-то макеты мы вместе садимся смотрим как это должно выглядеть договариваемся как мы это делаем начинаем работать вместе втроём параллельно это позволяло нам быстро шипит фичей на продакшен это отлично работает если команда маленькая то есть мы сидим все вместе отлично знаем что надо как надо делать чтобы коллега могут это использовать без к и внесения каких то изменений просто эффективно окей так модели жили достаточно долго постепенно у нас усложнялся дизайн все больше верстки все больше каких-то анимаций с точки зрения фронтэнда как бы новые рынки и новые пользователи это тоже важно потому что когда продукт известен только в крупных городах где хороший интернет хорошее железо можно меньше заботиться о размерах скорость его качествах когда проникновение по странам и городам увеличивается становится важнее собственно делать быстрый сайт в том числе для плохого железо в том числе для плохих интернет каналов это все то что касается сайта мобильные у нас появились в качестве эксперимента то есть да мы понимаем что рынок движется в ту сторону все больше мобильных девайсов однако мы пока не понимаем как как их монетизировать что вообще из этого будет то есть это было сделано маленькой экспериментальная команда в которой были несколько backend разработчиков и ос android то есть с точки зрения структуры у нас есть определенный технологический стек и процессы для большого в оба где у нас уже там ну грубо говоря на тот момент 50 миллионов пользователей и появляется отдельная . отдельные технологические процессы и процессы разработки фич с несколькими командами почему это сделано как бы отдельно да потому что сайт и мобила совершенно разные по функционалу совершенно по-другому дату и ос android это совершенно другие языки по другому представляют контент другой протокол то есть картина получается большой большой веб и какие-то эксперименты с мобилы поскольку веб стал достаточно большой и собственно распространение по рынкам у нас велико дизайн все усложняется все становится сложнее надо ускорить с одной стороны у нас есть мобилы и собственно какой-то api до дендритом ли опять для мобильных приложений с другой стороны функционал сайта намного намного шире и нежели то что у нас было на тот момент в мобильных клиентах соответствие перед нами стоял выбор да мы понимаем что мы хотим делать одностраничные приложение но при этом как бы количество функционала несопоставимо соответственно мы решили решить непосредственно бизнес задачу ускорить user experience при этом как бы у нас огромная кодовая база куча логике на php как как рендерится что вводить пользователю откуда брать данные так далее мы решили просто нарезать страничку на какие-то крупные блоки оставить логику там где она была на бэг-энде as клиента по сути только контролировать собственно что мы запрашиваем и как то есть относительно того что было до у нас появился джейсон то есть все ссылки перехватываются клиентам добавляется определенные параметры сервера вместо от рендеринге страниц и нам возвращает по сути страницу страницу разрезанные на фрагменты и мы обновляем только те фрагменты которые изменились при переходе со скрина на screen у нас осталось логика там же где она была javascript да уже стал собственно приложением да то есть у нас есть какая-то карта state of мы знаем что для того чтобы оживить блок блоки вот этой странице нам нужно подгрузить такие таджикские c соски и мы можем делать эти запросы в параллель то есть это одна из ключевых с точки зрения перфомансов вещей которой она ускорила наш сайт да то есть если раньше пользователь кликает на ссылку экран очищается загружается хтмл этот занимает какое то время потом начинает загружаться джесси css кита здесь при клике на ссылку мы сразу же можем в параллель сделать три запросы за его скриптом за css ом и за вот этими вот фрагментами хтмл соответственно в результате мы получили ускорение где-то в три раза достиг ли одной секунды на переходы между страницами приложения и сделали это ну как бы своим как кипиа им что одна страница того в среднем для всех пользователей до на самом деле для 75 пирс интеля соответственно это было сделано достаточно быстро то есть мы свою огромную кодовую базу не меняли мы просто более структурировали как бы код и оставили логику там где она была проект занял где-то 22 месяца возят процентов функционалов за эти два месяца мы перевели как бы бизнес цель достигнута достаточно малой ценой то есть перед нами стоял выбор как бы сделать так скажем полноценное клиентское приложение за это вам лепим и рендерингом на клиенте но тогда в тот момент это заняло бы очень много времени то есть потребовалось бы очень много изменений и от бэг-энда и от клиента и на самом деле пользователю все равно что у нас какие технологии у нас используется как это сделано таким способом мы решили нашу бизнес задачу достаточно дешево результатом этого проекта появилось то есть у нас был была какая-то аналитикой мониторинг того насколько быстро мы отдаем да вот по которой мы собственно увидели результаты этой миграции появилось более явно наш внутренний проект по аналитиками мониторинге юзер экспириенс который называется джимбо я нем рассказывал на конференции рид в этом году по ссылке на нашем тех блоге есть видео можно посмотреть то есть мы хотим опустим с точки зрения мобильное мобильных клиентов как бы время изменилось количество мобильных пользователей как бы увеличилась роль мобильных платформ и размеры мобильного трафика выросла мы научились делать протокол как-то стабилизировали как мы должны работать с мобильными командами да в чем отличие там между андроидом и айфоном стандартизировали как мы работаем до как мы делаем фичи но все все еще это в уже более крупным да то есть по размерам . процессов вокруг мобильных вещей она как бы выросла как и сами платформы и получаются у нас все еще параллельно есть определенные процессы и технологический стек для сайта и отдельные отдельные процессы и технологических так для мобильных в какой-то момент мы поняли что окей у нас есть iphone android приложения но далеко не все устройства поддерживают собственно эти приложения у нас есть множество грубо говоря старых нокий множество старых телефонов которых есть интернет какой-то примитивный браузер и мы тоже хотим сделать какую-то версию соответственно по функционалу это ближе к мобильным нежели к сайту да то есть несмотря на то что телефон спросил с плохим браузером это по сути просто хтмл который точно также перерисовывается на каждый клик тем не менее по функционалу это ближе к могилам и разумно использовать логику и протокол который есть в могилах да но мобилы использует бина ну бинарный протокол и поверх него нужно построить какую-то настройку которая ходит в мобилы за данными формирует какойто хтмл да в чем там особенности чтобы некоторые из браузеров допустим не поддерживают control типа select соответственно до его вывести в виде нескольких опционов да мы не хотели такую логику так скажем добавлять в нашу кодовую базу сайта или в нашу кодовую базу мобилы тоже должно быть что-то отдельное которая умеет вот для всех этих плохих телефонов по ихним правилам что-то формировать потом у нас появились как бы уже хорошая браузера и как бы но их и доля и важность как бы выросла нам нужно сделать какое-то html файл приложения да то есть это ван липин все на клиенте было принято решение делать его отдельной командой на каких-то стандартных фрейм орках технологиях используя стандартные подходы то есть вот это вот прокси до которая потребляет данные бинарные из мобилы конверте от их джейсон и как бы ну появляется какой то что five приложения то есть структурно у нас получается что у нас есть сайт со своим стеком своим процессом добавление новых фич нас есть мобилы поверх мобилу нас есть мобайл веб то есть получается как бы три точки почему это было сделано именно так потому что когда непонятно что именно требуется для платформы с точки зрения технологии с точки зрения какой-то специфики до разумнее сделать какую-то маленькую экспериментальную команду которая об катает все и поймем собственно что что требуется соответственно у нас уже получается ios android mp4 платформы сайт все растет и усложняется более современный дизайн больше интерактива больше анимаций растет мобильный трафик то есть принципе уже понятно что постепенно доля мобильного трафика у нас перекроют долю сайт ого-го трафика наши телефоны есть практически у всех мы понимаем что мы хотим мерить как бы качество и скорость в том числе для нативных приложений в том числе для всех наших платформ опять-таки про джингу я рассказывал на рите как средство мониторинга и понимание качество наших платформ окей у нас есть вот такая вот схема значит на которой у нас есть три разных технологических стыка разных процессов как мы не делаем вещь вещи и появляются понимание что ok давайте как-то это все сближать потому что уже слишком много таким способом для нас стал протокол то есть у нас есть мобильный протокол это наши наши разработки поверх google protocol buffers определенное правило да как как мы их используем google протокол бы offers у нас используется для общения бэкон между брендами до печки и какие-то сервисы тоже тот же протокол был использован для общения с нативными клиентами до поскольку ios android они типизированные нам важно типизация мы автоматически получаем валидацию то есть что-то плохое google протокол boffins не позволяется realize ровать одно из еще одно из преимуществ то что описание всех команд и взаимодействий находится как бы в одном месте то есть есть отдельный просто файл в котором описано все что может бэкон все что может клиент и как бы изменения происходят в одном месте и не нужно писать допустим бэкон добавил какую-то какое-то поле в сообщении нам не требуется реализовывать как бы на всех клиентов поддержку этого поля автоматически генерироваться классы в том или другом виде в зависимости от платформы и там просто появляется какой-то gaiter с которым мы можем работать опять-таки google protocol buffers позволяет versio не ровать сообщения поля в сообщениях и нам не требуется версия не ровать все api да то есть нам нужно поддерживать очень много версий приложений потому что юзеры медленно обновляются потому что некоторые не обновляются вообще и ну как бы спецификой мобилы в том что нельзя так же как с вэбом deep ловится каждый день и выкатывать изменения как бы не заботясь о старых вещах то есть мы понимаем что протоколу является какой-то синхронизирующий вещью между всеми платформами да эта единая . где мы вносим изменения мы хотим как бы все свести технологически к нему и с точки зрения процессов разработки тоже сблизить все платформы где то год назад у нас был проект перевода мобильного веба на этапе то есть вот я рассказывал про этот проксей который в каких-то местах fixed косяки дизайна протокола которые занимаются конвертацией про то буфа в 1 плюс джейсон классический содержит чуть-чуть логике но по сути по сути если посмотреть на протокол и на инструменты которые можем мы можем сделать на основе double protocol buffers javascript клиент из браузера может использовать все то же самое что использует нативный клиент соответственно было написано определенная вязка по генерации джесс классов абстракция того как мы работаем с нашим протоколом мы об этом рассказывали год назад на конференции джесс комп много технических деталей отдельный целый доклад про то как как мы это делали какие проблемы мы решали ok то есть мы мобайл веб вернули как бы к могилам он использует тот же самый антуан тот же самый api что и нативные клиенты опять-таки в настолько вырос с точки зрения людей команды процессов и по сути произошло разделение у нас есть команда backend программистов которые делают веб у нас есть команда frontend программистов и команду frontend я вот явно здесь выделил что мы хотим сближать мобайл в мам потому что с точки зрения технологии с точки зрения происходящие в этот тот же самый браузер до различия по представлению по функционалу но все очень похоже то есть мы хотим в перспективе сблизить команды у нас получилось две точки концентрации и как бы 2 мобильные платформы все да то есть там появился win phone вот еще они уже превышают сайт то есть мы понимаем что доля мобильного трафика уже больше и будет только увеличиваться и соответственно сайт это как мы строили разработку на сайте является чем-то устаревшим до который уже сдерживает нас от развития наших мобильных платформ то есть в начале доклада я говорил что отлично построили тесное взаимодействие трех команд сейчас это уже при но начало приносить нам проблемы сильно больше людей сильно сложнее контролировать собственно их взаимодействия им самим сложнее им взаимодействовать опять-таки из-за того что все работают по api в совершенно по-другому мы получается делаем каждую фичу по два раза то есть мы сделали что-то на вы бина от них технологиях поэкспериментировали да она работает давайте на могилах и опять надо backend заново делать на мобилы на могилах уже используя api и более более строго ну и получается что поскольку ma bell растут мы хотим веб перевести на то же самое api в начале я говорил что мы решили как бы не использовать протоколы и решить чисто бизнес задачу по ускорению easier experience а сейчас мы понимаем что ok мир уже повернулся как в другую сторону и теперь нам важно и технологический и по процессам закинуть в к могилам задача стоит как в упрощении структуры разработки до то есть получается что на вебе количество людей сильно больше чем в любой из мобильных команд а мобильная команда для нас уже важнее то есть нужно упростить разработку сократить количество людей ну и фокус в общем то переходит на мобильные клиенты то есть мы хотим экспериментировать на могилах все фичи обкатывать на них нам нужно перейти на протокол то есть мы обкатали технические решения с точки зрения javascript а и использования вот этого бинарного протокола в браузере на мобайл виде год назад соответственно мы начали буквально сразу после этого перевод большого сайта на мобильный протокол это заняло примерно год мы изменили структуру разработки то есть frontend стал точно таким же клиентам как любая из мобильных команд которые работают по такому же протоколу стен с той же самой логикой то же самое на самом деле нам повезло то есть это технологическое изменение она совпала с редизайном то есть решили во первых просто упростить осовременить так сказать дизайн во вторых решили сблизить с мобильными по функционалу то есть если изначально у нас было очень очень много функционала на вебе и всего чуть-чуть на могилах ты сейчас это уже не так у нас уже много функционала на могилах естественно сайт мы упростили то есть за год работы мы сделали редизайн перешли на клиентский рендеринг на дэйтон глен протокол и вернули собственно в точнее не вернули о перенесли разработку и процессы к тому как мы работаем со всеми клиентами то есть у нас получается уже опять простая структура у нас есть определенный технологический стек и процессы разработки и все команды которые равны да то есть нету какого-то какой-то специфики как у бэкон программистов так и у клиентских команд то есть мы понимаем что поскольку у нас все процессы для всех команд одинаково а команд у нас много и все они должны работать эффективно важность протокола и того как мы делаем фича она повышается то есть если раньше просто клиентские разработчики серверный разработчик договаривались как они меняют протокол для того чтобы сделать потом приходил клиентский разработчики с другой командой говорил что в этом поспешили накостыляли давайте все переделаем соответственно появлением обе команды как отдельные группы людей которые отвечают за изменение протокола и внесения изменений только с учетом требований всех команд она позволяет нам как бы не переделывать сервер под каждого клиента изначально дизайне api и backend с расчетом на все клиенты опять-таки поскольку протокол у нас описан в одном месте это во-первых документация в коде во вторых у нас есть документация на протокол да то есть такой flow какие допустим для реализации этой задачи какие команды надо позвать и что у них сделать опять-таки это в одном месте и отвечают команда пишут документацию потому что это проще нежели объяснить 6 командам последовательно собственно что же они должны сделать для того чтобы реализовать фичу соответственно mapi команда павле получается неким центром то есть с точки зрения разработки у нас получается следующий процесс есть определенная идея да которое продукт продуктами прорабатывается вместе с дизайнерами появляется какой-то дизайн этот дизайн описывается в виде перди продукт рику армен документ в качестве tz да то есть что хочет продукт что такое новая фича как она работает дальше этот ticket попадают к папе команды которые вот это вот общее продуктовое описание превращает уже непосредственно в div протокола то есть какие команды надо добавить протокол какие новые поля в существующие сообщениях надо добавить или изменить и как она вообще должно работать как должно быть устроено и собственно когда мой пить и кит готов любая из команд может начинать им пользоваться то есть предполагается что протоколу проработан настолько хорошо что изменений в нем скорее всего не будет и соответственно можно его мог эти начинать делать клиент даже без сервера или сервер может начинать делать вперед любая команда у нас нету такого что надо сначала обкатать на каком-то виде где мы быстрее можем это сделать мы можем начинать с любой платформы и того мы такими технологическими и изменениями процессов мы получили возможность двигаться быстрее равнозначные платформы мы получили протокол как язык общения в том числе между клиентскими командами мы получили возможность перераспределять backend разработчиков которые отвечают за этот протокол то есть у нас нету какой-то специфики что надо очень много знать как делать вещи для сайта или наоборот для ma bell все делают все то же самое с клеем и можем кей перекидывать на разные платформы потому что логика работы и как бы описание они все одинаково вне зависимости от платформы опять-таки мы можем перекидывать javascript разработчиков с неба на мобайл веб и обратно потому что технически она работает точно также она использует один и тот же протокол и стек каких-то написанные нами вещей которые позволяют не думать о том что за платформа по сути мы не унифицировали технологии унифицировали процессы разработки это позволяет нам двигаться быстрее я все осталось еще 15 минут на вопросы быстрее рассказал о чем ожидал есть еще пара слайдов с техническими деталями что такое протокол и как он устроен я думаю 510 я думаю можно смело пройтись по добавочным слайдам а потом а черепа отвечать на вопрос вы запросто заранее поднимите рык что мы представлялись много людей хочет задать вопрос ну то есть в общем ok где лучше про технические вещи то есть я не стал включать это в доклад потому что то разорвало бы повествование акцент был именно на то как делать как принимать решение они на техническую реализацию есть у меня три слайда из презентации которую мы делали год назад по поводу собственной деталей технической реализации что такое протокол пулпарда колба фирс отличный протокол значит у него есть язык описания которое позволяет описывать какие-то сущности да то есть у нас есть перечисления у нас есть сообщение о которых есть строгие типы строгие типы лейблы имена полей номера полей который не зависит ни от какого языка ни от какой платформы то есть описание но независимо ни от чего дальше есть процессе компилятор который от гугла есть реализации для явы си си плюс плюс и по моему все но можно написать плагин и в общем-то для любого языка то есть вот пример то что слева справа код на javascript те который генерится в процессе который генерит как бы при любом изменении то есть не надо руками писать все эти геттер и сеттер и которые делают валидацию того что ходит по сети внизу пример что мы просто в java скрипте создаем объект зовем геттер и сеттер и и как бы получаем право легированный си реализованный строго типизированный объект опять-таки любые ошибки что допустим если мы вымя вы пытались вместо строки засунуть какой-то объект или число у нас бык-то рейс будет вести как бы именно в это место с точки зрения обмена сообщениями у нас есть масса штаб это перечисление собственно всех типов возможных запросов и ответов сервера для клей клиента это выглядит очень просто мы создаем новый запрос указываем какую команду мы хотим передаем опять-таки объект протокола и подписываемся на те ответы которые мы ожидаем рпц не это про то что 1 1 и специфик что мобильные клиенты держат socket и просто обмениваются командами то есть может быть это не request response как в 1 плюс джейсон это просто socket и команды в обе стороны соответственно в ответ как бы на вот такой вот запрос может прийти какая не допустим notification да по тому же самому каналу это другой уровень абстракции на которые на нее можно подписаться опять-таки в call back то есть в код приложения у тебя уже приходит объект определенного типа с гитарами сайте раме право лидера ван и гарантированно хороший то есть не надо заботиться и проверять в обработчике этого запроса а то ли нам пришло и правильно ли она и все ли там нормально то есть это все делается автоматически ну в качестве примера да то есть вот кусок какого-то реального кода мы запрашиваем какой-то список говорим какого типа на пользователя нужны подписываемся на получение списка пользователей и собственно имеем объект у которого мы просто достаем то что нам нужно в общем и целом выглядит как то вот так то есть для клиентских платформ все очень очень просто то есть технические детали реализации они как бы спрятан на другом уровне по сути ты вызываешь удаленную процедуру получают данные ответ и давайте смоле поднимать руки нас есть время на вопрос здравствуйте у меня вопрос по организационной части по структуре команда которые вот последний трансовые говорили почему вы не стали объединять команду сервера и команду протокола блики ты на это причины рассматривает вариант на линию команду серверную с командой протокола по сути же это сервис который предоставляет сера для клиентских этих предложений потому что команда протокола состоит сейчас из по сути 3 представителей самых больших наших команд один представитель представляют нативные клиенты примерно понятна специфика до 2 представитель представляет сервер то есть он знает как работает сервер какая там специфика как сделать эффективно в том числе для сервера и 3 представители то время был в соответственно это 3 не выделенная команда которая занимается только этим это некоторое время на я структура которая объединяет там нет людей которые бот и только в команде протокол на на этих людях проработка как бы и технических заданий и обсуждения со всеми командами как это должно быть сделано и написание документации то есть это эта команда она структурна правильно отдельная да потому что сервер делает реализацию как бы этого всего но не знает глубоко специфику нативных приложений что они могут что они могут и то же самое как бы сайта то есть немножко другая экспертизы нужно и далеко не у всех она есть и не далеко не у всех она должна быть это упрощает коммуникацию как бы между между всеми и тогда еще последние уточнения они не выделены в этой команде не сидят там постоянно это одновременно собирается обсуждается дальше не расходится я не постоянно занимается только этим протоколом не три человека они занимаются только этим то есть количество изменений которые мы добавляем наш продукт постоянно она очень велико даже для мобильных платформ то есть огромное количество экспериментов огромного количества новых фич каких-то технических изменений то есть у нас поток настолько большой что из работают в общем не сидят я здесь сказать просто у вас как вы можете оценить распространенность этого протокола во-первых и во-вторых на сколько вам пришлось там дорабатывать клиент или вообще писать с нуля клиента для этого протокола распространенность между google протокол баффер с это протокол который используется гуглом для общения сервисов внутри google а то есть он очень долго был закрытый потом они или зарелизили его публично где-то году в 2009 наверное 2008 и в том числе у нас все backend печки сервисы общаются именно по нему то есть протокол стабильный хороший эффективные я имею виду клиент вот клиенты сами писали него под php и поджал скрипт до писали сами качество архитектуры процессе campo лера настолько хорошо и настолько легко позволяют написать реализацию всех этих вещей то есть допустим у нас для нативных клиентов по сети гоняются бинарные данные для браузеров по сети гоняется джейсон при этом у нас протокол тот же самый просто как бы он очень хорошо где компонует вещи отдельно у тебя есть описания ты можешь получить как бы в машинном виде сгенерить любые классы любые вещи и реализовать как угодно то есть все части очень легко заменяемые я давал ссылку на доклад с компотом подробно с примерами как написать плагин почему это просто почему это хорошо предыдущие вопрос ответ на предыдущий вопрос я здесь прием спасибо за доклад частично ответили ну собственно про клиент хотел спросить какие фреймворке спальные так понимаю полностью все свое написано полон свой продукт то есть фреймворков клиентских не ну типа для приложите потом angular bootstrap для я или там какие-нибудь и я backbone или не знаю что-нибудь из вольтам react как библиотек то есть ничего такого не использовали все свое написано полностью и если все полностью свое то почему отказались от готов каких-то решений то есть можно какие-то проверки пробег может быть какие то есть нюансы которые вот было бы интересно услышать доклад на самом деле был немножко про другое то есть право да да да но протокол про технически стек про принятия решений и как собственно построить процессы и инфраструктуру для того чтобы это стало возможным то есть здесь фреймворка . как именно написан и что используется там на каком-нить айосе или выбили мобайла биоценоза вторично но однако от этого зависит опять же ваших количество команд кто чего пишут разработ потому что возможности вы использовали на одном клиенте один фреймворк на другом другой и ну к примеру да то есть вот именно такой опыт тоже он наверняка был вот интересно то есть или все-таки все ведется ну в общем пишите все свое свой продукт для который отвечает всем потребностям любого клиента для лизации любых задач и мне кажется некорректно сравнивать допустимое с андроидом и с вэбом с точки зрения именно клиента да то есть про уровень и наш кастомный протокол power google протокол boffins я рассказал с точки зрения как делают в ухе и реализуют какие-то фичи это мой ос android ну я скажу не знаю с точки зрения обама был в ба да это исторический кастомный фреймворком вести подобный но как бы в принципе решает наши задачи и с допустим с мобайлом мы пробовали использовать много разных то есть я рассказывал в историю да мы взяли стандартные какие то фреймворке это было что-то declare a wife самом начале это было google не уже даже не вспомню но что-то еще переходили это была какая-то мобайл джек вере есть отдельная совершенная ветка которая вот нет же клэри мы даже кантри бить или много туда то есть в мобайл себе несколько раз менялся как бы stack технологий в конечном итоге пришло дак какому-то своему кастомную решению сейчас в принципе да мы думаем о том что возможно стоит посмотреть в сторону active от гардиана если вдруг кто слышал про него но это выходит за рамки доклада подходите на сцену можем пообщаться про любые темы спасибо за доклад хотел бы уточнить некоторые моменты связанные с безопасностью если какие какой-то отдел кто этим занимается например там вытягивание информации да там при помощи робота да key to detect и на это дело кто именно это не занимается или просто вот защита протокола с этой точки зрения у нас есть на самом деле это тема для отдельного полного доклада у нас есть во первых это проверяется тестировщиками как руками так и в автоматически каких-то тестах у нас есть интеграционные тесты у нас есть тестировщики которые пытаются сломать руками у нас есть общие договоренности что собственно мы проверяем что мы позволяем делать что не позволяем делать у нас есть поскольку у нас сейчас 250 миллионов пользователей многие на нас смотрят многие пытаются сломать как какие-то роботы натравливают так у нас есть баунти программа по моему сейчас через хакер ван если я не ошибаюсь то есть и есть как бы проект да куда садится за какие-то уязвимости которые находят люди но в принципе чего-то вот такого критического в протоколе найдено не было и мы за это за это следим как бы процессуальными всякими вещами ну то есть момент дизайна какие-то изменения в протоколе рассматриваете аспекты просто я ещё немножко уточнил где уже не только в том что может попробуем сделать пользователь через какие-то юань приложение да их же вопросы о том если мы работаем на мобильных приложениях у меня уже есть и средства для того чтобы взять за листья потрошки приложение и дотянуться до протоколы уже несколько иным способом чем доступны обычным пользователям то есть атаки стороны допустим не роботов а уже более умные от океана наверное должна проводиться дед еще на уровне дизайна протокола собственно вот в эту сторону вопроса то есть при рассмотрении во первых у нас в протоколе ну протокол очень строго формализован да то есть есть определенный набор команд и любое что хоть что-то что хоть как-то не совпадает с с этим набором она будет просто отброшена то есть backend не ответит на такую команду с точки зрения команд допустим ты получаешь своего пользователя уже на бэг-энде проверяется что это только если сессия авторизована и этого пользователя и собственно в команде получить своего пользователями дорна нету юзера иди до но там просвечивался администратор тип пользователя то есть был где пользователи обычный пользователь это просто пример про протокол за пять минут придуманы из головы естественно сожаление это спасибо за доклад маленький такой вопрос рассматривали какие интернете вы когда вот выбирали пар табов в качестве основного до варианта рассматривали а почти вд и я я возможно произошло извиняюсь суть такая что я почему спрашиваю у него очень много уже готовы генераторов то есть они изначально из коробки поддерживают java script ну через рубину все подряд вообще и они в принципе тоже вы описываете как были собственно говоря сам протокол и дальше уже он генерируется под все существующие языки ну то есть вот рассматривать такую к мотиву или просто потапов нативные реализации больше понравился и наниматель во-первых намного больше нравятся внутренности про то буфа нежели с rift нежели avro нежели massage pack или любые другие альтернативы в презентации на докладе год назад на который я давал ссылку есть попытка как бы сравнение очень поверхностно то есть когда мы начинали это делать генераторов для раз крипто не было ни для какого протокола да хочешь javascript джейсон схема не про табу вниз риф не поддерживал никто иной то есть это табу появился в компании где-то летом 2009 года и на рынке на самом деле хороших альтернатив не было тем более для джесса или пички на можно последний вопрос и будем прощаться так все ясно спасибо"
}
{
  "video_id": "S84kdHDQWZU",
  "channel": "HighLoadChannel",
  "title": "Компонентный веб. Проникновение в дизайн / Антон Виноградов (АО \"Альфа-Банк\", Альфа-Лаборатория)",
  "views": 236,
  "duration": 2215,
  "published": "2017-07-05T14:53:11-07:00",
  "text": "agent of these а фоткать будет смысл ответить без фоток давайте начинать тогда меня зовут антон виноградов я работаю вакф лаборатория это такое подразделение инновационной альфа-банка которая занимается разработкой сервисов где наши клиенты каким-либо образом взаимодействуют с деньгами не так давно в каменном веке в веб-страницы web-сервисы делая простым понятным способом дизайнер фотошопе что ты там нарисовал потом эти странички он значит передаёт передаёт html-верстальщик у это такой человек машина которую перегоняет эти странички в html-код затем эти странички попадают разработчику которая накладывает на все это делал кучу скриптов и магии что все это работало как надо многие сегодня так работают и мне их очень жаль зависимости от того какая вы компания сложность сервисов может варьироваться если эта маленькая студия то скорее всего у вас на потоке стоит нам разработка стране промо страничек и визиток и скорее всего вы по большей части все создаете с нуля у вас скорее всего не стабильная команда часто меняется единственное что может быть стабильна это процесс в общем и с поддержкой таких ресурсов тоже не очень но вы можете быть компании немного побольше с более-менее стабильной командой где страницы с нуля создаются крайне редко и дизайнеры занимаются отрисовкой конкретных блоков отдельно от общего дизайна и на самом деле везде одно и то же все эти компании используют одни и те же подходы используют одни и те же методологии используют одни и те же инструменты количество которых постоянно растет и на самом деле все это не то но ничего страшного процесс всегда примерно такой дизайнер работает фотошопе создает какой-то набор и китов потом разработчики это дело всё реализуют отдельно вы берете какой-то фреймворка angular react backbone что вас там неважно и перейти все это дело под него к вам приходит потом компонентный вы все радостные и счастливые наверно даже если генератор в гайдов добрались я так понял что реально много кто и потом значит приходит к вам такая маленькая тема что на самом деле можно делается дизайн прямо в браузере макета рисовать не нужно и мы все дружно бросаемся учиться верстать и ищем дизайнеров которые ты делал умеют печаль в том что все это про разработку и это никак не решает проблем взаимодействия дизайнера и разработчиков проблемы следующие нет синхронизации между работы дизайнера и разработчика не все время работают параллельно и это большое горе у этих ребят разные методология построения интерфейсов и вообще в принципе понимание того как это должно быть вспомните сколько раз вы объясняли дизайнеру что так делать нельзя там элементы выводится в потоке нет никаких слоев все там еще не так всегда есть два набора компонент один нарисованы лежит по папочкам разложены другой живой состоял гайдами и они никак не связаны между собой если в одном месте где то что то поменялось то другого на не поменяется никогда и всегда эти изменения работают в одну сторону с те стали значит дизайнера что-то рисует новое это реализуется разработчикам и как бы все и все элементы которые в этих и китах есть они нарисованы с нуля в них только визуально и наследование а не просто похожи друг на друга там скругление тут скругление общем-то всё никто даже не думает о том что все элементы можно строить noise новость друг на друге и на самом-то деле и верстка тоже умер о и никому на нафиг не нужна и все-таки но дизайн тоже в депрессии frontend летит вот дизайн чего-то нет мне бы хотелось чтобы у дизайнера разработчика была одна методология разработки и отрисовки интерфейса один набор компонент на двоих которые они смогут реально использовать один принципа организации библиотеки этих компонент version ность всегда и везде чтобы каждый компонент реально был versio не рованный через систему контроля версий они как-то через менеджера и хотелось бы чтобы компоненты которые используют дизайнер разработчик были живые и реально сделаны хочется еще чтобы все понимали что построение компонентов друг на друге это реальный профит и чтобы изменение элементы самый нижнего вело к изменениям верхнего это свою очередь приведет к максимальному перри использованию компонентов и кода который вы пишете я хочу получить компонент indesign чтобы этого добиться нужно работать с двух сторон со стороны разработки и со стороны дизайна со стороны разработки мы все прекрасно знаем что система экспорта в из psd шик и еще чего не то все со стиви не работает вернее многие пытаются постоянно выходят какие-то новые утилиты в котором можно побросать psd жки и он тебе там как будто вы все с converted красиво css все знаем что это плохо и это использовать реально нельзя то есть это просто игрушка которая чё-то как-то умеет что там по моему притормаживает что если пойти с обратной стороны и подумать о том что можно было бы дать дизайнерам живые компоненты то есть те компоненты которые разработчики сделали взять и просто дать дизайнером в их привычные инструменты так чтобы они могли их использовать в своих макетах чтобы такого достичь со стороны разработки необходимо как минимум о методология организации файловой структуры и сама библиотеки такой методологии для меня стал б.м. я использую во всех своих проектах это по настоящему круто все ваши проекты как очень похожие друг на друга они используют одну концепцию и вы зависимо от того видели когда-нибудь этот проект ринит я с и посмотрите на его структуру поймете что там происходит и это очень круто основной фичи bm методологии являются уровни переопределения это такая концепция которая позволяет накладывать код друг на друга с какими-то изменениями которые вам нужны на проекте или еще где то работает это примерно так всегда есть ядро базовых совершенно абсолютно вещей которые нерушимы на эти компоненте ки накладываются те checkbox и input и те самые control и на которых строятся вообще все сверху этого накладывается уровень со стилями и скриптами специфичными для компании то что нужно например конкретно нам или вам то что ниже но может быть использован и независимо от этого сверху этого накладываются специфические стиле для конкретного сервиса внутри каждой компании независимо от того сколько у неё таких продуктов они хоть немного но отличаются это зависит от самой специфики сервиса это может быть промо сервис это может быть сервис где люди работают со своими данными и там вроде бы control те же но немного другие вот этот последний уровень решает именно эту проблему используя такой подход и такой набор компонент с такими уровнями переопределение наследования можно построить со во вселенную продуктов которые будут очень похожи друг на друга и работать одинаково и понятно для всех со стороны дизайна мы перешли на вектор вот здесь на слайде изображен логотип альфа банка и как мне кажется что он так выглядит гораздо лучше плюсы векторной графики для вы бы очевидно это маленький вес это отсутствие запросов и потянул подчинения систему контроля версий и кучу кучу всего если я не буду вас агитирую доске что будет странно если это будет не он но даже если вы до сих пор не использовать иллюстратор то я вам сочувствую мало кто знает но выйти редактор отлично понимает формат svg это проблема взаимодействие между дизайнерами разработчиками она фундаментальная но как это обычно бывает ее решение лежит на поверхности и кроется но именно формате сага html и снг это языки разметки которые базируются на xml и они настолько похожи друг на друга что просто и ну есть еще дополнительные знания которое нам помогает в решении это то что шаблонизатор и умеет генерировать дом дерево им в общем-то все равно какое html dom дерева есть в игре dom дерева для того чтобы получить обвиняем результаты шаблонизатора его нужно было найти для меня таким чтобы инициатором стал обоим html это чтобы не зря декларативный шаблонизатор который уходит корнями в xslt но сейчас он выглядит сильно поприятнее но тем не менее он использует подход с модами которые можно переопределять на разных уровнях и соответственно подробно почитать про то что это такое и спецификацию саму прошу manizer и можно вот по этой ссылочке там все подробно написано на русском языке например нам нужно получить вот такую кнопку вот просто представьте себе совершенно обычная ничего особенного в ней нет шаблон который будет строить выглядит вот так здесь есть те самые мода которых я говорил которые описывают think котором будет построен и контент и элементы которые будут содержаться в компоненте потом вот например то же самое написанная на реакция здесь тоже вроде все понятно но только на первый взгляд на вход чтобы они завтра получает вот такой же сон в котором написано какой компонент мы хотим и то содержимое которое он должен отрисовать и соответственно выходе мы получаем вот такую вот кнопочку у себя в компании и о в принципе mittology используется разделения по тем самым уровнем и в частности эти самые уровни могут быть представлены платформы под которой вы разрабатываете например у нас общий код который нужно для всех лежит на ком он уровне это самый кнопка которую мы сейчас видели именно там находится поверх этого накладываются уровне для десктопов и для touch платформ вот причем они могут как наследовать к друг другу так и собираться независимо так бы мы работали если бы в один прекрасный день я не решил завести новую платформу и назвать ее скетч а вот так выглядит та самая кнопка да определенно на этом уровне здесь мы модули переопределяем теги которыми будут представлены элементы в итоговом доме и кроме того здесь появился новый элемент instance который реализует для нас но ду на которой будут представлены атрибуты самой этой кнопки это нужно для решения проблемы связаны с тем что svg примитива не могут содержать в себе другие ноды она а именно эти примитивы должны содержать на себе стиви и атрибуты которые нам нужны для визуального отображения вот тоже самое написанная реакция здесь нам приходится полностью дописывать код заново но ничего страшного тот же самый джейсон на вход без изменения абсолютно и результирующий дом результат с svg с теми тегами которые нужны именно там и но тем же самым контентом который мы передавали и вашти мою версию теперь в нашей библиотеке появился дополнительный уровень с названием скетч и там лежат шаблоны которые определяют эти компоненты так чтобы их можно было собирать и для снг а как же вы со стилями вроде с домом все понятно ничего там хитрого нету строится себе и строится но со стилями все не так просто стиле на самом деле хорошо работают только в браузере и это в большое горе скетч как программа не понимает любые за меланин и или подключенные стиле и с этим как-то нужно было бороться по mittology предполагает фиксированную структуру описание компонентов описание в стилей скриптов и шаблоны то как они будут именоваться в файл на файл в структуре фишка в том что на файловой структуре они именуются точно также как и в доме имена файлов в со стилями абсолютно совпадают с именами классов которые генерируются шаблонизатор автоматически и делать это руками не нужно вот css от той самой кнопки которые нам нужно нарисовать соответственно можно заметить что тут можно как-то посвятить даже вот так вот что именно совпадают и все хорошо то есть это тот код который нам нужно чтобы провернуть затею с тем чтобы добавить стили на svg кажется что если мы будем правильно писать стиле и мы сможем как-то пройти значит потом дерево сходить на файловую структуру прочитать стиле как-то их значит обработать и правильно выставить на те ноты которые у нас будут высоко в данном случае нам нужно сходить соответственно прочитать через кнопки но вы ставите и не на наду с кнопкой она новый элемент instance который представляет примитив кроме этого нужно соответственно перевести атрибуты вернее свойства css а в svg атрибуты точно то же самое нужно сделать и с элементом текст потом добавить немного магии и получите вот такой результат это то самое суде которые рисуют ту же самую кнопку которая выглядит абсолютно так же как и в браузере но от теперь она выглядит так же скетча кроме того он структура из китая с именованием то же что и ваши улететь и это работает этот пример собранную игротека и можно посмотреть вот по этой ссылке прямо сейчас скачайте запустить запустить в браузере и запустить скетча все но нет предела совершенству и на самом деле вот буквально на днях выйдет могильщик для чтобы для сборщика имбирь могут узнать что если к сборщик это сборщика предназначена того чтобы собирать проекты которые используют биметалл агию но самом деле он может собирать все что угодно любое количество технологий и компонент не важно что это подробно прочитать про него можно вот по этой ссылочке как только он выйдет за ним сразу выйдет и плагин тег для gold кажется что совсем не сложно взять и пройтись по куску html и превратить это обратно ну превратить это вас в г при наличии правильно песчаных стилей и кажется что если мы умеем конвертировать живые компоненты которые у нас есть для них написанный шаблоны и мы можем их посмотреть кичи кажется что мы можем сделать это и обратно потому что оно существует таблица соответствие атрибутов и сессия свойств и я работаю над совсем скоро нас ждет утилита которая называется процент алкид это утилита которая синхронизирует изменение скетчи и изменения в библиотеке это как dropbox для ваших компонент работает это примерно следующим образом когда происходит сохранение сохранение скетч за файлом сидит watcher который в свою очередь понимает о том что произошли изменения разбирает тот файл который генерирует скетч а скетч генерирует не что на как и спел light базу которая разобрать не составляет никакого труда и потом после того как все он это разобрал он делает commit в git потому что дело пушит на все в репозитории и создает pull request этот пул request может посмотреть любой из ваших разработчиков интерфейсов изменить его отклонить и поменять допустим что он его принял после того как по request принимается отрабатывает хук например на гитхабе поэтому куку попадает сообщение watcher в тот же самый который установлен у вас на системе этот watcher делает пул загружает все новые изменения из репозитория и перри собирает проект и все что остается дизайнеру это заново открыть файл вот как дру box вот по этой ссылочке можно посмотреть и почитать какие проблемы были на самом деле не все так идеально как кажется и пришлось решить достаточное количество проблем в основном эти проблемы были связаны естественно css но не только все сам было связано в отчество например не так проста как кажется разбирать составные свойства которые пишут разработчики чтобы кот выглядел красиво один и тот же код с если можно записать кучи различных вариантов это всем известно в данном случае это вот тот самый код которым увидели для кнопки и здесь а есть составные свойства одно из этих основных свойств и тупо денги вот поединка разобрать не проблема а вот например border описание эта проблема потому что он содержит не только размерность но еще и цвет и тип ордера поэтому на текущий момент стоит писать стихи именно в таком виде так чтобы им можно было найти прямое соответствие то существует реально таблица которая смотрит на то какое свойство вы написали и в какой атрибут это нужно пример ведь кроме того пришлось решать размерность все знают что в браузере элементы например если вы явно не задано ширина он будет див занимать все свободное пространство выслуга это не работает высокая должны быть явно заданный стиле ну и размеры для элементов в противном случае вы получите ничего чтобы это проблему решить на том самом уровне скетч в библиотеке мы дописываем стиле которые нужны только ему система сборки когда делают банду для скетча собирает то только же то что нужный скетч в сборку для браузера этот код не попадает то же самое и с позиционированием если просто друг затрону если не описать положение элементов то они все будут в по нулям то есть они будут в левом верхнем углу все дружны собраны когда вы их скомпилить и чтобы эту проблему решить точно также пишется стиле руками но на самом деле эти цифры можно рассчитать то есть зависимости от того какие wasp один гей какой ваш шрифт задан у элемента можно рассчитать его позиционирование внутри блока который вы собираетесь отрисовать кроме того пришлось решать эти проблемы с именования my потому что кнопки кнопки input и и все вообще элементы имеют разные состояния и дизайнеры должен иметь возможность эти все состояния используют на своих макетах и показываете то слава богу что есть себя mittology которая умеет работать с модификаторами и слава богу что скетч нормально относится к именованием через точку и в именовании файловой структуры компонентов скетчи не что иное как классы на компонентах кроме того и скетч умеет работают символами это вообще основная его кирпича и по-моему это решает все проблемы которые были у дизайнеров теперь не нужно перерисовывать 26 элементов на 39 макетах вручную это можно сделать в одном месте и это огромный плюс потому что фрейд и все работает также вот и эти самые атрибуты скетч проставляет сам вот и их нет в спецификации svg это нечто дополнительное поверх но тем не менее при экспорт ах он выставляет эти свои атрибуты которые мы тоже можем генерировать автоматически пожалуйста так вот что в итоге мы получили используя такой подход мы мы получили одну библиотеку которую можно подключить в 2 разных а то и в три инструмента то есть ваш разработчики как работали так и работают говорить о к компоненты и строят интерфейсы как и делали это раньше у вас есть и нету страничка собранными этими компонентами где можно все посмотреть кроме того это библиотека подключается то же самое в скетч где дизайнеры строят и в тех же самых живых компонент новые макеты и так как это кроме того из-за того что используется векторный формат и одна библиотека нет кучи разных дизайнерских версий компонент кучи папок разбросанных по структур где там с надписями водянова и 22 и всевозможными названиями этих папок все теперь под контролем и все члены команды заинтересованы в поддержке одной этой библиотеке не нужно ничего обсуждать все в теме и теперь ваши разработчик и дизайнер разговаривают на одном языке им теперь понятно что это за компоненты они одинаково называются в браузере одинаково называется в макетов с этим не нужно разбираться и переспрашивать это очень удобно и экономит кучу времени на самом деле теперь нет дублирование работаю не нужно теперь братья рисовать компонент потом его делать и каждый раз так и наоборот и вот этих вот расхождений а потом удивленных рид с тем что на самом деле сделали не то наступает абсолютное спокойствие и ваша работа из рутины превращается воздух это все что я хотел вам рассказать спасибо вам большое здесь посылочка мод та самая где можно почитать про инструмент потом премьера и дополнительная информация и ссылка на саму презентацию я тебя спасибо за доклад клёвые directly вы инструмент как вы решаете вопрос адаптивности типа control выглядит разно на разных размеров на разных устройствах ну вот это все в каире ну это несколько control ну то есть внутри мы им это зависит от того если ты хочешь собирается адаптив вот то ты можешь на самом деле это дело имитировать дасти если ты тоже самое как состояниями например у нас такие состояния который псевдо power фокус они все имеют классовость то есть как только у тебя наступает состояние у тебя выставляется классно дом элемент поэтому я могу отрисовать этот компонент во всех состояниях скетч вот то же самое и с адаптивным то есть я выставлю дополнительные классы как модификатор на элемент для мобайл и он будет дополнительным элементом виде выражения то есть класс остается вещи с которыми ну медиа выражение у тебя имеют понятное название которого можно смочить с названием класса и поставить на тот самый нужный тебе времен бред при спасибо за доклад я помню на прошлом бы мафии в питере угодно зато ты достаточно оперативно набросаем интерфейс прям браузере и вроде были бы все предпосылки для того чтобы дизайне сразу браузере так а сейчас какой лайтовым вариантов дизайна браузере но только через там скетчей и те инструменты не пробовали совсем отказаться от графического редактора пробовали но по нему мне например не сложно отказаться от графического редактора это сложно сделать дизайнер ну и кажется что не нужным это делать на самом деле те новые инструменты например тот же самый скетч он достаточно хорошие он сделан именно для того чтобы делать в нем дизайн и как бы ради бога наша задача была в том чтобы синхронизировать компоненты и работу то есть да мы делали так когда ну то есть и все так делать я думаю когда тебе нужно собрать какую-то страницу где в принципе дизайне нужен и или там добавить какой-то блок на страницу то дизайнер в общем-то и не привлекается не когда ты вставляешь что бог который то есть и как бы все хорошо вот но дизайнеров вытащить из их инструментов сложена и кажется что не нужно этого делать совсем как бы у каждого своя среда у меня вопрос по особенностям скетча воспользуются уже по твари не мешают ли баги скетч и потому что он сравнительно молодой продукт и он иногда пишет ерунду векторные точки прыгают по экрану и насколько он может во время каждого сохранение там модифицировать исходник насколько он может портить из охотников во время сохранения это же это все настраиваемой это на самом деле просто битовые комменты будут тебе сыпаться с которыми можно разбираться и смотреть то есть помешают в каких-то случаях будут проблемы но тем не менее всегда можно отклонить он там не перед ответ ничего случайно и спасибо гиду за это но тем не менее это все равно же будет адрес кича плагин который будет как слушать ну твой горячей клавишей ты можешь например делать а не на каждой сохранения когда ты там уверен в том что ты закончил работать вот поэтому папа богам скетча ну много богов скетчи но ничего страшно это не мешает как бы с ними жить и они их оперативно достаточно решают и вроде вот как пока они нам не мешают жить вы как-то с компанией взаимодействовать и рассказывайте как вы используете их инструмент еще что пока еще нет звука зная не просто слушаю mighty да поэтому сказать ему об этом было бы ну как те раз хотел спросить вот и показали кнопку надо довольно такой простой элемент да да тамбур радиус это говорит а если нужно какие-нибудь кастомные вечный пример border им отпустить вы смогли так понимаю нельзя бы сделать правильно ну например не закругленные края архив вырезаны серьезные края как таком формате you can вернемся к тому же но есть есть проблема связана с тем что не все что сделано все сессии можно перенести вот столько но это как бы лежит на плечах разработчиков и как они это дело действительно это нужно естественно какие-то там новомодные вещи типа масок которые работать не будут не будет работать и анимации и всякая такая канитель которое связано кажется что это и не нужно совсем то есть касаемо то сложность элементов ты всегда волен на их делать настолько простыми насколько возможно из них потом строить свои сложные то есть та же самая кнопка это вот самый максимально простой элемент но на самом деле в разработке есть еще элемент проще которая умеет там хранить условное состояние которое от которого наследуются все остальные тоже самое у тебя будет и в скетче у тебя будет нарисован один кубань этика и второй из него ты сделаешь свой большой набор спасибо тут человек зови стесняется задать вопрос я за него спрошу честно он не написал это все production или вы просто в лаборатории сидите и развлекаетесь почему валв лаборатории этого для людей все ну а это то что это инструмент который thomson я получил работая постоянно ну в одной среде и это не то что мы развлекаемся это будет утилита которого смогут использовать ваши живые проекты которые сделаны на этом и живут какое-то время существует да наши новые проекта который вот-вот они живут на этом то есть это реальный процесс это реальный процесс абсолютно вот привет посереди доклад вопрос такой вот примеру тоже кнопка вот у тебя есть например три размера и порядка десяти модификаторов которые меняют not скин кнопки с кичи есть символы а есть сохраненные nu skin и например кнопку который 3 размеры 10 скинов с кичи это будет 30 символов или скины ну то есть например я у себя да там чтобы они затари смогу с маппить и нарисовать вот все 30 вариантов ты сможешь нарисовать отрицательной ниро это хранятся not 30 символов или это три символа с размерами а скины накидываются скинами у тебя будет встречать только кнопок сколько у нее состоянии ну то есть если это кнопка которая условно обычная потом есть кнопка обычное при наведении а есть кнопка красная и кнопка красного при наведении всего будет 4 все так спасибо за доклад не знаю как остальные помогу звучит вообще волшебно поэтому у меня вопрос такой в чем подвох это самые такие вот есть какие-то подводные камни то есть допустим я понял что там background-image мне не отрисовываются вот я могу протеин взять и как-то дополнить или этого закрытая разработка подвох в том что это не работает с большинством шаблонизатор of которые есть скажем например с теми которые поморский шаблонизатора и react а мы это работать будет вот и это к это хорошо но плохо для тех у кого не используется там какая-то фиксированная структура и томба и muminova ne я кладу бы много элементов там за тоже работать не буду методологию отдельного именования каждого в стилях к каждой строчкой да то есть не использую вложенность то в этом случае все стиль у меня отработают то есть это все все все партиец и твоя задача просто ну тут все все построено очень ну сильно завязаны все на структуру и именование а потом уже обещаю на шаблонизатор вот если ты сможешь научить свой шаблонизатор правильно все это генерировать и и следить за тем что тебя правильно разобранные компоненты то все будет работать в этом случае со 2-ой не должно быть если я правильно но я редактирую я готовлю правильно себе созданию если если ты гад если ты правильно готовишься с.с. и шаблон это да то есть я могу даже вместо пикселей там ей мы например использовать ты можешь использовать мегапикселей яма но все равно тебе конвертировать высоко это нужно как даст тебя должны быть фиксирован размера для дизайнеров тебя там процентных каких то вещей которые ты используешь стилях не должно быть для макетов это все нужно будет переопределять то есть естественно должны быть вещи которые кардинально например отличаются но такая жизнь спасибо я просто любительские чем я не могу здорово оторвался по моему там нельзя вкладывать символов символы скетчи вот эти что значит зачем я хочу построить свой символ из других существующих символов ну глубже еще глубже еще так ну нельзя столько него просто хочу ну то есть от а кому идут в девчонки в богемию надо то есть это никак не обойти то что может сделать символы с вашей стороны как будто бы символы доске чат и будет обычные папочки уже символизм будете разруливать вы ну да но тут как бы отправляем решается тем что тебя словно там ну ты хочешь на на 2 sim ухо не можешь ты можешь соответственно построить один большой и использовать да там два обычных компонента но это решиться системы сборки который будет перри собирается сам банду то есть она все равно в итоге то заменит тебе все потому что в html simple работает даже еще несколько проблем ну что есть еще виды вопросы у нас есть еще время на пару парочку привет гугл с яндексом умеет парсить svg ну наверно умеет а в чем проблема да не умеет индексировать и сколько умеет а зачем типа нафига вообще html тогда можно нас организацию в догонку если я не указал какое-то свойство на действо что спуск браузер сам решает как вот там отрисовывать какую стиль примет не какой то есть нет рисует нет в любом случае жесткую коза нет ну конечно ну то есть у тебя все что у тебя написано свойствами просто реально мочиться существующей табличку и конвертация если чего-то нет тут она превратится ничего все спасибо мы с мы сейчас переоденем нашего докладчика проверим что у него хорошо работает звук ее роман да вы дворов нам расскажет про жизнь в зале"
}
{
  "video_id": "v7dUNyqjmPI",
  "channel": "HighLoadChannel",
  "title": "Самочувствие malware на iOS устройствах / Дмитрий Евдокимов (Didital Security)",
  "views": 305,
  "duration": 2422,
  "published": "2017-05-16T13:00:03-07:00",
  "text": "последний доклад на сегодня дмитрий евдокимов что у нас вообще происходит на устройствах small worry you при почему спасибо всем привет спасибо организаторам за приглашение ну во-первых я занимаюсь работа в компании число скинулись и моя команда занимается тем что ищет узи масти программное обеспечение с исходным кодом и без него вот она наша основная работа естественно также по мобильному приложению сегодня будет для меня достаточно непривычная тема это вредоносный код я раньше никогда не рассказал о вредоносном коде но нам также как исследователем пан тестером полезно знать что он имеет почему естественно есть такой понять как модель нарушителя для мобильных приложений есть три модели нарушителя это человек с физическим доступом к устройству человек который находится скажем танков близости с устройства это значит в одной вайфай сети либо в какой-либо другой сети и третье это вредоносный код установленным злоумышленникам на ваше устройство нам необходимо понимать что может делать 2 но сны код чтобы максимально давать нашим клиентам те рекомендации по усилению безопасный чтобы этот вредоносный код как можно меньше мог выполнить свое вредоносному функционалу на устройстве поэтому естественно мы его также реверсии мы изучаем также как антивирусные компании вот сегодня я расскажу о том как поживает вредоносный код на ios устройствах за трон немного про джилл брэд питт устройстве основная часть будет посвящена что может делать вредоносный код на устройство без jailbreak план вот следующий мы рассмотрим немного основную концепцию безопасности а его со что такие механизмы там лежат и что делает компания пол чтобы вредоносный код там не мог существовать либо чувствовать себя не так уютно да рассмотрим основные экземпляры которые существуют для jailbreak мент не жил убитых и остановимся на нескольких интересных техниках плюс на некоторых интересных экземплярах которые появлялись за последнее время для не джейлбрейкнутых устройств мы сделаем ряд выводов так ну во первых а безопасность и о строится на предварительном просмотре приложение да так называемая превью вы написали приложение отправляете его в apple и там они какое-то время что-то с ним делает этот процесс принципе никак не документирован что они именно там сварят каким способом никогда об этом не рассказывает char некоторое время они могут сказать этому принимаю приложений выкладываются его в appstore не могу сказать нет ни про хвать вот по идее также они его смотрят там на некоторые ну естественно вредоносный функциональность вредоносную функциональность следующий момент это подпись кода любой код который выполняется на устройстве ios должен быть подписан вот он должен иметь подпись это x 509 сертификат естественно чтобы получить сертификат необходимо подтверждение личности как правило далее пойдем рассмотрим какие существуют на сегодняшний день сертификат это очень важно с точки зрения распространения вредоносного кода следующее правило что все страницы памяти на которых выполняется код а вы знаете что на аверсе это на этих кода обжарьте всех компилируется уже warm ассемблер вот нет страниц кодов практически который одновременно доступны на запись и на выполнение следствием запрещено динамическое генерирование кода ну это особая проблема есть на операционной системе android вот когда часть кода можно но она будет нормально функционировать никакой вредоносен официальность нет через некоторое время со стороннего сервера скачиваем да и все вредоносные функциональность появляется в этом приложении сначала вроде хорошим и этот код выполняется на по идее такое невозможно потому что нет страниц памятью доступных сразу на запись и на выполнение единственное исключение это только браузер сафари только он имеет такое разрешение которое одновременно позволяется и делать вот страницы для их джек движка браузера следующем как это песочница очень важный механизм каждое приложение выполняется своем собственном окружении и в принципе ничего не знает то окружающих ее приложить здесь прописаны и пути по которому лежит на файловой системе приложения и где хранятся и данных начиная вроде с версии 9.0 ойоса раньше немного пути были другие вот нет доступа к другим процессом не доступа к файлам нет прямого доступа к железу да вот приложение работает она видит только свой корень где или сжатые данные все остальные приложения ей недоступны в принципе такой же подход используется и в андроиде следующее это разделение привилегий во первых все приложения в операционной системе выполняются под урезанным пользователей мобайл также есть там скажем пользователю руда но он не доступен в только системные сервисы по не выполняется и так есть так называемый intensor венца разрешения вот это определенные разрешения которых поговорим ещё чуть дальше пример это разрешение там на доступ к адресной книге дана доступ к мире есть и системные титула мисс которые кроме apple не может никто использовать это вот как раз например возможность браузера сафари в делать jit странице это как раз отдельно intitle а мы с которой было бы обладать только сафари больше никто там есть отдельный индивид ломается на доступ к с м с да и тут получается только эсэмэс приложение имеет такое intel и - и так далее их самом деле очень много из каждой версии apple добавляет какие-то новые тем самым ужесточает доступ к определенной функциональности об этом будет ясно чуть дальше вот ну во-первых распространение пока км алгоритме как я уже говорил код должен быть подписан существует приложение которое попадает в appstore они подписаны специальным дистрибьютер тифе к там да и такие приложения проходит полный анализ безопасности как бы вообще а прибью от apple да дальше можно на ваше устройство попасть приложение через приложение тест слайда это ограниченная там вроде на 1000 пользователей насколько известно проходит бета превью они намного быстрее проверяют его что они в этом случае делать также непонятно какие процессы не пропускают какие не вот но можно сказать что анализу они подвергаются меньше чем остальным с недавнего версии вроде с xcode и 7 появился так называемый персональный сертификат это значит можно даже не регистрировать разработчика да просто получить сертификат и разрабатывать для своего собственного устройства не какать себя вообще не инфицировать там не отсылаю не почту ничего в общем не надо ну а не по что нужно на можно абсолютно сделать леву никаких проверок дополнить документов для этого нет необходимости до десна и такое приложение вы не ну нельзя распространять он просто x ходе оперируется устанавливаться наше приложение все и page ник создать невозможно следующие распространение the hole распространение короб с подписывается сертификатом разработчика да как этому все знаете и используется там для разработки для конкретных устройств ну в таком случае приложение общение как не проверяется и последняя самая интересная активно используемая в принципе как вы идите дальше это хаус распространение это когда покупается enterprise сертификат идет распространение приложений внутри компании ну например кто-то без компании хочет делать приложение только для своих не выкладывать его никуда в appstore и чтобы только сотрудники определенной компании использовали это количество таких установок никак не ограничена проверку adac нет абсолютно никаких и единственная там цена около 300 долларов и дополнительные проверки на получение этого сертификата все еще как может распространяться как мы уже сказали это магазин это может через сайт устанавливаться вот эти вот in-house приложение которое распространяется достаточно сделать специальный там pleased файлы рядом положить приложений можно спокойно установить такое приложение через браузер несколько раз там просто согласившись с предупреждениями и все да далее также можно приложение установить через компьютер предварительного скачав например с того же appstore а ложить на компьютере уже без какого-либо интернета просто взять и поставить с компьютера на устройство приложение последний способ это попадание приложение на устройство из сторонних магазинов это сразу на jailbreak да например сам известный сторонний магазин это cd вот который автоматом ставится когда вы делаете джейлбрейк и еще куча всяких сторонних магазинов существует в китае которых я думаю даже никто и никогда не слышал вот пару слов о джейлбрейк это процесс удаления ограничений введенных компании apple на устройствах вот в принципе джейлбрейк удаляет все те механизмы безопасности которые я рассказывал там слайд или два ранее вот после jailbreak ни один из этих security механизмов не работает как вы понимаете вся модель безопасности после jailbreak рушится и все приложения сразу видят остальные могут туда писать-читать в общем делать что хотят гарантировать хоть какую-либо безопасность приложение на устройстве джейлбрейком просто невозможна работа не доверенной среди сразу будет не доверенной жил брейки существует двух типов это привязной и не привязной не признает а когда даже после перезагрузки он не отпадает а привязной это значит после перезагрузки он слетит как правило в джейлбрейк комьюнити грязный джейлбрейк разрабатывать достаточно быстро и сама суть это сохранить джейлбрейк после перезагрузки вот он занимает а просто львиную долю времени разработки jailbreak и как правило джейлбрейк и это просто набор уязвимости эксплуатации вот ну какие последствия это сразу можем видеть всю файловую систему взаимодействовать с другими процессами да и запуск неподписанного кода чему это приводит если на устройстве есть джейлбрейк то для него уже с давних в принципе времен существует различные вредоносный код самые первые в принципе это аки потом дальнейшего модификация была дух заключал в том что после установка jailbreak там поднимается опытный sage сервер со стандартным королем alpine и вредоносный код просто пытался на определенный порт по дефолту ему королю зайти и заходил в общем устанавливался туда все как бы для тех полисов которые не сменили этот пароль после jailbreak ставился данный вредоносный код следующий интересный переносный код это был взрыв он крал выплаты за рекламу на джейлбрейкнутых приложениях он сжег соуса в каждое приложение после клика на какую-либо рекламу до пользователям он при направлял выплаты не на того разработчика на себя в общем он крал полностью выплаты со всех реклам вот следующий экземпляр у нас там флуд мы он просто крал и пойди и пароль в принципе не то что просто это самое важное и интересное что только может быть потом можно бэкапы забирать и так далее вот как вы видите в дальнейшем просто это было моим стримом красти paladi и пароль к нему следующий интересный экземпляр это байера он крал и пойди и пароль после этого дел платные покупки со счета естественно пользователя тем самым таким способом деньги у пользователя и исчезали значит далее со временем одета с 2014 года начали появляться различные более боевые вредоносный код который уже коммуницировать с различными сервисами и получал команды выполнял их на устройстве отправляла какую-то личную информацию геолокация пользователей и тому подобное это вот что касается jailbreak ну как они попадали на устройстве ну естественно те пользователи которые устанавливали всё это через сторонние магазины например ту же через ценю до в основе большинства них лежит то такой from one кокцидиоз up straight это любимица jailbreak сообщества это специальный фреймворк для создания различных твиков для модификации как стандартного так и не стандартного программного обеспечения на устройстве можно легко перекладывать функции дополнять их заменять в общем играться совсем это вот как раз с помощью чего создаются твики так естественно возможен вариант когда ремонт ремонт джейлбрейк когда вас устройство было не джейлбрейкнутой и помимо вашей воли она стала джилл и бы rio tinto на черном рынке цена уже в принципе давно на такой набор эксплойтов больше там 1 миллиона евро вот недавно одна из компаний делала конкурса на там за него платил 1 миллион долларов ну и по их утверждениям они их выплатили вот как быть с никаких доказательств не было на практике такой набор эксплойтов уже был он был применен на сайте джейлбрейк не от такого товарища как комикс он просто сделал сайты для jailbreak было достаточно через сафари зайти на этот ну и согласится там все он через браузер и эксплуатировала ряд уязвимостей перезагружал устройства и вас было просто джейлбрейкнутой устройств не нужно было подключать компьютеры ничему просто достаточно зайти на сайт вот сейчас ремонт жил break ну так же по сей день возможно это самая верная дорогая связка эксплойтов который только сейчас существует в мире вот бояться не стоит потому что в большинстве случаях а он будет применяться для целенаправленной атаки на кого-то да они так массово такие суммы деньги для массовых атак никто никогда не тратит смысл здесь заключается в том что как вы видели есть сертификат которые можно подписывать любой код без проверки компании apple злоумышленники начали в по первой стадии что делать мы это еще дальше подробнее они просто начали их регистрируют на левые компании либо воровать его разработчиков и выкладывать на в интернете да я и просить полете различные с помощью через социальную инженерию да через fishing установите или иные приложения и тут сразу рождается ряд возможностей которые сейчас более подробно расскажу одному скажем так известному лицу в россии подарили устройства на нем уже стояла ряд приложений там были крипто мессенджеры и так далее ну как бы в стандартной поставке как вы понимаете таких нет дай телефон в когда и фонда лишь а там уже сразу messenger стоят и крипто мессенджеры вот это привлекло внимание службы безопасности они дали устройство для анализа как оказалось на устройстве были уже установлены различные приложения в которых был вредоносный код просто перри упакованный из и подписаны краз enterprise сертификатом вот так что это было первый сценарий второй сценарий через через зараженный компьютер также возможность store когда сначала заражает вас компьютер потом вы через юсб и подставляете свой iphone для зарядки и в этот момент ну так же как айтюнс вредоносный код может установиться на ваш устройство также это рассмотрим чуть дальше пары секунд в чужих руках ну принципе если в приложении выжить куда-то на сайт его у кого попросить позвоните да просто из браузера зайти и установить приложение по раз нажать да ничего не стоит все и вернуть телефон спасибо что дал позвонить но у вас уже стоит какой-нибудь вредоносный код на устройство ну сам себе буратино это сценарий когда через социальную социальную инженерию человека просят установить приложение и там иначе там не знаю кредит не дадут такой хорош либо еще что то там и различные сценарии уже ограничены только фантазией человек в общем сам через какие-либо убеждения ставить себе такое приложение устройством взломанный разработчик это сценарий когда происходит взлом непосредственно разработчика и внедрение в его репозитарии уже вредоносного кода он ни чем не подозревает подписывает код там выкладывает и так далее были случаи когда были скомпрометированы определенные из детей и понятно все кто использовал с детей также были заражены на устройствах сценарий insider это случай когда идет разработка внутрикорпоративные человек просто вставляет свой код и все здесь как бы не особо не интересно есть а через уязвимость приложения до также возможен сценарий когда из-за уязвимости в приложении вредоносный код сможет попасть на устройство вот такие же сценарии показывали например через тот же кажется адоб ридер через уязвимость в нем также вредоносный код в принципе подал вот и благодаря у зима steam в самой операционной системе естественно как и любая сложная система ios имеет уязвимости у от который можно эксплуатировать об этом чуть подробнее рассмотрим дальше следующий момент который вопрос может вас возникнуть а что такое вообще вредоносный код может делать на устроить как бы что такое критичного может делать первое самое распространенное то использовать править т.п. а сама компания apple когда вы желаете приложение магазин его абсолютно запрещает использовать они за этим принципе строго мониторят что вы делаете какие функции там фреймворке правит не правят дергаете вот если это увидит они могут в легкую отказать вам да вот естественно вредоносный код который не проводят не проходит проверки apple активно использует этот праве такое он спокойно может получить список всех установленных приложений на системе не знаю ваш номер телефона все индификатор и уникальные трекать вас гео-локацию может получить вот доступ к адресной книге календарю всю эту информацию он может получить вас вот плюса различную критичную консольную информацию если там есть проведение социальной инженерии дальше мы рассмотрим как конкретно трюк происходит вот может нарушить нормальную работу других приложений если например за каким-то приложением типа skype зарегистрирован обработчик томской : слышишь вот он может помешать ему работать может зарегистрировать еще какие-то свои перехватывать все данные которые шьются на них там в открытом виде и тому подобное вот может какие-то окна поверх остальных приложений выводить да там не знаю вы сидели работали с приложением басова свернули разворачивайте базовом банковское приложение пароль ваша и спрашивает там пароль и логин да ну наверное хотел зайти туда войти туда логин и пароль а это просто вредоносное приложение вывела на экран похоже на банковское приложение и все вот так же чуть дальше рассмотрим возможно на самом деле подгрузка кода которую apple никогда в жизни не видел то что придет чуть позже после a preview вот ну естественно этот код который не модель не рассматривался компонентов последствии может также делать jailbreak же на устройстве тот код который выполняется на операционно с теми на ios он имеет больше возможностей больше интерфейс и два интерфейса воздействовать на систему тем самым не больше атак серферс на систему и больше возможностей для jailbreak какие есть уже существующие экземпляры вредоносного кода это из appstore распространялся тут они абсолютно не все перечисленные то на были самые известные которые работы для устройств без jailbreak за последнее время тут наверно год 2015 2016 только перечислен вот это зеркал пир моего часть дальше рассмотрим использование 3 pro сертификатов это как я уже говорил целым in-stream там целое семейство есть вот мы рассмотрим первое первый вредоносный код который начал использовать это был варлоки вот и мы и вот взломанный разработчик это интересный случай был когда на торрентах кажется где-то выложили xcode вот но он был про трояне ный не знаю почему вы китайские разработчики решили скачать его там какие-то проблемы были с каналом и что-то в таком духе и в общем они качали не с официальных источников тепла а качали вот из этого источника там просто в компиляторе было добавлено 1 инструкция и все все что собиралась помощью этого скомпрометирована во из кода было про трояне на вот и в appstore оказалась там не знаю около сотни приложений просто зараженных чисто из-за того что разработчик использовал данную версию skoda все также насколько я помню там была одна известная из детей и ее также собирали вот этой версии и получается что все кто использует то есть детей также были про трояне на весь этот исходный код попал в apple apple это никак не заметила в принципе вот и следующее то эксплуатацию зима сте-не посредством технологии apple которая на самом деле ещё даже не закрыта она использовалась вот в последнем принес нам коде это а из девайса вот давайте поподробнее рассмотрим варлоки ну во-первых он интересен тем что он одновременно атаковал как маг вес устройства такая вас устройство вот заражение самого устройства с шло непосредственно зараженного персонального компьютера через usb вот и интересно еще тем что он умел заражать уже существующие приложения которые были на устройстве он смотрел что использует устройство можно сказать их скачивал инфицирован перри покупал и обратно заливал на устройство и вы в принципе не видели что у вас добавился какая-то новая программа на устройстве вот вот так в принципе на слайде вы видите как выглядит сообщение когда установится приложения с enterprise сертификатом и спрашивайте по доверяете в этому сертификату либо нет вот на второй картинке изображена вся схема как работал данный вредоносный код он взаимо целовал своим центром команд он мог получать новые команды и так далее в общем это первая вот такая крупная масштабная малварь которая использовалась для заражения не джейлбрейкнутых устройств в принципе экземпляры кому интересно по ривер сити они есть в открытом доступе их можно скачать по ривер сити вот следующий азер helper который мне очень нравится ну не знаю очень крутой подход и вот здесь его разработали китайцы фишка вы заключалась в том что оно распространялось вообще через appstore по идее приложения было вот так вы видите happy d или english она предназначалась для изучения английского языка вот естественно apple посмотрели на него да действительно изучение английского языка но фишка заключалась в том что когда на приложение заходишь из одной части мира отображается приложение для изучения английского языка когда заходишь другой части мира отображается китайский appstore с крякнут ими приложениями вот как они это вообще сделали да они не использовали абсолют никаких интер просите в катыни честно отправили apple свое приложение они как раз использовали динамическое обновление кода они встроили есть такой free and open source ный векс это возможность писать на lua скрипты для ios а просто у них в начале куда стоял такое условие если геолокация равна там не китай вернее приложение ну верни такую картинку изучение английского языка если там биолокация китай верни вот это вот ну при этом они могли так как они никому неизвестно откуда происходит за заход на приложение при a preview они вообще могли через месяц функционал активировать и вообще все это приложение заметили не какие-то исследователи да там не служба безопасности я была просто на форуме китайском чуваки начали обсуждать странное поведение когда не начали других точек мира заходить приложения вот и так только уже другие security research или заметили это ли отрапортовали выпал после этого только компании apple удалила вот а смысл заключался еще в том что они умели подгружать так рад динамический код они написали вот эта библиотека векс да она просто есть интерфейс между а и ios объекте все точнее вот и можно подгружать код и на стороне а ios он будет выполняться просто можно сказать так интерфейс все вот на данном примере на скриншоте не знаю видно не видно здесь две функции это получить workspace а потом следующая функция получить все установленные приложения и to provide api и там о installation applications вот все вот с помощью таких двух строчек нала хакеры получали все установленные приложения на ios устройстве без jailbreak вот как бы это первое приложение которое смогло обойти а превью от apple как бы apple посмотрели на изучение английского языка все отлично вообще со временем начали это исследовать оказались что приложение для лечения английского языка просто лежит на гитхабе an open-source а не просто его взяли как пример и уже встроили туда стальной магазин как бы основной функционал вообще был в том что это было с китайский магазин он что делал они не знаю там покупали приложения крякали их перри подписывали и можно любое платное приложение было поставить себе в общем просто игрушки в так воровали и так далее как и при этом они могли ставить другие приложения они сделали следующий они либо использовали enterprise сертификата в общем они крякали приложения enterprise сертификатом то что вы хотели какую-нить игрушку да там него спид например в ответе за бесплатно они вопрос подписаны то просите фика там вы соглашались играли в нимфа спит бесплатно все следующий подход которые не сделали также первыми в мире они использовали как раз вот эти персональные сертификаты они разрушили весь протокол между ix кодом и сервака me apple и в автоматическом режиме могли получать для каждого пользователя персональный сертификат на приложения без какого-либо взаимодействия пользователя они подписали его персональным сертификатом его же игрушку и она спокойно ставилась на нет жил break ну той iphone все и так любую платную игру можно было бесплатно через это приложение скачать в китай но так как у них был от функционала динамического обновления кода они также могли делать какие нить различные грязные трюки вот ну очень в принципе крутая штука следующая штука классная которая мне нравится появился последнее время это hd высер он также обходит а превью по тому же принципу что и зеркал пер он также на по гео-локацию выдавал сначала один экран после какого-то времени либо с другой локации выдавал другой экран как бы сотрудники apple которые смотрели им все нравилось вот но здесь интересен в основном принцип через который устанавливать приложение они в принципе вообще не использовали ни какие сертификаты они использовали недостаток apple грм это защита на интеллектуальную собственность и да там вот который у них называется fair play вот смысл заключается в том что когда вот вы с помощью itunes а покупаете приложение скачивать само приложение и рядом с ним хранится так называемая сигнатуры сейчас в упрощенном виде расскажем абсолютно до и после того как вы ставите приложение на телефон она запрашивает эту сигнатуру но фишка заключить в том что можно на покупать приложение сохранить вот эти авторизованные коды все теперь если они также разрыве усилились протокол установки приложения телефон и был зараженной машины и просто они инициировали установку я поспрашивал типа а ты точно был куплен он простым авторизационный код где-то полученный подсовывает на вот я вот точно купил ингрид точно такой код валидный и устанавливал приложение все достаточно было чтобы это приложение хоть раз побывала в appstore даже если его туда удалят сигнатура будет получена от серваков apple валидно из равно это приложение будет ставиться то что вот снесли это то есть драйвера с appstore и но вы до сих пор можно ставить потому что есть вот эти сигнатуры и можно делать этот мид маток у которой изображено на рисунке и ставить любое приложение которых даже отозвана из магазина вот зима естественно 2013 года ей уже рассказали на конференциях и так далее но она не закрыта я и по сей день вот так что этот техника абсолютно рабочие теперь немного подробнее техников но времени остается мало дополнительные возможности отправить т.п. так я уже рассказывал это дополнительные фичи различные справа и скриншота есть такая классная штука и таран там браузера runtime браузер она позволяет подгружать все фреймворке как а публичные так и приватные как вы видите на слайде там около тридцати тысяч двести двадцать семь классов сразу становится доступно можно взаимодействовать с огромным количеством классов которые выпал по идее не пропустит и можно любой из них обращаться смотреть методы вызывать их и так далее есть важное ограничение которые помечу что есть intel ломаться них не стоит забывать интимность как раз ограничивают возможность работы стен с той или иной функции apple старается закручивать гайки как больше можно функциям давать определенные титулом из которой нет ваших сертификатах там разработчика enterprise и так далее но естественно не все функции так еще не завернули в этим титулом из есть функции которые опасны и критичные и до сих пор их можно вызывать следующая переупаковка приложения которые очень не много раз говорил да он состоит в принципе 5 шагов и и на сегодняшний день даже есть автоматическая туза который можно просто запустив показать какое приложение внедрить вредоносный код все сегодняшний день это дело по минут идем дальше димася маска смысл заключается в том что можно было поставить одно приложение поверх уже которого существующего приложения вот просто подменив а банда лойди сказать типа это более новая версия все так можно было не зная поверх там в отца по поставить другой воцап ее считать все сообщения которые там были вот в принципе этим пользовались эту зима с версии 83 была закрыта но недавно обнаружили атаку сын джейн кинг которая заключалась в том что просто можно сделать бэкап устройство в бэкапе подменить приложение на вредоносное восстановить бэкап и она имеет она уставилась на всей фонвизина с не закрыта до сих пор этим можно пользоваться это например может интересна специалистам по forensic и проследуй не инцидентов если хотят получить сообщение там какие-то крипто мессенджеров и так далее достаточно сделать бэкап залить туда приложение приложение ну естественно с кодом с чтение тех же самое сообщение либо еще чего-то вот и она считает так как данный никак не разрушаются считает отправить на нужный сервер все джейлбрейк даже не нужен устройством следующая интересная штука которая я придумаю содрать даунгрейд атака на приложению не знаю знаете или нет но и по охране по самом деле все версии приложений которые вы только когда-либо выкладывали вот не знаю я проверял данного банковского приложения там до сих пор лежит версия начиная 10 ее все дальше и около 50 версий можно было любую версию банковское приложение скачать что это дает в какие возможности можно скачать и установить пользователь уязвимую версию до приложения так атаковать через уязвимость потом этого пользователя для следователя это интересно тем что можно скачать ту версию приложения которые еще не было опускаться и например да без опускаться и скачали про исследовали в последней версии также становятся понятны как они работают вот так же в различных версиях которые попадают магазин иногда исключительно утечки на моей практике было что один банк вместе своим приложением еще исходные коды почему-то туда запушил на уоттс можно было получить все исходники ну и там разные там были разговоры разработчиков когда почему-то файл тоже попал финальную сборку и утек в магазин в общем можно использовать вот этот подход следующий подход который в принципе напрашивается это прослушивание всего трафика на устройстве на в вдц 15 года 2015 года компания apple показала как она расширила функционал по работу с в пьяном можно трафик слушать теперь всего устройства можно написать вредоносный weekend приложения и слушать абсолютно весь трафик и гнать его через себя слушать все что делают приложение на устройстве никакой джейлбрейк не нужен весь трафик будет проходить через вас что касается динамические подгружаем обновляемого кода на самом деле достаточно просто реализовать интерфейс между каким-то скриптовом языком и объекте все в качестве примера я провожу джесс патч фреймворк от одного китайского разработчика nopence собственный он лежит на гитхабе он по идее предназначался для того чтобы в обход apple релизе патчи ну например вы выкатили приложению до в нем нашлась критичная бага а пока apple опять новую вашу версию заплаченную проверяют все пользователи уже там вас будут ненавидеть так приложение крошиться с помощью и его фреймворка можно было просто брать и абдель патч получать сервера и все и он применялся приложению вот как вы понимаете с точки зрения вредоносного кода очень сложно дефицит ровать код которого нет приложение просто есть вот это если тот же спать в приложении да и все остальные функции гите мы просто через некоторое время он либо считают вас файловые системы либо запросит сервера и изменит логику работы приложения джеймс патч позволяет добавлять свои классы переопределять функции расширять функции переопределять целые классы работать с методами со свойствами в общем добавлять новые свойства вызывать как стандартный код и код приложения в общем можно полностью там кот на java скрипте написать по большому счету в качестве примера у них там как раз есть такой достаточно три строчки добавить это добавить его в импорт сделать инициализацию и уже на на вход является скрип подать непосредственно строчку java скрипта все справа написан часть кода который переопределяет функцию datasource на самом деле а потом вызывает ее оригинальную можно добавить вредоносный функционал а потом пойдет стандартный функционал приложения всем как бы пол этого не увидеть даже на этом мы подходим концу я в самое интересное исследование по теме вредоносного кода для строить без jailbreak здесь перечислил кто хочет потом почитает там более подробно и различных вредоносных эти как раз написано кисть рекомендации да ну знать что вредоносный код возможен для вас устройств и быть более внимательным то что водится на экране там если вас просят установить дополнительно сертификата и так далее не подключать свои устройствах недоверенным система да вы наверно знаете сообщение когда доверять этой машине или нет если это ваша машина в принципе можете доверять да а если вы где то в гостях и так далее лучше не доверять потому что там происходит так называемый процесс пейринг это еще отдельная тема вот и там на той машине сохранится еще дополнительная часть ключей который используется в криптографических целях вот произойдет определенное утечка вот ну вот в принципе основные пожелания ну и выводы в том что со временем вредоносный код для вас все будет развиваться как вы видели фантазия разработчиков мода не стоит на месте они придумают новые free марки новые подходы уже обманывают было превью динамически подгружает код я честно я не представляю что может компания apple этому против остави да потому что ну вот запретят они джейс по очень распространяться в исходном коде переписать добавить и сделать свой нет проблем уже есть огромное количество фреймворков там для java скриптов для lua для питона есть еще на чем-то не помню жесть ну в общем практически все скриптовых языки можно сейчас писать для айфона и взаимодействовать объекте все кодом который существует приложение вот поэтому мне кажется наша ждет много всего веселого интересно для ios устройства и владельца андроидов только будут рады ну на этом у меня все спасибо за внимание спасибо за доклад my вопросов наверно 2 первое это если общая статистика что мид в этом духе соотношение попыток взлома популярности взлома точнее установки мало варна джо брэнд и устройстве на обычное скорее всяко намного популярнее взял break из-за простоты да насколько то есть динамика рост вообще насколько это правда сильно развивается сейчас есть проблема в том что вообще достать вот эти сэмплы и все вот это вас но происходит это тори гетеро на в каких-то регионах и так далее и не у всех даже антивирусных лабораторий сразу сэмпл появляется и у все обладают разных статистик это как сама инфраструктура да и на кой система apple очень замкнуто да и получение новых сэмплов экземпляров это очень сложный процесс поэтому никто не владеет полной картины вообще как бы в мире так джейлбрейкнутой устройства на более зв мы там в ты иди очень много вредоносного кода лежит и так далее как бы подхватить его абсолютно нет сложности вот с остальные экземпляры которые были они в основном как насколько я помню не особо важно но в азиатских регионах были у меня скорее дополнение помимо джей с патча можно же и вообще и теперь использовать стандартный javascript код который систему встроен точно также позволяет его скрипт функции исполняйте свои 5 закат оттуда да можно и так делать абсолютно есть как раз фримаркет одним небольшая бирки на нем делают и все еще вопрос по поводу джо блэк после рилот почему пропадает на девайсе что там такого происходит это значит недостает explay то на уровне ядра который изменяет цепочку загрузки с почка загрузки должна быть видоизмененной как бы есть ряд ну когда устройство работает все значит это пройден после перезагрузки определенные структуры заново инициализируется и джейлбрейк пропадает вот поэтому нужен еще один а скажем так эксплоит который 1 уязвимость которая будет вот стабильно эти переменные определенные держать в одном состоянии то есть при первичной установке их как-то ломает при перезагрузке нет ну вот одной масти не хватает и оно пропадает тогда получается jailbreak привязаны да а когда есть полная цепочка который позволяет после перезагрузки тогда не привязаны да ну видимо все всем спасибо"
}
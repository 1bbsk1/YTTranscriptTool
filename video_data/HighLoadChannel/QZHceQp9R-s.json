{
  "video_id": "QZHceQp9R-s",
  "channel": "HighLoadChannel",
  "title": "Мониторинг CI / Александр Акбашев",
  "views": 466,
  "duration": 2357,
  "published": "2018-01-16T13:13:35-08:00",
  "text": "предыдущий докладчик заболел который хотел рассказать про мониторинг continues in the графини но у него были тезисы с которыми я сильно согласен то есть тафта monitoring and installation это очень важная тема вот и собственно и я сам хотел рассказать про мониторинг seo вот но у меня здесь другой доклад и он там через час про использую доки россии вот но тем не менее мониторинг я считаю важным и олег сказал что если хочешь рассказывать собственно вот так вот поэтому слайды будет от другого доклада слайда будет от доклада который я делал ну часть слайдов от доклады который одел на highload полгода назад то у меня на эти слайды была минута 3 сейчас у нас достаточно много времени собственно сначала немножко себе ей меня зовут александр акбашев я работаю в компании here technologies я работаю берлинском офисе компании достаточно большая привези танкисты из человек работает вот мы занимаемся биолокационные сервисами различными среди там наших клиентов из интернет индустрии то фейсбук amazon microsoft из автомобильной индустрии это почти все компании которые так или иначе пользуются нашим продуктом там среди нас владельцев это audi бмв mercedes но чем очень крупная компания очень очень очень много всего разного вот но есть core product и вот мы как бы я работу в команде который отвечает за тестирование core продукта и у нас есть правило что все комменты в этот core продукта есть в этот там из детей не знаю ключевая навигационная платформа все кометы проходят обязательную проверку то есть грубо говоря не занести ни одно изменения при commit проверку то есть нельзя нести ни одно изменения пока вот все все сессия сессия все тесты не пройдут то есть там вы можете править вот в одном месте а потом будут запускаться теста там я не знаю для роста android различных там продуктов и собственно так как это при commit проверка очень важно чтобы это всё работало стабильно и случай если у нас есть проблема на каком-то из узлов то есть например там самый нижний тестик начал падать по какой-то причине мы хотим это увидеть наши статистике максимально быстро для начала собственно объемы с которыми и и и мы имеем дело в том числе статистике то есть нас больше ста тысяч билдов на одном дженкинс мастере каждый день 120 140 тысяч некоторые дни вот под словом build я понимаю что это ну просто проект continues in the грешно то что могут быть компиляция могут быть теста муфтами не знаю пример какой-нибудь документации что все что угодно морды в том числе диплом обычно это все очень хорошо коррелирует с количеством с количеством коммитов который совершается в чем не суток вот ну собственно да то есть ключевой метрика который мы хотим оптимизировать это количество комментов и там время tribeca который мы выдаем наконец ну и соответственно мы также хотим оптимизировать фрау плотную систему то есть сколько мы можем прокачать за день то есть ну чтоб не было такого что разработчики не могут закомитить исключительно по той причине что там нас не знают дженкинс тормозить или там манифест упал или гид лежит ну и так далее то есть грубо говоря мы хотим оптимизировать каждую единицу которую нас есть там гид сервер там я не знаю никаких калленов с который там до дает какие-то данные то есть все все все все все все цепочку и соответственно в один момент времени у нас пике где-то полторы тысячи билдов идет ну и собственно креста экзекуторов там полторы две с половиной тысячи вот был такой там слайд про мониторинг мониторинг мы делали сами то есть грубо говоря мы поискали на рынке там 0 на рынке как бы не знаю в гугле так далее тогда гоу другими поисковиками как только они искали и не могли найти ни одно решение которое было бы стабильным и хорошим надежным то есть например на заре нашей эры мы использовали в качестве мониторинга все что было встроено в дженкинс но у него было огромное количество минусов то есть во первых дженкинс лежит нет мониторинга то есть во вторых гибкость оставляло желать лучшего хочешь поменять что-то в мониторинге тебе надо как бы там открыть как плагина поменять код плагина залить плагин перезагрузить дженкинса ответственности the production не будет итак каждый раз делать вот но к счастью дженкинса есть достаточно богатый rest api то есть можно там вытащить все данные которые нужны но опять же проблема в том что ну откуда ты знаешь как тащить данные откуда тыщи данные тесла ну там можно есть один конкретный урок по которому можно промониторить очередь но нельзя к мониторить как бы только очередь да мы хотим мониторить все мы хотим знать абсолютно все наши системе сколько у нас каждый бит занимает времени так далее и тому подобное для того чтобы достичь этой цели мы собственно собрали вот такую цепочку то есть у нас есть дженкинс дженкинс мы установили пару плагинов конкретно мы установили игру i want is the new black плагин который позволяет нам этот грунте старый плагин all sorts как и следует из его названия он следит за плыть за ивентами в качестве ивентов дженкинс есть там очень много всего но нас интересует конкретный один ивент он называется он file list от i went который срабатывает каждый раз когда хоть 1 балл дженкинс и заканчивается этот плагин позволяет следить за любыми модификациями любой другой drinking когда там кто-то попадает в очередь какое-то событие или там исчезает в общем там сейчас порядка 20 центов за которыми можно следить данной цепочки нас интересует quand который называется он file list также нас мы установили флю индии плагин для дженкинса сначала него написали потом его установили вот этот плагин позволяет отправлять данные напрямую вафлю энди мы нашли плагины которые позволяют не использовать скрининге написать например напрямую в инфлювак следующее звено но в этой системы тоже есть свои минусы то есть во первых там сразу требуется какой-то ретро механизм на стороне плагина то есть грубо говоря там influx например лагает после несколько достаточно нестабильную штука до сих пор и santana предлагает или там умирает то нужно ретро ретро им непонятно что делать с памятью то есть держать внутри дженкинс мастера те объекты которые еще не были отправлены в infix в общем чтобы быть на безопасной стороне дарту как бы обезопасить почтили столом очки мода написали клининге плагин который там 20 строчек но он собственно занимается тем что он просто принимает кастомную кастомные данные то есть там джейсон например или там если вы пишете на грудь на груди это будет have met если вы там в какой-то дроби кастомно что-то отдать что-то будет джейсон мед он позволять абсолютно любой персону дженкинса пропихнуть в индии уже есть рынке можно с помощью катере зации настроить его там хотите в infix ходить там я не знаю в графит хотите я не знаю ну куда угодно короче там более сотни конечных мест назначения то есть там с помощью карла можно засунуть во всяком угодно вот вы соответственно получилась такая вот цепочка у нас есть build build она заканчивается и после этого загорается он фамилий стенд он попадает в группе want listener в грунте сынри мы делаем какую-то определенную магию чтобы ее показать придется с вещицу но другие слайды вот и как бы вот так вот происходит цепочку нас доезжать до индекса ну и соответственно и суффиксом а уже визуализируем данные в графа не только сондо статистику подвинул сумму так собираем с помощью fungi то есть у него есть готовый uplander который просто позволяет вам записывать например java логе то есть но он этого более чем хватает чтобы отвечать на вопрос почему же сейчас то тормозит дженкинс после как правило 2 на кингс нас тормозил всегда из нехватка памяти из-за нехватки памяти то есть или точнее за и избыточные локации ну и собственно когда мы отобрали такую цепочку у нас получилось получился вот такой вот даже word операционный до бледновато немного но собственно верхний график это график того сколько времени занимают определенные верификационные pipeline и то есть грубо говоря там сколько нужно времени разработчику из команды авто бы получить там позитивный или негативный фидбэк то есть там есть три зоны которые наверно вам не очень хорошо видно красненькая зона это от 30 минут и выше желтенькая зона это от 20 минут до 30 ну и соответственно зелененькая зон это все что до 20 минут у нас есть теперь кто так как это при commit это означает что разработчик сделка мид ему нужно ждать фидбэк то есть на не обязательно просто сидеть на стуле играть то есть можно начать работу параллельно задачи но просто чтобы контекст у него не успел выйти очень далеко мы стараемся фидбэк выдавать как можно быстрее в данном случае вот мы видим на картине вто в принципе большая часть точечек на хочется находится в жёлтой зоне но как бы есть спайки которые попадают в красно то есть и с этим нужно что-то делать с этим нужно работать например тот цифр k9 который в правом верхнем углу это размер очереди которые она сейчас есть в экзекутор ах да то есть это грубо говоря так как у нас забыл сказать у нас клауд bc то есть грубо говоря у нас нет никаких заранее lacie rowan их ресурсов кроме самого мастера и там некоторых девайсов то есть система сама себя с помощью амазонского amazon если ту плагина мы поднимаем своего по мере необходимости ну и соответственно как бы большая очередь означает что скорее всего не хватает и при этом что-то сломанного локации это вот третий график идет третий график сверху да это собственно графика очереди на нем вот видно там был огромный хребет такой этот хребет собственно когда у нас мы там в течение не знаю там 20 минут до нас не хватало not то есть мы их там по дому или подняли или просто раза разобрали кучу с тем что было все стало хорошо на втором графике на нём на самом деле на него смотреть достаточно больно это вот статистика по конкретным лей он по конкретным экзекутором то есть грубо говоря благодаря тому что мы записываем все эти данные мы можем сказать нам сколько нам нужно конкретных железок конкретный момент времени то есть там мы хотим например закупить у амазона в том числе liked it has ты да то есть и собственно мы можем знать там есть у нас допустим большая очередь мы можем навести мышку и посмотреть в тот эта очередь большая в данный момент за того что на таком-то экзекьютора у нас очень большая очередь скопилось то есть может быть кто-то там написал неправильный лейбл например и раз катил этот лейбл по всем билдом да по всем настройкам тогда у нас будет огромная очередь без каких-либо шансов ее разобрать вот ну и соответственно график самым-самым самом низу это график подачи сборок дженкинс и ну собственно то график говорит нам о том что в эти момент у всех все лагало вот соответственно если столбиков становится очень очень очень много вреда то говорил то что днк сейчас работает на пределе своих ресурсов и скорее всего он либо упадет ли вы мы начнем терять ноты по таймауту и собственно нужно с этим что-то срочно делать ну собственно про вот этот до сбора дикси сейчас я попытаюсь переключиться на другие слайды которые от следующего доклада которые 5 там есть несколько слайдов которые прольют свет на то как выглядит код в груве вон тристану плагине стандарта есть а также показывает очень интересный кейс то есть так как мы используем полный экран так как мы используем у равен 6 плагин мы получаем из груди мы получаем данные ко всем абсолютно полям каждого билда то есть мы знаем абсолютно все ноты например в данном конкретном месте да мы там скидываем 2 сон в билдах мы скидываем там аптайм к параметр с которыми был запущен docker и вот собственно мы очень следим за инфраструктурными ошибками в нашем continues in the графиню чтобы за ними следить мы используем build failure она lider плагин это плагин который позволяет задавать какие-то кастомные регулярные выражения и с помощью этих кастомных регулярных выражений то есть когда build падает там такая строчка будет подсвечиваться да то есть например есть она сбил drupal и за докера из-за того что докер все еще не стабилен да как продукт мы увидим там красную надпись до докер яра response from дымом и собственно это запись также попадёт в служебную служебную property гонки с билда и мы и сможем вытащить собственно вот код гру иван тристана плагина то есть это вот собственно почти production рейде код то есть тут для того чтобы заместить влезть на слайд пришлось пожертвовать 0 план тирекса пятном на второй строчке вот но проверка на есть на третьей строчке так что в принципе поменяв две строчки местами можно можно сделать этот кот уже полноценным продакшен собственно вот в первой строчке идет речь о ровно том о чем я говорил то есть мы вот так вот вытягиваем причины падения датой знания которые мы передали дженкинс с помощью регулярных выражений то есть какие ошибки у нас вообще в принципе бывают системе мы их педаль передали с помощь регуляр в бифа и плагин и без плагина то как бы в случае падения записывать эту информацию в экшен собственно в avanti старый плагине морским информации из этого экшена и работаем уже с полями с полями данных без и плагина то здесь собственно достаем список какие у нас ошибки все-таки случились собственно в обычном цикле то есть если там ошибок больше 1 до обычном цикле на эти данные аккуратно складываем fmap здесь конкретном примере можно увидеть что мы записываем полное имя до проекта в котором была найдена ошибка имя ошибки категорию которую она относится то есть нашем случае у нас три категории то есть инфра ищу это означает что команда continues on the гриффины которая бренды зум накосячила есть еще configuration ищу это означает что он накосячит человек который создавал конфигурацию вы drinkin' сюда то может указал там кого-то несуществующий болтун не существующий проект в общем какая такая ошибка конфигурированию да то есть там или там чекаут из репозитория который никогда не было вот 0 3 типа the software ищу то есть мы например также записываем к статистику по всем крахом который у нас есть по статистику по всем по филиным тестом то есть какие тесты failed to set мы с помощью регулярных сюда складируем и потом собственно это для каждого абсолютно билдам и эти данные записываем ну и time spent собственно timestream значит что временно которая стартовала дрого все абсолютно все винты масса системе привязаны к тому моменту к моменту старта ну и самое последнее там но да то есть это как бы на каком конкретно единственности дженкинса ну точнее своего у нас были проблемы потому что как правило ну как я и говорил у нас это все облачно и дело то есть но я верю что даже необычных не облачных окружениях бывают такие случаи когда проблема явно связано с одним конкретным если сама на всех остальных и насосах все хорошо поэтому собственно эти данному тоже помогает быстро локализовать проблему ну и собственно до самой последней строчкой но это все отправляем в fringilla gear собственно первый второй параметр это как легко можно догадаться все то что мы только что свернули в maple в карту а первый параметр это тек по которому френки будет мочить данные и будет принимать решение куда же их собственном дальше записать вот собственно так вот выглядит уже production ради конфигурация френды первая строчка это собственно тогда то есть что то что по маркано как яндекс . без и будет собственно будет отправлено туда-то собственно данном случае это будет отправлена в infix baby это будет отправлена на хост фонда который называется infi baby . internal на порт 80 86 будет записано в базу данных который называется почему-то beef с вот это видимая опечатка не продакшн и ряде собственно и самое интересное две строчки ну как могут многие зла знать вы всегда гибели из-за болеро него докладывают и комнате индекс baby поддерживает теги это означает что каждой записи может быть несколько тегов и вот то есть этом назначать что мы можем в запрос на his cock like запрос подставить дай мне все ошибки которые случились на случились случае если имя было такое то или но до была такая-то или ошибки такого то типа ну или такой-то категории то есть если мы хотим посмотреть все инфра страхи все ошибки инфраструктуры мы просто делаем в категории равно инфра таким образом мы видим абсолютно все ошибки инфраструктуры ну и соответственно date time stamp так это означает чтобы не записывать время приходи приходи ивента потому что грубо говоря труба может стартовать а я не знаю 1200 ономастики час я чтобы записать 1200 они час ну вот используем этот ключик таймс темп чтобы это сделать нам пришлось это время пропатчить плагин но это все же вал консоль и все только за релизы на давно собственно долго пришлось патчить вот это импрессивно от собственного в то время рынке все в миллисекундах ну вот это одно из один из примеров это должен быть был быть почти финальный слайд доклада про докер но суть в том что мы мониторим абсолютно все ошибки инфраструктуры в том числе мы мониторим когда у нас докер отказывает то есть он отказывает по многим показывал по многим причинам то есть там кедры то есть там ошибки в самом softy в докере ошибки в драйверах амазона ошибки как как мы используем эффекты конфигурация химик в общем много разных был ошибок вот это вот график то есть это график за последний год это график вот буквально с предыдущего vidcon of dota нынешнего и как мы это количество ошибок в неделю то есть мы гоняем где-то 100 тысяч билдов день и вот собственно раньше у нас было вот год назад 100 ошибок в день с портом в неделю до то есть грубо говоря о стабильно у нас 100 разработчиков неделю страдали от авто столько метов ты с ними как иногда это бывало и 100 разработчиков неделю страдали от того что они получали негативный фидбэк не на основании тех данных которые у них были в комете а на основании того что мы просто докер еще не очень стабилен вот соответственно бывали там удачные обновления докера бывали не очень удачное обновление но собственно вот после нового года точнее там в декабре до нового года да судя по графику мы выкатили там обновления 1 мы обновили версию докера собственно amazon тоже обновил версию д м ой то есть ноты своей операционной системой амазонской ну и собственно количество ошибок резко уменьшилось то есть вместо того чтоб иметь там более ста ошибок мы в неделю нас у нас количество ошибок скатилась до там 30 и так далее вот но но были были также потом спайки все равно в принципе вот уровень так и держится то есть менее 100 ошибок в неделю то есть если брать только рабочие дни там и до сих пор наблюдаем там 10 20 ошибок в день которая связана непосредственно с джокером но мы о них знаем то есть у нас есть вот мониторинг мы знаем каких конкретно билдах они встречаются чаще в каких рек и то есть мы знаем что например если у вас докер запускается с флагом примирит что вы на стороне в группе риска да то есть если у вас привлечения ты вас количество слоев маленькая то вы вне группы риска то есть все эти данные мы вытащили с помощью мониторинга который в принципе реально за перед нами не знаю за полтора-два дня вот но просто для того чтобы мониторить болу flexible даты в топ он был гибкий чтобы вы могли туда писать абсолютно разные данные нам пришлось пожертвовать чем-то в данном случае удобством что-то не один плагин чик да то есть а распиленная экосистему то есть нас тут есть гривен тристана плагина которыми уже говорил в ринге плагин собственно сам отдельный конфигурационный файл все это надо как-то манты нить но в принципе оно того стоит 7 всячески рекомендую мониторинг все вот такой вот как называется экспресс-курс но не курса выступления да то есть спонтанная вот если есть вопросы пожалуйста спасибо спасибо за в эту аудиторию по моему кармапа секунды спасибо за доклад вопрос по поводу что вы делаете с билдами который просто не доходят просто висят как вы их мониторить хороший вопрос я думаю да сейчас мы по поводу них слипы но в любом случае в монтану айзере есть четыре стадии там есть он started но вот именно для билдов есть он started он комплит это он финалист я не знаю на каком conti на борту 4 не помню идея в том что если build завис и кто-нибудь кликнул на крестик или пристрелил его он точно попадет вон финалисты так контракт просто то есть он может быть не попадет в лонг амплитуд хотя думаю даже вон комплит попадет таким образом все будет хорошо мы его увидим но да то есть грубо говоря он не появится на монет на мониторах до тех пор пока кто-то его не пристрелит вот еще вопрос спасибо за доклад вопрос касается сложности всей этой сильной инфраструктуры то есть может даже не дойти до выполнения тестов по каким-то причинам и эти причины они могут быть фатальными что если прогнать еще раз то же самое могут быть как вы решаете какие-то шаги до хороший вопрос то есть грубо говоря ну да ты так как у нас цепочки сложно да то есть там очень много всего есть то есть на месте триггеры чекаут и компиляции и так далее то есть мы стараемся лишний раз разрывно разработчиков не не дергай до автобане вручу ручками не перепрыгивали вот у нас есть внутренняя разработка которая работает не очень нестабильно называется лас-вегас плагин поэтому собственно не за релизе то есть случилось и господина в том что все что произошло в лас-вегасе она остается лас-вегасе вот и этот плагин от единственный плагин drinkin' сик ну как бы я не знаю я не нашел ничего концов снова который позволяет игнорировать exit code грубо говоря тамбов упал он не упал то есть все все чтобы там не было то есть статус билда не поменяется собственный вот этот плагин он позволяет делать нам вот эти вот три три в некоторых местах я говорю то что он так как он сам по себе тоже не стабильно потому что иногда бывает так что дженкинс учетом потер какую-то какие-то объекты которые на которые мы рассчитывали то собственно это не всегда нас спасает вот но в принципе да то есть литра механизму мы стараемся в тесную да то есть вот например график 1 который самый верхний до длительность pipeline off то есть сейчас мы сильно стараемся тем чтобы разрубить эти длинные pipeline то есть the pipeline были как можно меньше грубо говоря там не один большой план из четырех битной архитектура а там много маленьких по планов там слизь и четырех битные архитектура там не знаю linux 10 четырех битной архитектура там где бак реле дебаг сборка то есть так далее то есть все следующий план это разрубить еще дать чтоб конкретные там уже маленькие слои были под конкретные продукты вот и собственно там всякие тайм-аут и вообще все что можно мы стараемся делать как можно меньше гранулярный для того чтобы у нас была возможность понять как можно раньше именно здесь проблема там инфраструктуры инфраструктурные именно там живет ретро и но там еще очень много работы и собственно вот enforcer пока ничего нет спасибо за доклад у меня вопрос я к сожалению не сразу не сначала пришел на доклад не видела вас pipeline и если в них при комик хуки ну то есть реакция на то что разработчик делает комет в df нос только при commit руки ну вот как раз мне тогда очень интересует то есть у меня такая проблема сейчас как вы делаете скажем так как облегчить работу тем лиду чтобы вот pull request он занимал то есть одобрение пол request или его отклонения занимал как можно меньше времени ну то есть это прогона соответственно понятно unit тестов соблюдение code style и и всего прочего есть чтобы в.д. ветку не попала ничего совсем плохой но да то есть и очень спасибо за вопрос это вообще очень интересное явление то есть психология на на нас там разработчиков тестировщиков манометров вообще всех всех всех когда вот у нас появились эти пристанет приветки да сначала идея была вот там типа я хочу там статический анализ посмотреть там так вот красиво выглядит я хочу запустить юнит-тесты все сделали отлично работает у нас сломался интеграционный те стоим и его пофиксили добавили в при коммент проверку то есть вот она у нас теперь там статический анализ units компиляция unit-тест integra финн тест там о клёво слухи а давай ещё ещё ещё то есть и собственно так у нас росло количество тестов то есть грубо говоря пока эта система масштабируются да то есть нас с две стороны то есть мы команда которая делаем количество кришны команда как и все остальные люди там там 600 где-то разработчиков в кор продукте которые стараются как можно больше верификации положить в это место и как бы как правило люди даже не смотрят review до того момента пока все автоматические проверки не профиль и вот для того чтобы это ускорить плане таймфрейма да чтоб быстрее проходи да то есть мы сделали тоже очень много всего интересно то есть мы используем например распределенной к с компиляции то есть грубо говоря что если у нас хоть один человек хоть на одном сервере что-то скомпилировал что все остальные собираются все видят то есть для этого мы используем seeker снимков да се + 3 + новый стек в принципе никто не мешает самому там за пару дней сделать такой же там как для не знаю грегори для какого-нибудь андров скалы т.к. так далее вот соответственно также мы оптимизировали сами тесты да то есть там оказалось что у некоторых тестах у нас очень долго с вами отчеты генерятся так далее то есть мы вы выпили ли генерация отчетов из тех тестов которые проходят потому что никто на самом деле не 100 не смотрит continues in the гриффин пока там все зеленое всех интересует только красные вот ну и соответственно да то есть есть еще кстати если вы использовали не знает или не горит на думаю для других продуктов есть очень штука которая сильно помогает это когда боты автоматически генерят фидбэк в формате комментариев для кода review то есть грубо говоря не человек нику мелит вам говорит вот там поправь пятидесятую строчку а собственно вам ботик сам ставит там 150 а строчка не отвечает формату при этом он делает это прямо в теле code review они комментарием к низу ли там где-то там дженкинс и на к метро это не плагина то питоновский скриптик который называется что-то вроде горит чек вот для геррит от но я думаю он есть а там и до всяких бед хабов так далее то что мы вполне прозрачны то есть и он берет там поддерживать си плюс плюс 2у и питон по моему брату в конце зала есть вопрос далека идти спасибо большое за доклад очень интересный доклад но для нас по той причине что вы затрагиваете дженкинс вот у нас компании возникает такая проблема что у нас достаточно много разрозненных про продуктов которые разрабатывают с разными командами на разных языках и так далее и у каждой команды в общем-то свои специфичные хотелки по поводу того с какими плагинами они хотели бы работать и вообще какой там вот слова не например себе там вы думали и вторая проблема это то что в дженкинс и многие плагину ну например там не знаю job dsl плагин который безумно вообще упрощает жизнь тем что можно описывать там программ на какие-то вещи они постоянно ломают api то есть этим грешат огромное количество плагинов в том числе сам женькин что правой к тому что нам этой нить это превращается порой сушат то что работал там месяц назад может через месяц при обновлении каком то вроде тому что нужно откатываться и там день тратить на то чтобы просто пофиксить вот эти все проблемы как вы с этим справляетесь спасибо этого концерта но собственно первый вопрос он достаточно простой то есть так как у нас мы работаем на большом объеме да ты снова станут один дженкинс мастер там 100 100 100 20 до 40 тысяч builder день-другой там 40 тысяч 20 тыс то как правило количество плагинов которых нам нам подходит она о малая от общего креста плагинов и программ короче говоря toyota хочу каждую строчку текста подсвечивать разными цветами мы говорим это не работает просто к нашим of the beat не работает то есть у нас есть список плагинов которые мы заправили да то есть вопрос там это как правило кадре view плагина то есть то там дальше мы уже прикидываем как бы сколько стоит это исправить вот но как правило если мы смотрим на код там на палец последний кометы нас характер комментов то есть там характер комментов я сломал его я поправил и пиа я сломал его я поправил эпитоп правило это тоже сразу черная метка вот ну и в принципе да то есть мы стараемся идти навстречу то есть если плагин действительно нужность плагин работает стабильно то мы соглашаемся например вот очень хотела одна команда pipeline плагин да то есть ее старый добрый фристайл дроби а вот новый стильный модный молодежная который уже год как production are или полтора года но там все плохо то есть она все течет ломается каждый каждый новый релиз топ но новые кровища вот поэтому мы и хотели ли вы маленький их инстансы дженкинса мы их три горем и ремонт через наш ремонт триггеры курло shell script место плагина вот он собственно работает стабильнее чем плагины бесплатно фактически вот и собственно там вот они себя весело утекают в фиксе баги производительности знакомиться с гру виде целям вот но собственно да то есть как бы если есть какая-то задача какой-то продукт требует какой-то ну прям этот продукт но просто продукт требует то есть мы ничего не можем сделать мы говорим о том новый на сумму задница вот там новый продукт нового плагином вот но как правило мы стараемся все равно это держать очень под контролем вот по поводу второго вопроса по то что каждый плагин там творит еще хочет ну собственно да ну собственно вас есть два два два варианта до либо страдать либо возглавить вот хотите как бы но для мой опыт показывает что в принципе за как можно вполне себе превратится случайным образом monte nero низких плагинов да то есть там в контрибьютором ядра дженкинса вот когда главное не бояться вот там добра будет много вот собственно я думаю последний вопрос я хочу отдохнуть перед редуте стоящим докладывай вопрос по поводу количество самих job сколько их у вас тысячи то есть не знаю 35 то есть сами настройки job вы их но у нас у нас есть огромная армия людей которые хочет писать делать это руками по старинке есть те кто задает действий те кто за плагин на этот pipeline плагин то есть очень много то есть но так как чтобы у нас были и волки сыты и овцы довольны вот мы у нас есть игру и проверки то есть грубо говоря мы он то есть они как правило performance pro performance или про стабильность то есть грубо говоря если вы используете старый добрый дефолтный лорд вейдер везде там и его автоматически занимаемся не заменяем на мимо референт builder от это вот так как но с точки зрения weather ex принца ничего не меняется но при этом рынке начинают их есть на 25 процентов меньше памяти если например вы не удаляете клина for не делайте клинов workspace где-то там даттон мы опять помощью groovy автоматически вам это предоставляем вот ну и соответственно кихот проверку на достаточно много и они позволяют удовлетворить включаю интересы даже тех людей кто хочет хочет все делать ручками пустые в принципе тоже понять можно ручками то клик-клик-клик и работает вот но при этом после этого нужно пройти сделать эти снимки чики-чики и убедиться что либо настроен устроена стабильно до последней давайте не последний вопрос замечала не было к тиму скажись с организационной точки зрения вы постарались я из компании head technologies я в команде работаю который называется common континиус integrations докладчика другая компания другая доклада вопрос надеюсь команды разработки ну там так демократия делает принудительное в некоторых местах то есть восстановлю картину да то есть я работал в компании here technologies этот тип старый добрый автомотив рынок вот немецкий вот и собственно была проблема в том что месть например mercedes хочет вечера есть там аудио хочешь учебы как бы и ребята которые делают ядро для обоих фичей они сделали ядро собрали там как бы далее doom к стримерам тип проверили все плохо вернули . собственно захотелось и цикл ускорить чтобы это все было открытие графиня не так что собрали и потом там неделями туда-сюда мылами перекидывается вот соответственно сделали специальную команду отдельную команду котором жила назвалась команд continues on the grave чем который я являюсь команды эта команда не является членом ни одной команды разработки то есть мы как бы сбоку всего этого вот но при этом нас услуги они активно навязаны 7 разработчикам удобством и тестировщиком то есть у вас есть простое правило либо как бы те изменения которые мы носим ведро будут проверяться вашем продукте либо она будет он будет сломан через там 20 минут до чистым любой светочка мид может вас ломать то есть вы об этом узнаете через две недели то есть это достаточно сильно мотивирует все продуктовые команды переходить на нашу светлую сторону вот потому что ну иначе и мы можем все разломать они будут страдать но при этом как бы есть и другие команды которые которые например и почитали в том дорого иметь свой сайт то есть дорого иметь свою команду например дорого там я не знаю настраивать links так далее то есть они только пользоваться услугами наши команды в том смысле что мы там помогаем замки самым предоставляем экспертизу как там от скелет дженкинс от нуля до сотни тысяч вот собственную там как стабильность его повысит тогда летом подобный мониторинг за бесплатно не получают вот но мы как бы сбоку каждой командой из тестировщики там от команда команда зависит от 6000 человек одним словом не пиф вот но каждой команде есть там свои страсти ров щеки своего пса которые там как-то 2 балла устраиваю да то есть есть мы все коллеги давайте с этим докладом закончим спасибо вам большое за внимание за возможность высказаться"
}
{
  "video_id": "00NoP4o8cjo",
  "channel": "HighLoadChannel",
  "title": "Microsoft и Linux на одном проекте / Николай Суровенко (News360)",
  "views": 1079,
  "duration": 2706,
  "published": "2017-04-22T14:48:10-07:00",
  "text": "но думаю в принципе можно начинать меня зовут николай славянка я руковожу группой персонализации в компанию с люси кости в компании успешно совмещаем продукты microsoft и также различные решения на базе открытый экосистемы linux и сегодня я хочу вам рассказать как все это у нас в компании происходит как мы с этим живем вообще откуда может возникнуть такой вопрос зачем microsoft или нам зачем-то все совмещать допустим вы работаете в microsoft на структуре у вас огромная команда разработчиков которые написали хороший интересный код написали его для доната на сишарпе и так далее у вас какие-то свои собственные разработки которые которыми вы пользуетесь то же время сейчас появляется огромное количество различных open source ных продуктов которые вы хотите применять то есть это могут быть как решение из коробки для там не знаю веб-серверов обработки изображений чего угодно либо распределенной системы хранения данных аналитики и так далее тому подобное ну и вот мы в нашей компании совмещаем и то и другое linux я прошу прощение что мы так больно обошлись с этим названием когда мы говорим linux имеется ввиду вся эта открытая экосистема открытых продуктов на базе linux ну вот в нашей компании мы все это успешно совмещаем соответственно расскажу вам про то как вообще вся эта история началась требует назад и тогда мы пользовались исключительно microsoft secam при этом мы хотели и думали долго переживали как же так как дальше жить мы хотим пощупать все эти интересные продукты на базе linux но при этом у нас исключительно microsoft экосистемы и мы думали что это экосистема такая изолированная с ней будет сложно жить и применять эти открытый продукта не получится также мы переживали о том как нанимать людей там от нас есть кот ность sharpie как нанимать людей которые будут поддерживать адекватности sharpie и в то же время использовать какие-то новые продукты на базе linux ну и спустя три года ситуация общем то изменилось там microsoft делает шаги на сближение с открытой структурой и так далее в нашей компании мы в общем уже не чувствуем что microsoft платформа такая уж изолированная мы спокойно применяем и то и другое продакшене у нас все эти сервисы живут вместе взаимодействует и так далее ну и соответственно я сегодня вам расскажу как мы сделали переход постепенным плавным как мы не потеряли время никакое не останавливали никакие бизнес-процессы в то мы считаем основным вот таком меж платформе на взаимодействие три составляющие нашего успеха но сначала немного нас не уср секстета компания которая делает мобильное приложение для новостей у нас есть крутой in-house код для обработки естественного языка который в тех местах который мы собираемся всего мира он находит сотни тысяч различных топиков мы все эти новости в этих топиков мо ранжируем и вы можете на них подписаться вашем мобильном приложении туристам в том числе у нас есть там любые технологии типа майкрософта docker и всего остального отвести токо существует как толики приложений можете написать мы уже давно ль довольно давно на рынке у нас первоначально был исключительно microsoft так ну и какое то время назад мы и сыграем переехали на ухо стад решения в общем за последние пару лет мы внедрили огромное количество linux продуктов этому рады и вот это рассказ для примера что мы в последнее время делали такого что совмещает linux и windows и вот расскажу вам про парочку наших задач то есть у нас был какой-то старый раз с краулер который как тогда водилось все делает через mssql там полно наших родных костылей и мы думали что с ним дальше делать как его дальше развивать в результате мы взяли открытую библиотеку скрипи такой титанические фреймворк для написания краулер of ну и там разрешаются различные детали типа там обработки robots.txt всяких разных детектив детекции котировок обхода сайтов 3 дать ему подобное то есть большинство проблем уже решено и мы собрали решение на его базе там есть распределенные кластерные миль имитации различных подсистем этого краулер а дальше у нас был какой-то вот и матч сервис на сишарпе то есть это система обработки картинок в которой все было и smart крупы детекция лиц и подготовка изображений менеджмент разных систем к шее вот картинки тогда складывались что там подготавливались и мы их раздавали клиентом нашего это уважение мы пришли на джинкс и мач magic плагином который сверху прикрыт amazonas кем кашам вот все работает все отлично другой проект у нас было было кластеризация текстов написано на сишарпе нее стало сложно поддерживать сложно было мерить качестве результате мы пришли на крытой решения на основе питаниe ческий библиотек для машин для ринга и обработки стены языка это имел такие генте мы с колен и так далее также один из наших новых проектов то есть мы наши ноу-хау майкрософтовской она боится шарпа по выделению сотни тысяч топиков мы применили для того чтобы создать новый продукт аналитики для новостных агентств у нас там 20 миллионов событий в день ну расчетная мощность там сотни миллионов событий в день ну и потихоньку растем также мы обновляли наша система текстовой катере рации так далее то есть использование открыто продуктов и что в общем объединяете эти проекты то что ну понятно мы взяли какой-то старый код 3 factory ли его перенесли на переделали новое решение обновили архитектуру упростили нашу кодовую базу и во многом как вы видите все это стало возможно благодаря open source нам каким-то решениям мы что еще обвиняли этот проект и сроки по всем этим проектом сроки были сорваны в два раза вот ну и что ему высказать во первых когда вы такое делаете да то есть переходите на другую платформу внедряете совершенно новые продукты но этого стоит ожидать в общем и второй момент все эти проекты за исключением аналитики они первоначальные оценки были меньше одного человека месяца то есть все это мы делали быстро и в общем как вам кажется что мы делаем это круто вот поэтому я вам расскажу как собственно металла мы это все осуществляем ну и возникает вопрос почему собственно не сделать все то же самое на индия ну можно вообще сказать что для windows есть там питоны по сброс и docker engine xxi ребятам киу из парка кассандре все вообще есть почему мы не запускаем этот виндой ну ответы думаю более менее очевиден потому что для всех этих продуктов винда не является основной платформой поддерживать там кассандру продакшне кассандра на виндоусе ни один не согласиться ну и поэтому нужно как-то существовать ну и еще причины почему не да потому что в принципе да не такой уж дешевой а то есть даже минимальных конфигурациях те продукты на которые мы собственно которые для нас базовые очень важны но это стоит денег кроме того мы занимаемся разработкой в области обработки естественного языка там сейчас спустя шесть лет после ватикана не компании появилось довольно много разных при собственных разработок и они все практически в linux мире то есть открытый к системе java питон так далее ну int примеру нанимать людей сложно ну и ответ который мы нашли наши в этой ситуации это плавная миграция то есть что мы решили делать у нас было много логики в транзак тоску или поэтому он с ней нужно было что-то придумать что делать у нас есть вот эти все разработки с которыми мы продолжаем жить нам то есть мы не могли просто взять и все переписать с использованием это их новый библиотек тем более что наши в общем-то тоже неплохие ну направлении у нас примерно понятно миграции то есть нас все основной было но миску или для данных где нужно реляционная модель мы двигались сторону полоса для данных день не нужно реляционная модель мы двигались в сторону кассандра естественно у нас был такой махровый довольно те искры в microsoft севере поэтому мы так просто на пост раз не могли перейти в общем миграцию нас такая была довольно интересное в целом в основном мы приписывали сервисы то есть уже с использованием новых хранилищ ну и собственно теперь хотелось бы поговорить о наших 3 секретах успеха что мы считаем важным в такого рода переходах но все три секрета будет про архитектуру что наверное не удивительно вот начнем с не скоро у него архитектуры доволен низкоуровневой вот как мы общаемся между нашими сервисами казалось бы есть висел и ессеев это здорово и он наверное даже к 1 платформенный вот но к сожалению gcf умер и с этим можно спорить как бы можно не знаю отрицать все такое но к сожалению вот такова реальность в целом направление миграции для нашей вот совместимости между сервисами такой мы выбрали 4 ст как и в общем-то огромное количество компаний до нас и здесь хочу отметить что saab это решение довольно плохое вот то есть да если вы у вас есть все в сервис он элементарно вы в нем включаете там сам трофей из веб-сервис документацию и так далее там подобное вы можете подключать клиенты на разных языках том числе java и не знаю всего одна к чести prs отлично работает на большем пространстве платформ что здесь хочется сказать в общем значит теперь раз нравится нашим админом потому что они теперь могут делать балансировку нагрузки при помощи известных им средств и джинкс a proxy нравится нашим тестером потому что они могут зайти в наши внутренние 5 браузере что-то там покликать и кроме того мы используем swagger также вестника копин pr для того чтобы документировать наши api это такой формат который в принципе реализует многое из того что есть sape и прочих ужасных аббревиатурах dos рапа вот то есть он описывает как ваш выглядит веб-сервис как ним обращаться но в целом они обещают что это не превратится в еще один залп и там будет все хорошо пока что вроде бы получается то есть свагги у нас используется как документация при разработке нового сервиса разработчики пишут swagger файл который описывает как с этим работать и для swagger и существует огромное количество разных инструментов которые позволяют например рассматривать и дергать ваши пиа и в красивом браузерный ей это нравится тестером и также общем то это становится точкой синхронизации наших команд потому что мы обсуждаем вот как выглядит спецификации сервиса ну и одним джейсоном сыт не будешь у нас для цивилизации форматов также есть про табов в принципе про табов я думаю известное microsoft разработчикам тему потому что многие используют из-за скорости однако вообще про табов придуман гуглом том числе для того чтобы облегчить взаимодействие между сервисами и у него есть такое интересное свойство он расширяем и здесь хотелось бы отметить вот одна из шишек которую мы набили это то что реализация просто бафа лице кипра добав над она ну не ортодоксальная так скажем то есть как раз в этом аспекте то есть что такое расширяемость трата бафа ну выглядит это так у вас есть какой-то сервис который берет объект модифицирует нем какие-то поля возвращает этот объект нас вот такой сервис есть компании мы вас диплом ли год назад и он работает никого не трогает все хорошо но фишка в чем схема этого объекта она менялась многократном его добавляли новые поля меняли именно что там делали а сервис прийти новый поля ничего не знает и обновлять сервис нам не пришлось вот это вот фишка этого фото домов нет реализация она совместима с другими реализатор минут на то и работает несколько ниток когда вам приходит сообщение выводить реализуете вас получается instance вашего класса потом вырезать его обратно и неизвестные поля про которые ваш ваша версия сервиса ничего не знают они теряются вот но при этом даже в правах нет можно включить режим extensible и тогда у вас все работает как нужно в общем неизвестные поля там где-то в объекте хранятся и когда вы усиливаете обратно они там появятся также спарты бафом была проблема с перфомансом потапов и в питоне но она решается так же как и все проблемы с перфомансом в питоне вы подключаете session и extensions у вас все работает ну в целом принципе нам нравится как всё это работает несмотря на то что сапортов нет и вот тем что он совместим с microsoft с майкрософтовской сериализации были проблемы реализации гульдов до 1000 ватт это для этого пришлось писать свои собственные костыли тем не менее также совместимость низком уровне как я уже говорил в используем качественную вскоре хранилище кассандру ну и все наши сервисы сейчас имеют общее хранилище и кроме того общей кэш что здесь хотелось бы сказать то есть разные сервисы который пьют мы пишем на разных платформах они общаются с одними и теми же хранилищами данных и кроме того они знают про так как те данные кэшируются таким образом там мы решаем вопросы инвалида ции каша там положить что-то в кэш и так далее и все это работает с разных платформ то есть общий конечно так по факту соглашение о том как все должно лежать и кроме того мы все наши данные кладем в более-менее одном и том же виде то есть у нас там профиле пользователя и какие-то данные про статьи еще что то все лежит в совместимом виде поэтому нам не нужно писать много разных оберток у нас как бы по обертки на каждой платформе и все работает здесь это нравится нашим админом потому что они могут например какие-то данные синхронизировать и москве или в кассандру и у них для этого есть какие-то металлические минимальные скрипты вот и все всем команды всем командам это доступно шишки который мы набили ряда миграции и прежде всего касаются распределенный природы кассандры и это довольно интересный то есть одна из проблем это consist не целовался в кассандре вы можете выбирать внутри у вас распределенное решение из нескольких not вы можете выбирать как вы хотите записать данные например вот вы можете записать на одну ноту либо на все ноды с как быками там если вы записываете на одну ноту этого типа меня надежно но быстрее и вот у нас возникла такая проблема у нас два сервиса которые в цепочке друг за другом и они пишут одну ячейку в кассандре ну и они пишут на одну ногу в результате данные которые получались они были ну грубо говоря рандомно распределены между тем что записал первый сервис и 2 несмотря на то что там первый сервис получал сообщение раньше а второй позже то есть любопытные проблемы возникали поэтому consist не целовал стоит учитывать ну и разные реплики кассандры которые на которые распределены ваши данные они могут расходиться в общем данные них расходятся по разным причинам в кассандре есть целых три если не ошибаюсь механизма как с этим бороться как реплики обратно синхронизировать данные чтобы были на всех одинаковые ну и в общем про это же стоит помнить а если забыть этого можно получить вообще удивительные спецэффекты например какие-то ряды которые в кассандры удаляются они у нас появлялись через там три недели и вот просто как бы он удалён но теперь опять снова есть ну если использовать детей в кассандре то можно получить не только ряды зомби которые восстают из мертвых ноги и там ячейки зомби когда у вас там идиш них есть всего остального нет чем удивительный эффект ну в принципе у нас еще все сервисы читают из всех сторожей то есть у нас так и остался мясу стоит и мы научились к нему включаться из linux из питона и так далее в принципе здесь ничего сложного не вот так примерно вас выглядят архитектура на низком уровне то есть мы пришли на общее форматы общая пиа и общее хранилище ну и плюс и как я уже говорил то что админом нравятся очистите и тестером нравится happy общее хранилище с ними все умеют работать и в общем-то круто ну и теперь переходим к архитектуре на более высоком уровне и здесь у нас микро сервисы в принципе сейчас кажется уже прошел доклад параметра сервис от моих коллег вы наверное можете его посмотреть запись если туда не попали ну и сегодня вечером будет еще парочка докладов в общем-то у микро сервисов довольно много плюсов но нас интересует тот 2 то есть во первых когда вы заводите микро сервисы вы заводите зоопарк и то есть у вас появляется общетехнические возможность завести зоопарк потому что раньше вы не могли за ваше приложение так разделить на платформы ну и кроме того вы можете не переживать о выборе то есть у вас появился сервис на скале там внезапно вы поняли что ага скала наверное было не самым лучшим решением что нужно делать ну и вы просто переписывать этот микро сервис это что вам нужно потому что одно из определений микро сервиса классических до что команда может его переписать за две недели нашими краси руется мы связываем между собой не только начните педерастам но и в конвейер при помощи робята принципе на вместе робята могла быть и другая шина сообщений ну вот у нас rabbit принципе он нас радует мы там используем всякие фишки вроде стратегии обработки ошибок опциональные сервисы то есть как-то выглядит у нас например есть конвейера бородки статей когда статья появляется от краулеры и дальше мы там добавляем не какие-то метаданные и и модифицируем прокидываем дальше и у нас есть там опциональные сервисы то есть другой вариант сервис если он умер то или очень медленно работает то останавливаетесь конвейер не нужно нужно дальше прокинуть стать и потому что там пусть статья без картинки все равно она пользователям понравится такого рода вещи ну и связываем и наши сервис вот в такие сложные довольно топологии при помощи ребята в принципе это удобно нам потому что как бы когда у нас как сказать более менее все сервисы работает одинаково с очередями это мы можем их переставлять и в правильное место прольют палубе выстраивать ну и при этом наши админы они умеют с этим работать то есть они там умеют bk-5 очередей пересылать этого разные сервисы и так далее тому подобное то есть в целом неплохо ну и успеху но отлично принципе с ребятам у нас была проблема довольно малом потому что ребята нашей раза туре один из самых стабильных продуктов проблемы были несколько во-первых клиенты вот разные клиенты для рыба танки они часто умеют больше там совместимы с разными брокерами с разными шинами сообщений них разные фичи и часто их программная модель плохо ложится на программная модель награбит а вот мы используем для питона мы используем севере солярия такой распределенная очередь задание столбиками блага джеком из возвратом результата в этом на ней можете всякие сложные штуки делать типов on out storm определюсь и так далее ну и один из гигантов него ребят и как бы по умолчанию в реализации библиотек с тем как они заработают себе там могут быть разные ошибки но в частности вопрос соляре например в том что когда клиент он забирает сообщение из очереди он проявляет рабиту подтверждения что дамы это сообщение получили ну и соли реализует свой механизм для retrieve то есть если он съел сообщение из очереди запустился в процесс что-то он там делает потом он упал солярий это заметила и сообщение отправила в очередь для retrieve но все хорошо но цель или сама тоже может упасть то есть может упасть вообще весь процесс и ретро я тогда не будет вот ну и на уровне ребята допустим решается при помощи вот этих от окно вот ментов то есть клиент забирает сообщение съедает его потом обрабатывает и только потом говорит ребята что да я его обработал ну и вот в цель или например этот режим включается для сишарп мы используем и зенитку там проблем принципе меньше но тоже из-за того что она пытается делать много всего они тоже встречаются ну и кроме того когда вы работаете с очередями сообщений стоит помнить разных проблемах распределенных систем да то есть сообщение должно приходить один раз сообщение должны приходить в правильном порядке и соседи не должно приходить день раз в целом с этим бороться можно разными способами мы почитаем бороться при помощи и дамба tint насти наших сервисов то есть до модельность это означает что сообщение может прийти одно и то же несколько раз и ничего страшного не случится грубо говоря то есть мы стараемся чтобы наши сервисы этим свойством обладали ну и что я могу сказать еще если вы пишете биллинг то вам хорошо бы понимать все эти особенности чтобы сообщений нет нет вам не снимали деньги дважды метро дали барон и вот на уровне инфраструктуры у нас все выглядит вот так то есть нас microsoft каторги и виртуалке с windows am в которых изолированы все наших виндовые сервисы для linux проектов мы используем ranger ranger это такая система управления других контейнерами docker доктор хант к хвостами то есть система кластеризации для докера в принципе она нам очень нравится она open собственная и там довольно много фич поддерживается разные там модели deployment а вот и все это у нас завязана в общей continues in the гришин workflow то есть наши разработчики примерно одни и те же кнопочки нажимают для того чтобы бил бить тестить и деплоить и windows сервисы и linux сервиса проблема которая здесь есть это как делать вот тесты из за того что у нас вся инфраструктура такая сказать у нас есть физические haste из windows одними на них microsoft hyper-v и виртуалке с windows сам или линуксом и в том числе у нас там есть кассандра который живет на локальных дисках физических машин и так далее нам довольно сложно предсказывать нагрузки потому что все эти сервисы как бы использовать общие ресурсы но это проблема от которой мы работаем мы ее не решили так скажем ну и так примерно выглядит наша архитектура на высоком уровне то есть сервис ориентир китах чем мы перешли к микро сервисом это было сделал довольно просто мы строим из них конвейер которые мы гибко меняем в том числе в ран тайме там когда какие-то инциденты происходят и у нас общий вся его кол в принципе как бы мне кажется что это одна из важных составляющих здесь нерешенные проблемы для нас по крайней мере это of the discovery сервисов и и канторович менеджмент то есть например если там ну авто из кореи много разных проблем решает в частности у вас там сервис поднимается ваш балансировщик нагрузки не знает поднялся он или нет там доки пятницу одну это считается что ваш контейнер поднялся значит сервис работает ну однако это не всегда так общем такого рода вещи и мы жмем конфигурации сейчас у нас отдельный с этим довольно неудобно работать хотелось бы сделать его совместном и мы смотрим пристально на эти сидит в этом отношении ну и теперь korg вопросам да то есть с чего мы начинали у нас была команда из windows разработчиков они все были довольно сильными и как-то хотелось двигаться в сторону linux мы начинали смотрим семинаров как вы помните мы разрабатываем для по для мобильных приложений поэтому у нас есть овес разработчики который на маках сидят мы их привлекли вот ну и стали рассказывать про вот эти технологии которые будем внедрять и что важно про какие-то частые ошибки которые возникают при использовании этих технологий то есть вот я примерно вам перечислил их на самом деле довольно легко в интернете когда выгулять и common pitfalls кассандра вот они там все будут понятно что наши внутренние семинары они часто опаздывали эти шишки мы набивали сами к сожалению ну и в целом что хочу сказать windows разработчикам очень нравится linux и они с удовольствием изучают так что это круто ну и что вам первым внедрили это были различные средства аналитики для метрика логов для мониторинга то есть мониторинга на всех есть но за биг си метрики собирать отображать графа налоги и тарелка с так завтра будет докладывать нашего коллеги про то как установить и лукас так и сколько это стоит вообще и что позволяет делать какая крутая аналитика налога сейчас возможно и здесь важно что что нас все команды используют вот этот общий общей стяг для метрик логов мониторинга все остального от сближает вот так примерно выглядит процедура нашим высоком уровне у нас нет сейчас команд который работает только с linux милитари только с microsoft а у нас все команды поддерживают сервисы и того и другого вида и в принципе это круто то есть на удивление хорошо получилось и если раньше мы переживали о том как там нанять людей которые будут с нашим и красота какие продукты поддерживать в то все время использовать какие-то новые linux решения то сейчас мы не переживаем мы нанимаем и таких таких ну и что дальше на к софт linux такое мы собираемся какие-то из наших сервисов переводить not do not care запускать их под линуксом докером мы собираемся запускать наши виндовые серверы под windows windows докером в windows server 2016 хотя там тоже довольно дороговато но тем ни менее ну и в целом то что microsoft поддерживает все эти инициативы это у нас тоже радует ну и в целом я свой доклад закончил этому можно переходить к вопросам 1 раз привет меня зовут артур значит вопросы следующие в итоге с мигрировали ли вы с мск или на пол игре потом фреймворк какой выбрали для архетипы роста и какой инструмент выкладки использовать спасибо за вопросы так ну начну по порядку с мигрировали мыса mascot или нет то есть новые сервисы мы и теме пишем с использованием мск или мать и не менее у нас много довольно транзакт искали логика которые там в недрах мск или сервера крутился но мы вынесли самые высоконагруженные сервисы им оказался кстати корабля потому что он использовал и маской для хранилища очереди заданий орлов и всего остального ну и то есть мы снизили нагрузками мы искали сервера перешли на более низкую версию дара дешевле но нас так и остался на сколько второй вопрос про мер для нашего че ты теперь до каком языке но у нас используется либо пиаре и овен вот в принципе нас очень радует то что там есть например вы получаете на гипса с лагером он делает автоматически swagger файл по вашему куда то есть авто описание вашего сервиса ну и то есть по крайне мере для нас на это перейти было очень просто ну и проблему своей странице производительностью они были поначалу но мы там что-то заработали напильником потестили и их не осталось то есть целом мы не ощущаем разницу между вы sief am который у нас был и и чтить и который настал так и 3 грамм спустите continuous integration нато к сожалению больной вопрос потому что я уже говорил у нас есть linux и docker и там все казалось бы круто и можно специализированное решение для докер использовать но к сожалению у нас вот еще есть windows и мы как-то это не можем совместить приемлемо поэтому у нас есть как это модно называется императивная оркестрация батники до которые у нас запускаются истин сити дженкинса который deployed наши windows сервисы и там же сейчас прикручены докер хороший образ тем сети чонкин потому что мы сейчас в процессе перехода с одного на другое steam сити на дженкинс еще вопрос про лсд добрый день савченко евгений мне тоже несколько вопросов от 1 вы говорили про дороговизну решений на windows а вы пробовали получать партнерские лицензия ну как вы думаете почему мы собственно перешли я завяжу в совхоз вот когда кончились промоушена майкрософта тогда-то мы и перешли да ну пробовали разные партнерства красавцы тот же есть qu'elle про который вы говорите он сейчас бесплатный для разработчиков df версия ну да естественно но как бы мы сейчас говорим о продакшене нашим январь месяц то есть мы там не можем версии для разработчиков запускать это да но с партнерскими лицензии можете ладно это отдельный вопрос 2 2 - принципе вы уже ответили спросить почему перешел переходите сижу до то есть грубо говоря у нас была программа без spark которая все это дает я не знаю 3 бесплатно 3 за копейки на 3 года все закончилось до 4 годы прошли мы пришли мы решили срочно оттуда избегать имен так и вот в принципе все такой небольшой совет попробуйте visual studio team services для континента гришин очень удобно вещь противоречивые сведения выступает ну хорошо посмотрим скажите пожалуйста вот в брошюрке писали под то что вы пробовали монна да для скоро что для продакшена это пока пару лет еще нужно ждать ну как сказать в целом главное наша проблема с моно и здохнуть core была в том что но наши windows service и было сложно них портировать у нас довольно такое глубокое дерево зависимости в котором где-то там внизу еще какие-то и журавский библиотеки прикручена поэтому перейти было сложно тем не менее для новых сервисов мы применяли этот код запуска лето по линуксом и все круто все работает промо но сейчас не могу ответить почему конкретно у нас ничего не получилось вот примерно так еще вопрос сейчас разрабатываете вообще носи шар или вы только поддерживаете те сервисы которые были хороший вопрос в целом сишарп нам нравится то есть до разрабатываем на сишарпе например нашего таза система аналитики для publisher of она там внутри себя имеет кассандру spork-и все остальное модное тем не менее какой-то frontend у нас написан на сишарпе потому что у нас есть sharp команды они любят этот язык в целом да еще используем распределение по количество команд количество человек ну мне сложно сказать то есть у нас есть несколько команд например команда нлп обработки естественного языка они все практически research are и пишут на бетоне команда инфраструктуры они вот занимаются нашими переводом на и джинкс и то же в принципе всякие открытые решения на базе linux строит то есть наш шарф на самом деле только сишарп разработчиков у нас осталось процентов 30 вот все остальные совмещают спасибо спасибо за доклад вы сказали что вот windows server 2016 ходят с контейнеры docker бла бла бла вы чуть пробовали перенести в контейнер конь windows server взять погасить виртуалка в хай первий сказать shadow сказать докер ран и все заработало также как и была такой был у вас опыт нет вы пробовали хотя бы поэтому мы ждем такие люди вообще существуют ну не знаю мы пробовали dot net core и запускать прагин uxom и все получилось на потому что у нас был новый сервис который маленькие мы с вами записали специально подобное от коры все завелось а вот наших больших монстров которые первоначально писали с windows и жирами и всем-всем-всем пока что нет ни по воле маркетинговые статьи от майкрософта говорят что есть какой-то специальный инструмент который тебе выхода жку из харькове противо сразу в контейнер можно будет попробовать на его сам боюсь просто хорошо мы планируем этим заняться me на раз нет ли проблем с одновременным администрировать и windows и linux серверов как сказать нет в принципе наш и devops и и админы они такие мустанги повезло вам вот вы еще сказали что вы мигрировали в после ел вас батюшки большие вообще секретный секрет батюшки большие но там терабайт и мигрировали не все пока что но большая часть кассандра то есть нас ушла большая часть данных по объему то есть подгрести на самом деле у нас довольно мало логики и гладенько прошло да вполне так хорошо не жалуемся в целом много где пришлось пересмотреть архитектуру понятно что соску или мигрировать на новую сказать довольно не просто но тем ни менее там где это возможно и там где у нас вот наибольшая нагрузка это получилось а какой-то прирост производительность вышел или просто бабосиков сэкономлю итоге бабосиков сэкономили то есть при росте производительности тот нет речь не идет об этом странный вопрос можно вот сколько человеко-часов это заняло чтобы вот потому что ты переписать что ты переделать мигнуть честно говоря это сложно сейчас путать цифры с неба вы не могу сказать потому что у нас видите много проектов они все них было разные расписание миграции что там и ну и миграция на в основном задевал для того чтобы добавлять новую фичу как-то дальше развивать то есть мы не просто говорили что переписываем ради переписывания мы говорили что вот мы хотим такую новую фичу и мы ее сможем сделать только на новой архитектуре и вот под это все и переписывалась поэтому сложно сказать сколько человеко-часов заняла именно миграция ну и кроме того секрета в том что мы вскоре нас остался и самое то что мякотка которую сложно мигрировать мы ее не перенесли потому что ну там лес дремучий это сложно пока что не перенесли еще вопрос можно да здравствуйте скажите у вас сервис и windows сама не по да и сам запускаются если такие такие а если те которые под ее сам как их добавить в discovery если пока на них не приходит к ттп запрос какой-нибудь они не поднимаются не знаю ну то есть пока пока ты туда что-нибудь не запросишь она не работает да не могу сказать и как за whiskas я из отдела персонализации у нас все сервисы бизнеса поэтому не могу вам ответить спасибо так еще один вопрос по поводу миграции стекло на пузыре такая больная тема пожалуйста по поводу разработчиков баз данных то есть вы нанимали новых для повара или переучивали тех старых возможно уже переучивали до админы у нас то есть хорошие все знают разработчиков да хотелось переучивать целом но и я думаю что шишек мы еще набьем в принципе мы могли бы мигрировать как сначала найдите потом entity приключается прогресс и вроде бы все должно работать но мы так не могли сделать потому что у нас много вот там записка или всякого махрового на entity точнее на ну принципе видел позитивный опыт они все получилось не знаю спасибо за доклад я вот не очень понял вы новых разработчиков берете которые есть шар узнаете питон или все-таки и второй вопрос вот там был слайд про графа ну и график приор именно и от 90 до то силы на график любопытный вообще график обычно такой называется а здесь мы включили кэш но нет это мы не включили кэш это если не ошибаюсь мы в нашу сишарп привнесли немножко питона но не буквально метафизически то есть у нас были там какие-то 500 списков и мы их заменили на 500 генераторов и все стало быстрее состава здорово холивар сие здесь хотел сказать забыл упомянуть что при выборе этих средств важно остановиться на чем-то и сделать какой-то выбор то есть потому что там можно бесконечно обсуждать что лучше графит или им flags и там у вас будут разные мнения разные команды будет спорить тогда ли тому подобное вот мы решение все-таки зафиксировали и это плюс и по поводу найма то есть до 3 года назад мы думали что же делать мне мать и питоны сишарп и как быть и вообще и где таких специалистов искать сейчас мы нанимаем и тех и тех то есть у нас сейчас основной офис находится в канаде и там все sharp разработчиков особенно в области естественного обработки естественно языка и на и искать довольно сложно а не приходится сначала или с питоном ну и раньше мы не могли их нанимать и думали ну пин куда тебе такого сейчас всякий мод еще возможно вот почему раньше чем он вас привлёк где внесло это снова я просите почему раньше сложно сказать ну кто-то выбрал кому-то логотип понравился до корова красивую ой там можно кликать можно сервисы он рисует всякие графы между сервисами делает балансировку и вот на 100 порадовала принципе он сейчас у нас работает продакшне проблем с ним особо не было а вы часто релизе здесь что насколько часто вы релизе тесь но у нас микро сервисы независимый релиз релизный цикл поэтому до часто то есть каждый день разные сервисы и plain у вас какая-то команда инженеров catalyst инженер есть или просто разработчик заметил такой думай дай-ка я выкину это на продакшен нет не так у нас есть админы они же devops и и они нам diplo этими продуктами таки это чудо люди у вас видимым да согласен они у нас на аутсорс и более того и возможно им нужна реклама так что можете обращаться спасибо тут спросили про ранчо у меня вопрос вы его используете как из коробки или поверх губерн это swarm языка потому что вы смотрели на это сиди видимо вы нет мы не используем cabernet из мы используем его из коробки то есть еще в принципе спасибо вам за внимание"
}
{
  "video_id": "5PcmBdfGpOo",
  "channel": "HighLoadChannel",
  "title": "Что такое GitOps и почему он (почти) бесполезен / Олег Вознесенский",
  "views": 4325,
  "duration": 2317,
  "published": "2023-01-19T05:55:16-08:00",
  "text": "меня зовут олег и я рад всех видеть коротко о себе давайте индустрии я работаю большую часть своей жизни и ну примерно последние шесть лет из нее я занимаюсь тем что называется devops но он то есть в красный армия менеджер и сегодня я бы хотел рассказать про youtubes вообще сама концепция detox была представлена в 2017 году seo-компания wave works alex m ричардсоном на ставшем уже легендарным кубком и для того компания в форкс это достаточно большая взрослая компания которая но в частности в двадцатом году привлекла больше 36 миллионов инвестиций под развитие своего гипса и для того чтобы показать а что такое guitars а зачем он нужен она я сделал ряд слайдов которые мы демонстрировали развитие инженерной мысли войти индустрии которая была посвящена развитию до мысли в области управления инфраструктуре конфигурация инфраструктуры войти индустрии но сам по себе от тянуло на отдельный доклад поэтому я их выделил но некоторое количество слов нужно сказать хотя бы чтобы синхронизировать понятия и так самой перспективной самой многообещающей концепции создание инфраструктуры на сегодняшний день является им это был infrastructure в чем смысл мы делим нашу инфраструктуру на две части первая часть stateless мы создаем инстанции это я отчасти в каком-то облачном окружение с базовых имиджей и делаем инстанции и mouth обильными и эдем патентами то есть они не накапливают стоит и не меняют своего своей работы в зависимости от накопленного стоит а они могут содержать какие скрипты и ассеты вот но весь стоит который я предназначен для хранения они хранят в стоит участие стоит участь мы можем делать по классической структуре с выделенными серверами ли при помощи каких-то облачных механизмов одета бейся за сервис объекта или будут блочное хранилища и для того чтобы со всем этим добром управляться нам нужен коллаб орешин между инжиниринг и об steam и полностью автоматизирована и диплом доставки pipeline доставки автоматизация pipeline of доставки у нас реализуется при помощи себя систем вообще сам термин seo и в девяносто четвертом году предложил грейди буч а в девяносто седьмом кенди кит иран джеффрис ввели его в дисциплину экстремального программирования вообще в чем суть все в рамках мы должны интегрировать наши изменения как можно чаще в мастер бренч нашего проекта ну раз нельзя просто взять и побежать код надо его хотя бы сбить что понять что ничего не сломалось и неплохо было бы покрыть еще тестами на и именно вот эта вот задачу выполняют свои системы которые прошли долгий путь развития и где-то посерединке этого пути они превратились вся сиди системы что такое сиди а тоже мартин фаулер различая сразу два сидят и continuous delivery когда при помощи devops калача и какие-то грешен вы держите мастер граничного проекта постоянно готовым к тепло и на продакшен и continues deployment это continues delivery плюс все что попадает на мастер выливается у вас в ваш кластер ваш production да ну соответственно continues delivery включает в себя конденсат и creation от очевидно я думаю к сожалению именно был инфра страх я не лишена недостатков и блины и часть она унаследовала от концепции инфраструктура как вот это всем известный configuration дрифт когда не все изменения она инфраструктуре делаются в рамках вашей системы управления конфигурациями что делать вручную чем больше ручных изменение тема большая система ник ассистента тем больше накапливается дрифт и это порождает спираль страха автоматизации когда чем больше вы делаете вручную тем страшнее вам запускать вашу систему управления конфигурации чтобы она что не поломала и все это приводит к образованию так называемых серверов снежинок то есть серверов которые стали настолько не консистентными что уже никто не понимаю что внутри но в рамках его то быстро страх я вот этот дрифт он выходит из серверов на более более высокие уровни и сейчас мы уже можем говорить про ну скажем губернатор кластер снежинка все потому что на имел то был infrastructure нерегламентированной аминта ция изменений да никто не знаю как это правильно делает и тут появляется компания в форкс и говорит ребят у нас есть то что вам нужно гид abs для пиара detox они привлекли такого тяжеловеса какао classic уверенность our двоих хайтауэр который как бы говорит нам будь мужиком блин стоп скриптинг and start shopping и выдали некоторое количество маркетингового буш и бинга я посвятил наиболее интересные части это улучшение консистенции стандартизация дипломов улучшенная гарантии безопасности простое и быстрое восстановление после ошибок а более простое управление доступом и а секретами сама документирующие ся диплом и распределение знаний в команде sharing и каждый кто пытается разобраться что такое гипса натыкается вот на эту картинку до китов с в одном слайде а здесь сказано что гид это единственный источник правды гид это единственное место где мы оперируем всеми окружениями создаем изменяем уничтожаем и все изменения обозреваемые и верифицированы но знаете такое сферическое описанием в вакууме поэтому мы продолжаем и достигнешь она находим а сайт github встреч и там сказано что github это инфраструктура какой-то детей плюс continues delivery турин который белль имитирует наш кластер в рамках и tops мы имеем как минимум два репозитория trip историй приложения и инфраструктурной репозиторий и пул основанный подход он приоритетнее чем уж основанный и если github цитату link вполне разумно взять touring который реализует гипс и на его примере разобрать концепцию и это будет flux от компании waves ну я думаю авторы идеи должны были сделать эталонную реализацию и flux сейчас дорос уже до второй версии и он состоит из контроллеров его функционирования на схеме выглядит каких-то вот таким вот образом ну как бы ничего не понятно но на этой схеме ясно что flux может работать с холмом и дальнейший рассказ я буду как раз продолжать с этим кейсом flux с холмом почему потому что согласно опросу фонда сеянцев от 2020 года hell являлся самым популярным пепе джинка причина для купер нас а вот к сожалению нашел более новое а просто но не думаю что что-то сильно изменилась тех пор вот кроме того на прошлом devops на прошлой конференции елки как flight порвала я делал доклад погружение в таких менеджер и желающие смогут ознакомиться с ним по ссылкам ссылка на презентацию год в конце доклада ну то есть якобы шарю в этом добре и так давайте пройдемся с workflow fluke s2 с холмом а у нас есть два репозитория это репозиторий applications и инфраструктурной репозиторий из-за репозитория приложения мы делаем him чарт аду крепящий раскладываем их в нужные места на ли у нас есть хелм у нас есть уверенность кластер в котором крутится некоторое количество фруктовых контроллеров для того чтобы за релизиться мы создаем а я блэк с описанием кастом ресурса hill релиз и кладем его в инфраструктурной репозиторий чтобы дать его hill ну мы описываем кастом ресурсу внутри кабинок глостера git репозиторий source control или вы идет и скачивает это блэк для того чтобы добавить а за тепло и чья блик в кластер мы описываем кастом ресурс кастомизация оставаясь контроллер идет к source контроллера уберет я блэк эдип ловят его вопреки шоном space him контроллер видит что появился сам релиз идет сэр с контроллера вы говорит о дай мне сил чарт пожалуйста и чтобы source контроллер мог дать какие обрели схем контроллеру hell hell контроллеру мы описываем кастом ресурсы hello my репозитории him контроллер получает chart генерирует релиз тепло это его вопреки шинам space повернется идет в registry скачивает имидже и мы получаем как бы наш приложение с deeply in a и чтобы сделать новый релиз мы повторяем все вот этого дела и чтобы картина была закончена и мы ставим где-то на этих песен контроллер который я извещает нас о том что вообще могло пойти не так в нашей схеме а сейчас пройдемся по кастам ресурсам которыми а период flux первое это git репозиторий здесь мы можем указать адрес git репозитория и веточку куда он смотрит то есть мы не скачивать весь репозиторий мы скачиваем конкретную ветку но мы ответственны инженеры мы за зиру и трасс поэтому закрываем git репозиторий доступа my и даем flex у секрет что он мог туда ходить далее кастомизация вообще кастовость контроллер от флюкса и оставаясь от авторов губернатором на тепло системы это две разные вещи поэтому ну а я бы не знаю странный нейминг не путайте пожалуйста кастомизация это способ сзади площадь комплекса git репозитория в кластер здесь мы должны указать source откуда мы это ставим папочку из которой мы берём яблоки и можно указать торжественным space она куда и деплоить следующий hill релиз а здесь мы можем указать имя версию chart некоторых количество выльются для того чтобы him релиз кастомизировать от окружения к окружению это очень хорошая очень нужна функция потому что январь это у нас а могут отличаться да и source откуда брать наш кем чертик этом случае тахион репозиторий но мы ответственны инженерам из азерот раз поэтому за обмениваемся в репозитории даем flux у секрет для того чтобы он мог туда попасть и так разделом небольшой чек-лист для того чтобы зафиксировать а то что мы сейчас проговорили и так для того чтобы начать делать git abs мы должны внезапно подкрепить при всего мы должны создать скрипт для сборки пуша и magic doctor registry далее нам нужен инфраструктуры git репозиторий аккаунт для доступа себя система туда и скрипт для генерации пушек и набрили из файлов инфраструктурной репозиторий потому что но мы помним имеют оба infrastructure то полностью автоматизирована pipeline их доставки нам дали нам нужен репозиториям аккаунт для доступа систему туда скрипт для сборки републикации him черта полностью оптимизирована и pipeline и ну и соответственно нам нужно создать аккаунт а чтобы пустить флюкса вот в наши сердца и так посмотрим что вообще у нас получается вот наш ел в релизе к вполне очевидно что он ghede в данном конкретном случае не может быть единственным источником правды потому что у нас по крайней мере 2 ресурса два артефакта в никита от которых этот hill релиз зависит это ахилл чарт и дакаре image причем мы можем делать вот такие вот фишки на мы можем указать диапазон версий кем черта и службу следите и устанавливать новые черты которая появляется в рамках этого риджа кроме того source контроллер у нас может работать в том числе с 3 бакетами а то мы можем оставить ее я блики и hill черты кроме того у нас есть имидж автомашин контрольно в которое которые могут следить за докер регистре на счет появления новых имиджей и править инфраструктурной репозитории но как бы мы не хотим делать съем репозитории огс мы хотим быть github суда как можно более detox поэтому смотрим документацию и правим на github со меняем detox на git репозиторий и это будет git репозиторий приложения откуда мы диплом чертик но соответственно заводим git репозиторий даем flux у секретик для доступа туда и правим наш чек-лист но зависимость от ада crime ja остается это очень тяжелая зависимость потому что вопрос повторяемости сборок докер имиджа это на основной вопрос один один из основных вопросов и но как бы в рамках гид abs я не нашел способа положить других git репозиторий и на мой взгляд это одна большая фундаментальная проблема все концепции которая очень сильно нарушает ok идём дальше вот наш тел в релизе допустим мы катались в df протестировали все и хотим а выкатиться встреч на каким образом мы можем это сделать у нас detox поскольку мы хотим использовать git experience ну грубо говоря по magic de встреч но мы не можем это сделать в такой конфигурации him релиза потому что ты же у нас другая база а что у нас detox говорит по поводу управления окружениями как этот говорит а давайте у вас будет всего одно окружении вы не будете маяться дурью да не знаю многих одно окружения guitars похоже тоже не уверен поэтому говорить но если вам очень нужен multispace сделать это где-нибудь в рамках вашей соседи из системы вот и мы уходим думать да перебираем варианты с это с abs то и находим вот этот вариант в или us from то есть в спейси нашего окружения может быть конфиг модели секреты лимане сколько их и из них съемка тролли может взять в и льюс и кастомизировать наш кем чарт и нам это нравиться мы даже делаем отдельный съем чарт в котором делаем конфигурацию всех наших микро сервисов гордо называем это единой точки конфигурации платформы до профессиональные и правим наш чек-лист диплом добавляем туда создание дипломе профиля а потом происходит следующее у нас появляется несколько кластеров кубер notice и приходит к нам коллеги говорят а давайте мы еще одного конфиг могу запилим и там будут кластер специфичные вели весну например имя кластером суффикс ingresso да и создавать этот конфиг map мы будем тира формам вместе с созданием кластера и когда это случится вам нужно взять аргумент поувесистее и последовательно объяснить коллегам всю глубину и падение потому что в данном конкретном случае конфигурация вашего приложения будет зависит от 4 репозиториев и двух систем тепло и и мой вам совет если вы хотите она завязываться новые леспром ваших волосах ваших конфирмат и должно быть всего одно значение имя январь мента куда вы делитесь все остальное должно делаться во внутреннем chart магия филма и в своем докладе я расскажу когда рассказываю как это делается следующий момент а вот обрели зик да здесь строчку который быть не должно пароль от базы данных а что нам говорит detox по поводу управления секретами detox нам говорит никогда не храните ваши пароли открытым текстом а вы git репозиторий что может сказать спасибо кэп следующем что предлагает нам detox а давайте говорит вы будете генерировать ваш парочки рандомно при создании окружения и все объекты которые требуют парольной защиты вы будете делать на основе этих пар очков таким образом порой никогда не будут выходить из 2 армен то и все было стикер на все будут довольны но хорошо конечно но уроки не знаю и скальная базы допустим находится в губернатор или там кросс plain установлен ну не знаю не уверен поэтому читаем дальше и видим следующие подходы а давайте вы будете использовать турингия типа пятнами силе c-creds или mozilla соуса когда мы делаем открытый ключ а открытый ключ и закрытый ключ а закрытый ключ от записан в кластер открытым ключом шифром наши пароль чеки ложим комете в git репозиторий и на моменте тепло и какой-то на touring внутри куба 1 провод это и дает приложением а записывать этот пароль чик этот ключик кластер наша будет специально обычный of guy чувак из коммодор вот ну окей это выглядит наиболее релевантным поэтому за об этим наш чек-лист и давайте подумаем в широко известным в узких кругах тестили молчали 32 вопросов к вашей команде сисадминов но у старенький но и еще актуальный тест есть например 31 вопрос можете либо отключить учетную запись пользователя во всех системах за один час вот ваш он сговорился на и если ваши кластеров интернета с не путай единой системой аутентификации и авторизации вот вы должны поскакать по кластером не забыть и поудалять его учетную запись на следуй вопрос может ли 8 и привилегированные root пароль и за один час вот этот секретный ключик который ваша мозга и записал в классе губернатор и то есть тот рутовый пароль и для того чтобы его сменить его вы должны сделать определенные действия да вы должны вынуть ключ из кластера расшифровать то что у нас в git репозиторий сделать новый ключ и записать в кластер зашифровать пароль и закомитить провести по релизам у циклу и сзади плавится при чем мы должны это сделать в определенном порядке потому что у нас асинхронный модель да и любая неосторожный выход может превратить ваш informed в тыкву и отказались не поможет что касается hardcore болт и я не нашел здесь единого мнения но как бы зрения банальной эрудиции рыжков volta делает гид еще более не единственным источником правды и очень сильно выбивается из концепций detox ok в рамках пиара китов с концепцией форкса очень часто называли классический seo abs когда у нас все делать себя системой устаревшим подходом и анти паттерном почему потому что она в рамках гид опция мы можем выделить стоишь тепло и соответственно защитить ее более чуткими управлять в рамках хеопса встреч тепло и он как бы часть такого монолитного pipeline а дома и из этого возникает ряд недостатков да и мы сейчас их разберем но если у нас battle гид abs версия псто я бы хотел выбрать бойца со стороны себя систем и гид лап я выбираю тебя нет лапы the pipeline капот то есть ваш чай кот лежит в том же репозиторий что ваше приложение на этапе nailite от система то есть а у нее есть свое мнение о том как а лучше дела тепло я и на самом деле это хорошо в сравнении с тем же дженкинсом который я превратил сейчас мы фактически в помойку плагинов вот кстати вы знали что проблемы beetle оба это не лисичка японские над тануки или интересный факт правда так вот первая проблема плохая безопасность типа в рамках гипса у нас в рамках у нас вся система и разработчиками полный доступ к цепи и это не secure на а в рамках гид abs у нас асинхронная пул исполнитель которому нет непосредственного доступа и это сильно повышает защиту системы давайте поставим flux и посмотрим что там по безопасности а по безопасности по умолчанию flux дает плат право кластер админ всем своим контроллером но очевидно это не очень северном а думаем как за отменить и находим статью молчит и нэнси то есть многопользовательский использования флюкса генерим теннант и видим что сгенерировался namespace и контроллеры а флюкса получает кластерами на на этот namespace причем только один контроллер кастомизация контроллер для защиты hill мы контроль съем контроллера а flux рекомендовали использовать каверна а сейчас предлагаю какой-то странный механизм с починим дипломатов чтобы он все-таки начала подхватывать сервис аккаунта из нас есть куда не плавится но как бы давайте подумаем до у нас две схемы синхронная push модель и асинхронная пул модель и ну какая из них безопаснее при условии что они обе имеют скажем админские права но это риторический вопрос потому что админские права есть админские права но даже если мы ограничим инфраструктурная право они имеют примерно одинаковые доступ и доступ к паролям qwerty снятом данном и могут навредить и как бы если посмотреть сбоку на проблему вас есть git репозиторий в первом и во втором случае в которых есть кот программный аппаратный который работает на вашей инфраструктуре и наверно единственный способ пресечь все злоупотребления здесь это контролировать то что попадает к вам гитаре по истории и в ки-клаб есть механизм наши квест approvals правда но только платной версии нового платные вещи только часто в git лап превращается бесплатно достаточно быстро вот в чем смысл а вы не сможете померить свои изменения в рабочую ветку ваших вашего репозитория пока нужное количество коллег не про смотрит ваши изменения и не поставит ok и вот это вот в разы на порядок поднимает безопасности больше чем разница между пулы плох моделями далее сложно откатиться way for clothes говорят что вся система не предназначены того чтобы быть единственным источником истины мы все при работе с системой не можем определить что у нас за тепло и наш кластер дано что откатываться вот в рамках гипс у нас есть инфраструктурной репозитории которой синтеза с инфраструктурой поэтому ноги treverk откатились все хорошо давайте посмотрим давайте подумаем detox покрывает только стоишь тепло и но поскольку гид не может являться единственным источником истины про откат мы должны думать нас той же а билда наших артефактов кроме того goflex есть все чтобы затруднить откаты или сделать их вообще невозможными ну например мы можем хреново тегировать докер имидж на назвать докер имидж по имени ветки из которой мы его собираем 0 мы можем использовать диапазон версии him черта а если мы используем him чарты из репозитория приложения нам возможно потребуется откатить репозиторий приложения чтобы откатить наш инвар mind кроме того не забываем про внешние зависимости в или устроим который тоже возможно придется откатить и следующая проблема увлекся эти рекомендации по организации инфраструктурных репозиториев например монна репо когда в одной веточке в разных папочках у нас а лежит инфраструктура для всех наших окружении на откатывали production откатили стендинг внезапно или например репо перте и здесь нужно быть очень внимательным при откате до чтобы не зацепить лишнего что же касается сиай abs гид лап может быть единственным источником истины дятлов есть а так называемых механизм инвариантов когда мы стоишь тепло и помещаю поими новым как инвар мин и видим а его состояние фа треккинги informed of треккинги окружений какой pipeline а с какой ветке с какого коммита выкачан да кроме того у нас есть визуальное отображение pipeline of на где мы можем увидеть что туда каталась и прошли ли эти информанты и откатиться прошли ли эти 100 и джей откатиться на нужный стейдж на при том как его инфраструктурным репозитория мы не понимаем вот этот комитет выкатился или не выкатился у нас вот кроме того мы можем сохранить докер имидж как артефакт в pipeline сделав таким образом pipeline атомарном и вот это вот действительно будет единым источником истины следующем проблема сложно распространить на несколько кластеров ну типа в рамках а вся система нам нужно скрепить скрепить скрипте тя в github сам и просто ставим flux у новый кластер даем инфраструктурной репозиторий раз и наш приложение уже в новом кластере ой так давайте подумаем вот нашел в релизе у меня при взгляде на я съем релиз а возникают два вопроса первый вопрос откуда приложение взялось где плен и его репозитория где-то малаги тестирования с какой ветке вообще какого к метана вы ключ выкачан а на следующий вопрос а куда приложение развернуто сколько flux of каких кластеров смотрят на вот этот инфраструктурной репозитории тянут оттуда конфигурацию на первый вопрос мы можем ответить out of готов скоб написав правильный скрипт пуша съем релиза который в коммент место же было до допустим коммент мест записывать всю нужную нам информацию на 2 вопроса flux предлагает так называемый механизм bootstrap а когда мы создаем инфраструктурной rip историй для управления конкретно флип сами и перед установкой флюкса в кластер мы как бы всей африке инфраструктурная записываем туда и когда нам требуется подключить там git репозиторий и к оставаясь на новой инфраструктуры репозиторий мы как раз к метим пометим его в этот инфраструктурной репозиторий которая называется flux флит в документации флюкса вот и таким образом у нас есть весь список всех наших кластеров и а ну всем доступов и это работает прекрасно пока не случается каких-то ручных операций до в рамках оси ox ну то есть вот тогда ваш взгяд он уволился и допустим есть где-то класть руку bernette оса в котором он поставил flux и дал ему вручную в обход fluke slide репозитория ваш инфраструктурный репозиторий и если вы забили на отзыв доступов и при генерации ключей вы можете об этом никогда не узнать поэтому вот этот пункт создание flux плиты репозитория и bootstrap флюкса в кластере я бы порекомендовал записать нулевым стрижем в наш чек-лист потому что иначе вы получите тайные знания до которая ну просто никто не был знать что до устья система все системы можем объявлять в гипсу авгит lab мы можем объявлять перри используемые куски кода и когда делаем новое окружение мы можем наследоваться от этих кусков кода объявлять какие-то дополнительные переменные в данном случае на кластера относительно которых менять функционирование наши скриптов или таким образом deep ловится в новое окружение и получать автоматический трекинг их вот но эти два пункта они наверное порожден и скорее скорее маркетинговыми соображениями чем техническая дисциплиной но я готов обсудить их в кулуаре а если кому-то будет интересно подходите так вот взглянем еще 1 раз на нас на наш чек-лист чего не хватает они хватают нам господа нотификаций потому что у нас асинхронная пул модель и что вот этот исполнитель доделает нашем кластере нам абсолютно непонятно и нужно об этом позаботиться дополнительно запишем инсталляцию notification контроллера в наш чек-лист и давайте подумаем вообще большинство как бы вот эти вот пунктов они как бы out of bed of school но мы с вами опытные инженеры и мы понимаем что без этих пунктов конкретно мы не можем делать detox а что у нас а насчет а сердце до в рамках сердца нам не нужно делать вот эти вот куча дополнительных телодвижений для обеспечения функционирования tops нам нужно просто создать скрипт со сборки публикации доктор образа добавить оттуда тепло и съем релиза через допустим холма adeline да и создать аккаунт для доступа себя система кудрина цз при этом лишенные иллюзии что это защищена на мы подойдем к этому ответственно при этом мы получаем встроенный интегрированные доки реджис 3 встроены работы с окружениями встроенную работу с секретами встроенную на дефекацию выполнения стали папе лариной кучу интеграцией нам вообще-то здесь нужно на 0 путь научиться пользоваться системой но в рамках этапа все равно придется это сделать да потому что github не покрывает все наши потребности окей пройдемся по нашему маркетингу bull sheet бинга и так улучшенная гарантии безопасности здесь наверное большой незачета автором идеи потому что на мой взгляд но это большое преувеличение на введение в заблуждение простой и быстрый откат только если это хорошо спроектировано причем out of кита псков да в рамках готов сможем сделать откат невозможным более простое управление доступа me ну вообще доступов надо больше и надо больше движений по управлению доступа me поэтому ну не знаю скорее минус сама документирующие ся диплом и раза шеринг знаний в команде только если это хорошо спроектировано в том числе out of guitars сковав по умолчанию github сорвет ваш pipeline и порождает тайное знание что забыли забыли улучшения консистенции consistent насти и стандартизацию ну поскольку в detox у нас асинхронный пул исполнитель который постоянно нашей инфраструктуры по истории стинг с кластером поэтому он следит за тоже затем чтобы систем было континент на и да он на flux будет постоянно возвращать ваш схем релизе которые вы из инфраструктурного репозитория deep лейте вот но ему абсолютно наплевать на hell в релиз который сделан на релиз на который сделан вот поэтому hill релизу вы можете делать вообще все что угодно с этим релизом там сносить менять от тепло яду тепло и съем реализован инфраструктурной репозиторий flux у на это плевать и я не понимаю почему так это на мой взгляд а делает идею асинхронного пул исполнителя ну практически бесполезной кому может быть нужен готов по моему скромному мнению первый кейс у вас а не относись сиди система либо у вас много соседи систем нужно оставаться либо у вас облачная система короче ваша соседи система не может тепло и хорошо да следующий момент вы сделали все вот эти вот телодвижения по фильтрации изменений в детей out of гитов скоб и гита поможет вам поднять изоляцию соседи система и действительно повысить безопасность решения следующая большая нога манерная платформа которая тестируется тепло из как одно целое он мы разрабатываем разрабатывал разрабатываем в df спринт вешаем т.к. там отдаем девелоперов к этим провод ну такое тоже может быть и есть некоторое количество процессов которых пулу модели имеют преимущество над push например канале deployments когда мы имеем очень долгие тепло и там постепенно и переключения перебрасывание клиентов 1 с одной версии на другую да здесь концепция вполне себе хорошо работает так что же такое detox для любителей точных формул by the option to continue с delivery минус continue с дипломом то есть это не continuous delivery концепция это тепло in концепция на это попытка взять вот этот стрижек и за вся система и положить его в git но из-за ограниченности концепции она имеет слишком много проблем слишком много вещей которые нужно делать out of github скоб а соответственно придумывать какие-то свои костыли и велосипеды и на мой взгляд она не дает какого-то существенного преимущества перед хорошо организованным 7up с процессом и на мой взгляд а китов стул и многие кто встал и это понимают например а github и дженкинс x они как бы guitar сдают в нагрузку к сборке имиджей да но дальше всех а пошла вверх от компании флант они придумали свою концепцию и назвали гид термини зм типа многие топ с ней идеально вот kermi nismo да это расширенная концепция и она очень интересно вверх ну она покрывает как бы все все наши соседи и даже немножко больше и но на мой взгляд это просто шеринг best practice крутой divorce команды такой маленький диктатор которые в некоторых можете заставить взвизгнуть из-за слишком сильного диктата и закончить свой рассказ я хочу на рассказе от tout works технолоджи радар tout works это очень крутая компания на это наверно главное визионер и devops а в современном мире это компания martin фаулера да они выпускают так называемый технолоджи радары от фактически обзор на существующие троллинге и технологии в индустрия эти и они располагают это как радар публикует как радар поделенной на секции и секции метят от hold не рекомендуется к использованию до adopt рекомендуются к использованию и в апреле 21 года гид abs попал на холод в то у творческих на лоджий радар главная претензия фирмы то у творца к концепции detox это то что из-за не проработанности перемещение кода между окружениями накапливается in warm and drift и но на мой взгляд это обоснованная критика в рамках guitars так и тянет вот давайте запретим это окружение вот на текущий инфраструктурной репозиторий повесим так в этом кластере сделаем так на остальные будем разрабатывать и потом через полгодика да у нас все кластер а разъехались и непонятно каким вообще собирать куда они ушли что будет если мы обновимся на этом все спасибо всем кто дослушал до этого момента до обещанная ссылка на презентацию и готовы отвечать на вопросы олег спасибо отлично памятные призы от конференции друзья поднимите руки и давайте зададим вопросы это не рука это он свитер надевает похоже мой доклад был исчерпывающим вопросов кажется вот смотрите человек спасибо спасибо стали бояться про это рассказывал мой доклад ну да да нельзя свою самооценку строить на том как те задают вопрос в конце самооценка строятся в общении с близкими конструктивными людьми я тебя похвалю да нет она конференции ты просто делишься тем что у тебя наболело и накопился пожалуй на мой взгляд прям вообще вот по докладу большое спасибо за доклад он мне кажется выражают общее мнение о котором все стесняются говорить потому что ну да вообще принято быть модным detox модной а чё это мы его будем ходить час но есть один вопрос просто исторически так развивалось за что у нас были раньше для управления инфраструктурой пул как раз инструменты ну там шеф popped которой все пули ли а потом появился больше push тира форман sable вот detox это опять pool а что вы думаете по поводу управления инфраструктурой ну то есть вот всяким про структурные компоненты в кубе разворачивать им отличный вопрос отличный вопрос у меня вот в этих слайдах которые демонстрировали развитием если я была слайд про и 7 систем управления конфигурациями которые начинались cf engine да через шеф и я popped которое они были порождены еще пара димой синхронизации конфигурации когда вот это вот а у нас были большие железные сервера на которые постоянно синхронизировалась конфигурация да и в конце концов это пришло к легким push инструментом дома просто раскидать конфигурацию по облачному стаду и забыть что там еда очень странно что github вернулся к полу модели и не смог ее по-нормальному использовать насчет инфраструктурных компонентов кластере все зависит от того каким образом вы используете persistent да если у вас облака если у вас ну скажем объектное или блочное хранилища вы легко можете использовать это в своей кластер губернатор с поправкой на имеют аблаев растрачено отвел фактор об на что они а там кластерной of раджа все это такое ноу до положительно при определенных условиях спасибо я нe машинкам пожалуйста олег спасибо большое за доклад отличный доклад хотелось бы спросить а в каком случае по твоему имеет смысл иметь несколько источников настроек для какой-то одной среды и вот где та грань безумия после которая тоже теряет какой-либо смысл слушать я считаю что хелм чарт должен быть атомарном да не нужно вообще ничего не нужно выделять из вашего репозитория если вы не собираетесь это переиспользовать скажем в других репозиторий в других системах то есть я приверженец man репозиториев иначе а вот этот выделение она просто породит проблема синхронизации версий до проблема versio нирования проблема версиях matching должен быть один источник 1 источник надо съем черты должны быть атомарные спасибо снижать всё для тепла и вовсе informing друзья две минуты до закрытия конференции если кто-то хочет рассказать например inside который обрел в ходе конференции сделайте это сейчас , тук не свалил отлично это значит олег твоя часть подошла к концу и твоя жизнь спи спокойно может продолжать я рад всем спасибо спасибо большая"
}
{
  "video_id": "kxqOB3ckr90",
  "channel": "HighLoadChannel",
  "title": "Мониторинг в высоконагруженных (и не только) проектах / Е. Потапов, А. Баранов (ITSumma)",
  "views": 425,
  "duration": 2665,
  "published": "2017-07-30T00:47:36-07:00",
  "text": "ноги без круга но на самом деле нужно было чтобы наш интеграл был после нас потому что идея была в том что люди очень многие живут потом чему привыкли и перейти с чего-то я пока просто поговорит и до кладбища перейти с чего-то к чему-то хорошо привык сложно куда-то дальше и когда мы стали думать про что доклад рассказать мы вдруг поняли что ну за все время рут конференции там связанных с администрированием на реке не было почему-то ни одной ни одного доклада когда вот эти две системы сравнивали с точки зрения эксплуатации да есть там graphite есть куча куча штук которые можно использовать вместе с ним и в далеком будущем мы будем счастливы griger я собираю красивые данные и видеть все это вместе но по количеству рука видели что очень много людей живет на системах которые не настолько хороши точки зрения они не данных и настолько хорошие с точки зрения будущих перспектив ну и хотелось бы просто понять даже если вот вы запускаете там какую-то новую штуку чтоб состоит выбрать есть у нас zabbix есть в другие системы есть ли у нас какие-то saas штуки как мы вообще можем для типовых задач что использовать и что будет проще у нас осталось еще две с половиной минуты две 50 секунд я могу помолчите могу поговорить расскажи кто мы друг тони знает а ну да мы-то антон баранов а я евгений потапов мы из компании эти сомма мы занимаемся глаз удачной технической поддержкой здесь темно министре раним сайтов на самом деле мы немножко 4 мм потому что мы мониторим сервера клиентов и сервера клиент мониторим вообще своими системой мониторинг потому что мы поступим по наступали на грабли системы которые все знают универ 20 под с интеграцией того как счетчики связан с оповещениями помещение связаны с дежурствами людей прошли вот эти 12 часовые дежурство опыт 12 часовых дежурств с предыдущего доклада и поняли что но это не жизнь честно говоря от 6-ти часовое искусство и живем на своей системе но понятно что твоя система довольно радикально извращения которое требует времени сил разработки и усилий по ее поддержание поэтому говорит мы будем как раз про существующие штуки которые знают все осталось 44 секунды ну я не знаю я не могу просто какие-то отдельные слова поговорить чтобы продолжение разговора али deputing собираются начинаем да хорошо куда я евгений потапов это антон баранов познакомиться мы дар коцка нас в иркутский 50 человек из них 30 человек дежурные on call админы мыса портим проект по всему миру на час больше по россии у нас получается на поддержке более тысячи серверов их каждый день посещает больше ста миллионов человек есть какие-то известные проекты есть длинный хвост небольших решений и вот у нас на самом деле в работе отличия в чем в том что нам приходят клиенты и клиенты одни живут на zabbix и другие живут на на надеваете на кактусе на графике на чем угодно и люди обычно не хотят приходить со своих решений мы ставим доплыть до свой мониторинг который нужен для работы но мы видим как и что используют в виде в других системах они на них остаются потому что они к ним привыкли иногда хочется что-то посоветовать что это используйте это нет ночи мы хотим сделать акцент она то что выбрать если вы запускаете проект ожидать на большую нагрузку на то что обществу это мониторить на проекте и нато вообще оставаться ли на каких-то своих решениях коробочных внутри серверов или использовать какие-то внешние штуки любые слова антон здравствуйте итак наш доклад состоит из трех основных разделов это что же все таки именно нужно мониторить высоко нагруженном проекте то есть какие именно аспекты нас интересуют второе это обзор существующих open source систем мониторинга это zabbix когти графит и третье это обзор с решения для мониторинга диск la mer как и сказал сашан доклад должен был быть после нас потому что если сашин доклад у нас ложных штуках о том как собирать данные идеи сохранить граффити о том как я с этим связаны проблемы мы говорим вот о самом таком простом то есть сбор данных базовых метрик хранение их подключения серверов и так далее самое основное что нужно мониторить это потребление ресурсов работа серверного по и бизнес-логику приложений перейдем к ресурсам они делятся на 2 группы на самом деле важные и критические критические ресурсы это те проблемы с которыми например их нехватка гарантированно ведут к проблемам в работе сервиса то есть они очень важны очень критически это процессор и дал юзер стены то кто-то может знает кто их систему администрирует что это такое владимире память свободная занятая и использование дискового и он в процентах использования трафика входящего и исходящего насколько сильно забит как забит канал в зависимости от того сколько разрешима серверу и занятое место на диске важные ресурсы это тем за которыми наблюдать нужно только для того чтобы по изменению какой-то динамики вы могли понять с вами что с сервером вот вот вот случится очень нехорошее это такие ресурсы как потребление свапа рейд статус причем проверить статус я говорю как hardware рейд так и software raid довольно важно на самом деле метрика smart status это статус работы дисков то есть насколько с ней все в порядке и насколько близок файл какой то что вы потеряете данные и овцы рид в right to то есть это такая штука как количество операций с диском например а резкий скачок к и офисов после дипой а может говорить о том что кто то из девелоперов забыл добавить индекс на новое используемое поле также это диск авиа количество из открытых сокетов температура процессора скорость вращения вентиляторов процессором перейдем к следующему родилась серверное по что что что нужно мониторить первым делом нужно для себя понять что вам нужно мониторить то есть каждый параметр по которому рисуются графики каждый параметр по которому вы получаете пятницу или сумме сонику вы должны прекрасно себе представлять вот примеры которые мы рекомендуем они туризм своих проектах это что касается engine.exe трп с reader в рейтинг request количество тип или в соединений если что этот единственный человек который поднял руку по печкой про разработок напеть php-fpm мониторим рпс и количество child of количество сообщений маршрут рен ричард то есть я тоже точно важные параметры у сфинкса например мониторим количество запросов вопрос посмотреть динамику и предпринимать соответствующие меры также мониторим блогах fatal error и так как без этого мы сталкивались тем что ну с виду все в порядке со сфинксом но что-то где-то упало и запросы просто не обрабатываются вот мускуле мониторим количество запросов целях today to insert количество обработанных стал бы saw тоже кстати rose princesse и д когда растут это говорит о том что например был добавляют был добавлен новый запрос какой-то индекс например по полям него добавлен и на d в buffer pool статус реплика статус особенного требника статус важен для того чтобы всегда убедиться в том что ваш резерв актуален и где маму мониторим размер почтовая очереди бизнес-логика что это такое бизнес-логика это любое что-то из вашего проекта что очень критично из-за чего да например злой дядя начальник будет очень сильно ругаться к таким критичным для бизнеса показателям относятся по нашему опыту следующие например количество новых регистраций на проекте корректность работы процесса регистрации то есть например что от момента как нам открылось формочка введите фамилию и отчество до момента когда мы получили письмо на почту нажали активационной ссылку открылась открылся браузер и там написано здравствуйте вы зарегистрированы у нас количество скачиваний приложения количество показов баннера рекламы и кликов по ней это тоже достаточно важные показатели особенно для рекламных сетей как только начинаешь что-то скакать у всех обычно сразу паника что же случилось многие забывают о том что если вы используете в работе своего проекта какие-то сторонние сервисы или используйте информацию от партнеров то эту информацию обязательно нужно мониторить для того чтобы падение сайта партнера не привело к проблемам на вашей стороне соответственно сервис компании-партнера нужно мониторить в обязательном порядке мы рекомендуем это делать статистику по запросам с тем или иным рефери рам тоже очень полезно на самом деле особенно вот опять же рекламщики этим грешат чтобы для себя а составлять статистику им порой не нужно понимать сколько клиентов пришло с мобильным user agent of сколько с доступным видео агентом секунду вообще если смотреть про мониторинг бизнес-логики очень часто когда мы видим сервера мы видим что на них за мониторе на все все все связанное с техническими показателями и практически ничего связанного с веб-сайтом хотя на самом деле очень часто мы знаем будет кейсы когда вот вы вроде все за мониторили но какую-то штуку одну забыли именно оно поломалось почему прикольно мониторить всякие бизнес-показателей бизнес штуки бабло пер минут а потому что по сути вот отражение бизнес показателя такую маленькая-маленькая проекция всех-всех метре которые могли бы собрать то есть возможно вы чего-то не за монитор или технического но если начинают опадать деньги начинают падать какие-то бизнес штуки уже понятно что вполне вероятно что что-то произошло на сервере можно разобраться такое как бы последние миля который можно увидеть и выйдет на ней поломку и дальше уже пойти расследовать даже если мы пропустили мониторинга до чему там ломаться у нас эта фраза на самом деле стало довольно расхожий то есть потому что как правило все ломается именно там как где ты этого не ожидаешь именно поэтому следующий пункт это мониторинг мониторинга то есть обязательно необходимо как-то отслеживать то что ваш мониторинг работает корректно особенно в части уведомления ведь смысла в мониторинга совершенно никакого нет а если он никого не как не уведомил о том что ваш проект сайт упал все взорвалось и вообще вот именно поэтому нужно мониторить работу под систему уведомлений и нужно мониторить и отсылку уведомлений по интересующим вас направлениям это почта эсэмэс jabber там telegram hipchat что угодно вообще вот так теперь мы с вами рассмотрим open source систему мониторинга это zabbix когти графит по порядочку мониторить мы будем на каждой из этих систем кай и типовые параметры то есть процессора память engine of smooth коль статус и время ответа какого-нибудь аура zabbix open source система открытый исходный код со стороны сервер это выглядит как php + ники backend для хранения данных это мускул postgres рискует уроков с клиентской стороны это выглядит как zabbix агент либо snmp agent который посылается данных zabbix как выглядит процесс добавления хостов zabbix то есть сначала мы создаем его добавили там он что-то там про деппа инициализировал что тот рисовал потом ставим на сервер zabbix агент и после этого начинается работа с шаблонами то есть мы добавляем серверов шаблоны шаблоны это скажем так типы метрик которые мы хотим отслеживать у данного сервера если ты у вас в за биг си нету шаблонов для нужных вам параметров например это engine of smooth коль то их надо импортировать как я вот тут первый раз весь забег за многие годы поставил смотрел мне на глаза мониторить engine.exe mais quel признаюсь честно мне потребовалось гуглить порядка часа наверное чтобы найти нормально работающие плагин и установить их перебрать подобрать разобраться с настройками как бы то есть в стандартной поставке этого не было помимо того что вы будете импортировать шаблоны zabbix так же необходимо будет настроить zabbix агент и на тех серверах с которых надо мониторить engineers мускул для того чтобы данные в соответствующем формате посылались zabbix а уже zabbix на основе вот этих импортированных вами шаблонов паршиво эти данные для проверки ура настраивается отдельно в сценарии такая функциональность и отстроена zabbix но вот собственно то что я рассказывал про то как она делает смотрите допустим джинкс потребуется мониторить я сначала импортировал чтоб нашел шаблон импортировал его разобрался как что он потом создал башкиры для парсинга engine их статуса на стороне сервера добавил этот скрипт в zabbix агент общем у меня по итогу было вот такое вот состояние единственно не понимал зачем столько много телодвижений для мониторинга обычного engine статуса вот график и выглядит как то так то есть у нас есть некий график с timeline расшифровка легенды и вверху такой ползуночек для того чтобы могли выбрать количество времени за который будет обращаться график вот уведомлением в биг си построены следующим образом каждый шаблон содержит себе набор триггеров некоторых которые по умолчанию устанавливаются вы их можете всячески модифицировать вот триггер это действие которое происходит при выполнении какого-то условия в качестве действия для уведомления это будет отправка почте куда-нибудь к вам выводы позови-ка конфигурирование это достаточно сложно если руками делать zabbix сервер масштабируется также как и любое другое в приложении поскольку бэкенд соответствующие автоматизация мониторинга новых узлов без проблем любую про системы управление конфигурацией потому что надо будет только поставить на экс-агент подложить конфиг и через api zabbix необходимые команды следующая система которую мы рассмотрим это получается когти как ты тоже open source сервер сайт по хп эту маску на пхп работает как я разряд ул используется для хранения метрик мускулист пользуется для хранения в базе данных служебной информации карте с клиентской стороны это snmp agent только процесс мониторинга hasta тоже очень прост устанавливаем на сервер сын мвд конфигурируем ру-комьюнити в конфиге рябу таинственном воды добавляем хост когти после этого так примерно выглядит прописываем необходимые данные после этого у нас будет с вами хост для которого можно создать графики типовых метрик это процессор память интерфейс с где-то еще дефолтный совершенно для linux метрики все остальные метрики все остальные функции и функциональные возможности когти добавляются через плагин и например engineers мускул потребовалось мирно мониторить пошел на сайт перк он и скачал плагин и которые там есть для zabbix когти надевался поставил добавил все мониторится мониторе мои мониторинга url а это плагин амур лин для оли рт of the plugin для на ссылки уведомления на почту это плагин settings как-то так выглядит создание процесс создания уведомления то есть ну и типовой график то есть уведомление создается для 100 выбираем нужный графику графика на выроем нужный сурс сурс это вот ассистом юзер найс типы метрик который рисуется на этом графике уведомлением когти возможно только на email через плагин settings я вот если честно навскидку другие плагины не нагуглил то есть возможно они есть просто я не знаю про них вот вот так выглядит уведомление которое приходит к вам на электронную почту то есть для какого х 100 дается урок по которому можно перейти чтобы посмотреть этот график и и собственно сообщения какая метрика по какому условию с работы какой триггер по какому условию сработал ну собственно выводы вот который про которая вам рассказала мониторинг либо через snmp либо через плагин и количество способ уведомления ограничено то есть никаких чатов из веков я навскидку не нашел автоматизация возможно только через cgi скрипты у когтей я еще давно пользовался ею несколько лет назад и вот как тогда так и сейчас у как ты не было внятного пи такого чтобы прямо вот можно было все все все что нужно делать там есть некие кли скрипт и вот через них можно и добавляйте устройство для мониторинга и добавлять графики нужные к этим устройствам она не более вот масштабируется когти также как и обычно его приложение графит тоже open source система мониторинга даже не система мониторинга в чистом виде я бы сказал а графит это система хранения данных мониторинга вот с серверной части на состоит из карбона whisper of и графит об вместо графит выбоp можно использовать графа ну например от коллега расклад рассказал на предыдущем докладе и так карбон составляющая часть графита это написаны на twisted демон который слушает определенный порт в ожидании того что на этот порт отправит ему time series данные whisper это простое простая библиотека которая реализует хранение в этих метрик в одном файле то есть там для каждой метрики создается свой отдельный файл который может быть фиксированного размера то есть и сколько бы то есть сколько вот да не писал больше от файл не станет вот поэтому и говорят что он похож на rrd ну графит в паб это вот просто мордочка которая поставила для того чтобы смотреть за графиками простая django простой оценка приложения которое отрисовывает графики с клиентской стороны убрать это может быть совершенно любой плотность вообще без разницы что это будет хоть баш trip наброшена клинки главное чтобы она умела отправлять данные на карбон для в понятном графиту формате то есть совершенно без разницы что в данном в данной презентации я рассмотрю работу скале где как мы мониторим все то есть все предельно просто на самом деле нет как бы но с виду пусть до установка коллег д потом включаем в конфиге нужные плагины просто раскомментируем строчки конфигурируем плагины прописываем ссылочки куда надо и нужной пароли и потом настроен настраиваем отдельный плагин который отправляет данные графит то есть и настраивается на примерно вот так никакого руки цен со всего весьма просто вот об этом я уже сказал здесь должен был быть график скриншот графита как выглядит а вот он есть замечательно то есть вот как-то так она выглядит через ja через графит выбоp как бы возможно других панелях она выглядит гораздо более красиво и удобно вот это опять же вот различные метрики то есть там скажем так террористическая структура то есть коллег т.к. корневой узел и от него пошли подал злых и уже самом самом последнем пункте под возле хранится значение которое будет образовываться вот уведомления для графита на самом деле оказалось настроить весьма легко то есть есть несколько приложений которые используются людьми для отправки уведомлений по срабатыванию каких-то условий сходу нагуглил русский графит бекон который совершенно просто устанавливается мы берем типовой конфликта добавляем секцию которая будет уведомлять нас через нужный нам канал добавляем условия генерации уведомление то есть там буквально в конфиге больше меньше равно и запускаем графиком то есть проще я вот наверное не не вспомню систему которая вы настраивалась то есть вот график которая приходит на почту вместе с уведомлением о том что случилась беда выглядит вот как то так да это же все весьма просто весьма наглядно можно вот посылочка этой же перейти на самом графит который покажет свой график нужны вот выводы конфигурируются только по отсылке данных графе то есть ну я утону вскидку в совсем типовой конфигурации который был не просто рисовала графики по словам уведомления не нашел смысл просто копосов каких-то внутренних настройках графита на не было надобности уведомление настраиваются гип-гип к автоматизация тоже понятно возможно и без проблем так как там все текстовые файлы и установка бинарник of а вот с масштабированием тут есть проблема а дело в том что движок хранение данных есть перрон имеет ограничение на которых и говорил ранее то есть что можно хранить и в одном файле какой во первых это файловая движок то есть он хранит метрики в отдельных файлов во вторых вот эти вот файл и они имеют ограничить ограниченный размер и когда у вас очень много много метрик когда у вас очень много много данных рекомендуют веспер менять на самые разные базы данных то есть я сейчас уже на скидку не вспомнив все варианты слышали буквально в предыдущем докладе да кстати да да вот когда очень много различных метрик идет на графит понятно что один сервер не справляется потому что графит процесса графита карбон который принимает все эти данные он достаточно требователен к процессору для этого для того чтобы это избежать используется такая штука как графит relay то есть у вас есть несколько физических серверов на которых установлено несколько карбон процессов которые пишут свои базы данных и вот где-то на отдельном сервере стоит графит relay который проектирует запросы на эти карбон и но вот опять же пишет что внезапно мы сталкиваемся такой проблемой что графе 3 ли у нас тоже требует процессора тоже как бы весьма тяжелые и в итоге приходится людям выдумывать как некий дополнительный lancer и которые шлет трафик на несколько графит relay процессов которые шлют уже на свою очередь также на свои несколько карбон процессов вот то есть таким образом вот если посчитать интернет и что люди пишут проблемам масштабирования графит действительно существует у людей действительно как будут решается не совсем тривиально вот счас мониторинга сама не touring это по сути вот я вас сейчас сразу пишу все эти все эти вещи это ты регистрируешься тебе выдают ссылку на скачивание ты оставляешь консоль выполняешь все твои сервер мониторится все что ты знаешь дальше это в основном только то как тыкать кнопочки в браузере для того чтобы там за мониторить нужно и но еще максимуму проект конфиг вот ну давайте осмотрим детальные все-таки то есть server density дата долго жку это 2 достаточно популярны за рубежом системы счас мониторинга с точки зрения сервера этот server density является черным ящиком отличным представителем с точки зрения клиента этот система мониторинга является представляется питон демоном вот как ну какого мониторим наш сервер в server density мы добавляем девайс нам выдают как я и говорил копипасту некую которую мы выполняем все сервер мониторится уже отправляюсь какие-то данные на стороне сервер дальности созданы уже какие-то графики то есть вот совсем дефолтной чтобы за мониторить не нужно вообще ничего для того чтобы это мониторить engineers мускульном необходимо добавить соответственно строку к доступа к engine их статус в config.sys диоген то и для муз поля добавить данные доступа там хост логин пароль все перезапускаем езды агенты у нас в server density уже ственного нужные графики есть мы их только берем добавляем в в интерфейс и все они у нас отображаются все замечательно вот выглядит так как то вот так вот то есть все в 30 на там все замечательно все из себя быстро шустро работает и так далее вот те самые графики engine.exe мускуле которые еду мониторе добавил вот если нам надо за мониторить какой-то url сайта код ответа на время ответа заходим в отдельный раздел сервис и стан добавляем это туру выбираем с каких точек миром мониторить этот url соответственно мониторится нам присылаются уведомления о по срабатыванию неких alert of вот и допустим the dealer ты были созданы автоматически т.е. он сам определяет что как и создает их естественно что как мы можем добавить их добавить алерта удалить alert его проект нужным образом это создает идет речь про alert и которые вот мы создаем на добавлено managing музыку тоже все весьма прост это то что нам приходит на email какие уведомления то есть опять же все понятно просто и вот мне кажется на email каких-то более длинных писем желать не надо как бы все текстом все очевидно понятно при любом интернете письмо можно получить server density без проблем автоматизируется никаких сложности в этом нету server density есть весьма развитая пи о котором в интернета в целом пишет хорошие уведомление возможно вот через все что угодно почте своих hipchat смсп и ждите любое вот теперь дата долго школу код то есть как мы как я и говорил про все эти system monitoring как а как я говорю про server density серверное точки зрения для нас это черный ящик на который питон демона нашем сервере установлены посылает какие-то данные вот примерно так выглядят графики которые рисуются то есть тоже никакого рокет сайенс и ничего нового по сути тоже самое в немножко другой палочки но повторюсь вот этой а точнее потом расскажу на фоне конечно вот zabbix и как все это все равно какой то шаг вперед как мы мониторим engine of smooth культа есть мы включаем интеграцию интеграция это мы в настройках да да дога указываем что мы вам их вы бы хотели в нашем мониторе добавить мониторинг вот такого вот сервиса там engineers мускуле кафка там к ты вообще вот что угодно добавляем и нам выдается такой так уж и снова сделайте вот такую только пик пасту на сервер укажите вот такие то данные все одна стоит думать вообще не надо просто берешь копируешь печатаешь или путаешь dd агент и все у нас по итогу великолепные красивые графики мониторинг сайт добавляет точно так же то есть они где ты как ничего не надо кроме уведомили кроме уведомлений графики конфигурируется в конфигурационном файле формате yaml уведомление к конфигурируется как то так то есть мы выбираем метрику указываем что мы хотим сделать указываем условия сохраняем все то есть все через в мордочку все совершенно нативно понятно вот по поводу до того гашу хотелось бы резюмировать выше сказано то есть это получается автоматизация опять же без проблем также есть api также уведомления есть встроенные я нашел только через за почтой по и верните а все остальное было доступно через концепция веб хуков но это как вот гид love может узнает хуки да вот тут примерно тоже самое только применительно к мониторингу естественно вот и после всего этого встает логично весьма вопрос так все-таки что же выбрать для мониторинга вашего сервиса на самом деле выбор мониторинга это довольно такая интересная задача которую нужно решать зависимости от вашей специфике то есть поясним если вы небольшие молоденькие стартап у которого 2 2 виртуалке на которых крутится что-то похожее на продакшен и у каждого свои собственные девелоперский ortovox виртуалке на локалхосте то вам например нет смысла заморачиваться с настройка установка zabbix а поднятием отдельного сервера и так далее вам проще пойти на какой-нибудь тоже server density зарегистрировать там бесплатный аккаунт добавить туда сервера и спокой допустим на там мониторится периодически вам капают на почту письма если вы какая-то организация у которой я например распределенная масштабная сеть из 500 серверов например да расположенных нескольких городах несмотря на всю его деревянность и не веб 20 ность я бы вам посоветовал все-таки использовать zabbix потому что это ваша установленная на ваших серверах решение которое будет потреблять много ресурсов которая будет да согласен не в 20 на не все такое вот нежненькая красивенькая да но которая будет просто работать и хранить себе данные за там последние три года и am опять же она будет всего у вас есть никакие ваши данные никуда не уйдут на сторону и так далее вот к процессу выбора мониторинга надо подходить осмыслена не кидаться на первое попавшееся и четко понимать и вот что вам нужно и для чего то есть мы например как ранее говорю явление используем вообще самописная система мониторинга просто по одной простой причине что никакие существующее решение нам не подходили ввиду того что те которые крутые классные клевые они стоят безумных денег и мы не можем их взять поставить на свой сервер а те которые существуют которым бесплатные мы можем поставить на свой сервер не устраивали нас контексте интерфейса в контексте возможностей поэтому каждый делает для себя с выбросом возможным верили что добавить вопросы вот вопросы предложения пожелания ok извините если вдруг напустил сколько будет стоить сервер 30 для 300 not которые раз несколько дней заменяется вы знаете его специально в такую от не включал никакие ценники просто чтобы каждый пошел на сайт и вы посмотрел для себя вот все то есть я просто это а порядок цифр может 300 нот3 ну да и на три сотни но до 30 серверов да но это уже прилично сама будет сколько это уже прилично я сама будет они возможности по но это вопрос обязательно 20000 долларов да если бы все это уже этом речь идет скорее всего либо там записи в graphite оно классное но она уже будет стоить дорого спасибо за не дошли если честно у двери этого ралли дакар милый сон на содеянном приходим к сам мы понимаем что всего на классно себя настает пока денег если у вас много нот авнире летать из коробка жду обсудим ну да то есть они в целом все три очень очень похоже концепции и всем прочим но я сейчас буду говорить эти слова которые могут не понравиться это пить и без пишет он в мае секунд который такой из которого мы изображаем на усику с винтовыми данными есть каунтер айди есть вылью все это хранится на кола штатах за исключением проектов которым нужно чтобы принципиально писалось в россию все sdk который выбирает по диапазону времени стоит яндекс по времени и по команде рейде почему мускуле потому что мы 2 наберите мы хотим там любой момент времени залезть в саму базу и легко выбрать там вскоре запросам необходимые данные почему не под газ потому что способе сама нас просто меньше работа с мускульным мы работаем хорошо почему самописная среди прочего потому что у нас есть некоторый опыт наших друзей по созданию channel five графиков и нам для работы постоянно хотелось какую-то агрегацию и хотелось чтобы можно было собрать низко данных в один подвинуть мышку так чтобы увидеть за суметь посмотрите происходит и вот этим у всех систем тяжело кроме sasa а сосны и соответственно опять же стоит денег у нас есть ресурсы на разработку изначально на центр месте времени такая шутка что как любой программист когда-то пытался написать свой прибор как любой system administrator когда-то пытался сделать себе мониторинг в том или ином виде поэтому когда мы начинали в печать вам году мы начали по собирать данные куда-то чтобы она ну рисовалась и было видно классическими рубеж ключ это делает а затем стала все собираться в нормальном времени систему которой мы привязались можем зарабатывать и просто понимаем как она работает то есть главного знаете когда я смотрю про разговоры про graphite и про то как на нем экспериментировать с вашим клиентам это наверное порядка семидесяти процентов zabbix и порядка 20 процентов группой то на сложных проектов но вот эти 20 процентов это везде какой-то так тот или иной геморрой там забитые диски , проц и так или иначе так это вылазит сути тратятся ресурсы на штуку которая по идее должна по-хорошему в проекте работать надежно а тут она ну так и началась с проблемами нам этому слишком критично поэтому мы понимаем что мы можем ждать система что можем но не ждать и в рамках этого работать спасибо за доклад у меня вопрос такой вы упомянули в когти используется r&d tool вот у вас я такого большой опыт использования но несколько многих мониторингов скажите к кредиту вообще по сравнению с другими системами хранения истории себя ведет то есть как он как как бы вы как бы вы оценили его производительность при большом количестве метрик когда мы дошли сами до большого количества метрик мы стали писать этого musk ну то есть сама модель хранение данная порода туле мне кажется подразумевает то что слишком много я не знаю кто нибудь хранит много много данных вражда был у меня опыт хранение достаточно большого количества данных выражены туре вы знаете не могу ничего сказать то есть плану просто работает то есть ничего плохого да ничего совершенно то есть использовали когти там было несколько десятков серверов у каждого несколько десятков метров знаете просто работает то есть графики рисуются данные собираются данные записываются опять же вот спасибо у меня такой вопрос про три системы zabbix когти и графит вы можете сказать ниши у них какие то есть когда zabbix лучше когда все таки когти когда графит для чего графит любая сложная система в которой выходит собрать очень очень много метрик и потом понимаете что вы хотите еще при этом анализировать почему анализировать как это не просто посмотреть по истории это собрать какие-то данные сгруппировать собрать по ним медиану строить по ним стрелять и средний вот классно любой сложной агрегация сложных сбор данных дашборде это она zabbix я бы сказал , точки зрения что просто если у вас там меняется команда администраторов применяются люди это но это , не знаю сравнить сравнимо может это быть такими-то известными zabbix мониторинг уровня предприятия совсем вот чтоб в этом подразумевается команда администраторов которые то поддерживает много много много серверов необходимость как-то от карты за биг си есть и так далее как те используется я бы это назвал ее используют для вот знаете мелкие провайдера мелкие провайдеры с большим количеством какие-то сетевых маршрутизатор в которых надо это брать информацию и для которых гибкая прям очень очень гибкая система уведомлений не критично и не критично наличие например там миллиона и одного вида графиков для разных сервисов вот то есть для мониторинга какой-то именно сети как ты подходит идеально на мой взгляд добрый день спасибо за доклад немного тройский вопрос прошу прощения заранее вы про несколько систем мониторинга которые рисовали в частности zabbix когти и я уже честно говоря не помню восток всего много упомянули писали что они масштабируются как обычно веб-приложения вы знаете меня немного смущает просто есть целый конференции по масштабированию веб-приложений больше чем это род кант и и все такое а что вы сюда вкладываете можно это как-то завернуть спасибо весь скорее всего речь идет о том что там по крайней мере не какие-то кастомные решения которых базовых штуку скиллингов affinita хотя бы есть позиционирование мысе кулер ссылка который лучше никогда в жизни не использовать но у нее есть много специфики когда у вас там речь идет сотни миллионных таблицах когда дополнительно против цианирование придет проблемам но мы говорим об ratio цианирование мы говорим о распределении в приложения по нодам я не знаю из своего ну вот из того что было яркий пример графиту а он вон у масштабируется не как обычное приложение там есть отдельная своя зовут а с графе 3 лами отдельная замут а у людей бывают часто очень с проектированием запросов через год балансира на несколько графе 3 вы в качестве движка хранения данных рекомендует использовать вообще influx db и еще несколько названий воздано с которыми признаюсь честно я продакшне сталкивался мало я вот это называю необычным масштабированием то есть все коллеги обед врачу"
}
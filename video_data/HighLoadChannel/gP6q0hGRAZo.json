{
  "video_id": "gP6q0hGRAZo",
  "channel": "HighLoadChannel",
  "title": "Быстрое прототипирование бэкенда игры с геолокацией / Александр Гладыш (LogicEditor)",
  "views": 872,
  "duration": 3044,
  "published": "2017-04-22T14:48:16-07:00",
  "text": "привнесу немного game дева в этот highload меня зовут александр гладыш я технический директор компании лоджик editor и сегодня я вам расскажу про быстрое прототипирование бэг-энда игры в гео-локации на от инвести использование редис и докера я надеюсь что вы были на сегодняшнем докладе большом про один вести но если нет я немножко расскажу про то что это такое . значит как мы построим наш сегодняшний доклад вначале я расскажу про то что мы собираемся делать что именно и зачем проток как какой был выбран подход к разработке и как что в итоге получилось из этого можно сделать выводы я в разработке программного из печенье с 2002 года в общем начинал с кем дело и до 2010 года практически до конца не занимался потом как-то взял мульти класс так сказать в разработку не игрового по в том числе нагруженных интернет-решений всякого энтерпрайза прочих интересных вещей вот но геймдев не отпускает также я организую митап мой мозг у если вы живете в москве регистрируйтесь приходите на наши митап и мы проводили этап в mail.ru в этом сентябре достаточно успешный был проводить еще божьей помощью что же такое мобильные игры с гео-локации в общем ну кто знает что это тут нарисовано кто слышал про такую игру под pokemon go ну вот практически все знают в общем девчачий современный представитель класса этих игр мы увидим на самом деле ближайшее время переживает ли жанр возрождение или выплеск но тем не менее в общем в рамках этого доклада мобильные игры с гео-локации это любые игры для мобильных телефонов которые используют информацию о текущем положении пользователя в реальном мире но дева координат зачем мы вообще занялись этим прототипирование им потому что мы этим занялись потому что есть некоторый ряд гипотез по поводу того как должен быть построен игровой процесс чтобы получилась интересная игра которая но в конечном итоге естественно цели заработать на нее денег но это сильно сильно далеко от этого сейчас задача проверить эти гипотезы и выработать новые идеи и понять в чем есть фан причем нет в игры с гео-локации но мы сегодня не на конференции про геймдизайна технологической конференции и поэтому я буду рассказывать про технологическую часть прототипированию и и задачи с минимальными затратами получить код который дает при возможность быстро интегрироваться по вариантам геймплея тем самым гипотезам которые мы упомянули на предыдущем слайде и заодно на практике прояснить техническое ограничение жанра про которых в теории мы все слышали и читали своими руками так и не пощупали прототипирование саму как это сказать пилотный прототип уже есть и нитрирование по нему ведется гипотеза проверяются все разработка заняла менее сотни человек часов примерно была разработана северной части игры и рудиментарный клиент доклад как я сказала технологической части проекта они энергиям дизайне не мыть и за неё монетизации поэтому но я намеренно упростил те часть которой к этому относится поэтому для того чтобы не отвлекаться зачем я читаю это доклад я хочу показать что игры с гео-локации сейчас очень просто делать и уже все инструменты для этого практически на руках и общем эти можно заниматься нужно или нет ну вот такой вопрос как который каждый решает для себя сам а мы занимаемся именно прототипирование в данном случае и за задачи максимально быстро написать серверную часть для прототипа параллельно сервером реализовать минимальный клиент для того чтобы ну не карлом дергать и а то подергай out gain дизайнеру уже грустно вот но и во время написания уже проверять какие-то гипотезы которые можно проверить про техническое ограничение мы говорили о хочу становиться немножко на возможно очевидным на том чем пре-продакшн отличается других стадий разработки прототип 1 не отличаются других стадий ну понятно что в общем сферический проект вакууме переживает три основные части если доживает до всех трех но пре-продакшн production дальше поддержка мы говорим про первую часть про пример про приправим пардон про пре-продакшн в пре-продакшн с нашей точки зрения входит поиск того геймплея вариантов геймплея который мы хотим видеть в нашей игре разработка эскизов этого вариантов геймплея и выяснение ограничений не только технологических но и уже относящихся к самому гейм-дизайну отбор удачных вариантов геймплея были глубокая проработка и собственно в конечном итоге наверное должен остаться один вариант production которого продакшна которую нужно подготовиться но при этом мы можем начинать с одной гипотезы можно начинать с нескольких гипотез это уже вопрос такой поговорим про приоритеты разработки на продакшене самое главное это восприятие про этот проект пользователем но по-крайней мере в играх или во многих играх скажем так все остальное ну что можно перечислить устойчивость к взлому масштабируемость производительность про технологическую часть говорим стабильность гибкость скорости тарирования простота технологической части это все приоритеты идут по моему по убывающей они могут быть расставлены в разном порядке в разных проектах тем не менее общий набор примерно такой общий порядок примерно так но при продакшене совершенно другая ситуация мы во главу угла ставим скорости тарирования наше время на вес золота и наши ресурсы на везут потому что это пока не понятна стоит ли игра свеч вообще из этого следует что следующий самый важный параметр это гибкость нашей технологии которые разрабатывает и простота восприятие проекта важны настолько насколько в состоянии гей вашей день дизайнеры представить наличие недостающих вещей в нем если отсутствие фичи не мешает проверки геймплейной гипотезы то пожалуйста еще не нужно делать при этом на стабильность на производительность на масштабируемость настойчивость под звук к взлому мы вообще практически не обращаем внимание на так про 5 1 соответственно из этого мы делаем вывод что фокус у нас идет на скорость легкость разработки что это значит это значит что нам нужны в первую очередь механизмы они решения что что такое механизмы это значит что когда вы гейм-дизайнер просит вас реализовать очередную свечу в игре очередной кусок логики вы должны сесть и подумать как лучше реализовать класс этих вещей не взять и написать конкретный код который реализует в лоб то что вам нужно а сделать некий общий механизм относительно общей который бы вам позволил дальнейшем добавлять подобные вещи в игру если этого не делать есть шанс погрязнуть при быстро модерирование в в копипасту грубо говоря у нас очень мало времени поэтому лучше получить фичу быстро чем написать ее правильно ну и мы работаем с очень большим числом коротких операций иначе мы иначе мы рискуем застрять в том что мы полируем и полируем и полируем кот без практического эффект на этом этапе это совершенно непрактично чем меньше кода тем лучше очевидно потому что небольшой объем кода легче поддерживать сложный код сложной в поддержке хуже чем простой в поддержке на плохой код в плане инженерных практика так сказать при этом хоккей в решениях очень нежелательно то есть нежелательно брать когда вы реализуете какие-то вещи к их копипастить например да не желательно братья представлять костыли в избытке при этом хакер механизмах до тех пор пока это не как в так сказать спецификации этого механизма какого реализации допустим потому что механизм пишется один раз и все дальнейшие вещи которые затрагивают используют не трогают его код если там есть как наверное можно пережить при этом на рефакторинг нужно тратить время только тогда когда у вас болит то что нужно refractory мин нельзя заниматься perfect перфекционизмом все-все про одно и тоже у нас очень мало времени очень мало ресурсов и мы хотим как можно быстрее сделать прототип и дальше сделать еще прототип еще прототип еще прототип до тех пор пока не найдем нужные нужный нам геймплей основные этапы разработки прототипа соответственно следующие но нам нужно выбрать геймплей для пилотного прототипа сейчас дает расскажу про критерии твой выбор нужно выбрать технологический стек на который мы будем рис реализовывать этот прототип чтобы реализовать минимальный тот самый первый прототип и дальше уйти уже в итерации с гейм-дизайнером о конкретным геймплейным гипотезу задачи и геймплей пилотную прототипа следующих должен быть максимально простой но играбельный геймплей который даст вам повод реализовать все базы игровые сущности механизма прототипов смысл в том что если вы начнете реализовывать механизмы даже если у вас огромный опыт игровой индустрии вы хотите просто начать еще раз все заново на конкретном проекте написать все уснули даже тогда вы с очень хорошей вероятностью за копаетесь без конкретной практической задачи в то что вы занимаетесь реализуйте те вещи которые потом на практике вам не пригодятся а если вы идете от конкретного геймплея значит что те вещи которые вы сделали их как минимум в этом варианте геймплея у вас будут использоваться вы уже проделали работу не зря целях этого доклада скажем что геймплей для первого пилотного прототипа у нас такое очень простой у нас есть карта реальная карта географическая по ней перемещается игрок ну пока меняются его координаты на девайс на карте расставлены мог бы монстры и не знаю покемоны игрок их находят может попробовать поймать успешные поимка увеличивает характеристику счетчик характеристиках игрока все нас минимальный совершенно геймплей пол пойманный мог исчезает с карты через некоторое время респавниться то есть появляется снова на том же месте ну и есть в игре и администраторы которые могут добавлять новых мобов на карту вот меньше чем это играбельно и уже сделать служит наверное в этом геймплей совершенно не интересный но дает кой-какие вещь даёт какой какую перспективу дальше так выбрать геймплей мы выбрали как выбрать технологический стык в общем это прототип главное правило что прототип выкидывается после того как вы закончили работу конечно никогда не происходит полностью вот но тем не менее нужно выбрать либо что-то знакомое на чем вы готовы быстро написать и понимаете как этот прототип ну либо если такого нет значит надо выбирать что то интересные зажигающие что вам до силы пройти через весь этот цикл с быстрыми итерациями ну а главное не забыть во время ну выбросить весь код не получится но хоть что-то самые плохие куски если вы если вы не угадали с технологии тогда лучше все-таки сделать усилие и код выбросить потому что иначе у вас будет родовая травма на весь проект чего не хотелось бы а в данном случае был выбран такой технологический стык собственно он был есть практически весь в заглавии проект за главе слайдов rides a pen аресте докер на клиенте html5 сейчас расскажу почему во первых почему не что-то готовы ну да это ноты not in when that his синдром с одной стороны с другой стороны быстрые неглубокие research на эту тему показал что идеальных совпадений тому чего мы что мы хотим хотим мы несколько более сложный геймплей чем я писал конечно их нет все равно ст что-то нужно допиливать с другой стороны вот этот стек практически из коробки поддерживают все эти вещи которые нам нужны для базовой реализации прототипа до мы видим есть некоторые технические ограничения которые либо придется обходить самим либо искать готовые решения но тем не менее базовой геймплей уже можно собрать вот на этом практически я говорил сколько часов это заняло вот это это можно по второму разу уже будет быстрее скажем так как всегда в моей практике выбор стороннего готового решения идет гораздо лучше когда в голове есть вопросы зачем ему какую боль я пытаюсь снять пока не попробовали сами таких вопросов можно только чужой опыт перенять почему редис мы очень давно пользуемся редис пор точно не торренту в рисе есть сразу из коробки готовые работы с координатами можно добавить объект во множество можно получить все объекты в заданном радиусе о чем нам больше ничего не нужно на самом деле для этого прототипа ну там еще есть несколько полезных функций на эту тему и редис очень хорошо ну не очень хорошо просто хорошо ложится принять примитива рядятся хорошо ложатся на игровой модель который мы на модель игрового мира которые мы предпочитаем по крайней мере для проектов такого типа но и для regis а можно писать хранимой процедуры нала честно говоря на практике это особых никогда не было нужно но их можно писать есть очень сильно захочется вот ладно проверьте все понятно да если что реки с это база данных но и скай и я забыл сказать ну наверное все знает год open лести это такой дистрибутив engine x именно дистрибутив с поддержкой лова с поддержкой синхронные не блокирующий работы с редис многим другим из коробки то есть вы можете писать ваш апликэйшен код прямо непосредственно в engine.exe но nalu это довольно удобно он весьма быстро ну с точностью до того какая скорость вам нужно но для таких задач точно он достаточно jet дружелюбен и он хорошо поддерживается опять же с точностью до нам нравится и open есть и так же как и редис пригоден как для быстрого прототипирования так и для production а дальше пошли докер доктор здесь наименее полезное с одной стороны вещь которые но с другой стороны она решает очень неприятную проблему это проблема настройки окружения каждый раз когда пока-пока вот эти ранние прототипы делаются все равно работает один программист ну появляется 2 . куда вы за тепло или ваш код чтобы вы смогли другие поиграть это не страшно потом подключается еще один программист потом начинается тестовый сервер stay jing сервер продакшен сервер класс app туда-сюда и вот до тех пор пока в проекте не появляется бюджетно devops operations как кого угодно только не программиста который бы этим занимался вот этим приходится заниматься программисты очень не хочется докер это решает можно дальше обсуждать нужном продакшене нужен но это далеко за рамками этого доклады вот ну да с докером есть хоть один момент что вот старый докер плохо новый докер хорошо поэтому его надо обновлять он много где по дефолту старый но до этого мы дойдем еще дальше браузер html5 это то на чем проще всего нам сделать минимальный дешевый и сердитый прототип клиента в данном случае важнее сервер потому что вся игровая логика поскольку это игровое приложение в конечном итоге в любом случае окажется на сервере начну чего там ее там и писать самому началу при этом как я сказал если ваши гейм-дизайнеры я вот все время говорю ваши гейм-дизайнеры на самом деле если вы разрабатываете игру в одиночку гейм-дизайнер вы вот поэтому подставляйте этот я когда я говорю ваши гейм-дизайнеры если ваши гейм-дизайнеров сад в состоянии представить себе что вот здесь вот будет боевка не знаю ну чего кидает кидаем шарик of cookies в покемона ладно пусть будет так ну это боевка можно пока не реализовывать главу главное эта вещь понятно и эта вещь которую можно но на край скопировать другого проекта бунга будем говорить честно вся фишка здесь в гео-локации мы куда-то пошли и там случилось случился будет дальше мы пошли куда-то еще вот так вот аугментин reality конечно не получится нормально писать на html5 пока но она и не нужна зато как я сказал можно написать быстро и дешево клиент достаточный для того чтобы играть ну и есть несколько ограниченный но опять же достаточный для раннего прототипа доступ к данным гео-локации потом можно с браузера и грир у этих нативные приложения если очень сильно захочется ли будет нужно наверное будет нужна но до этого надо еще дожить надо понять зачем но я просто слою оставлю это слайд здесь как поставить докер на ubuntu потом скачаете посмотрите все но ни у кого бунты прямо сейчас нет запущенный нет теперь давайте поговорим про стык докера мы что делает докер если кто-то вдруг не знаком докер грубо говоря поднимает контейнер с одним сервис если вы следуете практикам хорошим у нас есть контейнер можно очень грубо назвать виртуальной машины для прыщей у нас есть контейнер супер месте у нас есть контейнер с редисом это все докером про брошенный на локалхосте на 80 80 порт и клиента есть браузер туда стучится и какие-то свои туда какие-то этапы запроса и получает ответ какой то пока что не будем уточнять это все на машине разработчиков происходит как только вам надо куда-то за тепло лица чтобы показать от кому то еще но нужно пробросить 8080 смысла колхас то наружу и в общем мы все пока от взломов там и не защищаемся ничего не защищаемся прототип вот 3 ставится вообще из коробки я не буду заострять на этом внимание сейчас целях экономии времени просто подключаем директорию куда писать данные включаем append англе файл чтобы рис не только в памяти работал у нее сил она работает шопен вести чуть сложнее давайте пройдемся первых мы да это частичный конфиг здесь выкинуты часть обычных вещей оставлены только те на которые я хочу обратить обратить внимание вот так она не заработает мы включаем на той со для отладки ворот блоге мы подключаем файлик который мы сгенерировали с револьверами с dns серверами от докеры чтобы другие контейнеры видел мы прописываем где брать важные модули откуда подключаться выключаем что важно кэширование кодла поскольку код у нас мы говорим про devil польскую конфигурацию на скот подсыплем как волюм sh100 вай машиной мы его праве мы сразу хотим увидеть изменения в продакшене естественно нужно выключить слушаем 80 порт ну mime types неинтересно тип по умолчанию джейсон у нас проезд в лапе по руту отдаем статику по api слышу один отдаем restful api наш вот в общем все ну daggerfall которые копируют все файлики все нужные директории в контейнер не очень интересно становимся вот на этом хаки точка входа для open аресте которые как раз сгенерирует список dns-серверов докеров в общем и срезов конфа немагия вот и собственно описываем дальше в докер compose нашу конструкцию супер reste подключая уже конкретные тома с файловой системой в dockerfile мы скопировали чащу поверх подключили чтобы совсем хорошо было можно было менять на лету данные ну в общем все про инфраструктуру мы закончили дальше как у нас выглядит appy appy у нас очень простой у нас всего три польских вызова получить состоянии игрового мира для конкретного пользователя в конкретных координатах получить состоянии игрового объекта и выполнить действие на игровом объекте дальше у нас есть системные вызовы создать пользователя я в отнес к системным вызовом потому что на самом деле здесь нет ни логина сейчас не пороли ничего просто пользователь говорит что я вася и мы его верим у прототип на таком уровне это нормально сброс базово исходное состояние и обрить базы до текущей версии как только вы отдали гейм-дизайнер у играться уже не хочется выпить по крайней мере так часто как вы разрабатываете сами сброс базы просто делает полный сброс базы и накатывает какие-то базовые объекты игровые apache смотрит на версию текущую которая записана в виде сиф ключики и если оно меньше чем нужно ну там просто и frills и frills под почти какие-то данные в регистр все очень просто не какого бока офисом и на этом этапе не делаем мы выдвигаем гипотезу что пользователи админы каким-то образом на внутри игровых механиках могут администрировать игровой мир на уровне прототипы этого хватит скорее всего админка потом появится пока не тратим на нее время дальше как это все дело устроена как устроен игровой мир игровой мир состоит из игровых объектов которые имеют численные характеристики но если у нас рпд например здоровью хиты а так и так далее игровые объекты могут иметь координаты если не имеют значит они принадлежат объектом с координатами либо вас там выступает прототипом объект с координатами про это чуть позже а вот прямо щас объект игровой объект может иметь прототип и так далее прототип можете менять свой прототип и так далее то есть это как прототип скриптами это таблицы в лол чтобы меньше работать делать наследование грубо говоря дрова объекты наследует характеристики и действия своих прототипов по определенным правилам что как характеристика это как я говорил это уже именованные численное свойства игрового объекта типа здоровье если игрового объекта нет какой-то характеристики его значение берется в ближайшую по цепочке прототипа если там нет и так далее следующего так далее так далее не совсем не нашли ту 0 действий на игровом объекте на гром объекте могут быть действия действие инициируются каким-то из пользователей которые достаточно на это прав то есть он должен быть достаточно близко к этому игровом объект должен его видеть и у него действительно должны быть права если он не админ то в админские действия выполнять он не может она игровом объекте есть идентификатор и просто список сет из таблицы имена полей из таблиц обработчиков действий вот сколько у нас времени еще отлично очень коротко тогда пройдемся по игровому объект вот мы взяли сделали моба соберись их всех называется жилье зеленая жаба не знаю надо читать снизу вверх конкретный игровой объект на карте стоит у него есть какие-то координаты у него есть с генри на идиш ник uid и у него есть прототип зеленая жаба прототип зеленая жаба у него есть шанс избежать ловли в 25 процентов и у него опять же есть прототип собирательный collecta был мог у которого есть просто действия collect и характеристика время респавна в 10 минут а вот как выглядит действие поймать моба все очень просто идентификатор действия и функция на кого применена действие инициатор действие то есть игрок кидаем кубик модифицируем то что получилось по скиллу согласно скиллом пользователя сравниваем с шансов с шансом на то чтобы избежать если все получилось то увеличен счетчик и планируем действие отложены на респавн через те же самые 10 мин и сносим объект локации все просто если бы мы действительно ловили ту же бану мы были в инвентарь переложили они увеличивали счетчик маленький как выполнять отложенные действия в одессе ну собственно говоря вот так бредис пишут пишутся идентификаторы действий с какими-то параметрами стань штампом для которого нужно это действие выполнить после чего на каждый хит по любому углу динамическому в нашей игре мы выполняем вот этот кусочек кода и смотрим на текущую секунду не нет ли запланированных действий других каких-нибудь и выполняем эти действия если нашлись и сносим их ладно вот как у нас игрок выглядит в игрока радиус видимости на котором он видит объекты метрах и радиус на котором может активировать на них действие все записано в прототипе так что если вы хотите балансировать игру вам нужно поменять только одну циферку да я не сказал я вот даю вот эти вот все ложные таблички они конечно один-в-один не укладываются в данное время си но я думаю что вы сообразите как это сделать а из если нет дальше будет ссылочка на место куда я выложу код посмотрите все очень просто ну да у игрока есть координаты и скилл ну наверно он должен быть прототипе как скилл по умолчанию на ловлю наших обувь дальше у нас есть объект который дает админские права админской а шапка если мы надели мы администратор если мы сняли там и не администратор он началу мы выдаем этот объект всем пользователям мало времени осталось поэтому пойду кратко у нас есть действия которые мы можем включить выключить отдельными вызовами и у нас шапка может любой объект может давать право если он приз присоединён к игроку сейчас дойдём до этого выдаем админскую шапку пользователя пользователю проверяем что у игрока прикреплен она прикреплена что значит прикреплена игровой объект может хранить другие игровые объекты в этом случае если мы храним просто том нам доступны действия и сама пользователь и храним какие-то объекты но характеристики тех объектов на нас не влияют они просто лежат у нас в инвентаре при этом мы можем прикрепить к игровому объекту другой игровой объект и тогда характеристики прикрепленного объекта будут суммироваться с характеристиками родительского объекта но дальше у нас предмет который вызывает самые действием вспомни который мы запускали отложено и ставит фактически жаба на локации админский предметный предмет для того чтобы расставлять на локации монстров право на действия как мы видели шапка дает право user admin действия заспавнить в данном случае на этом объекте требует это действие user admin если все требуемые действия существует на объекте инициаторе тут если выполнить можно есть не все то нельзя так ну вот совсем быстро чтобы было понятно про что я говорю как это сейчас выглядит можем поменять ник можем перемещаться по клику gps сам получить координаты на карте вот это google и карты вот тут не очень интересные локации но это может быть плохо видно вот это наш наше здание где мы сейчас находимся внутренний круг это точность gps и на компьютере смотрим поэтому она никакая это радиус доступности где мы можем активировать действие это радиус видимости где мы видим какие-то объекты вот это наш юзер него есть от минская шапка мы надеваем и спавним жабу можем ее уничтожить так чтобы она не за не за исполнилось можем ее попробовать поймать вот-вот с 3 кажется попытки мы поймали вот у нас характеристики поменялись все очень просто и в общем даже не впечатляюще но этого достаточно для того чтобы на базовом уровне проверять как ссылка где это находится есть на слайде код ссылка на код будет там же чуть позже на этой неделе я напишу в twitter про это дело здесь написано как карлом постучаться и посмотреть какие данные в дает обе у нас совсем мало времени поэтому я не буду говорить как работает клиент все очень просто на самом деле отмечу только что на сервере мы не храним никакие мина объектов используем генератор случайных чисел для того чтобы получить нормальный человек у человека вычитаем ее идентификатор и вместо место увидав на клиенте да вот это вот этот слайд оказалось что google и мэпс при встраивании несколько капризен этот слайд на всякий случай воспроизводит каково встроить те примеры которые есть в интернете они чуть чуть отличаются дает дает некоторые баги очень кратко какие проблемы у проекта технически теперь сдается очень шумные данные на html5 по крайней мере и в зданиях очень низкой гео-локации еще есть какие то вещи но на самом деле проблема технических ограничений которые как рассматривали проясняем и наш геймплей нужно под них подстраивать либо решить что мы хоть очень хотим это технологически решить посмотрите наши конкуренты эти проблемы решают в общем победить чего не хватает не хватает первую очередь системы событий пока что ну и всяких мелких функций типа счетчика пройденных метров но это все очень просто добавить здесь некоторые ошибки которые не усложнили разработку поскольку сама разработка заняла так мало что и ошибки не страшно мы поздно добавили гео-локацию прорыв в игру про гео-локацию поздно добавили карту на клиенте неудобно смотреть неудобно отлаживается заказы оказалось что наличие карты гораздо лучше от наличия карты голов гораздо лучше становится наивные ошибкам и очень мало выходили на улицу чтобы тестировать поначалу вот но и ошибки найдите сами посмотрев на код и сравнив код слайдов skoda в проекте если вам будет интересно развитие архитектуры вот но в общем малыми усилиями мы сделали крошечную mobile груз гео-локации заложили фундамент для быстрой разработки большого числа несложных прототипов для поиска удачных вариантов геймплей в проекте молоко до используются очень базовые механизмы поэтому разработка быстрая ну вот как прийти к релизу но выбросить весь код исполь используя опыт полученный в прототипирование перенести аккуратно удачные вещи очевидны неудачный выкинуть в общем все вопросы если у нас это все равно прототип и если вы сказали вас все пользователи получают админский провал зачем нужна шапку потому что нужно тестировать как пользователь играет без админских прав админские права ну вот например я не обратил на это внимание поскольку торопился давайте найдем от минскую шапку вот она она дает дополнительный бонус к вероятности нахождения можно сделать отдельный предмет вероятность поимки пардон моба можно сделать отдельный предмет но в любом случае у админа больше действия от менеджмент всегда больше прав поэтому даже если я сейчас это okadmin я должен иметь возможность поиграть с точки зрения обычного пользователя чтобы полностью понять его так сказать боль или радость админ читерским еще вопросы спасибо за доклад а вот такой вопрос система права типов это что-то самописная этого стоимость породах данном случае система прототипов самописная если бы у нас не было каким-то причинам базы данных в этом месте тогда бы мы использовали ложь нами the tablets вот поскольку мы все храним в одессе ну нам до прототип это ключ который в общем этот по факту идентификатор игрового объекта который добавляет добывается это хэш в одессе и мы тупо в лоб читаем характеристики прототипа после этого читаем характеристики объекта прототипом который он является и ну на данный метод таблицах подклеиваем их друг другу так чтобы получилось описаны поведение где сначала мы смотрим на один объект потом на другой вот кейс когда хранимой процедуры очень хорошо подходит потому что нескольких запросов один который было ремарка про то что это как раз кейс для хранимых процедур в одессе да конечно но его надо их надо писать приоритеты немножко на другой как я говорил это приятная рюшечки который можно будет потом сделать не след все дело пойдет пока был быстрее написать лоб в общем маленький кусочек кода который никому не мешает как только начнет мешать следующий вопрос здрасте я по поводу шума от gps-координат хотя спросить получается если так сильно шумит этот трафик нужно хранить какие-то последние координаты и через фильтр прогонять есть какие-то идеи как это реализовать или с этим вообще не сталкивались просто забили на это не совсем забили немножко копали в эту сторону есть ну во первых можно делать скользящие средние просто можно делать честно говоря забыл как называется фильтр в общем их даже два разных есть стандартный фирм и фильтры для gps а которые для этого используются но опять же сейчас пока приоритет не в этом то есть дадут данный gps шумны во первых но они шумные в общем в пределах погрешности дпс нужно понять как как эту проблему можно обойти во первых можно наложить фильтры и сделать так чтобы данные перестали шуметь раз во вторых можно изменить геймплей так чтобы было все равно шумят данные или нет ну например работать на дизайна азимут поставить этих мобов по грызун условно говоря дальше можно изменить работу с игровыми объектами например ставить их на квадрат ногами гнездовую сетку еще есть варианты и варианты на на то что что с этим делать вот пока хотим попробовать все из них на самом деле спасибо еще вопрос вы говорили вас frontend на html5 а это наверное две сотни строк по очень плохого javascript а просто в какой-то момент стал стало тяжело дергать это карлу по понятным причинам спасибо большой александр спасибо"
}
{
  "video_id": "FcyTF9SHNXo",
  "channel": "HighLoadChannel",
  "title": "TechTalk \"Не таймспентом единым: как мы делаем ранжирующую систему\" / Анастасия Павловская",
  "views": 290,
  "duration": 662,
  "published": "2024-04-10T06:01:10-07:00",
  "text": "Всем привет С вами п+ 2023 и сегодня в гостях у меня Анастасия Павловская именно от неё зависит Будут ли авторы цена счастливыми потому что она мли и разработчиков Привет Насть Привет расскажи немножко о себе и чем конкретно ты занимаешься в дзене Ну смотри моя команда вне разрабатывает льный алгоритм Вот и надо понимать что это Конная платформа на которой Есть два вида пользователей вот с одной стороны есть люди которые заходят обновляют страничку и у потребляют контент из ленты вот есть другой вид пользователей это люди которые пишут статьи ВН или делают видео делают короткие видео Вот это так называемый авто дзена и моя команда занимается за занимается тем что улучшают рекомендации для авторов Вот и мы делаем так чтобы качество рекомендаций для автора было классным А как вобще внутри устроена ваша рекомендательная система какие у неё основные компоненты Ну вообще просто можно представить её состоящим из трёх блоков э первое что важно понимать что вообще рекомендательная система э рекомендует на каждый запрос пользователя то есть пользователь пришёл мы должны выдать ему пачку рекомендаций вот поэтому это обуславливает в принципе дизайн нашей системы А как я говорила состоит из трёх частей Первое - это отбор кандидатов Э мы для каждого пользователя набираем Некоторое количество публикаций которые были бы ему релевантны Похоже на то что ему интересно вот второй блок - это уже непосредственно ранжирование где мы из этой тысячи документов 1.000 документов ранжиру выбираем то что максимально будет интересно В данный момент данному пользователю Вот и дальше есть этап перера ней где мы применяем дополнительные логики для того чтобы ещё усовершенствовать нашу выдачу Я знаю что в рамках имей самый дорогой ресурс - это время исходя из того что ты сейчас описал Мне кажется что это очень дорого каждому пользователю выдавать настолько индивидуальную выборку Э ты попадаешь абсолютно в точку действительно на самом деле у нас есть строгие ограничения на время ответа нашего сервиса это 500 мсн Вот и за за эти 500 м секунд надо сделать достаточно много всего Ну во-первых для того чтобы это решать как-то У нас есть этап отбора кандидатов действительно вообще база д достаточно большая несколько миллионов документов и мы из них можем проранжировать быстро Только какое-то подмножество поэтому есть вот этот первый этап на котором мы из всей базы выбираем самое сочное са интересно для одного пользователя это в принципе нам помогает сильно быстрее отвечать для каждого пользователя а вот эту модель нужно как-то перера на регулярной основе А да на каждый запрос пользователя мы берём не просто чу модели но какие-то дополнительные добавляем туда механики перера во многом Это связано с тем что какой бы умной моделью не была у неё всё ещё есть некоторые недостатки которую мы в своём ранжировании чиним не очень понятно если она такая умная исходя из того что ты только что рассказала Почему она сама этого не может сделать Да ну модель действительно очень умная и в этом её как бы и преимущество Но с другой стороны в этом и недостаток Вот например она действительно очень хорошо выучиваем в данных и по историческим данным хорошо очень хорошо понимает Какие публикации популярные Какие менее популярные и у всех моделей ранжируются проблема которая называется в профессиональном слоге это когда есть две ции они обе могут понравиться пользователю но модель выбирает более популярную вот в какой-то момент это создаёт такую ситуацию на платформе когда более популярные публикации показываются сильно больше чем менее популярные Вот и мы попадаем в такой как бы цикл с одной стороны мы показываем популярное вот с другой стороны как бы ну модель понимает что это популярно и начинает ещё больше этого показывать вот из этого ЦИК очень сложно выйти просто както тю модель вот поэтому мы добавляем ещё одну стадию ранжирования где пытаемся уже по-другому немножко эту проблему обходить по идее это же не только на технику влияет Но и на бизнес Да это так и действительно если мы будем Вот в такой ситуации находиться то в какой-то момент все наши авторы выя в какое-то очень маленькое количество людей которые будут делать популярный контент который все будут потреблять Вот и Ну отчасти поэтому существует моя команда потому что для бизнеса это супер негодная стратегия бизнесу важно чтобы на платформе было много раз контента и поэтому важно чтобы новые авторы которые приходят к нам или какие-то маленькие авторы нишевые чтобы они на платформе тоже получали свою аудиторию свои охваты как бы Поэтому нужно действительно делать какие-то дополнительные действия для того чтобы поддерживать маленьких авторов находить за них аудиторию помогать им на платформе осваиваться То есть я так понимаю что вы боретесь с неким абьюз вашей же модели для того чтобы её невозможно было использовать на постоянной основе отчасти Да и как бы один из таких выхлопов это этой деятельность состоит в том что больше авторов остаётся на платформе у нас Действительно получилось сделать такую систему которая увеличивает количество активных авторов э вот и они остаются на платформе делают контент у нас становится больше разнообразного контента Это значит что мы можем больше аудитории привлечь Ну то есть для бизнеса Это действительно очень важная такая стратегическая задача а Насколько часто необходимо перера результаты выдачи моделей и сколько времени у вас в среднем это занимает А ну слушай на самом деле мы делаем это на каждый запрос то есть на каждый запрос пользователя сразу после получения топово выдачи по модели мы применяем наши ранжируются там как-то поменять вот избавиться от этого баса в обучении А ну как-то так но это явно быстрее сильно чем самой ифс модели насчёт фичей То есть это какие-то мне кажется прино 10% от времени исполнения запроса даже наверно меньше я понял что у вас есть перекос данных которые вы частично решаете регулярным ранжирования Угу А что дн делает Смотри вообще как бы тут наверное Да действительно очень важный вопрос а как с этим вообще побороться то есть вот я такая говорю Класс можно перера Ну типа а как вот действительно тут у нас есть прикольные наработки мы пытаемся в своми ранжировании учесть некоторые дополнительные факторы если в основном ранжировании мы пытаемся предсказать Какой какая из публикаций будет наиболее интересна пользователю ско В какой из них он проведёт больше всего времени то на этапе ранжирования мы оцениваем Вот мы сейчас покажем пользователя какой-то набор авторов а на каких из этих авторов он может подписаться то есть какие из этих авторов будут для него настолько интересны что он станет прямо настоящей аудиторией постоянно потребляющий материал этого автора то есть Таким образом мы пытаемся сделать некоторый вклад в то чтобы развить автора и найти ему человека какого-то какую-то аудиторию опять же плохо Позволь залезть немножко поглубже к А знаешь я очень люблю tiktok потому что его алгоритмы идеальны они позволяют как любому новому автору быстро подняться получить сотни тысяч просмотров так и мне как пользователи получить релевантный контент насколько близки вы к лидеру индустрии так сказать чем ты можешь похвастаться Может ли сейчас новый автор Придя с релевантным каноническим контентом получить сотни тысяч просмотров в первый же день как это можно в тиктоке сделать вообще то что алгоритм тиктока идеально это конечно сильное утверждение у них тоже есть свои проблемы наверно достаточно сложно оценивать вообще нану систему очень сложно оценивать Ну как бы отдельно от продукта потому что всё равно есть продукт который очень многие правила для рекомендательные системы диктуют сверху и сложно сравнивать чистые рекомендательные системы как например нас часто сравнивают с спотифая и говорят что типа ну у них там тоже классные рекомендации действительно прямо честно сравнение сделать сложно а у дзена в рекомендациях есть свои фишки а с точки зрения именно авторов Они как раз в том что мы пытаемся действительно обращаем много внимания на начинающих ряд самом деле в тиктоке ВС е есть очень большой перекос Действительно ты можешь там залететь А може но большинство людей не залетают мы стараемся скорее более системно к подходить и пытаемся растить более эволюционно более системно развивать авторов вот у нас действительно реже ситуация случается что какой-то автор выстреливает хотя и такое есть вот си скорее в том что поджать вот поддержим всех и дадим просмотры всем мы помогаем всем не все взлетают всё равно согласен и покон веков с появлением интернета все пытаются обзи рекомендательные ранжиру алгоритмы хотят быть там в топе Гугла в топе Яндекса я уверен что в дзене такие тоже присутствуют поделись абьюзить авторы например ну в дзене алгоритмы сильно зависит от того какая аудитория на тебя подписана и вообще от подписчиков чем больше у тебя подписчиков тем очевидно больше охвата потому что мы больше доверяем большим авторам это как бы Понятно А и авторы пытаются как-то себе накрутить этих подписчиков вот сделать так чтобы у них стала побольше аудитория искусственными методами А мы сделали Модель которая детект такой антифрод находит таких авторов и их примитивно блокирует у насколько я знаю в дзене там сотни тысяч авторов а ресурс ресурс сильно ограничен уверен что у вас есть некие ограничения и вы не можете всем своим сотням тысячам авторов выдавать свои мощности Как вы решаете данный вопрос Да это факт действительно такая проблема есть э и нам действительно нужно решать задачу в ограниченных ресурсах вот э у нас здесь такая позиция что чем автор меньше Ну вообще в целом Это заметно по платформе чем автор меньше тем сложнее ему набирать охваты поэтому именно на первых этапах очень важно его поддержать Ну действительно на первых этапах ещё автор с большей вероятностью отчёт от платформы Поэтому чем автор меньше тем больше ему нужны нашей поддержки дальше постепенно чем дальше автор растёт тем меньше мы его поддерживаем своими дополнительными какими-то инструментами так как он уже и так органически начинает нормально собирать трафик поэтому у нас такая более-менее плавная структура выхода из нашей поддержки Эй чем меньше Тем больше мы ему помогаем чем он становится больше чем больше растёт тем меньше охватов мы даём дополнительно понятно То есть помогайте малым а старшие Пусть сами а старшие уже как сами да спасибо большое Насть за то что ты поделилась своим опытом напомню в гостях у нас была Анастасия Павловская Team или разработки до скорых встреч пока Всем спасибо С вами был ха п+ 2023 До скорых встреч N"
}
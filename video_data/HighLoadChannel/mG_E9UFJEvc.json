{
  "video_id": "mG_E9UFJEvc",
  "channel": "HighLoadChannel",
  "title": "Путь мониторинга модульность, гибкость, devops / Всеволод Поляков (Grammarly)",
  "views": 302,
  "duration": 2091,
  "published": "2017-04-06T11:42:27-07:00",
  "text": "тузами однако позже рекомендую выходным днем всем за поддержку приятный силикон обязался годами 300 из ковров итоги самое сложно один пример ибо я пришел страх водил эту не только поделок некое тем что он ничем не ступала на обращение решилась у нас нового друга желательно не получает сообщение потому что он не открыл становится господа вот два спасателя нельзя 2 поздновато мы почти потому что старайтесь тем мы решили разработчики парусник рабочих и далее разработчики очень плохо за едой минус 40 тому же или на карту команда работа пишут на значит она равна 100 граммами только разработчики добавить сначала с приложением тела наши подачи хватило та записка добавить источник источника сделать чек увиденный график когда мы добавляем все товары много действий . это уже не просто ты вниз головой берем эти коробочки манипулировать на бизонов оцифровки по то и малочисленный помогает потому мы обе знаем амазонской хранилищем поэтому многие услуги по необходимым всяких компании центрами поскажите мы летали взрыв его затем пирамиды у ниссана у меня нет ярко то используя систему типа на газ алекса чем она ты описываешь все 2 места без возврата программе chiquita прогрелась типа вас и есть то самое базе удалишься собою 32 с ровным редис 1 там таверны ? формат очень довольна визирование и сделали так долго думали как разработчикам понять систему но формально система но либо в итоге уже почти система это все время сами если вовсе не выросла на любого сильно возросли или яблочкина кожу-почву а постоянно сталкиваться этими кольцами плакаты заметить и можно сделать елочке приложения типа не очень кра возможно ты сделаешь кадр за бочек сделать сколько нас из первых ликеры или вообще родился работа или старого кран на стояке таких постепенно перекусов у нас итоги 1 проигрываться пожарами дозу просто запутался после этого за большой печать работать тема может следовать этим mobitree и мы сейчас пестики попадать в общем про почти есть фигуры опять систем крыльев не брался роды учите этому моду главные роли в мобильном все был похоже на такси во время погони прапорщиков и открытого я вас на утро мама проверяют дома так это будет urban awards про будут спасать себя и глазу приятно понимаем положили в этом походе и память у больше чем запускай парики и результата за волосами коллегиум если бы если метрики но минусов чем этапов поставим она не могла ни одного пола ошибок и of the peace in this video i похож на сделать когда на единороге в доме где живет потом поставили что помоги каждый но если считать людей вы бы занимали проверить вы просто думать об астана драма если обе системы добавить пережили зима уже задавал занимает ему поэтому не берет у ребят traveler и немножко потому что моя посуда перебиваешь . можно здесь много на и не думает вытянуть из сахара или целях нормальных пробега сами там использовать новости в селе даст витамином обводить именно через пропал открытого моря разобраться ежели салага можно ли мне спасибо раздал именно поэтому просто не знаю сто раз горячей воде и награбили примеров можно дать разработчикам люди не буду пытаться момент можно ли так тоже 3 номер добавить туда пациента перова иметь хороший подай разобрался 1 а нижний и и очень труба война bonita работать вообще никогда не беру 2 поиск ошибок быть беспечный если и подороже подписка по 20 наша раз когда мы сделали мониторинг фронтэнда как я уже показывал это вас с java script сайт на сайт он написан на java скрипте там html к и каждый раз когда юзер совершает какую-то какое-то действие или каждый раз когда выпадает какой-то эксепшен каждый раз когда мы хотим отправить метрику с самого сайта на наш сторож что потом это иметь возможность посмотреть агрегировать посмотреть данные с этого мы просто делаем год запросу на яндекс генерируют логе логике лица в extern сохраняет в себе власть x3 или генерируется этого метрики вот например известно генерируем метрики кто распадаются с дества здесь отправляет дальше дальше ну как вот по всем этим графиком которой показывала раньше не сохраняются и мы можем это все смотреть и там допустим сравнивать количество время обработки сколько там у юзера обрабатывалась на frontend отправил запрос пришел ответ сколько это заняло времени и сколько времени это сделано на бэг-энде или там на еще каком-то бэг-энде сколько времени в сумме собралось вот это достаточно удобно и еще у нас есть плагин velox саша который разворачивает source map я думаю кто знает тот поймет о чем речь если что мы можем потом подробнее об этом поговорить и у нас есть такие штуки используя voxtel и метрики мы очень сделали кривую такой статус метрику чтобы понимать у скольки процентов юзеров начинаются ошибки то есть если там один юзер валит 500 ами то нам принципе и все и все равно там заливку это клиент типа ну пускай валят мы не хотим просыпаться ночью если у там 10 процентов пользователей в каждой сессии начали выпадать 500 на engine.exe на та же проблема и определить где 500 где нет низкого что ну где типа легальные 500 и а где соды которые нередко это чувак это не самая простая задача мы просто берем там уникальной и ps складываем стад де и там говорю вот этот уникальный человек генерал столько двухсотых этот уникальный человек за генерала столько 500 их потом на основании этого вводим процент людей которые получают 500 и которые получают 200 понимаем поскольку уникальных процентов юзеров 500 ошибки разработчики все мониторят и к моему глубокому удовлетворению просыпаются ночью это достаточно прикольно но наше все сервисы из-за этого стали работает лучше разработчики намного больше внимания уделяют качеству тому что они пишут они отвечают перед бизнесом за продукт который они представляют он написал что-то за диплом случилась ошибка ты знаешь как это откатить случилась ошибка ты знаешь как это найти ты можешь ты ты не идешь к псами говоришь о боже мой у нас проблема помогите мне искать где тут логе находятся это санта хочешь смотришь так так так вот здесь вот у меня такие то какие то ошибки пошли или там подключаешься по gemix или как-либо ещё про сравнение времени обработки чего-то фантазиям бэг-энде я говорил и и из познаю за ради я помню тоже уже а потом рассказывал мы сейчас вот если у кого-то есть идеи и обустройством пообщался на тему мониторинг безымянных сервера хранения метрик безымянных сабиров то есть когда метрик много добавляется именно с уникальным именем постоянно добавляется добавляется добавляются метрики сколько и хранить как их хранить как это все агрегировать это такой достаточно сложный лично для меня вопрос несколько вот таких опыт и леди с удовольствием послушаю и хранения метрик самих apple конечно в разных мест кубра найти с окружениях тоже если кому-то я что ставить буду очень благодарен и и у меня пожалуй всех есть опросы нормально спасибо за доклад я вопрос очень простой я как понимаю вы в амазоне для развернуты в амазоне вы говорите что там существует множество решений которые недоступны обладателям дата-центров возникает вопрос почему вы не используете cloudwatch он медленный он достаточно глупой вы говорите что вас малый метрик неужели даже такого малого количества метре который влезают в 20 мегабайт оперативной памяти cloudwatch медленной 20 мегабайт оперативной памяти то на каждую ноту ну то есть яндекс находится на координате отдельно большой сервер по которой рассказывал там с кассандрой отдельно эти пони нет это малая подвижность а не можете меня только нечего делать более менее адекватно штука хорошая многим людям она подходят если хочешь масштабировать flash долго долго долго хранить данные с большим разрешением и тибета надо на самом деле не выдумано надо спасибо добрый день спасибо за доход у меня два вопроса первый у вас достаточно сложная схема разного сорта который вас находится прямо на каждой ноги с помощью которого собираете метрики у вас там я не помню штук семь пам компонентов вы их сами то мониторить и да как ну то есть это достаточно просто с центру клиенту вот эта вот эта штука которая запускает все она мониторится sense сервера тут идут пинге до про достаточно тривиально дубинки проверяют работает ли он дальше а при кэша мы его мониторим через influx система она пишет метрики тебе если используешь dimon далеко ли где можно написать триггер сенсор или чек который будет так же самое при помощи сестричек оставлять работает ли там diamond или поле где то что же состав где ты просто веер запущен процесс работает он или нет если я теряются метрики это дано это и солярка что эти вот например не поступает вода метрики когда-либо софт и кстати если вы смотрите поступают чеки они нет ни от арбата в этом куча процессов накапливать которое пытается обратиться к инструкцию и забрать у него метрики чтобы там вот получить какую-то 55 миль последних данных ну да накапливать все мониторится при помощи сенсор я понял и второй вопрос где у вас система оповещений с помощью которые то вы разговорчиков будете что там но мониторинга должна быть не только система сбора данных моя система реагирования данные на по вещанию да вот тысячи рассказывали или я потерял я в я и длительно забыл показать но это просто такой вот такая штука она может быть абсолютно разной вот есть сервер и у самого сын су есть такая концепция как хендера то есть на какое-то событие ты можешь выполнить как скрипт достаточно просто и в есть скрипт который конектится к божене crack the rope услуг пейджер duty и дальше уже is magic beauty виктор овса или уважением мы используем уже не по ряду причин уже дергаются разработчикам то есть сама команда по их расписанию все такое но это уже внешняя штука за которое мы просто платим деньги потому что она удобна она звонит ситуация у нас есть несколько уровней эскалации то есть примеру за все инфраструктурные штуки там практически там например самой наши большие базы данных наши балансира не знаю там сеть место на родах всякие такие инфраструктурной штуки отвечаем отвечает abs команда то есть дергает сервер когда видишь то есть где то проблема дергает триггер общение и уже не получают типа так такую штуку ну ка скажи ка abs команде что у нас такая-то проблема и текст проблемы в итоге уже не пишет сообщение в слайд если там если уровень очень высокий он уже дергает саму abs команду и говоришь эти потоки так пацаны тут проблема и собст команды по расписанию выбирается человек который получает если он не получает получается опус команда в общем там спустя там две минуты с мск пять минут звонок 10 минут вся опус команда получает смски и все месте бегут к ноутам у разработчиков примерно такая же система точно также их чек срабатывает что там какая-то большая большая беда дергается сансу сервер sims веб сервер дергай так же неуважение дергать расписания разработчиков смотри кто из них прав кто не прав у вернул кто из них сегодня дежурит кто не дежурит и дальше уже зависимость от этого дергай там следующего человека или предыдущего если разработчик не отвечают дергается abs команда если abs команда не отвечает дергают этом разработчики которая за это могут быть и частично привлечены какому-то проекту так это уже более-менее специфичная и не универсально мы сделали так очень удобно спасибо за выступление можно с можно слать ноты подскажите пожалуйста вот получается стать здесь складывают в influx биби и только сансу клиент с этим работать то есть вы никаким веб-интерфейсом никакой разработчики напрямую вот эти influx baby но ты не смотрит так ну чаще всего нет но если начинаются какие-то проблемы на external storage же то можно посмотреть их там уже мы оставляем web-интерфейс на всякий случай если как раз уже вопрос безымянным все свои мысли сервера не будет имен значит нам надо будет общим от отдельная штука мы его оставляем на всякий случай то есть если вам необходимо будет уже графону сможете подключить конкретной ноги и там смотреть это мод достаточно удобно здрасьте у меня такой вопрос из за того что я понял вы перенесли написание вот списка метрик и поведение мониторинга на основании этих метрик на разработчиков и в итоге chef или что там у вас по сути генерит какой-то список метры который потом sense у discovery а почему вы просто ну вот вы говорили да что за битва мне подошел взяли бы написали чехова и рецепт который бы там через забит себя и configure все то же самое через забег сопя и ну тут второй вопрос в записи все метрики хранятся ну то есть можно было быть дергать все через а без опять но это было бы то есть мы получается во-первых так некрасиво архитектурно потому что ты даже если ты дергаешь через замес японии они через веб морду все добавляешь то надо все равно делать и описание всех ролей за пикси то есть ты ну то есть чтобы вот он там что-то исполнял либо каждая нота отдельно роль все можно труда можно также чтобы разработчики писали то я так понимаю что рецепты чего никогда-то же сами пишут который отвечает за генерацию собственно это немного не то не нас не пришли рецептов amis до tabaqui с которого генерятся мутации все можно автоматизировать но вторая проблема zabbix а в том что там нельзя хранить метрики много и долго то что они используют mais quel это неудобно и там ну пока мере версии который мы использовали это было полтора года назад там были большие проблемы с добавлением графиков скринов там надо было где все отдельно по выносить под каждый сервер но не очень удобно и еще вопрос идут понимаю что метрики в конечном счете диска варится для каждой ноты и для каждого приложения а если вам нужно например оценить перформанс приложения которое там стоит на куче нот и нужно взять много метрик с разных нот и когда их посчитать и вот что-то получить все делать на 2 года тогда как configure ца это no external storage а куда это второй знает с каких серверов взять какие метрики как по счету у отличный вопрос я забыл об этом рассказать получается когда мы пишем но метрики вот отсюда в стад де винн fluke спешит метрики без имени сервер на котором он находится смогу метрики примерно вот такой формат если мы пишем на глобальное хранилище мы пишем вот такое полное окружение то есть это окружение роли и минуты и дальше пошла метрика длиннющая если мы пишем на локальный flux мы просто пишем метрику ли днище и соответственно нам на граффити всегда можем знать там по окружению пароли какие-то ноды ну то есть и по имени но да вот тоже через тоже через удаление чичи через grifid то стаде конфигурируется через шеф а посмотрите ну граффити полчаса назад граффити много метрик там например про от балансер баланс r1 и пошел там дальше engine x на место там что-то что-то что-то понятно ну получается в случае там если например мы хотим оценить общую производительность 10 not мы добавили еще одну ну да нам надо пойти руками в графит добавить это как-то учет не вот эту штуку умеют grafana я бы хотел чтобы вы обратили внимание но тут нету в общем про пони есть такие типа bold карты ты можешь я понял да вот это удобно там добавляешь но тот раз появляется графа нет м и сразу появляется в агрегации сразу все видишь может отдельно перейти на каждую ноту типа это клёво ну то есть ты можешь получить здоровенный goldcard как какое состояние допустим на всех балансиров и нациях базах данных и потом отдельно переходить по каждой ноги вниз смотреть как именно такие графики именно на ней спасибо самый классный мне все понравились да ну мне кажется сама детального нa nokia я будущая что всем все понятно если вдруг что я здесь буду сегодня завтра можно всегда подойти и спросить уточнить и нет нет нет еще и и если у кого то есть ответ а вот эти вот вопросы или какие-то мысли я буду очень благодарен и очень рад побеседовать дружеский дружеской семейной обстановке спасибо"
}
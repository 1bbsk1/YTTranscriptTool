{
  "video_id": "aDy8IcAO100",
  "channel": "HighLoadChannel",
  "title": "TechTalk с Авито / Андрей Аксёнов",
  "views": 1136,
  "duration": 695,
  "published": "2021-10-04T02:45:36-07:00",
  "text": "ври привет и артем и снова здрасте я редактор оборот бывший рукой я бывший доктора хабра сейчас ведущий подкасте мы обречены раз познакомиться чем занимаешься сейчас начнем регулярно чем работаешь глобально маленький предводители мама группы разработки просто выберу поиска новички которые мы растим за грехи мои тяжкие мы все еще гоняем замшелые самописный движок сфинкс который я когда-то тоже видимость грехи будь она неладна писал и мы побежим поддерживаем и развиваем всякому дописывать ты же его сделал давно и не для vita ты просто как вы праву он вообще как-то считаю что он выдержал те требовали которым сейчас у него есть то есть api тоже тоже меняется и там сейчас 80 миллионов объявления завтра будет 160 миллионов но при этом у нас как бы боевой поиск это 80 миллионов объявлений это то что оперативно доступно каждую секунду в каждом первом пользователю всякие внутренние системы которые тоже на сфинксов крутится в которых и побольше да миллиардами измеряется например у админке с архивом всех объявлений но что интересно это принципе тоже не сильно я знаю светлом прошлом были инстанции в которых и еще больше до сотни тысяч серверов и этому за слишком большим количестом документ по большому счету кирилл из данных достаточно некомфортно оперируете и был тогда и до сих пор может когда ничего с этим наконец сделаем вот но как бы я к тому что масштаб там порядка 100 million документ1 10 миллиардов документ дома привычно но сейчас таких боевых условиях есть моменты на которые ты смотришь такой боли ну почему я тогда там не знаю после назад сделал по-другому 20 а что вы дружно все 13 ментальные возраст и вообще 11 но к несчастью 20 а во вторых на эти моменты они есть вы понимаете постоянно все ним последние 20 лет в любой конкретно взятый момент мне хочется взяли все переписать на хрен вот но нет надо держать себя в руках нельзя все ломать надо на чем-то сидеть а некоторые моменты наверно там наоборот тут удивляешься блин-компот какой-то замшина а ты меня не работает до сих пор и честно говоря нет желания его люто бешено полностью переписать а в основном скорее ну наверно больше половины года который делается это все таки что то что будет меняться можешь например высказать какие-то вещи которые ты был меньше всего готов который было сложнее всего три движок поиск но ты напеваешь сейчас у нас потом включает общем мель модули я не думал что 20 лет назад об этом думал что такое но 20 лет назад какие ожидания догадался о том что есть такая штука как имели которая по большому счету над статистиками см астероидов и там линейная модель сотни входов они там с тремя входами пайк не как ни странно в этой части все достаточно легко как раз интегрируется то есть интеграция той же самой эмаль модели ранжирования достаточно штука оказалась простая потому что привело бы к нему к подобному сразу готов многое steam один прекрасный момент уже там вырос на концепция под названием utmost сигнал оранжевыми форма выраженными так далее выросла некая считал к этих самых сигналов форма выражения и все что оставалось делать от просто обеспечить возможность подцепить удэ функцию и в эту да я функцию передавать достаточно большой бинарный блок со всеми сигнал беранже нами которые мы хотим туда передавать достаточно тривиально занятия вот поэтому это был сделан еще десять лет назад опять таки дев действует назад по моему мой первый раз как такие боли менее мои обычные модели вк ухаживали делалось это в тот момент не для vita делалось для одного тогдашнего клиент которые строил там маленький региональный поисковик по одной среднего размера европейской стране вот там был соответствует уже сфинкс там выберем модели и нам первый рассмотреть самые модель поручили он тебя в консоль лежит лежал определенному моменту в open source все после определенных увлекательных событий переживаний с одной стороны с другой стороны я внезапно понял что прямо сию секунду никакого прока с этого конкурса не будет ни для какой заинтересованной стороны но смысле для проекта роток не вижу для себя так уж тем более вот пока вот таком закрытом режиме может быть как open-source вернемся может расскажу что такое случилось почему так решил а ну там это длинная увлекательный или наоборот длинная не очень интересная история вкратце и как бы это давай совсем большими масками следующим образом очень непросто зарабатывается пин снова 2 шт а который ты абсолютно за бесплатно делаешь раздаешь и и пытаешься зарабатывать хрен пойми чего нельзя все отдавать за бесплатно надо что три продавать вот продавать у нас как бы всегда были некоторые сложности и поэтому на самом деле текущую версию который разрабатываемые тем боль послушаюсь я ее прикрыл еще в годы когда попытки зарабатывает на собственного движка не кончились уже там не знаю группу а рядом четырнадцатом году если они конечно уже было понятно что то что то менять в кавычках бизнес модель бизнес в гигантских кавычках потому что особого бизнеса в этом утра несколько счастью не было а и уже тогда искать решила что маг будет делать где-то разрез версия за деньги вот версия без денег и поэтому никакие большие фундаментальные перья белки которые были за тельные еще тогда до дома в 400 вроде надо их прикрыть и потом где-то провести линию разрез соответственно после всех этих перипетий названием кассовый разрыв довольно бога получается жили до 1 нормального кассового разрыва с одной стороны но здорово говорят там 95 процентов так называемых стартапов в это дело заезжают на дистанции в 1 1 2 3 года у дергались несколько дольше в свое время но ну чё за твои оказался достаточно фатальной очередной разрыв читы деньги кончились совсем самое главное что приток денег кончилось тоже совсем там было еще массу неприятных моментов научно как как сказать как в любом разводе скажем так но это уже наверное тема для отдельного рассказа и обычно там поклоном рассказанным с углем и мечами за четырьмя литрами пиво и постепенно переходим от и а он когда он был в open source его легче было ним работать был какой-то вклад от сообщества значимой интересный вопрос легче или нет я бы сказал что вора хомячки ттт 7 комфортнее наоборот то есть понятное дело что в целом всегда удобнее работать когда ты nissan там какая курочка по зернышку тут копеечку так отливку а вот снова нихера когда у тебя сзади к тебе прилепим мышечной гигантская компания со всеми ресурсами и возможностью эти ресурс так или иначе использовать ну как будет понятно дело сильно поле комфортно режим жизнь вот понятное дело что тут как бы палка о двух концах и естественно если у тебя твой проекта люто бешено взлетает и сам начинает генерировать сильно больше денег чем у при большой компании у него в принципе когда не забудем за бюджете вы то наверно пара некие спин-офф open принять этот и самой большой компании случая со сфинксом это случается сфинкс можно всю жизнь достаточно мало зарабатывал всю жизнь как бы это соответственно его независимая жизнь была не сказать чтобы как бы усеяна розовыми лепестками и корпоративными с черной икрой с соответственно выдающиеся золотых чашечках бриллиантовыми ложечками поэтому в рамках большой компанией ну честно говоря одну жить легче много чем по меньшей мере вот на этой там стартовые фазе под названием и еще пока там свои 100 миллионов долларов с share via не делаем вот чисто теоретически чисто теоретически наверное можно построить разработку следующим образом если у тебя есть достаточно большое количество компания интерес антов каждая делает разница которых делает чуть достаточно новое хорошее и интересное и которая можно скажем так в общую канал хорошо уложить а его проект замерз теоретически это возможно какие то вот прям супер комьюнити проекты такие есть тот же пост бриз например по большому счету вот такой суперкар менти проект некоторым трудиться далеко не одна компания и каждой из которых по 2 ливает что тут вообще дерево , а сфинкс до такого масштаба черт его знает то ли не дорос туле в принципе невозможно что он до такого масштаба дорос потому что насколько я смотрел и языка смотрю на более другие проекты которые тоже про поиск в основном и понятное дело люсин и все что поведает нам о библиотечка люсин и тот сервер который в этом сезоне модны строить поверхность а они всегда у меня конечно может неверное впечатление пошли к недостаточно хорошо там умею распарсить 250 мегабайт джавс кого кода 220 мегабайт из которого это в основном то мне нужны реальные комментарии и там премиальный фабрик но у меня такое ощущение что по меньшей мере за ядре скажем так движка библиотека так далее где-то процентов 90 кода делается выбор там про не ограниченным кругом лиц который возможно формально входит по разным компании но их там допустим 5 до если думает об opensource что это также очень мало люди на самом деле то есть он такой открытый но контролю реальным а большой 1 раз контрибьютором там пара человек странных именно так большое количество контрибьютором при этом одновременно с этим может возникать в какой части там типа а вот ведром и лезть опасаемся но зато мы прикрутили вот этот плагин вот этот плагин вот этот план вот такая вот штука она конечно цветёт и пахнет сильно сказать все сели на шепчи чем попытки привлечь к разработке ядра при каких условиях и бы вернул его вы пан source сложный вопрос вот на данный момент я натурально не вижу никакого там объективного плюс at a person's а кроме никого имиджа и то даже уже не уверен насколько как бы это важно или не важно для конкретных пользователей для того чтобы этот мир был вот если бы сейчас ты мог вернуться в прошлое с текущими своими знаниями о том во что превратится в проект и что-то одно сделать по-другому чтобы это было не ну это ответ на этот вопрос нет несчастья готов еще до того как я придумал сфинкс и он звучит примерно как а в момент ваучерной приватизации я бы украл ящик водки украл ящик водки много ваучеров на которой там вкладывается в исламе газпрома потом конвертируется в биткоины и в принципе на данный момент был он маску меня где-то уже в подметки если такие признание ну ладно успеха теперь хорошо готовится докладов надеюсь получится круто хорошо выступить ай да надеюсь где мы спасибо"
}
{
  "video_id": "2t8nqFdp03s",
  "channel": "HighLoadChannel",
  "title": "Как собрать огромный датасет и не потратить / Александр Капитанов,  Карина Кванчиани",
  "views": 181,
  "duration": 3087,
  "published": "2023-10-06T07:17:11-07:00",
  "text": "Карина Спасибо большое что ты сегодня с нами Карина сейчас расскажет соответственно основную часть этого посыла как вообще тратить меньше денег а потом Карине присоединится ее коллега Александр и в сессии ответственных вопросов может быть добавят технических подробностей Так летом мы опубликовали в открытый доступ самый большой и разнородный датасет жестов и Сегодня я расскажу о процессе его создания Начну с того чем занимается компания Сбер девайсы разрабатывают устройство для системы умного дома И помимо самих устройств девайсов продуктом компании также является сервис видеоконференций джаз и несколько лет назад мы уже внедрили в продукты компании система распознавания жестов и пришло время эту систему улучшить и начали мы с набора данных для задачи распознавания жестов вообще задача распознавания жестов эта задача компьютерного зрения и разделена на как бы на две части во-первых это детекция кисти рук и во-вторых классификация самих жестов Разумеется перед началом сбора данных мы сразу же понимали какая будет разметка то есть во-первых набор данных должен быть размечен баунтинг баксами и во-вторых он должен быть разделен на какие-то классы жестов что касается классов жестов здесь мы подошли к их выбору достаточно серьезно и выбрали наиболее функциональные и легкие в исполнении жесты их не очень много для того чтобы не перенагружать пользователя и достаточно в принципе для каких-то основных функций назвали мы набор данных Хагрид и состоит он из более чем полумиллиона изображений в высоком качестве и разделен на 18 классов жестов также в наборе данных имеется дополнительный класс не жест для того чтобы обученный последствия алгоритм на этом наборе данных умел разделять вот эти понятия жесты и не жесты набор данных очень разнороден по субъектам и по сценам Это около 35 тысяч и также разной Родины по возрасту и полусубъектов что касается здесь освещения и расстояние субъектов до камеры Мы можем сделать вывод о том что набор данных разнороден по этим характеристикам просто исходя из огромного количества различных субъектов и сцен то есть Все люди делают фото самих себя находясь в разных помещениях при разных условиях И разумеется на различном расстоянии до камеры изначально мы знали что набор данных будем собирать большим И для этого Удобнее всего использовать краудсорсинг платформы Об этом я кратко расскажу в начале после опишу paypeline сбора и разметки данных расскажу о его минусах и о том сколько бы мы на сбор набора данных потратили если бы мы на этом плане остановились после расскажу о минимизации затрат и о том как мы существенно повысили качество разметки и после пары слов о публикации в опенсорс и в заключении об автоматизации кротсорсинг платформы для решения данной задачи мы выбрали две это Яндекс талака и ABC элементы они отлично дополняют друг друга основной основное преимущество Яндекс толоки разумеется это количество разведчиков то есть данные собираются там быстрее но и основной Point использовать ABC элементы это наличие модератора и возможность внедрения каких-то кастомных фичей проекта также у этих двух кротсорсинг платформ есть очень много общего в апе и в интерфейсе нам это очень помогает помогло в автоматизации paypeline и собственно во взаимодействие с этими кротсорсинг платформами также и Яндекс Толока и ABC элементы основаны как бы на трех сущностях во-первых это проект второе пул И третье задание мы как заказчик публикуем на краудсорсинг платформе проект который состоит из множества полов это может быть пул обучение где мы обучаем разметчиков выполнять то или иное задание пул экзамена где мы проверяем то чему они научились и полы с основными заданиями которые уже пойдут в набор данных ну и сами задания поступают на разметку исполнителя в целом paypeline сбор и разметки данных у нас выглядит Так Сейчас я расскажу в целом и дальше о каждом из этапов подробнее сперва для набора данных нам нужны изображения мы их полностью собираем на Яндекс толоке после идет этап где мы удаляем дубликаты и фото с низким разрешением этот этап полностью автоматизирован так как нет никакой нужды переносить его на кроусорсинг платформу третий этап этап валидации На этом этапе мы отсекаем изображение которые нам не подходит по тем или иным условиям и в заключении два этапа я их рассмотрю вместе это разметка боксами и валидация разметки После чего мы планируем получить итоговый набор данных начнем со сбора изображений тут задача исполнителя на кроотсорсинг платформы была Дана следующая нужно было показать указанные в задании жест сделать фото сами самого себя с этим жестом Ну и несколько условий основные из которых следующие первое рука с жестом должна быть полностью в кадре и фото должно быть сделано с расстояния от 1 до 4 метров откуда вообще такие условия с помощью этих условий Мы хотим минимизировать долю селфи в изображениях которые нам присылают почему там много селфи Разумеется исполнителем намного легче сделать фото самих себя просто вытянув руку то есть сделав селфи почему же нам нельзя их иметь очень много Мы помним тут озадачи мы хотим делать систему распознавания жестов для управления девайсами и как мы себе это представляем допустим стоит человек на каком-то не очень близком расстоянии от него стоит девайс и человек в камеру девайса показывает жесты Разумеется здесь данные нужны соответствующие то есть селфи для этой задачи нам в основном ты не подходят немного о настройках доступ к данному проекту имели 80 процентов лучших исполнителей и также для дополнительной мотивации исполнителей мы вели динамическое ценообразование тут стоит помнить вот о чём исполнителем По большей части вообще все равно какой набор данных получится будет он качественным подходящим по всем условиям и так далее поэтому мы вели динамическое ценообразование то есть исполнитель присылает изображение мы проверяем их на этапе валидации ставим какой-то статус допустим Верно неверно и если у него очень много верных заданий мы повышаем цену за это задание в последствия следующим образом выглядит проект на Яндекс толоке То есть это множество плов и здесь сразу стоит заметить что у нас каждый пул это отдельный жест то есть Мы помним что нам нужен набор данных в том числе для классификации и поэтому мы решили не классифицировать все изображения после того как мы все это собрали А вот сразу на этапе сбора изображений мы разделили все жесты по планам и дальше Весь процесс сбора и разметки и валидации и разметка баксами они будут происходить отдельно для каждого жеста Ну и в итоге после этого этапа мы получаем там какие-то папки с изображениями Где в каждой папке соответствует изображение с определенным жестом следующий этап дубликаты и фото с низким разрешением если про фото с низким разрешением понятно откуда они берутся то откуда же берутся дубликаты появляются они в основном из-за недобросовестных исполнителей то есть для того чтобы Может быть там получить больше денег выполнить задание все побыстрее Они могли прислать дубликат своего фото или вообще прислать шаблон Разумеется на этом этапе мы пытаемся от всего этого избавиться если с низким разрешением понятно то дубликаты мы удаляем посредством сравнения хешей также у исполнителей иногда они придумали что-то более не примитивное и вот мы с вами посмотрели что они могли прислать дубликаты могли прислать шаблон также есть исполнители которые подошли к этому заданию более творчески и уже присылали шаблон С какой-то обработкой Разумеется такие изображения с наибольшей вероятностью пройдут через этот этап и попадут потом в итоговый набор данных также есть исполнители которые очень сильно постарались и могли присылать дипфейки это вообще все к чему а к тому что при сборе данных периодически стоит смотреть на данные глазами чтобы понимать как потом выстроить процесс отбора изображений То есть если мы посмотрим только в начале Разумеется там не дубликатов может не быть не деппейков то есть периодически нам нужно проверять Что же нам присылает исполнители с аутсорсинг платформы следующий этап этап валидации здесь задача исполнителям давалась следующее нужно было определить Верно ли выполнен жест на фото в соответствии шаблоном мы уже посмотрели Что бывает фото с низким разрешением и дубликаты которые нам нужно удалять также исполнители могли прислать на этапе сбора изображений что-то вообще не подходящее по условиям в основном это была куча селфи независимо от того там поставили мы такое условие или нет также это могли быть просто фото с неверно выполненными жестами с изображениями с интернета и на этапе валидации мы пытаемся от этого всего избавиться для этого этапа мы ввели два дополнительных Пула для каждого из жестов во-первых это пол обучения доступ к нему имеет сто процентов пользователей лучших отобранных Яндекс толокой каждому из них даются 10 заданий при неверном выполнении каждого из них высвечивается подсказка Так мы обучаем пользователей выполнять задания верно и если пользователь выполнил 10 заданий мы назначаем его навык обучения который равен проценту верных ответов и этот навык обучения мы впоследствии используем в поле экзамена тут уже доступ к нему имеет Не все только те кто прошел обучение с не менее чем 70 процентов качества также дается 10 заданий Разумеется они другие И разумеется без подсказок тут тоже при выполнении всех 10 мы назначаем уже навык экзамена То есть это два отдельных навыка и навык экзамена Нам нужен для основного пола то же самое Тут пользователи к основному пулу имеют доступ только если они прошли экзамен на 70 процентов и выше каждая десятое задание в основном поле является контрольным то есть мы знаем на него ответ нужно Это для того чтобы периодически то есть каждая десятое задание проверять исполнителя насколько верно Он выполняет их если он неверно выполняет контрольные задания Значит мы уже не можем быть уверены выполняет ли он хорошо все остальные на которые мы ответ не знаем и такое мы распознаем и можем таких пользователей заблокировать также в этом проекте мы вводим перекрытия то есть одно изображение у нас должны проваледировать три исполнителя и ответ уже на изображение верно оно выполнено или нет мы получаем мнением большинства на этом проекте на проекте валидации также есть динамическая ценообразование для того чтобы дополнительно мотивировать исполнители выполнять задания верно следующие два этапа разметка боксами и валидации разметки разметка боксами тут задача давалась такая нужно было выделить кисть руки с жестом красным прямоугольником и кисть руки без жеста зеленым Ну и условия по типу не нужно было выделять кисть если она там обрезана и обязательно каждому из баксов соответствует должна соответствовать верная метка метка тут вшита в цвет на платформе то есть красный бокс это бокс для жесты и зеленый бокс бокс для не жестов на этом проекте у нас также есть обучение экзамен через который нужно пройти чтобы получить доступ к основным заданиям валидация разметки Тут нужно было определить верное или неверно очерченные баксы очерченные жесты баксами и какая вообще проблема в этих двух этапах и почему мы смотрим на них вместе проблема в выборе перекрытия и для разметки и для валидации разметки посмотрим на график зависимости и рассмотрим зеленую точечку это одно изображение мы разметили три раза и каждую из этих разметок мы три раза проверяем Какая здесь проблема мы одно изображение дали по сути на разметку 12 людям то есть 12 человек как-то повлияли на разметку всего лишь одного изображения и вот это вот большое количество воздействия разведчиков оно нам мешает тем что нас очень сильно падает уверенность в разметке разумеется если мы будем повышать это перекрытие то качество будет расти Но в этой разметке мы все равно не можем быть уверены оно будет падать Ну и стоимость Разумеется тоже очень сильно быстро растет а Посмотрим теперь на желтую точку это одна разметка на одно изображение и 5 проверок этой разметки Казалось бы здесь все окей и с воздействием разведчиков всего 5 точнее 6 и с качеством уверенность тоже окей да и стоит это не очень много проблема вот в чем допустим у нас есть это одна разметка и мнением большинства 5 валидаторов решили что она выполнена неверно Разумеется мы эту картинку отправляем на переразметку но каким-то людям из этих пяти валидаторов мы уже должны заплатить То есть это разметка до бесконечности может Перри размещаться и мы все это время будем платить валидатором Несмотря на то что это выходит Дорого это может просто занимать какое-то очень огромное количество времени и здесь в базовом таком paypeline мы останавливаемся на том что берем 5 на 5 то есть для нас очень важно качество поэтому мы выбираем пять раз каждую картинку размечать и валидировать тоже каждую разметку 5 раз paypaline получился следующим и Давайте посмотрим на то сколько это вышло по стоимости на каждом из этапов и на одно изображение тоже на каждом из этапов здесь N Это количество изображений которое поступает на каждый из этапов с Это стоимость задания на каждом из этапов а здесь можно заметить что на валидацию разметки уходит очень большая часть всей этой суммы и что касается классификации здесь она включена потому что мы ее строили в сбор пайплайна Но это все-таки является неким лайфхаком для сбора данных для задач классификации сколько же в итоге мы бы потратили если бы на этом всем остановились получилось бы 220 тысяч долларов картинки для понимания что это очень и очень много на набор данных И помимо того что это очень дорого это еще и не очень-то качественно Мы помним из валидации разметки что качество там хоть и растет мы взяли перекрытие 5 на 5 но уверенности у нас в качестве этой разметки нет Разумеется так оставлять не хочется и так как у нас наибольшее количество вопросиков к валидации разметки Мы подумали что нужно что-то с ней сделать а именно решили автоматизировать перед тем как все это дело автоматизировать то есть проверку разметок мы должны понимать Какие вообще разметки бывают разметка может быть идеальной все боксы на своих местах все имеют правильные метки она может быть хорошей То есть это плюс-минус там все Окей но бокс немножко пошире чем нам нужно и это при автоматизации тоже стоит учитывать вообще На этом бы хотелось остановиться посчитать что вся разметка бывает либо идеально либо хорошей но увы это не так во-первых исполнитель при разметке может нарисовать бокс немного левее правее Или вообще не там где нужно Может поставить не ту метку Или вообще не нарисовать бокс также бывают случаи где бокс просто может быть на все изображение Почему бы и нет здесь мы опять должны помнить о том что исполнителем по сути без разницы что там у нас получится с качеством набором данных и пройдя обучение и экзамен получив доступ к платным заданиям они все равно продолжают Некоторые из них лажать для того чтобы там сократить время на разметку и так далее начали мы писать алгоритм агрегации разметки и изначально разметок взяли 3 первый этап нашего алгоритма агрегации это карта агрегации выглядит она следующим образом хард-агрегации из названия здесь уже должно быть ясно что тут в основном будут очень жесткие условия то есть мы проверяем вот эти три разметки одного изображения на соответствие задавая условия если разметки этому условию соответствует то мы идем дальше по алгоритму Если нет то из алгоритма выходим и думаем что дальше делать с этой разметкой теперь о каждом этапе подробнее во-первых мы проверяем на количество баксов В каждой из разметок разумеется если они все выполнены верно то там должно быть одинаковое количество баксов В данном случае у нас в каждой из разметок по два бокса поэтому Идем дальше следующее мы делим все баксы на группы по их местонахождению то есть данном случае группы две это Верхняя которая соответствует жесту и нижняя которая соответствует ни жесту и так как у нас всего три разметки если они все соответствуют между собой в каждой из групп должно быть по три бокса если это не так значит кто-то из размечков забыл нарисовать бокс или нарисовал лишний бокс такое тоже может быть Разумеется тогда в этой разметке что-то не так мы Разумеется тоже не знаем кто ошибился поэтому тоже из этого алгоритма выходим просто потому что уже есть какое-то несоответствие в данном случае в каждой группе по три бокса поэтому Идем дальше следующая проверка Это проверка на метки тут тоже проверяем метки в разрезе каждой из групп то есть в каждой группе по местонахождению все метки должны быть равны между собой в данном случае на третьей разметке метка другая в отличие от двух остальных в Нижней группе поэтому уже кто-то ошибился Мы тоже Разумеется не знаем кто и поэтому считаем что с этой разметкой что-то не так есть какое-то несоответствие поэтому из алгоритма мы бы вышли представим что Никакой ошибки не было в данной разметке и посмотрим на последнее условие условия на перекрытие в каждой из групп перекрытия должно быть не менее 70 процентов для того чтобы Мы понимали что все разметки нарисовали бокс там где он реально нужен Ну и в данном случае это тоже так и если бы не та метка на третий разметке мы бы такую разметку с агрегировали после хартогрегации достаточно много изображений разметки изображения сагрегировалось но также были те случаи когда все-таки в разметке что-то было не так что мы тогда делаем мы еще раз это изображение разметку которого мы не сагрегировали посылаем еще раз на краудсорсинг платформу еще один исполнитель размечает нам это изображение и у нас уже четыре разметки Разумеется в Хард агрегацию 4 разметки посылать уже нет никакого смысла То есть у нас в тех трех было какое-то несоответствие поэтому мы не с агрегировали разметку 4 здесь ничего нам не изменит поэтому 4 разметки у нас сразу же идут во второй этап агрегации в софт-агрегацию выглядит она уже пострашнее следующим образом и и в принципе можно понимать как некую предобработку перед хард-агрегацией Мы видим что на схеме есть Осталось карта агрегации то есть вот эти жесткие условия они все равно нам очень нужны суть такая что мы делаем какие-то действия с этой разметкой как-то ее преобразуем пытаемся сделать так чтобы все разметки были соответствующими между собой и потом пытаемся это прогнать через хард-агрегацию допустим есть следующие четыре разметки видно что там много чего не окей и идем по алгоритму сначала первое действие мы удаляем слишком маленькие баксы и дубликаты слишком маленькие баксы они получались просто из-за невнимательности исполнителей то есть они могли случайно кликнуть в интерфейсе нарисовался бокс они его не увидели но Разумеется нам этого разметку попадает такое удаляем дубликаты примерно тоже самое за невнимательности исполнитель нарисовал бокс он ему не понравился он нарисовал там еще один а тот не удалил вот таким образом получается дубликаты и из первой и второй разметки Мы из первой удаляем слишком маленький бокс и второй разметки удаляем дубликат Идем дальше здесь мы как в Хард агрегации мы раскидываем баксы по группам по их местонахождению и здесь мы уже находим те боксы которые остались одни в группе и мы сразу понимаем что вероятно кто-то в этой разметке раз никто его из других разметок не поддержал ошибся Поэтому такие баксы мы удаляем на разметке 3 такой бокс оказался и мы его удалили следующий этап проверяем метки и заменяем неверные метки на верные как мы узнаем Какие верные какие нет мы просто берем допустим Я еще вернусь назад здесь мы видим что в одной группе верхней У нас две два красных бокса и один синий красных большинство поэтому мы как бы больше верим тем размерчикам которые нашли свое большинство и заменяем синий цвет на красный полагаясь на то что эти два разведчика разметили верно а тот все-таки один ошибся получается разметка следующая Ну и следующий этап это добавление пропущенных баксов еще раз вернусь назад здесь у нас в каждой из групп и Верхняя и в Нижней пропущены по одному ваксу как мы добавляем пропущенный Мы берем все баксы из каждой из групп усредняем их по координатам и просто ставим полученный бокс в разметку где этого бокса в данной группе нет у вас получится примерно следующее то есть мы видим что проходя через софт-агрегацию мы приводим разметку какому-то одному виду и таким в таком виде мы можем ее уже послать в хард-агрегацию и понадеяться на на успех но этого успеха может не быть мы могли там что-то сделать не то мы же все-таки эту разметку не видим все-таки этот алгоритм он автоматизирован Вот и здесь делаем еще одну попытку это все с агрегировать берем уже преобразованные 4 разметки и итеративно удаляем из этих четырех по одной оставляем 3 и пытаемся эти три закинуть в картагрегацию понадеяться снова на успех то есть здесь мы проверяем гипотезу о том что вот мы преобразовали разметку и нам мешается в реагировать только одна из них таким образом получаем тоже после софт-агрегации какие-то разметки их снова после собственной агрегации может не быть есть еще один этап дроп агрегация и он последний состоит он в следующем здесь сразу можно заметить то что плюс-минус то же самое было в конце софт агрегации в чем же отличие софт-арригация мы по одной разметке удаляли из уже модифицированной разметки то есть мы там где-то поудаляли боксы где-то добавили там цвет поменяли и так далее а возможно что-то мы сделали не так и все там три разметки из этих четырех Они могли с агрегироваться в своем изначальном виде и здесь мы тоже это проверяем и также обязательно через карт-агрегацию это должно пройти что ж тоже какую-то разметку Мы после дроп агрегации получаем но также мы разметка может не сагрегироваться мы делаем еще одну попытку еще раз закидываем изображение на аутсорном платформу получаем еще одну разметку разметок уже 5 и проходим весь payline заново Разумеется там тоже какие-то изображения остались которые мы не смогли с агрегировать но видимо они там где-то не видно жест или еще что-то значит что-то вообще не так Если уж с пятью разметками нам не получилось это сделать и тогда мы такие изображения просто в набор данных не включая В итоге Хард облигации у нас агрегировалась 90 процентов всех изображений софт-агрегации 8 и дробь агрегации 1 процент то есть один процент от общего числа картинок мы не смогли с агрегировать то есть не взяли их в итоговый набор данных итоговый paypeline выглядит следующим образом то есть мы тут просто валидацию заменяем агрегацией и собственно все Как меняется табличка классификацию Понятно Мы убираем валидацию заменили на агрегацию И разумеется мы тут за агрегацию ничего не платим то есть по сути нам удалось снизить затраты на набор данных с 220 тысяч долларов до 62 что ж мы собрали набор данных и Следующий вопрос который мы задались Почему бы нам его не опубликовать в открытый доступ но просто так это не сделать Необходимо еще пару действий выполнить и действия следующее нужно было из получившихся набора данных выкинуть изображение с детьми в кадре с людьми без одежды с Water марками и с запрещенной символикой для того чтобы это сделать мы ввели еще один этап этап фильтрации и его полностью производили на BC элементы почему там потому что на BC элементаре это платформа сбера и часть разменщиков они сотрудники сбера то есть здесь уже более заинтересованы исполнители в качестве набора данных поэтому мы им больше доверяем И этап фильтрации здесь наиболее важные потому что все-таки мы кидаем его в Open Source Поэтому решили делать на ABC элементы что касается публикации в Open Source это тоже все и немножко про автоматизированный paypeline Зачем вообще это все автоматизировать Разумеется на кротсорсинг платформах собирает такие большие данные это постоянно запускать полы с различными условиями в разных проектах и так далее руками это делать Достаточно долго и муторно Поэтому в процессе создания набора данных жестов создавался sdk на основе API выбранных crossoction-платформ и с помощью этого автоматизированного paypeline мы просто могли запускать либо По отдельности либо задав расписание поочередно и сбор изображений после сбора изображений когда он закончился валидация и так далее То есть мы минимизировали свою вовлеченность в сбор данных до минимума И помимо данных для классификации и детекции этот автоматизированный pipeline Мы также использовали для данных по сегментации Вот то есть это работает во-первых не только для жестов А вообще Для любой задачи детекции и помимо детекции еще и сегментации классификации тут примеры Какие данные мы еще собирали это сегментация кожи и детекция лиц и так далее Вот и на этом я заканчиваю здесь на слайде есть ссылка на статью на архиве про процесс сбора данных hugred там чуть поподробнее и ссылка на код на гитхабе по обучению наших базовых моделей Спасибо большое Карен друзья прежде чем мы перейдем к ответу на вопросы Я приглашу еще Сашу капитуну к нам он поможет нам отвечать на вопросы Из зала и для онлайн слушателей я напомню о том что у нас есть чат вопросы Привет Антон завод А на этапе дропа вы выбираете рандомно одно изображение и потом выкидывайте Насколько я понял смотрит и типа проходит вас через карту сегментацию сегментацию Или как это происходит на этапе тропа То есть просто выкинуть рандомно и пройти по всему процессу или как Мы берем 4 разметки итеративно пробуем одну удалить и оставшиеся три попробовать агрегировать через карту агрегацию То есть это не те три разметки которые были у нас в самом начале Это например там две разметки изначальных трех и уже добавлены вот и как бы этот вариант мы проверяем Что может быть добавлено нам добавила правильную разметку в те три и получилось агрегировать это теперь уже на хард облигации друзья еще вопросы Вот давайте сначала там потом вот туда Да хотел немножко уточнить по алгоритму агрегации там вот я видел есть Хард есть софт софт Насколько я понял это с добавлением там каких-то корректировок которые теоретически могут ошибки вносить Вот и в случае когда у нас Хард агрегация не прошла есть там веточка когда мы делаем четвертый дополнительный набор И вот странно не видел Я на складе что из этих четырёх картинок новых Хард агрегация не пробуются сразу идет всегда на софт или я неправильно понял то есть после того как Хард агрегации не прошла мы сделали четвёртую картинку мы не пробуем перебрать Хард агрегации э-э три картинки из четырёх и пропустить их стандартным алгоритмом сразу отдаём их носов-то агрегацию чтобы она а грубо говоря там сделал какие-то манипуляции которые могут дополнительные ошибки внести только потом уже и из них пытаемся перебрать если софт не прошла комбинацию из трех То есть если вот между харта софтом этап перебора из четырех одной картинки или нет все-таки то есть имеется в виду поставить дроп на место софта софт уже потом сделать Ну да не сделали Нет вы сделали новую картинку 4 вот здесь можете взять три картинки перебрать их Ну это же бесплатно автоматический режим это здесь не нарисовано ли это все-таки почему-то осмысленно решили сделать как раз таки про дроп агрегацию Где Ну там одна картинка в изначальном своём виде разметка удаляется и три попадают в карты агрегацию и вот между разница между софт и дров тут особо не было нарисовано это так но по сути это можно делать и сначала дроп сначала перебором ничего не модифицирует и потом уже выполнять софт не Ну получается Ну вы это осмысленно от этого отошли или нет то есть софт оно уже внесло изменения в какие-то картинки мы не знаем какие изменения она внесла и мы уже перебираем только изменённые картинки А вот на оригинальной картинке из них Хмм три картинки на перебор вы делаете или нет всё-таки Я поняла короче вот после этапа софта есть дроп агрегация и здесь как раз таки у нас берутся разметки в изначальном виде без тех модификаций которые были в совке то есть софтом мог какие-то ошибки всё супер Да я просто видимо не понятно объяснила Спасибо вот там вот у нас сначала вопрос был попрошу Добрый день спасибо за доклад опробовали к пользовательским разметкам подмешивать разметки сделанные каким-нибудь Open CV Или другими проектами которые пытаются что-то такое делать до Хороший вопрос на самом деле мы пробовали но так как Наша задача получить качественный этот отец высокой точностью с высокой уверенностью то например добавлять в качестве разметчика нейронную сетку мы не стали потому что нейронные сетки тоже есть своя уверенность есть какое-то свое качество это качество не соответствует тому уровню который нам может предоставить кроусортинг платформа то есть на кроссорсинг платформе мы можем там увеличить перекрытие у нас там пять разведчиков Эталон это всё разметит А сетка как раз таки нам внесет этот шум и только по сделает качество финального хуже и придется выбросить какие-то сэмплы А их на самом деле выбрасывать не нужно было вот поэтому Да мы пробовали и решили отказаться от этого Спасибо вот здесь вот у нас еще есть два вопроса А пока мы идем к вопросу и вот такой вопрос задам Мы про деньги немножко да А нельзя куда-то зайти там тупо заплатить не знаю 10 тысяч долларов и тебе просто дадут готовые даты сет но так тоже можно есть краудсорсинг платформа которая делает разметку под ключ но к сожалению здесь мы не контролируем процесс и мы не знаем э-э какой-то относительно к нам придет то есть они заверяют что он придется таким-то качеством но мы не можем этого гарантировать то есть вот у нас есть алгоритм который там условно написано на любом языке программирования и мы знаем что он работает вот так-то так-то так-то и он выдает такой-то качество А если мы просто кому-то подключали но они заявляют что хорошо А по факту оно будет хуже индусский датасет Понятно У меня по правде сразу три вопроса не знаю насколько это были легитимно Давайте два хорошо первый в талаке во всяком случае есть замечательный алгоритм называется Дэвид скин это по которому можно взять некоторую степень уверенности разметчике при принятии решения о том что доверять ли разметке человеку или нет вы используете его или это контролировать только на навык но мы ориентировались на навык то есть мы смотрели Какой навык У пользователя из но по сути навык пользователя являлся уверенностью при агрегации в ответе что тогда в этом случае происходит если пользователь в какой-то момент пришел Пришел вниз это получается у вас идет бесконечное задание на обучение экзамен и у вас происходит ситуация при которой Вам всегда нужно больше новых людей а старые Разведчики которые там особенно валидации и они плохой день произошёл вот вас существует задание или там механизмы а там в исполнении уровня навыка есть понятие реабилитации То есть можно пройти обучение экзамен Если вдруг в процессе выполнения боевых заданий у человека навык упал и его выкинуло задание то есть пол реабилитации который вечно открыт и он может его с каким-то интервалом перепроходить Ну понятно что не каждый день он там допустим перепрошел плохо разметил и так вот постоянно делает Да вот то есть он делал это там с какой-то периодичностью там раз в месяц Ну и тогда последняя Что делаете с теми что они прошли в лидацию с течению те которые не прошли все процессы включая дропа а если разметка не сагрегировалась вообще но просто выкидываем но мы считаем что она не сыградировалась никак на один процент это в принципе наблюдаете мы на неё посмотрели видели что какие-то сэмплы можно было с агрегировать но затратить ну потратить время разработчика на то чтобы смотреть дотащит это ну дороже чем просто взять и выкинуть благо мы его так там сократили стоимость там в четыре раза и там один процент но 1000 долларов условно на это потратили на то что мы выкидываем данные и всё спасибо вот там же сзади был вопрос Привет Спасибо большое за интересный доклад меня Миша смахалов зовут Меня пару вопросов смотрите первый это как в итоге оценить то качество То есть вы написали 123 сколько угодно алгоритмов что-то получили на выходе один там пол процента сколько угодно отселась Как понять в итоге хорошо или плохо Вот сейчас условно говоря мы можем видоизменить этот алгоритм добавить там вот софтов поменять местами еще что-то мы получим еще один dataset в котором тоже один процент будет от 7 вот как понять какой лучше какие есть метрики если можно может сразу второй задам вопрос почему не использовали везде сберовскую систему для разметки данных ведь очевидно выгоднее внутри где-то деньги распределять из одного дела в другой чем отдавать Вообще другой компании Спасибо я отвечу на первый Саша наверное на второй по поводу качества мы здесь как бы уверены в качестве потому что у нас после софт агрегации после дроп агрегации всегда есть Хард агрегация с достаточно жёсткими условиями то есть во всех разметках по итогу Там модифицированы они или нет везде будет одинаковое количество боксов Они все будут в каждой из групп одинаковые по меткам то есть такие жёсткие условия дают нам понимают что все разметки Они соотносятся между собой достаточно хорошо Ну и плюс на перекрытие там 70% разумеется если мы там кстати софт с дропом поменяем особо там разницы никакой не будет просто на одном этапе мы проверяем модифицированную разметку на дроп агрегациям мы там проверяем изначально разметку какое-то это наверное внесет изменения но я не думаю что качество прям сильно поменяется просто потому что после каждого из этапов всегда есть вот эти жесткие условия на количество на метки и так далее Ну вот я немножко до полно то есть дотосец высокой уверенностью получился качественным потому что на карта агрегации сагрегировалось 90 процентов это стопроцентная разметка но стопроцентное качество которое можно получить в харде То есть он ничего не модифицирует он ну как бы работает по всем жёстким принципам то есть там ничего нельзя добавить ничего нельзя убавить Ну и поэтому как бы все это с большой уверенностью качественный а Отвечая на второй вопрос почему мы не использовали мы использовали но мы просто не стали в рамках доклада говорить что Да мы и размечали и потом фильтровали этот сет на своей внутренней площадке но так как нам это ничего не стоило Ну как бы ну просто ну не упомянули но там тоже это делали Вопрос был Почему сразу всё не сделать именно так сразу всё А да есть такое ответ у меня тоже смотрите это платформа сберовская начала развиваться по сути Ну она моложе чем платформа кулаки А поэтому мы начали с толоки а потом соответственно перешли уже на наш здесь такой и Давайте еще один вопрос Спасибо за интересный доклад если позволить Ей чуть больше чем 1 вопрос задам Меня зовут Иван мне такой вопрос предложение одного из вопросов там был про нейросеть вы сказали что 5 разметчиков гарантирует лучший результат чем одна нейросеть такой вопрос опять нейросетей если они обычные разнообразные Они жены сомбрируют естественно можно повысить уверенность Это первый вопрос второй вопрос по поводу разметки опять-таки вы Задумывались над тем чтобы размещать не все изображения а самые полезные используя Active lening опять-таки нейросети нам помогут Ну и последний вопрос если позволите Это вопрос в одной из статьи Забавно прямо была была исследователя обучения различать коров и верблюдов изображениях и в итоге при тестировании Выяснилось что корова на пляже распознаётся или нет я начну со второго вопроса Active Learning pipeline мы внедряем то есть он но конкретно здесь мы его не использовали но в других наших задачах по разметке он используется то есть мы оперативно дособираем какие-то данные обучаем сеть она нам там как-то помогает а Конкретно здесь нет потому что Ну даже если взять 5 нейросети у них у всех есть какой-то свой конфидов своя уверенность даже если это будет самая большая жирная нейросеть она всё равно не даст нам ту уверенность которую нам дают Разведчики это Отвечая на первый вопрос А на последний у нас были по ТЗ условия где Ну фон и то что происходит сзади человека оно жёстко фиксировано то есть понятно что вот э-э вся эта система распознавания жестов используется для там распознавания жестов на девайсах этот девайс стоит в помещении там допустим или где-то перед телевизором человек находится в комнате и поэтому Ну у нас не было рассказываешь потом он будет сидеть на пляже у него сзади там будет пальма или там в торговом центре на улице или где-то еще вот за оверфител Линейная сетка под помещение Скорее всего нет поскольку dataset настолько огромный что я думаю что там все ну как бы сагрегировалось именно в пользу поиска все-таки руки или там класса жеста А не то какой там фон позади но я уточню как-то прописывали людям чтобы они делали фотографии там дневном свете да такие моменты они как-то с этим в метаформации про разметку отображались или нет смотрите вот конкретно в Open Source мы не выкладывали метку того где было сделано фотография При каком условии освещения но внутри у нас в системе такая информация есть потому что запуская полы мы прописывали там вот условно на этой неделе мы датасет в условиях яркого освещения то есть на фоне там источника яркого света а там на следующей неделе вам нужны фотки которые будут в темноте сниматься и вот эта метка она у нас там в нашей базе данных она у нас есть а вопрос планируете эту мета-информацию выложить или это слишком закрыто все но в принципе мы планируем вообще этот осет расширить То есть сейчас полмиллиона изображений 18 классов Я надеюсь в следующем году выйдет уже больше миллиона изображений там ещё ещё сколько-то классов добавим и скорее всего эту метку Ну возможно тоже внесём спасибо коллеги я предлагаю если есть ещё вопросы Потом обязательно продолжим дискуссионные зоне у нас к сожалению немножко у нас сначала поджимать время друзья мои У нас есть добрая традиция за лучшие вопросы зала выбрать подарок человека которому мы подарим подарок кому подарим Да посовещались выбрали парня в синей толстовке прекрасно автомобиль Нет это не точно подарок от за лучший вопрос от организаторов сзади вас друзья мои Спасибо вам большое за прекрасный доклад от лица организаторов от лица программного комитета вам памятный подарочки чтобы вы запомнили эту конференцию и приходили к нам снова друзья ловите пожалуйста спикеров дискуссионной зоне они она справа от нас как вы видите а-а А мы делаем небольшой перерыв перед следующим докладом на следующем докладе тоже коллеги из Бир девайса расскажут про очень хардкорную тему про интерпретацию результатов"
}
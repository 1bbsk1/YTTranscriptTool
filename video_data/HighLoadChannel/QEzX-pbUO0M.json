{
  "video_id": "QEzX-pbUO0M",
  "channel": "HighLoadChannel",
  "title": "Techtalk с Ильей Таратухиным (2ГИС)",
  "views": 331,
  "duration": 591,
  "published": "2022-03-21T14:12:02-07:00",
  "text": "приветствую всех на сайт хайланд сегодня я общаюсь и литературе нам и я привет я долго думал что два нецид новосибирская компания так почему вы решили открыть расистом петербурге при но смотри основе как со всеми случилось труднее мы научились работать но ударили кончик классный специалист по всей россии том числе и европейской части и появилось понимание что в одном новосибирске нам теперь снова где-то надо собираться и делать новые классные фич плюс так сложилось что у нас сейчас вектор компании на то чтобы делать жизнь жителя мегаполиса проще то есть уметь строить маршруты со сложными развязками показывается общественный транспорт на карте в режиме реального времени учитывать разводные мосты ну кто как не жителей санкт-петербурга знаешь что такое разводные мосты какие проблемы не сулят поэтому этот город стал прекрасной базы для нового офиса и помимо транспортных сценария мы также учимся хорошо решать сценария выбор например мы хотим пойти в кафе ларисе есть входу здания часы работы этого мало поэтому у нас есть фотографии отзыв мы хотим чтобы их было максимальное количество нашему продукт чтобы они помогают пользователям кроме того у нас сейчас есть классные эксперименты по взаимодействию с реальным миром например есть команда которая делает возможность 4 заправку прямо из приложения 2гис и я слушаю можно просто приеду и посмотрю это все конечно специально для тебя найду инженеров которые смогут рассказать в подробностях когда работаешь окей я выезжаю до встречи а теперь мы поговорим с денисом его новым человек блогера которому мы скоро сможем продолжение 2гис заправлять своей машины не выходя из машины denis привет привет расскажи пожалуйста как может работать такая магия все достаточно просто есть сети каких-то заправок есть топливные операторы которые агрегирует собой несколько заправок на как практически каждой станции установлено специальное по которая позволяет бензину проливаться через пистолет внутрь автомобиля вот и есть некоторые в интерфейс и с помощью которых мы можем управлять этим программным обеспечением чтобы контролировать процесс заливки топлива мы подключаемся к этим топливным оператором и используемых интерфейсы для взаимодействия с заправками то есть одна из основных сложностей до краски найти этих операторов согласовать с ними протокол взаимодействия и как бы адаптировать свою улыбку под их описку но в целом да то есть у нас а коммерческий отдел к треске занимается тем чтобы найти как можно больше этих операторов найти как можно больше станции подключить их как как можно больше в нашу систему вообще в россии порядка 30 тысяч станций заправочных и на данный момент когда мы будем запускаться вроде бы в районе 5000 а с будут такие сложности на прерывать пистолет и оффлайновой штуку которую нужно достать вот путь в машину нажать этот рычаг и по-любому как ты при оцифровке этого процесса есть какие-то сложности в момент можешь привести культуры сложности который приходилось так иначе решать есть некоторые сложности до пистолет может нам сообщить о том доступен он сейчас элементом есть специальные датчики но некоторые пистолет и работают так что сначала его нужно вставить именно бак автомобиля только тогда он станет доступным это касается правил некоторых заправочных станций то есть то нужно сначала снять пистолет потом только возможно пролив топлива это сделано скорее всего для защиты но понять да чтобы не пускались во все стороны бензину да понял смотри это фича еще не работает production да мы сейчас активно тестеры и у меня теперь есть прекрасно возможность проверить ее мы здесь сейчас и сегодня да так и есть тогда я предлагаю внести тетрадь время и поехать проверить уже эту фичу в продакшен а погнали что происходит дальше далее мы просим станцию на предмет того работает она сейчас станет доступна ли колонка если там вообще топлива в общем получится ли у нас сейчас заправиться мы выберем количество топлива либо сумму на которую захотим заправиться и проведем платеж свет 100 будут удержаны на карте и после заправки спишутся этим вам хана запрос да да это получается вас есть ли этой оберткой которая на своей стороне делает запрос уже потом протокола который предстоит заправочной станции до перед тем как оформить заказ мобильное приложение делает запрос на сервер мы всю свою внутреннюю логику внутри инкапсулируем в рамках одного метода император вы знаете пешком но мы связываемся за каких морями они нам дают какую-то вот свою записку с документацией мы смотрим и у нас архитектура построена таким образом что нам грубо говоря добавить 1 параметров и нумератор провайдеров и описать интерфейс взаимодействия с api и все это к общему виду привести все данные в нашем какие-то внутренние модель и все сама автоматом заведется один оператор слушать со своей стороны выпуке император простой пучок управляет третьи вообще так вот ребята полон о рынке больше ничего как вы это всю инков свернуть так чтобы ты поработал максимальный эффективность глупо пытаться реализовать костылем falling с ним оператора который в шоке но мы адаптируемся слове нам просто на самом деле неважно как получать данные потому что в итоге это все к нам уже попадают удобоваримые данные внутри бэг-энда то есть там главно просто сделать адаптер то есть нам принципе без разницы что там будет хоть на емейл в excel ки будут отправлять мы их будем считывать разархивировать доставать начинались в качестве базы у нас мозга раз сам бэкон описан на скале на написано конкретно у нас сен-хен чифа а вообще огромный пласт корт команда которая делает общее функционал для мобилок android и ios а транспортные викенды бэг-энда и поиска все библиотеки в принципе внутренние еще все бренды которые мы в одессе делаем мы стараемся использовать применение так называемых 12 факторных приложений чтобы делать их максимально stay close чтобы логе писались в джейсоне в out put чтобы параметры брались из энвайроменталисты откуда-то это еще и у нас это все разворачивается в кубе и в принципе таким образом мы можем масштабировать практически бесконечно наши бренды а вас под каждого провайдера свои парсеры или вы попробуйте все внутри одного инвестиции как-то выживается что там кастрация турников вообще у нас заводятся просто крон джо бы грубо говоря в кубе дата чтобы каждого провайдера отдельно парсить и есть worker и которые эти данные потом разгребают из очереди обрабатывают и складывают приехал сейчас просто важные данные у себя каширы то есть мы заранее парсим список станций все это мочиться на наши данные чтобы мы могли связать заправки которые есть у определенного провайдера и с нашими карточками в весе чтобы открыть карточку к это заправки там появилась эта кнопка поэтому у нас все данные заранее уже когда мы подключаем оператор они лежат старшины другой ряд базе и мы эту информацию просто обновляем с самим списком станции раз в сутки и далее мы очень часто обновляем список цен очень часто тип 1 минуту раз в пять минут сейчас каждый свободный пистолет не свободы а это в реальном времени это происходит потерял то что вы по крыму каждую минуту давайте все пистолет и здесь человек сутки типы данных не это все происходит на литон то есть у нас лежит только информация о том какие вообще есть колонки на станции где они находятся физически какое топливо там есть и по каким ценам от цены мы обновляем 1 где то в пять минут и плюс цена обновляется еще в момент заказа потому что она может измениться и мы об этом при пользуются предупреждаем что если он видел что бензин стоит 50 рублей а когда он уже подъехал нажал кнопку заправиться что-то на заправке поменялось с бензин стал стоить там 51 чтобы не будет так как тебе забрать понять что же я пообщался с инженерами 2гис узнал как все работы внутри если вы хотите также подходите к стенду и пообщайтесь с ребятами"
}
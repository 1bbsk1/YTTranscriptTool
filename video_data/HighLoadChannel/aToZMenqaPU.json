{
  "video_id": "aToZMenqaPU",
  "channel": "HighLoadChannel",
  "title": "Велосипед уже изобретен. Что умеют промышленные СХД? / Антон Жбанков (Nutanix)",
  "views": 3224,
  "duration": 2914,
  "published": "2017-04-22T14:48:15-07:00",
  "text": "Добрый день коллеги Как видите я сегодня не Форман буду рассказывать правду жечь отжигать более того даже обсуждение этого доклада ещё на предварительном собрании активистов ло уже вызвало очень большие дискуссии Поэтому если вы чувствуете что я вам пытаюсь рассказать какой-то Мартин можете честно встать поднять руку с Бинго Да и мы поговорим о том что это зачем это и почему вообще корпоративные схд ещё не умерли и вообще что они умеют начнём с мифов о корпоративных схд начиная даже вот практически С того самого обсуждения Да и плюс я расскажу ещё несколько очень распространённых мифов о корпоративных схд что были они конечно давным-давно Что всё это устарело да и в принципе-то мы уже понимаем что Земля стоит не на трёх китах слонах черепахе и делать надо своими руками что-то на цеф или не на фе или ещё на чём-то так вот распространённые мифы прям по пунктом котив СД это оче дорого но при стот это прямая цитата и я являюсь единственным человеком в зале которому кажется что здесь есть какой-то внутренние противоречия вообще по фразе как бы если нам не говорят сколько это стоит Откуда мы знаем что это дорого Ну где-то слышали хорошо вендоры схд берут деньги ни за что мы сами сделаем это на коленке Вообще легко прям на пиках 5 млс Ну хорошо Возможно да можно собрать shd - Это всего лишь куча диска как многие например из очень крупных компаний mailru безусловно очень уважаемая компания очень технологическая но Извините когда мы говорим про подход mailru для хранения почты или для хранения файлов в Облаке и подход корпоративных схд к тому что такое схд это Извините две самые огромная разница или три большие разницы как говорят в Одессе ещ один миф о том что схд очень легко сравнить сколько она стоит за терабайт Я вас уверяю что ни одна схд по стоимости за терабайт не может быть сравнима между собой единственный вариант Когда мы можем сравнивать между собой по терабайт по рубля терабайт когда мы выбрали две практически одинаковые исходы одинакового ласса функционалом который урат дальше мы уже сравниваем Какая из них нам достанется дешевле но вот в этом сравнении порублю за терабайт ёмкости Всегда победит самосбор из Ситилинка на очень больших там десяти терабайтный дисках в принципе всё можно расходиться после этого да с этого доклада но всё же это не совсем так и я попытаюсь вам объяснить в ЧМ собственно разни он мите это мегабайты в секунду люди которые никогда не занимались корпоративными схд и корпоративными приложениями часто считают что вот ну я файл копирую и вот эта производительность прямая цитата из Фейсбука буквально там 2 дня назад обсуждение Я думаю что довольно забавно да Для многих это что рейд из обычных дисков на 7200 - это лучше чем рейд из SSD замечательно более того сейчас у нас э проходит тестирование нашей системы Если вы видели у меня подпись nanic в одном из банков нам откровенно говорят слушайте парни а что-то как-то у вас система не очень мы попробовали она медленная А как вы пробовали Ну как мы файл в виртуалке скопировали там из диска C на диск D всего 122 Мб в секунду ну замечательно для высоко параллельной системы да всего-то 122 МБ так вот что приводит Этот человек в качестве аргумента Вот у него есть кристал dism это очень серьёзное средство для тестирования производительности shd так вот значит на SSD из трёх SSD У него всего лишь 780 Мб в секунду А если взять Рей из 12 там из 10 дисков 7200 там 887 Зачем нам вообще после этого нужны ССД проблема заключается в том что даже здесь вот да есть такие интересные штуки блоками по 4 КБ тем более с глубиной очереди мы видим совершенно другие цифры даже здесь в принципе уже показано потому что на самом деле не всё так просто так что же конкретно и О чём речь Давайте посмотрим примеры реальных внедрений я сделаю сам на коленке уважаемая компания селектел в одиннадцатом двенадцатом году делала всё на коленке Вы можете в принципе прочитать сами эффекты того что сделано на коленке простое потеря данных простое снова простое и ещё раз потеря данных был такой маленький Облачный провайдер всего 22.000 пользователей у него случилось 2 дня простое и полная потеря данных они сделали Всё на коленке они решили не брать никакие корпоративные схд они решили не пользоваться ничем дополнительным Мы сами всё сделаем потому что это дешевле на дисках из Ситилинка условных оказалось что это всё-таки Эпик Fail И последнее сообщение в официальном Твиттере компании бизнес после этого можно закрывать Ну собственно что эти люди и сделали вероятно Они открыли его под каким-то другим брендом но тем не менее это подход А мы всё сделаем на коленке без того чтобы как-то всё-таки попробовать погрузиться в тему так вот Давайте посмотрим общая проблематика просто за схд за общую теорию схд самае медленная часть схд Кто знает какая Нет неправильно самая медленная часть СД - это диск здесь Парадокс как раз заключается в том что самая медленная Часть дисковой системы - это диск производительность его меряется далеко не в мегабайтах в секунду а в операциях ввода-вывода в секунду и ос так называемые для многих с кем я общаюсь это становится откровением Я надеюсь что здесь большей части мне скажут Ну О'кей хорошо Капитан спасибо но тем не менее Возможно это для кого-то из присутствующих тоже станет каким-то в какой-то мере откровением это меряется не в мегабайтах в секунду и ограничено это законами физики для магнитных дисков прежде всего Почему Потому что есть два таких ключевых понятия lat rotation L скольку вот эти блинчики они вращаются а головка двигается туда-сюда для того чтобы вки снить голов на нужное место на блине и начать вс-таки чтение или запись у нас происходит си это время по перемещению головки в радиальном разрезе да мимо Блина а дальше нам нужно дождаться пока блин довер до головки собственно физически Да чтобы до того места где мы должны Прочитать это ограничено законами физики и ничего мы с этим сделать не можем в принципе причём 15.000 оборотов - это предел физически мы дальше не можем наращивать скорость для того чтобы сократить Почему Потому что это уже скорость звука и дальше если мы наращиваем скорость дальше диск начинает очень быстро разрушаться с очень интересными последствиями причём это не менялось с 2000 года в 2000 году Представила x15 вот уже 16 лет ничего не меняется более того насколько я помню вот буквально недавно cate Представила и не ну кто-то из вендоров представил последнее поколение дисков 15000 оборотов их больше не будет потому что флэш начал занимать по ёмкости и по скорости ВС дисков больше не будет когда приходит рейд у нас разбегаются тараканы К сожалению тараканы у нас разбегаются не всегда по углам а иногда разбегаются по головам так вот Если говорить о том что такой Рей Когда у нас есть очень много дисков потому что ограниченная производительность одного диска и ёмкость у него тоже ограниченная того чтобы сде побо производительности бом а много дисков нам надо Е как-то между собой синхронизировать и какой-то какую-никакую отказоустойчивость сделать соответственной изначально был назван как массив избыточный массив недорогих дисков сейчас всё чаще можно его слышать как избыточный массив независимых дисков indep выглядит примерно вот так вот на примере для 5 мы размазывая по дисковой группе данные по блокам пишем разные блоки пишем чётность чтобы можно было восстановить и таким образом мы объединяем всё это в единую ёмкость и достигаем какой-то отказоустойчивости но опять всё не так просто и у rade есть одна интересная штука которая называется давайте я сыграю с вами в определённую игру Игра выглядит так я вас сейчас прокляну и вы сами буде Не сами не будете знать что вас укусило так вот Проклятие рейд заключается есть идея А да Математика - это не страшно процессоры мощные В чём Проклятие рейд О правильно Raid penalty а немногие даже слышали К сожалению о том что такое й penalty Да И вот тот самый человек который писал что там массив из каких-то дисков быстрее он не слышал про слово Когда у нас дисков много у нас должна быть отказоустойчивость каждая операция записи не чтение Да чтение у нас всегда идёт очень хорошо и быстро каждая операция записи превращается в несколько для Рей но райн это единица То есть у нас в принципе вот сколько есть у на физических дисков сколько они могут выдать нав мы и забираем при зеркале Raid penalty равно два Почему Потому что каждая операция записи происходит дважды на двух дисках поэтому мы сразу ополо вини а теоретическую производительность рейд массива рейд п в четыре раза Rate 6 в шесть раз а здесь я надеюсь хорошо видно то есть вот это условные диски и вот здесь вот у меня показано Потерянная производительность Под каждый рейд на операциях записи и да Разумеется мы считаем операции записи чтения в случайным образом полностью случайные малыми блоками Почему Потому что мы люди честные и в принципе не хотим сами себе стрелять в ногу Поэтому мы всегда считаем воке сценарию чтобы хуже чем это у нас не было никогда Разумеется всегда будет немного лучше в той или иной степени но считаем Мы всегда по худшему сценарию по худшему для 6 У нас остатся вот вот всего ничего производительность двух дисков из 12 на запись это очень интересно получается так вот Давайте поговорим всё-таки про то что делают корпоративные схд в плане производительности Почему схд тем более корпоративно схд за которую платят сотни тысяч долларов раки Сид де сметки отличается оты Ставить их в писюк и как-то их объединить чем же это вс-таки отличается с точки зрения производительности точки зрения производительности У нас есть просто полки с Дими мы их даже знаем например некоторые Модели там ещ кого-то это просто полка в неё напи много дисков у неё есть контроллер мы подключаем к серверу никакой логики внутри Нет вообще просто куча диска так вот если мы говорим про настоящую интеллектуальную схд Она до последнего не хочет обращаться к диску к самой медленной части Каким образом она это делает у неё есть кэш в оперативной памяти поскольку с оперативной памятью вы сами понимаете практически в миллион раз быстрее можно работать Чем с дисками это фш кэш второго уровня реализованный различными способами мы будем держаться до последнего только не обращаться к магнитному диску это предиктивное чтение в те же самые кши если есть логика у массива он может определить что в принципе это читать будут примерно там например и мы заранее прочитаем это с магнитных дисков в тот момент когда нам удобно а потом выдадим это потребителю для уже из кэше который значительно в сотни там в сотни тысячи миллионы раз быстрее в этом суть корпоративных схд с точки зрения производительности например кто слышал о таком тесте как spc1 не бойтесь поднять руку это не стыдно два человека три три человека значит spc1 это был такой тест который сейчас в принципе многими считается неким стандартом для тестирования производительности систем хранения данных он разрабатывался очень простым способом в начале тем более в конце девяностых была одна СД на рынке денег там было много и люди решили что в общем А что бы не заработать эти деньги отдавать Но оказалось что развивалась уже 10 лет а как бы у них этих 10 лет не было поэтому надо было что-то с этим делать как-то надо было атаковать поэтому несколько компаний которые всегда проигрывал и в 2001 году именно по этой причине EMC сказал а до свидания я с вами больше не играю и вышла из консорциума которой разрабатывалась pc1 и примерно 15 лет вот буквально только недавно EMC начала публиковать результаты теста spc1 для своих массивов почему она вышла потому что весь Тест spc1 был построен исключительно на то чтобы вот всю вот эту логику вот всю эту математику Как не допустить чтение с магнитных дисков убить чтобы продавить массив до магнитных дисков И разумеется когда мы имеем массивы с равным spc1 то есть с равной физикой выигрывают те массивы которые дешевле а не далеко не mcx ну мы говорим про конец девяностых Да начало дся Разумеется у нас получается Куда большая цена за раба и за e Вопрос в другом что вот у интеллектуальных массивов вот вся эта логика это именно то за что вы платите чтобы до магнитных дисков не опуститься СД избегает случайной записи поскольку у нас есть й penalty мы как огня должны избегать случа мало того что к дискам вообще обращаться тем более в шесть раз более медленно Если писать полным страй пом Ну кто интересуется Может просто банально прочитать как работает йд я не буду сильно сейчас останавливаться Если писать полным страпом то у нас из превращается в n П 1 То есть например если у нас группа дисков состоит из из восьми дисков Да например 6 6 + 2 то у нас пе при записи полным страпом на эту группу будет 98 А далеко не за с этого нее производители принципиальным отказом от случайных операций всегда писать полными райми они очень сильно выигрывают по записи другие вендоры используют другие технологии опять же возвращаемся Вы опять в корпоративной схд платите за что за логику как не упасть до магнит несть моз это мозг и логика Это не просто диски далее не все данные одинаково полезны не все данные у нас имеют одинаковую схему обращений это в принципе совершенно универсальная диаграмма всё выглядит примерно так вне зависимости от того базы это данных в данном случае Я использовал слайд от СМИ самое если мы примем вот эту ось за условное количество дней и это у нас условный Тей оператор условная Пятёрочка которая идёт и которой мы идём покупаем молоко по дороге домой А это данные которые там вот сколько-то дней назад у нас использовались то данные которые у нас использовались там за последнюю неделю к ним Идёт много обращений за последний месяц Ну ещё обращаются к данным которым больше полугода не обращаются практически никогда а база всё растёт и там уже за 5 лет за 10 лет а эту базу мы можем положить на флеш или ещё на что-то Но вот это холодные данные как бы здесь у нас мы начинаем переплачивать А так вот первая часть вот у нас есть очень интенсивные горячие данные что нас спасает в этой ситуации оперативного кэша Мы можем поставить немного нас спасает шш ш энерго независим в отличие от оперативного кэша не боится того что мы просто взяли и у нас пропало питание он в сотни раз больше оперативного то есть мы реально можем ставить терабайты фшк в дест 80 раз в 90 в 200 раз да то есть в сотни это уже будет так в 500 Да но тем не менее даже в 100 раз это огромная Разница есть две реализации логики фш кша первая readonly когда мы ширу на флеше только те данные которые читаются Мы очень сильно разгружаем массив Операция С операцией чтения средняя вообще нагрузкой считается 70% операций чтения 30 записи понятно что в разных случаях это бывает 70 30 8020 595 бывает 100% записи например для видеонаблюдения какого-нибудь но тем не менее в среднем по больнице 7030 вот эти 70 Мы практически убираем и оставляем под запись всё то есть мы можем либо снять больше производительности с того же количества дисков Либо мы ту же производительность можем снять с меньшего количества дисков то есть сделать массив дешевле и особенно дешевле на производительность на e второй вариант например как у это read то есть мы операции записи тоже пишем в ш во шш на SSD диске две аппаратных реализации опять же да при выборе или рассмотрении различных воз специализированные PCI купить поставить использовать в качестве кэша в СД либо Это стандартный диск SSD либо вот efd Enterprise Flash диск Да есть ещё такая аббревиатура то есть в какой-то момент если у вас изменилась нагрузка если у вас такая карта Ну значит она всё больше не используется она больше не нужна Если у вас нагрузка изменилась и вы решили что вам SSD диск важнее в качестве уровня хранения а не в качестве кэша вы просто его берте и пере назначается уровнем тоже такой вариант туда-сюда Хотя по идее PCI карты работают значительно быстрее поскольку у них нету дополнительной Локи в качестве дискового контроллера с другой стороны здесь есть универсальность и там плюс и там плюс контроль и управляемость опять же корпоративных схд Покажите мне это самое на рейде например или на чем-то другом монитори это мало чтобы она работала нужно понимать что не так это интеграция с корпоративными системами мониторинга всего например вот такие графики хит мапы можно посмотреть какие диски нагреты где контроллеры где кша не хватает где порты и так далее прямо встроенными средствами либо это можно подключить к более мощным системам принципе то есть у нас есть проблема шумного соседа Да каждый кто просыпался утром в 7 утра в субботу наверно слышал такой проблеме но только у СД это звучит как что если у нас есть несколько серверов кто-то из них вдруг начал генерировать очень много нагрузки схд прежде всего будет загружена именно этим сервером А наша главная продуктивная база данных будет не очень хорошо работать поэтому мы можем с одной стороны гарантировать производительность нужные нагрузки с другой стороны мы можем ограничить вот этого соседа чтобы он не шумел мы просто зарежем ему что ему выдаст СД условно говоря 200 ИОС и всё примеры Да классические примеры на практики как это может выглядеть наша главная транзакционная база а рядом например сервер индексации какой-то поисковый сервер понятно что ему надо индексировать всё но проблема в том что он индексирует это по расписанию и в расписание могут в какой-то момент наложи И в принципе-то как бы сервер тоже нужный выключать его и ограничивать вот прям совсем нельзя Но с другой стороны у нас главная база данных и поэтому сначала получит свои пронт там сво производительность база данных А пусть у нас этот сервер индексирования получит то что останется дальше механизмы которые придуманы в корпоративных исходы для экономии денег многоуровневое хранение сюрприз сюрприз Несмотря на то что вам будут рассказывать что это на самом деле про производительность Нифига это про экономию прежде всего почему это оптимизация хранения по стоимости это не поднятие горячих данных на фш А это более экономичное хранение холодных большинство абсолютно Рен массивов по расписанию один раз в сутки то есть Представь се время реакции сутки О чём тут О какой производительности мы можем говорить большой размер блока 256 Мб тоже практически никак нам это не поможет единственный случай когда мы можем говорить про улучшение производительности за с многоуровневого хранения Кох мощности которых огромный запас оперативной памяти чтобы хранить таблиц в которых мы храним статистику обращение к дискам То есть это либо системы либо это системы гипер конвергентные там где мы не ограничены выбором венде по процессорам мы можем просто взять и процессоры помощнее поставить самые мощные последние многоядерные пожалуйста в таких системах это может быть потому что у нас мы начинаем перемещать данные куда чаще и мы уменьшаем размер блока и тогда у нас происходит действительно улучшение показателей производительности во всех остальных случаях Это всего лишь способ снизить стоимость хранения холодных данных чтобы Вам не рассказывал вендер особенности многоуровневого хранения Обратите внимание реализация Ринга в зависимо от вендора к венде очень специфична и может так оказаться что для вашей конкретной нагрузки тиринг вообще никак не поможет вот вообще никак в принципе и если вы попытаетесь его сделать Вы по сути просто выбросите деньги впустую на дорогие хорошие красивые флеш-диск Ну и да маркетинг работает больше слушайте Вера больше слушайте о том как в среднем по больни что-то получается ноли это и не може положить это на механизм ра конкретного Вера вы окажетесь в ситуации как с цыганкой сказки вам расскажут красивые денег вы Заплатите много работать будет не очень Следующий пункт защита данных вспоминаем историю с Маусом Что же делают корпоративные вещах что вообще в корпоративном мире приняты две аббревиатуры РТО и рпо кто слышал о них Это уже хорошо это уже почти половина зала слышала для для другой половины зала объясню если у нас есть точка ноль вот которая она здесь вот показана мы принимаем её сначало отсчёта точка ноль - это время аварии когда случилась авария рпо это вот вот это у нас время А это у нас деньги так вот если мы от аварии будем откладывать по времени в обе стороны мы увидим что РТО - это время восстановления бизнес-процессов То есть это когда у нас бухгалтерия продолжила проводить проводки через час условно Да мы видим что вот за этот час компания потеряла какое-то количество денег рпо - это в другую сторону это количество данных которые потеряла компания при аварии то есть за последний час пропали данные это тоже стоит каких-то денег есть другой график Сколько стоит защититься то есть сократить наши рпо РТО до определённого значения до нуля например стоит вот столько Но на самом деле в этом графике может быть быть этой точ то есть вот это будет выходить Вот так Вот потому что физически будет невозможно сценарий с нулевым простоем нулевой потерей поэтому обратите внимание Да что любая корпоративная система она рассчитана И в частности корпорации всегда считают вот эти точки там где стоимость простоя стоимость потери данных начинает быть сравнимой либо совпадать со стоимостью защиты от этой аварии потому что дороже п этим мы говорим за деньги мы не говорим за какие-то терабайты ещ Пока так вот что у нас умеют корпоративные схд для того чтобы всё это сократить во-первых это снимки снимки данных снапшоты защита от логических боев вот БД база данных у нас взяла и развалилась А мы например делаем Раз в час логические снимки и поэтому вме того чтобы восстанавливать нашу базу данных из резервной копии у которой РТО рпо у нас 24 часа то есть мы потеряли данные за сутки по сути Мы например потеряли данные всего за час удалили файл Ну то есть мы защищаемся от не смерти СД А от смерти данных использование в качестве тестовой площадки мы берём нашу реальную боевую базу данных делаем ей снимок этот снимок презентуем тестовой площадке нам даже Ничего мы можем прямо на реальных данных при этом продуктивная база продолжит работать как ни в чём не бывало это снова экономия это снова защита данных резервное копирование мы можем делать п не самих данных а вот после того как мы сделали снимок мы уже со снимка с какой-то конкретной момента времени мы простом сни ко ла поддержит подобный сценарий это журналирование слышали о журналированием остальным Что такое журнал это отдельное хранилище данных которое возможно на той же схд либо на рядом стоящей с Мы в него пишем прои запи ме в этом журнале мы начинаем перезаписывать что нам это Дат это по сути выглядит как постоянная видеонаблюдение 24 часа что вообще происходит гранулярность с которой мы можем дальше работать она высочайшая она миллисекунд ная более того да вплоть до единичной дисковой операции записи коно ВС на вот как по принципу видеомагнитофона мы просто перемотать это с прикладным софтом для некоторых систем и откатиться на момент до конкретного комита Например если у нас была исполнена вот подобная команда для тех кому плохо видно это маленький скрипт который делает Drop All T с окла После этого у нас нету больше базы данных мы можем прямо перед ним откатиться не потеряв Ни единой другой транзакции следующее что нам предлагают корпоративные схд это катастрофа устойчивость Первое - это репликация данных создание удалённой копии Да удалённые мы имеем в виду на другой схд Другая схд может стоять рядом в соседней стойке да более того в той же самой стойке просто другая схд она стоять в другом дата-центре в пределах города Может стоять в пределах страны или вообще на другом конце земного шара а репликация всегда работает как Active Passive То есть у нас есть активная копия данных с которой мы всегда работаем и есть пассивная на всякий случай куда мы реплицируемый потому что у нас скорость света ограничена а для синхронной репликации нам требуется подтверждение со второго сайта что запись прошла то есть у нас должен свет пройти туда и там электрический сигнал и обратно только после этого у нас потребитель получит подтверждение записи А если мы будем делать Ну у нас 100 км это такой практически такой психологический барьер после 100 км У нас очень сильно начинают расти задержки начинает падать очень сильно поэтому для расстояний более 100 км либо при недостатке каналов мы делаем асинхронную репликацию она по сути делается на любые расстояния и у нас всегда есть небольшой кусочек данных который мы ещё нереплицируемый Это дешевле вопрос Сколько стоят данные всегда не Сколько стоят схд А сколько стоят ваши данные которые будут лежать на этой сход Возможно на этих писюкастый вариант - это метро кластер То есть это в принципе для корпоративных схд тоже уже является Ну не тоже всё ещё является определённым космосом это схд в активном зеркале то есть мы для у нас потребителя нагрузки Мы видим что сход одна внутри как это реализовано в зависимости от венде там в зависимости от механизма Может быть по-разному но мы работаем одновременно например мы можем сделать Oracle геогра в другом дата центре другой узел Рак и они видят одну и ту же схд и это средствами схд прошу заметить о чём я говорю да то есть Вот весь мой сегодняшний доклад это всё умеет схд это всё то что вам не нужно делать в своём приложении это всё то что есть логика уже внутри сходы Вы можете просто взять поставить и работать сразу вам не нужно это делать придумывать реализовывать это прежде всего сокращает вам значит время разработки второе позволяет вам не беспокоиться о конкретных каких-то может быть ваших ошибках так вот при организации метро кластера СД у нас появляется полная автоматика например для систе виртуализации они даже не знают о том что они в метро кластере Они думают что они в обычном приложение не знают где работает мы виртуальную машину можем переносить с одного цода в другой нон-стоп при использовании роксера Попробуйте сделать это на коленке на МД рейде на фе там на чём-то после чего ещ гарантировать вашему бизнесу какой-то простой так вот это всё замечательно Да я рассказал что корпоративные сходы это круто их надо покупать это это всё классно со мной многие наверняка не согласятся особенно те кто делал самосборные СД и очень большого объёма выводы которым Я призываю жде всего знаете что у вас за данные что у вас за нагрузка Если вы этого не знаете Любой выбор схд какой бы он ни был какая бы она ни была там корпоративная или не корпоративная он бессмысленный знаете сколько стоит простой бизнеса Поговорите с бизнесом пойдите к Фин директору и Спросите его Если вы архитектор Да там или директор Сколько стоит простой бизнес Сколько стоит потеря данных за час без этих цифр все ваши архитектурные размышления Это ни о ЧМ это просто инженеры развлекаются насколько схема Сделай сам вообще находится в политики компании например в компании Мегафон такая маленькая компания Да чуть-чуть совсем бизнес имеет принципиально запрещена инхаус разработка Ну в отличие например от mailer или Яндекса Почему Потому что А в мигофоне подумали что компания не хочет заниматься разработкой это нужно держать что от разработчик это нужно поддерживать все эти продукты которые разработали А если вдруг вот этот ключевой разработчик вот прямо сейчас уйдёт из компании заболеет там не знаю просто предложит ему что-то что дальше с этим делать понятно что в Яндексе там команды там огромная там политика компании мы ничего не покупаем мы всё разрабатываем сами в mail.ru возможно иначе где-то ещё иначе Но вот в вашей конкретной компании в вашем конкретном проекте как насколько служба безопасности посмотрев на ваш проект посчитает что вы пытаетесь деньги компании сэкономить а не саботировать наоборот и не поставить компанию на колени в зависимости от вашего там от вашей прихоти что вы ключевый разработчик я сейчас уйду и бизнес кончится Спасибо за внимание мои контакты почта можно прочитать мой технический блог в интернете и если у нас есть время Я с удовольствием отвечу на Ваши вопросы коллеги вопросы секундочку микрофон подождите пожалуйста скажите Здравствуйте спасибо А скажите вы говорили о принципе система хранения или блочных файловых или это не имеет значения блочные файловые или объектные гипервент распределённые нет это ВС в принципе некий функционал который так или иначе присутствует почти во всех ну нормальных коммерческих системах хорошо о котором К сожалению зачастую люди просто не знают Дело в том что всё что вы говорили Если вы говорили о система хранения то вопрос как не консистентность данных поддерживает Потому что насколько я знаю а для блочной системы хране всё равно она работает спш и вс эти вещи она делает на уровне блоков я это не совсем значит Да я понима значит вопрос очень простой в этом в этой ситуации для этого есть зачастую интеграция Что например когда мы делаем сшт базы данных мы мы заранее До этого дёрнется там довольно много и есть варианты Когда у нас есть такая штука называется группа консистентность Когда у нас несколько бло схд Мы объединяем в единую группу что они будут одновременно сшт будет у них одновременный Потому что если у нас там где-то индексы где-то ещё что-то и мы сделаем сшо в разное время то данные у нас разбегутся коллеги Говорите в микрофон пожалуйста речь идёт не о том о чём вы говорите а я сю другом консистентность на уровне синия у при тем более ба данных Как вы сказали для того чтобы Дан я сделаю он будет абсолютно корректным с точки зрения базы данных но будет абсолютно некорректным с точки зрения базы с точки зрения системы хранения но не корректно с точки зрения базы данных и возможно некорректно с точки зрения приложения если приложение не знает о том что система хранения делает И если хранения зна приложение поддерживают интеграцию с вашим конкретным приложением Ну так вопрос поете в ЧМ мы сейчас находимся на конференции Да мы не находимся на конференции банковской например Где вы покупаете какое-то приложение Я прежде всего предполагаю что здесь собрались люди которые в основном либо их разрабатывают либо имеют прямой контакт с разработчиками вам никто не мешает встроить ко СД Вам никто не мешает сказать разработчику приложения где твои скрипты для интеграции вот с этой СД но Ключевой вопрос сейчас про спш Почему Я всё это рассказываю я не пытаюсь вам продать ничего вы слышали от меня но там какие-то имена только потому что пример Ну пример так так мне всё равно Я на самом деле совершенно другу с если мы хотим поговорить о том как сделать спш так чтобы приложение не потеряло данные и данные были консистентные интеграции конкретного вендора конкретной модели с конкретным приложением в большинстве случаев интеграция есть а тогда ещё вопрос я тогда не совсем понял в чём то есть то что вы говорили о том так называемых самосбор системах это у Это замечательно Ноя сист корпоративного уровня начиналась как самосборная система поэтому вопрос может быть идт речь не о том что самосборная система плохая или хороша вопрос в том что она зрела для определённого задачи или не зрела смотрите Я в данном случае говорю о самосбор системах То есть вы например условный магазин который торгует овощами очень большой магазин по всей стране овощами торгуете вы не занимаетесь системами хранения данных самосборная будет с точки зрения того что вы пошли в магазин купили много серверов много дисков скачали откуда-то какой-то софт и решили А что я тут буду платить кому-то там Давайте я сам соберу и всё и вы не занимаетесь из хд это не ваш профиль те компании которые сами берут эти самые диски пишут какой-то софт потом делают поддержку это профессиональные вен это другой подход понятно что для них это будет у вас это будет это вы купили у кого-то и есть специальные люди которые занимаются интеграцией поддержкой всем остальным вы в вашем овощном магазине Возможно у вас людей-то нету на это коллеги ещё вопросы у меня вот такой вопрос рынок как Enterprise Stage Market то есть корпоративных ранения данны стает или падает есть последний квартал кварта ми 7% бы стагнация вот Чем это можно объяснить либо тем что люди чаще в нынешние времена занялись самос либо какие-то другие тенденции Ну во-первых конечно у набла с начали испытывать конкуренцию со стороны гиперконтроль серверы но мы вместо того чтобы кое-как ещё какой-то софт скачанный там или ещё допили ставим мы покупаем этот софт который предназначен для того чтобы вот это всё собрать в некую систему с определёнными характеристиками поддержкой и функционалом во-вторых У нас конечно растут объёмы данных и раньше цены были на схд Ну как бы такие а денег стало меньше объёмы растут поэтому классические схд испытывают определённые проблемы с этим опять же есть другая проблема что на фоне гиперконтроль каждый узел с Дими это не только ёмкость это ещ и контроллер это производительность классическое с это два контроллера если мы говорим а дальше какое-то количество дисков а потом всё сколько дисков не добавляя контроллер уже просто не справляется более того у некоторых вендоров например есть отдельная интересная штука ко называтся а купите у нас ещ лицензию и мы вам тогда позволим чтобы ваш процессор в контро разгоняется настолько чтобы вот купите у нас ещё разрешение чтобы ваше железо работало Спасибо большое за доклад У меня на самом деле Возможно несколько нубский вопрос потому что я систе хранения корпоратив никогда особо не сталкивался гипернн - это что конвергентная система это слышали такую штуку SDS Soft Да конечно это когда мы берм стандартные серверы стандартные диски накатывают который делает у нас из этих серверов систему хранения почему она програмно определяемая потому что вот этот софт никакого специального оборудования у нас нету гипер конвергентная система когда помимо того что накаты этот те же самые серверы накатывает гипервизор и прямо на них запускаем виртуальные машины которые работают с этой системой хранения как например NAN то есть компания в которой я на текущий момент работаю мы продаём такое решение есть другие конечно ещё компании которые этим занимаются то есть у вас в принципе больше нет схд у вас есть только серверы которые в себе сочетают и схд и исполнение Окей спасибо спасибо за внимание"
}
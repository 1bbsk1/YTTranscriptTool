{
  "video_id": "20ayGY5Xk2o",
  "channel": "HighLoadChannel",
  "title": "Экодиктант 2021: highload-проект с нуля за 2 месяца / С. Жуковский, В. Шалимов (Старботс РФ)",
  "views": 63,
  "duration": 2563,
  "published": "2023-10-06T07:24:08-07:00",
  "text": "всем немного присутствующим Добрый вечер в эфире женский Стендап на ТНТ но я надеялся что как бы этот легкий смешок легкое удивление помогут вам ощутить хотя бы На десятую доля может быть даже на сотую наше удивление когда к нам пришел заказчик и сказал мы тут записали 8 месяцев реализовать надо за два вы когда-нибудь заказчиками работали Поднимите руки Спасибо да А все остальные похлопайте мы нервничаем да потому что вас так мало Мы надеялись будет полный зал Да ну у нас был не госс заказчик А с коммерческими заказчиком никто не заработал Да тоже отлично У вас больше уже Спасибо но у нас был некоммерческий заказчик это было автономная некоммерческая организация эти три буквы они звучат Вот так оно В общем я вам Настоятельно рекомендую настороженно относиться к этой аббревиатуре а проект назывался экологический диктант много сейчас все говорят про экологию там про вот этот вот весь движ электронные все такое про бережное отношение И на этом проекте школьники младших классов средних старших учащихся профильных ВУЗов и даже профессионалов в сфере экологии природопользования могли проверить свои знания относительно бережного отношения к природе окружающей среде вот с таким проектом Мы работали и А кто не слышал про такой проект назывался он Эко диктант о целый один человек супер спасибо два вот смотрите два человека из аудитории в которые в принципе не сильно много людей но тем не менее я хочу сказать что общее количество посетителей которые у нас было более 5 миллионов авторизованных пользователей более 3 миллионов тех кто прошли онлайн-тестирование за неделю более 1 миллиона и совсем чтобы похвастаться там участников Ну в общей сложности было из 35 стран а слышал про этот проект всего два человека вот а мы его фигачили два месяца круглосуточно похлопайте нам за нашу самоотверженность так вот про заказчика еще совсем Чем чуть-чуть немного В смысле но этот вам на будущее Я думаю поможет потому что если вы вдруг сталкиваетесь с этой аббревиатурой то очень тщательно относитесь к тому что задание будет как примерно в бюджетной организации там технически Да максимально размытые как бы как будто бы ни о чем вот а спрос будет Ну вот как в коммерсантах то есть прям kpi чуть не каждый день а вот это сделали А вот это сделали А вот это сделали А это почему не сделали А почему мы не слышали Вот и почему мы до сих пор не видим результата но при этом как бы я нагнетаю а сейчас Василий будет рассказывать и про бюрократию про человеческий фактор и про то как В целом Нам было интересно с этим проектом работать и Ну то есть не стыдно за него рассказывать здесь и чтобы уж до конца подогреть ваш интерес соответственно как и все по традиции дарят подарки за самые интересный вопрос Мы решили так как у нас офис находится в Нижнем Новгороде в Нижегородской области был когда-то завод инструмент инструментальных медицинских сталей А теперь там есть несколько кузнечных мастерских которые делают всякие кованые интересные изделия и мы в качестве подарка привезли вот такую вот ножик модели танта кованый ручной работы и он достанется тому кто задаст самое интересное вам паровоз обалденный просто то есть интерес но чей-то подогрели да Вот спасибо большое передаю кликер Василий он продолжит повествование Всем привет Я на этом проекте занимался архитектурой и некоторыми реализацией некоторых фич в части бэкенда как Станислав рассказал да то есть у нас было три миллиона пользователей но это только онлайн пользователя а был еще большой-большой блок связанный с оффлайн проведением мероприятия это распечатки это загрузка дальше анкет в админке и прочее прочее прочее то есть проект был немаленьким а восьми ТЗ который писалось 8 месяцев в нём было больше 120 страниц и была прописана на самом деле всё очень-очень детально всё по последним трендам веяниям и это более 100 микросервисов слабые связанностью три хранилища жордирование базы на основе регионального принципа и ещё много-много чего на схему Не смотрите она специально мелко сделана Потому что так не стало почему не стало потому что нам оставили всего 2 месяца э когда проект пришёл к нам наш было условием то что ребят всё это здорово но на основе микросервисов мы не успеем и запилить и выкатить в продаже и отвечать за результат два месяца это на весь проект а публичная часть сайта новая версия с Википедии со всей остальной историей должна была появиться через месяц то есть на самом деле это без дизайна дизайн ещё не было даже утверждён То есть это ещё нужно было сверстать фигами утвердить заказчиком с заказчиком оно вот и выкатить Production поэтому по архитектуре когда к нам попал этот заказ мы предложили заказчику идти повести это минимальная жизнедеятельные минимальные жизнеспособный продукт и его можно было делать на чем угодно на Ларе на рубе на Джанги джангом или готовить в том числе и подходило вот и предложили джангу примеру нельзя было потому что Лара в том году в двадцатом да то есть там заказчика подвели с ларой были проблемы Вот поэтому осталось Джанго в части хайлоуда там где главная фича проекта это прохождение самого диктанта было была реализация на реакте то есть чтобы снизить нагрузку всю регистрацию аутентификацию Вики мы оставили на Джанги все остальное сам самую главную фичу прохождения диктанта Это был react Итак мы стартанули у нас осталось 11 недель неделю на утверждение там согласование и прочее потратили 11 недель до диктанта нужно было провести нагрузочное тестирование чтобы обосновать заказчику А и мы сказали Окей Ну вот мы идем с джангой но нам нужно много железа железа нужно будет много микросервиса здорово было бы очень оптимизировано по потреблению но нам нужно больше железа заказчик не проблема было директивно спущено на Мегафон о том что ребят У нас вот такой вот будет федеральный проект Дайте железо Они спросили Сколько сказали столько сколько попросят поэтому мы в железе не были стеснены вот для того чтобы провести нагрузочное тестирование и показать заказчику что да мы проедем на Джанги проедем на реакте под те метрики которые нам рассказали по двадцатому году перед нагрузочным тестированием нам нужно было собрать с более-менее уже согласованный дизайн статику собрать прототип react приложение и приступить к тестированию перед этим два тонких момента которые настораживали заказчика Это по поводу веб-приложения сервера и приложений Джанги что мы планируем использовать Заказчик был очень начитанный То есть все статьи habra были проштудированы за ту прошлую неделю Да и он как бы вот был Эксперт в этом вопросе во всех вопросах и выбор балансира У нас все вертелось в кулере то есть Джанго были запакованы под контейнеры и с автономным в клубе react отдельно да то есть там то же самое с запаковано оркестрация да то есть там время регистрации а балансир выбирали провели тесты для заказчика больше для заказчика у нас были рецепты под haproxy Да вот он говорит Ну а почему haproxy вот если джинсын вой и прочее Дайте Дайте Дайте данных Дайте данных прогнали тесты Как как прогоняли чуть-чуть там дальше расскажу haproxy нас устроил по ошибкам по пропускной способности всё то есть мы отстояли хоп прокси остался до диктанта оставалось 10 недель пока мы там стенды собирали пока обоснование всё остальное там ещё даже не приступали к тому чтобы что-то пилить Это только ещё вот обоснование выбранных решений итак по выбору серверов приложений опять же мы для себя используем просто последние сборки самые быстрые которые есть на текущий момент и заказчик на этот проект асинхронно и большее количество держит РПЦ от РПЦ это РПЦ на каждом совещании звучало нужно чтобы пропустила там какие-то тысячи миллионы в секунду и вот чтобы вот всё само росло и всё было супер тоже отстояли Да он там где-то что-то проигрывает по bajero по РПЦ но по количеству ошибок Монолит он стоит до последнего да то есть вот пока не кончится проц пока не кончится память он стоит И не дает 500 это как бы убедилась заказчика мы оставили и так у нас осталось 8 недель приближается событие нужно было провести нагрузочное тестирование поскольку мы жили в МегаФоне в Облаке Мегафона Логично было вынести за пределы их инфраструктуры чтобы получить валерийные результаты на Яндекс облаке подняли под их образы машины с кластер да то есть машина с Яндекс танком поскольку у нас была собрана статика это не гипотетический конь в вакууме да то есть а Конкретно реакции приложения с конкретными медийными материалами которые планировалось показать через 8 недель и уже имели размер главной странице всех типов файлов знали чем давить собрали продавили РПЦ заказчика устроило при нормах потребления да то есть там по контейнерам все инфраструктуру нам утвердили дальше уже можно было начать разработку полноценно понятно что до этого прототипы они были Ближе всего к бою да то есть ну в этот момент устаканились там то что не будем меняться дальше у нас поскольку как я вначале рассказал мы распилили монолитом Джанго Это вся публичная часть аутентификация системы аутентификации А на react само прохождение диктанта нам нужно было гонять пользователей сессии через gvt для чего этот слайд для того что вообще все просто то есть 5 ведущих библиотек Но не все из них одинаково выпускает быстро токены да то есть там и не важно что выбрали Мы в этот момент Но если вы пойдете когда-нибудь этим путем то тестируйте все вот вы провели нагрузочное тестирование до того да то есть а потом докидываете какие-то фичи или меняете либо потому что просадка и нужно опять повторить да то есть нужно повторить тестирование что вы всё успеваете да то есть у вас связка вот в нашем случае отдельная реакция приложений нет вот это вот момент то что Джанго вовремя ссылки на не выпускает и таких моментов был не один еще пример то есть заказчик на шестой неделе до уже прохождения диктанта о горит А у нас еще 300 до учёток 300 тысяч учета осталось на старом Проекте в Ларе надо бы их перенести но пользователям Мы не успеваем оповестить о том чтобы они сменили пароль и мы давим нагрузкой смотрим если мы поднимем микро сервисы по деларой для того чтобы старые учетки использовать не влезаем то есть у нас просадка а там Какая история в лари используем B crypt и B cript 128-битный А в Джанги В текущей версии которую мы использовали 256 библиотека и это ограничение пришлось делать отдельно в баке под эти 300 тысяч отдельную ветку для того чтобы пользователи не меняя пароль могли попасть получить токены Джанги и пройти дальше то есть вот такой момент который тоже потребовал времени и абсолютно на первый взгляд никто не ожидал что так будет Так у нас до диктант опять недель осталось и была еще одна засада про почту расскажет Станислав то это отметить один важный момент это то что вот сейчас там Пять недель написано Ну да у вас там У меня тут и глобально проект он на самом деле как бы вебина против существовал Ну примерно Вот вот там от первой недели старта То есть как бы грубо говоря там вот ну у нас было там что-то 11 недель вот там на десятой неделе в вебе он уже вроде висел потому что одна большая часть проекта это медиатека с довольно большим количеством контента который нужен участникам для того чтобы с ним ознакомиться почитать подучиться типа подогнать свои знания под то чтобы потом пройти самую главную фичу это вот онлайн-тестирование и это две большие части и соответственно как бы вот к моменту когда нам нужно было прикручивать авторизацию и как-то пользователи уже уведомлять о регистрации портал как как источник медиафайлов он уже существовал и был в проводе И там будут интересные моменты про них Василий чуть позже расскажет а сейчас когда мы говорим про почтовую рассылку какие у вас возникают вопросы Ну кроме того что она хирана вам нужно Ну часто вот у нас учитывая опять же опыт прошлого года Плюс То что было предположение такое серьезно заверенное что госуслуги сделают рассылку по всей стране Вот соответственно нам выставили значит требования чтобы у нас сервис отправляла 50 минимум 50 А в при хороших раскладах 60-70 писем в секунду и ну как бы когда вас кого-нибудь спрашивают про сервис почтовых рассылок чего в голову вам приходит Ну это хорошее слово новая якорю Про Сервис Ну то есть какой-нибудь Mail чем кто-нибудь вспоминает нет там unisender какой-нибудь тоже вариант был да Вот Но когда мы посмотрели на требуемые цифры которые мы вот там когда договор подписывали типа согласовали Вот то кого-то которые могли быть нам предоставлены Этой скорости отправки были только у амазона Сейчас погоди значит Amazon говорит друзья говорит Мы вас любим Дайте нам 15 тысяч долларов и еще пожалуйста три месяца отправляйте до 10 процентов от требуемых квот чтобы мы убедились что вы белые пушистые хорошие и после этого может быть мы вам дадим то что вы просите но вы понимаете Когда у нас 5 недель у нас нет три месяца на то чтобы нам показывать там что-то Вот соответственно Ну если бы я 15 лет назад спросил у аудитории там 40 плюс-минус человека нас как бы как как быстро вы можете настроить почтовик Я думаю большое количество людей бы сказал Э мы сейчас это сделаем вот а как бы В наш век когда все пользуются какими-то SMS верификациями пользователей или там каким-нибудь около пасом Да через звонок по телефону а ну как бы редко кто это делает вот нам пришлось и Да мы на постфикс подняли почтовик мы его размажили и в общей сложности нам удалось добиться показателей до 75 7 секунд У нас было Два домена благо оба этих доменов в прошлом году участвовали в том что ну в демонстрации веб-портала поэтому их можно было считать условно подписан Ну как бы прогретыми мы выпустили всё что нужно было вплоть до правильных там всяких подписей все порты были настроены по-человечески мы заранее сходили во все black-листы и сказали что мы белые пушистые хорошие пожалуйста нас не банте вот и хорошо что мы подстраховались у нас было Два домена Но если у вас вдруг когда-то будет потребность настраивать свою почтовик с такими вот объёмными отправки лучше штук пять приберегите для себя Потому что у нас домен ложился в блок-лист примерно на вторы литера третьи сутки Вот мы переключались на второй резервный потом по основному домену мы шли и как бы кланялись и говорили мы белые пушистые У нас тут Федеральная организация пожалуйста нас вытаскивайте у нас разбанивали Мы переезжали на основной но и в общей сложности там у нас неделя плюс минус два дня проводилось мероприятие соответственно нам Ну в общем общей потери наши составили там менее одного процента тех людей которые с первого раза не удалось получить письмо с подтверждением регистрации А самое интересное для чего это было нужно это на самом деле потребность была насущное Дело в том что по итогам прохождения тестирования участники получали диплом который Ну в нормальном формате можно было распечатать И повесить себе на стеночку и этот диплом надо было предстать на электронную почту и чтобы А так как по итогам прошлого года организатор уже понимал что было куча участников которые зарегались на фиг пойми какую почту прошли тестирование и какие-то типа Где мой диплом вы все Лошары потому что вы мне его прислать на мою неизвестную почту будьте любезны Поэтому в этом году как бы заказчик так подготовился и говорит слушайте нам нужны все валидные почты Вот и поэтому у нас по итогам тестирования все участники получили свои дипломы чему Мы собственно были безмерно рады да Что есть то есть до диктанта тем временем остается всего четыре недели и не так много времени на то чтобы что-то датьюнить перед уже выкладыванием в провод как я говорил за 4 недели Это уже вот все публичная часть медиатека там регистрации уже Мы подняли почту идут оповещение в госслужбы То есть у нас реферальные ссылки были подняты да то есть для того чтобы РЖД Газпром Норникель все работники да то есть которые связаны с экологией Где во многих организациях это целое мероприятие вот чтобы все это работало Для чего Про что этот слайд про то что если у Вас совсем времени в обрез да то есть то некоторые вещи можно отдать в нашем случае это технически был партнёр Мегафон да то есть технический спонсор с мощностями и они по опыту предыдущего года настроили аппаратную защиту по поводу DDoS а то есть мы на своей стороне с дедовсом не делали ничего То есть вот все ребята вот на уровне железок все ограничили у нас было Ну там я в конце расскажу что у нас было Вот Но это было правильное решение не cdno не из дедовсом вопросов Мегафону нет Молодцы прямо очень-очень продуктивно без всяких там совещаний на каждую неделю да то есть всегда всё по делу и до диктанта три недели идет вовсю выкладка контента А это и видео и pdfки и другую Медиа контент там звуковые записи и прочее прочее все это по категориям У нас 4 категории учащихся было это до 18-18 экологи не экологи под Каждую из этих категорий заказчик грузил контакт саппортом Мы немножко не успевали заниматься то есть запросом от пользователей и На этот период были сняты ограничения по медиафайлам грузите всё что хотите да то есть там всё что вы считаете нужном и это нас подвело то есть мы на главной странице была галерея из логотипов один из заказчиков РЖД Газпром Я уже сейчас не помню присылает Тиф в размером в один ГИГ А девочка контент-менеджер выкладывает эту историю в Продакшен Ну то есть прямо на Боевой сайт через админку и мы кладём 10 Гигабит там мы лошара Ира ну как бы дали им возможность это делать Просто потому что нам так захотелось просто три раза каждую минуту прибегал человек и говорил а мне не хватает а у меня нет файл не загружается А мне не хватает а мне загружается А мне не хватает а мне что-то Fall не загружается и вот в общем Когда уже мозг был выйдет чайная ложка до конца э Сказали всё загружается и Она загрузила вот Ну так тоже бывает тоже за этим смотрите две недели для диктанта осталось прям совсем какие-то вещи которые можно Совсем немножко там дать Юнит перед выкладкой уже в Production и мы сконцентрированы на главной фичи всё отодвинуто в сторону то есть все там аналитические отчеты и прочее прочее прочее чтобы нас требует И просит заказчик чтобы было готово то есть мы сконцентрированы на основной фиче а-а поскольку я сказал что у нас в кубе то по которую по автомасштабированию Да там вопрос у нас был как я сказал Мегафон сказал сдадим железо столько сколько вам нужно но пока у вас нет нагрузки давайте вы не будете забираете лоцированные ядра память да то есть там на кубер кластер введите себя скромненько да то есть вот нота Но готовьтесь к высокой нагрузке да то есть там мы разрешаем вам расшириться столько сколько вам нужно но вот как бы чтобы это вся история была оптимальным у кубера текущий момент насколько там мне известно есть горизонтальная вертикальная масштабирование и авто масштабирование есть еще на основе метрик предыдущий Вот на этом слайде то есть нам не подошли вот эти три методики потому что у нас нет не было ограничений там со стороны ребят Вот не столько ну не больше чем вот столько-то у ядер не столько то сколько это памяти а для нас Ключе электрика это была скорость ответа то есть мы за скорость ответа бились вот на протяжении вот этого короткого срока разработки поэтому Ключевая Метрика для нас не потребления чтобы контейнер главное не выбило дату чтобы он жив был а именно на основе Метрика основная наша Метрика это то С какой скоростью джанга машины отдает публичную часть то С какой скоростью реакции приложения пропускает через себя вопросы и ответы и с ростом взаимодействовать то есть то С какой скоростью rest отвечает время время да то есть ну и соответственно под эту историю и в соответствии с документацией кубера нашей опции Подняли там прометеевские э-э сервак и сервер метрик и на основе опроса поднятых поводов э Джанги на основе э времени ответа через сглаживание да то есть чтобы убрать выбросы уже происходило расширение нужного количества кодов Джан react вот в этом вообще во всем проекте вёл себя очень скромно в отличие от Джанги да то есть Джанго прям ела и ела ела и ела Вот чем больше регистрация чем больше там самих проходящих тестов да то есть она не знала в себе Ни в чем отказов да то есть там А реакт реакт красавица то есть вот не зря это набирает популярность да то есть это по ресурсам очень красиво всё и до диктанта одна неделя мы знали о том что нас будет рассылка через госуслуги да то есть о том что к нам придут пользователи но э организация оно да то есть взаимодействие с госуслугами не уточнило когда они может быть даже спрашивали может быть даже им ответили но нам они сказали в ночь то есть это было в ноль часов да то есть и нам ответили за звонком у нас деградация до 5 секунд на открытие публичной части мы проседаем да то есть у нас не успевает разворачиваться под контейнеры начинаем разбираться смотрим источник а это госуслуги Ну то есть там забыли сказать если бы нам сказали то мы бы более пристально да то есть там смотрели но все наши математика все наши нагрузочные тестирование всё равно это огромный поток да то есть это Владик проснулся в 8:00 утра да то есть там в 0 часов у нас пошла загрузка по coberglastru да то есть все настроены автоскалирование cuber момент подрождает да то есть есть задержка и этой задержки хватило для того чтобы мы получили деградацию мы да потом проснулись быстро да то есть там по звонкам кубер кластер настройки перестроили перед развернули под и погасили все это да то есть там в плане деградации да то есть там у нас опять вернулась там главная страница это секунда две да то есть там и у нас ещё нет диктанта да то есть это вот только регистрация да то есть которые идут регистрации и обращения с Медиа контактам и наступил день ноль когда собственно проходил диктант я вначале хотел сказать об этом но забыл я женат У меня двое детей и очень часто в разговоре близких Я слышал когда они проходили другие диктанты либо когда они могут подключиться к электронному дневнику либо к другим сервисам связанных с обучением Господи кто это пишет Да ну что ж такое-то вот ну бывает же что лежит по полдня Ну вот электронный дневник бывает лежит полдня Да там бывают какие-то проблемы это боль и когда я заходил Этот проект я домашний не говорил Чем занимаешься мало ли как она пойдёт но когда наступил день ноль и мы запустили диктант я всем разослал ссылку и не побоялся что мне было опасений что они там что-то у них не получится зарегистрироваться пройти диктант мы отодвинули назад Все что нас просил заказчик все что не касалось главной фичи тут Станислав спасибо то есть он ограждал нас от яростных Атак заказчика там по поводу цвета иконок там ещё чего-то да то есть но главная фича выдержала и диктант прошёл диктант прошел и в оффлайн режиме да то есть там не было нареканий и в онлайн режиме почему я это знаю потому что в конце диктанта у нас было окошко Оставьте свои отзывы о том как всё прошло и там было много то есть Это по желанию кто-то оставил кто-то не оставил там больше 2.000 отзывов Ну какую-то часть физически смог это прочитать и были Отрицательные отзывы но они не связаны с технической стороны это прям погрелась сердце и как бы это это как бы это было Вот вопросов с этим не было но были и фейлы расскажу немножко про них еще у нас было Два падения первое падение это Прибежал заказчик накануне и уже во время прохождения диктанта и говорит там мариванна и там Светлана написали в социальных сетях они не могут зайти начинаем разбираться у них было какое-то время выключено валидация на регистрации там еще старого портала и в имени там учетки есть спецсимволы там античные там дефис вместо пробела там и прочее прочее включить и вот чтобы все находилось Ну ладно мы включили Я ускорить мало времени осталось мы включили по просьбе заказчика поиск лайк да то есть в джангу быстро-быстро вот фоне Отстань вот пожалуйста и дальше там какими-то вещами там заниматься у нас падает козыря она Жрет память она жрёт CPU И падает у нас много железа умножить на 2 поднять 5 минут и она опять падает ну как так-то ну как всегда спасает критической ситуации когда ты федеральный проект и и заказчик Станислава вот как бы этот уже список что намекает список что нужно взять с собой в Сибирь Вот то есть поднимаешь директиву Что делаем да то есть откатываемся Назад Ну и реально мы откатились на предыдущую версию и всех все спасены мариванна расстроилась не смогла зайти ну как бы да да и второе падение это в январе кластеры тоже кубер кластеры тоже смертны и на это не надо рассчитывать то есть вот предыдущие докладчики рассказывали о том что если есть отказы устойчивая церковь разделяйте его на разные дата-центры в нашем случае у Мегафона были проблемы на аварии и у нас упал кубер на час какие выводы мы для себя сделали нет сроков Используйте подходы инструмента mvp и просите больше железа не дают Чудес не бывает либо долго делаем и все оптимизировано либо быстро делаем но оно ресурсоёмка прогнозируйте трафика Это то что касается кубера как бы не считали Какие бы крутые у вас не были в команде переложить планируете какие-то всплески переложить и по поводу шортирования да то есть там кубера на разные дата-центры то есть куберы тоже мрут И это тоже надо учитывать у меня все можно проголосовать по qr-кодом и задавать вопросы помните да про приз спасибо очень классный продуктовый доклад серьезно то infinetra была продуктовый У меня пока первый в зале такое Мне понравилось очень Спасибо ребят Так давайте ваши вопросы туда потом в первый ряд Привет Спасибо за доклад Спасибо за джангу которую редко услышишь на хайловоде назад поэтому и пустили я так думаю но я смотрю по функционалу не такая сложная не такая сложная был диктант по сути Ну плюс-минус а почему не использовали Fast API очень большая нагрузку может держать может все реализовывать и джанка какая была третья которая синхронная или вы Или вы не на асинхронное делали у нас было 4 вопрос синхронности не синхронности Почему не Фаст A5 да то есть потому что не было времени разделять то есть Ну как я сказал вершина айсберга да то есть это вот наша онлайн мероприятие где были ученики а была еще большой был большой блок связанный с оффлайном Это где загружались анкеты и прочее прочее и чтобы не потерять у чего тогда чтобы была сквозная аналитика как заказчик просил за такой короткий срок если бы мы развалили на две части в Джанго была бы только паблик часть А ipi мы тянули на фасте да то есть а ходила бы она за учётками всё равно в джангу мы бы всё равно получили узкий мост на rest API вот в этот Ну вот на стыке да то есть там ipi и данными и была вероятность потерять данные А вы использовали джанковскую админку для работы джанга админка была супер-супер админка Где ролями раскидывались а была еще на этом плейте отдельно отдельный портал да то есть там где для заказчика для админов не супер админов а просто админов можно было смотреть смотрите Какая история то есть вот в штатный Джанго админки да то есть там есть все равно если ты не прикручиваешь батарейки да то есть какие-то вещи например пользователи за три лимона перескочила ты не можешь открыть в принципе список дефолтные юзбери потому что он падает то есть Ну вот а-а Ну немножко она под другое с одной стороны сделано с другой стороны её можно докрутить быстро Понятно А selary для асинхронных ситуаций тоже использовали использовали это было в блоги но я просто сейчас никто еще больше не успеет задать вопрос я прям быстро Спасибо использовали для генерации PDF то есть там я прям 5 сек у нас когда проходила от реакта Джонсон с ответами то есть мы настолько торопились что нам некогда было вывести результат Да мы не расплатили мы хранили дамбы и потом мы говорили о том Ну нашему ученикам о том что подведение итогов через неделю и вот там вот сели в фоне да то есть там всё распарсивало да Он же сон и превращалась это в дипломы а дипломы отправлялись на почту и появлялись личных кабинетах Это всё асинхронично через Давайте следующий Да спасибо большое за доклад реже ближе микрофон Спасибо большое за доклад не часто услышишь такие истории мне самому приходилось свое время и что-то подобное делать и разбирать собственно подобного рода собранный проект проекты У меня вопрос а не считаете ли вы что узким горлышком как раз была джанговского рынка Или вы там писали рауза вопросы в скл по потреблению ресурсов Да а-а почему собственно вам и пришлось коллировать в большом количестве губернии резиновый Да э-э я согласен А она ела память потому что тяжёлых запросов не было там не было сложной модели сложных модели с большим количеством полей Вот но было большое количество текстов да то есть Вот именно вот в медийной части вот и э-э РМ оно батарейкой да то есть там всё видно поток запросов который генерит Джанго во время обработки Ура если он был не большая просадка на этом была то мы модернизировали нам этого хватило когда идут сложные модели и многие ко многим соединяется да то есть идет большой верхает там по поводу скуля запросов это не про этот проект то есть вот ну тут не было такого сущности были простыми А когда нам нужно было сложные отчеты делать да то есть то из орем дёргали массивы данных и пандой уже делали срезы которые нужны заказчику то есть пайтон панда да то есть там внутри либо э-э генерировали массивы которые нужны обрабатывали их быстро и отдавали а-а А у нас уже всё диктант прошёл То есть у нас неделя была после этого там бэк-лога да то есть для того чтобы заказчик мог обрабатывать данные и там уже Мы были вольны в этом то есть мы заражались опять да то есть там и Ну ничего страшного уже не просто за кадром осталось на самом деле довольно много функционала про который как бы вам неизвестно то есть у нас во-первых была на уровневых ролей там допустим директор школы пришел зашел на портал распечатал анкету для средних классов для младших классов потом когда он их загрузил обработал для каждого ученика сгенерилось как бы свой диплом это за тестирование в оффлайне без онлайна плюс у нас была ну как бы админка для заказчика где они для государственных структур формировали отчеты потому Какое количество участников в каком регионе полу возрастные характеристики Кто как поучаствовал кто там лучший Кому какой подарок подарить и то есть как бы много всего было и мы в этом году сами себе даже перед докладом задавали вопрос Ну то есть как бы а-а при прочих равных Ну то есть вот нам прямо сейчас дают что мы делаем мы просто с учётом ошибок прошлого года но поехали бы на этом же стояке Ну мы присматривали то есть ну постоянно смотрели что он делает то есть а нет Аплодисменты ребят Спасибо большое прям Круто На одном дыхании послушал У меня вопрос не про джангу не про питон Скажите пожалуйста где разбанивают в black-листах упомянули про почту что прогрели домен но попали в Blacklist потом мы пришли куда-то значит по памяти Как называется Скажи мне я один про поводу самых списков тех кто составляет на них описали да то есть там их есть топ сервис название сервисов которые ни один из них не российский но при этом почему-то при попадании домена туда в блок-лист то есть задача была прям по сути поставлена для контент-менеджера то есть его как бы он заходил Там Почему почта в спаме значит ссылочка проверить какая-то ссылка да да проверить проверяли Я сейчас на память не помню потом как бы по итогам проверки выдаёт ссылочки на сервисы в которых он состоит и там есть автоматически как бы исключиться пишешь какой-то пруф что я там такой хороший прикладываешь какие-то подтверждения А есть Прямо Ну там Напишите на почту администратор берёшь почту пишут что да что пожалуйста меня разбаньте и мы хорошие вот э в течение суток обычно вопрос решался я понял спасибо еще маленький коротенький вопрос Какой РПС был в момент диктанта ещё раз средний РПС момент диктанта порядок хотя бы мне кажется Когда у нас госуслуги дали рассылку самый большой у нас был наверное этот там есть контакты Ну мы не будем выдумывать То есть я я пришлю мы тестили на чуть ли не на миллион да то есть вот РПЦ А по факту было меньше сильно меньше чем чем нас пугали и Ну я лучше эту цифру пришлю вот Ну прямо на мой телегу пришлёте и я в понедельник вам вышлю Давайте ещё один вопрос Мы успеем я думаю пожалуйста получил Я постараюсь как можно быстрее Спасибо за честную презентацию без приукрашивания деталей прямо очень душевно У меня два быстрых вопроса Первый Какой у вас был размер команды разработчики плюс все с отмены и так далее и второй если я как фронтанчик мне Просто любопытно использовали вы какие-нибудь заготовки реакта или какие-то фреймворки а-ля nex.js или godspy или сделали все с нуля Я за фронт А ты за команду по поводу фронта был ванильный Джек Вере на публичной части а то что касается реактора реакторе dux это вот прям это была отдельная песочница она с джангой общалась только по поводу токенов аутентификации все остальная история и брала контент да то есть там она набрала рестапе то есть вот Ну понятно что там мог бы быть там брала данные и это была вот изоляция то есть прям отдельно был мини команда которая занималась реакцией если без приукрашиваний по секрету нас было 7 человек а технической поддержки МегаФон на 21 но они не знали что у нас семьи когда диктант закончился они такие говорят заказчик на протяжении диктанта нам вот так вот периодически делал Вот И там потом по итогам был какой-то общий кол и Мегафон говорит Слушайте вас так все прикольно прошло как бы ну мы благодарим команду которая была на проекте Вот Нам было интересно работать мы как бы с Вася когда это услышали нам уже было всё равно на всех мы такие прям вот да Выбирайте какой вопрос получит замечательный 15 секунд но про приступаю тоже классно ножик просто потрясающий просто обалденный приз Спасибо ребят классный доклад"
}
{
  "video_id": "w4ZaZs1lcmQ",
  "channel": "HighLoadChannel",
  "title": "Геолокация по Wi-Fi/GSM в больших городах на базе ML для 30 миллионов пользователей / Артём Кравчук",
  "views": 1092,
  "duration": 1880,
  "published": "2023-04-28T06:19:52-07:00",
  "text": "Всем привет Меня зовут Артём Я из 2Гис 2Гис та компания которая делает карты и делает справочники сегодня Вам расскажу про то как мы позиционируем пользователей при помощи wi-fi и сотовых вышек когда они ловит Когда не ловит GPS поехали в общем сначала немножко про себя во-первых я занимаюсь машинным обучением в 2ГИС во вторых я преподаю машины обучение Везде где позовут И в третьих я еще такой портале математик но математикой занимаюсь не прикладное такой очень абстрактный то есть прям теоремы доказываю В общем поехали к самому докладу Сегодня мы будем говорить про GPS позиционирование и как быть когда его нет поэтому Давайте немножко водных про самого GPS позиционирования в общем если вы сейчас откроете свой телефон и откроете на нем какой-нибудь приложение с картами то вас призумит вот к месту где вы сейчас примерно находитесь это происходит не случайно это происходит благодаря тому что нашей Земли есть искусственные спутники которые вот так вот во все стороны рассылают от тебя сигналы и телефон когда получает эти сигналы Может как-то с агрегировать и сказать где вы сейчас примерно находитесь Какие же проблемы случаются с GPS собственно главная проблема Это то что этого GPS может не быть то есть САМ модуль который отвечает за GPS у телефона может быть сломан может быть не прогрет может быть настолько шумным что его просто не захочется использовать и по нашей статистике примерно у восьми процентов Андроидов что-то с ним не Ладно и следующее проблема Это что САМ модуль работает но в каких-то условиях он может очень сильно шуметь и классический пример здесь это проблема городских каньонов То есть когда ваш телефон принимает сигнал от спутника он предполагает что этот сигнал дошел к нему по прямой Но если вы стоите около двух высоких зданий то сигнал поможет дойти вот так вот подражавшись между ними и очевидно что это только несет шум Но сегодня мы сосредоточимся на на том в общем Как как нам быть когда GPS нет оппозиционировать хочется смотрите GPS только один из сигналов который принимает наш телефон если вы сейчас там достанетесь свой телефон то скорее всего вы увидите что вы там поймали не знаю с десяток вай фай точек И вообще наши города они довольно плотно начинены этими wi-fi роутерами и в общем хочется как-то попробовать использовать эту информацию помимо этого наши города еще не так плотно но тоже начинены вышками сотовой связи тоже сегодня попробуем это как-то использовать Ну поехали в общем методов которые методы которые пытаются как-то по wi-fi предсказать ваше положение их на самом деле немало Но все они основываются на таком простом предложении что если мы ловим wi-fi только из определенного района то логично что мы находимся где-то в этом районе Вот то есть у каждого у каждого wi-fi точки то есть у каждого роутера есть как бы уникальный идентификатор mac-адрес и если мы ловим MAC адреса только из одного района то кажется что где-то мы должны быть в нем но пока что не понятно то есть мы находимся где-то в этом районе где-то в одном из серых пинов В каком конкретно пока что не ясно что же нам может помочь Я думаю вы замечали что сигнал wi-fi можно ловить там то с одной полоской то с двумя ту с тремя это нам говорит о том что у нас есть не только факт того что мы ловим какой-то wi-fi У нас есть еще есть сигнал с которым мы этот wi-fi ловим и мы можем внимательно посмотреть на эту картинку и увидеть что вот какие-то вай фай точки мы ловим большим сигналом чем остальные и поэтому кажется логичным сказать что пользователь этот стоит где-то здесь В общем после этого По крайней мере у меня возникла такая эти Мы возьмем пойдем и соберем вот точные координаты Где находятся все wi-fi чики по всему миру Ну давайте подумаем что нам для этого нужно сделать нам для этого надо будет зайти в каждый в каждую квартиру каждого подъезда и измерить линейкой расстояние от входа до роутера В общем это мое лицо когда я прикинул сколько это в человека тысячелетиях потому что в человека в часах Это задача уже явно не измеряется Но даже если мы как-нибудь это собрали то в общем нас добьет вот этот вопрос А что делать если wi-fi переедет Что значит wi-fi переедет wi-fi это просто какой-то роутер И на самом деле он сегодня может быть здесь завтра может быть там то есть это нам говорит о том что помимо того что нам надо собрать эти данные нам эти данные надо еще с какой-то периодичностью поддерживать актуальными В общем задача это кажется совсем не решаемая Ну если она не решается А давайте подумаем Нужно ли нам вообще знать координаты wi-fi чем как я говорил 2ГИС занимается картами У нас есть свой навигатор и пользователи когда используют этот навигатор они нам присылают свои обезличенные координаты то есть где они сейчас находятся на карте GPS и до этого я говорил что там только 8 процентов что-то не Ладно с GPS то есть большинство пользователей GPS Все равно все окей Вот то есть к нам приходят пользователи координаты которых известны и пусть они поймали вот этот mac-адрес с Вот такими сигналами то есть два чувака поймали его сигнала -30 115 11 минус 80 и сейчас что когда ко мне придет Новый человек у которого уже нет GPS и скажет что я поймал Вот этот mac-адрес вот этот wi-fi сигнала -30 Где же я нахожусь Ну я немножко подумаю и скажу что вряд ли ты находишься рядом с чуваком у которого сигнал был минус 80 Да потому что ваши сигналы очень отличаются вряд ли с минус 50 скорее всего Ты находишься где-то здесь вот между людьми сигнала минус 30 и смотрите сейчас мы вообще хоть как-то использовали точные координаты wi-fi Да Кажется что нет то есть мы использовали не координаты wi-fi мы использовали координаты людей которые ловили этот wi-fi и то есть получается что нам их просто не нужно знать пользователи сами все соберут что нам надо что сейчас произошло на самом деле мы сейчас в голове построили такую какую-то предсказательную модель то есть нам осталось всего лишь это дело оцифровать как-то и засунуть это в компьютер Ну давайте думать как мы это будем засовывать чтобы сейчас предсказать пользователю где он находится мне что надо было знать мне надо было знать историю как бы в какой в каких координатах пользователи ловили данный wi-fi из какой силы сигнала Ну давайте будем хранить то есть для каждого wi-fi роутера мы будем хранить такую историю широта долгота и Это сигнал с которым ловился данный wi-fi и так вообще сделаем для всех роутеров То есть например для первого роутера его там ловила 80 человек для второго 10 Ну и там для третьего и так далее И вот эту зелененькую сущность Мы сегодня на протяжении доклада будем называть дата сетом wi-fi точки Вот в общем видно что у нас появилось что-то похожее на обучающую выборку осталось только обучить на ней какую-то модельку Ну давайте думать как мы будем учить какую-то модельку Давайте сначала подумаем каким она вообще свойством должна удовлетворять Во первых она должна локализовать пользователя около пользователей с похожими сигналами То есть это то что мы сейчас сделали в уме из каких-то житейских соображений второе Это что Это что сигнал в пространстве от wi-fi он изменяется непрерывно если он не врезался в стену на самом деле это не супер важное свойство чтобы хорошо решить эту задачу но по фану его здесь получим следующее то что модели должны легко ансамблироваться что я здесь понимаю под словом ансамблироваться Если вы сейчас достанете телефон то скорее всего там какой-то не маленькое количество вайфаев вы поймаете и использовать только информацию с одного вайфая чтобы вас позиционировать Ну кажется что это как-то расточительно то есть хочется использовать все wi-fi которые сейчас ловит пользователь и самое важное требование важнее всех остальных во много раз это то что модели должны весить очень мало и предсказание должно быть быстрым Почему модели должны весить очень мало потому что мы хотим строить свою модельку для каждого wi-fi роутера и в больших городах количество вот этих wi-fi роутеров оно подозрительно вообще говоря близко населению этого города то есть в случае вот если взять всю Россию то у нас сейчас порядка 90 миллионов этих моделях крутится если каждая моделька будет есть хотя бы 100 мегабайт Ну кажется что наше хранилище просто треснут И предсказания должно быть быстрым Ну текущая пиковая нагрузка на наш вот этот сервис это 5000 РПС поэтому надо быстро в общем надо с чего-то начинать давайте начнем с того что научимся как-то моделировать распространение сигнала смотрите до этого к нам приходили пользователи и мы знали в каком-то конечном наш цветочек С какой силой ловился сигнал Но вообще говоря нам хочется знать как бы Какая сила сигнала у нас будет в произвольной точке где-то на карте и что мы Для этого делаем у нас для этого используем регрессию галловского процесса в общем Сегодня у нас буквы F и буквы Y они будут Они будут означать ассоциированные сигналом а буквы X они будут ассоциированы с координатами и долготой под капот этой модельки мы сегодня лезть не будем просто написано как работает то есть значение сигналов произвольной точке со звездой это такое взвешенное среднее где Крита Это скорректированный сигнал в этой точке обучающие выборки и вот эти к это а некоторые ядерные функции и они нам говорят что как бы этот вес будет тем больше чем вот этот вот эта точка X со звездой она ближе к этому объекту обучающей выборки то сейчас на что научились делать у нас было какое-то конечное множество точек И мы по нему научились строить Вот такую карту распространения сигнала то есть Мы научились апраксимироваться как сигнал распространяется в пространстве То есть сейчас мы в произвольной точке можем прикинуть какой сигнал у этого дальше что можно сделать можно ввести вот такое распределение то есть сказать что там вероятность смотрите Я оговорюсь сегодня я могу иногда вместо слова там плотность говорить вероятность это Чтобы никого не путать на самом деле Давайте скажем что вот вероятность поймать сигнал сила Y при условии что мы стоим в точке X он будет пропорционален Вот такому выражению где там в экспоненте стоит разница чего разница того с каким сигналом к нам пришел человек и и вот это вот этой нашей функции которую мы спросили Ну кажется что довольно логично распределение и дальше нам может прийти Вот такая идея давайте мы вот это выражение про про максимизируем по иксу то есть найдем с точки зрения сигнала самую вероятную локацию Это тоже может на первый взгляд показаться чем-то логичным но нас ну в общем все поломает вот такой пример пусть у нас wi-fi стоит где-то на границе между морем и сушей и как бы его сигналы распространяется вот так вот радиально и с точки зрения вот этой модели нам на самом деле ничто не запрещает получить координаты то есть наше предсказания где-то в воде но из каких-то житейских соображений Мы прекрасно понимаем что вряд ли в воду кто-то с телефоном Вообще полезет ловить этот wi-fi мало того что мы понимаем это и житейских соображений мы бы скорее всего это увидели и на данных то есть мы бы увидели что в воде просто никто не ловил этот wi-fi Давайте разбираться что же пошло не так ну во-первых просто держу в курсе что Томас байс ставит дизлайк нашей модели Давайте разбираться Почему давайте мы напишем вот такую формулу Бориса из школы которая там по X при условии Y Ну я думаю все знают и Давайте разберемся что же значит каждая из вот этих цветных букв Смотрите по X при условии Y это вероятность что человек стоит в точке X при условии что он ловит wi-fi сигналом сила Y кажется что это прям ровно то что нам нужно знать по Y при условии X это как раз то что мы получали из карты распространения сигналов и это Что пытались максимизировать тут есть еще один член который ptx то есть вероятность в принципе оказаться в точке X это как раз то что мы сейчас не учли то есть мы не учли что не надо предсказывать людям что-то в воде раз не учли давайте как-то учитывать моделировать это распределение моделировать мы его будем очень просто мы его будем моделировать при помощи ядерной оценки плотности что это такое легко понять на одномерном примере то есть Пусть Вот в этих черных штриховых точках ловился наш wi-fi Мы около каждой Нарисуем такую гаусенку гаусинки сложим и в общем у нас получится что если какой-то области много людей ловило этот wi-fi то там будет большое значение если в воде никто его не ловил то там будет значение около нуля что мы сейчас научились делать если посмотреть на Вот это разноцветное выражение то Мы научились моделировать по Y при условии X Мы научились моделировать ptx а это значит что мы научились моделировать с точностью до константы px при условии Y и кажется что это хорошо потому что вот эта красное выражение Мы собираемся в будущем оптимизировать так Это довольно Томас Борис дальше что Мы научились делать Мы научились сейчас под этот wi-fi точки то есть по таким сырым наблюдениям получать две такие карты первое мы научили научились получать карту распределения сил сигнала то есть здесь Пусть в центре поймают красный сигнал значит большой сигнал там синий Сиреневый значит маленький сигнал в центре к нам пришли люди с большой силой сигнала по бокам с маленькой поэтому сигнальчик как-то так и вторая карта это карта такой априотной вероятности в принципе оказаться в какой-то точке X и очевидно что вот эта штука она уже никак не должна зависеть от сигнала здесь зеленый цвет значит что это что-то большое там синий цвет значит что-то маленькое в центре ловила много людей этот значит что-то большое по бокам Почти никто не ловил Значит маленькая так то есть мы сейчас получили вот эти две карты и на самом деле при помощи них мы можем моделировать распределение по X при условии Y который нам надо оптимизировать Но вот как бы его оптимизировать то есть явно Оптимум там никак не ищется а всякие градиентные спуски они на самом деле будут работать долго Поэтому приходится как-то выкручиваться что мы сделаем смотрите у нас каждый вайфай Я думаю не секрет что он будет ловиться В каком-нибудь ограниченном прямоугольнике Ну давайте мы ведем этот прямоугольник и разобьем его на ячейке и что скажем мы скажем что внутри каждой ячейки у нас во первых сигнал постоянный во вторых у нас вот это приборная вероятность она тоже будет постоянная в качестве ячейки понятно что походу нам придется что-то там перенормировать но суть останется той же и дальше мы сделаем следующий трюк который вот на чем основан на самом деле вот эти матрицы px они получаются довольно разрежены почему не получается довольно разреженные Ну можно прям посмотреть на вот эту сине-зеленую картинку и представить что вот это магазин какой-то стоит со своим вайфаем где-нибудь на перекрестке то есть его этот wi-fi будет ловить Идя по вот такой дороге по вот такой дороге а по краям не будут Вот в общем оказывается что это Матрица довольно разреженная Ну давайте мы ее разрядим и а и будем хранить только те числа где мы в принципе сможем что-то предсказать пользователю и раз мы разрядили одну матрицу то надо по ней же еще проредить матрицу сигналов потому что ну они во всех выражениях участвуют совместно Вот именно эти ячейки и вот эти две матрицы на самом деле это уже есть наша моделька при помощи которой мы можем предсказывать И что самое крутое она весит очень мало то есть вот одна такая моделька она весит порядок это сотни байт иногда может вылазить за несколько килобайт Но точно не сотни мегабайтов и inference по этой матрицам будет тоже очень быстрым потому что нам надо в один проход пройтись по неразреженным координатам которых на самом деле не так много Так мы поняли как нам предсказать что-то для одного вайфая но Мы помним что пользователь может ловить много вайфаев как же мы ансамблируем довольно просто понять будет по вот этому рисунку то есть Пусть мы ловим вот эти три вайфая И что мы будем делать мы будем как бы в каждую ненулевую ячейку заходить и если в этой ячейке присутствует несколько вайфаев то мы будем от каждого вайфая докладывать в какой-то наш Score и в конце Мы возьмем просто ячейку сам высоким скором вот на самом деле это супер простой и очевидный метод ансамблирования но он отлично работает так тут может у вас еще возникнуть вопрос Артем А как же сотовые вышки ты вначале вроде что-то про них говорил на самом деле с ними все то же самое то есть по ним Мы тоже строим эти карты и предсказываем точно также Но есть одно но если wi-fi ловит в каком-то более-менее ограниченном боксе то сотовые вышки могут купить прям на несколько километров из-за этого предсказания по ним получается ну очень неточно поэтому сотовые вышки мы используем только в качестве такого Full Back То есть когда нам не получилось предсказать что-то по Вайфаю Только тогда мы их будем использовать следующее про немножко проблем В общем я думаю все знают что если мы занимаемся задачей машинного обучения то там всегда будут какие-то выбросы откуда выбросы могут драться здесь смотрите Пусть Мы наблюдаем за кем-то вайфаем мы ожидаем что где-то рядом с ним будет такое скопление точек И все но на деле получается картинка вот как на этом рисунке почему это происходит это может происходить из-за того что например человек на машине ехал поймал этот wi-fi и уехал куда-то далеко И несмотря на то что он уже далеко уехал его телефон почему-то до сих пор считает что он ловит этот wi-fi и продолжает эту информацию давать нам Ну и следующее это то что человек может например поймать wi-fi как бы входя в метро какой-то выйти с другой на другой ветки метро и отдавать нам тот же самый wi-fi так следующая проблема это кластера В общем я как уже говорил вот эти mac-адреса это их можно как бы считать уникальными идентификаторами wi-fi точек Но на самом деле коллизии Мак адресов они все равно случаются из-за этого что может происходить из-за этого на двух разных концах города могут быть роутеры у которых один и тот же mac-адрес и мы будем наблюдать вот такую картинку Когда у нас есть два кластера кластеры также могут появляться из-за сотовых вышек например потому что они бьют далеко ну будет получаться Вот какая-то такая картинка Так ну и тут в общем слышу слова выбросы слышу слова произвольное количество кластеров жму кнопку допускан в общем мы как с этим будем бороться мы будем брать наш dtset wi-fi точки и его скармливать допуска Ну да пускан будет выплёвывать нам какое-то количество кластеров и дальше для каждого из этих кластеров мы будем строить вот эту нашу модельку и затем при предсказании мы будем как бы у нас от одного mac-адреса будут участвовать все вот эти кластера Так на самом деле на этом всякие проблемки не заканчиваются то есть еще куча всяких мелких проблем Например если человек едет по дороге и там раздает со своего телефона wi-fi то мы получим такой просто шлейф точек который его ловили там по всему городу на самом деле с этим бороться довольно просто то есть мы просто говорим что там размер бы бокса для определенного вай фай он не должен вылазить какой-то величину Так на самом деле последнее что мы еще не покрыли это актуализация То есть я говорил что роутер может куда-то переехать роутер может умереть роутер может появиться но надо как-то это все поддерживать мы актуализируем все наши данные на уровне вот этих сетов и актуализируем их а как мы это делаем пусть у нас был dataset на какой-нибудь энты день для нашего роутера и пусть на N + 1 день пришли новые наблюдения что мы будем делать мы ничего умного не придумываем мы просто континируем эти данные Но компенсируем их с одним условием что у нас размер то он не может вылезти за какой-то максимальный размер То есть все что вылизался максимальный размер Мы просто отбрасываем следующая стрелочка мы говорим что это сет на N + 1 день Почему важно как бы держать брать какой-то максимальный размер для этого Сета Потому что если кто-то помнит например там регрессию галстукского процесса то там надо во-первых матрички обращать во вторых это папартные расстояния считать В общем если у нас будет 10 миллионов wi-fi Вот таких моделек у каждой из которых размер это миллион то кажется мы это долго будем считать и второе важное свойство смотрите пусть у меня роутер вчера был в одном месте а сегодня переехал на другое место значит что вчера у него был сайт Сегодня у него стал такой синий красный и у нас появилась наше наблюдениях два кластера для этого роутера Но на самом деле с течением времени красные данные они будут постепенно вытеснять Вот эти синие данные То есть у нас получится только один правильный кластер для этого вайфая и мы не будем за собой таскать вот эту всю историю использовать что там не знаю год назад мы ловили наши совсем в другом месте поехали в общем что в итоге тут нарисована что наша кие Таня она прошлась с телефоном по вот этому синему треку и параллельно она отправляла запросы с вайфаями сотовыми вышками в наш сервис Ну и тут можно увидеть как предсказание отличается того как шел человек можно на самом деле увидеть что порой случаются очень неприятные выбросы Вот я например подсветил что там почти на 200 с чем-то метров там выбросил тут может возникнуть законный вопрос почему не знаю ты какого-нибудь калмана здесь не прикрутил то есть Почему ты не сглаживаешь у меня есть на это ответ на самом деле мы этот сервис воспринимаем просто как сырой сигнал то есть мы его отдаем а потребители Если захотят то пусть они уже сами сглаживают вот так и дальше хотелось бы еще рассказать про метрики то есть про то насколько мы точны на каких-то числах и тут стоит что сказать стоит сказать что вот эта задача позиционирования по wi-fi это на самом деле задача такого не точного позиционирования то есть на наши Ну у нас на практике получается что GPS он все равно сильно точнее чем вот эти wi-fi точки поэтому что поэтому для подсчета метрик Мы берем вот этот GPS как бы как Ground rus для этой задачи то есть что мы делаем мы получаем GPS шлем запрос на наш сервис и сравниваем эти две локации насколько мы далеки от GPS так и следующий небольшой дисклеймер то что вот это задача позиционирования по вайфаем она на самом деле супер неустойчивая по группам пользователей на которых мы меряем метрики метрики очень неустойчивы то есть ну очевидно что если мы возьмем пользователей который идут пешком там в центре города и ловят параллельно много вайфаев то на них метрики будут гораздо лучше чем у пользователей которые мчатся 100 километров час на машине и там дай Бог за всю дорогу один поймали но нам в Одессе как бы важны все пользователи 2гиса поэтому здесь метрики именно по всем пользователям 2гиса то есть такая средняя температура по больнице 2ГИС вот поэтому Если вы будете решать какую-то такую же задачу то у вас вряд ли получится за референс взять вот эти метрики которые получились у меня так Ну и что мы делали на самом деле помимо того что мы отправляли Запрос к нашему сервису мы еще параллельно такой же запрос формировали к одному решению которое Уже довольно давно на рынке и здесь можно увидеть гистограмку ошибок Вот когда я ее получил Я немножко удивился и искал подвох вот такого не нашел на самом деле то есть обычно задачах машинного обучения хорошо когда ты там не знаю на пару процентов превзошел это уже круто вот получилось что медианы ошибки она прям в пять раз меньше чем у конкурентов на самом деле мы пока успели сравниться только вот с одним этим решением Видимо это не лучшее решение на рынке но значит наши не худшее по крайней мере так Да последнее про что хотелось бы сказать немножко все-таки упомянуть какую-то инженерную часть Я сегодня рассказал Там про какие-то формулы алгоритмы математику это все отлично но это все еще надо до продано довести вот у нас это решение но дизайнелось Для более 30 миллионов пользователей его нагрузочной емкость 10 тысяч запрос в секунду текущая пиковая нагрузка у него порядка 5000 запрос в секунду и это требует ансамблирования вот этих самых карт из моделек 100 штук в секунду Так ну и ежедневно нас обновляются десятки миллионов вот этих моделек wi-fi порядка 90 миллионов Значит так это сервис серверная часть И там весь инференс Он написан на кошечке предпочтет и обновление карта написано питоне база у нас немножко нестандартная это RS Пайк и все это Крутится вертится в кубах вот Ну и все это сделано силами 4 инженеров два разработчика Que и ML то есть Так у нас есть опишечка вот можно будет зайти на ее спеку если кому интересно Так у меня на этом все спасибо за внимание можно задать вопросы можно написать мне так Алё коллеги а где есть вот здесь есть вопрос несем несем микрофон сейчас а я туда пойду так сейчас все будет здравствуйте Спасибо за доклад у меня такой вопрос Вы учитывали физику самого процесса Ну то есть вы физику самого wi-fi То есть как волны распространяются ведь это вещь она достаточно хорошо изучена вот ее в принципе можно использовать для определения расстояния Нет мы учитывали только по сути сигналы смысле нам важно было прокси минерать именно сигналы из наших данных То есть тут как раз встает вопрос что вот если вот эту физику учитывать то кажется надо понимать где этот wi-fi стоит и все такое У нас не было возможности это вообще получить то есть мы мы просто из данных апраксинировали нужные нам сигналы и как-то пытались это использовать спасибо Прошу прощения Артём надо не забывать думать про вопросы чтобы в конце выбрать лучший Да мне сказали это важно Да спасибо все у нас есть призы просто автор лучших вопросов и Артем Спасибо за доклад Сергей Бажин вопрос про ансамблирование можешь подсказать сколько докидывает ансамблирование при помощи учитывая информацию от разных точек по сравнению с мода подходом так я очень сильно докидывает больше чем что-либо и мне кажется в этом вообще секрет всего тут медиана порядка 43 метров Дон сомлирования она была порядка там 80-100 точно не помню но прям мощно накидывает вопрос по бизнесу Как как вообще обосновалась необходимость в таком решении при том что ну ты говорил GPS в принципе для большинства Ну там больше 95 процентов 92 дает хороший результат то есть как как не знаю пришли к решению Что необходимо делать и вкладывать именно вот задачу Спасибо так Ну на самом деле мы просто хотим чтобы все пользователи были счастливы для нас там 8 процентов это немало Вот и до этого мы жили на другом решении стороннего вендоров этой же задачи сейчас просто решили сделать свое Вот то есть для нас эти восемь процентов это не мало а такой вопрос от первичный сбор данных для этой системы Это получается пользователи которые с включенным GPS то есть устойчивым GPS и соответственно с них идет сбор wi-fi mac-адресов и силы сигнала с радиовышек если одна из этих систем отключена эти данные тоже учитываются системы Нет ну то есть если wi-fi если wi-fi выключен то ничего не Соберется не отправится если с выключен то тоже ничего не собирается не отправится"
}
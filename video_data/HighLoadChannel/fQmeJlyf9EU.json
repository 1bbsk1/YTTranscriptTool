{
  "video_id": "fQmeJlyf9EU",
  "channel": "HighLoadChannel",
  "title": "Why are we excited about MySQL 8? / Петр Зайцев (Percona)",
  "views": 1129,
  "duration": 3189,
  "published": "2018-08-16T04:34:29-07:00",
  "text": "да действительно я расскажу о москве 8 и о том что же там полезное значит вы не пугайтесь слайды будут на английском но рассказывать я вам все буду на русском тут некоторые меня спрашивает а на каком языке будет доклад вот ну и на самом деле я подошёл к этому докладу как что посмотреть такие вещи интересные которые с моей стороны интересно с точки зрения девелоперам который любит новые фичи как что можно использовать также вещи которые управляют упрощаю да там или улучшают каким-то образом как этот морской можно собственно говоря использовать на большом объеме вот что следует знать да то что mais quel 8 пока что на статусе а релиз кандидатами то есть это означает что в принципе основные фичи которые туда планируют включить они уже были написаны но при этом все так он еще доводится до ума а оптимизируется вот и собственно говоря поэтому большого опыта какого то использования в продакшен большим числом после клиентов его пока-что еще нет и в основном то о чем я вам рассказываю она основана либо на каком-то тестирование да там либо на том что я скажем так и изучал спецификация и так далее вот но давайте начнем о том что ты что ж в мае сколь 8 интересная для людей которые управляются что базам данных но вообще о чем люди которые управляют или администрировать база данных что их интересуют ну вот эти вот вещи мастера с точки зрения чтобы он был стабильный чтобы можно было обеспечить какую-то высокую доступность баз данных чтобы он хорошо работал чтобы у него была можно было обеспечить высокий уровень безопасности чтобы можно было понять что же там внутри происходит да потому что часто у нас база данных тормозит или как-то работает на не так как нам хотелось бы а понять что же почему тяжело ну и общем-то тоже лучше управляемость нам всегда хотелось бы ну 1 наверное вот если вот спросить одна фича которая появились mais quel 8 это то что называется на эти двери всегда там или нативный словарь данных это значит то что информация о табличках у колонках она теперь храниться не в наборе frm файл в майскую а она хранится в внутренних специальных и no debe табличках ну и на самом деле если посмотреть вот на такую реализацию что практически во всех базах данных включая даже sql lite это уже давно сделано таким образом то есть поэтому то что мой сказали занимают столько лет довести это до ума это достаточно удивительно ну что это нам дает такие бонусы ну во первых у нас получается что ддл да там это значит когда мы делаем креативу create index и так такие вот операции они атомарный и краж сейф что значит атомарная но вот например если взять mais quel сейчас да там и вы возьмете там дроп тайбл эй , би и например одно из этих табличек не будет дата мы сделаем table / би си одно из них таблички не будет например таблички б это значит что табличка и дропнется дата после этого на табличке by нам скажет ошибку табличку сином соответственно ставится да то есть это означает что statement не атомарный в майскую elate если выполнить такой statement а у нас он посмотришь на всех табличек нету ну да там то есть одно из таблиц нет и он выпал не будет но другая что еще более важно на мой взгляд это то что он краж сейф на самом деле в майскую хотя мы говорим что это вот там транзакционные база данных до мысли вот мы вытащим например питания у нас полет кроша кавери всего становится это да так потому что на тебе хороший на самом деле хорошо продуманный движок но если у нас были в этот момент какие-то диди ель кто мог быть проблемы то есть у нас может быть вполне ситуация когда состояние наших frm файл она будет missing a nice карнизе равана за тем что но у нас хранится в и на тебе и таблички придется каким-то образом восстанавливать руками очень удобно вот а но дополнительно бенефиты также мы получаем информацию схема которая значительно быстрее да то есть на числе большом числе да это может сотни раз быстрее потому что не нужно открывать кучу таких вот и форм файликов и считывать ну и опять-таки тоже наконец-то мы избавляемся от май сам систем тейлз которая тоже была еще одной такой исключением из но действительно полноценной asset базы данных ну это вот пример здесь можно посмотреть на том как май сколь и 5-7 и 8 вот такой запрос у нас выполняет время начиная от там небольшого числа таблицы 5 тысяч до одного миллиона таблица и видно что если мы делаем joint джон здесь это существенно то у нас там в случае xii таблиц много то разница вообще офигенно да даже вот на не слишком большом также числе таблиц за компом это может где-то 50 тысяч мы видим в тысячу раз такие запросы увеличиваются на 1000 раз эта разница между тем что такие запросы нельзя использовать да потому что они выполняются практически вечность это что их можно использовать хорошо следующий вопрос да тоже который что интересно а я думаю затрагивает очень многие приложения это значительно лучше саппорты и tf и особенно youtube эти амбиции то есть что интересное произошло в мире юте faith последнее время до 100 затронула даже американцев да то есть обычно вот американцы многие европейцы у них был хороший latin wang character set им собственно говоря утихает непосредственно не очень был сильно нужен но последнее время все стали переписываться с мальчиками а если кто знает то вот эти все смайлики заразы они в youtube эй там бери ford соответственно если вы хотите чтобы ваше приложение было ну со смайликами работало хорошо да то вам наверное нужен и утешит м be for который в mais quel но достаточно тормозил да он был написан не не очень быстро и в.а. mais quel 8 видно что происходит улучшение скорости до там в ну вот 2 3 да там да да в некоторых случаях да там 15 раз что понятное дело очень существенным с точки зрения security тоже много здесь интересных фич ну во первых есть поддержка rolls сделано второе сделано то что а супер привилегия теперь разбитая на много маленьких более скажем так простых привилегий но очень часто возникал такой простой вопрос даст вот мы хотим делать такой мониторинг маску или но и часто вот этого мониторинг приложение нужно там куча там системных данных считывать и так далее вот мы ему даем преступник привилегии да там но при этом нашего мониторинг приложения совершенно не нужен например уметь возможностям положить сервер да там или же там создавать полис для сейчас это разбиты на кучу мая более а атомарных привилегий которые позволяют управлять проявлениями значительно значительно более быстро для людей которых важно комплаенс есть тоже такая вещь как паспорте store т.е. это значит что мы можем enforced полисе что вот ребята вы когда должны менять пароль на в мир раз в три месяца до там для мой сколь и это уже подержи в предыдущих версиях но вновь версии можно еще прописать например сказать что-то хранить мы будем хранить последние пять паролей и предыдущие пароль вам а задавать нельзя да чтобы люди не не прыгали от лени между двумя двумя паролями следующий момент интересный то что аутентификации но наиболее на верность урна и которая базируется на 2 вот она в москаль было достаточно достаточно медленно работала до из-за этого то сейчас дело новой а типа модификации который называется конечно за чей-то он работает существенно быстрее ный и при этом весьма наиболее secure из тех которые предоставляет представляет морской следующий маленький момент skip грант да то есть mais quel издавна если кто помнит если вы забыли свой мой сколь root пароль что нужно делать запустить мая скроется skip грант дальше что люди очень делаю часто и забыть про это он уже при этом работает вот и ну или там забыть на это на час и так далее люди могут прекрасно пока вы свой пароль восстанавливаете заходить по по сети да там сейчас skip грант он был сделан то что он работу он запрещает в серии могут соединения то есть если вы делаете себе password recovery to skip гран он даже разрешает зайти без пароля на сервер но только с локальных соединений они по по сети ну и следующий момент по security это то что в москве или уже было с версии 5-7 поддержка encryption можно было как rip the vote in a debit и был space и но при этом и найти белок файла в которых тоже хранятся данные да там хотя не настолько удобном виде но все-таки хранятся а они не криптовалюта то есть в в майскую a8 как бы этот недостаток устранен следующий момент тоже который весьма важен да там это то что автоинкремент значение auto increment колонок она теперь у нас сохраняется при при стартах да там то есть до этого момента до маску или восемь как автоинкремент работал он поддерживался в памяти но если мы делаем рестарт масскульта при первом открытии таблички он делает грубо говоря select макс айди из-за таблицы и это автоинкремент соответственно если мы например взяли и не знаю там удалили кучу столбцов да вот из этой и из таблички на кучу последних данных после это майской перезапустили у нас авт инкремент зарезать elso да там что может может создавать проблемы но и дополнительно это тоже проблема вопросы решает да так что мы можем задать автоинкремент любое значение он будет persistent хранится и так далее вот следующая интересная штука а в в mais quel многие наверное знают такую проблему что вот если я забыл какой-нибудь запрос долгий да там который мне может бежать несколько дней до то у нас может вот это вот files on duty был space он может разрастаться до больших размеров и после этого с ним вообще не понятно что делать да потому что он живет систем ты wospac по умолчанию вот и для того чтобы его там пересоздать его сжать нам нужно теперь делать мне там полный дамп и restore да там или другие неприятные телодвижения в майскую лейт та же проблема это решается тут тем что у нас сейчас вся онду данные они хранятся в отдельном в отдельном ты был спейси вот причем он автоматически портится да то есть у нас была большая транзакция после этого not at four удалилась ну то есть выше нам не нужен такой онду space to но при этом от сохранится следующий момент в очень часто с чем сталкиваемся с то что морской люди используют без тюнинга даже на на серверах вот ну и понятно морской на самом деле был сделан для чего сначала для небольших приложений до что вот если вы взяли себе его там на сервере подняли он там сидит себе в уголочке никого не трогает на там слишком много ресурсов не живет но это не всегда удобно вот сейчас сделано что что если есть поддержка так называем автотюнинг на примере если вы запускаете мой сколь в клауд хотите уделать на инцес их разного типа вы можете поставить и на 9-ке red server опцию и в этом случае ну наиболее скажем так важные параметры которые влияют на производительности которую нужно сверить с с размером сервер они будут отменены автоматически следующая интересная штука в москве 57 много работы при проведено с джейсон да то есть поддержками джейсен объекты вот но одна из интересных проблем которые вообще есть даже у документы баз данных это та когда мы интенсивно обновляем джейсон объекта но например у нас есть большой толстый джейсон объект date of не знаю например хранится блокпост да там влезть на объекте у нас вот есть там конь каунтер мы хотим хранить сколько раз этот блокпост просмотрели всегда было очень дорого делать такие вот изменения традиционно в москве сейчас в москве или начинается разрабатываться поддержка что вот изменение внутри джейсона документов она может производиться без полной перезаписи перезаписи документа то есть на текущий момент это сделано только для поддержки в репликации да то есть там есть опция такая которая позволяет нам не реплицировать только значение вот это вот конкретный джейсон поле они всего джейса но в дальнейшем идет работа над тем чтобы поддерживать и частичное обновление вот это вот самого объекта на на диске что будет очень-очень круто следующая штучка invisible индекса это фича которую я помню когда еще работал mais quel наверное лет пятнадцать назад очень агитировал всех ее сделать что-то нам фича дает то что мы можем создать индексы указать то что яндекс у нас invisible да там или alter the evil сделать яндекс invisible который будет не будет виден optimizer am использоваться зачем это нужно да там такие странные индекса ну дело в том что обычно индексы легко создавать но их тяжело удалять потому что удалил индекс оказывается у тебя вот есть какой-то запрос который выполняется раз в неделю да там и и и блин ну он сломается да там и и все плохо станет но при этом часто создание этого индекса обратно это может быть очень долгосрочной операция этом это может занять многие-многие часы вот здесь что можем сделать это сделать яндекс invisible который у нас и оставить его в таком виде не знаю неделю на месяц когда мы уже точно уверена что ты индекс действительно никому не ну не нужны мы его можем дропнуть а если вдруг вы настроились киты запросы которые этот индекс на самом деле нужен там и мы можем сделать обратно обратно визгу следующая интересная штука темпи тибблз тораджи на самом деле это специальная сторож женщин который сделано для временных таблиц которые замещает memory storage engine для обработки внутренней запросов и она позволяет а существенно ускорить работу да вот в том числе а вот например я показываю tefal cm by ford tom части это благодаря вот этой вот в это вот сторож сторож следующий интересную штуку для бака по на то есть не все знают но на самом деле если братья мать бака поискали что супер конных среди bemix рыбаков что с моей сколь энтерпрайз баков бы есть некоторые операции при которых у нас woke up может не пройти успешно да там потому что есть некоторые операции над базой данных которые не логин и полностью в и на 9 транзакционный лог вот там создание индекса например вот и который соответственно церковных стрельба как мне не совместимы с другими подобными утилитами вот и раньше была такая проблема что мы в бока выполняем только в конце пока мы знаем произошел он успешно или нет вот эти бок о бок с позволяют нам вместо этого заблокировать incense таком что все такие вот запросы которые могут сломать backup да там обычно это причем и там добавить индекс некоторые диди ел они будут запрещены таким образом мы можем быть уверены что пока будет у нас всегда успешно с первого раза ну особенно это важно если мы делаем большие bacopa дату сильбо копить там 20 терабайт она в конце говорят увд и я на самом деле чет у вас тут внизу бака пилось давайте повторим то это неприятная процедура следующая вещь optimizer histogram то есть много дополнительных статистике может храниться по колонкам что интересно это я вот привожу здесь пример что формат и статистике был выбран джейсон и означает что он достаточно расширяемый да то есть можно будет optimizer команде в москве достаточно легко добавлять разные разные другие типы типу статистик которые можно сохранять без того чтобы какие-то делать несовместимые изменения формата этой статистики что очень достаточно круто вот следующий модель момент optimizer также был улучшен для того чтобы держать чтобы лучше работать с коста модели в частности например optimizer теперь учитывает сколько данные но когда мы выполняем запросу нас данные влазит в память или нет да потому что зависимость от этого нам может быть оптимальный один на план выполнения запроса или совсем а или совсем другой на самом деле что интересно про морской optimizer и там на самом деле весьма много описано новые фичи и так далее сид интересный сайт который называется написал майскую лягает вот который поддерживает морган toker вот там очень много чего интересного написано краткой по теме именно про mais quel 8 optimizer следующие стуку performance кима станете спорить performance ким и тут никто не использует performance кима вы пришли на highload конференции вы не используете performance кима использовал а значит не пошло но ясно что но немного ну хорошо хоть по чуть-чуть начинать надо ну ладно performa с кем на самом деле это очень классный инструмент если нужно разбираться со сложными проблемами там много можно найти разные а информация вот ну и в каждой версия на последней начиная с 5 5 у неё существенно какие-то улучшения в что нас восьмерки во первых это и индексы скажем так для более быстрого доступа то что я называю здесь их ненастоящим индексом потому что на самом деле индексы не создаются но optimizer у говорится что такие индексы как бы есть и при этом он может строить планы используйте индекса а дальше поскольку performance схема таблици в в памяти они на самом деле могут очень быстро сканировать как как будто эти индексы есть instrumentation ошибок сделаны следующая классная вещь на что можно смотреть какие ошибки происходят кто их вызывает до чтобы например поймать запросы которые делают не знаю там публике таки entry или for young & ice response time histogram сделала тоже есть при чем здесь как и глобальный так и для каждого запроса тоже очень классная штука которая реально позволяет нам не только работать а вот а какого среднее время выполнения этого запроса но и понять например да что вот мы что-то изменилось у нас тут стало теперь нет перри запроса да там можете его там два ли пять процентов но они стали резко тормозить такие вещи часто очень полезны но это же были добавлены примеры запросов тоже performance ким и так что их теперь не нужно вытаскивать разными совершенно не кошерными путями вот ещё один пример относительно performance кима если кто знает войска иль есть начиная с версии 57 есть эскимо то есть там есть такая и не только морское ли еще и встроенная база данных или схема который называется из и она предоставляет много вьюшек которые как раз таки позволяют получать информацию в таком читаемом виде с performance кими вот и вот например если смотреть в там есть одна интересная штука тасис просто слизь из сашин она нам показывает то же самое что процесс лист москва или значительно более детально да там что реально происходит и вот раньше это запросы у нас много активных с истинным выполняться очень долго да вот здесь например около там 35 секунд если у нас там тысяч активных сессий ну это конечно для интерактивного анализа что там происходит это не подходит теперь она занимает там около секунды до при таких же параметров значительно лучше следующая классная штука а многие люди вы знаете всегда ругались до что в mais quel мы можем изменять глобальные переменные но эти глобальные переменные они как бы живут своей жизнью да там как бы и при рестарте морской они будут потеряны и очень часто кто-нибудь и что-то на менял global переменные потом там через полгода майской припустили и блин он опять тормозит и рада работать неправильно не хорошо теперь у нас есть опция сайт persist который не только изменяет перемена но еще и и и сохраняет его локальном файлики да там которые значит измене не будут потеряны при рестарте мой сколь да там что достаточно интересно еще интересная штука что теперь mais quel по умолчанию юнит себя для ssd да да они для спиннингистов на самом деле там помощь изменилось всего это пара опция да там и я думаю что ещё достать долго что придется об причёсывать да чтоб менять кокос модели кучу разных вещей для ssd но я рад по крайней мере что начало от оптимизация положено следующая вещь баннере лоб включен по умолчанию до что это означает но это означает как бы пару вещей это то что значит теперь он если вы поднимать сколь сервер с него можно делать репутацию да там автоматом без того чтобы нужно перри конфигурировать специально если вас там есть бэкапы вы можете делать то опять таки по умолчанию палантин tommy recovery а не таскать у елки вот у меня есть бак об со вчерашнего дня бинарные логе выключены и данные если там были потеряны за последние да там полсуток или сутки то доставайте больше неоткуда вот ну и понятно что при этом если включить бан релог по умолчанию то надо его наверное держать не вечно до этого иначе съест все места поэтому по умолчанию тоже включена что он x париться через 30 дней но за за 30 дней логе хранятся в recache следующий неоднозначно скажем так решение то что в мае сколь 8 кэш был выкинут он вот и на самом деле к реке she'sa очень многие годы все создавал больше проблем чем решал да там особенности учитывая что он совершенно не скитался с множеством core нормально вот ну если нужен кому-то твари к что хороший день используется в мир праксис quelle в котором кори кэш строя 0 и другие другие решения следующая интересная штука это парте ченнинг в майской 57 подержится как бы два варианта партий шин 1 через такую специальную как бортич нестора женщин другой когда стороны джон как например генадивена реализует свой партию на низком уровне и обычно куда более эффективно в майской 8 соответственно поддерживается только вот это вот ну специальный новый вид портишь не нга вот ну и прежде всего что нужно иметь ввиду да например что если вас был какие-то май сам портишь ним таблички то вам нужно их либо сконвертировать вы надели либо убрать практически не к иначе иначе работать не будет все очень интересная штука что майской или теперь поддержит такую штуку как как ресурс ресурс групп по большому счету можно создать ресурс групп который можно за на 5 на разные курс да там и при этом мы можем когда выполнять запросы их можно тоже загнобить на эти ресурсы группа ресурсов вот что ну в некоторых случаях получаю позволяет значительно улучшить улучшить производительность здесь например вопросом и мы делали определенный миг select и апдейт запросов да когда у нас 48 core были все расширены до этого то у нас производительность была такая ограничено а часть она была гринч из того что у нас очень много параллельно пытается идти апдейтов возникает куча контент tion of и и высится в данном случае мы используем 48 пар для select of но только 10 карт для апдейтов вот и при этом нас апдейты происходит куда меньше контента в итоге и select и и апдейты у нас идут более оптимально ну то есть понятно что таковы фичи не для всех но для такого advanced тюнинга достаточно интересный интересный момент вот ну и понятно да то как как обычно когда у нас достаточно много много запросов мы можем достаточно новый connection of мы можем опять таки увидеть несколько лучше производительности в восьмерке они улучшили опять-таки производительность при большом числе потоков да там и достаточно большом числе достаточно большом числе core что надо здесь я обратно понимать до что ведитесь на низком числе core производительность не всегда лучше да при чем здесь даже можно видеть редкий пример честных морфином слайдов вот оракла да я вообще других не виделся вот здесь видно что показано что вот на некоторых она груз когда вот здесь зелёненький он на самом деле выше красненького да то есть честно говорится что в некоторых случаях искали 5-6 он был быстрее чем риск 08 ну там на на пару процентов значит из того что мне бы хотелось увидеть для такие две большие толстые штуки вот но это во-первых к вот этому слайду лучше производительность одного потока да потому что как бы учитывая то что у нас в последнее время процессоры не сильно становится быстрее все на основе столько шири вот то хотелось бы чтобы мы улучшали производительность да там от версии к версии для одного потока они ухудшали ю май scoole залочен да там просто быстренько ваза были сказать ребята давайте высоки пойти просто эти запросы очень часто нужно для ну для некоторых приложений да там rise например сид резервы и шиндо например если у нас какой-то рок роза заблокирован то его можно скипать 3 интересный момент индексы в порядке убывания тоже такая фича которая почему-то в майскую не было много-много лет теперь теперь она есть и работы до что позволяет нам например ну нормально оптимизировать такие вот запросы где у нас сортировка идет в разных порядков по колонке обычно был с этим геморрой вот следующий интересная штучка что у нас теперь появились возможности когда мы можем как бы переходить и select a mi и получать джейсен объекты которые получаете сразу на уровне на уровне иску или которые часто дальше могут сразу передаваться там фреймворка ли это так далее то есть от не нужен делать на на приложение да здесь видно мы можем сделать из это из такого таблички да да где у нас несколько джейсон объектов склеивать их в один в один джейсон и на самом деле есть наоборот есть такой достаточно сложный сложный пример который показываются но на самом деле мы можем взять из джейсона да там и получить как функция которая известен объекте получает на выходе по вашему счету искать таблицу которую можно в дальнейшем в чем-то 1 нить и так далее что на мой взгляд на самом деле очень крутая возможность если вы используете джейсон активно в разработке переходить от relations к джейсону и на наоборот тоже дополнительные возможности для джейсон такие как мы можем теперь использовать какие-то expression ведь не только к одному полю вращаемся но и например к к массиву а там каких-то элементов если нам нужно заселить не весь документа что-нибудь по по выражению это теперь поддерживается следующий интересной штукой документа и был expressions как и корси рекурсивный рекурсивные поддерживаются на на уровне стандарта что достаточно тоже был таким большим большой проблемой в sql и windows functions да где мы можем использовать синтаксис over вот на самом деле здесь такой очень допотопный как бы примерно самом деле с windows позволяет делать много разных классных случай как считать мой на вич и так далее следующий момент г.с. да то есть ja s в общем то я могу сказать что в этом я не большой эксперт да там но то что разработчики говорят они сделали там то что в вас есть плюс больше то есть там если в майской 57 и до этого была модель плоская вот и там много разных был ограничений например что если вот мы делаем там пересечении двух объектов то она считалась как пересечение rectangle зато в которых сказать ну ладно меня фоне я вот это теперь она действительно может смотреть настоящие пересечении геометрии и так далее и тому подобное но на самом деле сям jeunesse есть тут заметил нас есть эксперт в комнате вот алекс рубин вот он на джейс мучил в во всех базах данных очень сильно и он вам все может рассказать правильно говорю правильно следующая интересная штука а майской документ если москва льда комиссар тоже были добавлены разные дополнительные возможности поддержка полнотекстового поиска поддержка гиа джейсон тоже что можно использовать кстати кто не использует документ форму и скользкий это кто не знает что такое документа ой-ой-ой oracle что это очень плохо маркетинг работает от его работаешь а откуда тогда знаешь вот ну ладно а ну да к месту на самом деле это и интерфейс когда можно mais quel использовать в таком варианте чем-то похожим на на мангале беда где мы просто в ней сохраняем джейсен объекты да там через работаем с ними через краны и интерфейс место select а вот ну что в общем в москву или 8 на самом деле много чего интересного нового вот но еще что следует сказать что я думаю опять к нет информация когда мой сквозь 8 будет релиз но я абсолютно уверен что под то время когда у нас будет апреле мы будем делать нашу перка на лайв конференцию в санта-кларе там будет много что рассказа нового про май сколь 8 куда больших деталях так что приходите лика приезжайте как в пользу или подогревайте доклад вот будет очень классно вот ну и ещё меня буквам сюда не пустили если бы я не показал ему такого слать вот я думаю что о нем все сказано вот и поэты можем перейти к вопросам ато строго девушка она уже пришла в комнату сейчас будет муж тамары вопрос по нему с руки в первой части доклада был маленький строчка насчет сторож оптимизации для war чаров и так далее это касается это слово про этом сказано не было это касается только этой по 7 либо вообще и не что именно было сделано просто так так допустим дальше перескочить начисляется скажет этот и место про 2 2 . а но здесь вот в чем вопрос что вообще mais quel для временных таблиц используют нами engine достану использовал раньше майскую memory engine оно охранит всегда fixed line да то есть это означает что если есть там 10 символов надо то мы используем юте фейт 4 будет храниться 40 байт вот в темпи tail они хранятся эффективно да там по всю программу вопрос сказал что москве 8 будет торбой с диском сейчас в у нету вопрос такой не хорошо давайте запрос потом эти скрытые 3 фрай насколько я знаю а сейчас вон настолько не то что даже если первые первое поле у тебя верста это 2 world or buy ну с диском и яндекс не пользуется я пользуется используется но это где-то с была такой помню limitation где-то в мае сколь 322 нет нет штор быть в прошлом году были было тела что если первая часть индекс если там но если у тебя вопрос какое там равенство первой части да ну я приняла предлагают тебе мне показать где то с таким столкнулся то есть такого быть не должно в принципе да то есть то есть обычно не должно быть такой там мог быть какие-нибудь другие с этими связанные вещи да то есть например если у тебя яндекс не может быть использовано для первой части да например у нас есть некоторые деятели которые создают мир work or страничку work or колонка потом и сравнивает значения мер это цифровым один или два до там то такая операция на не может использовать index.dat когда у нас ну конфликтов типов дабы в таких случаях работать не будет вот ну а вообще вообще то что писать сейчас оно должно достаточно нормально работать вот почему в том случае не работает так скажи не скажу да да нет на самом деле вопрос в другом да то есть вопрос прежде всего это нужно во-первых некоторых storage engine у нас с реверсивное scania сканирование индекс она все-таки медленнее ну например привет пример если мы делаем май сам спа кейс да там или вот в мае рокс rock baby там сканирование обратно направления но получается да дорого да и в этом случае если нам нужен часто делать урвать диск то полезно индексы который построен в правильном порядке это первое но и 2 причины я писал когда нам нужно сортировать по двум колонкам в разном направлении то не асан дени де санде индексом этого не не получишь сейчас да там приходится там извращаться заразными образом вот давай хочешь искать возвращаться вот следующем докладе я как раз буду рассказывать как пить выражается как извращаться и у меня будет пример как оптимизировать с оценки не де сента для специально для джейсона но это подходит и к другим вариантом использования спасибо хорошо скажете про авто тюнинг производительности это проанализировать характеристика системы и вот статических поменять или это в динамике мнение но в данном случае то что я сказал автотюнинг это на самом деле совершенно примитивная весь да то есть там просто рассчитываются и рассчитываются эти параметры статический для но просто идея в том что они более скейлится с размером instance винса не по моторную нагрузки от времени нет нет не раз него подано нагрузки ноты и часть интересная всего упомянул там всего три перемен да и вопрос потому что эти те переменные которые тянутся на самом деле очень ну очень стандартно да то есть если говорить как бы там и на де бофор полно соковый отпусти памяти ну там типа все что не нужен да там для других целей дата мы всегда даем ему всю память дания то же самое и на тебе флаг вполне да там практически всегда мы говорим надо использовать озере да то есть как бы там эти параметры которые без без вариантов родишься да но кто следующий вопрос ну я не верю в то что там будут какие-то большие подвижки вот я сам что полнотекстовый поиск в морской на мой взгляд он сделан для очень простых приложений маленький маленький размер до данных когда какие-то другие технологии вводить не хочется если действительно нужно к нибудь там и лекарством релевантность большие объемы и так далее то использует что-то внешний пластик все и значительно более разумно одно маленькое вопрос уточнения и еще один такой вопрос первый этап раджас он хотел уточнить я правильно понял что теперь мы можем нативно при запросе из обычной таблицы получать ответ джисона мою дальше забирать в приложению или немножко не так не давали джейсон можно было по вообще если мы храним храним джейсон храним табличная весна вот то теперь если мы храним таблично то этот можно сформулировать например по получить там джейсона рейда вместо или там джейсона вообще-то мы там складывать двумя разными вариантами да то есть а ты правильно с другой стороны мы у нас есть еще другая функция с которым можем взять джейсон например объект которым у нас есть массив да там его получить как табличку 10 был после этого меры ваш джон ни с чем и другим датам или к нему при мягкие другие функции спасибо и маленький вопросик по поводу планов нет ли каких-то планов там доработок индексов ну например что был автоинкремент на поле некоторая праймари кинут какие такие штуки или более хитрые индексы там ability множественный индекс кассатами ну когда один индекс может быть когда два индекса один из них не должен быть хотя бы один из них не null например ну то есть вот такими такие сложные условия но на самом деле про это я не могу сказать да то есть мне это не не известно про автоинкремент опять-таки не могу сказать да то есть пренсе особенность persistent авто инкрементом это в принципе должно позволить до сделать такие такие вещи если очень хочется но я не думаю потому что этим на самом деле мало кто пользуется то есть обычного то автоинкремент он используется как ну значит не уникальный автоинкремент редко используется например в качестве прайма реке идет клюнуть uid удары генерирует приложение и автоинкремент просто для слуга для чего-нибудь о ну то есть просто так счетчика понятно не знаете я честно говоря по этому поводу до 2 вопроса по транзакции про новые фичи и 1 tom tom раз на уровне стоит миллионов транзакций нет то есть этом именно от омар ность но они транзакционных тито мне туда то есть мы не можем сказать вот я хочу там этот табличку дропать и здесь alter the bald там потом сделать комитет аннулировал так и второй про ресурсной группы то есть если у нас водную транзакцию и поток селитру да там в этой транзакции мы обретаем и получается перекидываем на другую игру и это считается эффективнее но здесь мы говорим скорее про скорее про разные разные транзакции да то есть если у нас есть какие-то идут ну транзакции в которые много апдейтах мы кидаем на одну серию ресурсов на тех которых у нас есть select и на на другую даты мы можем этим управлять так чтобы у нас не было что какие-то тяжелые но запросы да там они перегрузили может облейте которая для меня наиболее performance critical минутку ты можешь уже идти ставится пока ресурс группы все это время хотел спросить короля почему привязываются вот эти вот распределение запросов по ресурсу группам там плагин там еще потому что у меня может быть reporting его на один повесить на другой но на самом деле я честно могу сказать что вот летом пометил что эта фича на из то что называется из лап статус она была из такой самым последним при релиза который еще в россии не не вошла на само по себе то есть я собственно говоря не до конца ее изучал я знаю что там есть функция которую мы можем за на 5 как вот текущий тренд да там над на какую-то ресурс группу которая по большому счету не определяется в данном случае по пока россию ресурс но более глубоко и пока не играл с этим лимитирует кроме si peu может но и упсале имитировать рисую группа ну нет то есть на сколько я знаю сейчас пока она aiop сармите лимитировать не можем петр не услышал ничего в москве 8 pro репликацию будет ли какие-то изменения в майской 8 pro репликацию да я не сильно не сильно рассказывал но на самом деле интересная вещь которая мне кажется по паре аппликация это связано с улучшениями параллельной репликации да там all цифрой лет слоев то что называется в mais quel семя нас есть такая опция называется как бы логику клуб где мы можем делать репликацию параллельно которая идет базируясь на группками ти до на проблем с тем какая то что есть у нас например slave несколько более слабенький чем мастер нас может получаться как что мастер он все работает быстро ему собственно говоря групп камедь не очень нужен она славе было бы хорошо это выполнять параллельно так вот в москве 8 вместо этого использована технологии называют райт сайт extraction когда мы собственно смотрим какие ну какие данные у нас модифицируют разные транзакции соответственно какие транзакции мы можем применять параллельно что позволяет вообще ну повысить параллельность выполнение транзакции грубо говоря близка к теоретическому максимуму если я правильно понимаю это в 5 7 нарушение 1 принимается на стороне мастера эти восемь уже на сторонние слова но в каком-то смысле но вопросы просто в информация которая доступна да то есть если у нас в майскую 57 информации мы говорим что просто вот у нас эти транзакции они были запоя за комичен и как группками на мастере и при этом на что их можно выполнять параллельно дата в mais quel 8 там уже мы просто знаем о том какие какие источники собственно говоря строчки до таких таблицах разные транзакциями меняются если эти сеты не пересекаются значит мы это можем поменять параллельно просто так вот вопрос какие то изменения по поводу бирку на экструдере кластеров ну может быть виду множество быть немножко dev team нет но с точки зрения перк он их среды кластера то есть мы сейчас больше работали на до седьмой версии независимо 57 до то есть соответственно там мы сделали много измене которая связана с как бы с надежностью и юзабилити до чтобы можно было например одно опцию включить encryption да там всего трафика мы сделали для масштабируемся что можно делать параллель с с т да то есть когда вы будет не не в один поток делаться как бы в несколько мы сделали такую что у как называется пикси strict ну да там который запрещает те делать вещи которые в принципе не работают и ну и создают проблемы да например запись моей сам таблицы да там она толком а толком не работает то есть много таких вот вещей в одном из последних релизов мы тоже существенно улучшили производительность на этом с точки зрения контент шин на там некоторых случаях до до 10 раз да поэтому если вас пир konig среди кластер какой-нибудь все достаточно древний версия этого я бы 56 качать это вообще но это более как бы активно развивающейся технологии поэтому там даже в 57 между первыми 57 и сейчас устоять 57 есть изменения того чтобы забираемся обновлен до да надо надо обновляться вот еще мы доработали интеграции с прокси сколь тоже достаточно там много чего интересного есть вот на так вот все можем благодарить петра"
}
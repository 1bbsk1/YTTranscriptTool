{
  "video_id": "3yTeenjhzZc",
  "channel": "HighLoadChannel",
  "title": "Замещение Thales — аппаратных модулей шифрования / Дмитрий Гордиевский (Мир Plat.Form)",
  "views": 176,
  "duration": 2065,
  "published": "2024-04-17T01:10:25-07:00",
  "text": "Это не просто банкира Газпромбанк создает искусственный интеллект придумывают новые цифровые продукты и поддерживают профессиональное комьюнити вместе мы станем самым дата-центричным и диджитализированным банком страны Спасибо огромное нашим партнерам за поддержку Только благодаря им холод настолько потрясающий насколько он невероятный Я надеюсь что все уже успели пройти взять немножко мерча возможно перекусить и у вас отличное настроение и теперь я приглашаю на сцену нашего следующего спикера Дмитрий гордиевский мир платформ прошу коллеги Всем добрый день Меня зовут Дмитрий гордиевский я более 12 лет и последние 7 лет работы в СПК занимаюсь в том числе обслуживанием и сопровождением аппаратных модулей безопасности сегодня выступлением рассмотрим то что случилось с приходом санкций что за компания нас покинули и как это отразилось на нашем парке устройство для начала давайте рассмотрим такое основной вопрос что вообще в финтехе мы защищаем как мы это делаем в любом финансовом учреждении мы защищаем две вещи Первое это платежные данные как самые простейший пример это пин-код который вы вводите на банкомате к примеру в случае операции выдачи наличных и второй момент это локальные данные То есть это вся Sensitive Data которая участвует в аудите которые скажем так нужно как-либо защищать защищается чаще всего при помощи шифрования или же проверки целостности немного про шифрование то каким оно вообще бывает шифрование у нас бывает симметричным это процесс при котором шифрование и расшифровка информации производится одним и тем же секретным ключом который есть у вас есть у второй стороны в данном случае симметричное шифрование отличает высокая скорость меньшая длина ключа при сопоставимой криптостойкости но есть сложность в том что для того чтобы быстрые ключи довольно небольшой длины хорошо работали ими нужно обменяться его для обмена нам требуется секретный канал в данном случае речь идет либо построении как такового защищенного соединения либо же про классический скажем так финтеховый обмен ключами в котором Нам необходимо выпускать транспортный ключ который является этим секретным каналом и на напечатанных компонентах физически его передавать участнику второй вариант который у нас пользуется шифрование асимметричное в данном случае мы говорим про классическую схему приватного ключа и публичного ключа эта схема более надежная в той части что для нее секретного канала не требуется но ключи более Большие ключи более тяжелые и скорость шифрования гораздо медленнее соответственно симметрия симметрия это два основных две основных опции которые мы используем во фронтальных системах финансовых организаций где все это обрабатывается есть аппаратные модуль безопасности сокращенные часы Это классический черный ящик который у нас устанавливается в цодах по сути это некая железная коробка которая физически защищает криптопроцессор встроенный в него который имеет довольно большую скорость вычисления устанавливается Она обычно в содах наших защищенных контурах и поддерживает все основные платежные алгоритмы которые у нас в рынке используются такие железки вообще финансовыми организациями покупаются приблизительно один раз и на всю жизнь но иногда они имеют свойство все-таки ломаться их нужно менять как это железка у нас устроена физически если ее разобрать посмотреть У нас есть защищенный корпус в котором у нас установлен криптопроцессор и полная обвязка систем безопасности система отслеживания целостности самого модуля целостность информации на нем хранящейся То есть это все возможные датчики давления и передвижения вплоть до акселерометров которые удаляет всю чувствительную информацию при буквально наклоне этого модуля на несколько градусов из физического в этом модуле еще есть хостовые интерфейсы которые у нас классически подцепляются коммутаторам для того чтобы система потребителям могли с ними взаимодействовать и интерфейсы управления доступа который является уже технической частью и в непосредственном обмене информации не используется Но нужны для обслуживания данных модулей если посмотреть логически на это модуль то здесь у нас две основные системы Это внутренняя инфраструктура открытых ключей которая находится в ядре этого модуля которую мы не видим с которой мы не взаимодействуем никак но на этой внутренней инфраструктуре создается две основные вещи это элементы физического доступа к устройству элементы доступа удалённого локальный мастер ключи это единственный ключ который в принципе хранится в платежном и часы мы сейчас говорим именно об этих самых платёжных самых общего назначения скажем так это две основные составляющие про элементы физического доступа Почему мы в данном случае отнесли их к тем вещам которые создаются на внутренние инфраструктуре открытых ключей на новых устройствах которые выходят в рынок в 23 24 году элементы физического доступа представляют собой токены ключи для которых генерация уже внутри устройства в случае стали сами Ну если вы хранили также это физический ключ который вставляется прямо непосредственно в устройство где у нас эти железки применяются основные три потока фронтового взаимодействия авторизация аутентификации то есть этот три основных процесса Где используется шифрование максимально активно также мы здесь можем используем эти часы в случае генерации ключей в случае выпуска карты их выпуска и персонализации и для локального шифрования данных немного про производителя который от нас ушел и про то почему это плохо и почему это скажем так так по нам ударило есть компания Талис компания французская которая на момент 2022 года как вы можете видеть проценты ниже занимает в среднем более 80 процентов мирового рынка вышла на рынок в 85 году когда выиграл тендер визы по созданию виза Security модуля на тот момент были созданы первые часы после этого с 85 до 90 2000-х компания по сути занималась глобальным экспортом глобальным экспортом она занималась практически в одиночку потому что у ее ближайших конкурентов которые также участвовали в тендерах начиная с 85 года на уровне государства были запреты на экспорт любого оборудования таким образом за практически 30 лет компания заняла рынок просто исторически поэтому скажем так все заходы антимонопольных служб на тему здравый конкуренции не увенчались успехом потому что просто так исторически сложилось производитель действительно один в 2009 году таллис выпустил модели h7000 это самая популярная в России устройство по статистике у нас в принципе 98 процентов финансовых организаций используют модули данной компании и из этих 90 почти с 98 процентов практически все еще сидят на девятитысячных моделях в ней не было какого-то скажем так прорыва в технологиях или чего-то еще потому что на момент выпуска в 2009 году модели 9.000 уже все основные алгоритмы которые позволяли работать с чиповыми картами были в предыдущих моделях просто эту модель удачно зашла в рынок очень вовремя все как раз обновляли свои парки поэтому большинство рынок купил эту модель в 2019 году компания выпускает самую последнюю модную красивую модель 10к которую далеко не все успели купить и в двадцатом году компания уходит из России после того как компания уходит из России Начало началась паника и небольшое непонимание что же будет дальше как же мы дальше будем работать после ухода компании самое главное модули не остановились они продолжают работать потому что это высокотехнологичное устройство которое не имеет как такового сел в distruct таймера зависящего от какой-либо лицензии или какого-либо разрешения производителя по сути это ну как мне говорили секретная коробка которая просто работает чего сделать с ней нельзя после ухода производителя мы не можем изменить его производительность потому что производительность этих железок всегда регулируется исключительно лицензиями и мы не можем расширить или же как-то изменить список тех команд и тех опций которые мы хотели бы использовать также эти модули у нас более не гарантийные соответственно Мы работаем на том что есть если у нас с ним что-то происходит железка у нас сгорела мы ее утилизируем и больше нам никто новые не привезет на самом деле не критично страшно потому что устройство по-прежнему работают они не прожили еще весь свой срок жизни который в случае составляет где-то от 5 до 15 лет и зависит от элементов питания от элементов охлаждения и от одной маленькой батарейки которая в этот корпус встроен потому что у любых подобных модулей есть внутренний элемент питания который отслеживает его внутреннее состояние Даже при выключенном внешнем питании соответственно если рассмотреть среднем у нас просто на складе это устройство живет где-то около пяти лет если на него не подается постоянное напряжение батарейка просто химически стареет Если же у нас H7 вот в стойку Он работает на него подается нагрузка Ну в среднем где-то около 15 лет это Батарея стареет плюс-минус химически Поэтому в целом по рынку все устройства остались в строю все устройства работают пока ломаться массово не начали тем не менее ситуация была не очень хорошая первое что приходит в голову после ухода компании Почему бы не уйти в параллельный импорт просто не возить из Казахстана и не ставить работать дальше здесь есть несколько причин первые и основные две вы видите на экране Первое это положение Центробанка 719п которая предусматривает переход на отечественные модули и второй это указ номер 250 президента который предусматривает абсолютно то же самое для системно значимых компаний параллельно если даже не обращать внимание на сроки введения в действие указов которые нас относят кстати к началу 25 года при параллельном импорте у нас не будет техподдержки у нас будут сложности ввоза потому что это высокотехнологические устройства с криптографии которые нельзя просто так растаможить есть сложности локализации устройств которые не были скажем так приготовлены для российского рынка и безусловно риск отказа оборудования о котором мы говорили что производственный брак встречается везде и в данном случае замена мы не получим в двадцать втором году мы начали рассматривать альтернативы которые были у нас на рынке Первое это была продукция недружественных стран и параллельный импорт о котором мы говорили здесь у нас одни минусы потому что помимо того что странно недружественные и в принципе указывая Центробанка не позволяет их использовать есть соответственно сложность с поддержкой простое шифрование самым простым кажется выкинуть железки шифровать и вообще прекрасно себя чувствуют это сделать не получится потому что по требованиям регулятора у нас модуль безопасности может быть только аппарат Обязательно должна быть защищённая железка которая стоит в стойке продукцию дружественных стран мы рассматривали тестировали но здесь тоже оказалось у нас небольшая проблема в том что большее количество продукции дружественных стран отстает по технологиям то есть мы эти железки получили мы их потестировали и поняли что они не дотягивают Когда талиса в принципе так и до уровня наших запросов поэтому единственным вообще адекватный вариант который остался это отечественные разработки которые оказались на самом деле очень даже неплохими здесь у нас приведены плюсы отечественных разработок помимо того что они что логично собираются полностью с нуля в России уже теперь они поддерживают все алгоритмы используемые вообще сертифицируются они теперь в России и обладают безусловно санкционной отказа устойчивостью как таковой вообще как этот процесс строился что за импортозамещение почему сейчас мы внезапно начали уже получили готовые устройства которые можно вот покупать и ставить вся история началась вообще в 2003 году это были первые разработки импортозамещения Когда в рынок вышли рмб так называемые российские мод для безопасности они у нас участие участников даже использовались для контуров эмиссии выпуска карты в том числе но эти устройства широкого распространения не получили потому что начиная с 2003 года у нас рынок переходил с магнитных полос на чипы и гораздо проще дешевле было купить модули иностранные ограничения на которые на тот момент не было который развивались Согласно времени и обгоняли просто данный модули по технологии дальше в четырнадцатом году во время первых санкций к нам уже даже как компании поступали первые аппаратные модули для тестирования на тот момент тестирования у нас не полностью увенчалась успехом потому что были требования к скажем так общей безопасности производительности эти устройств несколько выше чем они могли предоставить на тот момент в восемнадцатом году ЦБ начал работу над вообще в принципе проектом импортозамещения как такового с тех пор у нас появились требования к аппаратным модулям безопасности со стороны регулятора как такового и они пришлись очень кстати потому что в двадцать втором году на второй волне санкций была на стороне ЦБ созданная Рабочая группа куда вошли все основные банки и нас пока и мы начали строить процесс замещения как такового за 2022 год соответственно кидали дорожную карту поговорили с производителями как таковыми и начали тесты 22-23 год у нас посвящен тестированию оборудования как таковому 24 год мы планируем массовое производство уже доработанных модулей как у нас строилось тестирование У нас есть несколько производителей которые привезли нам готовые железки уже в очень красивом промышленном дизайне и предложили их протестировать для того чтобы понять годится это нам или не годится недостаточно просто поставить в свою стойку протестировать там свои команды и сказать ОК или не ОК Значит первое что было сделано до поставки физических модулей это процесс тестирования на виртуальных ядрах то есть сначала производители нам отгрузили эмуляцию криптопроцессора которому мы обращались в наших тестовых системах и устраняли скажем так большие огрехи которые требовали глобальной доработки после полу тестирования на виртуалках мы получили опытные образцы уже в готовом дизайне и тестировали их как на стороне нспк так и на стороне банков то есть ряд модулей передавался между выми учреждениями для полного тестирования поскольку у каждого участника свои требования к типу команд к производительности их применимости тестирование применимости у нас также происходило потому что помимо того что железка Выполняет все необходимые команды ей еще нужно скажем так отвечать тем требованиям которые к ней ставит компания в части нагрузки в части установки в соде и в части общей применимости по инцидентам и самым главным на самом деле тестирования стало привлечение независимой лаборатории которая консолидировала скажем так всю информацию по тестам по необходимости тестирования включая нашу программу и методику испытания которую мы также поговорим поставила по сути рядом три часа Мы это Талис и двух производителей которые у нас были готовы к таким тестам и за несколько месяцев привело полное комплексное тестирование которое охватывает все в принципе типа платежных алгоритмов Это было очень важно потому что по итогам данного тестирования мы получили две вещи первое понимание того что данные которые будут зашифрованы на одного производителя успешно расшифрованы на H7 дорогого производителя без каких-то математических ошибок и второе то что мы получили это комплексное тестирование в принципе алгоритмов с применением программы методики испытаний которая была разработана нспк что это за методика что это вообще за документ Это единый где-то 400 страничный документ которые описывает вообще все функции криптографические которые должен выполнять платежные часы он ведется у нас с 2016 года и дополняется постоянно ежемесячно самое главное что там есть для независимых лабораторий для желающих в принципе протестироваться это все контрольные примеры с детальным описанием и по байт на прямо расписанные команды что должно быть и что должно из него выйти благодаря данным данному документу у нас как раз таки независимая наша лаборатория смогла провести успешно эти тесты и выдать результаты которые оказались позитивными и немного протестирование применимости этих модулей что мы вкладываем вообще в это понятие помимо того что мы проверили что данное железка выполняет те команды которые у нас обычно выполняются мы тестировали нагрузку нагрузку на тестировали при помощи наших собственных разработок наших собственных нагрузчиков проверяли физические параметры это как вообще эта штука встанет в нашей стойке будет ли она нормально охлаждаться и обслуживаться особенности ее установки то есть закладывание скажем так место в цодах и закладывание систем питания охлаждения под них скорость устранения инцидентов то есть то список тех действий которые нужно сделать с железкой для того чтобы устранить тот или иной инцидент на примере инцидентов стали сами и безусловно оценка объемов доработок для контуров тех систем которые будут с этими новыми железками работать про то как эти модули сертифицируются до мае этого года скажем так у нас принимались только два типа международных сертификаций устройств это песоч см это нист с мае этого года нспк скажем так разрешает финансовому сектору покупку устройств отечественных производителей которые получили сертификат на основании тематических исследований ФСБ России данный сертификаты являются удостоверением того что модуль является безопасным прошедшим все проверки и готовым к использованию и немного про то что делать когда мы новые железки купили и как вообще совместить со старыми У нас сейчас есть талиссы которые работают в формате ключей Triple доски блок если мы говорим про симметричное шифрование Как самой базовый пример У нас сейчас схема ключей это s0 или S1 и используются все базовые алгоритмы если мы говорим о миграции на новое оборудование нам придется переходить на международный стандарте арт-31 потому что полностью повторить применимость скажем так схем талиса в нефталисе мы не можем нам нужно приходить на международный формат потому что лучше всего отечественные производители работает в Open Source международном формате алгоритмы остаются все те же самые здесь никаких глобальных изменений мы не ожидаем но сами схемы ключей будут новые если у нас в талисе ключи начинаются с буквы S если максимально просто то в международном стандарте эти ключи начинаются с буквы р это означает то что нам все наши системы потребители все наши там фронты в том числе необходимо будет доработать под то чтобы использовать новые типы команд на часах помимо проблем с названием ключей есть еще проблема с локальной мастер ключами которые являются основным ключом хранящимся в hsm используется для шифрования других ключей до 25 года у нас может использоваться контур с Edge сам metalis в котором у нас уже есть ранее заведенные туда лмк есть те ключи которые мы сейчас используем при иммиграции на новые часы у нас будут заведены новые локальные мастер ключи на которые придется мигрировать все существующие ключи которые хранятся в наших хранилищах данный процесс единоразовый не сложный но эту миграцию необходимо учитывать при закупке нового оборудования и немного о наших перспективах и сроках как мы говорили ранее с 31 мая 23 года нспк разрешает к использованию отечественные часы в рамках платежной системы мер производители после проведения комплексного тестирования после скажем так получения результатов тестирования от лаборатории у нас заявили что они готовы удовлетворить полностью потребность рынка и Самый наверное такой чувствительный момент это сроки миграции учитывая положение 719 и 250 указ у нас на миграцию на новое оборудование есть один год это 2024 год Спасибо супер вообще здорово так Итак напоминаю 10 qr-код по которому можно оценить доклад можно написать Да мне понравилось Мне очень понравилось мне вообще не понравилось Ну я надеюсь что всем понравилось но в любом случае писать можно честно на самом деле это очень важно и программа на комитету и самому спикеру А кто-то написал Никто не знает Вот дальше А сейчас у нас будет все вопросов тут все очень просто Вы задаете вопросы спикер отвечает за лучшие вопросы дарим подарки Если вы смотрите нас онлайн то вопросы можно и нужно задавать чат а я буду их зачитывать Если вдруг буду ошибаться я прям очень сильно извиняюсь Я если что не Технический специалист директор это так мимо проходила в виду Понимаете вот так Ну что кто нас хочет что-либо спросить поднимайте пожалуйста руки давай Да пожалуйста Всем привет Меня зовут Артем Спасибо большое за классный доклад У меня вопрос такой но чисто гипотетически если есть такая исторически сложившаяся история с французской компании до которая заняла рынок Как ты думаешь и оцениваешь перспективы вообще мы можем тоже вот отечественным решением выходить на международные рынки и продавать такую историю мы смысле как компания отечественные нет но отечественные производители да технически это не проблема потому что алгоритмы у нас универсальные алгоритм у нас используются одни и те же поэтому данные модули можно продавать их можно использовать как в любой системе Единственная проблема которая может встать между производителем продажами во вне этих устройств это требования наших регуляторов если разрешат они смогут продавать ты сказал Вы не можете потому что это ну как бы мы не производители мы не занимаемся Здравствуйте Хороший доклад У меня вопрос Следующий ничего не сказали про непосредственные железки которые внутри этих коробок это именно отечественное железо Или это опять как бы иностранная из того что мы можем сказать мы можем сказать что железо это отечественные Что удивительно полный цикл сборки производится также в России но за подробной информации мы бы рекомендовали обратиться непосредственно к производителям которые смогут раскрыть все подробности Спасибо мне конечно сразу интересно я понимаю что подробная информация производителем отечественно Это в смысле Нет они правда отечественные Окей супер спасибо огромное вопросы если вы смотрите онлайн пожалуйста не стесняйтесь и не отвлекайтесь тоже Пожалуйста задавайте вопросы на самом деле мне кажется это самое классное когда ты не просто сидишь на конференции слушаешь Давайте честно просто посмотрите послушать вы сможете через полгода когда он выложит все эти записи и в целом Ну конечно что-то устареет но далеко не все А когда уж вы приехали на конференцию самое классное помучить спикера спикера Мне кажется здесь специально для того чтобы их мучили они для того чтобы выйти и красиво поставить на сцене как Они наверное думают но это не точно Итак Ну что будут у нас еще вопросы вижу руку Привет Меня зовут Иван Скажи пожалуйста процесс перехода он вообще как выглядит вот текущий момент безусловно Мы тушим весь бизнес перетякаем железки едем дальше или вот какой здесь можешь пару слов сказать пожалуйста Спасибо Спасибо процесс перехода на данный момент еще не формализован с точки зрения участников финансового рынка и с точки зрения нспк потому что в принципе вся эта история с импортозамещением это еще не законченный процесс то есть в данном случае у нас такой небольшой доклад о том с чего мы начали на какой мы сейчас стадии процесс перехода физически Да будет выглядеть именно так то есть мы купили новые железки перевели перевели на них трафик дописали немножко кода и поехали дальше с точки зрения формализации этого процесса и управления этого процесса в части онлайнового трафика который проходит через СПК безусловно мы будем давать дополнительные коммуникации сроки и этапы этого процесса может даже Маленький вопрос меня как ты думаешь вот во всем в этом что для тебя лично Было самое сложное Спасибо огромное Дмитрий Спасибо мне два вопроса Первый вопрос о гостовой алгоритмы шифрования Вы будете использовать Вот и второй вопрос тестировали в кластеризацию двух неназванных производителей российских HD устройств Да спасибо производитель у нас пока что останутся неназванными про ГОСТы Да все готовы алгоритмы они заложены в Крипто процессорах как таковых производителей и используется скажем так технически пользователь система потребитель как таковая разница не увидит в Том используется это ГОСТ или не ГОСТ с точки зрения кластеризации Да мы это проверяли тут довольно Простая история Потому что сама сама железка она просто большой калькулятор по сути она исполнитель соответственно вся кластерная обвязка строится вокруг неё как и вокруг талиса в том числе Поэтому если честно тут Разница вообще никакой не было мы просто следим за железками если они хорошо нгуются и работают то тот же кластер даже при просто замене Талис она не Талис работает супер Спасибо огромное итак у меня есть хорошая новость у нас есть подарки для всех людей кто задал вопросы Вау ребят мир платформы лучше товарищи хелперы прошу Ваш выход Да ребят Помогите хелпером пожалуйста кто еще задавал вопросы так и кто-то еще задавал нас было четыре вопроса Я считала Да да все Здорово Мы не стесняемся дать вопросы но мы стесняемся получить за них подарок Ладно ребят Спасибо вам огромное на самом деле Спасибо тебе огромное от лица конференция за огромную подготовку за волнение за все это тоже небольшой подарок благодарю Спасибо я вижу в чате что не сканируется qr-код ребят Проверьте пожалуйста Если действительно не сканируется это боль печали просто недоразумение Но не переживайте после конференции всем придет письмо туда можно будет пройти и оценить доклад менее удобно но работает супер на этом пожалуй Все жду вас в 1320 на следующем тиктоке До скорой встречи"
}
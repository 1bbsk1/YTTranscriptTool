{
  "video_id": "M_K73LxJA-U",
  "channel": "HighLoadChannel",
  "title": "Безопасность Node.js / Илья Вербицкий (Независимый консультант)",
  "views": 6807,
  "duration": 3372,
  "published": "2017-04-22T14:48:01-07:00",
  "text": "всем привет меня зовут ли я я параноик я занимаюсь разработкой было заведено коммерции и финн т.к. это в общем а в частности я здесь вопросами intent и безопасности потому что большинство клиентов заботиться о том чтобы данные не утекли заменить на сторону особенно если речь идет о заказчиках где-нибудь в среди наших америки или западной европе где они очень серьёзно относятся к такому free мурку такой организатор пися disease комплаенс то есть если вы запускаете ваш магазин в сша и хотите получить такую маленькой лагуна сан сайте что вы защищены проверены то вы должны сертифицироваться пройти определённо протестов давайте сегодня поговорю с вами интенцию безопасности а конкретно применительно применением эти функции безопасности к ночь с для начала давайте поверим адских панель вещах как кто украл мою кредитную карту и так давно где-то месяц назад по интернету прошла эпидемия очередная эпидемии небольшой до раза которая работала довольно интересно то есть если у вас был магазин на magenta то была обнаружена сиквел лекция и был вирус который чистил лекцию зажал ваш сайт изменил код и в итоге все карточки который владеет которые ваши клиенты в отдельно вашем сайте уходили на страну безопасен ли мой блог wordpress wordpress занимает лидирующее место по семь раз номер один интернете наверное процентов 60 трафик сейчас приходится на wordpress и каждую неделю там что-нибудь где-нибудь кто-нибудь ломает опять же так давно была был интересный случай очередной зловред уязвимостью woocommerce это 2 популярности платформа для создания так магазинов в принципе плагин для wordpress и опять же заражается сайт поменяется код карточки ходят на сторону замечательно все счастливы кто сломал интернет я думаю вы помните пару недель назад вы заходили в интернет шли на фейсбук гугл и он не работал было довольно крупными на крупнейшая за историю интернета dos атака на нем сервисы детей нас которая положила в принципе практически все сайты на восточном побережье сша что случилось сейчас есть hyip вокруг аютии все хотят иметь умные лампочки умные камеры умные часики чайники и холодильнике но как оказалось на этих чайник холодильниках тоже стоит затея читал нет чтобы производители могли подключиться что не там пофиксить соответственно там же есть пароль и которые по умолчанию то есть порой обмер не работает админ пасху тоже работает и ребят написали червяка который просто ходил сканировал интернет находил камеры чайники холодильнике и заражал потом все из железа был использован для прядения крупнейшей за всю историю человечества это строки кто же в этом виноват я считаю что в инсульту из опасности есть две основные проблемы первая проблема это пользователя то есть моя мама получает письмо кликает на ссылочку я не знаю вам пришло письмо от налоговый налогу декларация что угодно кликать на ссылочку у вас запускается вирус база разиля если это письмо пришло например на корпоративную почту то у вас заразили вашу корпоративную сеть особенно интересны случаи когда вам приходит письмо с шифровальщик внутри вы его запускаете ваша бухгалтерская база шифруется и все счастливы особенность вас нет пока по вторая проблема это разработчики мы с вами на данный момент она в этапе довольно много денег было влиться в разработку исследований сетевой безопасности то есть у нас есть firewall и умные firewall все что угодно в операционных системах вы можете настраивать права доступа вы можете шифровать трафик но обычно современно мире никто не ломает вашу сеть никто не несет не ломится ваш firewall потому что бессмысленно гораздо проще пойти на ваш веб сапорте на веб сайт на котором есть акил лекцию или как другой инъекции лишь что-то вроде взломать его зайти туда скорее всего ваш сервер будет находиться иметь доступ другим ресурсам соответсвено так понять вашу сеть то есть злоумышленник скорее всего вот ваш firewall для опять же пошлет вирус пользуемся сколько стоит бак учеными ученые статистики подсчитали что стоимость одного бока то есть как вы видите на этапе сбора требований дизайна разработки и тестирования стоимость исправления одной ошибки вашем коде в принципе мало как только вы выходите в релиз у вас есть брат ошибкой продакшене но опять же стоимость фикса не так много посидели написали исправили хорошо и вот и последнее начение когда вас взломали то есть это может стоить мне жизни меню ваша компания может разориться то есть если дело будет проходить в сша его взломали данные утеплена сторону этого заварить судебными исками и соответственно денег у вас скорее всего не хватит чтобы сплотиться но тут тут уже история о юристах они обойти как видите стоит задуматься аффирмацию безопасность и по моему опыту по опыту анализа приложение моих клиентов я вижу что очень часто люди просто не задумываются об этом потому что она и так же работает все классно сегодня мы поговорим с вами о таком фреймворке который называется у вас top ten а вас это организация которая занимается сбором информации об уязвимости в приложениях и каждые три года они проводят анализ толпа точную статистику по поводу какие уязвимости сам распространенные также как ето пофиксить к они представили утилиты информацию как найти эти баги вашем коде на текущий момент у вас в топтун версии тысячи тринадцать конкретно сейчас в 16-м году идут работы по сбору новой информации они уже завершены и я надеюсь в ближайшие ска месяцев будет у вас 2016 интересно почитать что же у вас довольно ценный фреймворк у нас как видите он используется в наше сердце песня консул сей sands низ все его используют так немножко исторической информации то есть данные у вас был организован 1002 кажется вас не ошибаюсь и они собирают данные разойтись и 3 4 7 10 годах в принципе данные особо сильно не меняются что интересно писать из нас легче where сердечности перейдем к нашим уязвимости на десятом месте непроверенные перенаправления предположим вас есть такой код то есть очень часто можно встретить страничку с водами пользователь пароля на которой вас перенаправляют если вы запрашиваете к незащищенный your то есть в параметре вам приходит не ваш ural то есть обычно это выглядит так видит на админку вас при направляют все счастливы 8 не ползли пароль переходит в админку что будет есть что будет если кто не впишется и url и тебе google.com хорошо если табу и кукол если ваш код как написано выше у вас будут проблемы то есть после купить этим после пароль вас перекинуть на сайт google расскажу слезы google это может быть какой-нибудь фишинговый сайт то есть вы нашли на ваш банк ввели ваше имя пользователя пароль вас перекинуть еще на один на сайт который выглядит как ваш банк одни пор банк там до снова этими после пароль ну и ваши деньги утекает на сторону что же с этим делать во первых не используйте переходы то есть я чаще всего эти переходы можно избежать то есть если уже они вам с ним прям очень нужны тогда лучше не использовать текст или конкретный url как параметры можно закодировать их например один это админка 2 это профиль пользователя то есть нужно минимизировать вектор атаки если вы все-таки должны использовать нормальные игрок который нормальные строчки тогда в случае с на джесс вы можете использовать модуль будет ural который позволяет вам распарсить строку и определить это это абсолютная ссылка или относительная ссылка то есть тело довольно просто но опять же нужным нужно себя контролировать их является что вы реально это проверяете там не забудьте проверить сейчас могут быть проблемы так номер девять известные люди вместе в компонентах у нас видел the source то есть все сейчас на гитхабе или переходит накидка пыли используют хоп большинство систем и сейчас строится на открытых компонентах печь спину джесс с особенно известен тем что есть инфаркту npm модулей там уже десятки и сотни тысяч модулей для каждых функция доходит до банального что там не знаю функция стране не двух строк которая своя кастомное люди ставят дополнительно моды чтобы сделать ну как то так то есть эти модули тоже пишут людям и в этих модулях есть узи масти если как когда вы работает вашим проектом конкретно но джесс проектом первое что вы должны сделать когда вы решитесь по иску не пакет это пойти на один из этих сайтов значит лучше securities некоем это сайта который собирает уязвимость именно в ночь с компонентах и проверить есть ли какие-то известные уязвимости незакрытые баги что-то подобное в принципе от применимы к в разработке на любой платформе особенности считает exploit дебитом вы можете не только проверить ваш еще видимости но еще и сказать exploit который . у вас скорее всего ходу как играть in pm пакета то есть скорее вы решили используем три пакет скорее всего наверно в 80 в случаев его не будет то есть там еще не нашли уязвимости там нет естественного есть судимости просто не нашли то есть первое что нужно сделать это зайти на npn джей тут аркой посмотреть популярность пакета то есть если у пакет популярность 2 там три скачивания за неделю то лучше его не использовать скорее всего там что то не так если уж и шире используется посмотреть исходные коды что там что-то вообще делается то есть использовать столько популярны и пакета к тому же вера для того что баги уязвимость найдут дырки на лед в популярных пакетах сильно выше чем в каких-нибудь ноунейм пакетах с тремя пользователями желательно посмотрите об авторе то есть если у вас есть блог он пишет у него есть активный twitter то опять же это плюс потому что если вдруг что-то случится то с ним легко связаться и чаще всего по крайней мере из коммьюнити довольно открытые и они давали быстрее огир no toki проблем активность и trap после того как вы выбрали компонент родители накидка посмотрите что вообще происходит если компания были последние 5 лет то это странно как минимум эта страна то есть возможно во 2-м с поддержкой если баги вам придется фиксации после посмотрите что же делать на гитхабе я обычно ваше внимание на то что используя след этот проект unit-тест кинетический анализаторы автоматические билды то есть посмотреть это он покажет поскольку люди щепетильно подходят процесс разработки и раньше это делать опять же стоит за есть базовой 2 мастер трудно что не получилось но появилась стоит позволять списки рассылки если числа канал занесла канал посмотреть активность то есть после когда вы соберете всю информацию пакете вы можете принять более менее взвешенное решение что этого использовать или нет как это автоматизировать потому что ну нереально но тут же с вы используете 10 тысяч пакетов нереально это все дело автоматизировать от рук ручками поэтому есть следующих цветы утилита mirada nsp ребята стики достигаете а они ведут базу данных уязвимостей они сделали утилиту который встраивается ваш билд и во время туда вы можете вы можете проверить если езде мы известные уязвимости в компоненты которые спорят о вашем проекте их конкурент снег у них тоже довольно большая база иногда отличается я лично используя оба я параноик рита и джесс это тоже что она спит снег но у них база поменьше через prime и я slynt эти две утилиты это два статически анализатора они анализируют дважды javascript код и стараются найти киньте известный паттерны те может быть посетил инъекции красоты с атаки и так далее это удобно это хорошо но слишком много ложных срабатываний поэтому ваша работа увеличится то есть каждый день вы сможете сделать желательно это сделать например и не знаю в конце ваши итерации запустить и посмотреть что же происходит утилита рокки это делать и это у меня был проект когда нужно было почистить хостинг на хостинге было много всякой всякого рода зараза если опять же если ручками идти по коду и смотреть где же где же вирус или какой-нибудь обзор довольно был прагматично поэтому я собрал в базу данных сигнатур различных вирусов бэкдор of тогда есть они все в принципе делать одно и тоже и выглядит примерно одинаково то есть это через команды стаки когда вы запускаете против вашего сайта анализирует контент ваших файлах и показывать файлы где скорее всего возможно что то есть нужно посмотреть вера код на данный момент по моему это единственный производитель профессиональных статически анализаторов которые поддерживать на джесс опять же если у вашего проекта и есть бюджет на безопасность то я рекомендую возить этим ребятам и добавить интегрировать их был процесс обучить ваших тестеров в принципе них довольно хороший завтра и находит очень много довольно интересных блогов еще один подход это да вопреки что firewall так скользи руда эксплоит никто не отменял и всегда может быть и что-то не так в приличный firewall эта утилита которая работает поверх вашего сервера то есть да весь ваш веб трафик проходит через firewall анализируется опять же есть разные подходы как можно лидировать трафик большинство файлов которых я поговорю используют подход с правилами то есть них есть набор правил если трафик соответствует правилам окей не соответствует то тогда вам касается сама . письмо и соответственно запрос блокируется это подходит для всего это не спасать всех атак но как минимум минимизировать ваши риски а безопасность это всегда разговора минимизации рисков то есть не более популярный продукт на данный момент это мультики рите для него есть и платные правила и бесплатные правило самым проектов ресурс работ поверх apache и nginx а то есть она уже сама но особенно сиозс архитектуру вас стоят они джинкс а за ним ваша ночь с сервера rnb на xiii шар демон то есть все это все эти файлы все эти вопреки стволы они бесплатный концерт можно пойти посмотреть написать своей политике если вы используете кладка у них есть свой собственный встроенный firewall то есть случай услугу и работаете если вы живете в облаке amazon и также пришли они также реализовали свой firewall который в принципе нам вот это работает очень даже неплохо номер восемь поделками миша сайтов запросов this set f кто его знает что это такое а все знают отличны по кличке все через быстро быстро объясню то есть вас использовать и пользователя на ваш сайт аутентифицироваться у него сохраняются cookies с сессией все-таки пришли потом он заходит на коне будет сайт злоумышленникам достать из домашни к багажника есть java script который загружается браузере пользователя джастик делая делает запрос на приписать пост request на и url на вашем хорошем сайте например сайт интернет-банка там перевести деньги со счета на счет b в данном случае торопов браузере пользователя есть cookies которые от инфицированы денежки приводится бинго что же делать опять же существа на технике как это можно обойти так мы варим anges есть замечательный модуль сейчас юров это модуль который работает поверх экспресса принципах канат метода который позволяет вам бороться с все срыв атаками то есть в вашем коде используете модуль вы дальше вы регистрируете это мило бы то есть каждый запрос который будет приходить ваш но джесс ваш но джесс положение будет проходить через за медовой асессоров данном случае и дальше тогда варианты эти ваши формочку вы используете сей срыв токен то есть токен это уникальное большое число код можно сказать которая добавляет его в сессию пользователя вы добавляете это значение вашего формочку когда вы формочку уходит обратно баб узбеку джесс проверяет то что значение которое пришло из формы соответствует значению которое было в сессий пользоваться если она отличается то значит происходит атака и безответственно склоняем запрос 7 отсутствие которой прав доступа один из моих любимых потому что он встречается прямо повсеместно многие разработчики добежит код они используют security то есть у вас есть веб страничка которой что делает вашим на фронте нди вы можете проверить а если пользователь не статор тогда мы ему эту страничку показываем если он нет места тату не показываем что происходит дальше мы забываем проверить мы забываем проверить права этого пользователя на пост бэкки мы думаем что а если запрос post запрос приходит странички администратора мы показываем только администратору ты никто больше не можно догадаться что окажется можно по сайтам post запрос обратно сервер опять же это плохая практика потому что что будет которым будут тупо бросить вашей url и пытаться подобрать пути юра параметры все что угодно проверка прав доступа в ей как я сказал мы проверяем это на fontaine de неважно длинная рендерится на клиентской стороне льна серверной и забываем о бизнес логики нет поверка стрекательных служебных запросов предположим у вас есть какой-нибудь сервис слугами и вы это там просто взяли и забыли проверить права доступа of service услугами иногда могут быть пароль и особенно если они приходят через год запросы все что угодно то есть получается растут информация атакующему что же с этим делать ну во первых нужно бить по рукам code review тестирование без пару com и чем более тем лучше во вторых это контроль доступа на всех уровнях приложения если мы говорим но джесс приложений то может создать милого и зарегистрировать его в ноги чтобы все запросы которые проходят через который приходит на ваш сервер проходили через это миддл в который уже будет решать кто вы администратор пользуется и так далее медовая тестирование кадре view то есть я считаю что если мы берем безопасности кудри бью очень важно на этапе code review находится довольно много узи настей но опять же нужно разработчик нужно вырубить подход что кудри вьёт они просто а мне мы начали сказал ладно напишу что окей ход хороший нет но нужно объяснить людям донести до них что это сильно важна еще и один вариант к сожалению не применительно к ноде мы также занимаемся если тут разработка то есть поездки тут над мы сделали плагин который портит ваш сишарп baking и проверяет были вашими методы методы помечены атрибутом у которых большой этот метод только для администратора и тильта для пользователя данный момент мы работаем то чтобы сделать что не подобное для ноды на моем опыте это все происходит на этапе компиляции то есть когда разработчик собирает проект при процесса проходит и проверяет что разработчик да действительно пометил все методы и как анонимные или как методы которые вы авторизация и опять же это очень сильно помогает номер шесть утечку в земных данных в данном случае мы лежит перехвате трафика то есть сейчас многие сейчас многие охотятся в блоках общем железе в данном случае нужно я сейчас нужно особое внимание уделять шифрование трафика то есть когда ваш трафик выходит с вашего сервера на сервер b и это все происходит в каком-то дата центре есть вероятность того что ваш трафик слушается и куда уходит на страну поэтому принятие шифрования и проблем шифрованием данных в данном случае речь идет о базах данных то есть если у вас есть кредитной карточки базе данных ну во первых там не нужно хранить а если уж пришлось тогда нужно быть уверен что вы зашифровали все все ваши кредитные карты особенно если это не ваш железный ваш сервер то есть если у вас хранятся карточках этим текстом то всегда есть играть с того что плохой админ вашего хостинг-провайдера пойдет и все себе скачает то же самое с паролями что делать всегда используйте tls по поводу tls я хотел бы подробнее то есть есть несколько протоколов есть прорвалась цель 123 л.с. 10 11 12 то есть используйте протокола как минимум тела с 12 и 13 потому что за последние и склеп был на боли найду делимости в протоколе поэтому помещается больше небезопасным будет его помоем военные браузера его блокирует уже весь мир приходит на ешьте 52 но старается по крайней мере я надеюсь это конце концов осуществиться спецификация позволяя если вы приходитесь теперь вам это бинарный протокол спецификации написано что он может работать как паша форму канал так и пони зашифрованному но все современные все имплементации have современных браузерах поддерживают только 42 поверх протокол тела с 12 то есть если вы переводите ваши страхи ваш сайт на 4 2 то хотите не хотите трафик и расшифровать также используйте один и 12 потому что в тело с 10 были обнаружены уязвимости и например если я и dss комплаенс документ который используется для сертификации средств на коммерции он начиная с июня этого года обязывает все сайта если у вас есть магазин использовать как минимум тела с 12 тесто in 1 так защищенный контент доступен только через тело соединения что я видел того довольно часто и что в принципе у меня каменный храм не частное трогается у вас предположим вас есть защищенная страничка ваш профиль пользователя вы загружаете css картинки just keep файлы в данном случае все ваши ссылки должны загружаться почте peas потому что если предположим у вас есть защищенной страничка на вы загружаете вашу ваш java java script file пойти протокол кто-нибудь кто может прослушать ваш трафик может подменить это java script file изобразить что-нибудь свое то есть современный браузер на это дело рук а вот сейчас до когда вы используете cookies то есть cookies которая которая хранятся которых хранятся ваша сессия а не то они должны быть с флагом secu то есть они будут даваться только через соединение не стоит ваш истинный путь и послать почти протокол так криптография то есть вновь же существует обертка поверхностей двоится крипто есть biotech co с джесси ел это стендов разворот к стэнфорда она работает как в браузере так и на ноги в принципе она довольно шустрая и по моим замерам они уступают стандартные стандартных креплю библиотеки также есть модули тут же с но творч в криптографии 5 на этом хочу остановиться чуть подробнее это не относится к ноде в рамках в рамках и чтим т.к. спецификации html five есть спецификация на графические функции вышли в приложениях то есть он все современные браузеры могут вам посчитать вашу ваш хэш зашифровать при помощи с прямо уже browser браузер уже есть все что необходимо для работы фотографий если вы должны подержится старые браузеры есть для этого поле крипту то есть это тыс это старая библиотека которые реализуют в p35 номер 5 небезопасный конфигурация в 2015 и 2016 годах был проведем тест то есть ребята запустили сканирование сети конкретное сканировали если ошибаюсь amazon и ws на тему наличие открытых монк и так получилось что в 1015 году они скачали порядка 600 терабайт данных которые вы просто так лежали бери не хочу в 2016 году хочу тебя было написано что и наши 3033 до 3 миллионов аккаунтов то есть 7 пользователей пароль это просто незакрытые манги которые смотрят в интернет без пароля заходите качаете счастье настройки порой по умолчанию то есть мангу по умолчанию растут без пароля не хочу то есть проблема на интернет это атака на интернет и которые мы говорили ранее она была она стала возможна только после того чтобы так потому что произойти использовали кучу стандартных программ по умолчанию то есть admin admin работает практически всегда если вы втыкаете ваш интернет чайник розетку слишком много прав опять же этим часто грешат разработчики кто-нибудь заливает сайт на хостинг запускает он ругается я не могу записать какой-то фариг что делать разработчики вместо того чтобы посмотреть какой файлик не могут записать или прочитать они берут разрешают дают полное право для веб-сервера надо на запись и чтение для всех каталогов и файлов внутри вашего проекта все работает клиент доволен счастлив до того момента пока не придется плохой парень и что никто не запишет утечка информации настройках сервера то есть например если вы запускаете но джесс по умолчанию он добавляет так качестве ответом что потом поворот двойной джесс то есть эти мыши от многих сервера по этой информации то есть это в принципе информация раскрывает данные а устройстве вашего проекта для злоумышленника и он может быть за того это но джесс то есть он минимизировать свои вектор атаки и он будет искать баги только но джесса не будет там думать о php или тут найти джаве до dos атаки то есть я отнесу dos атаки к небезопасны конфигурации так я так как например dos атаки через регулярное выражение который случается довольно повсеместно по крайне мере на джесси и встречал и раз ну так так называем клик джеки честных и jaquen то есть это различные способы обмана пользователя когда вы загружаете например ваш веб сайтов в ваш сайт кубанков фрейме поверх него рисуете прозрачный фон и записываете току до пользуюсь покликал потому что он напечатал так далее все это лечится правильным конфигурирование сервера что делать во первых я рекомендую переходить на средства автоматизации конфигурирование такие концы был chef паппет сейчас их много они все доступные в конкурсе это это реально спасает то есть я перевел несколько своих клиентов на мопед и теперь теперь у нас наступила счастье то есть админы пишут конфигурации их можно посмотреть и найти потенциальные уязвимости и проблема но джесси есть мудр фермент который реализует различного рода защиты от этих kat krazy king хит эджа кинга и так далее то есть его если разрабатывать но джесс добавлять может по умолчанию hpp это ищем модуль который работает поверх на метр cars это модуль который позволяет он конфигурировать кросс-сайт запросам ну дай пейджер блок это метла в которая позволяет вам блокировать api адреса по геолокации экспресс лимита это ми-2 которая позволит вам установить лимиты на на размер вашего запроса то есть с вами три пошлет post запросы на 1 терабайт который положит ваш сервер и сейфе hex это утилита которая анализирует ваши регулярное выражение на тему того что возможно ли dos атака через регулярке четыре прямые ссылки на объекты опять же вас есть такой код должен это приложение для работы с электронной почте то есть вы получаете идентификатор емейла и показать его пользователям все хорошо но ты же можешь показать все хорошо все работает мы предположим ваш пользователь начнут форсить ваши мысли чья идея трибьют и читать имейлы которые вам не предназначались опять же в реальной жизни встречается очень часто к сожалению что делать ведь по рукам потому что это автомобиль это сложно использовать сессии то есть если когда вы хотите почитать например отправить сообщение троне почте проверьте кто проверьте пользу для которой от инфицированной всегда проявляете правило права доступа перед теми кого страницу развитие не доверяйте тому что приходит к вам через параметры и связан должен быть контроль на всех уровнях приложения то есть опять же не должны контролировать это только на вашем приложении если у вас есть какой-нибудь modules бизнес логикой желательно добавить код который проверяет безопасно также там то есть медали ери если возможно даже в базе данных используйте право политике безопасности тестирование кудри view то есть по другому это не лечится номер три это всем известный краса кросс-сайт скриптинг он был непостоянный это когда злоумышленник передает вам какой-нибудь java script код в как параметр ural у него кликаете и с вами что происходит обычно очень плохое постоянно это когда ваш какая злоумышленник может записать свой для вас тут ход в базу данных и она отображается каждом пользуется только хоть на сайт и вот сейчас довольно модный xss в дом модели многие сейчас разрабатываются игр причем реки экшены когда все рендерится через java skype и опасность из конкретно этого этого подхода то есть много локи находятся на уровне на уровне вашего браузера и если я могу поставить например мог security я могу просканировать трафик на тему того что есть там какие потенциальные экстаза таки то в случае если этого в браузер это сделать сложнее если все эти все время лицо браузер все то есть она приходит через джар джар джар ски и вот эти атаки сейчас набирать такую они особенно популярны систем что все начали пользоваться использовать англия англия 2 и так далее что делать в ночь с есть целый набор модулей которые занимаются их сын валидации то есть есть привел четыре наиболее популярных самый пользуясь первым xs фильтр работает и работает довольно неплохо также если вы используете ваши какие-нибудь шаблонизатора тип джейд внутри него уже есть он уже уже кодирует ваш текст которая пытается вывести сводится к какой-нибудь переменную в джей ди он уже ассоциировать за кодирует так чтобы здравствуйте мне был выполнен используйте эти cookies то есть все cookies которые особенно важны для вашего приложения на такие как cookies ратификации они должны быть ешьте пионы и они должны быть доступны через java стрип также есть видео которое называется цсп это в браузерах есть стандарт кто называется content security policy это стандарты вы можете описать так называемые доверенные узлы то есть если вам приходит java startfiles муж сказать я верю только я могу выполнять за вас вид файлы который приходит александр х 100 х 100 если то приходится кого-нибудь другого х 100 соответственно jar-файл выполнен не будет даже если он каким-то образом загрузился на вашу страничку то есть довольно большая спецификация очень советую потому что она если правильно строить эту политику вы избавите себя там скажем так от 80 процентов проблем со кроется кретином и сайте номер 2 аутентификация и управления сеансами во первых то есть это очень обширная тема что часть наиболее часто это тот текст который вы показать использует ошибка аутентификации очень часто если опять задниц на сайт и пользователей базе данных о напишут что пользователь не найден если пользователь не найден но вывели неправильный породам скажешь что пароль не правильный это довольно опасная практика потому что можно написать скрипт тег который очень крут форсить именно большой порт форсить именно пользователей и потому шо потому какой ответ вашего приложение дает получить список пользователи потом может начать боготворить пароль подбор паролей проблемы с 7 пользователей в данном случае это на домой надо начать реже то есть бывает такое что вы используете кого-нибудь ваш koston африке что сервер и вы генерировать например идентификатор сессии самостоятельно основе каких нибудь данных возможно вы допустите ошибку то есть и если вы допустили например злоумышленник получив 100 идентификатора ваших сессий сможет предугадать какая будет 101 как это лечить во первых не изобретать велосипед когда вопрос сказать авторизация если есть готовое решение лучше использую такого решения они к счастью есть вот фиг она должна быть столько по шифрованному канал потому что враги слушаю обязательно видеть политику паролей я знаю что ваши пользователи начнут найти кричать и ругаться материться но такова жизнь то есть нельзя позволять пользователям использовать пароль 12345 и что что-то подобное опять же безопасны сообщений ошибка в ошибках то есть если что-то пошло не так пользуется не найден пароль неверен напишите ему что пользователей по или пароль неверен в любом и всегда выдавайте эту ошибку это сильно усложнить жизнь двум злоумышленникам использует двухфакторную аутентификацию опять же двухфакторная дефекация это обширная тема потому что например если вы пытаете если у вас есть одна фикации по мобильному телефону и в пользователь пытается залогиниться 100 мобильного телефона тоже не 2 фортификация потому что на мобильном телефоне может быть к нибудь зараза то есть если вы сильно беспокоитесь о безопасности при разработке банк положение то лучше купить эти железные крипто токины если у вас приложение для обычных пользователей там не какой-то секретной важной информации это в принципе достаточно использовать google индификатор или microsoft модификатор используйте капч от то есть я сейчас довольно хорошая практика добавить капчи на вашу страничку входа в систему предположим вы будете показывать не с первого раза а только например если было trip неправильных попытки пароля опять же хороший капчи сильно усложнить жизни блокировка аккаунтов то есть если вы не хотите использовать captcha добавьте политику что 5 неправильно входа в систему заблокировать аккаунт на 10 минут опять же усаженной жизнь усложняют жизнь злоумышленнику но пользователи могут быть недовольны восстановление паролей тоже довольно обширная тема очень часто если оставлен пример свой пароль и мне приходит пароли и меня в имели приходит какой-нибудь пароль то первым из которых не возникает в голове это об скорее всего они не шифрованные не шифруется то есть что-то странное гора будет более безопасно если вместо этого темпа и временно пароли вы будете послать пользователю какой-нибудь ссылочку которая будет валидно в течение не 5 минут готовые решения так на вареную джесс это паспорт паспорт и the middle б которая позволяет вам сделать и дефекацию сейчас по держится все что угодно начиная от ваших локальных баз данных заканчивая twitter фейсбук вам гуглом кастомные у вас сервера и тогда я для него есть недолго и который поддерживает повторно модификацию то есть паспорт рф и тот работает поверх у нас коробки работы поверх гугла модификатора и microsoft data not это модуль который реализует этот протокол потом нотификации если вы хотите использовать ваш iq остальные приложения то стоит воспользоваться но там или упакует причине используйте паспорт пересекался то модуль который за этом реализовать кипела дефекацию recaptcha это просто интерфейс кори капчи 2 сессии пользователей очень сейчас встречаем ошибкой одессе катарсисе viewer то есть этого делать не стоит так как ваши get запрос и записываются влаги на сервере и кто-нибудь можно почитать и стич типе cookies то есть средства защиты кубке tls как обычную тайм-аут то есть не задавать сессии которые живут бесконечно у них должен то на оправдать обрати внимание том как вы обрабатываете выход система то есть если вы ходите и системой связи должны анализироваться куб удаляться то же самое при закрытии браузера запасных ранее про уровень не забудьте про sale используйте внезапно во-первых хэшируется пароль во вторых используйте безопасный hishe такие как сыч и 256 как минимум потому что все остальные уже сломали также может сложнить жизнь для мы шли не к используя алгоритм б крипте и скрипт это хэши которые довольно тяжело посчитать entries by three там вы можете указать параметры насколько насколько долго вы хотите чтобы х считался то есть это усложнит перебор паролей и чумака ну и наконец самое расстроен зримость на данный момент это видение кода зеленые акции на усилил инъекции вполне произвольного кода команды запись файлы также во время лекции то есть я встречал проект когда люди использовали так что использовали а используя hibernate all hibernate есть свой язык запросов и глаже hibernate на своём то есть какие тут может быть этих инъекций а у них была модификация и сиквел лекция в hibernate запрос xml инъекции то есть вы можете добавить специальный текст то есть можете засунуть список ваших вашего xml-документ и происки непроизвольные файла нотами expose инъекции а также инъекции бернат выражение java script инъекция то что примите липно джесс предположим у вас есть уже не так часто встречается это классический пример у вас есть функция eval который что-то делает выполните какой-нибудь за мечи skeetervac скрип ответственно может покидать все что угодно и например в данном случае просто уронить сервер что же делать во первых валидация не верьте никому то есть любой данный который приходит не важно из базы данных из вашего каша от пользователей они должны были zero ваться используется проанализировать запросы это уже больше касается стикер лекций то есть не используйте конкатенацию строк всегда использовались сейчас все базы данных все батик доступа дано поддерживают параметр их используйте их случае жалости потом не использовать следующие функции потому что они уязвимы для досуга инъекции регулярные выражения это касается больше носитель решение то есть если в секрете оператор лайк и мы можно пихать текст по шаблонам в россию к вершине 1 манги используя регулярные выражения то есть они также подвержены яндекса есть кто-нибудь может поменять ваш регулярку и что-нибудь сделать хорошее ну и тестирование кода и квадре view и опять же конкретно в этом случае очень сильно помогают статическое завтра коды которая пройдутся по вашим коду из каждого здесь скорее всего у вас есть сиквел инъекция здесь возможно кто-то сможет записать корень файл на диск джаз и башка туда не кидает наше будущее нравится нам или нет то есть и сейчас везде на fontaine de нубы кэнди уже на десктопе то есть у меня уже три четыре положения не которые которым я пользуюсь каждый день написаны на электроне на мобилках фангов набирает популярность и пользу его пользу к база растет что нам уже довольно ужасно java script можно запускать на роботах то есть есть куча контроллеров промышленных непромышленных игрушечных где вы можете написать код началась практика про будешь это делать то есть как видите вектор атаки просто огромен то есть тут можно из проблем сжаться то можно атаковать практически все что угодно поэтому я считаю что мы их разработчики должны уделять больше и больше внимания тому что мы пишем как мы пишем код вопросам там где-то среди не был упомянут хайкинг вот собственно как от него защищаться на уровне настройку ip сервера в холме тип есть опция то есть можно посмотреть он добавляется определенные чти петь так уж теперь параметр который не решает браузера загружать lupus ты хорошо наш пост мне кажется мишка странам это поскольку как принципе то может быть реализован то есть ну во первых это актуально так сейчас да то есть кажется это было всякие старые браузеры ждет работа с массивами 10 я не встречал вот исторически понятно хорошо по поводу xs там было подвале рации все остальное на самом деле хочется добавить что все-таки ну как бы валидация не размотать не панацея и правильный путь и все-таки каких-то зависимый skipping вот в зависимости от того где конкретно польскими пальца вот и хочется преподавать там потому что всем интересно будет это доку 100 спам там есть так нам часы то есть ты споткнулся востоке вот совестно the same вас много чего есть интересного честно себя вас часть щит и там есть лимпопо контекстом от аудио водится promise kept in this tool is with us all of the не всегда достаточно заменять на ствол мнемоники скобочки до соответственно и кавычки ну вот этих моделях по которой показывал там как раз есть функции если у вас контент для джастина если у вас контент для html а если у вас контента хорошо там все показал что то просто универсальный не это них они универсальны и они именно они именно разбиты по контексту спасло если пить или спасибо за доклад я здесь очень полезно самом деле и это такой вот если это сделать в виде чек-листа большого и дальше проверяет оператор релизом для больших там на миллион на 2 больше положений это действительно вы такая объемная работа хотел бы поинтересоваться может быть сталкивались с такой системы иногда запрос на backend достаточно долгий на и ну допустим возьмем там поисковую систему да там типа яндекс google и возникает у злоумышленников такая задача например сделать некий бот которая отправляет но он пытается атаковать сервер не атаковать я просто использовать его для получения данных и так поисковой системы все постоянно лежит у себя какие-то антифриз и не 20 система может быть есть какие-то готовы он не совсем панаджи с датой это глобально провод но может быть есть что-то такое для но джесс я вот сам искал готовый с тем к сожалению пришлось писать ручка может быть кто нибудь сталкивался анти фрод какой-нибудь от ботов чтобы от тяжелых запросов вот самый простой это добавить captcha то есть например и если приходит 5 запросов с данного того же api адреса у клауд в r есть решение кукла добыл решений до было бы здорово хорошо спасибо про клад сэр вопрос номер 2 наверно это касаемо контроля прав доступа да отлично мы допустим защитились да но если мы берем как большая такая система данного то есть там где у нас помимо чтения записи каких то документов есть еще ограничения на уровне зона да например возвращаем конкретному пользователю читать и писать документы только по определенным параметрам дан умерли боевого подразделения либо еще что то есть какие-либо готовые решения в эту сторону для управления прав доступа как внутри приложения так и на сервер для проверки вот для на джесси не знаю такого oracal есть система для аутентификации и как раз к не простая модель это место и что использовали на готовы из коробки а то кто-нибудь может быть сталкивался с такими вещами все ручками все здорово сейчас там ну а самая сложная задача после всего этого доклада попробовать установить до ночи спасибо спасибо за доклад довольно много все показали интересно вот у меня такой опыт ну я на самом деле хостинге работой у нас по php очень многие ну по защите уж спасибо хостинг и сейчас но одним из направлений рассмотрению джейс как предоставление услуги и вот вопрос такой про выполнение кода ну вали сюда когда кот если какие-то средства реальные которые позволяют отслеживать потому что для пых например мы не нашли нам пришлось и трупы х дописывается чтобы он там руки свои на его вызывал ну такие какие-то вещи пришлось самим самим на стихи писать вот есть что-то на для но дым возможно решение кит из готов опять же готовых решений к сожалению их не встречал ну то есть она развивается и там еще кучи не поле непаханое есть отладчик канале то есть у него есть теперь можно покапать в эту область как-то поиграться с ним также галстук это динамический язык то есть можно написать свои обертки для декораторов да поспать всем спасибо"
}
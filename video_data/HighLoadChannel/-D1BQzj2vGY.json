{
  "video_id": "-D1BQzj2vGY",
  "channel": "HighLoadChannel",
  "title": "Technical governance IDP (Internal Developer Platform) для 7000 разработчиков / Дмитрий Гаевский",
  "views": 2210,
  "duration": 2906,
  "published": "2023-04-28T06:21:30-07:00",
  "text": "Привет меня зовут Дима боевский и сегодня мы поговорим про такую интересную тему как построение технологической платформы внутри вот на примере как раз внутренняя платформа разработки в Тинькофф вот доклад у меня называется technical overlands Знаете есть говорят Две проблемы программирования вообще войти это про каши и пранаями с кашами я справился с неймингом все еще есть проблемы так немного расскажу о себе работаю в Тинькофф в подразделении кор-технолоджис два года последних разрабатываю внутреннюю платформу для разработчиков Тинькофф фактически фактически веду разработку самого старта проекта На позиции как тимлид и архитектор внутренняя платформа Тинькофф уже насчитывает десятки систем и наша платформы пользуются уже здесь инженерные компании как насчитывает больше семи тысяч человек так сегодняшний доклад я хотел подкрепить большим количеством материалов там в конце доклада будет ссылочка такая с набором ссылок на разные материалы Но не все успел подготовить будет еще статья с более глубоким погружением в тему и будет еще на гитхабе выложено у нас Некоторое количество исходников по тем решениям которые внутри описано будет так мы с вами находимся в санкт-петербурге во-первых это город где началась у меня карьера как it-специалиста А во-вторых это города впервые вступаю публичной конференции когда нет у нас сегодняшний доклад будет проиллюстрирован одним историческим персонажем и некоторым количеством сказочных доклад Я в первую очередь делал для тех кто столкнулся с задачей построения платформы с нуля И в частности внутренней платформы для разработки также на примере покажу как особенности деления на функциональные команды внутри отразилась наша технических решениях и как отразилась наша архитектуре Ну и на практике покажу как выглядит подход к Continuous архитектор О чем сегодня поговорим немного погрузимся в историю в части эволюции этих Тиньков проведем разведку и поймем Как решить проблемы оценим наши возможности выберем оптимальный путь придумаем решение запустим платформу и будем справляться рост с ростом в части роста вовлеченных в разработку этой платформы команд о чем не поговорим Я предполагаю Раз уж мы здесь собрались подробно рассказывать Зачем нужны такие платформы не нужно но немножко расскажу об этом я не буду рассказывать как именно у нас происходил процесс переезда потому что на самом деле тема достаточно отдельного и достаточно большого доклада вот Который надеюсь я или там мои коллеги расскажут в будущем также про то как выглядит вот платформа целиком Сейчас я тоже рассказывать не буду потому что во-первых она еще не дошла до того наверное состояние в котором хочется прям рассказать что же мы там внутри такое сварили вообще что же такое внутренняя платформа Мне нравится такое определение платформа это объединение инструментов сервисов знаний поддержки организованных привлекать внутренний продукт Это я украл из интернета запомним это определение мы к нему намного позже Вернемся уже ближе к концу доклада немножко погрузится в истории того как у нас происходило развитие Тинькофф включая машину времени возвращаемся 2013 на тот момент был сравнительно небольшим сумме у нас работала не более 350 инженеров причем Это и разработка икей аналитики технологи Все кто как-либо вовлечен в разработку продуктов а те ландшафт тогда выглядел Так на самом деле большое количество вендорских систем наподобие оракаль зибель специализированной команды которые занимаются поддержкой этих систем и многие из этих команд даже были в основном подрядчики в период с 2014 по 2017 даже 2019 происходит наиболее бурный русский бурный рост нашей компании 2015 году в ответ на Кризис компания типов решает переходить от монопродуктовой стратегии мультипродуктовый грубо говоря позволит построить платформу которая позволить людям решать все их вопросы связанные с деньгами ну и соответственно количество продуктов увеличивается кратно соответственно растет количество команд разработки вовлеченных работающих компаний Вот и с этой проблемой было как-то справляться мы начали развивать внутри различные где в основном разработчикам ресурсы предоставлялись по заявкам и была попытка такую сделать трансформацию Мы создали некоторые это сейчас смешно уже звучать сделал некоторые большой опыт отдел посадили чемпионов в каждый бизнес-линии надеялись что они там будут что-то опылять в 2019 году мы пришли достаточно интересном состоянии если даже сравнивать вообще со всеми компаниями которые ведут разработку вообще на всем российском рынке чем была особенность у нас К тому моменту существовал уже весь стек всех возможных технологий которые существовали в природе То есть у нас в том числе были напроде Экзотика вроде ирланга Возможно даже какого-нибудь Перла вот весь набор здесь набор возможных Практик у нас было три соответственно бел-системы у нас было там порядка 10 публичных облаков у нас был битбакер в котором лежала там 10.000 репозиторов и 10 лапов где лежало всё остальное всё это естественно было закрыто никто ничего не видел вот ну во что это вылился тройки для бизнеса это невозможно обеспечить нижний слой бизнес-процессов в рамках даже тех с тем что у нас были это невозможно В принципе сделать нужный Челлендж командами разработками разумные сроки есть необходимым качеством и фактически полный паралич инфраструктурных команд нас хотелки пользователь нас применялись Аналогично разными командами сопровождения Ну отсутствие общих подходов приводило к погоне за удовлетворением таких сильных требованиям Deus принять недальновидных решений которые приводили к росту дают operations здесь Я бы хотел оставить ссылку на доклад своего руководителя смыслового клуба который 2021 году на cubercon историю того как у нас идти внутри развивался Через какие этапы развития проходил более подробно раскрыл так В итоге с проблемой надо было как-то бороться мы решили что будем делать внутреннюю платформу для разработки внутренняя платформа У нас должна была стать центральным местом где мы определяем такие просторные проторенные дорожки для разработчиков по разработке поставки эксплуатации приложений центральное место где мы можем делать комплаенс аудит качество безопасности приложения мы все-таки финтех поэтому как бы требования у нас в этой части очень серьезные и хотелось предоставить разработчикам такую платформу Где бы они могли самостоятельно управлять всеми ресурсами своих приложений звучит что нам нужен корабль в мае 2020 года мы начали проработку домены модели нашего будущего корабля очевидно наши основные пользователи это разработчики разрабатывающие системы внутри компании наш пользователь имеет привычку все автоматизировать поэтому к ним на помощь приходят машины учетные записи с помощью которых Как нам предполагалось к нам хотелось в системе можно было сделать практически любые действия система должна была получиться мультитантовая или по-другому мульти арендная единица разделения объединения ресурсов наша система выступает тенонт тент в нашем представлении это объединение людей которые разрабатывают какую-либо систему внутри так платформа соответственно у нас должна предоставлять все необходимые интерфейсы для управления этим ресурсами конечно Мы понимали что менедж система будет появляться все больше и больше Ведь платформа у нас становится получается центральным главным инструментом руках разработчиков всякая система должна подключаться платформой предоставлять свои ресурсы на старте мы были сфокусированы на гитлабе принципе была зонтик и нужно было одновременно запускать большой гитлап который тут через интеграционный слой выступал как та самая система но очередь из того что нам нужно было проинтегрировать там На горизонте года она была огромная то есть там и интеграция с нашей runtime платформой Это несколько баз данных там постгрейс Click House Кассандра и прочее это наша стриминг платформа это дальше Hardware provision из этого каким функциональным требования пришли мы поставили цели добиться полной комплексоляция всех действий необходимо в процессе разработки эксплуатации внутри приложений внутри самой платформы чтобы разработчик приходил эту платформу и мог всё что необходимо там сделать не покидая её позволить соответственно позволить соответственно делать едиными учетными записями то есть не требует от разработчика там логинец в 10 разных систем которые мы интегрируем также нужно было разработать sdk который можно было бы использовать и в базовых образах приложений и соответственно локальных машинах разработчиков Ну и всем нужно пользователям нашим оказывать поддержку в режиме по рабочим дням 8 на 5 функциональных требований это sl4 девятки 24 на 7 Почему так вроде бы это внутренняя платформа но тем не менее она нужна Это не просто административная консоль где мы заказываем себе какие-то ресурсы авторизация в том числе используется и в инструментов которые нужны для operations соответственно если мы потеряем возможность что-то сделать бизнес тоже соответственно нужно организовать дежурство нужно обеспечить расширяемость платформы по тем причинам по которым я уже Перечисли ранее и Мы понимали что мы все не сможем построить сами и нам нужно соответственно поддержать все открытые стандарты протоколы для ну и сейчас у вас 20 причем не просто их подержать но еще и подержать вместе со всеми последними требованиями и предписаниями по безопасности которые есть для этих стандартов Кто не знает есть у вас 20 это не один какой-то стандарт это стандарт к нему еще куча расширений к нему еще короче есть фреймворк у этого фреймворка еще куча всяких имплементаций есть даже отдельный Аспект где перечислено то что там находится внутри вот есть еще отдельная спецификация описывает А что же вот на текущий момент из этого всего можно использовать там скомпилировать достаточно сложно все это осложнялось тем что команда у нас достаточно небольшая была это я один главный системный аналитик один Back and Developer вот этот вот инсталляцию на несколько тысяч пользователей поднимала ОПС командой из тоже трех человек всего вот позже присоединились фронтенд разработчики которые нам делали микрофронтовую архитектуру нашей платформы Вот и нам нужно было писать интеграционный слой с гитлабом и к нам еще присоединилась Part Time помогать команда сочувствующих разработчиков тоже из квартиры Так что получилось что вот на самом начале мы стали работать двумя командами и вот платформенная наша команда делала получается я архитектуру и все остальное А вот это функциональное дело как раздетла отсутствие четкой границы кто За что отвечает привело к тому что у нас на старте уже началось начал дублироваться где-то функционал лимитировались API где-то короче использовались паттерны асинхронные где-то не использовались Вот и на самом старте стало понятно что ответственность на функционально по форме надо бы разделить как мы решили разделить платформе на доменом все более-менее понятно он определяет всю доменную модель это как раз мультитанси это Рыбак это пользователи это сервисные щетки все остальное И все интерфейсы соответственно для авторизации идентификации с одной стороны когнитивную сложность связанную с авторизацией хотелось бы полностью в них забрать потому что авторизация это сложно с другой хотелось составить во владение команды какие-то важные вещи например политики доступ чтобы они могли описывать к своим предложениям бывает достаточно сложные кейсы которые например рыбаком не покрываются так как в итоге у нас все вот эти водные повлияли на архитектуру как мы ее придумали первое подход к этому подумали это Платан кот суть следующая просто пишем платформенный код выполняет функции авторизации инфекции Ну посредством обращения к нашему вот этому будущему монолиту мы напишем поставляем Это все как библиотеку функциональные команды соответственно как виделось просто брали библиотечку подключали бы у себя и в приложении и все Профит Но как только подумали как мы это будем все эксплуатировать десятка команд всплылись большие проблемы Первое это один стек мы можем конечно написать у нас команды инфраструктурные которые пишут системы они пишут на всех языках Нет его и плюсы и Джава и котлин и питон там большой набор соответственно если мы делаем так то нам нужно для каждой такой команды написать библиотеку самим Но даже если Мы это сделаем мы не решим проблему понятно что система становится большой мы поставили эти библиотеки все их нужно обновлять дальше ситуация приходит к нам информационной безопасности у вас тут короче в вашем подходе того как вы делаете авторизацию какая-то ошибка и нужно срочно в течение одного дня ее закрыть и как бы это невозможно сделать вот треть проблема Это то что на самом деле интерфейс авторизации он остается очень широкий из-за того что мы поставляем это как библиотеку мы никак не ограничиваем людей в том каково это магию сделать для того чтобы авторизовывать запросы отказались от этого подхода и пришли к следующему варианту но не только там талантливые инженеры но я мало программисты приложение у нас тесно поэтому попробовали такое решение пишем некоторые сайты посаживаем его прямиком под основным предложению которое уже свою очередь будет делегировать первому все что связано с авторизацией запросов Вот так мы решили проблему одного стека но все еще есть проблемы с политиками если в первом случае у нас слишком слишком широкий Да интерфейс получается слишком много творчества может принять то втором вообще ничего не можем сделать и на второй минус это все нужно написать мы посмотрели на то что нужно сделать нужно сделать сайтар У нас есть ям есть куча соответственно спецификации которые нужно примитировать чтобы все это как бы зонтик платформу построить и тут мы вспоминаем про дедлайн на самом деле у нас дедлайн был бизнес обоснован то есть момент когда мы начали заниматься платформой у нас уже все сильно горелой был Октябрь 2020 года а мы находились уже где-то в конце июля на самом деле Нас оставалось там пару-тройка месяцев что все сделать Вот и исторический персонаж у нас умный но понимаешь что запуститься вот так не получится написать не получится но кое-что он еще умеет делать хорошо это учиться обращаться к мировому опыту поэтому выбрали такую стратегию посмотреть что вообще есть как люди это делают как люди делают яма как люди делают облака посмотреть какие есть готовые решения разобраться во всех спецификациях и поискать что-нибудь готовое из повести движков мы провели некоторые ресерч того как строится безопасная система и нас привлек подход модели с нулевым доверием сам подход был lenov Google опубликовал свою бумагу вот этот research 2014 году произошло это в ответ на серию если я не ошибаюсь хакерских Атак достаточно серьезными последствиями на их инфраструктуру суть подхода следующем мы не доверяем никому любой Запрос к нашим приложениям защищен некоторые соответственно выполняет авторизацию обращаясь к некоторому Access Control движком Вот ссылка на вот эту историю у меня по моему в том списке есть если здесь не видно на схеме ничего вот вот такая фича на Хорошо вам знакома сейчас она есть практически в каждом облаке называется Клауд и Аппе клаудэнсикс Control prox во-первых нам подходит сам понравился в том числе свои модульности во-первых разместив некоторые перед приложениями нам не нужно реализовывать внутри приложения логика квалификации авторизации на самом деле на масштабе достаточно большой платформы это очень важно потому что это экономит очень много ресурсов во-вторых это позволяло взять под контроль Как именно выполняется у нас авторизация Потому что если интерфейс достаточно простой и ограниченный То никакой магии там не будет Ну и это просто безопасно это помогает нам защищать периметр я на самом деле вам немножко завидую Потому что сейчас в этом году да есть уже факт очень много различных решений которые помогают такую концепцию реализовать То есть когда Мы начинали это делать не было таких решений как Цитадель аутентика Z этого всего не было это все эти продукты они начали развиваться либо в начале 2020 года либо там через несколько месяцев где-то с марта с Апреля вот поэтому выбор у нас был небольшой был окна он на самом деле достаточно сильно ограничивает доменную модель она не очень расширяем не очень нам подходил Вот и остается у нас только ори на тот момент мы хорошо были знакомы с оригидрой провайдер позволяет просто подсаживать небольшой микросервис к вашему приложению с интегрировать их соответственно через Директ и будет поддержка был еще меньше то есть был только казбийный опыт сейчас например есть еще outz очень интересный проект который тоже позволяет подобную вещь сделать в конечном счете вот остались на воре что у нас получилось у нас попадает в наше приложение Дальше они попадают в поставляемые нами Вот этот ореоске перед вот это как раз Access Control Proxy идем мы тут остается либо с токином дальше мы либо интроспектим либо интерактив сессию либо интроспектим токен дальше получаем из нашего доменного сервиса некоторые контекст это может быть и полномочия субъекта может быть еще какие-то атрибуты и дальше мы вот весь этот контекст берем и отправляем в oppositecar вот оба соответственно для опыта соответственно функциональной команды пишет некоторые политики Да на языке рега и если они проходят успешно то мы соответственно этот запрос направляем уже дальше в бэкенд у нас еще остались вендорские системы вот если взять gitlab gitlab Мы не с из Просто разворачиваем у нас он ограничен сильно в правах то есть пользователи все Там только девелоперы у этого есть ряд причин потому что мы интейнеры Они слишком много могут там делать И какие-то ограничения создать сложно но и нам При этом надо чтобы управление правами происходило через нашу платформу соответственно как это делается Ну вот есть вендорская система пишется некоторые коннектор в этот коннектор соответственно наш доменный сервис формирует некоторый ивент полностью содержит информацию о том Вот вот этот субъект и какие у него поменялись соответственно права паттер называется если стоит трансферскому интересно вот нам осталось на самом деле получается вот совсем вот этим Solution Да все две системы это замена сервис который назывался стенд менеджер и интеграционный конечно пришлось очень сильно много по контрибьюте Source потому что ори стек тогда был очень сырой и например там не было очень важной спецификации для того чтобы реализовать сервисные аккаунт rfc 7523 сейчас она уже Практически везде есть во всех решениях тогда ее нигде не было Ну то про то как мы тащили вот эти изменения Мне кажется тема отдельного доклада очень очень много там смешного что у нас В итоге получилось у нас получилось два спа приложения вот первое соответственно это у нас по сути backend нашей консолида где у нас определена доменная модель вся мульти тенденции там пользователи добавляются добавлять сюда с определенными правами и все там больше никакого функционал на тот момент не было это скриншот уже свежий вот старого не нашлось и второй То есть у нас был две точки входа далее был такой сложный политико-технический процесс миграции в рамках которого мы начали перевозить 15 тысяч репозиторов из всех вот этих разных источников вот две с половиной тысячи юзеров нас спасало только то что некоторое время у нас никаких не появлялось новых интеграция но спустя какое-то время к нам пришли наши коллеги Скоро технолоджис это перформанс тестирования платформу делают вот интегрироваться в вашу классную платформу мы такие у нас тут короче сейчас короче себе политики Напишите вот сейчас тут ямами все короче Будете крутить Все очень просто у нас они такие ну нет не просто в общем С какой проблемой столкнулись я такой был холодный душ для нас потому что на самом деле команды которые делают наши системы Они они не делают архитектуры этих систем они занимаются платформой разработкой они хорошо понимают один инструмент который они делают если это платформа соответственно какие-то инструменты нагрузочного тестирования если это менедж позже с возрастом Скорее всего нет с большим опытом Как делать именно в интеграции с платформой Вот и был дефицит опыта в самом большом количестве разных областей всякий раз когда приходили команды интегрироваться либо не понимали Как как это ваших губернатисы работают либо ОПС опыта не было либо они не первый раз слышат Как как практики с ре выстраиваются или бы просто даже банально на бэкенде нормально что-то сделать невозможно было Вот и это в будущем стало абсолютно типичная ситуация это норма И в принципе когда делаем платформу и мы хотим чтобы она выглядела целостно нам нужно смириться с тем что эти вещи это закрывать вот эти вот гэпы это наша ответственность они их и тут вот еще одна проблема это то как мы занимались управлением Да мы написали на самом деле огромную спецификацию Я ее после доклада в течение нескольких дней выложу у нас на githuben нашим корпоративным он называется vipapi Вот он Прогресс опять как я говорил с неймингом У меня проблемы Вот написали некоторые гайды потому как интегрироваться и говорим пожалуйста сделать вот как мы здесь написали умножаем это на вот те проблемы с предыдущего слайда как догадываетесь наверное ничего они не делали так как мы просили вот и что еще важно на самом деле мы достаточно быстро начали одобрить нашу платформу И как только в платформе начала появляться какая-то ценность когда туда начали приносить код когда там начали происходить сборки то вот это вот команда Да вот эти Колы которые делают различные системы стало промок каждый месяц приходить новые новые в один месяц у нас там пять сразу новых интеграции мы начали делать сопровождать Вот какие проблемы всего этого с одной стороны у нас получилось достаточно сложная схема с другой стороны она предполагаю предполагал большое количество Свободы то есть мы такие ну классно мы торопимся вот у нас есть Solution мы сейчас тут соберём все И подставлялись эти собственные компоненты без изменений Просто вот мы взяли туда законтрите и просто это взяли и подключили начали людям нести как готовые компоненты вот из-за этого у нас вот мы думали что людям проще будет описывать какие-то политики доступа в Ригу но никто не смог в этом языке разобраться Он вроде бы простой его ну это похоже на доталок и некоторые из вас Возможно даже в универе что-то подобное учили но вот почему-то не как было в итоге у нас появился такой специальный человек полисмен который бегал В итоге по всем командам и сам писал все эти политики доступа Ну и вот вышеперечисленные все проблемы привели к тому что никто стандарты естественно не соблюдал потому что ну когнитивная сложность была очень высокой все превратилось в такую игру Волк и яйца где мы бегали я и главное аналитик в основном а потом еще подключали лидов разработки бегали по командам сопровождали буквально с земли процесс интеграции начиная от продуктовой проработки заканчивая на 50 политики написать имлы и у нас своя собственная разработка платформа практически встала идут вспоминаем то определение у нас было начале что вот это все должно организовано быть к привлекательным внутренний продукт не думаю что получится построить привлекательный внутренний продукт если Ну вот процесс разработки будет организован подобным образом надо понять что такое вот моем представлении до привлекательный продукт в нашем Это продукт целостность соответственно с минимумом приключением контекста прерывания внутри этот продукт понятный то есть не нужно считать тонны документации чтобы понять что в нем делать Этот продукт надежный разработчикам свойственно очень переживать и расстраиваться по опытному опыту человек и руководить разработчики очень расстраиваются когда что-то не работает даже если это работает даже если так и задумано Вот снова Обращаемся к мировому опыту существует две важные группы таких политик для создания целостных систем чтобы удерживать их вот в какой-то вот такой вот собранности первая звучит как inforce это форсируем через создание инструментов необходимости их применения делать правильно что-то Да и делаем Сложно делать неправильно И это когда мы создаем инструменты которые очень сильно облегчают путь использовать платформу Просто у них была Стимул ее использовать именно правильным образом вот эти политики inforce можно разделить на три группы это соответственно Мы хотим контролировать что-то на этапе разработки что-то тепло и что-то в самом рентаме Да вот у Саши паламодова был вчера доклад где про это тоже наверное говорилось Вот соответственно как может выглядеть имплементация У нас есть точка контроля должна быть точка контроля где мы не пропускаем в нашу платформу Да что-то плохое в нашем случае это опять твои То есть у нас есть одно API всего одно одна точка входа в нашу систему у нас естественно один нет никакого там 10 разных поддоменов 10 разных имплементаций вот если хотите интегрироваться приносите соответственно свой Виртуал сервисом именно в нашу продакшнему который выступает как раз точка интеграции система немножко поговорим теперь про самого скипер Вот мы поставляем вот эти все инструменты для интеграции на самом деле в таком виде это все очень сложно как это можно упростить нам нужно все за хардене то есть берем вот эту нашу прокси отрезаем из нее все ненужные фичи объединяем ее с полисе движком нашим Опа и потом выполняем хардинг и самого вот этого движка политик да то есть удаляем все ненужное расширяем своими какими-то функциями это как может выглядеть у нас было вот так да описывалось базовые функции самого языка используется мы определили свои тем самым немножко у нас получился свой DSL Вот соответственно Нам еще нужно как бы контролировать вот эти наши опишки Да чтобы то что нам приносит оно соответствует некоторым требованиям банально например наш спецификации выйдет папе здесь на самом деле схема достаточно сложная и очень сложно распарсить поэтому я постараюсь очень кратко если интересно как деталях Она работает я я расскажу кулуарах В общем суть такая Мы наш функциональная команда приносит описывают некоторые спецификации да приносит соответственно это в некий реестр Дальше они приносят вот этот свой Виртуал сервис который подключает их менедж систему в платформе и во время скажем так валидации да в Pay плане мы просто проверяем сверяем потому что у нас сгенерино вот нашим реестром Да соответствует все спецификации после публикации соответственно мы можем что-то еще на на документацию публиковать генерить Вот и после уже публикации также можем какие-то еще тесты погонять вот с мотивационной политиками Все выглядит немножко иначе это такой пряник да как это может выглядеть на самом деле мы для своих для разработчиков платформы должны сделать то же самое что мы делаем для наших пользователей мы должны сделать для них удобные менеджмент инструменты вот например как это может выглядеть посмотри паса У нас например есть платформенный квота движок который можно использовать для построения системы можно зарегистрировать типа ресурсов различные прям вами описать Вот через него же можно двуфазным кометам эти ресурсы резервировать все остальное У нас есть движок собственный который подсажены очень близко бы да который умеет отслеживать изменения в том числе по содержимому до файлов это очень нужная фича различной интеграциям которые описывают свои типы манифестов это движок нотификации есть Понятно есть общий общее окно саппорта тоже это некая бэкент который можно приносить свои разделы Все проще есть Даже сервис operations который позволяет отслеживать синхронные операции вот ну в итоге как у нас сейчас выглядит у нас порядка 14 даже больше 20 меньше систем 7000 пользователей 25 тысяч репозиторов на текущий момент централизованная платформа полностью общий Саппорт UX документация sdk соответственно тоже У нас один на любые подключенные интеграции какой из этого можно сделать итог перед разработкой любой платформы нужно вникать в ее предметную область нужно исследовать мировой опыт в части управления платформенная разработкой очень много есть классной литературы есть книга менеджмент который я прям очень-очень рекомендую почитать на эту тему там как раз вот и про типа политик и про то как можно форсировать не нужно пытаться сделать сразу обычного pencource Уже все сделали за нас вот как-то так спасибо за доклад А сейчас у нас будут вопросы не стесняемся поднимаем руки и первый же у нас есть прямо здесь Спасибо за вопрос вроде как начали презентации было что вы не будете говорить о том Чем занимается ваша система но мне кажется стоило все-таки упомянуть потому что я немного запутался вроде одновременно делаете вы и играться и интеграцию с артефакты и докер хабом И что еще вы делаете мы делаем все на самом деле Хороший вопрос немножко я упустил этого контекста это написано Не пытайтесь всем вот представим ты разработчик пришел нашу компанию начинается у тебя вся история Я хочу создать какой-то права устраиваешься тебе этого тем лиц соответственно заходит в нашу вот платформу выдает каких-то прав например девелопер да из себя автоматически раздаются права во всех системах дальше ты хочешь создать сервис создаешь сервисы шаблона например Java приложение дальше у тебя Tesla инициализируется Под этой репозитории автоматически в гитлабеда Вот то есть это все истории начиная от того как ты пришел в компанию начал какую-то ценность создавать и заканчивая публикацией этих приложений в Production operations этих приложений в Production то есть жизненный цикл скажем поставки да То есть это и написание кода и сборка и публикации и при этом не пытайтесь сделать сразу и при этом время с июля по Октябрь там вопрос не то чтобы сделать все сразу вопрос том что на старте нужно сделать главное то есть вот я постарался фокус поставить на то что смотрите о чем нужно подумать в первую очередь о том как мы это все будем собирать потому что оно все будет увеличиваться сейчас платформа из очень большого количества стоит они все вокруг так или иначе сценариях поставки приложения но это уже выглядит как все сразу Да практически у нас еще Application домен делается Он еще не закончен в целом как бы очень много сделано чтобы это стало возможным нужно подумать первую очередь о том как нам сделать о том как мы будем делать Стрим онлайн teams да который будет что мы будем в эти команды поставлять как мы будем целостность архитектурную вот этого всего обеспечивать наверное больше про это Да спасибо за доклад мне показалось что в итоге Вот ты сказал что вы ваша платформа занимается всем но вот из-за твоего доклада мне показалось что получилось у вас два продукта один продукт это для разработчиков Да как девелопер платформ а другой продукт это для вот функциональных платформенных команд и вот получается что два продукта с разным фокусом разные соответственно должны быть наверно даже люди которые ты на слайдах рассказывал какие у вас были проблемы когда другие платформы начали интегрироваться в вашу платформу такая платформа платформа и получается что тут возник второй продукт И вам Пришлось все переделать и по-другому взглянуть вообще на разработку все так у нас на самом деле есть платформа для разработчиков это вот немножко скажем так мы внутри находимся до этой тем не про саму платформу больше да про то как мы ее делали и вот как раз доклад том числе о том что когда ты достигаешь кого-то там масштаба Да становится много команд разработки нужно уже саму даже построение самой платформы делать внутри как продукт То есть даже ее отдельный внутренней части тоже становится продуктом Да у нас по факту получился продукт внутри продукты Мне кажется что если бы как вывод наверное для всех кто слушал что если вы начинаете делать похожую историю то наверное в начале стоило бы сходить вот ваши функциональные команды и вообще понять как они живут потому что момент интеграции все это всплывет а там вот интересная история они вначале никак не жили потому что их просто не было у нас был такой переход того момента когда мы делали и вот в этом нашем ясе не было разработки никакой в принципе то есть там все делалось по заявкам Да там было некоторые специализированная команда но назовем их как админами Да не админами которые эти системы сопровождали там даже не было не было не было куда куда можно прийти и сказать А как вы Как вы живете Вот они Потом наняли свои своих разработчиков и после этого им уже поставили задачу но теперь интегрируйтесь еще вопрос Спасибо большое за доклад очень интересно такой вопрос на самом деле получается немножко вытекающий с предыдущего посмотри вот получается что у вас конечный пользователь это девелоперы правильно да То есть вы фактически для них все делаете чтобы им было удобно классно Жить чтобы комфортно там и замечательно то есть то о чем ты говорил что удобство пользования продуктом Бывает ли ситуации Как вы их обрабатываете когда допустим приходит девелопер и говорит Я хочу еще удобнее Я хочу вот такую фичу занести в платформу мне вот прям Хочется более того он говорит я классный продукт конечно такие случаи бывают они бывают постоянно забыл есть такая цитата да Что делать если пользователи спросить что им нужно Да это Форда по моему быстрых короче лошадей более быстрых мне пожалуйста вот разработчики часто они хотят чтобы их вот текущие статус-кво работал лучше быстрее и было доступнее у нас подход все-таки в том что мы вот можно сказать Вот у нас сейчас все разработчики собираются полностью в gitlaby у них вот есть мы при этом параллельно рядом строим какой-то прям продукт постепенно продукт кого-то Вот мое личное мнение У нас сейчас не могу сказать это прям наша стратегия но вообще лучше всегда отталкиваться от цифр систему подходить есть определенные метрики которые позволяют измерять успешность до таких продуктов это Space это Дора все это нужно мерить и нужно соответственно самим во-первых отталкиваясь от этого формировать во-вторых это будет хорошим инструментом чтобы разработчикам объяснить почему именно вот именно это мы делаем именно Вот так мы делаем Вот то есть вы по результатам оценки в итоге можете например занести это в виде пока в быковок Для дальнейшего развития У нас есть соответственно конечно нас есть юзер даже бардак куда они приносят свои пожелания мы их смотрим то Режем мы там ведем с ними диалог Почему эту фичу можно сделать и когда эту вещь мы сделаем по-другому это делать не будем тут вопрос коммуникации тоже То есть это принципе любого платформа внутри касается Да у нас есть где постоянно чистимся что мы делаем да вот у нас есть какие-то публичные документы где мы долго там расписан Почему мы такое идеологии придерживаемся например никакой другой если Саппорт где можно задавать вопросы какие-то тоже про платформу это негатив от пользователя неизбежно будет всегда коммуникации и правильно коммуникации Спасибо а еще вопросы не стесняемся поднимаем руки То есть у вас одновременно на поддержки и getlab и обертка надлабом и своей все в одном команде У нас gitlab вот обертка над ним до на самом деле там гораздо больше систем Но это такая это не одна команда конечно то есть наша команда платформенная есть команда которая делает сервисом например даже gitlab артефакторе у нас для хранения артефактов и там тоже интеграционный слой достаточно такой замороченный естественно интеграция там с runtime платформы есть инфраструктурные команды которые делают системы Там они вообще сами никак не связаны как они нам не подчиняются мы делаем вместе этим продукт но они Мои подчиненные Вот они входят в другой владельное подразделение инфраструктурных систем вот ну команда большая То есть если по самой команде где-то 150 человек Сейчас умарно 3 делает наша команда Она небольшая там может человек 18 Наверно вся 20 это именно опасная часть еще runtime как бы но опасный там человек 20 и у нас еще один вопрос наверное последний начинает немножко заканчиваться наше время Алло Спасибо за доклад хотел бы узнать я правильно понимаю что платформа у вас уступает не только в виде инструмента помощи разработчика но также какие-то методические рекомендации и примеры этих рекомендаций в исполненном виде допустим для процессов командах Да у нас платформа это не только понятно инструмент это еще и скажем так наша наш способ культуры внутри создавать определенную То есть вы выстраиваете им грубо говоря процесс мы сами мы думаем выстраиваем Какой должен быть процесс разработки поставки там идеальный Да который мы видим и дальше мы соответственно всю платформу строим вокруг того чтобы людей подталкивать именно к этому процессу инструментализируем его максимально соответственно какие-то свои системы делаем какой-то sdk там еще что-то шаблонизатор так а вот следующий Тогда вопрос количество разработчиков и стек достаточно островношерстный А как вы с ними со всеми договариваетесь то есть кому-то допустим нравится вся Сиди там из Мастера выльется сразу покормить надо кому-то из тега кому-то из релизных веток интересный вопрос договариваемся Это уже на второй вопрос на самом деле на самом деле мы не договариваемся то есть невозможно сделать успешную трансформацию внутри Да если договариваться семью тысячами разработчиков Да кому Какой инструмент удобнее Кому какой инструмент нравится это мы опять придем к истории более быстрых лошадей есть очень хорошая статья у Мартина фаулера на тему внутренних платформлять есть еще отдельный прикольный ресурс где собирается весь опыт достаточно подробно про это раскрывается история про то что вот эта команда которая делает такую платформу она должна стать чемпионом зеленый Есть ответственность и определенный кредит доверия к ней который она должна соответственно дальше оправдывать не за сетапе в такую команду которая все это на себя возьмет Ну просто я не представляю как такой большой организации возможно всем угодить Я правильно понял что вы грубо говоря командам разработки даете какой-то пример такой на который они могли бы равняться и читают вас что-то вроде этого мнения среди компании мы к этому стремимся до максимально понятно что все равно большой компании до не всегда даже если Вы являетесь авторитетом там 90 процентов разработчиков будут приходить постоянно люди которые недовольны что-то не нравится надо всех слушать Ну то есть вы привлекаете какой-то административный ресурс чтобы можно было повлиять на какие-то решения не согласны Ну административный ресурс как-то жестко звучит хорошо Окей спасибо"
}
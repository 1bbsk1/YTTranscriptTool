{
  "video_id": "Vko6QWlq394",
  "channel": "HighLoadChannel",
  "title": "Внутренний open-source / Павел Соломин (Сбербанк-Онлайн)",
  "views": 548,
  "duration": 3367,
  "published": "2018-08-16T04:02:07-07:00",
  "text": "я в сбербанке в банке работает очень большое количество людей в том числе и разработкой и вокруг мобильного приложения то же разными вещами занимается большое количество людей я конкретно с технической точки зрения этим занимаюсь или не организации процесса разработки и с точки зрения выбора каких технологических решений наверное это близко к техническому директору можно так сказать сразу по формату хочу сказать что мне вполне комфортно скорее даже более комфортно когда мы с вами общаемся поэтому если по каким-то слайдам почему то еще возникают какие то вопросы то мне кажется вполне возможно поднимать руку их задавать по ходу дела нежели чем потом их накопить что-то забыть в общем вот так о чем сегодня собственно это презентация презентация о собственно о том что же такое сбербанк онлайн с точки зрения разработки мобильное приложение сбербанк онлайн каким образом организована разработка каким образом она эволюционирует и меняется ну и с какими в общем то проблемы мы при этом сталкиваемся и как в итоге их решаем что же такое сбербанк онлайн сейчас сбербанк онлайн это два больших реально больших при тяжелых приложениям одно под ios 2 под android когда я говорю большие я имею в виду и сложность скажем так того как оно устроено все внутри приложения потому что очень много legacy разрабатывался но в течение там уже 6 лет и за это время ни разу как-то кардинально по факту не переписывалась значительно то есть она как то эволюционировала плюс к тому ну разрабатывалась относительно небольшой продуктивной командой поэтому не особо следили за тем как качественно пишется код насколько большие это значит что приложение под ios порядка там 300 400 тысяч строк сейчас приложение под android уже под миллион то есть это реально такие прям два монстра кроме этого довольно высокие требования по качеству поскольку уже сейчас миллиона клиентов каждый день пользуются приложением и это значит что и клиентская база довольно сильно фрагментирован а то все это значит что если приложение будет как-то прекрасно работать на там не знаю всех версиях ios например а на какой нибудь версии 7 и 1 будет стабильно крошиться на старте то сбербанк получает порядка не знаю там несколько десятков тысяч жалоб в день которая просто рушит колл-центр и в результате ну скажем так колл-центр не может воспользоваться уже никто а не только те кто столкнулись проблемы с приложением с в общем то ошибка цена ошибки в кроме она очень велика на данный момент ну и плюс специфика разработки мобильного приложения такого что ты выкуриваешь что-то большое накрыт обновление на клиентов они это все ставят в общем то ты никак этим процессом уже после этого особого управлять не можешь из линию на андроиде относительно еще можно как-то быстро выглядеть какой-то fix на оси нужно проходить проверку apple и даже несмотря на то что можно культ ускоренную сделать все это займет там ну денек-то точно вот еще добавляет скажем так перчинки в это во все то что функционал приложение довольно значим для клиентов то есть это не например какая не социальная сеть которая если какой-то причине например будет не работать то ну и в общем-то это наверное неприятно для клиентов но в общем с этим вполне себе можно жить поскольку ну можно чем не в другую социальную сеть зайти например или еще чем-то позаниматься если же у вас например платеж по кредиту сегодня и вы не можете его прямо здесь и сейчас сделать то в общем то это может повлечь за собой вполне себе не иллюзорные последствия там можете попасть черный список да может не знаю еще какие то вещи что там заплатить не можете общем клиенты действительно очень болезненно реагирует на любые проблемы с приложением и еще что важно понимать стратегия по скажем так продуктовые разработки того как выглядит вообще вот экосистема скажем так сбербанка всего касательно мобильного приложения она такова что мы строим некий супер ap то есть есть альтернативные истории когда организации выпускают под каждый там например сервисов которые у них есть ну или как-то не найдет свое приложение относительно небольшое рассчитывать на то что клиенты будут пользоваться там ими всеми сбербанк идет чуть по другому пути мы говорим о том что мы делаем развиваем одно большое приложение некий такой универсальный комбайн в котором ну собственно можно будет сделать максимум всего что вообще можно сделать в общем то удовлетворить все потребности клиента в банковском секторе может быть и больше вот как это все было устроено раньше раньше это где-то полтора года назад была небольшая команда которая занималась разработкой приложениям команда была ну как обычно для небольших команд довольно специфическая в ней были действительно высококлассные сотрудники и специалисты ну например был один программист олимпиадам прошлым и это в общем то сейчас привело к тому что его кот не особо кто может понять вот несмотря на то что он конечно прекрасно быстро и чудесно работает вот но это имеет свои нюансы и как это было устроено то есть было вот небольшая команда буквально там на каждую платформу человек пять максимум которые занимались разработкой приложений вокруг них было много много много разных заказчиков то есть но в приложении можно например делать платежи и переводы посмотреть там баланс и по картам еще какие то вещи вот на каждую из этих историй по факту в банке было свое подразделение какое-то не имеющие отношение к разработке приложения который заведовал этим хозяйством там отдельные люди завидовали платежами отдельные переводами отдельные картами отдельные там кем-нибудь досрочным погашением кредита и когда кому-нибудь из этих людей нужно было что то доработать по факту они приходили и говорили сделайте мне это поскольку где-то как раз год полтора назад уже в россии стала панину тоже начал мобайл фёст тренд идти вперед то есть все захотели попасть в приложении это в общем создала эффект некой давке когда все все пришли к команде разработки мобильных керамическая ли мы хотим здесь и сейчас вот собственно так ну какие то проблемы основные на самом деле имел ну какая бы классно небольшая команда не было разработки они и скорость все равно ограничен так или иначе то есть ну люди не могут работать больше 40 часов в неделю иногда могут ну это не совсем легально и собственно кроме этого это мешало еще одной важной скажем так история каждый из заказчиков хотел чтобы его доработка произошла как можно быстрее а поскольку сбербанк довольно большая организация тону в маленькой организации как бы это решилась там не знаю один человек хочет карты сделать там одно поведение 2 там какие-нибудь кредиты у них есть общий начальник не можно прийти и он общем-то расставит я четко и понятно приоритеты сбербанк большая организация в которой длинная высокая иерархия и поэтому часть из этих заказчиков она по факту сходилось на грифе например это означало что ну как бы вот приоритет но грех до таких скажем так вещей и он ну это вопросы не его уровня на том уровне на котором они могли бы решиться их некому был решать в итоге это все сводилось к такой недружелюбный скажем так обстановке среди заказчиков никакой командной или слаженной работе и речи не шло то есть в общем то каждый из людей отстаивал свои интересы добивался пытался добиться всеми правдами и неправдами результатов которые нужны ему вот при этом в общем то ситуация на самом деле было комфортно всем участникам вот которые находились мне потому что команда разработки чувствовала себя ну просто такими вершителями судеб во многом потому что никто кроме них ничего не мог разработать они могли делать ну в общем от них все зависело а заказчики были комфортно с тем что они могли какие-то планы нарисовать потому что они будут делать и как дальше ну например там для того чтобы увеличить количество выдаче кредитов там мы сделаем нам нужно сделать функционал то в приложении выдаче кредитов но поскольку команда разработки его не сделал а то как бы вот план они выполнены да но это не наша проблема абсолютно проблем commander все все было как бы хорошо все прекрасно получали свои там бонусы и все было чудесно но опять-таки где-то полтора года назад сбербанк началась трансформация она началась самого верха то есть тоже думаю что многие слышали о том что сбербанк начинает внедрять и джоэл и ну что это значило что оргструктура фактически сбербанке менялась и подходы к разработке и вообще к ведению бизнеса а не в том числе тоже менялись и меняются на самом деле до сих пор то есть постулат был примерно такой что те люди которые являются владельцами бизнеса или заказчиками доработка в предыдущей концепции должны в общем то сами иметь возможность все нужные доработки им сделать ну то есть если кому-то нужно сделать там досрочное погашение кредитов то он должен собственно сам не знаю нанять команду не знаю написать свое приложение сделать доработки необходимые в общем полностью пройти всю эту историю и в итоге выпустить и собственно обновление вот и ну мы начали тоже трансформироваться собственно ну что мы сделали ну точь как бы поскольку оно вошло сверху довольно ультимативным формате то ну как бы просто в какой-то момент по факту начали ну во первых вот существующая команда чуть-чуть распределилась то есть те люди которые были они значит распределились по каким-то бизнес новым командам плюс начали наниматься новые люди уже в новые команды вот практически сразу же вылезла проблема связанная с тем что в отсутствие какой-либо координации того кто и что делает и силу той архитектура которая была до этого в приложении архитектура ну ее можно назвать словом монолит наверное но скорее она сводится к тому что никто по факту архитектура нормально не продумывал того как приложение устроен хотя 2 3 разработчика сильных пилит приложение они вполне могут сами просто не знаю там посидеть договориться ты вот тут делает так ты вот тут всяк вот это место знает там один из них это знает другой из них они друг другу особо не лезут и вроде все работало то есть ну история не про то что что-то было плохо она просто была она работала обновление выходили приложения как бы пользовались клиенты радовались но под новые реалии но не подходила то есть ну к чему это приводило на самом деле ну реально когда мы начали этим всем заниматься мы делали изменение там не знаю в каком нибудь функционале там карт и авто платежей в итоге у нас в приложении в итоге имели там большое большое количество дефектов функционале платежей и переводов и вообще совершенно фантастических местах приложений приложение которых далее не подозревали что но как-то может зацепить мы ну скажем месяц разрабатывали например на функционал в результате а потом два месяца его стабилизировали потому что на этапе стабилизации вылезала там несколько сотен дефектов а выпускать скажем так потеряв в качестве мы себе позволить никаким образом не могли вот ну решение довольно очевидное которое решили сделать собственно решили переписать приложение по факту на некие модули то есть сделать их изолированными сделать таким образом чтобы изменения в одном модуле минимально могли аффекте какой-то другой модуль при этом уже в тот же момент принципе было понятно что нужны какие-то общие перри используемые компоненты которые будут использовать другие модули вот при подходе к проектированию тоже архитектуры вот самих уже модулей . какие они должны быть потому что их можно совершенно по-разному же нарезать приложения на эти модули в общем-то и сходили на самом деле из такого скорее житейского опыта и сделали это парк структурой организации грубо говоря цель было добиться того что у каждой команды которая существует сейчас ли мы понимаем что ближайшее время она появится был свой модуль свой дикий какой-то огород в котором она могла бы жить разрабатывать и ну может быть конечно иногда что-то где-то цепляя других но в общем и целом мы старались минимизирует всю эту историю вот когда собственно это все тоже запустили в каком-то виде получили собственно следующий набор проблем стал понятно что в тех командах которые в новых командах бизнесов не к сожалению нет экспертизы с точки зрения продукта есть они те люди которые в них работали это те же в общем то люди которые до этого сбербанке работали только в роли заказчиков и они в общем то ну понимают что такой кредит и как его в общем выдать клиенту но каким образом это сделать в мобильном приложении например аннеси не очень предоставляют просто потому что никогда этим раньше не занимались вот и они рисуют совершенно фантастические картины на самом деле там какой-нибудь сравнимые там ну тоже хороший пример там с кинопоиск она тверда в которого убрали нужный функционал клиентам в результате изменений до был небольшой скандал на супер было предложение такое от продуктовой команды которая занимается развитием функционала платежей было предложение убрать написал шаблонов потому что он не нужен клиентов вот ну то есть ну и они даже пытались это реально разработать вот хотя ну опять таки если кто-то из вас пользуется я надеюсь этот пользуется сбербанк онлайн в общем-то без шаблонов там довольно проблематично проводить какие-то платежи на мой взгляд вот кроме этого нет эксперты разработки что здесь имею ввиду что во-первых принципе среди мобильных разработчиков не так уж много людей вообще которые когда-либо разрабатывали в настолько большой большое приложение с таким большим количеством людей если сервер сайты и приложения зачастую на самом деле уже модульные них уже этом ну довольно много людей разрабатывали действительно большими командами параллельно большие приложения и какой-то опыт здесь есть то мобильном приложении ну в общем то в россии наверное практически никто этого таком масштабе не делал то есть в общем то люди большинство из них даже квалифицированные люди мобильные разработчики имеющие несколько лет разработки за своими плечами они всегда разрабатывали как раз вот в таком стандартном доволен формате когда ну в общем то но нам их 23 человека всегда была всегда можно было договориться здесь вот так здесь ок то есть ну там подумать как сделать архитектуру каким образом модули будут взаимодействовать между собой там вот какие-то такие вещи никто из них практически никогда не делал плюс в принципе мобильных разработчиков не так уж много на рынке их вообще было довольно сложно найти на самом деле соответственно те люди которые приходили они тоже ну разрабатывали во-первых каждый по-своему во вторых ну делая скажем так довольно значительное количество дефектов ну еще один важный вопрос и целостность итогового продукта это тоже и про разработку и про ну про продукт как разработку я имею ввиду что ну если например часть приложения написано одном фреймворке часть на другого часть на третьем в итоге в нем куча куча зависимости от каких-то совершенно сторонних библиотек появляется выходит какие-то например та новая версия ну у эппла довольно все жестко выходит новая версия их коды практически у тебя в общем нет вариантов тебе придется на нее переползать над месяцев и среди хочешь поддержать для этого приходится переходить на новый свифт например если у тебя часть проекта на свифти то есть стало понятно что важно ну некой иметь никаких лидеров которые бы формировали тока в целом нужно правильно разрабатывать приложения кроме этого им это имеет отношение и к продукту с точки зрения клиента потому что большое количество команд разрабатывает одновременно разные функционал и и даже если каждый из них делает это ну вообще отлично предположить да . как бы каждый из них крутой специалист в том как нужно сделать там открытие кредита не знаю там депозита либо еще какой то банковский функционал из сам для себя сделает это отлично колец все соберется в одно приложение то но она в общем начинает выглядеть прям как лоскутное одеяло просто потому что люди разные и чувству прекрасного у них тоже разное они по разному не знаю считают что одни считают что поля должны вот так выглядит мобильном приложении другие сяк в итоге но при этом клиент считает продуктом не выдачу не знаю депозита в мобильном приложении там вклады до открытия а все мобильное приложение smart на целиком для него будет неожиданно если он там зайдет приложение в зеленой гамме нажмет на кнопочку там не знаю заказать дебетовую карту и попадет на там не на кант розовый экран короче в котором будут не знаю других совершенно механиках построена взаимодействие с клиентом вот стал понятно что нужны какие то люди которые бы собственно занимались развитием приложения как некой платформы на которой могут разрабатывать уже другие бизнесовые команды основные задачи этих команд это собственно создание некой архитектуры приложения и набор в пире используемых компонент которые дальше команды могут использовать для того чтобы они все-таки не городи ли по большей части каких-то велосипедов и не пили что-то сами они смотрят за целостностью собственно продукта целом для клиента как он выглядит и собственно еще важная вещь когда не делают они в итоге выпускают релизы потому что несмотря на то что как бы все вроде пределе и занимаются разработкой и может быть даже делают это всегда все правильно в тот момент когда это все собирается виденный релиз возникает нужен жизнь показывает что возникает еще набор каких-то проблем которые в принципе до этого даже предстоящие было нельзя что они возникнут вот это происходит и по сей день ничего с ним не пойдет по этому в принципе есть команды которая занимается тем что после того как ну во первых они организовывают релизные процесса во вторых после того как релиз в каком-то виде все-таки сформировался уже они занимаются тем что до пиновый того чтобы он таки вылетел в промо нужно будет нужным качеством вот что для этого делали как для продукта мы сделали гайдлайн и конкретно то есть фактически некую дизайн систему в которой описали каким образом должно выглядеть вообще в целом приложение каким образом клиент должен с ним взаимодействовать выложили это все общедоступные ресурсы кроме этого мы сделали открытые совершенно для всех кто участвовать в разработке демоны которые показывали по ну разработка строится по старому то есть ну две недели дальше дыма следующие две недели по итогам каждого недель мы проводили платформенные команд проводили открытые дема кармане рассказывали что они сделали за 2 недели что могут использовать другие команды для себя вот ну и приходилось на самом деле во всем этом еще оставлять этап согласования поскольку несмотря на 1 дэдпул 2 пункта в тот момент когда люди уже что-то делали в итоге и приносили к нам выяснялось очень часто что это отличается несмотря на наличие гайдов например информации они их ну а их моль не просчитать просто несмотря на наличие дома на него можно не прийти до как бы и в общем-то без согласования короче никуда не получилось для разработки тоже довольно много делали тоже сделали гайды того как надо разрабатывать ну там довольно обширный список того что делали например там был гайд как там пошаговый гайд как стартовать свой модуль разработку своего модуля прям вот строчками кода с примерами и так далее в том числе был и и пример этого модуля в самом репозитории который можно взять как болванку и дальше его дела описали cuts the code style для того чтобы можно было как-то разбираться в ходе остальных те кто пишет сделали собственно функционал некой вот этой изоляции модулей то есть предусмотрели механизм по которому для того чтобы один модуль так или иначе как-то взаимодействовал с другим нужно ну это можно сделать грубая только одним способом который публично и виден всем кто участвует приложений в разработке приложения кроме этого поскольку люди делали примерно так они копировали себе выкачивали себе значит актуальную сборку из репозитория куда-нить на локальную тачку там начинали разрабатывать свою фичу горящих собственном цикле вот этих дома постепенно туда иногда кто-то погружал туда ну и мер жил изменение и снова кто-то даже этим особо не занимался с ну там например 2 месяца они вели разработку потом приходили своей какую классную штуку мы сделали вот ну мы тратили там например на мерз после этого еще там не знаю несколько дней или может быть даже недель в особо запущенных случаях плюс часто оно вообще было сделано так что это нельзя к сожалению выпускать на clinkz мы поняли нужно чаще на самом деле смотреть и мы ввели правило eugene дня ежедневных pull request of то есть все кто занимается разработкой должны ежедневно пулять эти изменения которые есть мер жить их в девелоперской сборку просто чтобы хоть как-то ну вот снизить этот этап потом на стабилизацию то есть вот просто body фонд тут есть я говорил до этого что этого там и месяц разрабатывали два месяца стабилизировали на самом деле потому результат того что количество команд увеличилось в какой-то момент у нас там стабилизация дошла до трех-четырех месяцев просто то есть ну как бы стало еще хуже и этому очень способствовала то что на самом деле несмотря на то что модули были выключите их было из релиза нельзя то есть тот момент когда ну вот идет идет разработка окей собрался релиз кто-то в общем то сделки чистые доработки а кто-то сделал как обычно и те кто сделали чистый по факту сидят и ждут ну хорошо они разрабатываются вещи релиз но все равно релиз не выходит потому что пока не пофиксят все значит кто облажался в общем то релиз вупсень нельзя пришлось сделать механизм чтобы можно было любой момент модуль выпилить и показательно выпилить некоторых товарищей для того чтобы он реально в жизни заработал ну и важная история собственно та же старая приложение было покрыто даже юнит тестами смотри есть короче две истории были сделаны первая история касается отключения функционала уже собственно в кроме скажем так ну или вот то есть это фактически нет и сервис на сервер сойди которому приложение ходит и говорит мне кредитной карты показывать или не показывать вообще в принципе функционал то есть и соответственно если это какой-то новый функционал например да то есть либо если какая-то проблема на кроме у нас есть возможность просто это функционал вообще отключить в том случае когда например функционал открытие visa card кредитных карт вообще не было в приложении мы его выпускаем и понимаем что плохо мы можем вот таким образом отключить но это действительно не работает в том случае есть например уже существует функция открытие кредитных карт ну вот появилась конец супер новая кредитная карта для которой надо этот мусор чуть-чуть подпилить и вот в этом подписывание произошло собственно большое количество дефектов здесь мы сделали уже доработки на уровне исходного кода отключение происходит на самом деле на уровне кода фактически у нас есть мы сделали на самом деле тоже не сами придумали посмотри-ка фейсбука это работает фактически любой из разработчиков когда начинает разработку новой фичи он очень просто ну по факту оборачивает ее ну накрутим на уровне v-if и которые дальше смотрят на конфигурационный файл в котором стоит фолз или true соответственно если в какой-то момент становится понятно что инфекционного самого ну сборщика сборщик а не смог приложение до которую вы собралось соответственно искать момент понятна суть это обновление прошло то этот iv выставляется там в нолик и она все идет по тому сценарию который был в предыдущей версии приложения вот сейчас это работает таким образом покрытие тестами до предыдущая версия приложения ну вот когда она разрабатывалась она была покрыта юнит тестами на уровне 0 то есть принципе народ этим просто не заморачивался вообще не парился более того если соусом все было более менее еще нормально в этом плане в том смысле что можно было просто но там договориться теперь пишем тесты и начать их писать то по андроиду были настолько большие массивные собственно классы и они были так внутри устроены что в принципе не получалось на них написать юнит-тесты то есть ну конечно можно все чтобы можно было написать юнит-тесты но на написание unit тестов тест приходилось тратить больше времени чем написание самого кода поэтому ну то есть про стал понятно да фактически до приложение переписать для того чтобы это все так или иначе как то хоть заработал и можно было его покрывать уже фактически да хорошо хорошо вопрос кроме этого начали историю с собственно ей тестами я понимаю вы про них как разговорить и его вот тоже начали параллельно делать потому что его тоже совершенно не было вот но действительно стало очевидно что он нужен просто потому что ну например нам нужно выпускать приложение с каким-то новым функционалом его пилили 1 мин 50 команд например да и каждая из команд тестирует свой функционал но вот беда сегментация такого что нам для того чтобы psy функционал нужно протестировать его на довольно большом количестве девайсов там на андроиде это сейчас порядка 50 то есть мы там составляем хитрую матрицу который постоянно обновляется на которой пытаемся ну какой то баланс найти между тестированием вообще на всем что невозможно и тестированием там на одном девайсе до что очевидно очень рискованным и соответственно получается что каждый из этих команд по факту нужно иметь эти 50 девайсов для того чтобы значит ну протестировать это все хозяйство что в общем-то ну просто нереально и до решением которая сейчас собственно делается это написание тестов вот на гугловских фрейм орках это эспрессо и рублей вот дальше они ну и созданием собственно некой такой фермы то есть ну по факту это не знает несколько компьютеров которым подключена большое большое количество девайсов все которые у нас есть и на которых гоняется собственно автотесты каким образом это уж устроена для того ну как бы есть набор авто тестов небольшой относительно которой гоняется на эмуляторе по каждому из плуги квестов тот момент когда разработчик делает парик вес сразу же прогоняется минимальным там значительно минимальный порог 50 значит тест кейсов на то что базовый функционировали lsa если какой-то из них падает то она все улетает обратно в разработчика чтобы он чинил либо свою доработку либо возможной white с потому что над поменять в результате его разработки вот остальные это гоняется не на девайсах это просто эмулятора гоняется остальные гоняются реально на девайсах уже по ночам просто потому что это реально долгий процесс если его в строить в процессором ну попал request to просто каждый пури квест будет проходить там ну несколько часов что тоже в общем то недопустимо в наших реальных ну да до угла есть два продукта у них есть продукт для то есть авто тестирования и тестирования с android и apple а они называются эспрессо и рублей не помню сейчас точно какой из них на какое всем пути собственно вот хорошо я могу более подробно рассказать не веришь всем интересно так что получили примерно здесь на самом деле получили следующую историю первое что несмотря на вот те вот действия все которые там сделали команды скажем так приходилось постоянно заставлять чтобы они смотрели вот там на гайды на code style так далее и сами по себе они постоянно расползались в свои какие-то собственные колодцы пытались выстроить своем модули какой-то свой абсолютно огород вот и разрабатывать так как им хочется это имеет отношение и к продукту и и то есть она скажем так вот этого она сработала но этого было недостаточно оно не сработало для того чтобы мы получили тот результат который мы захотели и плюс мы получили большую проблему связанную с тем что платформенные команды стали просто неким бутылочным горлышком на них свалилось вообще все все все все все чем это в первую очередь связано поскольку ну вот я здесь на ну конечно красиво сказал что вот мы значит сделали слабо связанную архитектуру так раз и сделали но по факту как бы приложение котором 300 тысяч строк невозможно там за пару дней взять и переписать да смотрите есть платформенная команда вот они вот вот так делится до примерно две команды android и ios занимаются технической истории две команды занимаются скажем так видением приложение как продукты для клиента то есть ну некой продуктовой истории ios и android и две команды занимаются выпуском релиза сейчас так сама каждой команде команды смотрите это есть ограничение в принципе во всем банки в девять человек в команде каждой из них максимум 9 человек по мо в андроиде 1:09 в остальных чуть меньше ну то есть но это скорее связано не с тем что им нужно меньше им тоже нужно 9 просто ну вот прямо здесь сейчас нет людей нет нет нет они проследят за тем что пока они проследят за тем что пока вы этот баг не исправите релиз не уйдет ясность этот команду тестеров вы видите лупов по форме команду тестеров смотрители как один косяк у них есть еще раз вот их можно описать таким образом что они делают все что нужно сделать для того чтобы выпустить релиз возьму да конечно вполне возможна ситуация и оно и есть на самом деле то есть ну вот мы в моем офисе например хороший пример сейчас расскажу вы не знаю там делаете функционал авто платежей например каких-нибудь да и сделали в нем бак но вот беда и табак развалил функционал не автоплатежи и функционал там главной странице а заглавной странице ну это мне глаз новый платежей об уплате же сейчас в данный момент вообще нет бизнес команды пока но нет ее или в ней там есть продукт оунер которая себе ищет разрабов их нет кто будет fixed bug вот эти ребята кроме этого но они в принципе выстраивают этот процесс на самом деле они ну организуют вот эта вот массу всех команд не знаю там расписание публикуют проводят встречи рассказывают как бы как идет подготовка к релизу когда он выпуститься то есть понимается то что они создают описывают эту проблему и шаги воспроизведения что понимается потому что они fixed и табака вот тут только что они прям берут и фикседа у них есть разработчики страна была до свои собственные у них есть свои собственные разработчики для того чтобы пофиксить то что как бы ну либо никто его не может пофиксить либо еще если просто сделать так чтобы они со всеми фиксили вы понимаете к чему это придет поэтому они стараются сделать так конечно чтобы фиксили не они они тоже соблюдают куда ставил они тоже сохраняешь еды конечно конечно у них свое видение вполне может быть в этих разработчиков которые соответственно смотрите вот все эти команды грубо говоря все эти команды групп грубо говоря вот у всех этих команд не знаю там есть один руководитель там я поэтому у них в принципе может быть у каждой свое видение но я слежу за тем чтобы они синхронизировались и она была как бы но единой для всей платформы для всех людей которые занимаются собственной разработкой платформы и они могут оценить получается рабочую деятельность других man то есть они могут сказать что вот и мы написали все хорошо мы решили бабу а потом было какое-то архитектурное пересмотрение авторами модуля и они все делали совсем не так и они совсем не владеет вопросом получается они тоже как-то какая-то избыточного могут но по факту это скорее чуть по-другому происходит та та историй которые вы сказали они некие последний рубеж через которые ну ну как бы если на самом деле они что-то разгребают это значит что скорее всего чего-то до этого плохо сделали но если они разгрести то либо мы вообще не выпустим релиз либо выпустим у вас каким-то извиняюсь ненадлежащем качестве так давайте дальше можно продолжение вашего вопроса чуть-чуть по ролям пройтись какие-то пытаюсь понятном кросса национальной команды но какие роли вот каждой из команд у вас есть тестировщики там нас рабочие по факту вот здесь ну в командах которые занимаются разработкой разработчики причем наиболее сеньор на и потому что их история эта архитектура проспери используемые компоненты любая ошибка их это куча ошибок в тех командах которые будут использовать их компоненты вот здесь за целостностью здесь есть тоже разработчики то что их один из их продукт в этом uikit например да то есть набор собственно графический компонент который в приложении используется в это во многом дизайнеры это продукт дизайнеры это люди которые формируют приложение как продукт для клиента вот здесь это смешанная команда наверное более здесь есть люди которые у которых чисто выделенной ролью например есть следить за качеством релиза вот есть такой человек он отвечает за качество интеграционных всего того что и что происходит в релизе вообще на круг в итоге есть люди которые украли релиз менеджер они пытаются скоординировать их дирижировать весь процесс который происходит вокруг продукту есть разработчики реально которые вот подключается когда ну блин уже больше некому продукт у реки например в первой команде отсутствует продукта реки смотрели смотря кто до в текущем понимании до отсутствует тут важная история есть что ну в общем то вот эта платформа вся и с точки зрения вот не на переиспользовать компонентов архитектуру мы рассматриваем только продукт продукт для внутреннего клиента все остальные команды это тоже ну в общем то наши клиенты по факту мы модем продукт мы с ним сказочник собираем фидбэк как мы здорово сделать ту или иную доработку если эти команды сделают отличная перри используем компонент офигенная офигенная архитектуру которая на самом деле никто не сможет пользоваться ну это будет файл так давайте я чуть ускорюсь собственно к чему мы в итоге пришли из этого то есть вот из бутылочного горлышка мы пришли к тому что нам нужно сделать некий аналог open source on мы пришли к тому что нам нужно сделать таким образом чтобы команда могли дорабатывать не только свои модули но и собственно те модули которые нужно доработать для каких-то не пришита что мы очень часто начали сталкиваться с тем что одна команда для доработки для разработкой этой фичей им нужны доработки в другом модуле сами они это сделать не могут у тех там свой boklok в котором уже расписан на год вперед все задачи эта задача падает там не знаем как платформенные команды платформенные команды тоже загружены уже и в результате как бы конструкция в итоге сыпется в том смысле что скорость разработки не сильно возрастает с платформой на самом деле пришли примерно к тому же мы поняли что если мы сконцентрируем это всех платформах командах и только в них тону в общем то производительность всех всех разработчиков будет по факту упираться производительность этих платформах команд потому что постоянно нужны будут от них доработки принципе такой принт как open-source и там и там используется то есть можно делать некий создавать еще можно ну и любой может это сделать можно его брать и делать согласовав с владельцами модуля в случае там каких-то перри используемых компонентов это платформенной команды это имеет отношение не только на сам не к разработке коды но и вообще ко всему то что в принципе гайды пожалуйста ребят вы хотите видеть что у нас плохие гайды приходите с предложением обновляйте гайды давайте публиковать новые и так далее кроме этого пришлось собственно транс ну как бы это некое изменение ментальности в том числе то есть мы трансформировали дыма над мир митап и чем они принципиально отличаются надыма выходил платформенная командой рассказывала как они офигительно доработали какую-то очень очень нужную для команд вещь мы преобразовали это скорее в некую площадку на который может на самом деле прийти любой вот и рассказать о том что он например хочет сделать хорошего или уже сделал мне как я крут и сделал свой модуль и давайте это там не знаю занесем платформу или просто в принципе перри используйте это в других модулях потому что это же здорово получилось то есть но мы начали затягивать людей и всех остальных в эту историю в историю развития и гайды которые тоже до этого выглядели в виде ну вот не что то что мы написали платформу публикует гайд дальше все должны им пользоваться собственно мы преобразовали в некой не знаю там аналог но гитхаба тоже в котором может в общем-то любой создавать и шью любой может его комментировать обсуждать в итоге это нужно согласовать с владельцем этого модуля либо там ядра любой может взять его начать разрабатывать собственно это вот примерно то где мы сейчас находимся я не могу сказать что вот эта вот история спонсорством уже сейчас на сто процентов взлетела и принесла какие-то офигенные результаты вот то есть мы ну фактически вы сейчас только это сделали сейчас начинаем это промоутировать среди команд пока никто не написал ни одной например статьи но уже есть люди кары приходят к нам на митап и и не только мы на них начинаем выступать но и другие и в результате ну вот я очень надеюсь что мы сможем сделать некое сообщество которое отличается тем что у них примерно единой целью всех а цель и это в общем то разработка лучшего приложения а для этого нужно дать им в общем-то возможность это делать потому что ну опять таки тоже одна из проблем разработчики вот бизнес новых командах которые разрабатывают довольно узкую область им это просто не интересно и довольно быстро тут мера у них есть функционал там заказа кого-нибудь карты они его сделали там ну ну дальше вы можно улучшать в принципе но ничего интересного суждения разработчика как бы развитие для них ну как бы нет а здесь они могут дальше участвовать в развитии платформы расти таким образом над собой и ну и как бы благодаря этому мы получаем уже сейчас профит тот момент когда например чего-то нет сейчас в платформе а какой-то из команд это нужно если в прошлом мы говорили ребята мы взяли эту задачу в backlog когда через пол годика примерно вот смотрите мы это сможем сделать я не бежали эскалирует сразу наверх что вот из-за них мы не можем запустить сейчас моим горем но ребят короче вам вот это нужно да согласна и этого нет это надо сделать вот давайте делайте мы вам в принципе даже поможем объясним как примерно это надо сделать но делайте это сами то есть мы их не тормозим и даем самим развиваться вот о чем хотелось он рассказать скажите пожалуйста вот этот подход с у консур сам он у вас уже работает как-то опробован или вы сейчас только планируете на него перейти он уже работает но пока не принес каких-либо результатов от жилья могут показать там не знаю раньше мы запускали столько-то а сейчас запускаем столько пить воду прямо сейчас он уже работает уже сейчас люди реально пилят там не только свое но и какой-то профит есть ощутимо то это уже да есть у нас ну хорошо pick that профи которой мы уже получили сейчас мы реально снизить нагрузку с платформенных команд если до этого они постоянно были задернуты за дерганым ну для реализации просто вот действительно сложных платформенных задач архитектурных нужно какое-то значительное время как правило покоя нужно спокойно посидеть подумать как это лучше сделать а мы находились постоянно станет гонки потому что бы клоп был просто громадный мы постоянно опаздывали постоянно было ощущение что мы не успеваем что-то сделать и все от нас всего ждут из-за этого мы даже делать и платформе что налажали вот сейчас вот то что сейчас произошло и уже сейчас это видно мы ну сняли вот эту нагрузку реально люди приходят и задают ну и уже сами делают что-то спасибо добрый день спасибо за доклад вопрос такой была озвучена одна проблема что недостаточно было экспертизой воду продукт оунер в которые вчерашние заказчики как решали эту проблему и там меняли пробовали других продуктов на raw ну то есть не каждый способен взять ее эту роль хорошо исполнять безусловно ну не каждый 0 решали примерно так же на самом деле то есть ну как с разработкой точно также формировали вот эту дизайн систему дальше общались с людьми дальше приглашали их в том числе там на демонами tab и да кто-то тубы из них визжа it кто-то не очень ну как как это дальше все развивалось ну там те кто совсем другие ну приходили к их начальству пытались объяснить что вот такая ситуация вот так то получается не тянет человек где-то это работает где-то нет реально их много сейчас смотреть все они стекаются в релиз вот так или иначе у них нет другого пути им нужно выпустить релиз на самом деле поэтому как это было раньше мы участвовали в согласовании всего того что они приносят как мы стараемся сделать сейчас мы говорим им ребята приходите на митапа и показывайте короче что вы делаете до того лучше как вы делать будете давайте обсуждать с нами это да мы пытаемся вынести это все с этап согласования то что когда мы их посылали на этапе согласования нам возвращалась всегда почти эскалации потому что ну как бы они вроде делали все у них хорошо своим начальство не квартиры все это время там несколько месяцев они фичу перед что всем все отлично сейчас уже допилим потом в это момент приходят какие-то чудаки на букву м из нашей платформы горят вы все сделали плохо так нельзя спасибо закладывающие интересно очень полезно у меня несколько вопросов хотел спросить про гайдлайн и сутки ios и android это очень разные манга онлайн и сами диктует платформы как вы сделали или в общей гайдлайн или травит разные два разных два разных наверх мама страниц команды видите они тоже две разные а как же согласовываю как это процесс происходил им согласование между двумя платформами то есть это две разные команды с точки зрения разработки особо не нужно согласовывать же да там в принципе все совершенно по разному а использовали какие-то библиотеки или там что-то кроссплатформенное мне нечего да мы смотрели на эти варианты но практически все они так или иначе ухудшать клиентский опыт к сожалению а мы себе ну одна из скажем так тех ограничений которых мы живем что мы должны давать лучше киевский а open source имеется да вообще open source или внутри компании внутри компании а сколько у вас разработчиков вообще используют и тоже принимают части то есть вас есть шесть команды так понял там максимум по 9 числа гольфа автор мины и еще больше ста не всего дума все или по всей россии знают в основном в одном офисе но не только есть ну то есть таких ограничений таких нет просто ну скорее так получилось сейчас что их больше волнуйся да есть а подрядчики тыс ну смотрите сбербанке же вообще формально нет разработчиков они все в сбер техи так что как бы но вся эта история да она в общем то с подрядом скорее связано и это все одно предложение с этой внутренней ну скажем так с точки зрения организации оргструктуры и процессов которые в ней это скорее взаимодействие просто со своими же и это все одно приложение сбербанк вот это это ну два ну в общем 2 android ios а ну да спасибо скажите пожалуйста какие цели вы ставите перед продуктовыми командами то есть у них есть какие-то определенным кипиа или что-то вот в рамках скрама или я продуктовом командам не ставлю цель и моя мои цели заключается в том чтобы платформу сделать скажем так ну то есть продуктовые команду занимаются развлечением за счет работодателя сами перед собой цели ставит сделать что-то лучше где-то там парфино конечно смотрите продуктовой команду продуктов актом продукт оунер это кто это владелец продукты кредит например вот кто лучше него ну в каком-то идеальном мире должен знать как нужно продавать кредит через мобильное приложение и сделать это целой должен кто ему лучше него самого поставить тебя и по кредитам когда я знаю как разработка заниматься мобильного приложения выпуском ну так как у продуктовых платформенных команд нет product owner of есть продукт оунер у них в них и его платформы команд есть продукт он просто не для внешних клиентов а для внутренних то есть цели они все-таки стали да у них есть собственные там смотрите даете так расчистить продуктовые команды есть это бизнес новой команды которые занимаются бизнес разработкой на фактически в super long онлайн есть вот там не знаю шесть команд грубо говоря которые занимаются разработкой платформы каждой из них есть свой продукт на самом деле да просто это продукт не для внешних клиентов а для внутренних для тех команд бизнесов которые на этой платформе живут разрабатывают для спасибо поэтому их ну как можно оценить ну например можно например оценить таким образом там процент от тех кто там не знаю начал заявился в релиз и дошел например для него или там не знаю план например каком там количество дефектов потенциально можно тоже их оценить потому что от того насколько правильно архитектура сделано зависит то сколько дефектов делают остальные графстве спасибо большое за доклад вот правильно ли я вас понял что полтора года назад где-то у вас было порядка десяти человек которые усиливали приложения а сейчас ну я так понимаю это мне меньше 50 по крайним я ростом в этом как бы не сопоставимы и ресурсы на мой взгляд участвуют в разработке но и того же да можно было потратить как бы 50 человек усилив команду и не уходя смотрите вы как еще раз тут я с этого начал вы в какой-то момент просто у вас есть такие небольшая команда но она не масштабируем а вот в той в тех реалиях которых она была она не масштабируемый ее можно было масштабировать как по-другому вы это хотите сказать да наверное можно там не создавать в отдельных подразделений какие-то дополнительные команды разбивать эту же команду на какие-то разделы и оставаться в одном поле грубо говорят мне расходясь по разделам то наверно можно было спасибо здравствуйте я здесь вот такой вопрос сколько у вас по времени примерно заняла вот стабилизация платформы вот на 1 момент когда вы начали от все переписывать потому что она не завершена ну нет я имею я испрашиваю до какого-то стабильного на которой можно уже наворачивать какие-то бизнес фичи но там все но какой-то промежуток должен пройти когда она ну нет смысла делать что-то к ныне готово ну вот реалии таковы что у нас его не было мы все это время параллельно делали до параллельно видя разработку выпуская релизы не останавливать произнесет вопрос по архитектуре вы в частности для android какую используйте там используя чистую архитектуру или там и для представления какую мы сейчас переписываем android он был написан на собственном фромборке носом описан фактически вот и сейчас в процессе ну переписывания скачивает будет rx просто точно также скажем так мы не можем себе позволить сразу куда-то бросаться фактически мы ну в плане например вот переписывание какой-то фреймворк фактически мы сейчас проводим несколько экспериментов один из которых rx java скачать будет она ну как сейчас это выглядит результате которых поймем в какую сторону будем дальше ну и раз это просто проблем асинхронности решает там или картины или рэкс а вот я спрашиваю про архитектуру как бы в целом там вот эти подходы как чистой архитектурой или вот раз текстура свои представления ммвб или мы видим вот эти вот пользователей смотрите ещё ну как бы ее скорее не было то есть каждый в общем то писал так как получалось и дальше ну была все та же как обычно возникали громадной совершенно конструкции там по которые не тестируем и там да абсолютно по несколько тысяч строк сейчас ну да постепенно будем на чистую архитектуры переходить спасибо здравствуйте большое спасибо за доклад я прошу вращение может пропустил последнюю слайды были слишком быстро по итогу то есть была проблема что команды которые следили за целостностью превратились бутылочное горлышко превращая всю эту систему open source у нас начинается кто-то там внес изменения в стоял гайд его нужно принять кто-то там написал новую версию своей там библиотеки и нужно принять все вместо того чтобы раньше обращаться к этой команде начали делать что-то свое но при этом нагрузка на эту команду постоянно только растет то есть как эту проблему решили в итоге или планируете как-то решать дальнейшем но я очень надеюсь что ну во-первых все-таки одна история это разработать какой-то функционал другая история ну там посмотреть как он разработан был в другой команде выдать какие-то рекомендации согласовать да то есть они все таки не совсем сопоставимый разработать как правило больше на много времени занимает а я не всегда конечно нет ничего абсолютно но тем не менее это во первых во вторых мы все таки очень рассчитываем что люди будут расти что через какое-то время ну там будет внутрь когда это много времени на самом деле занимается согласование да когда у тебя человек в принципе сделал там что-то не то вообще не нужно объяснить куда ему там идти когда ты не доверяешь и так далее если мы исходим из того что уровень разработчиков будет расти за счет того что они будут делать с более сложной задачей постепенно они будут стараться быстрее носить функционал вместо того чтобы хорошо очки согласования бы же они теперь будут не совсем до важный на самом деле нюанс мы рассчитываем на то что это на самом деле окей да я не сказал это уже происходит чуть чуть мы рассчитываем на то что не только платформенной команды просто будут этим заниматься то есть какое то время у нас появятся люди которые вне платформенных команд в принципе имеют тот же уровень серьезности и способны тоже согласовывать то что как бы может делать сейчас платформа команды и они будут персональный или как-то коллективную я не знаю ну вот сейчас просто уже есть два человека таких надо на андроиде отныне очках нет которых есть значит право право занимает платформенные задать изменения спасибо к сожалению время для вопросов закончилась если вы хотите их задать там и это можно сделать вне зала нашему спикер вот"
}
{
  "video_id": "x7t4z78bXVg",
  "channel": "HighLoadChannel",
  "title": "Client as Service, или Наш опыт в разработке платформы для экспериментов / Артем Селезнев (Магнит)",
  "views": 980,
  "duration": 2531,
  "published": "2023-01-19T07:01:39-08:00",
  "text": "спасибо огромное да на этой сцене действительно понимаешь почему лепс выступают солнцезащитных очках я вас никому не вижу практически так что будем поднимая руку я попытаюсь все-таки как-то сориентироваться в зал здравствуйте сегодня мы с вами крупными мазками посмотрим максимально близко к бизнесу о том что можно сделать при разработке своей собственной платформы которая поможет обслуживать много стейкхолдеров даже если они ваши прямые застыв холдеры поставками клиентов причем клиент у нас будут подразумеваться именно как отдельная единица то есть то что мы будем поставлять они будут являться сервисами внутрь этих клиентов заглянуть в не этой платформы нельзя сегодня с вами буду я меня зовут селезнёв артём еще раз представлюсь я руководитель группы аналитики в деле себе магните для тех кто знает и помнит что такое силен я немножко напомню для тех кто не знает как расшифровываются эти буквы обозначающие управление над ценностью клиентам мы просто запомним с вами что семья это некоторый процесс который заставляет вас взять ваших пользователей и минимизировать общение с поисковой строкой а создать некоторую систему вокруг его жизни до в вашем приложении в нашем случае это вообще вокруг его реальной физической жизни чтобы он жил где-то в поле рекомендации и никогда не пользовался поиск запомним очень интересно что у нас это именно физически по покупать им то есть это наш клиент не является каким-то абстрактным веществом да ну и вон он является фактически существующим человеком это не какой-то другой сервис да это не какое-то по это реальный человек в нашем случае их почти 60 миллионов активных и вы не представляете у нас коммуникации стоят немножко дороже для них почему потому что во первых коммуникация не заставляет перейти то есть это при камин коммуникация содержит рекомендацию где вы не просто переходите получив ее в соседнюю вкладку и тратите минимально калорий а вам нужно затратить столько калорий чтобы одеться прийти физически в магазин и получив по разным каналам от вашего мобильного приложения до доисторических эсэмэс . вот по разным каналам вам нужно прийти ник абстрактных галине которые уже не существует ряд ли девушки которая ждет вас на кассе вот и она тоже может иметь какие-то рекомендации для вас вы можете это не подозревать но она может вам предложить mask рому и персональную рекомендацию которую вы наверняка ждете ну не подозреваете об этом в целом именно про эту часть мы будем разговаривать именно про этих клиентов потому что для нас они являются не абстракции а физически реальными людьми которых нужно как-то проводить создавать для них рекомендации но проблема сегодняшнего доклада заключается в том что если у нас с вами настоящие люди значит у нас есть некоторые проблемы у нас есть еще другие на 6 холдера есть официальные есть неофициально случаю и случайно появившиеся которые тоже хотят коммуницировать с вашими клиентами в целом ваших рабочих письмах вы наверно представляете их как то так вот это люди которые просят запросы над вашими клиентами с бесконечным словом дай супер крутыми гипотезами но и моя любимая здесь гипотеза заключается вот в этой вот вещи где найти к нам пожалуйста inside желательно за 5 минут ну и самый быстрый inside которые вы найдете это инсайт что ваш любимый товар это пакет воду и это будет у всех сразу кто пользуется пакетами они ходят еще савойски соответственно если у вас есть эти запросы значит вы превращаетесь некоторые команды которые обслуживают хаки и вот я здесь абстрактно более-менее за год собрал некоторые график что при минимальном количестве о да это хаков но такие запросы вы уже сначала убиваете качество вашего продукта которые вы разрабатываете а затем вы и начинаете сжигать вашу команду потому что это хакк не приносит удовольствие ход не показывает результат именно для вашей команды ну и соответственно все становится очень плохо и мы начали думать над этим как вот избавиться как передвинуть эту этот маячок в ту сторону чтобы мы все-таки может быть и делали хаки но они доставляли нам удовольствие звучит довольно странно у нас получилась такая в голове некоторая платформу что почему бы нам не взять наших покупателей наших замечательных людей которые приходят физический магазин не взять настроить надо их поведением какие-то бесконечные рычаги которыми наши менеджеры могут оба могут оперировать взять все запросы как нашего официального stakeholder а так как и другого человека который хочет что-то посмотреть над клиенты me ну и добавить туда наши собственные кипиани кипиа этого человека в итоге у нас у нас главе получился некоторый шаблон которому мы начали путешествовать мы начали был вы к нему идти сейчас на самом деле мы еще идет потому что этот доклад открывает целый цикл докладов и статей которые мы с вами сталкиваемся в течение этого года 2022 и 2000 следующего 2023 посвященная эта тематика и клиента сервис сегодня я разделю доклад а две части техническую не техническую они все на самом деле технически просто не технической чуть ближе бизнесу и раскрывает то что вам необходимо сделать чтобы удовлетворить ваши вас то и holder а вот давайте начнем с не технических проблем они действительно немножко не технические потому что мы взяли этих клиентов все хорошо а вот как их разбита на сегментации возникает там вопрос у вас куча данных вот как сделать такую большую универсальную молотилку куда вы будете подавать там зная что вы хотите получить на выходе какое-то ограниченное количество данных даже если вы готовы смириться с тем что у вас есть проклятие размерности притом сегментах и тому подобное но как с этим бороться что что делать нам немножко помоги наши коллеги из хранилища данных вот они нам сказали что вы знаете вы в своем все время живете вообще так системе который называется костнер 360 коллеги из данных даже не подозревали что на самом деле они реализовали для нас это очень интересная система она у всех есть у кого есть клиенты так или иначе она завязана на основном действие то есть в голове этой системы стоит ваше основное действие вашего клиента но в данном случае он пришел во что-то купил то есть он совершил транзакцию и от этой головной система идут в разные стороны другие производные от транзакции ну вот например миссии там что у нас подразумевается там падме 7 в этой в этой среде кастами 360 ну то есть то ради чего он пришел там он пришел докупиться у него там сверх большая корзина он пришел купить пачку сигарет или он пришел провести очень приятно вечер купе всего лишь одно вино раза и 3 конфетки файла да вот это вот очень вкусные конфетки ну и соответственно либо такие специфические производные от производных уже показатели как киви это там бюджет и покупателей и конечно же тоже что заставляет двигаться нашего клиента в магазин какой-то особый ключевой товар ради которого он мечтает придти к вам он мечтает сжечь эти калории одеваясь двигаясь до проходя этот квест по улицам разных городов там москве чуть полегче дойти до магазину да где-то дальше чуть посложнее но соответственно все таки он преодолевает и покупает получая ту самую ценность хорошо вот именно оперируя этими данными можно создать некоторые простую блок схему которая от наибольшего содержания данных ней до наименьшего содержание данных мне может структурироваться в такую красивую приточную табличку вы можете использовать как конструктор можно ее реализовать в него или в стикерах на стенке и вы можете выложить из нее красивую плиточку и уже определив по этой плиточки что и когда вам подавать сделать небольшую глубину то и когда это показывать вашему 100 и холода по вашему владельцу вы поймете то есть какие данные вам должны будут на входе то здесь сразу понятно что если мы хотим показать размерности и содержание берем транзакцию делаем из неё какой-то сегмент выдаем и так далее так далее так далее у нас получается красиво и многоуровневая структура которые на самом деле таит в себе первую ошибку которую мы все совершаем это количество сегментов которая on эта структура создаёт эти сегменты создаваемый нами например вот я здесь привел есть такая производная сегментация тарифам она только одна созовет а чуть больше чем 4000 сегментов это довольно интересна потому что вряд ли ваш владелец продукта сможет и все посмотрите найти давно сайта то есть вам нужно придумать все вместе это создает эта структура 1 создает там около 16000 и сегментов можно уже их отдать и пускай он от вас отстанет навсегда то есть вы ему отдаете это список красивые в excel кита предоставляете если у вас это влазит в excel вот и вы забываете на месяца он возможно к вам не приходит вот и вы все вместе не не удалит не удовлетворены результатом и сломали свои теперь но вам нужно конечно же здесь думать о том что как как создать некоторые интерпретатор для этого как преобразовать это чтобы ваш заказчик понимал что вы хотите это кстати тот на чем мы боремся и это то что будет большим первым докладом по этой тематике разделив мы получаем очень интересный результат то есть мы можем прогонять по этим уровнем и у вас получается классная древовидная система где заказчик выбирает он хочет посмотреть максимально глубоко он опускается на первый уровень смотрит что там у нас есть внутри опускается дальше дальше дальше дальше пока не дойдет до какого-то финального уровня согласно нашей славен там структуре которую мы только разработали но как это вообще интерпретировать финальный результат это можно довольно кости красиво показать в эту мы возьмем дома у нас есть дома у нее возможно есть дети мы определили то она имеет определенную частоту прихода вот и уже таким образом выдавать сегмент и интерпретировать его в дальнейшем по показателям будет намного проще и мы закрываем один коммуникационный такой шаблон с нашим stakeholder им говорим на одном языке ему это нравится и мы видим что он даже знает о том что вау да мы даже видим что кипера киви ой тоесть там внизу у нас есть kia и морковка то есть наши дамы несмотря на то что она всегда затаивается очень много у нее есть кошечка возможно много но вот но ходит она к нам за морковками ну можете интерпретировать как год соответственно и это всего лишь первая часть но она ещё недостаточно потому что нельзя отдавать чистые сегменты вашим ваши stakeholder ошибутся сегментация и при прилетит не туда помните про инсайты мы всегда получали инсайты на их нужно выдавать для наших владельцев продукта как их сделать мы представили что если мы возьмем прямо с сайта если этих сегментов то есть их нужно как-то получать и для того чтобы они стали получаемыми от их нужно прежде всего научиться визуализировать если мы не сможем визуализировать это для нашего владельца он не сможет это понять если мы придем и скажем во очень круто мы нашли какое-то нестандартное поведение но не сможем это показать это никак не докажет наших тех усилий которые мы только что сошли в команде у нас должны быть определенные свойства поиска и возможность поиска обнаружение циклов и последовательности ну и конечно же мы можем как-то находить в силу связи вот и однажды мы чисто абстрактно визуализировал в качестве шутки что это просто точки от точки для вас тут для нас они являются пользователями мы поняли что нужно идти именно в эту вещь каждого клиента или сегмент можно построить в виде изолированные вершины и относительно их покупок создавать отыграв и граф передвижения там покупок или переходов граф это отличная вещь которая позволяет нам с вами моделировать процесс у него есть все что нам необходимо от петель до там установки силы связи и мы видим с вами что это ну сравниваю сравнимые структуры и плюс ко всему есть куча интересных алгоритмов которые позволяют быстро пробежаться и получить какой-то результат в нашем случае визуализировать это чтобы алеша и проще это объяснить давайте представим себе что на самом деле каждый stakeholder приходя к совему говорит что вы давайте на пользователя в проводим проведем гипотезу которая будет говорить о том что у нас есть продукт номер один они должны прийти например затока купить этот продукт совершив 50 там каких-то действий прийти к финальному продукту и только например на финальном продукте они закрепляются и мы можем считать что они вышли и затока греется access полгода работы а как это измерить и как это показать и вот здесь как раз таки ну в нашем случае это будет называться к 100 мир джонни map и мы с вами сегодня посмотрим это на примере идеальная корзины с колбасой у нас есть маркетинговые колбаса который мы всем подкладываем рассчитываю что они придут к нам и затока есть колбаса номер пять когда они точно станут если он купил ее значит это его финальная это финальная жизни да и конечно что покупка вот это его в финальная покупка и он точно будет к нам ходить он совершил свое действие вот в нашем случае с помощью графов мы можем визуализировать легко проецируется мы можем разбивать эти сегменты и гранулировать их как угодно и конечно же мы можем видеть что там есть какие-то циклы взаимодействия есть как атаке так и не токи но можно посмотреть первое действие и правильно ли она была направлена в нашем случае нам будет это выглядеть именно так если здесь обратить внимание что вроде как то все хорошо но а как же находите здесь inside вот как его здесь найти в нашем случае у магнита вот простой пример чуть в сторону отойдем магнита есть три формата большой формат у дома и магнит-косметик и вот уже только визуализация графов позволяет найти и сайт например мы видим что есть покупатели которые целенаправленно после покупки формате где подразумевается покупка чего-то для домашних животных переходят форматом косметика да по идее кстати покупках формы например домашнего животного как-то так должна совпадать более-менее должна совпадать с циклом ваших покупок но вот почему люди переходят например магнит косметик покупают для животных там что-то надо будет это можно передавать вашим категориальном менеджером вашим заказчикам объяснять как кен сайт и даже ну чтобы они разбирали какой циклу еще другого товара похож с циклом покупки для живот это очень такой один из самых первых инсайтов максимально простой вернемся к нашим покупателям покупки с колбасой мы помним с вами что мы планировали иметь первую корзину да и последующие корзины и вот интересно что именно графа were структуры позволяют у нас с вами создать некоторую плоскую таблицу на которую можно визуализировать переходы и сравнения конкретный в сравнении конкретных шагов до и шагов после интерес заключается здесь в том что на сравнении переходов почему им нужно визуализировать потому что мы можем заметить что вот в этом случае не сработало гипотеза менеджер то был не прав заказчик был неправ 1 корзинка цикл босой не выстреливает хорошо поехали дальше мы можем увидеть что а вот вторая корзина например туда покупают почти половину тех кто делает первый шаг то есть первый шаг прихода то есть мы не возвращаем там а кто к нам приходит какой-то покупатель который им и дальше начинаем исследовать эти данные чуть вашем случае да я чуть правее да на правой табличке мы можем наблюдать что также с графе мы можем представить в виде плоской таблицы которая скажет нам а что было до что было на конкретном участке и какой какой какая корзина была куплена именно последующем мы можем увидеть что например 3 к 3 до корзина который мы рассчитываем что она будет середине она является там в середине мы видим что там даже 2 не является ее предыдущий дана она начинается с того что покупают сначала там четвертую большая масса покупает четвертую чуть-чуть вторую но это очень странно потому что первый все равно нет и мы видим что 1 появляется только после 3 значит кастомы джо и не было придумано неправильно да нужно переделывать это отличный сайт для того чтобы там фактически оценить маркетингу акцию здесь интересно следующее что мы также можем сюда же добавлять как бы насыщение и отдельно сравнивать участке то есть если на левой части мы можем сравнить конкретные корзинки вот она правы мы можем это проследить как происходит сгорание покупателей что происходит в конце отличный вариант но а где будущая выгода до вы понимает помнил что всегда прежде чем что то продавать нам нужно продать показать с выгодой и и здесь на самом деле начинается моя любимая часть она и до этого было очень любим сидеть особенное потому что задача очень много то есть маркетинговых кампаний тоже очень много как это все систематизировать оказывается что есть выход не обязательно сразу просто брать все предыдущие компании генерить какие-то фичи извините генерить какие-то фичи и строю там регрессии сложные или простые можно сделать такой интересный анализ который называется кастом profitability анализе то есть анализ на котором мы можем нарисовать вот такую вот нашу красивую кривую да это там волков это наша с вами китов и кривая которые во первых с помощью неё мы и на ней на ней точки мы можем уже при предсказывать предсказывается это с помощью двух анализов первый анализ это исторический то есть он строится на кастом ордер анализ то есть тот анализ который мы с вами исторически все коммуникации собираем и делаем какой то общий результат и следующий это факт тот который у нас есть это profitability анализ мы смотрим и строим эту кривую чуть подробнее об этой кривой и как реализовать этот pipeline я передам комп ссылочку на git кто напишет вот построить у себя посмотрите мне очень нравится что вот это будущие выгоды и почему именно мы пришли к profitability анализе смотрите здесь очень интересная во время объяснения слайдах вам мышку видно подскажите мне пожалуйста здесь после вот вы можете видеть что здесь очень легко создать некоторый трешолд где у нас будет показываться результат в деньгах то есть мы приносим какой-то заработок компании да и где мы не приносим что же этот треш холод нам дает во первых мы можем видеть что если мы уходим за трешолд мы можем ограничивать количество покупателей да мы можем сказать что на эту компанию нам нельзя использовать меньше чем и больше чем потому что выгодно невыгодно да и второе что мы можем благодаря этому пришел да мы можем предсказывать как фактическое значение на основе этих двух анализов строить какую-то регрессионную модель ну или же если вам нужен просто бинарный результат единичка нолик да вы можете говорить фильма не и out of money получается красивый бинарный результат который интерпретируется так как вы хотите и там делается любые производные от бинарного результаты которым мы привыкли это просто это быстро поэтому мы пошли в эту вещь возможная выгода у нас в итоге формирует такой интересный бокс которым я горжусь он позволяет нам создать сегмент позволяет набрать туда количество покупателей и сразу заранее сказать а вот выгода от коммуникации рублей 5 конечно вот эти вот насколько мы будем правы да насколько мы угадаем в эти пять рублей цена этих тысячах человек это конечно вы вымышленные цифры это надо нам позволь нам необходимо создать некоторую систему оценки результатов вот и поскольку у нас не одна модель а целый скоб модели да то есть сегменты они пластеризуется здесь у нас profitability анализе с и тому подобное то нам наилучший вариант который мы могли предположить то есть мы могли взять вот модная очень тема новинка 2 там где лейблом м.л. то есть метрики из объяснения модели вот и взять все наши модели и как-то их сгруппировать в одно единственное большое объяснение мы пришли к выводу что очень интересно взять вот именно 4 этих показателей то есть почему именно во первых потому что они очень просты и а и действительно очень легко считаются скорость здесь очень важно для нас плюс ко всему они зависят от каких-то фактических данных которые вы туда тогда ведь и рандомных данных ну и конечно же именно эти четыре показатели позволяют узнать там некоторую стабильность если мы будем подавать одно и то же на вход на сколько у нас будет изменяться выход это вроде кажется очень странно но и эти параметры я думаю что многие должны использовать как минимум там модуль quality процессах мы это все стандартизировали стандартизировали опять там некоторую табличку люблю я все это визуализирует в лицах если честно и посмотрели как каждый метод можно свизуализировали так чтобы он нам стал понятен чтобы забирать из него метрики и вот мы посмотрели что происходит под капотом у каждого этого метода оказалось что под капотом они все так или иначе их можно рассчитать как вариант через фичи порт то есть через наши простые там фичи и что интересно здесь происходит что их можно все вместе собрать до блага все почти все кроме наверно вот там контрастность у нее есть только один метод да но все равно тоже можно собрать тоже добавить и все вместе визуализировать у вас получается отличная вещь значимость ваших вещей на на том что вы подаете в ваших фактических данных вот и значимость в ваших вещей на каких-то на вашем рандомном наборе вот позволяет вам уточнить следующую вещь во первых насколько фактически вы корректную вообще используете данные полнота вам покажет то есть есть ли у вас лик в данных не туликов данных да потому что если происходит фактическое быстрое сгорание то вы понимаете есть какие то там две три фичи которые уходят в это кстати наверно дефолтная тема но вот именно здесь очень удобно применять именно нас копи нас копии всех моделей вот и мы видим что из этого можно сделать результат как минимум тот вариант который очень быстро и просто использовать это простая дельта насыщение фактический результат и в разнице между фактическим и рандомными данными может показывать насколько вы действительно там скобки над всеми моделями правы вот насколько вы уверены этот вариант можно из минимум бесконечности плюс бесконечности интерпретировать вероятность от 0 до единички где вы где вы покажете следующую вещь после интерпретации очень много разных вариантов интерпретации можно сказать насколько вы действительно уверены да то есть уверенно вот этой коробочке то есть вот этому одном маленьком сети с одним единственный сегмент хорошо это мы собрали мы посчитали сегмент покупателя выгоду и вероятность им и столкнут и можно столкнуться и перейти наконец-таки на любимую техническую тему технические проблемы здесь будут две мы покажем вам как удалось моей команде немножко стандартизировать pipeline и потому что дата садитесь кипой пайна этого это ужасно особенно когда их очень много там в ките ты пытаешься во всем этом разобраться проблемы и 2 будет технической проблемы нашего небольшое исследование мы его сейчас ведем посмотрим вместе 1 как стандартизировать разработку вот я хочу чтобы каждая команда я не попер хочу не придумывать что-то из головы я хочу максимально приблизить dat ass in this кую команду к разработчикам я верю что они тоже умеют писать не только на питоне воды касательно качества но действительно уже все устали просто условно мы же не все привыкли что на с вами джо питер ноутбук это обычный excel 20 вот и все там годовая результаты через данные вот но надо стандартизировать поэкспериментировав нашли дам но довольно давно библиотеку китова она создает идеальные pipeline и которые очень хорошо управляются они очень красивы складываются там все вместе они очень приятные в плане об обзора вы можете спокойно с ними коммуницировать и еще у них есть куча плюсов для меня как руководителя команда следующий плюс прежде всего это специальный подкапотный даты каталог то есть ядро содержит специальную систему даты каталог один раз вы объявляете этот результат вас есть специальные то место где вы объявляете один раз данные объявляете их тип например там здесь будет потрачено в виде pandas dataframe а вот не важно здесь укажет указан простой путь вы можете использовать отовсюду с любой системы подкачивать данные если это иск ели то это через келли алхимию если соответственно и жажде fs а то там будут паркет и и другие форматы которые вы хотите и вызываете это в коде то есть вам не нужно писать обращению дополнительные функции хотели захотели объявили прям факт в коде вызвали его он всегда в виде метаданных находится в памяти готов вам прийти на помощь и второе соответственно мы в виде pipeline а когда в pipeline и вы вызываете функцию вам не нужно вот вызывать вот этот вот вариант вы просто передаете это в виде переменные как вы назвали эти данные блин идеально вот это идеальный вариант ну и плюс ко всему это же конечно стандартизация то есть с довольно стандартный подход это дата которого каталась содержит не только данные но и параметры а помимо этого вот здесь я хочу вопрос такой небольшой спросить подскажите вот кто не 9 используют здесь для своих поклонников нет вот я вижу да отлично для руки вы смотрите вот dat ass in this то они должны там верси они ровать свои pipeline и очень модно последнее время была версия не ровать именно pipeline и впадин с помощью 9 дата вершин control вот но это создавать еще один большой процесс еще одну настройку ну и плюс ко всему это довольно тяжело входят в привычку если честно вот у меня ни разу не получилось его полноценно интегрировать в команду то есть только заставлять конечно никого не нужно потому что главное результат он топ и мы с вами здесь fierce они рование происходит просто добавлением одного единственного слова в каталог вершин ту это очень здорово все versio не рование настроены не надо писать кода вот и ваша дата каталог это некоторый большой босс над вашими pipeline ими как где каждый pipeline регистрируется состоит всего лишь из но нот и функции но сейчас на визуализации посмотрим с вами как это реализуется это очень интересный вариант то есть во время работы представляем мы сейчас некоторый тимлид который получил миражом pipeline дамы соответственно видим что я сделал я сделал buy punch я доволен вот я красавчик вы начинаете это как-то проверять и вам нужно что-то сделать давайте посмотрим сначала мы приходим к данным смотрим правильно ли мы подарили все данные кедров под капотом визуализирует мы немножко доработали мы доработали следующий вещь то есть он показывает в данных data quality и модал quality в параметрах он показывает сравнение versio нирования параметров например мы видим визуализируем визуализируем на сэмпле видим какие данные где передаются перейдя в эту ноту мы видим сразу небольшой sample data quality на обычной библиотеке great expectations все параметры которые у нас тоже гарсиа не руются да то есть предыдущий вариант если хотите они тоже показываются место где где конкретно они используются то есть если они где не используются но передаются вам сразу об этом не моей кнут это гениальная вещь а ну и сам pipeline он содержит в себе функции каждая функция показано вы можете ее тут же прям в плане открыть и прогнать посмотреть ее если конец если конечно дата сайте сделал тесты мне кажется что дата следить из ты не делают тесты над своим кодом вот у нас делают конечно но в основном не делает и если вы сделали тест это сразу можно ноду одну прогнать тестом и получить результат ну и конечно же в качестве бонуса вы получаете очень приятную вещь моя самая приятная вещь которая получает получилось блага благодаря кедра это быстрое преобразование результатов в air flow одна команда ивашин ваш pipeline готов просто быть загружен на airflow и выполняться точно также отлично у нас была проблема проблема стратификации разделение на группы ну как всегда и мы подумали о том что если мы во-первых мы понимали что каждая группа она априори плоха то есть все группы даже если мы сравниваем с самыми лучшими группами да то есть они плохие потому что есть еще параметры где они различаются вот как здесь например 2 абстрактных покупателя мы будем обращаться к этой картинке сегодня один разок 2 в абстрактных покупателя покупали почти одинаково но потом их пути разошлись возможно они проживали где-то вместе на одной территории это было домохозяйства с двумя картами дамы потом они переехали друг от друга завели свои собственные домохозяйства и начали по-другому тратить вот мы понимали что они разные то есть вот в таком виде они разные но бывает так что вы когда даже вот на этой части самом начале очень похожи но вы где-то на одном на десятки на сотнях параметры остальных 360 вы разные и это действительно так и плюс ко всему ну то есть давайте простой пример приведем почему разные вроде бы мы можем сложить там параметры сделать категории по полу и возрасту но вот последнего чек мы видим что средний чек в 410 из 450 рублей он вроде бы будет одинаковый но это могут быть разные средний чек и один средний человек может быть и человек действительно 10 раз купил 410 и он приходит к нам за бутылкой вина маленькая бутылка вина и одной базе кейси до вкусной шоколадкой в основном а вот 450 это большой чек зависимости от хороших и плохих вещей он набирает очень крупно но в сумме у него получилось там 450 это разные чеки разные люди их нельзя на самом деле категоризировать и группировать в одну плюс ко всему вот эта вот вещь вот этот подход который при группировке он нелинеен а нам нужно линейное время мы же как бы имеем 60 миллионов покупателей да и плюс ко всему сегмента довольно быстро считаются и разделяются нас никто не будет ждать если мы не заработаем денег сегодня нам никто их не выдаст завтра в виде зарплаты поэтому нас никто не будет ждать и вот тот походка подход который я показывал он на самом деле создает группу вот по этой формуле здесь логарифмирование шкала специально чтобы вы могли обратить внимание что количество групп для любой спецификации разделения покупателей идет довольно медленно увеличение до но при этом количество внутренних параметров идет намного больше здесь уже там при 10 параметров мы видим большой большой результат в разных группах очень интересный минус мы видим во первых у нас есть потери откуда появляются эти потери потери очень просты они появляются от того что вы нашли какого-то пользователя с очень оригинальным предложила с очень оригинальным поведением но это поведение абсолютно не имеет пары да то есть давайте создадим возможно если вам интересно bts ты вот здесь вы наверняка слышали там что создайте собственную вселенную да давайте создадим собственную вселенную на генерим похожих пользователей туда но нет здесь у нас будут потери мы можем до 50 процентов терять людей и без пары и не запустится в компании ну и конечно же если вернуться к нашим покупателям почему мы используем там мы сейчас экспериментируем на 2 валетами но выявляет анализом потому что выявляет анализ он прежде всего сокращает вот этот ваш ряд за два года он может на генерить вам очень много информации до если вы это разложите в каждую покупку будет довольно сложно и тасс агрегировать выявляет сделали для вас это такая методика которая может сократить ваши данные она выявляет анализ позволяет в будущем вам если вы его будете использовать сравнивать конкретные группы да вот здесь вот мы видим что они там действительно жили вместе чуть раньше видеть итог смотреть почему два покупателя которые существовали по всем параметрам одинаковые и устанавливать это виде триггера вообра сайте что и поведение изменилось раньше чем это может показать какая-то обычная визуализация обычные расчет да и тому подобное ну и плюс ко всему а основная задача вот вы и вред и на самом деле это визуализация такая очень абстрактная до чтобы быстро понять вот настоящий визуализации в и blend of обожаю их очень красиво захватывающе если кто-то научиться их объяснять очень красивы мне кажется все stakeholder и будут вашими вот мы здесь можем посмотреть что происходит вам сейчас там видно есть это выявили от на основе ваших данных создает некоторую древовидную структуру вы кстати обратите внимание что очень люблю там древовидной структуры потому что они просто быстрые по логарифму на самом деле мне очень нравится быстро про них пони проходится и они универсальны то есть вы можете это быстро елизар реализовать что работает на одном деле работает на другом выявляет вам тоже самое создаст он он начинает создавать ваш ударный снизу вверх он укрупняется есть объединяет две точки в одну две точки в одну две точки в1 и создает такую некоторую структуру из вашей большой последовательностью вас снизу большая последовательность вы видите там много много много разных маленьких там разделений они углубляются укрупняются укрупняются укрупняются и мы видим что действительно фактически то есть снижение то есть мы детектив снижение раньше и что перед вот этим большим скачком ростом произошло шины снижение то есть что у нас произошло почему наш покупатель до сми изменился мы можем сразу же в этот век лет подстроить другой параметр он там дни продажи в группах изменения условно его размерности корзины еще что то еще что то еще что то и все это анализировать сравниваете у нас нарастает отличный результат ну чтож это все было большими масками очень близко бизнесу минимально технично почему потому что мы с вами открываем путешествием костнер наши кастомы joy не будет с вами вы тоже как костюмеры в данном случае мы идем в сервис где каждый покупатель является с сервисом для stakeholder а вот когда мы это все подумали что же это за этого получилось на данный момент чему мы сейчас пришли мы пришли к тому что на всех 60 миллионов мы можем посмотреть сегмент сейчас 1 мы можем разделить каждый сегмент сейчас автоматически с помощью рычажков и web-интерфейса наших любимых веб-интерфейсов stakeholder не обращаясь команде не сжигая ресурсы не создавая запроса обращается создает себе самостоятельность сегмент мы сразу можем видеть какому сегменту он подходит то есть на кого он похож мы сигнализирует если если больше определенного порога мы сигнализирует то что давайте уж объединим здесь конечно за бревен и либо придуманы специальные имена сегментов извините конечно а вот у вас есть попытка сделать самостоятельно мы сразу можем видеть будущую доходность по сравнению с контрольной группой то есть нашид если мы представим что это будет целевая группа а сколько они на принесут денег в будущем от коммуникации которые я хочу а вот столько там ну какое-то количество девушек и это будет настолько то больше чем у контрольной группы а сколько в этом сегменте и если есть какие-то нестандартные поведения мы их показываем например здесь несмотря на то что весь сегмент вырос относительно предыдущего расчета пока что мы в разработке и считаем примерно раз в неделю заранее заблаговременно рассчитываем на некоторые сегменты соответственно прирост у нас есть но вот у нас есть особо такое сравнение с предыдущим с предыдущим расчетам что мы упали по одному из сегментов внутренних то есть нужно смотреть что произошло если будет обнаружен сайта большими буквами вы создан список этих сайтов которым можно открыть посмотреть но при этом все это не позволит теперь заглядывать в конкретные покупатели в конкретных покупателей то есть это именно именно сегмент предоставляется в виде сервиса и ты можешь вот только использовать но никак не сможешь его перья передать как-то переиспользовать в плане условно давайте еще что не посмотрим вот и интерес следующем что наш с вами вещи не забываем что это все коммуницирует она реальных покупателей в оффлайне то есть это немножко дороже это дороже для компании для покупателей и для всех команд которые это делает ну что же давайте сделаем так чтобы клиентам на самом деле быть нашими сервисами вот с вами был сегодня селезнёв артем я представляю компанию магниты готов ответить на все ваши вопросы аплодисменты спасибо артём буквально несколько вопросов у нас может состояться если они есть поднимайте руки спрашивайте метку вопрос а так вот рука туда часть микрофончик пролетит расскажи почему корзину с колбасой это кто придумал на самом деле это абстрактное название просто как то не хотелось оставить там гречку потому что ну мы же не делаем гречневые варенье хотя ну недавно было это модно а вот но планировалось какая-то coupe ну корзина с колбасой в принципе это довольно большой широкий ассортимент нашем магазине вот есть как up his общераспространенные колбаса как и деликатесы ну блин мужчина мясо я так подумал было здорово берем колбасу да окей так микрофон пришел правда артем привет меня андрей зовут я даты инжиниринга им занимались вот спасибо большое за доклад очень интересно было скажи пожалуйста вы не думали в своей компании над созданием сейчас торт для дата-сайентистов так по поводу сейчас тора у нас есть сейчас top мы шли feist но есть такая может быть оба упал нам он не очень понравился там есть ряд причин почему нам не понравился ну прежде всего потому что нам хотелось больше хранить мета-данных вот потом не создавать там копии данных ты еще ряд из-за ограниченных ресурсов и мы пришли сейчас к реализации в час тора и мета стара и вообще там такого за эти универсального хранилища над процессами в виде датах оба посмотрите очень интересную вещь это не реклама это совет соответственно мы сейчас перешли в датах об еда там используем сейчас top здесь как раз таки например сегментация настроиться на комментах и весь пока что а вот весь cummins он обращается именно в датах об забирает код именно кстати что она понравилась что врата хобби можно хранить именно вот код как получить эту фичу с проверкой на data quality а вот мы соответственно сразу же себе его воспроизводим в pipeline а вот мы используем to the hub спасибо а для деплоя моделей и милхаус пользователя а вот по тепло и моделей на у нас apache air flow вот и вот именно для этой разработки почему именно патч потому что мы еще в стадии разработки мы реализуем сейчас мы в активной стадии разработки мы lapse of то есть вообще каких-либо решений и самих процесс то есть мы еще стандартизируем это кстати у нас на детей на моей страничке там есть отличный курс пролапс тоже от нашей команды всего 8 интересное занятие по полтора часа мы пока что живем с air flow потому что на нас это устраивает у нас сейчас разработка вымыл abs мы наверное м л flow мы наверное не пойдём потому что у нас целевые скорее всего облака и мы будем использовать то что будет в облаках пока что я не могу сказать понял спасибо большое"
}
{
  "video_id": "8ICxQ-UPVn0",
  "channel": "HighLoadChannel",
  "title": "VK Видео: архитектура крупнейшей видеоплатформы на 4 Тбит/с / Александр Тоболь (ВКонтакте)",
  "views": 4155,
  "duration": 3446,
  "published": "2023-01-19T06:56:45-08:00",
  "text": "всем привет и давайте начнем я буквально пару объявлений первое объявление что многое из того что будет рассказано будет рассказано не про видео а может быть применима в целом и второе объявление сегодня все будет не так в конце не вы будете задавать мне вопросы я вам буду задавать вопросы у нас есть классный приз это поездка на двоих в peters проживание в kempinski с посещением зингера с возможностью пообщаться со мной с командой поэтому отвечайте на вопросы активно участвуйте следующий на верный момент что все будет не так что вместо того чтобы начать с темы регалии себя я начну давайте просыпаться все с вопросов и давайте у меня самом деле первый вопрос который есть к вам то считает архитектуру вашей системы хороших у отлично нас все хорошая архитектура я за вас рад отлично а че пользователи считают что ваших архитектура хорошая у кого аудитория а есть есть смотрите смотрите интересного 63 приходит и говорит слышите вот там вендре вон микро сервис у тебя хорошо хорошо прям дойдет вот до на самом деле в обычной жизни если вы конечно не поставлять какие-то модулю библиотеки что-то для программистов то про вашу архитектуру ваши поиски ничего и не знают давайте я буквально дам вам три секунды подумать а кому нужна ваша архитектур кому она нужна есть какие то варианты ответов правильная архитектура нужно для нас самих вот поэтому сегодня будем смотреть развлекаться над нашей архитектурой радоваться дайте и еще один разминочный вопрос у кого в системе есть много хаков костылей каких-то улучшений давайте не стесняться о отлично полный зал рук действительно не мне одному показалось вот вице-президент по разработке чего-то там тоже видит говорит что даже в самых крутых продуктах которыми вы постоянно пользуетесь ежедневно у вас там все к чертовой матери твердо скручена синей изолентой в нашем случае у нас синий может у кого-то разных черных вод при этом сильно нас очень костылей ну и самый главный вопрос как бы как наша архитектура наши костыли и вот это все связано с некоторым пользовательским счастьем с тем как пользователи пользуются нашим продуктом как они от этого получают удовольствие это в принципе то о чем бы нам хотелось на протяжении всего доклада сегодня подумать теперь наконец мы можем перейти к нашей стандартной части которая как раз называется обо мне начинало программировать на таком классном компьютере как бы к 0010 или мы в бк2 называли с видео с телика он начал знакомиться с разработки видеосервисов под такие коробки 2010 году хочешь похоже на vidiq но на самом деле так и тебе вот и в 2013 году уже рассказывал про архитектуру видеоплатформы как оно устроено на конференциях и lose за эти годы я поставил посещал участвовал на конференциях и с каждым годом наши доклады они становились глубже они справились в классе они снялись более технически сложными и на самом деле есть много разных классов докладов в принципе на конференции можно найти ответ на вопрос вообще на любой вопрос как то есть там за как выжить там миллион запросов с базы данных как что то сделать в общем любые такие вопросы вы можете найти очень много докладов по архитектуры как сделано как это все устроено и мне хотелось сделать что-то не так поэтому я предлагаю на базе доклада про то как что-то устроенный сделано отвечать на вопрос а как это вообще влияет на пользователей и дать некоторую инструкцию чтобы вы могли с этим всем сделать для того чтобы ваша система тоже стала лучше теперь немножко нас все мы будем делать на примере видеосервис и на котором сейчас расположена в контакте одноклассники клипы звонки все остальное и это крупнейший видео ресурс в россии у нас почти 20 миллиардов просмотров у нас вечерком трафик 4 терабит в секунду но еще какие-то прекрасные цифра который вы видите на слайде что у нас сегодня будет мы проговорим про историю сервиса мы попробуем измерить наше пользовательское счастье насколько наши пользователи со склада по всего при просмотре видео и на самом деле посмотрим как у нас архитектуру развивалась на базе метрик и поговорим как еще машинное обучение нам позволяет эти метрики улучшать хорошо давайте начнем с истории история примерно так когда мы сели мы нарисовали архитектуру это единственный документ архитектур по нашему видео сервису который у нас был вот он выглядел примерно вот так спасибо за ваш смех и аплодисменты так тысячи тринадцатом году это был видеосервис одноклассников замечен вот и у который был на самом деле размещен порядка 200 серверов у нас была там не плохой трафик 100 гигабит и в тринадцатом это было прямо хорошими цифрами потом у нас началась история замечу что youtube был на 8 раз на 8 лет нас старше к этому времени они запускали 4k мы только запускали видео мы догоняли в четырнадцатом году мы запустили 4k разогнались в 2018 сделали сервис live трансляции поставили рекорд европы по одновременном усмотрению двадцатом году на этой же платформе запустили клипа вконтакте в двадцать первом объединили все соц сети на базе этой платформы активно развивали машинное обучение пробили миллиард по смотрению клипов в сутки и еще кое что сегодня важно интересная техническая некоторый запас которым я сегодня с вами поделюсь отлично архитектура до трубит архитектур вообще видеосервис а вот эти шесть кружочков квадратиков как мы все любим их достаточно чтобы понять как это все работает поезд или приходится своим видео они к нам его загружают на наших серверах мы его как-то преобразуем потом сохраняем и раздаём нашем поле сами все супер просто самое интересное что это архитектура с 2013 года никак не поменялось и наверное главный вопрос чем мы все это время занимались вообще что мы делали если архитектура у нас не меняется хорошо давайте мы на самом деле растили счастье нашей аудитории наших пользователей как можно померить поиска счастья ну например customer satisfaction такая метрика которая насколько вы удовлетворены когда он пользуется тыкает двойку не знаю для вашего приложения в сторе это как раз вот этот самый csa от метрика которая вот оценивается мы можем таким образом мы изменять наверно стандартной история с маркетинговые смп сам насколько бы вы порекомендовали сервис друзьям с коллег сервис классный можно пользоваться такие есть продуктовые метрики которые можно путем опроса вычислять вот главный вопрос и снова три секунды на подумать а как вообще связать ваши технические метрики которые вы все наверняка измеряете для своих проектов с этими продуктовыми пользовательскими метриками хорошо наверняка вы все меряете там посылаю словно своем бренде вы знаете какой у вас перцентиль лейтон силы мерить его обидеть если вы это не делаете сегодня в главном зале будет доклад про то как это делать мы все почти можем померить полете sperrits нашей сети мы использовать или собираем кучу метрика обычно все если не собирайте собирайте время загрузки страниц там видео каких-то проблем пользой мы все это собираем вопрос пользу я счастлив от того что мы всё собираем попадись схватите его скажите вот я это все все все собрал да хорошо так я немножко из начинал в телекоме у нас была такая метрика как quality of experience некоторая обобщающий метрика для всех технических характеристик а то нас есть на сервисе которая отображалась в пользовательское счастье или engagement гиджет вовлеченность насколько часто вы пользуетесь теме иным сервисом оба же польское счастье этого те самые опросы которые мы смотрели очевидно что очень опроса зависит от функциональности бренда котором вы что-то там продаете от цены если у вас что-то было всегда бесплатно стала платной вам будут стать еще низкие оценки например за это вот но при этом это метрика quality of experts очень влияет на продуктовыми если посмотреть в википедии то эта история про то как насколько пасти туда удовлетворен или раздражён сервисом как ее померить на самом деле супер просто мерить буквально мы в конце какого-то использовать нашего сервисы можем спросить звездочки к класс в конце звонков спрашивают лишь очень насколько вам понравилось вы говорите от одного до пяти мы усредняем по всей аудитории говорим что пользователи вот настолько довольны как это можно применять для пример для видео картинок вот например нас есть комнате видеокадр вы смотрите на кадр там слева кадр справа я допустим сказал бы что кадр справа там на двоечку слева на четверочку какой-то вот моя внутренняя меня говорит так мы всех опрашиваем в этом зале считаем среднее и говорим насколько качество например ваше восприятие зависит от битрейта видео то есть чем выше у вас разрешение чем выше у вас быть райт тем выше у вас удовлетворенность сейчас видно что там больше мегабит и это все по-прежнему на четверочку до оценку номер пять довольно сложно получить специально добавил холивар ну историю с фреймрейтом все очень спорит нужно re 60 fps нужно ли 120 fps вот есть метрики которые говорят на сколько пользоваться счастлив при просмотре видео там не знаю при просмотре лент и 60fps и вот уже главной отметить что эти метрики они год от года меняется восприятие пользователях и сейчас уже там работа где-то на 30 fps вы получаете тройка с плюсом работая на 60 это уже там четверка с плюсом и там на 120 уже что-то там более классная может быть вы приблизитесь к питер проблемы этих метрик через мост через квали 3x пинцет прайдов и например вы наверняка часто видели что во всех видео сервисах есть некоторая граница с которой у вас начинается 60fps то есть у вас ниже нет он выше есть итак 1 связано с тем что если у вас плохая сеть вы смотрите видео в супер плохом качестве то вам уже не очень-то важен на самом деле фреймрейтом 60 fps да то есть у вас есть два конфликтующих масса мозг который говоришь на стоковом важен фреймрейта сока вам важен битрейт на кадра соответственно здесь у вас некоторые баланс его нужно перемерять на сами так просто выбрать две конфликтующие метрики наверно без запроса невозможно сам интересное что вот это поле тек экспириенс прекрасно применим к вебу мы можем сказать насколько быстро грузится страница и спросить насколько вы удовлетворены скоростью загрузки и о современном мире все что не меньше 200 миллисекунд люди уже начинают расстраиваться говорит что слушайте ваши страницы работают долго видно что от сервиса зависит то есть вот поиск почему то мы готовы потерпеть одну секунду пока работает поиск даже нет супер быстрой но если у вас в пыли не дай бог вас картинка самый плохой сервис этой картинке если у вас вылезает пустая картинка в ленте или где-то ещё она так заглушечка стоит то поле стиль раздражён уже буквально там на 200 миллисекундах и того что мы узнали мы на самом деле узнали что пользователя совсем не интересует ваш архитектур действительно можно связать некоторые счастье пользователя через квали теб экспириенс через мост понятно что сейчас используя не зависит на полностью от вас еще есть маркетинговая часть и так далее но вы вносите в величайший вклад если ваш сервис не работает хорошо то все остальное вам не поможет и через quality of expenses можно проверить все что угодно не играть нас должно быть аудио там видео можно картинки в был такими вопросами можно мерить все что угодно чего мы рекомендуем архитектура супер давайте начнем к нашему главному слайдов с нашей супер простой архитектуре который на самом деле очень похоже на архитектуру любой картонной платформы вы что-то загружаете преобразуете раздаете пользователям это могут быть фотографии текст и не важно что видео у нас оплот трафик сейчас порядка 100 гигабит в секунду давайте посмотрим как это устроено так и самое главное на верный момент как можно проговорить про загрузку больших файлов только не disconnect кто смотрел масяню столько не disconnect да все примерно до очень хорошо себе представляешь это самое главное чтобы ваша загрузка если вы грузите большие файлы она была супер отказоустойчивый она была возобновляемая не дай бог у вас что-то сломается дропнется collection вот я должна быть быстрой вот собственно простые совершенно метрики как мы реализовали структур на загрузку наших файлов понятно что мы распределены по разным дата-центром готовы к выходу этих дата-центров мы там через dns gsl бирюзовым некоторый url загрузки в один из dc там ставим вот балансер я думаю holod все знают как все это делать на какой-то сервер нашу пользу попадается его загрузкой мы сохраняем этого распределенное хранилище если у нас кейтом мейтенс работы обновление еще что-то у нас пропали часть серверов внутри дата-центр зовут балансиров привет абсолютно незаметно для пользователя если у нас грохнулся dc верху такое тоже иногда бывает вы можете перекинуться на другой дата-центр через dns gsl бип перетравить получить другую пешку уйти в другой dc и возобновить загрузку все собственно говоря довольно очевидно кроме этого мы обязательно сохраняем на клиенте путь и то куда мы грузили это видео для чего это важно если у вас грохнулся не вы а грохнулся клиент браузер еще что-то если выбрать тот же самый файл можно загрузить его с момента того где вы остановились классно мы переживаем потеря дата-центра мы разрешаем несколько дней загружать видео и мы хотим делать очень быстро вопрос насколько это быстро если посмотреть на пользователей посмотреть на пользовательское счастье-то на самом деле видно что буквально за 67 секунд если вы фауны загрузили они уже начинает нервничать единственный видно что если файл здоровые они готовы подождать подольше там 30 секунд но каста секунду все был скажут что ваш сервис не важно какая сеть какое что вот соответственно что нам нужно сделать нам нужно ускорить эту загрузку давайте подумаем просто про себя как бы выгрузили большой файл на сервер понятно что вы там делать из браузера используя стандартные протоколы какой-то вариант вы были оставьте его при себе расскажу киеве есть варианты вы загружаете например в блоками блоками какими тычинками из браузера например по 4 мегабайта просто блок забродил собираете следующий и так например гигабайтный файл 256 блоков вы загрузите какая проблема pdp-11 если делать в лоб поставку вас вылетел последний байт загрузки этого файла у вас он долетел до сервера серых скал окей вернул обратно у вас через round trip вы узнали что как бы все-таки грузим следующий при определенных устно стройках сити там не знаю использовать эти слова стали габит на интернет большим раунтри помогут где-то находитесь в сибири не знаю в хабаровске вот хабаровске больше это может быть даже вот то очевидно что у вас может быть больше 10 процентов времени сеть простаивать на этих раунд рипов конечно можем использовать b2 можем использовать planning засунуть туда куче всего грузить сразу же это будет быстрее но по-прежнему будем использовать один типе connection и на самом деле остановится особенность 1 тисе пи кан экшена в том что он постепенно деградирует в зависимости от того что у вас плохая сеть большая удаленность кто-то наверняка видел этот доклад кто не видел можете посмотреть там очень детально рассказано почему это происходит а здесь вы мне просто поверите на слово и мы это сделали как параллельную загрузку мы просто открыли там максимум разрешающий браузер за 46 connection и до серверов и просто параллельно кусками грузим файл тем более что у нас секс с светой либо файл загружен либо нет можем себе это позволить вот вы мне скажите а как же штате петри quick вот это все что он не рассказывает я много провел исследование провел если на нашем треке провел исследования на других сервисах с поддержки квиках их немного и она понимаете вот и получилось так что на самом деле 4 тыс присоединения по-прежнему во первых они удобны для fall back они все клиенты поддерживают крик во вторых они как минимум не проигрывают то есть это примерно либо то же время либо если вы из браузера конкурентно будете грузить видео параллельно через один connection клика и через четыре типе connection а вы на вот этом вот не fair варианте разделения сети в разуме очень прилично вы играете окрика поэтому мы по-прежнему используем вот эту историю с четырьмя старыми добрыми ht 51 connection ими до загрузки видео ну или любые другие больших файлов и может это использовать и так финальной архитектура выглядит мы грузим в четыре потока грузим на какой-то дата-центр через gsl балансируем трафик у нас вечером под 100 гигабит в секунду только загрузка это не раздача вот у нас порядка там станется со в облаке которые всю эту историю обслуживать качестве лот балансиры на флаером нас здесь что может пойти не так вроде все здорово как бы быстро там коза устойчиво и так далее если вы на клиенте пишите загрузку таким образом что у вас один перед грузик 1 2 грузит вторые куски 3 3 у вас 13 где-то устал пропал умер у вас появляются большие дырки и рано или поздно вы переполняется просто http header зависит от настройки того что чем вы раздаете apache imaging сам рано или поздно вы на это натолкнетесь у нас там порядка 14 миллионов загрузок в пяти в день понятно что мы какие-то точечные такие проблемы видим мы это починили тем что клиент не разрешаем использует такой алгоритм разрешаем выбирать максимально следующую свободную дырку другая следующий момент который очень часто можно подорваться вы думаете что если подряд зарезал with 2 dns запросов даже у вас диоксидин вы говорите все время польским одно и то же вас есть отель на 14 миллионов день найдется людях у которых подряд два dns запросов вас кинут в разные дата-центры вот после этого оснащается небольшая чехарда мы конечно же state храним распределенные здорово но загрузка чуть чуть медленнее иногда он случаются кейсы прямо когда они начинают грузить одни и те же чанки в разные дата центра слава богу мы сделали acer ты проверили нашли эту ситуацию поправили но бывают такие david на важные такие интересные кейсы по поводу построения отказоустойчивости и нагрузок и того мы на самом деле выросли на 7 процентов благодаря сохранению state of возобновлению увеличению скорости то есть на сами реальным здесь мы использовали мы на 7 процентов больше ра прям серьезная цифра для аудитория который мы загружаем видео ну и вы для себя знаете что можно на самом деле через параллельную загрузку или через крик грузить быстрее чем классическими способами ну и различные стили и проблему мы рассмотрели до сих пор мы еще ничего не говорили про видео в этом докладе и на самом деле скоро начнём уже к этому подходить ну и теперь например если вы не готовы инвестировать в свою загрузку писатель нажал скрыть оговорить библиотека туз которая может грузить в с3 сторож который можно сказать можно не супер оптимально зато вы это можете сделать быстро не сильно вдаваясь проблем так теперь три минуты теории я их прям ускорить прямо там что кто-то эту теорию знает кто то нет вот про то что такое видео канал давайте видео у нас есть например 4k видео которые 60fps герц и так далее мы берем умножаем в высоту на ширину экрана на пиксель пересчитываем этот трафик получаем какие-то реальные гигабит в секунду на пример с димой кабель говорит что 18 габец секунд для поддержки там скукота понятно что это для того чтобы смотреть посетит не подходит по этому видео кодируется и 50 мегабит будет достаточно до 4к делается это через видео кодеки которые учитывают особенность того что ваш кадр следующий похож на предыдущий разбивают блоки делают это по-разному кодеков невероятное количество с каждым годом появляются новые важно отметить есть некоторый консорциум кодеков там 264 265 там 266 и так далее у них есть некоторые особенности с лицензиями и есть у концертной вы по 8 по 9 в 1 который сам поддерживает google каждый следующий раз в пять лет лучше предыдущего раза в два вот про сравни кодек можно посмотреть скорее всего если вы будет классный сервис комплекса поддерживать много кодеков которые работают на разных устройствах для того чтобы максимально оптимальна доставлять видео запомните что если вы говорите против x264 vp9 это кодеки если вы говорите мое видео мне загрузили вам по 4 матрёшки или еще в чем-то это контейнеры контейнеры ничего не знают про кода к не на самом деле складывают видео каким-то разным способам и аудио могут для того чтобы могли посмотреть видео серединки для того что вы могли удобно перематывать вот в то как у вас сохранится это контейнер адаптивный streaming когда он передаем видео в сеть нам нужно адаптироваться под битрейт под плохую сеть соответственно нужно напилить и видеопакеты кусочки попали секунд предоставить весь уборку качеств которые у вас есть и переключаться между ними разрешить клиенту выбрать что-то из этого отказываться адаптивный streaming про битрейт и размеры можно почитать здесь про то какой должен быть битрейт видео почему он такой должен быть для определенного разрешение продуктивный streaming это у вас есть определенные кодеки определенный транспорт есть некоторые манифест которые вы приходите player хотите что-то проиграть у вас есть набор корка качеств который говорит с каким битрейтом какие качества закодированы и что вам доступно с какой секунды где взять какой кусочек из этих двух секунд естественно здесь есть некоторые конкуренция между apple и google стандартные форматы и частные не как-то знает про виде услышал и есть дышат google формат на сайт и очень похожий разберём на примере чавеса у вас есть манифест в манифесте указаны битрейт и каждого из этих качеств чтобы вы могли адаптивно переключаться снова свет меняется указаны все эти кусочки сегментные в сегменте указывала некоторые длительность этих сегментов вы можете переключаться вот у вас такая двойная вложенность все качества и все сегменты в этом качестве дальше отдаем это player player от как-то играть продаж продаж чуть проще у вас есть manifests качествами а индекс у вас лежит в начале файла некоторое соперничество tail она хороша между доставками технологиями apple и google выглядит так что и чавес был супер распространён он поддерживается многими smart tv только и о сам и так далее и до 2020 года отставал падеж вот 4k по качеству транспортов и так далее сейчас они примерно сравнимо и человек чуть требует большее количество запросов для того чтобы добраться до видео потому что не вложенный манифест у дыша манифест не вложенные у вас хидр вначале вам чуть проще когда вы стартуете видео вы выкачиваете индексы сразу же первый кадр 4k в человек появилась 2017 года мы запускали его еще в 2014-м поэтому кроме дыша у нас ничего не было но и самое главное что даешь поддерживал танцор сны кодеки вы по 8-го по 9 и дальше вот но при этом не поддерживается всеми устройствами если коротко adoption человека выше если вам нужно быстро что-то стартовать берете человек работайте везде если хотите качественно добавляйте дэш и начинаете за счет его особенностей выигрывать если вы готовы в это инвестировать и так что мы с вами разобрались и человек дышит адаптивный streaming он определяет контейнеры кодеки и как работает это подача на север контейнеры мы поняли темп 4 там эффект с матрешка и кодеки вы по 9 там 264 классический вот на этом у нас теория на кости закончилась спасибо всем кто выдержал теперь пройдем к транскодирования что у нас происходит на этом польза и приходит загружает на какой-то непонятный контейнер кодак мы должны вот это горку разрешение сгенерировать в разных кодеков для себя как я нашла задача на самом деле наши глаза дача не испортить что входящего видео какие способы у нас есть измерить качество есть psn or соотношения сигнал-шум всем там структурная схожесть есть вимов который netflix предложил 2 шестнадцатом году для сравнения видео какая на самом деле чем все эти метрики если вы пользовались вообще какими-то метриками сравнения там изображений видео и так далее на что они должны быть похожи на то как и пользователь сравнивает одну картинку с другой то есть их задача на самом деле нормировать отобразить ваше восприятие с их техническими что ваше восприятие мире дорого это опроса измерения а технически от померить быстро вот технически там классический персонаж с сим вот это примеры на разных типах контента где-то здесь футбол где-то там кулинария еще что-то на то как они соотносятся идеально если у вас предсказание вашего мина пиньон score равно с предсказанием вашего алгоритма на самом деле тишь тут есть еще нейросетевые которые то лучше угадывают но вот выбит примерно так есть разные следуя которые говорят о ей что у меня диск вечером 5 слайдов вперед это серьезно минуточку отлично хорошо мне метрики соотношения вот этих вот популярных метрик корреляции с носом сам интересно что если это следа никогда больше для польских видео например вимов которые используют netflix и он супер новый современный простите ни разу не соответствует тому что вы воспринимаете оставили видео есть с регистраторов прах и пользовательских если вы делаете сервис кинотеатров наверное вимов это для нас если вы говорите проведу еще пример можно использовать асем можно использовать psn or на самом деле в целом не суть важно главное мерить когда транс кодировать видео не забывать мерить а теперь про время транскодирования если бы у нас была бесконечности вы могли бы куча ресурсов инвестировать мы бы супер качественно закодировали но после не готов ждать а ресурсы ваши не лимитирован и поэтому у нас есть некоторый трейдов между качеством транскодирования и временем ожидания и ресурсами которые мы на это потратил мы здесь я зафиксировала простой psn артом до 43 44 децибела который мы все время отслеживаем и при этом начинаем разгонять нашу пользовательскую загрузку видео почему то что люди не любят ждать вы хотите загрузить видео максимально увидеть мы хотим это делать быстро простой способ использовать iv ампер для транскодирования более сложным от него отказались использовали поверх него свое решение использовали инн винг кодек поверх gpu для того чтобы ускориться провести выпущу время переписали фактически весь ffm пеку здесь есть ссылочка это сделать перестали весим флешбэк у себя нативно для того чтобы решать нашу дачу оптимальней и стали делать от на 30 процентов быстрее чем стандартное решение если посмотреть время загрузки у вас вы можете попасть на самом деле на сервер который ваше видео будет раскодировать на группу вам повезет особенно в низкие часы нагрузки когда у нас нагрузки больше вы можете попасть на циpкa видно что мы делаем это быстрее чем другие сервисы то есть от загрузки например гигабайтного 15-минутного видео вы через там 6 8 мп может смотреть других сервисах через десять мы такие о супер мы сделаем быстрее чем конкуренты давайте пойдем дальше как эта вся структура устроена вы загружаете файл вы загружаете в к это хранилище выплат кидаете в очередь покачай загрузка эти все я супер все загрузил давайте вы его обработаете у нас куча транс кадров там порядка 3000 которая с разной заготовку сцепу который вас обслуживают и транс кодирует ваше видео случае если коэн транскодер умирает такое случается мы возвращаем вашу тоску очередь через какое-то время она будет подхвачена другими транспондерами иисусовой будет обработано то здесь мы готовы к выходу дата-центров самих серверов обслуживания так далее сервис очереди которые вы реализуете нарикала все мысли скажу устойчиво череде у нас он довольно старой классические мы его делали на лидеры лекция по верху кипера но важно что в случае потери очереди восстанавливается он довольно быстро в другом месте и начинает обслуживать все сервисы казалось бы что может на самом деле в этой системе пойти не так в один прекрасный день у нас все transform стали умирать прям реально 1000 трансферов просто друг за дружкой админы в панике их restarted поднимают что-то происходит к нам загрузили интересное видео которое убивает например падок то есть так вы можете разными кодеками к вам могут загружать чёрти что вы на самом деле себя поддерживать декаде разговор что-то под подсунуть такое интересное вот понятно что случае если она вся все транс кодировать кажет у нас есть несколько часов пока у нас переполнится очереди переполнится а хранилищ для того чтобы восстановить работу хорошо что у нас был некоторый хэш не совсем md5 но не буду говорить какой вот для того чтобы можно было быстро фильтровать такие видео поэтому когда вы сделать культура писи наверняка у вас есть ретро и вот когда вы возвращаете что-то в очередь не забывайте ретро если вы там три раза вернули в очередь не надо этот файл еще раз брать но и дополнительно если вы работать всплесков контентом считайте kentish и еще что-нибудь для того чтобы просто могли быстро отказать контента рано или поздно если вы загружаете картинки или ещё что-нить вас могут обмануть загрузить он что ни странно и при преобразовании вас что не будет ломаться известно что мы узнали измеряете качество видео не важно какой метрики главное просто измеряете соответственно про транскодирование это баланс качества и ресурсов которые вы потратили отказ господин почему отказ у нас отказ от fmt гаммы на позволил нам ускориться на 30 процентов потратили это очень много разработки мы посмотрели как делать отказу стоящего архитектуру там на загрузка 14 миллионов ну и на самом защищайте вашу загрузку хоть какими-то хэшами чтобы защититься от вредоносного контента если вам что-то пытаются просунуть до использование в гпу у нас ускорил и еще при транскодирования сша были свободны ядра потому что invented энкодер встроены в гпу карту который работает отдельные вошедшие куда свободно это не очень дорого про хранилище мы это все берем мы сохраняем в некоторые наши хранилищ у него тоже есть интерфейс с 3 у нас есть хранилище горячая холодная популярны горячая мы льём 4 дата центра холодное с некоторым репликейт фактором 2.1 как это все устроено можно посмотреть в таком докладе если вам вдруг интересно правоохранения вот а мы на сайт и перейдем к следующему шагу мы сделали супер быструю загрузку мы сделали супер быстро транскодирование год переписывали f em back теперь опросив пальцы ли мы узнали слышать я загрузил видео друзья сразу не смотрят реально я загрузил час видео почему сразу там недоступно особенно это важно для новостей для чего-то еще вот и поэтому если вы супер калькулировать мы лучше конкурентов мы это делаем быстрее вроде бы супер с собой довольно новое сдать и опросов пальцы говорю ну как бы ну хорошо но на троечку такие хорошо на самом деле очень просто сделать допустим мгновенно доступность вы загружаете файл и разрешаете его стримить сразу же в разных качествах в разных разрешениях себе это не самый сложный алгоритм то есть у вас есть какой-то файл у него есть яндекс вы его быстро прочитали чтобы слева место играть и если после пришел от требует разрешения которое ниже чем это исходный файл в его под нарезаете запуская процесс нарезки 80 процентов случаях видео мы умеем его быстро парсить и работая с некоторых случаях но там за пару секунд перебарщиваем также работает решение супер простой другие сервисы за это время научились нарезать например в низкое качество и через три минутки для вашего гигабайтного файла вернуть вам низкое качество мы в этом время научились делать моментально все что вы загружаете доступно сразу же теперь важный момент мы не то чтобы супер как бы голубые отлично нарезают это видео мы на самом деле нас был некоторый блокер мы думали слушайте ребята мы раздаём реально там тот момент на один терабит видео представляете на лету подрезать под ваши качества пользователей и такое восприятие себя это очень сложно сделать на самом деле если к вам залили видео вы его подрезаете в ток качества которые нужно полете в кэш мы сразу на дискете кусочки там 3 секунды складываем вот и потом вам раздаём на самом деле в это видео больше чем она исходно не раз не нарежете вот мы это сохраняем на диск и на самом такой очевидной история но мы до нее шли несколько лет для того чтобы сделать вот эту загрузку и там порадовать наша аудитория теперь мы это делаем мгновенное нам неважно вот эти вот хаки других сервисов мы действительно здесь мозг на уровне пятерочки через две секунды не важно какого размера файлов доступен вам вашим пользователям во всех качествах и сразу хорошо эта штука нам еще позволяет хранить загруженная вами видео в максимально доступным качестве механиста размер на горку размер на горка примерно равна размеру видео и мы каждое загруженное удваиваем а если у нас еще для вашего входного варианта есть разные кодеки то можем сделать четыре раза больше в6 и так далее поэтому мы еще экономите мы хранилище в общем мы до 130 гигабит раздаём видео которое еще не нарезаны то использовать только что загрузили уже все смотрят принципе неплохое число мы потратили правда 4000 декоров наших облаке и на сайте помните про дрейка про thread'ов анализа качества ресурсов времени когда он кажется что что-то невозможно нас андриса 4 не ресурсов это очень простая история и мы не знаем зачем мы занимались оптимизации мифом бега если можно было все сделать так сразу и просто раздача раздачи на 4 терабит а большая аудитория много чего можно посмотреть давайте поймем что конечно у вас всех сервисах когда вам 14 миллионов видео где не поливают популярных очень немного у нас есть популярный длинный хвост поэтому всегда используем кэширование раздатчик настали выглядит как большой кэш сервер у него есть кэширование в памяти каширина диски в зависимости от того установленном на сидении где-то оператора или локально на родине там есть х д д с д д стоимость их и тогда на самом деле это некоторые тамблеру фифа набор кашей которые максимально оптимальна это кэширует вот его защищают ваши хранилище от перегрузок каширу им некоторыми блоками поэтому популярной части типа начало видео или наиболее интересные моменты остаются в кэше бой менее интересные у нас скитаются ну и наш стандартный раздатчик раздают парка 100 гигабит в секунду сервера вот пример таких замеров и справа вы можете для себя увидеть чего нам пришлось подтюнить и включить если у вас другой раздаче примерно вам просто потяни другое но на самом деле набор того что вам пришлось использовать ному потянуть немножко тетивой 110 господи сетевой стек включить там хочет босс не знаю поработать с прерываниями объедините когда вы чтобы вам выжать максимальную производительность сервера самое главное смешное что этот раз датчик на java 100 гигабит ами не вижу смехов же зале хорошо а вот у нас довольно высокий хитрей при этом про кэш вот и мы используем для раздачи при балансировку у нас порядка 200 серверов а значит что теперь принципе не очень много при пяти тысячах серверов вообще на видео сервисе порядка семи дата-центров и 4 терабит и вечером можем до десятки терабит как раздавать очевидно что чем выше hit rate сервера чем выше вы раздаете тем быстрее для пользователя и тем меньше утратить ресурсов чтобы сохранить хитрой тьмы некоторые используем contestant хэштег по всему контенту которой вы раздаете чтобы какой-то конкретный сер отвечал за конкретный контент понятно что когда он падает вам нужно все распредели во всем остальным сервером вот contestant хищных наверно для раздачи любого контента будет довольно приемлемым решением супер популярные мы начинаем раздавать со всех при этом серверов есть лимиты кто-то вас может атаковать например де дождь или у вас какие-то могут случиться проблемы с балансировкой и cera q это может быть перегружен перегружен подсыпал по памяти обращение в диском неважный миллион ресурсов мы начинаем это все разгружать отправлять на другие сервера вашего там хэширования для раздачи этого видео вот у нас может случиться такая интересная ситуация если вы вспомните как у вас смотрит плеер он у вас кэширует номер 1 минуту вперед вы смотрите качайте сегментный видео минут вперед вы смотрите потом у вас лапнул сервер еще хуже вклад мало оператор сеть маршрутизатор перегрузилась это произошло вы немножко потупили буфер у людей чуть-чуть под сократился может быть даже буферизация не случилось у них и потом все эти плееры накинулись на вас и начинают скорее выкачивать сегменты потому что буфер пустой можете получить некоторые удар трафиком здесь ваша балансировка просто физически не сможет успеть отработать вот поэтому вам нужно сделать так чтобы ваш внутренний сервер защищался потому что если вы просто перегрузите он грубо dy'd из ротации contestant caching это очень красиво он раздаст все свое имущество всем остальным также делают все остальные раздали всем остальным и вот мы в такую ловушку попадали в контент у вас все все раздали никого нету поэтому если вы не можете раздавать не надо сразу задаваться говорит так все я выпал из ротации до свидания деградируете то есть сигнализируете что вам плохо чтобы составе нагрузку на каждый сервер должен защищаться от вашей аудитории просто запомните сер защищается от аудитории если у вас больше перегружен циpкa если у вас перегружен диск сети не важно что вы начинаете тратить мы тратим допустим раздача там как-то плеер переключись на качество пониже неважно как главное чтобы мы тронулись что ещё у нас в раздаче самой важной сидел у нас портретисты точек присутствие в разных странах конечно большинство россии снг где наши вас пружин аудитория самое главное отправить пользователя ближайшему узлу где он будет смотреть свой контент получать видео не важно что на самом деле типа двигаться сидел есть наверх дел dns когда вы привязал в dns имени то есть у вас есть какой-то сервер раздаче есть доменное имя вы можете пользователей совершенно резон щих одно доменное имя отправить на разные пи адреса разных серверов разных площадок 1 в хабаровск другого но не знаю в таиланд есть еще решение с и не кастом который говорит что вы можете вообще на один тот же пи адрес на самом деле иметь несколько серверов в мире и предоставить эту возможность оператором чтобы они выбрали максимально короткий маршрут для ваших пользователей что затем здорово помните у нас есть consist in hearing вот это вот кольцом и вот это кольцо корзинки шагаса держим и насидел площадках нам нужно отдавать контент сервера на котором он есть на котором он прогретое так далее оба этих режима нам не подходят поэтому мы у себя реализуем роутерам мы хотим контролировать максимально быстро потому что dns она с некоторым задержками а доверять gp и оператором вообще не стоит вот поэтому автомат сами балансируем нагрузку зависимость нагрузки каналов перегрузки серверов и так далее поэтому при бюджете через bird забираем у всех операторов такие они сети поддерживают кого они видят как выглядит сеть и зависимость расстояние маршрутов сами принимаем решение и перегрузки каналов как это все работает вообще у нас 50 плюс узлов и это вся история помогает нашим пользой смотреть качество ну на сами на 20 процентов выше здесь на самом деле очень часто проблема в абонентском окончание в том что вы с у вас плохой вайфай-роутер он сеть но для как бы пользователи у которых есть проблемами на расстоянии мы на 20 процентов разрешаем вам посмотреть качество повыше что в принципе довольно неплохо про quick наверняка многие слышали про хотят т.п. quick про то что он супер классный google обещал что на 20 процентов у вас столов будет меньше то есть вы перестанет вращаться с крутилками но нас не получилось у нас дай бог 3 процента при измерении вот при этом нас выросли некоторые характеристики но при этом эта штука обслуживаться дольше здесь вот топ как мы это запускали вконтакте мы раздаём фотки api все остальное с видео мы в процессе только у нас появятся супер зад которые мы довольны мы с вами поделимся и того 100 гигабит на самом деле с одного сервера на джалла сейчас нормально наши сервера торчат голыми голыми голыми api адресами без лот балансер фаерволов понятно если вы раздаете 4 терабит а 10 арбитр очков будет торчать тем что у вас есть вот для того чтобы это делать вам нужно использовать балансировку чтобы если вас где дождь вы могли выкинуть довольно трудно адидасе все раз сервис у которого там 10 терабит лимит то есть вы втыкаете в один сервер мы его просто выкидываем из ротации все остальные раздают вы втыкаете с другой вот такую история довольно трудно сзади досить вот но и использование седин других протоколов раздачи улучшают качество видео про просмотр вопрос почти 2 сполна миллиарда смотрения с нашей видеоплатформы помни что чем наше счастье пользуясь зависит от битрейта чем выше битрейт тем лучше помню что после они любят сталки с такими старыми как буферизация если у вас кончилось видео на залипла у вас кончился буфер то здесь видно что если нас еще у вас случилась одна буферизация максимум вашей раз получит тройка с плюсом через пять буферизацию получится двойку скорее всего люди просто уйдут и самый важный момент это первый кадр вот тут интересна история если вы смотрите первый кадр внутри таких сервисов как социальные сети просмотр коротких видео еще чего-то то у вас супер высокой требований за секунду не за играла во все плохо если вы смотрите онлайн кинотеатра то люди готовы подождать 5 секунд перед стартом фильма в принципе можете закрывать черта лысого и это все будет работать отлично самое главное мы подходим к бти арема видео это качество количество буферизации и скорость старта вам нужно всегда балансировать между этим между тем высокого качества где отдаете сколько у вас будет столов и пользователей насколько вы быстро стартуете да у вас еще переменная пропускная способность сети мы вспоминаем адаптивный streaming у вас есть секундочки там по две секунды нарезанной фрагменты в разных качествах вот вам нужно между них переключаться две классические стратегии первая стратегия давайте проверим пропускную способность сети будет переключаться за 700 сколько оно у вас составляет очень трудно проверить эти на меняется не всегда работать вторая стратегия сколько у вас в буфере место если вы кашира вали 10 секунд вперед наверное можно уже переключатели 4k играть все что угодно есть математические модели объехать их стратегии классные стройные но все на самом деле используют обе из них ну вот используем в таком виде мы смотрим что вас в буфер есть какое то количество времени количество за кашированного видео и при этом если ваш битрейт по нашим про меркам позволяет включить дальше мы включаем вот баланс все реализует результат в разных плеерах player есть для веба для android ios проблема ios не хочет играть без из коробки и вам нужно что-то с этим делать чем судьба у вас есть шако плеер dex dcs если вы делаете streaming вы берете готовы плеер играете мы запилили свой которая работает лучше но в целом если вы можете стримить дэш можете взять dg100 это в принципе не плохо вообще настолько пять процентов пользователи сталкиваются событиями буферизации и вот это среднее время буферизации мы занимаемся оптимизацией они на самом деле этих метрик 95 процентов просто смотрят всегда видео и вообще не замечать их и проблем с мобилкой чуть чуть интереснее с андроидом у вас есть exoplayer он open source на его можно починить а в плеер боишься закрытая система история которой от каждой версии ядра немножко меняется как вы думаете где какое первое время кадра сразу скажу что если бы она была 200 миллисекунд нам было бы все равно все были бы счастливы но к сожалению на айосе даже при всем тюнинге avi player она там порядка восьми 100 миллисекунд при этом оба плеер например начинает всегда играть стартовой качество то которое вы первые отдали в манифесте вас есть манифестом список качество отдали 1 4 каунаса 4k дали там с узор черри начинает играть сортире потом переключается мы специально адаптировали подбирали качествах а коли его со всех сторон получили вот такое число газа плеер мы смогли до тюнить вот до таких секунд по средним по нашим player по нашей аудитории not appear нас распределенные по разным строим странам и мы отказались этого плеера и полностью запилили на ios свой плеер и смогли стать еще быстрее чем на андроиде ну понятно и из крупных городах обычно с быстрым интернетом за полсекунды мы на 50ом перцентиле стартуем видео наш профиль на самом деле самый фееричный был при замене и ого player у нас стали меньше буферизации меньше 100 love выросло качество смотрения сам интересно что с этими таки привели к росту на 6 процента смотрения видео поэтому замена в плеер наш стандартный плеер вам сразу плюс шесть из коробки при этом мы потребляем ресурсов очень сравнимо с его player то есть конечно если нарисовал что мы меньше потребление особенно считаешься позитив погреешься сравним а вот и что мы узнали мы узнали cup теорему видео мы узнали что в андроиде вы просто берете gsa player тюните боюсь лучше сделать свой но это капец как сложно мы потратили много ресурсов мы на время можно взять готовые плееры в таком порядке дпс из чудес ишака который будет играть ваше видео про итоге мы посмотрели про отказываем старую загрузку про быстро транскодирования про надежное хранение право всякие как устроена раздача какие плеер и выбрать собственно говоря сам интересна история что возможно мы на самом деле занимаемся 9 лет довольно не самым простая история пойдет этим всем этим воспользовались коробки сделать свой сервис и быстро-быстро это запилить то на самом деле мы открылись детей для загрузки смотрения того чтобы протестировать посмотреть для вас абсолютно пока бесплатно особенно для первых 10 пользователей которые к нам придут мы открываем эту историю вы можете загружать смотреть развивать свои видео сервис и на базе наши инфраструктуры сравнивать с тем что у вас есть поэтому если вдруг хотели сделать свое видео попробуйте но немножко про машины обучения про то что вы помните мы там шесть процентов там вы жили 10 там три тут 4 там вот пойдут на с вами про машинное обучение восприятие пользователем когда мы образуем кольца насколько классно наше видео не общее просто открывают наши рекомендации дослушать у вас тут дтп и т.п. видео с регистраторов еще что-то не очень интересная как бы мог четко че ствола знать на вопрос качества так себя поэтому мы решили давайте возьмем не растя его врагом поднять качество видео конечно вас огромное количество аудитории и они хотят смотреть видео максимально качественно что мы для этого сделали мы повысили фреймрейт два раза интерполировать кадры и повысили разрешения тоже при помощи нейросетей то что очень удобно вложилась в наш научный транскодер у нас сразу же стерлинг на самом деле происходил на куды там же мы на самом деле abs келим добавляем дополнительные фреймы она это интересный момент что при обучении вот видите есть пример видео если вас супер низкие частоты вам нужно что-то да обучить и поднять разрешения то ваша нейросеть начать придумывать вот пример из twitter как-то не раз сети может придумать изображение виски слушайте вот она вот так вот сложилось она реально так может надо придумать мы это называли папа-бегемот а сейчас расскажем у нас камень лежал на траве и он все время придумал да какие то кожистые текстура не были похожи на папа-бегемот а вот взял чтобы этого не случилось нам последний момент нужно было добавить ганы волос функцию нейросети которые учились отучать отличать видео и фото сгенерированы нейросетями от реальных добавив такую gang наш лосс функцию обучив ее у нас на самом деле повысилась на качество можно посадить примеры вот как у нас нам было до как она была после гораздо интереснее с интерполяции с футболом например вот обидно чтобы видео справа но плавнее часто все наверное видели 30 fps футбол динамику действительно раздражает вот теперь мы для всех наших пользователей на вебе разрешаем вот галочку можете сам биться ваше старое видео просители новое загружаемого просить улучшить сделать более классным качеством хорошо мы узнали как через m-elle можно хакать ваши метрики сервиса мы парка 25000 видео обслуживаем но ясно вам интересно подписывайтесь на наш канал а мы расскажем как мы делаем деталях главная проблема была эта нагрузка то есть 25 тысяч ведет ни один ролик который всю ночь гоняете улучшаете вам нужна реальная аудитории разрешить от делать что мы еще используем мы конечно же распознает делаем автоматические субтитры чтоб вы могли с одной стороны смотреть видео в ленте без звука с другой стороны вы могли его классно рекомендовать вот у вас некоторые pipeline если вы хотите посмотреть про имели можно посмотреть здесь того у нас порядка 17 процентов видео из лента смотрят люди просто с субтитрами следующая история это конечно же сердце платформы то рекомендации когда вы собираетесь видим про него знаем все мы знаешь на нем происходит мы взяли мы знаем какие лиц на нем есть мы знаем о чём там говорили и все это используем рекомендация для распознавания лиц мы используем наши довольно старую платформа про распознавания лица на фотографиях можно посмотреть здесь про библиотеку что нужно распикировать видео есть библиотека youtube 8-м видео раз тагирова нам нужно просто правильно обучить нейросеть мы добавили еще наши раскодированы и видео итого у нас каждое загружаем и ведет некоторые embedding вектор размерности 64 флотов который позволяет определить категории контента там популярности так далее мы по каждому ролику это храним должно порекомендовать например здесь пример клипов может быть видео у нас есть какой-то большой набор популярного контента он мы через матричный факторизаций смотрим что для вас похоже из того что вы смотрели интересно смотрим тренды категории подписки и последний контент который вы лайкали смотрели собираем примерно через это через ближайших соседей порядка пяти тысяч кандидатов ранжируем их как пустом и не забываем что вы не хотите смотреть 5 футбола вподряд если вы любите футбол поэтому их немножко раздвигаем вы получаете ленту рекомендации вы можете увидеть такую историю что вы посмотрели например шахматы с каким-то популярным например карлсон вот и начать стрелять дежавю что вы этого человека начинаете встречать у себя в рекомендациях время от времени это нам позволило на самом без за год вырастить смотрение почти в два раза помните там три процента 6 5 10 это там вам простит максимум может процентов на 30 здесь вот такой рекорд что еще можно сказать мы еще много где стали применять эмиль например пользование любит нас выбирать обложке загружать мы выбирали раньше обложку который джипег размер файла было больше всего мы загрузили видим урезали количество обложку убирали с максимальным же 1 ли наверняка самое интересное сейчас мы это делаем хитрее на многорукий бандитах и выбираем сам интересность используется дым мальчики девочки выбирают в разные обложке их интересуют им разным пользоваться для одного и того же видео можем 5 сразу на обложку в поисковой выдаче в тренде значит этого вырастить еще конверсию превью трейлера умеем генерировать для наших видео если у нас есть видео мы взяли некоторые open source решения пришлось сильно давить под нагрузки вообще привыкли что каждый пан source решения при использовать нас нужно допиливать под нагрузки которые вам строить превью по виде он разбивает на похожие сцены из каждый сам выбирать самый интересный динамичный момент где есть люди динамика все остальное что изменилось 2013 года мы стали рекомендовать голос стали распознавать лица голос на видео стали рекомендовать видео 1 рекомендательная система была на самом деле полином ньютона седьмой степени где мы просто брали смотрения за каждый час по ролику и потом экстраполировали говорит сейчас скажем ни в каком месте через час он должен оказаться и защите этого просто рекомендовали топ видео сейчас я супер классный персональные рекомендации нас есть умная обложке есть там predict сети еще чего-нибудь netflix млм подбирает параметр кодирования иви завтра вам с утра расскажет как хайлайты генерить имели вот что нам казалось бы еще ждать на самом деле уже очень много машин для них кодеков nor не удивишь кодирование видео через машинное обучение меньший битрейт выше качество немножко вас удивлю на самом деле для каждой вашей структур данных в деревьях фильтры haш миp и есть уже маши решение на машинного обучения я думаю что они скором времени будут появляться в базы данных и это будет довольно интересно вот что еще на самом деле можно сделать можно взять и обучить оценки пользователей по докладам на базе того что я рассказывал как я выгляжу презентации что я говорил и в принципе в конце доклада вы расставить мне оценки пока мы еще будем делать по старинке у не просто поставить оценку но на самом деле это можно было сделать automatic в караоке рассказ сделал такое о на четверочку с минус хорошо в общем приближайте наше будущее внедряйте мальва все ваши структуры уверен что это можно сделать сам интересное что к сожалению что старение защитных ресурсов пробежать будет будущее очень дорого поэтому для популярного канта это у нас доступны и субтитры и разные кодеки а для всего остального конечно же нет коротко про итоге он посмотрели история видеосервиса померили пользовательское счастье посмотрели архитектуры посмотрели имели теперь что мы узнали что можно повысить загрузку там на 7 процентов буквально за счет того что мы сделать загрузку и ускорили про транскодирование узнали как можно его ускорить посмотрели максимально доступно 130 гигабит в секунду раздаём через максимальную через моментально доступность видео то есть люди не дождались преобразование уже смотрят узнали как 100 гигабит в секунду раздать сервера сбалансировали раздача на десятки терабит посмотрели про седины про собственные плееры как что тюнить самое главное что вы рекомендации примерно сравнима со всем что мы делали много это время сам интересно теперь про метрики что у нас получилось буквально за последние пару лет где мы делали классный pr релизы где мы запускали обрадовали наших порцию нас нпс вырос на 30 процентов то есть на стали чаще рекомендовать как топовый видеосервис наш атрибут технологического лидерства вырос и мы даже стали немножко моднее видим это за счет pr а теперь самый главный вопрос помните которая сначала говорил про связь архитектуры сложная система с польским счастьем морить нас есть польская счастье вам можно через quality через мост поверить можно его через пользовать и вашей метрике внутренние выразить но к сожалению на этом докладе мне не удалось связаться с архитектурой фу поэтому моя рекомендация забудьте про архитектура видите она за 2013 года эта архитектура никак не поменялось точно как создали сервис он был супер простым партию так и остался данного что нужно инвестировать это в польское счастье измеряете пользуйте метрики измеряете только ваши пальцы пользуюсь сервисом растите эти метрики архитектуру мы просто посмотрим на докладах спасибо вам большое ну и важный момент да если вы хотите воспользоваться сервисом хотите его попробовать решили написать свои видео сервис то благополучно для вас мы открыли доступ ко всему этому у вас будут доступны вот по ссылке библиотеки вы можете использовать нашу быструю загрузку быстро смотрели на транспорте г для первых 10 пользователей которые к нам обратятся мы вообще пройдем консультации пока начнем пробовать мы активно внедряли звонки нам понравилось что получилось и сегодня готовы всеми этими решениями инфраструктуры всем этим поделиться с вами делайте видео сами делайте видео вместе с нами спасибо да кто в ближайшие давайте тем как давайте вот это все пропустим это тебе супер подарок подарок когда надеюсь что он булькает ну там coca-cola еще что-нибудь да так на самом деле теперь про мой подарок все кто расходятся те расходятся спасибо вам большое а теперь самый главный анонсировал поездку в питер of kempinski с офисом зингера совсем вот этим вот давайте разыгрывать помните про вопросы на самом деле у меня будут к вам некоторые вопросы в этой всей истории да про поездки в турцию давайте кто внимательно слушал доклад у меня есть вот это вот прекрасно поеду поездка давайте во сколько раз у нас выросло количество загрузок с 13-го года текущий момент давайте можно на самом деле выкрикивать сорок-пятьдесят маловато маловато давать и буду подсказывать 110 до 10 так несколько раз еще 200 200 еще 400 много 4story нардам поиском 4 страшного нет много 291 делать давайте выходите 280 280 не в июле аплодисменты я не знаю а будем считать что на самом деле ответ был на слайдах проходите поднимайтесь ничего страшного давайте ответ был на слайдах на самом деле молись это на первом слайде говорит сколько было 2 штраф на году сколько было сейчас надеюсь что вы классно поделили в уме и там чуть-чуть ошиблись 280 290 поэтому вы можете с кем-то s + 1 поехать в kempinski в питер зайти провести экскурсию нас по офису хорошо провести время поделитесь ли она впечатление может быть громко а докладывает еще чуть громко с спасибо спасибо саша саша большое за поездку единственное не могу понять почему так классно в докладе и все так плохо надели на этом мы заканчиваем первый слот александр рожон спасибо да да давайте еще напомнить что вопросов ваших ко мне не было поэтому они будут на стенде в 12 часов приходите отвечу на любой вопрос по архитектуре на любую там раздачу загрузку любые вопросы наверняка у вас их кучер в 12 часов весь ваш до часу просто спрашивайте все что угодно спикер уходит цифровые кулуар всё спасибо интернет"
}
{
  "video_id": "fhq7TpLSo-Q",
  "channel": "HighLoadChannel",
  "title": "PaaS cookbook / Алексей Данилов",
  "views": 85,
  "duration": 3210,
  "published": "2023-10-06T07:22:32-07:00",
  "text": "Всем привет да меня зовут Данилов Алексей Я работаю в Яндексе а именно бизнес Unity который занимается Яндекс путешествиями Яндекс недвижимости и автору получил забавная ситуация потому что я был долго этим летом разработки паса 4 года и в рамках своей работы и очень много общался с различными компаниями о том как правильно разрабатывать ПАЗ Это был и nasdaq большие компании Российские компании небольшие европейские компании и за время пока я подал доклад и пришел сюда я стал работать другом бизнес Unity это fantage такие на поиски музыка и плюс его очень увидел насколько даже внутри одной компании различается платформы об этом мы сегодня и поговорим мы поговорим о том как приготовить платформу внутри как большой компании так средняя компания на 200 разработчиков и небольших компаний когда разработчиков буквально десятки о чем будет доклад доклад будет о том как нам приготовить пас либо отрефлексировать существующую инфраструктуру и подпасами не подразумевая какую-то сложную платформу которая которая автоматизирует весь paypline И все мы говорим про пас как объединение всей инфраструктуры которые существуют компании постараемся это сделать максимально просто буквально рецептами на одну страницу для того чтобы не усложнять довольно не так сложная вещь а Кратко скажу вообще о том пасте которую мы разрабатывали и в принципе которые есть у всех компаний небольших и маленьких это определенная прослойка Над всей инфраструктурой этой базы данных и балансировка различные Pay планы это бизнес логика аналитика это все то есть это все что окружает бизнес-код включая библиотеки которые используют своего разработки Вот это я подразумевает под пасом наш ПАЗ на вход принимает яму яму формат и какие-то команды какой-то API на выходе у нас Web тоже API какой-то определенный там хуки и Telegram бот я буду показывать его в примерах когда буду рассказывать о рецептах для того чтобы понять что мы готовим нам нужно понять в какой ситуации мы находимся Какая Наша кухня и тут немножко при фиксируемая прошлом когда-то давно была Эра администрирование когда основой всего в том как инфраструктура в принципе основывалась на администраторах потому что Они участвовали в пайплане до инфраструктуры до кода промежуточных этапах после и так далее Она была недвижимое Она была довольно такая бункерна развитая потому что она не отпиралась бизнес ценности напиралась чтобы Мы работали надежно и все Сейчас мы вроде находимся эпохи девапса когда разработчиками являются все администраторы теперь называемых сырье Google считает что они тоже такие же разработчики например и пишет тестировщики пишут код аналитики и все теперь все теперь в том числе развивать свою инфраструктуру и мы пришли к тому что каждая эта команда понимая свою бизнес ценность сама создает более лучший инструменты для реализации своей цикотоценности компании Но это приводит к хаосу то есть мы можем видеть несколько систем которые повторяют друг друга или несколько библиотек которые повторяют друг друга И на самом деле мы находимся чуть другое эпохи Я считаю что мы уже зашли на неё это вот Эпоха платформ когда вот этот люди деленные определенным экспириенсом разным опытом и пониманием как лучше сделать объединяются для того чтобы унифицировать свой опыт и предоставить компании более лучшие решения не там не 5 систем допустим доставки аналитических данных одна но которую удовлетворяет всех все команды и все задачи а и действительно когда я общался все эти четыре года с разными компаниями и эта компания даже на 10 разработчиков она так и есть просто на разных инструментах на разных платформах на разных языках так иначе все это делать все вот объединяют Experience это конечно нас приводит другой ситуации что действительно общаясь с каждой компанией Ты понимаешь что все делают одно и то же даже сейчас перейдя из бизнес-ювента внутри Яндекса внутри одной кажется из организации в другой отдел я вижу другую инфраструктуру с теми же самыми задачами с теми же самыми целями но по-другому немножко написано Ну немного по-другому реализовано это одно и то же Я думаю что будущее на самом деле это конечно возможно типичное будущее но будущее это каким-то кубиками Когда мы можем вынуть какую-то часть платформы изменить ее другой например Мы вынимаем балансировщик заменяем другой и вся инфраструктура при этом не меняется и также с базами данных также с различными компонентами аналитика и так далее тут конечно же нужно понимать что у всех разные Интерфейс Это невозможно но я уверен что мы когда-то к такому будущему придем в том числе не использовать разные части платформы тоже отлично кейс для будущего а кому будет полезно эти рецепты в первую очередь маленьким командам я оперировался именно на небольшие компании буквально от разработчиков там пяти штук которых можно применить двумя пиццами и дали дали дали у нас эта команда 200 человек и большие компании для души компании полезен только как часть рефлексии потому что у них уже там созданная платформа десятилетиями ее сложно сдвинуть Из этого же страдает и рамка доклада мы будем рассматривать пас не как какую-то сложную страшную инфраструктурную платформу потому что впервые о платформе я услышал еще вот прям в таком виде году В 2009 на открытом этапе Сбербанка и меня это пугало в тот момент и мне показалось в том что она была очень специализированная и слишком Техническая в том смысле что мы только ускоряем пайплайн доставки мы не думаем Пользуйтесь опыт эксперимент с разных команд и поэтому мы в том числе будем говорить про пас про команду которая реализовывает пас как некий клей не только инфраструктурный технический Ну и клей между командами то есть инструмент объединения этого опыта разных команд для того чтобы мы вместе достигали одной цели о чем же будет Сейчас сама Пасха букв мы пробежимся по одному слайду минимальными рецептами о том как все это сварить летом нужно школа оценки нужны понимать сам рецепт из каких кубиков там это варить поэтому я выделил 6 основных пунктов которые считаю наверное краеугольными такими важными частями для реализации это просто использования если мы говорим именно про какой-то пользовательский опыт разработчиков там аналитиков тестировщиков которые используют эту платформу единичкой оценим то что для каждого раза использование нужно документация допустим А пятерка точно вообще ниже документации интуитивно понятно поддержка то как мы можем сохранять качество нашей инфраструктуры с течением времени что она не ломается она не разлетается и то что мы реализовали в принципе будет жить какое-то долгое время гибкость Это насколько разные команды могут переиспользовать опыт вот этой платформы что мы не рисовали инфраструктуру которые могут использовать только Back and Developer И всё И там фронтенде велоперам нужно Заново там реализовывать различные pipeline свою инфраструктуру и так далее как раз что я говорил про Пасху расширяемость это то насколько мы можем часто и безболезненно наносить какие-то фичери квесты и фичи сеты дополнять то есть насколько мы можем развиваться дальше единичка это будет что мы написали единоразовые и она больше не может развиваться потому что мы уперлись какие-то места архитектурные пятерки Значит мы можем спокойно развиваться бесконечно расширяться сложность это примерное количество человек часов месяцев Насколько нужно реализовать эту штуку Понятное дело что есть вещи которые супер сложные которые нужно реализовать долго и тяжко а есть которые вообще не требует наших затрат можно сделать за неделю и требования команде суть которого заключается в том что некоторые части можно сделать буквально там один из средств специалистов но некоторые части платформ более сложены могут потребовать и фронтен разработчика там дизайнера какую-то часть от аналитики даже продуктовые визы нужен и поэтому пятерка будет там где требуется высокий скилл от команды единичка где он особо не требуется Тем самым у нас есть легкая шкала оценки где мы будем просто цифры одного до пяти и смотреть на них сумму допустим от одного до 14 это плохо лучше такого не делать 15-20 хорошо это зависимости от ситуации 20-25 вообще отлично Ну больше 25 уже невозможно Потому что если у нас там есть какой-то пункт где все хорошо мы возьмем и не будем дальше обсуждать и когда мы говорили про клей между командами Понятное дело что первое учитывая что все теперь у нас чуть-чуть разработчики в нашей новой эпохи нужно учитывать что часть коммуникации кроме словесно идет через код код какие-то описания форматов и так далее так далее И для нас важно то как мы храним наш код и как мы переиспользуем насколько мы можем шарить функционал здесь можно выделить треснуть пункта Первый наверное самый простой интуитивно понятное это какие-то микро репозитории общие библиотеки и этот путь который в первую очередь берут любые новые начинания но потом пытаются от них отказаться куда-то уйти и в том числе у нас была такая проблема что это именно наш путь изначально был потому что все эти библиотеки они А сложно поддерживаемы Б И почти невозможно отследить И тем более контролировать актуальность обновление библиотек в разных сервисах у нас было порядка полутысячными микросервисов и Разумеется здесь какая-то библиотека обновляется можно найти не один десяток разных версий если где-то поломалась обратно совместимость очень сложно потом даже следить где мы сломали Ну я не был бы из Яндекса сегодня рассказывал про монорепы но не только большие компании делают манаре У нас есть Базель который может сварить монорепу без особых затрат и инфраструктуры с точки зрения реализации у манереби сразу же возникают другие проблемы Да Нам становится проще поддерживать и обновлять библиотеки что мы находимся в одном репозитории если мы обновляем какую-то общую часть Мы обновились везде и мы гарантируем что навсегда актуальной версии и тут же мы за это платим потому что мы не можем обновить очень дешево библиотеке из этого версия позже позже принесли нового функционала он довольно болезненный но очень дешевая поддержка когда микросервис разрастаются или сервисы Это хороший путь и очень интересный путь который пропагандирует некоторые в том числе большие компании это кодогенерация это микроэпы коды генерации и Она довольно мне импонирует хотя она еще более сложно становится одновременно простая потому что мы берем какой-то сервис и мы не ищем через тысячу лип какая она нужна и тем более мы не ищем через огромное количество сервисов и кодов монорепе что супер сложно конечно Для начала Мы берем свой сервис пишем У нас есть какой-то небольшой инструментарий который генерирует на весь необходимый код примерно хорошим является который я видел даже самый лучший по генерации это можно посмотреть у Авито о том как они генерируют например зависимость базе данных то есть происходит генерация всё поддержать все перемены окружения создаются клиенты мы просто этим пользуемся тут же появляется та же самая сложность как обновлять эти инструменты как с общим библиотеками То есть если мы изменяем генератор Нам очень сложно проверить это все это очень дорогая поддержка Но она возможно Я думаю что конечно же возможно так сори обратно здесь конечно небольшая спекуляция про то что наш итог примерно получился одинаковый но это действительно так Потому что нет идеального решения но нам нужен на старте либо просто в голове понимать какую какую инструмент основной шаринга кода мы используем в жизни мы используем чуть-чуть и монорепы где-то может быть база или чуть-чуть и общими людей какие-то пишем добавляем генерации конечно же смешано получается ну основной основной паттерн как мы шарим код он со мной обычно остаётся единой Здесь вам нужно только выбрать понять какой 3D нам важен обычно для начала лучше использовать микро репозитории кому-либо и дальше либо манарепус базелем либо какой-то код генерацию мы выбрали как мы используем код его шарим теперь нам самое главное как мы конфигурируем инфраструктуру и под конфигурации фактуру я понимаю тот самый паст что лежала под пасом и балансировку и базы И аналитику И вообще все сбор логов метрик и так далее очень сложные инструментарий Разумеется его не так просто изменять первое что приходит и сейчас например в новом бизнесюнте у нас нет инструментария красиво конфигурация балансировки я это делаю через задачи в нашем платформе которую мы разрабатывали это происходило автоматически но через задачи Это самый интуитивно простой путь одновременно самый дорогой потому что он не расширяемый в принципе Но для старта Это хороший вариант буквально на самом деле первый год существования компании потом вокруг этого появляется множество инструментарий различных форм и так далее так далее и чаще всего что я наблюдал все приходят к какому-то своему описанию Это обычно яму Я правда не очень люблю Я вот эти особы постоянно теряю есть другие хорошие форматы но так или иначе это какой-то текстовое описание в котором мы можем заложить базовые принципы я не говорю про описание губернатости которая бесконечно огромная как раз ты его тоже в том числе пытаются схлопнуть и как-то шаблонизировать упростить это может быть тирафор может быть я может быть там без разницы как формат главное что это наш текст который мы а валидируем в процессе в какую-то дальнейшую инфраструктуру вот здесь вот пример нашего описания это вот прям реальный сервис который там работает и вот все его описание то здесь и балансировка указывается и задача с которой мы работаем цели и так далее так далее минимальное и например наша сила в том что мы много всего собирают очень много всего внутри шаблона закладываем внутри нашей инфраструктуры то есть нам не нужна такая гранулярность и динамичность изменений потому что мы понимаем как мы хотим жить если нужно разумеется это яму разрастается И он тоже становится сложным Но это такой средний путь максимально и неудобно с одной стороны а другой стороны максимально расширяем и поддерживаем и так далее рядов максимальный как мне кажется в плане поддержки и развития еще один есть путь Веб для начальных парах он Кажется супер классным Но это совершенно К сожалению развиваемая история Потому что я не видел ни одного хорошего Веба в рамках конфигурации большой инфраструктуры Потому что эти разрозненные куски они друг на друга накладываются и получается настолько когнитивно перегруженный интерфейс что он больше отталкивает Чем привлекает явно тысячу там и на 2000 строк тоже отталкивает его хотя бы можно понять и как-то там голове понять же очень сложно настолько сильно хорошо развить в принципе требует неординарных навыков то есть настолько сложную информацию запихать там в единые окна поэтому твой бы в рамках конфигурации Я бы либо с этого отказываться либо разносить конфигурацию на разные части но правда тогда у нас получается огромное количество небольших вебов которые сложно связать с собой но еще один вариант замена Ямала это DSL с одной стороны вариант хороший тем что мы можем лучше расширяться потому что у нас есть автокомплиты все прочее с другой стороны я говорил про важные пункты как гибкость и я говорю И вас это не только для инфраструктурно это клей командный и дышит часто не берут на мой взгляд и мы не взяли в том числе потому что он зашит на какой-то язык программирования если мы берем питон dcl Ну всё это питон DS или если человек франтензии Он должен знать Питон как бы не был минимальный простой цель нужно знать и так далее так далее и поэтому мы не используем эту цель я вижу что большинство компаний используют именно по этой причине потому что мы делаем общую платформу А все пишут на разных языках микросервисах и бэкент на многих языках пишется они говорят что фронтенд аналитики на питоне тестировщики на Джаве и так далее так далее есть 5-6 языков и на какой-то один выходить ну это странная торгов и странно несправедливость между разными командами Поэтому в этом пункте я бы наверное остановился Как хорошего формат описания изменив инфраструктуры через задачи если у нас не готовая инфраструктура в плане динамики такой и потихонечку выходить на какой-то небольшой свое описание Где мы можем максимально все шаблонизировать прийти к какому-то единому согласию и развивать это в эту сторону Вот это еще раз это реально прямо описание сервиса который получает Все что ему необходимо балансировки до базы данных и так далее без базы данных не указано OK когда мы смогли определиться с тем как мы храним код его шарим и как мы заменяем свою конфигурацию нам нужно прийти к пониманию как мы предоставляем свой свой ПАЗ как мы его доставляем до пользователей какой-то юань нужен первое что приходит в голову и компания наверное до 15 Обычно это так это сиай в рамках continue грешник двери тестов билда и доставки это идеальный вариант Единственное что из минусов можно учесть что А мы не можем отобразить состояние текущее это все равно приходится куб использовать это мы не можем отобразить состояние того что мы создали вокруг на конфигурировали то есть мы себя создаем даже бороды которыми проекты в центре и так далее так далее Это негде отобразить Просто таких интерфейсе как сяо и он не очень гибкий в плане того что вот эти вот кубы которым это Нарисуем обычно формате они плохо их плохо можно связать друг друга когда они созависимы это очень сложно и приходим каким-то генераторам этих описаний придумал другой интерфейс носят Отличный вариант на самом деле другой вариант клей и мы каждые полгода наверное возвращались они сделали нам клик для своей платформы и каждый раз общались проводили опросы смотрели Там как Мы это можем сделать небольшие пруфовты создавали Но никуда что-то не выливалось ну потому что клей для всей инфраструктуры слишком сложен его а слишком сложно написать хорошо потому что автокомплиты так далее но не сильно Даже спасает б его слишком сложно понять потому что огромное количество информации в терминале но это невозможно просто когда я говорю про огромное количество информации Мы в принципе приходим так пока чат-ботать спустим мы приходим к какому-то веб описанию и веб Это очень хороший инструмент именно предоставление информации о сервисе о том что происходит в нашей платформе здесь реальная картинка это периодическая Задача в которой можно перейти на очередь на Sen 3 на даже бороды на секреты какие-то сгенерины даже борды здесь можно провести минимальные операции по запуску и так далее Мы например рефлексируя сейчас же мы сделали немножко излишнее перегрузили эту платформу в плане действий но веббет отличный инструмент для предоставления общей информации не действие и возвращаясь к чат-боту а на самом деле мы начинаем сейчас Бота и чат-бот это супер инструмент дополнительной помощи который очень просто написать еще есть коробки автоматически получаем нотификации минимальный набор команд автокомплиты команд и так далее он не расширяемые совершенно потому что рано или поздно просто упираемся в интерфейс чат-бота и больше десяти команд для чат-бот этого матч но чат-бот отличная поспорие отличный инструмент для того чтобы устроить команды взаимодействие учитывая что так или иначе а мы говорим про клей между командами происходит какое-то взаимодействие все части можем добавить нашего чат-бота и проводить какие-то команды какое-то взаимодействие и так далее и идеальная картина на текущий момент мне кажется это чат-бот вместе со связкой сиая то есть можем устроить простые команды простое взаимодействия внутри чат-бота из сложной планы доставки билдов и так далее Что обычно как раз перегружено в инфраструктуре чистяй Ну у нас еще это есть в потому что мы генерируем огромное количество окружения и для того чтобы хоть как-то донести пользователю что он имеет это Веб вот использовать Лисья три наверное нет наверное я бы всегда оставался на двух вариантах например сячь от бот или в нашем как нашем случае это веб-чат-бот Когда мы уже у меня конфигурирует нашу инфраструктуру мы знаем как ее хранить и умеем с ней взаимодействовать нам нужно подумать том как нам жить дальше то есть насколько нам следить за своими сервисами в минимально простой конфигурации это всегда логи и тут простой рецепт на самом деле достаточно писать логику В каком-то выбранном формате обязательно выбранный формат потому что иначе появляются сложные проблемы если Вы только начинаете какую-то инфраструктуру накручивать лучше заранее выбрать формат некоторые компаниях супер больших используется протобаф но Лично мы и многие другие используют же сон потому что он очень легко парсить и разбирается достаточно кстати высота формате потому что есть огромное количество драйверов которые с коробками имеют его читать У нас например свой собственный доки драйвер нашей инфраструктуру доставляет и взять стек на вроде Елка который позволяет работать с этими логами парсить и выводить даже бороды Алерт и так далее Правда мы уже сразу же учесть что опять же такая инфраструктура супер дешевая для начала Но она ограничена потому что ну ластик Он супер дорогой и со временем чем больше вас микро сервиса чем больше вас данных Ну для того чтобы правильно готовить И поддерживать его работоспособность нужны какие-то нереальные усилия нереальные ресурсы я вижу что белка Это отличный Старт потом отсылка отказываются и приходит какое-то другое состояние чуть подробнее про логи я рассказывал другого своем докладе где прям подробно разобрал каждый из пунктов это целый доклад здесь не буду на этом останавливаться но разберу его итоги потому что это важно логи следующим этапом который принципе должна даже мы дойти дальше следующим рецептом более сложным рецептом пирога это разворачивание и подготовки инфраструктуры замены этих логов то есть мы выбрасываем ненужные логии ошибки отправляем в центре какую-то метрики Все проще отправляем примитус правильно работаем с варениками работаем с трассировкой и так далее так далее здесь нет на этом графике потом логов Но на самом деле конечно же не так логиста с нами останутся просто они перестанут быть кур сущностью которая определяет Что происходит с нашей системой они подспорье но не самое важное потому что в огромном количестве Лога со временем просто не разобраться и как только становится много и нет таких систем появляется желание из них варить метрики аллерты вареники и так далее начинается сложные парсингом еще и вулка живем и это стоит дико дорого намного проще с точки зрения потребителя развернуть другие системы с точки зрения команды пас Ну конечно здесь можно легко посчитать сколько нам систем нужно развернуть только здесь нарисовано там четыре если представишь здесь есть еще ЛК про митусы нужно вроде графа и вот уже шесть систем заместо одного ЛК это дороже но это единственный путь развития то есть у нас просто нет другого варианта потому что с этими данными Невозможно работать нужно качество поддерживать качество продукта в первую очередь бизнес продукта И суперважно о чем мы забывали многие забывают Потому что когда Общаешься при инфраструктура спрашиваешь у вас есть какие-то метрики вот можно посмотреть вот как все это классно работает какую ценность мы приносим где мы стали лучше где мы стали хуже Это метрики я не говорю про сложные бизнес метрики которые там показывают на очереди директоров и так далее игры про какие-то простые и доступные то есть Вот здесь например скорость доставки и это реальный скриншот из одной из задач когда я разбирался на самом деле с обратной связью что что-то не так идет и действительно на этих метриках видна просадка за два месяца сервисы стали доезжать на этом графике из двух минут до 50 минут за время то есть это получается почти пятикратное ухудшение доставки Здесь явная проблема была и не видя эти метрики не понимая что происходит в системе бесполезно что-то придумывать дальше Потому что ну как слепые котята у нас даже нет приборов и мы не знаем куда мы идем и нужно определиться что важно для нашей системы для нашей системы самом деле важно лично Для нас это время доставки время подготовки нового сервиса это не автоматическая Метрика мы собираем практически вручную и часто через запросы и например Время за которое сервис доставляется то есть вот мы написали код и что нам нужно сделать Сколько нам нужно времени чтобы доехать до провода так вот это наша первая Метрика и сейчас в течение дня достигает мы сзади можем подготовить инфраструктуру в автоматическом режиме и человек просто волшебную яму доезжая до теста тестирует до проводы в конце дня это супер Винт и например такие вещи как время доставки потому что в эпоху когда мы экспериментировали разные облака Мы видели как это Метрика проседает мы сейчас используем номот на своем железе и на железе Яндекс Клаудия мы используем другие облака например на основе губернатоса и мы видели что это проседает прям многократно падает мы понимаем что либо Мы неправильно сварили что-то ибо мы не умеем готовить либо либо в основном лучше и он быстрее спойлером все очень много эти метрики обязательно собирать хотя бы в разовом времени еще в идеале их собирал тайме Мы честно собираем их раз там в месяц Потому что потому что это дорого На самом деле просто их довольно сложно поддерживать Реал тайме но они обязаны быть из интересных таких сложных рецептов которые требуют фуа-гра еще чего-то как всегда будет книги рецептов несколько и такие вещи как мультиклауды супер дорого но В текущей неопределенности такое ощущение что очень важная часть для того чтобы мы могли как минимум мигрировать Да у нас есть терраформ у нас есть облака и как будто мы можем быстро переехать но это же не так на самом деле мы видим это даже на уровне больших компаний Недавно смотрел как Blizzard Переезжал в из Google клауда ажур и Это огромный компании переехать из одного вроде подобного губернатоса облаков другое купили с облака Но это супер долго и длинная история мы на своей практике имели мультиклауд Мы диплоились в два клауда один собственный на основе нового Яндекс клауди другой В губернатоса жили на два этих облака и на своей шкуре почувствовали насколько дорого поддерживать такую сложную инфраструктуру одновременно развернутой потому что как только вы делаете какую-то небольшую фичу в своем продукте которая два дня вы сразу нажатие на 2 потому что у нас два облака и мы отказались мы отказались от клауды и поняли что в своем и своей компании мы не можем себе этого позволить на 200 разработчиков потому что мы не двинемся вперед мы ничего не сделаем нового нам проще при какой-то ситуации мигрировать за какое-то там вменяемое время чем поддерживать такую сложную инфраструктуру и это мем просто именно у нас это сервис Мэш здесь пример истил потому что сервис mash у нас так и не появилась теперь обсуждали вот каждый месяц наша любимая Тема и все время непонятно ценность то есть И вот на этом рецепте очень здорово определить что мы делаем для чего мы делаем У нас есть свой централизованный балансе у нас есть свой написанный Control plain под invoy нас очень сложный балансировка для того чтобы работать сложный кенере который умеет раскатываться на один процент потом на 10 процентов это подсмотрено нетфликса у нас есть балансировка для фичи врачей то есть вроде готовы контр-плейные казалось чтобы сделать инвой прокси достаточно вот сделать сайт Car и все поехали в путь каждый раз не можем понять какую нам эту ценность какую вы нам принесет всей команде компании в целом меньше хоп и носить в одном центре находимся а из минусов мы живем проще пацана инсакциях и он становится менее управляемым потому что около сервиса теперь развернуты новой который там тоже что-то кушает например вроде хайповая вещь но нам она мы не реализовали просто потому что мы не можем найти линии ценности для нашей компании и вот каждому таким рецептом внутри платформа стоит подходить Вот именно таким вот небольшим скептисом насколько нам это нужно Какой нам это профиль приносит не просто хайповая вещь а просто мы решаем вот такой набор проблем такой задачи она принесет это вот это вот это вот это чтобы мы могли аргументированно себе дать понять зачем это делаем что дальше мы реализовали какую-то платформу она же как-то работает Пусть это будет микро репозитории общей библиотеки сделали небольшого бота в основном все на себя и работает какая-то небольшая генерация Все здорово сделали Согласно Все работает Нужно понять как там дальше идти дальше развиваться потому что происходит какой-то момент когда начинаешь делать платформу когда все понятно мы решаем основные боли и что делать даже не возникает вопросов Ну через какой-то момент это могут месяц это может быть полгода когда инфраструктура уже развелась появилась у нас есть определенные большие фичи свет классный нам нужно понять куда идти дальше как развиваться потому что основные более решены много много сотни маленьких более есть но за что схватиться не до конца Понятно Потому что прям супервеллы там какой-то разовая задача мы же не можем принести в голову сразу приходит сложные продуктовые инструменты на вроде AB тестов покрасили кнопку провели аналитику супер звучит классно Разумеется неприменима к внутренним фастуре как и многие продуктовые вещи я уверен что инфраструктуру платформу нужно развивать как продукт но и одновременно тем мы не можем назвать как продукт Пушкина как минимум для б тестов у нас нет значимости то есть для статистики об тестов мы просто во-первых А вы дорого собрать и многие такие вещи не стоит использовать но есть вещи которые точно нужно использовать и которые продуктовая разработкой суперсложные а BTS довольно простые в продуктовые разработки супер сложные инфраструктурной и наоборот кз который довольно сложная продуктовый нужно найти правильно клиентов нужно побороть какой-то порог пообщаться то мы можем провести кассы мир девелопмент буквально кофе поинте просто схватив какого-то разработчика аналитика и тестировщика с ним пообщавшись спросить вот хотим такую штуку что ты думаешь Расскажи и вдруг оказывается что человеку она не нужна или человек Это совершенно по-другому либо у него более другие чем которые мы поняли это очень важно и это самая мощная часть внутренней платформе и кто кто платформе Как клей который объединяет команды это коммуникация потому что мы находимся в небольшой компании с людьми с которыми можем общаться Лично у нас нет этого порога Преодоление незнакомого человека Мне нужно обязательно использовать Всем рекомендую и развивать именно платформу отказ-дево от общения от коммуникации это какой-то синергии из пользователя в обратную сторону стоит сказать про фичи квесты и это обратная сторона то есть в каждой мы приходим квестов к нам приходит с одной стороны звучит супер просто к нам пришли принесли вот мы хотим вот эту вещь с другой стороны это очень сложно обрабатывать потому что нужны механизмы понимания А что это действительно нужно б понимание что нужно большинство людей мы используем механизм голосования То есть если если люди голосуют за какой-то тикет мы понимаем что это важно и часто Мы не видим то что это важно до того как реально не набегает целая масса народу Из минусов это штуки сразу там минус два балла можно принести это что и очень легко дискредитировать потому что как только приносит тикеты за них голосуют создается какое-то поле и мы говорим а это все неважно мы сейчас сделаем вот это вот это мы тут голосуйте как хотите все сразу же она к этому инструменту теряется доверие и на самом деле перестают приносить квесты начинает делать что-то своё своё потому что платформа не удовлетворяет потребности с этим инструментом А обязательно нужно работать B доносить явно Почему мы что-то не делаем или Почему мы это делаем чуть позже и C что-то из этого должно быть постоянно реализовано То есть каждый раз планирование должен быть травол времени как мы планируем технолог чуть-чуть там 15-20%, допустим и процентов 15-20 на такие вещи из топа проголосовавших для того чтобы это очень работало Иначе она перегружается и перестает работать и люди не терять Доверие приступим квесты просто в один прекрасный момент дружите Что к вам ничего не приносят и что-то рядом создается такое самостоятельное новое Похоже на то что вы делаете но не то что вы делаете на самом деле проходили это с Ботом потому что рядом с нашим Ботом появился второй год который делал похожие вещи но чуть-чуть по-другому Так у меня кажется стикер не работает кликер не работает О'кей спасибо я могу нажимать да Или вас спросить Окей я тогда буду просить опросы или НПС Я как рассказывал доклад про продукт и говорил что ну нам НПС вообще не нужен мы классный мы вообще все понимаем о наших клиентов их 200 штук Мы все знаем мы знаем что нам нужно в первую очередь развивать это материальный опрос в первую очередь нужно развивать скорость разработки нового сервиса вот такие-то вещи подрубились чуть получше сделать А после опроса оказалось что мы не видим явной картины хотя мы общаемся потому что оказалось что у нас А плохое переиспользование кода б плохая вот при использовании кода мы красные ходили в момент ситуации микро репозиториях и общей библиотека при использовании кода плохое потому что на каждом на каждую язык для одной и то же вещи по нескольки библиотек было которые часть монтейнеров потерялась часть просто разъехалась по версиям их перестали поддерживать и плохая локальная разработка локальная разработка тоже требует какой-то инфраструктурной вещи нужно подготовить окружение нужно подготовить допустим что ты база данных и так далее это очень здорово отрезвляет и очень легко делается то есть опрос представляет из себя буквально самых важных пунктов в идеале там штук 10 Не было сильно много здесь у нас чуть больше и шкалу оценки до 10 все И после этого вы можете понимать Ну верно в сторону двигаетесь или ваши гипотезы они ошибочные наши гипотезы были ошибочные это было здорово мы поняли что нам нужно чуть развернуться перестроить свой рабмак и улучшить те вещи которые вот есть вот сейчас мы пошли чинить это супер важно так можно следующий слайд опять же подробно про инфраструктурную инфраструктуру как продукты рассказывал другом докладе и он сложноватый с точки зрения того что прям продуктовые подходы рассматриваются но перечислены выше рецепты и достаточно и дальше мы дальше мы не идем то есть на самом деле достаточно из коробки использовать каст-дев и НПС плюс мы идем сами к сдев к нам идут фичер Квеста четыре инструмента больше не нужно не нужны не нужны сложные кастомерлейшин мап и там портреты даже не всегда нужны достаточно такого базового набора можно следующий слайд Спасибо Давайте вернемся к шкале оценки Я думаю что так или иначе при создании какой-то инфраструктуры здесь наша школа оценки ту которую мы для себя выбирали То есть она может быть разная Потому что есть разные ценности возможно Для вас важнее надежность или Security и это будет это будет шкале оценки возможно будет важно насколько дорого по деньгам например То есть вы не хочется поддерживать какие-то там инструменты допустим лицензии талию и мы хотим другую инфраструктуру это тоже в коллекции шкала оценка настроиться того что платформа для себя считает ключевым важным платформа весь набор людей разных специальностей которые там взаимодействуют внутри для разработки продукта это наша шкала и я думаю что она приблизительно у всех одинаково можно следующий слайд на этом месте хочется подумать сказать У нас есть рецепт Какие альтернативы то есть блин Кажись вот мы походили узнали там как большие компаниях небольших компаниях маленьких компаниях крошечные компаниях сидел одно и то же да сидел от одно и то же Одно и то же с одним и теми же целями примерно с ними те же критериями создают свою уникальную платформу какую-то домашний клей который склеивает разные кусочки различные инфраструктуры для того чтобы предоставлять единое видео и альтернатив на самом деле-то и нету потому что у всех разные инфраструктура все выбирают разные языки разы базы данных разные облака и так далее так далее нет какого-то универсального продукта который можно принести себе и у него там условно есть адаптеры под все в мире и вот он какой-то те самые кубики Эпоха кубиков можно переставлять она будет взаимодействовать наверное когда ты появится такой продукт но на текущем текущем этого вопроса не существует и все Действительно делают одно и то же даже внутри большой корпорации казалось переходя из бизнеса бизнес Юнит приходишь ты видишь другую немножко инфраструктуру с теми же самыми целями на самом деле с теми же самыми условиями реализации чего-то Нет реализовано лучше Я думаю что со временем когда внутри маленьких компании все это стабилизируется и все придут кучкой кучкам миллионы маленьких платформ появится какая-то компания которая попытается объединить и не коробочное решение brains я не помню как продукт называется который пытается объединить доставку чатом код и так далее но это опять же коробочное какое-то решение которое не очень имеет коммуницировать другим остальным миром Я думаю страны появится можно следующий слайд Давайте подытожим так или иначе я считаю что мы действительно находимся в эре вот этих домашних платформ переходном таком формате когда мы езды вовс мира когда мы все чуть-чуть разработчики все чуть-чуть инфраструктуры занимаемся в мир платформ Когда мы уже позанимавшись этим набравшись опыта пытаемся его объединить и внутри компании создать что-то уникальное Что поможет нам быстрее доносить бизнес ценность причем эти платформы ниже учитывают как раз Этот уникальный бизнес бизнес-направление и позволяет реализовывать его лучше чем угодно мы взяли с рынка домашняя платформа это технический клей и клей между командами в первую очередь очень сильная сторона пасты конечно же бизнес уникальность в том плане что мы реализуем только наши потребности слабая сторона как я сказал мы все велосипедим потому что не имея готового инструмента ни на рынке не хотя бы опенсорсид мы начинаем реализовывать свое свой инструментарий сначала возможно ваши скриптах Ханса был потом пиши небольшие сервисы и так далее так далее превращается в огромный в огромный просто дикие платформы которые сложнее продукты могут выглядеть которые там позволяет нам всю эту вещь унифицировать агрегировать и доставлять Большое спасибо Меня можно найти по телеграмму либо на почте И я рад буду в кулуарах обсудить возможно ваши платформы Или ваши подходы внутри инфраструктуры и готов ответить на вопросы Спасибо и первый вопрос Да спасибо за доклад очень интересно можешь добавить контекста сколько у вас сейчас пользователей платформы я услышал цифру 200 человек Сколько человек разрабатывает ее и такой вот вопрос у вас сейчас в Яндексе получается несколько бизнес юнитов и получается в каждом бизнес Unity есть свой пас нет ли движения к одному большому пасу на все бизнес-юниты на первый вопрос Отвечая это 200 разработчиков которые пользуются платформа которая разрабатывают на основе платформы которые взаимодействует человек триста включает тестировщиков аналитиков платформа разрабатывает команда 5se 5 фронтен девелоперов и у нас так как у нас есть Web Я никогда не думал скажу но в нашей команде разработки платформ есть дизайнер потому что мы не смогли нормальный интерфейс а про Яндекс то очень интересная тема потому что действительно бизнес Юнит очень разные разные есть бизнес потребности кто-то сел Драйвинг делает кто-то там Smart TV кто-то marketplace и действительно внутри этого из-за потребности развелись разные платформы но как я сказал они все похожи и есть такое направление попытка объединить и построить что-то общее вот такое уникальное она есть Она часто бывает Но это огромная сложная задача Потому что когда там один бизнес допустим занимается маркетплейсом это одно дело построить такую инфраструктуру Но когда много разных бизнесов у которых совершенно разные кейсы использования это это огромное задача но такое такое направление есть Спасибо Следующий вопрос спасибо очень интересно так рад А скажите пожалуйста вот вы показывали графики вылью Да если подробные метрики Да вот как вы измеряете и более подробно как можно в двух словах может быть блок какой-то Как вы определяете дальнейшее направление для развития паса именно с точки зрения бизнеса Спасибо В первую очередь это у нас Разумеется есть понимание куда мы движемся допустим как простой пример мы объединились Наш бизнес объединился с другим бизнесем Да и есть понимание что нам нужно какую-то общую ценность доставлять и это влияет на платформу всего остальное строится по сути по вот этим четырем пунктам которых я рассказал выше Но кроме того что приносить его какое-то направление Разумеется тело напрямую влияет на платформу это каздеф мы понимаем что нам нужно и опросы понимая какая она самая слабая сторона то есть мы находим самую слабую сторону пытаемся оттуда вычленить какую-то задачу и пытаемся примерно оценить её ценность и Сможем ли мы в будущем вот этот график этот вопрос уронить положительную сторону Но это конечно Да после после этого вопроса проход огромное количество времени конечно же мы можем ошибиться плюс-минус это работает Алексей Можно вопрос Добрый день Будьте добры вот здесь часто говорят об истории успеха сталкивались ли вы и Можете ли вы прокомментировать какие-то истории неудач в Когда вы развивались свою платформу какой-то сервис не зашел и по какой причине и кто решает в последний момент времени что этой задачей нужно посвятить Ну там больше может как можно больше времени то есть ну кто про лоббирует реализацию какой-то фичи Спасибо а есть история неуспеха наверно такая самая яркая внутри нашей платформы коротенько рассказать когда мы искали слабые стороны мы увидели один из этих критериев еще в том числе что мы делаем был предыдущий вопрос мы смотрим насколько много мини-велосипедов создается вокруг и в один прекрасный момент мы увидели что все создают свои генераторы графиков даже бородах мы такие она пять штук пять генераторов разных мини сервисы такие сейчас мы все это за решаем Мы решили У нас есть собственный генераторы и они не сработали ими никто не пользуется и он стал да да это вот тот самый случай потому что действительно мы не смогли учесть все нюансы мы не смогли вычнить ценность Почему люди это генерят мы это сделали мы привлеку эту работу Там человека там недели потратили и на выходе получили еще один еще один генератор которым никто не пользовался потому что Потому что слишком много уникальных случаев которые мы не смогли своей платформе учесть сейчас мы на полном серьезе говорим про какое-то либо Ямал оформление либо DC или оформление но графики были таким провалом Вроде бы мы это нормально то есть ошибаться это тоже нормально искать путь это нормально то есть не все Не все хорошо получается всегда второй вопрос так можно повторить а вообще у нас продуктовый сейчас я пришел Но в основном продуктом продуктонером являлся я это платформы и примерно родом строил я но у нас был такой небольшой комьюнити лидов и в том числе мы открыты для общения то есть не было прям продавливанием но мы всегда обсуждали и пытались понимать какую-то ценность Нет продавливания есть понимание ценности что мы можем дать если кто-то продавливает Такие бывают случаи кто-то приходит и вот упорно годами нас продавливают что-то сделать мы смотрим это кстати вот как пример был хороший сервис-меж очень хочется пытаемся объяснить сами себе ценность и нет бизнесу не бизнесу не командам от этого ничего не будет Зачем делать зачем тратить человека месяц и непонятно поэтому несколько такого продавливания но есть Разумеется инструменты когда система может сдать свой Вектор дополнительный если он понимает что нам нужно в рамках всей инфраструктуры сила направления куда-то сменить фокус это хорошее мнение мы его используем Спасибо последний вопрос Спасибо большое за доклад было очень понятно даже тем кто ничего не понимает в платформе вопрос Следующий кажется что те кубики которые самые простые такой рецепт яичницы он как будто может быть общим для всех маленьких компаний маленьких команд Неужели не существует еще ни одного такого хорошего коробочного решения которое объединила бы все это И предоставлял минимальный функционал который по умолчанию на старте Может взять каждый в готовом варианте чтобы не стряпать хотя бы если у Вас совсем начинающий команда или компании свою какую-то уже Франкенштейна скажем так коробочные попытки есть вот я блин забыл как называется тот же brains есть какой-то продукт который вот пытается это сделать но но по факту он сильно вендер хочет и не берут такой продукт потому что инфра разная команда приходит например хочет писать в обычном gith have и все все это ломается проблема инфраструктуре что она собирается из этих много маленьких кубиков И на самом деле как я повторял на рынке нет инструмента которого ты их объединяет поэтому каждый вот варит свой Клей сам возможно появится в будущем я не знаю backstage backstage вот уже появляется все все хорошо Мы движемся в правильную сторону прямо сейчас в зале в Real Time Ну что ж Спасибо за ваши вопросы нам нужно выбрать лучший из них Ох я забыл у меня сейчас последнего вспомнить мне понравился вопрос на про метрике самый лучший вопрос как мы выбираем куда двигаться дальше Потому что он самый сложный внутри платформы автор вопрос Пожалуйста поднимите руку чтобы вас нашел ваш подарок Вот и так Спасибо вам за ваше внимание за ваши вопросы Спасибо спикеру за его прекрасный доклад Давайте поблагодарим его за него Спасибо и к тебе сейчас идет подарок и еще минуту вашего внимания Если вдруг вы думаете о том что Вы точно так же как это прекрасно спикер хотите стоять на этой сцене и рассказывать всяких прикольных и интересных вещах Пожалуйста приходите на стенд ontico где коллеги как раз Сейчас рассказывают как начинать быть спикером Спасибо"
}
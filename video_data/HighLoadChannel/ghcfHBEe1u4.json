{
  "video_id": "ghcfHBEe1u4",
  "channel": "HighLoadChannel",
  "title": "Практическое применение WebWorkers / Алексей Фомкин (Data Monsters)",
  "views": 1099,
  "duration": 2403,
  "published": "2017-04-22T14:48:16-07:00",
  "text": "всем привет меня зовут алексей фомкин я работаю техническим директором компании да там он source и мы использовали worker и вот в принципе да вот как сказал андрей тема как бы протухшие да то есть все уже про не рассказали hyip rain давным давно ушел и как бы все кто надо казалось бы a worker их знает вот но как вот я вот поговорил с ребятами в чатиках разных оказывается многие про worker и даже не слышали вот тут прямо есть целый сегмент людей от обществ знает что такое worker и вот-вот все короче знают а да кстати еще про вопросы кто общем фран тендеры тоже отлично да вообще удивительно откуда их фронте зернах и ловади хорошо замечательно собственно говоря ну я начну с небольшого обзора самой технологии собственно что это такое в бургер это такая штука которая позволяет выполнять код java script параллельно с основным потоком выполнение основной поток выполнение это там где собственно говоря рендерится наша страничка вот откуда мы там делаем всякие запросы все остальное ну как вы знаете она одна по точно это все работает в один поток вот пока страница рендерится мы ждем нашей вин клуб ждет пока выполняется код тяжелое вычисление event лук не берет новое событие вот собственно говоря вот в баркер позволяет запускать это дело параллельно мне там дальше расскажу подробнее про рэп про параллельно синхронность капитанские вещи но тем не менее вот как-то выглядит примерно до значит мы на есть объект worker мы его инстанции роем передавая туда либо код сам виде строки либо мы передаем ей url страница файла где собственно говоря лежит этот код говорил java script а после этого значит этот код запускается и начинает выполняться параллельно вот важно отметить что этот код не разделяет память с основным потоком то есть мы не можем определить например какой то там глобальный war или там что-нибудь в windows записать и потом обратиться к этому к этому значению из worker а то есть это это память недоступна него по у него полностью своя память своя куча свой стек все получу свою свой плен клуб вот и тоже важный момент в worker не разделяет код то есть если мы объявили функцию какую-то в основном в основном скрипте эта функция не будет доступна из вы worker и это нужно понимать вот так собственно говоря каким же образом мы можем с этим маркером коммуницировать с основной странице странички для этого есть механизм обмена сообщениями то есть мы можем послать сообщение worker и получить из него сообщение сообщение это какой-то java script значение это может быть string намбер рей объект вот и некоторые другие специальные типы вот и важный момент да я хотел сказать вначале worker и посты по статический к на юз работают у 82 процентов пользователей буквально до 102 йорк сказал простите а короче когда я только начинал эту тему было 80 неделю назад когда я писал аннотацию к докладу было 91 сейчас 92 то есть свежайшая info еще важные моменты есть несколько еще важных моментов про worker и про технологию прежде чем мы перейдем как бы к основному как бы и сборки raw и пий который мы можем опять браузера который мы можем использовать ограничен то есть мы не можем манипулировать дом мы не можем использовать о calls to reach недоступен locations ну некоторые другие вещи я не буду пересказывать можно почитать вот собственно говоря об этом а то есть указка по этой ссылке там презентацию скачать и почитатели нагуглить еще важные вещи сообщение которое мы посылаем worker который варки посылает нам до в основной поток аннеси реализуются то есть мы это дело превращаем джейсон и обратно превращаем с джейсоном объект ну примерно так скорее всего там к это бинарное представление но тем ни менее момент стерилизации есть то есть сообщение си реализуется вот и есть такая фишка как передача владения мы можем из worker и worker передать объект целиком если этот объект имеет тип парой буфер или имидж bitmap то есть что такое передача владения мы буквально передаем из одной куче в другую то есть в наш в нашей куче объект исчезает все ссылки на него превращаются в нау а worker он ли он появляется в сообщении вот это надо понимать и так а я немножко хотел рассказать капитанских вещей просто чтобы утвердить термины чтобы точно как бы все понимали о чем я говорю дальше собственно говоря есть такая штука асинхронность да что это такое ну принципе есть все тут frontend эры все понимаю что такое асинхронность у нас есть even клуб мы в этот ивент лук пихаем соответственно события выполняемые и каким-то образом батиком ну как бы and machine их исполняет да то есть допустим у нас есть вот такая вот замечательная функция foo которая применяет лейбл и по таймауту запускает соответственно вот три вот таких вызова компьютере print and print это какая-то какое-то тяжелое вычисление представим что она выполняется там 10 миллисекунд вот и принта на собственно говоря учета вычистила а потом написала что это вычислил а потом написала там лейбл и вот написала вот эти вот аргументы которые у нее есть то есть не будем определять от компьютер print просто а помним как она работает и собственно говоря если мы сделаем fuso лейблом а с лейблом б мы получим примерно вот такой вывод то есть сначала вы вин клуб попадет одна функция соответственно параметризовано я а и будет и стрекало компьютер print выведут нам вот такой вот один а два три а потом соответственно и seven club и будет даст доступ к лбе который был записан функции фуад б вот и соответственно он выведет раз два три то есть нужно понимать да что мы время клуб записываем а сначала call back параметризовано а потом call back параметризовано и b и ну зам замкнутый параметризовано а выполняются они последовательно это асинхронность значит и есть параллелизм значит переопределим эту функцию full она будет доступна нам в маркерах воет ничего не будем там по таймауту делать просто будем делать компьютер print и запустим эту функцию 2 маркерах обратите внимание что вывод изменился то есть вычисление будет выполняться параллельно кто быстрее успел тот и соответственно вывел вывел первым вот то есть это дело будет исполняться в двух разных системных потоках вод это параллельно стоит от это отличие от асинхронности капитанские вещи что да да конечно в зависимости от реализации там пару лет назад вообще консоли лоб не работала в маркерах периодически ну сейчас он работает насколько я помню по крайней мере в сафари в хроме по моему работает собственно говоря зачем нам нужны были эти термины и термины чтобы понимать что сообщение мы отправляем асинхронно то есть отправка сообщения на не блокирует наш seven club вот а код выполняется внутри worker а параллельно в разных квартирах параллельно основной странички и параллельно друг другу вот это понимать вот и собственно говоря это налагает некие некие требования к дизайну наших маркеров и дизайну вызовов в наших worker of да то есть представим себе что наш маркер умеет делать что то вот это вот дело не что-то это какая-то долгая операция например я не знаю мы с гелем изображения в этом туссан вот соответственно мы это дело обретаем как он месяц это worker пришло сообщение причем нужно понимать что внутри самого worker а как бы мы у нас нет пролились moda то есть она пока du sang не делается если придут новые сообщения не поставляются в очередь и соответственно выполняться не буду до тех пор пока мы не освободим пока мы не освободим thread пока мы не придем к новому канону нового к новому сообщению вин глубь и вот что мы здесь делаем мы принимаем первым аргументом данных из нашего сообщения то есть представим что на сообщение там массив мы принимаем айдишник вызова и собственно говоря уже данный аргумент который мы будем передавать в du sang вот зачем это нужно да ну и видим да что мы там что-то сделали это вот тут синхронной операции потом что что мы сделали отправили вместе с этим же место чем иди куда то обратно в родительский в родительский поток вот а вот собственно говоря код который у нас есть на основной страничке да то есть это ну worker нельзя вызвать просто так мы просто отправим туда сообщения это сообщение будет проглочена это что от него там пришло не факт что это ответ на то что мы послали поэтому нам скорее всего придется изобрести нечто вот такое вот если кто-то писал какие-то ремонт просит школ механизмы самостоятельно они как бы заметит что это очень как бы похоже на асинхронные ремонт просит школ то есть что мы здесь делаем мы генерируем новая техника соответственно отправляем подписываемся на сообщение worker а отправляем массив сойдешь ником и соответственно аргументом в и после этого дожидаемся когда нам придет ответ именно с этим идиш ником вот это можно естественно сделать красивее гораздо вот но как бы смысл примерно такой собственно говоря я думаю я рассказал примерно про worker я думаю в принципе как бы теперь мы можем перейти кейсом и к проблемам то есть теперь все имеют представление технологии и что как бы как она работает был такой случай мы делали проект в нем была интересная задача мы не имели права хранить пользовательские данные в открытом виде то есть в нашей базе данных не должно было быть записей в открытом виде то есть если в нашу базу украдут а то пользователи не должны ничего потерять то есть до база данных была зашифрована и ключи от базы данных от нашей они были у пользователя вот и соответственно интересное что это должно было быть в пфр приложения вот то есть пользователи реально обменивались некими документами между собой да то есть мы хранили зашифрованные зашифрованный приватный ключ пользователя и открытый ключ пользователях открытым ключом и шифровали соответственно зашифрованном зашифрованный приватный ключ пользователя мы отдавали но это мастер-ключ отдавали поле отдавали обратным отдавали в наших java script приложением чтобы его можно было расшифровать мастер ключом который готовился из кодовой фразы соответственно такие про какими проблемами столкнулись да у нас есть документ на несколько мегабайт который зашифрован нам его нужно разрешить расшифровать и расшифровка низких мегабайтов она занимает какое-то время особенно на там не мощной машине вот то есть это может может быть там десятки сотни миллисекунд вот и вот эти вот десятки сотни миллисекунд они выглядели очень очень некрасиво пользователь нажимает кнопку и страница повисает иногда на несколько секунд повисает вот поэтому мы воспользовались маркерами мы перенесли все что относится к шифрованию вычислениях и шеи и так далее мы перенесли в квартиры и соответственно получили experience а когда у нас страничка не повисает мы можем показать прогресс бар мы говорим вот шифру им там блоки трата т т т т т все значит передали вот то есть мы смогли дать пользователю не тормозя щую страничку с помощью варкрафта есть одна из одна из шикарных вот применений для worker of это криптография если у вас есть криптография worker и это масло 2 второй кейс это конвертация файлов тоже реальный кейс это было мобильное приложение написано на фланге а кто может быть кто пробовал попробовал не так уж много странно тогда я вкратце расскажу это такая штуковина которая позволяет завертывает ваш сингл пейдж applications внутри такое обертки которая на айфоне в общем ваш сын глупейших будет выглядеть как нет кроме этого это обертка дает возможность вызывать некие нативные 5 например доступ к файловой системе или там камере не знаю и так далее к разным нативно моей которая есть собственно говоря в мобильной платформе вот собственное мобильное приложение в котором пользователь мог хранить там документы скачивать их сервера тоже тоже документ вот это были примут реальный документ документ и видео вот там pdf ок вот и 1 одно из требований тендера но вы поняли а вот одно из требований тендера было собственно говоря возможность скачивания скачивание этих документах в разных форматов то есть например и z ну то есть имея под эту девку ну то есть как бы пользователь загрузил документ и он может твой скачать у себя то есть получить из приложения виде там вот ddf и собственно говоря в виде dog-x водка проблема конкретно конкретно конкретно там было все плохо там документы то есть у того клиент или который мы это делали документы выглядели как гигантские отсканированные тиф и просто как бы обернутый в pdf то есть документы реально весили там по 1820 мегаф о пользователе зачастую летали на самолетах на таких больших частных и пользовались как бы интернетом в роуминге и то количество данных которые мы скачивали она даже по и кошельку белла поэтому короче была поставлена задача скачивать один документ и конвертировать этот документ в разные форматы соответственно когда документы весят по много-много мегабайт страница повисает то есть нашим phonecat приложения повисала вот и мы упаковали конвертацию файлов worker и и все стало хорошо вот и третья тема когда мы окончательно упоролись вот и решили маркеры на полную мощность мы короче перенесли туда вообще все просто все то есть всю логику мы написали в маркерах мы сделали десаи с помощью которого мы можем делать в ухе как раз были заря заря реактор вот я соответственно делался react подобный div между а тренды иными компонентами и набор инструкций которую итоге получалось там измени там измени вот здесь вот это сюда вставь новую ноту поставь здесь атрибута он передавался уже в основной поток то есть выглядело примерно так у нас есть основной поток который умеет исключительно применять изменения к дом дерево то есть он сам ничего не знает о логике приложения он умеет только проклятые усы он умеет только реагировать на какие-то команды добавь новую ноту добавь атрибута изменить свойства удали атрибут удалено ду собственно говоря то есть умеет реагирует на сообщение от worker и таким образом я еще он ли станет документ body на предмет разных событий типа click mouse move move down mouseup и отправляет обратно worker worker и соответственно случается нечто вроде того что нечто вроде того что ивент пришедшие отсюда преобразуется в экшен примерно в экшен в терминах редакция вот соответственно получается новый стоит моего ран dream is de farme жду старым-старым рендером и новом получаются команды и мы их отправляем обратный страниц в качестве что в результате страница вообще никогда не подвисает то есть чтобы мы не делали какую бы логику не выполняли страница не вести потому что в основном потоке делаются только только операции с дом и только рендеринг то есть это ну как бы когда приложение большое накапливается очень много задач которые съедают по миллисекунды по миллисекунды по миллисекунды каждый тег и в итоге мы начинаем видеть тормоза на странице вот этого соответственно нет и еще один бонус так как это тоже был мобильное приложение мы утилизировали ресурсы процессора то есть когда мы делаем обычную страницу да она исполняется на одном процессоре ну примерно первом приближении по крайней мере java script виртуальная машина выполняется в одном потоке вот и собственно говоря уже composing как не помню называется фаза когда уже собственно говоря странице готовится она тоже выполняется в том же потоке вот мы смогли утилизировать другое процессор на ядро несколько процессов их ядер вот за счет того что worker это в принципе системный thread вот есть наработки в открытом виде они написаны на скалы джесс то есть не на чистом для воскресенье написано аскола который потом транслируется за джесс можно посмотреть это не то что использовали мы но то что я делал по мотивам свободное время есть статейка где я рассказываю давным-давно еще про это подробно 2030 году есть маркерах много проблем которые в принципе мешают их использовать каждый день которые превращают разработку большую большую боль первую очередь от дублирования кода как я сказал раньше worker и не шарят между собой из основным потоком код они каждый маркер имеет свой как бы скрипт загруженный вот чтобы подключить какой-то скрипт мы не можем там пользоваться тамрико этом не знаю еще что у нас есть отдельная специальная система модулей специально сделанные для worker of которые ссылается импорт скрипт то есть мы должны указать путь тот же с файла и тогда он попадет синхронная в код worker а вот соответственно если мы там привыкли что мы ними не фиксировали большой там java script конкатенировать имени фиксировали мы здесь это делать не можем есть у нас разные worker и тянут разные модули мы будем там почти 10 грузить по отдельности каждый файлик соответственно это очень плохо значит worker и они на самом деле потребляют ресурсы то есть запуск квартира это выделение памяти на новый системный тренд это новый контекст новый стек новый винт луп соответственно это тратится время на запуск когда квартира работают между собой тратится временно переключения контекста потому что это системный thread вот ну и соответственно он жрет память и потому что там свой хит вот то есть это в первом приближении опять же the instance новый instance там 2 8 например то есть что нужно понимать если у вас есть к нибудь задачи например шифрование не надо создавать там на каждая на каждый новый там на каждый нового числе нее хэш-функции или на каждый на наш на каждой новой а там расшифровку tumble оба не надо создавать тысячу worker of которые будут будет там каждый раз каждый раз будет он каждую функцию делать новый worker не надо лучше создать несколько маркеров которые будут там заниматься там шифрованием и соответственно их периодически используя то есть они внутри они хранят состояния не просто выполняют задачи отдают результат вот то есть на каждую утилиту там например по worker или по несколько если она особо активно используется вот это позволит собственно говоря немножко разгрузить операционную систему то есть worker не бесплатные как в ирландии например файл ирландец процессы они дешевые их можно создавать там тысячами миллионами вот вот здесь это не так это обычный системный thread надо быть аккуратнее следующая проблема если мы передаем в worker из worker и гигантские джейсон ки гигантские объекты может статься так что накладные расходы на си реализацию будут превышать будут превышать как бы эффективность эффективность нашего кода который мы который мы пишем в маркере то есть может тормозить просто передачи сообщений соответственно если у нас есть какие-то гигантские файлы много- мегабайт не да там например по 20 мегабайт файлах я описывал вот если мы не используем трансфер был то эти файлы будут там копироваться будут залакированный кусок памяти в worker и и будет залакированный кусок памяти основном потоке и он будет копироваться то есть соответственно если у нас там какой-нибудь 3 ну хотя сейчас уже айпэдов 3 не бывает наверно но тогда были вот есть на скроемся 53 в котором там еле-еле ничего там то ли 512 памяти то это может существенно вообще как бы обломать удовольствие то есть надо убедиться что вычисления действительно тяжелая и нужно минимизировать трафик между маркером основным потоком трансфер бал это убийство junior of просто junior и разбивают все голову об transferred был потому что вот когда мы делаем пост месяц и передаем трансфер я был что нужно трансферы be transferred дату эта дата пропадает как я уже сказал то есть ссылка на дельта становится ну вот и и это реально взрывает мозг это очень непривычно и все кто сталкивались ну то есть если там с этим сталкивается взрослый разработчик он такой ухты но не сразу отупляет в соответствии с этим сталкивается молодой разработчик то это недели недели короче то самое нытья на стендап ах у меньшего не работает вот то есть его это было несколько раз так что вот просто предупреждаю вот и в общем самая такая не очевидная проблема это отсутствие тормозов то есть так как страничкой не тормозит это ломает весь привычный экспириенс который вообще был в вебе всегда то есть пользователь привык что если он нажал кнопку и там что то происходит то все подвести он к этому привык что страницы не скроется если вдруг странице скроется значит все хорошо мы работа сделана либо что-то совсем не работает либо все либо все либо все уже окей уже все сделано он дальше начинает тыкать вот и собственно варя программист привык что если он начал выполнять что-то тяжелое запустил там какое-то вычисление там на 10 20 30 100 миллисекунд то страница заблокировать и пользователь не сможет там кликнуть и он не привык думать о том что ему нужно обеспечивать expense то же самое тут должно было быть ч 3 3 бабл как называется 3 point в это где дизайнеры и у эстер это же привыкли к тому что все тормозит вот в общем короче это норма все привыкли что тормозит и кароче да надо пнуть дизайнеры чтобы он нарисовал поведение странице когда мы начали делать что-то параллельно вот нужно это всегда держать в голове то есть нам нужно донести до пользователей что работа идет принципе все что хотела рассказал можно перейти к вопросам а как микрофон мы передаем да спасибо за доклад вопрос такой а вот вы сказали что есть два способа передать код walkure а то есть в качестве ссылки на файл и качестве самого кода до строку можно можно ли передать код виде до туре да да именно так оно и происходит передача строке на именно так происходит насколько я помню как-то использовали это для импорта зависимости конкретном еда конкретно мы вообще генерить и этот код там из то есть из нескольких кусков это был динамически не там там с этим тоже начинаются проблемы потому что про ну исчезают этим как зовут господи source п.п. вот то есть после того как мы импортировали туда-то туре это все считает что типаж нельзя то есть я понимаю что вы загружали какой-то некий банк дал и потом по необходимости из этого бангла передавали walkure и нужные зависимости ну примерно так и там много был искала джей специфики поэтому то есть примерно бесполезно часто рассказывать ну примерно до примерно так но там есть уговорила это не очень хорошо потому что он же будет это все компилировать каждый раз поэтому лучше использую все таким про скрипт там есть какой-то хоть каширование того что он собственно говоря раз парсел и откомпилировали и чита каширование нас есть много мелких скриптов тянется сервера если если если это можно пожалуйста но просто да сейчас секундочку давайте разберемся да я я так понял что у вас просто мобильное приложение поэтому не сталкивались с проблемой то что нужно тянуть много мелких файлов нет я понимаю эту проблему поэтому я прибыл даже слайд собственно говоря где я говорил что это боль вот потому что соответственный пор скрипт своей системы модулей то есть да я понимаю что это такое что из ну чем проблема да можно бандле просто проблема в том что у нас worker он как бы решает какую-то обычно маленькую задачу не делают ну странно делать worker который умеет все подряд потому что это будет такая же блокирующая фигня которая вот в очереди будет держать задачи если вы киров много тогда получается нужно все равно для каждого для каждого банка тогда у нас будет дублирование то есть ну это как бы такой трейдов то есть либо мы дублируем код и дублируем время на его там компиляцию это самое jit компиляцию и назад ну и на трафик который перед перетягивается либо мы собственно говоря жертвуем количеством ну как бы количеством each тебе запросов вот как то так то есть нужно просто решить что важнее дамы а всю логику поместили в worker то есть как бы обработку обработку кнопок на например шифрования было в отдельном worker и конвертация файлов в отдельном бургере давайте просто с микрофоном потому что наверное на записи будет не слышно да пожалуйста спасибо вопрос трансфер был это насколько я знаю она же не во всех браузерах работает или у вас нет такой проблема потому что вы упаковывали у нас такой проблемы не было то есть она работает по крайней мере в сафари она работала в этих самых так как это обертка для хрома называется которым любой android вставляет 100 пинга from нет не нет фангов это называлось нет нет не у них там есть как нет нет есть короче такая штуковина которая не системный браузер используют не систем как да да crosswalk точный crosswalk вот я просто не сразу роста что спасибо да crosswalk и там и там работает вот я не знаю как по поддержке браузеров то есть вот это был в том можно ли это использовать если это не для одного конкретного браузера упакуешь в принципе на для обычного в приложение которое на многих браузерах открывается транзистор конечно ну как бы просто в одном она ну надо просто ждать что она будет себя вести как-то по-иному вот и все но как обычно как все проблемы с несовместимостью в браузерах нужно просто ждать что она будет так работать можно вообще как бы за фол бы что-то сделать поли фил который будет синхронно выполняться у нас даже такой режим был вот если worker совсем не работает там пойму это была там и из айос 7 и вот то он выполнялся синхронная ну то есть все worker и начинали работать синхронно нас был такая штука понятно вообще без поддержки worker а тот же код работу спасибо второй вопрос по поводу все-таки отладки насколько это удобно их небожители какие там проблемы были принципе опять же она уже давно работает да то есть и chrome и сафари они нормальны как бы отладчик нормально работает в маркерах если там есть ссор с папой все остальные либо есть у вас чистый java-script вот то все окей потому что суставов нет есть у вас уже какой-то нечести java script и какое-то с расширениями red какой-нибудь другой общий язык который транслируется java script то могут быть проблемы опять же из-за туре as спасибо за доклад можно вопрос по поводу загрузки кода разве там не скажу берется в этом случае вы же тот же самый скрипт загружаете в основном корень этого афишируется бра если если если это один и тот же скрипт именно вот же сник отдельные да да вот если мы просто это дело банк лим к каким-то образом да то есть для разных worker of разные бабло набираем здесь одни зависимость другие он не поймет что соответственно функция foo вот в этом маркере функция foo вас в этом worker это одна и та же функция каштру не не они пробовали еще что-то по 2 использовать уже работает на через но в то время нет в то время нет да я не знаю работает везде такой спорное утверждение во всех современных браузерах уже работает мы внедряли нормально да но вопрос в web серверах еще ну если он умеет это дело самого начала а ну да как так хорошо если ты сам управляешь тем на какой вы все какой сервер у тебя будет еще бывает такое что ты не управляешь тем какой веб-сервер у тебя будет вся может там не знаю быть какая быть веб сфера доисторическая которая работает на 5 джаве и там ничего не слышали провести pi-2 кто здесь руку тянул сзади уже все даже да спасибо за доклад первый вопрос а вот трансфер эбола как определяется то есть как вы задавать это второй аргумент функции пост месяц то есть мы передаем список того что будет трансфера был вот и все что нет ну я я не сдавай моложе подгоним я могу ошибаться там был примерно слайдах как раз я могу ошибаться по моему вторым вторым второй аргумент армянок расписок как раз таки список трансфер был спасибо следующий вопрос а вот вы рассказываете что вы там успешно утилизируйте свободные процессоры но ведь и так же свои проблемы в теле мобильных устройств одной из мужских узких мест является расходы они батареи случае используется вид красиво без тормозов на у него но у них батарейка садится в два раза но какая же какая разница у тебя одно ядро разогреется или два и то есть одно ядро разогреется на градус или два ядра на полградуса ну как бы какая рань что сколько насколько уличного гороскоп батареи переходе на использовал worker сопутствующие расходы передачи данных между основным приложением варки рамках ученика текст сколько ты тут тут вообще вопрос о целесообразности использования фанфан гэп как бы в приложениях которые живут мог бы много процессора вот то есть сам по себе как бы java-script виртуальная машина живет немало и батарейка садится быстро то есть тут надо скорее об этом говорить о клубе две виртуальные машины правильно же что тут будет виртуальная машина для сборки для друга я послал о процессе ну ничего страшного то есть тут а пока проблема не в количестве виртуальных машин в эта проблема в тех вычислениях которые мы делаем то есть ну оверхед на переключение контекста но если у нас немного worker of если там равное равное количество ордеров количество едрово количество ядер в процессоре то в принципе там все это будет практически незаметным спасибо если у вас есть какой-то скоб задач какая разница один процессор выполняет если два будет выполнять значит задача в два раза быстрее разрешится правильно и количество энергии примерно будет то примерно одинаково не больше конечно будет но и не в два раза спасибо за доклад а вчера когда был доклад про angular 2 была информация зала что некоторых случаях например кола заряд остался маленький на мобильнике то телефон может некоторые в игровом процессе просто отрубать вот вы сталкивались с такой проблемой нет нет мы не сталкивались мы как бы сталкивались с тем что как бы нас просто ну закрывается приложение заново стартует и много чего запускается и пользователь долго ждет мне кажется тоже проблема экспириенса то есть то что телефон и вы убивают background процессы но они оба убивают приложение целиком тампоном мощность уменьшается правильно но это по моему и как основного процесса касается варки нет мы не сталкивались такой проблемой такой нет еще вопрос зачем надо понимать просто я упоминал то что мы это делали как бы вот когда был в конце hyip террейна паркером то есть это был там конец тринадцатого года то есть мы это начали использовать и сейчас в общем то топ этот проект тут проект мы завершили вот и собственно говоря сейчас например мы маркеры активно не используем а вот если у вас worker задать крашнулся в процессе выполнения то как как-то основной поток об этом узнает да да там есть событие об этом сейчас такое происходит нет нечасто да конечно все запросы websocket можно открывать звуки рая свободно то есть такие вот вещь то есть в принципе можно как бы а такую систему себя в голове построить недоступен то taipei который меняет там меняет страницу саму да то есть которая то то что наружу сборки ра доступно то что во внутрь недоступную причем есть такие нелогичности типа a local storage недоступен а вот этот индекс geldi by доступен как то так да возможно возможно из-за того что реализация local storage и она одна поточная яндексе debian заранее многопоточной реализации ты поделишься опытом как ронять worker нет нет выделил было бы узнать как уронить ну как как как как три полность по памяти естественно то есть тем же образом что и страниц да конечно но это обычная как бы веем джива скриптовые такой же то есть со всеми ограничениями который дает каждый конкретный браузер то есть принципе лимиты они не отличаются от того что мы в обычной странице можем видеть а вот черт его знает никто ничего вы не сталкивались что какую-то разницу почетнее вот то есть никто никто не пишет про эти лимиты если кто-то и пишет the old глубоко там мило листах разработчиков то есть вот прямо меняется тросик версия тогда то есть это надо надо столкнуться с этим и как бы победить все спасибо большое да спасибо вам спасибо что слушали"
}
{
  "video_id": "29KfWQHggyw",
  "channel": "HighLoadChannel",
  "title": "Джентльменский набор сисадмина / Антон Турецкий (Badoo)",
  "views": 11335,
  "duration": 2892,
  "published": "2018-07-19T05:00:17-07:00",
  "text": "вот и подходит к концу наша серия докладов встречаете антон турецкого компаний ободок всем привет большое спасибо что собрались таком довольно приличном количестве людей завершающим докладе это впервые когда мне приходится закрывать своим докладом такую достаточно большую конференцию и начнем с того что я не планировал делать слайд ободу и рассказывать о том что такое баду зачем этом большие столько серверов так как докладов наших на этой конфет было семь мой 8 я думал что все уже буду с этим знакомый что каждый из наших спикеров от badura скажет каждый своем докладе но так вышло что мало у кого я услышал о том что же такое буду поэтому этот слайд и пропускать не буду и начнем с него цифры которые многие видели они у нас обычно увеличивается с каждой следующей конференции тому каждому докладчика и прочее на это не самое главное самое главное что бодуна самом деле это для человека который там работает это образ мышления это команда и наверное в первую очередь очередь эта семья потому что второй день конференции дожить вот таким составом участников которые здесь сидят в первом ряду и ждут меня что в не уехать на автобусе раньше это очень круто поэтому подует это вот про то это про людей это круто теперь давайте перейдем на верных началу доклада и уже все поприветствовали спасибо всем сказал и я начну доклад свой с провокацией которые возможно кто-то не поддержит я возьму ему скажу что админ это главный человек в компании вот прям главным вот-вот меня поддерживают я вижу руки то есть есть те кто так считает почему я так считаю смотрите мы берем ситуацию которая нам про всех мы берем мы говорим что админ это тот человек который у вас ничего не заработает без него оборотней приезжают к нему систему ставят он выделяет откуда ты там новое оборудование опять же он то есть как он главным если кто-то с этим не согласен я приведу пример из личной практики как это было в году и вот ну так сложилось судить об этой ситуации потом как хотите сами был у нас такой новый проект назывался он рисинка когда мы взяли и переделали с разноцветных буковок нашего логотипа все вот на вот это сердечко это шрифт все фиолетовые стала однообразно и все круто но админов предупредить о том что случится rising мы просто возьмем переключим предупредили в последней если не ошибаюсь вечер практически перед уходом домой и бахнуло нагрузка в одном из кластеров нисколько не прогнозируемой соответственно спасибо тому человеку который сидел там дежурил и помог остальной части команды просто найти где то в другом месте сервера как тогда кинуть и проект на самом деле выстрелил мы не упали мы и нормальной выкатились и все были счастливы поэтому в подтверждение своих слов я хочу сказать что счастливый продуктивный обмен в компании это в том числе выгодная интересной компании и я бы хотел попросить все компании делают своих админов счастливыми и собственно тогда у вас все будет хорошо ну давайте задумаемся о том что заставляет админы быть вот таким многим в голову придет что там админ грустит от упавшего серверы что он дай угодить своей бы капает на самом деле банально не интересно это все так но если вы обмен каждый раз задумывался и уходил в печаль что он сделал что то не так а делают нет каждый день не так что ну нервов бы не хватило поэтому я обозначаю проблему который заключается в неком человеческом факторе и заключается она в переключение контекста есть достаточно большое количество исследований которые исследовали то как человека отрывают что за этим следует почему это плохо одно из последних хороших исследований от криса парни на он сотрудник технологической университета джорджии который собрал кучу различных исследований на эту тему и выводов достаточно много но один из главных выводов звучит следующим образом что человек которого оторвали от работы над задачей для того чтобы вернуться к работе над своей задачей требуется 10-15 минут это среднестатистическая цифр у кого-то она может быть больше у кого то меньше зависимости от переключений соответственно простым там сложением мы приходим к выводу о том что если вас 45 раз в течение 1 часа на что-то отвлекли то свою задачу вы не сделаете и более того один час рабочего времени вы скорее всего потеряете здесь есть следующий момент что вот я вот это сказал какие-то исследования человек исследовал пришел к выводу на самом деле возможно многие из вас или некоторые из вас сталкивались такой ситуации что приходит что на работу провёл весь рабочий день весь такой в запаре ты весь день что-то делал пообедать не успел то нам и сам жили не ответил на почту а не ответил и ты весь такой замучено тебе кажется что сделал очень много всего а потом ты к вечеру садишься это лучший вариант карты к вечеру садишься ты понимаешь что ты не сделал и половины того что ты наметил на свой план рабочего дня хуже когда возникает ситуация что ты такой же в этой запаре где подходит менеджер или коллега спрашиваете почет и юность сделал но ты такой но я вот бегал бегал бегал бегал а на выходе на выходе нет ничего то есть во многом это происходит как раз таки вот переключение вашего контекста и невозможности сконцентрироваться на задаче здесь есть обратная сторона которой а вот для админа для простого исполнителя человека это так но есть еще менеджеры виталик сегодня читал от году отличный менеджерский доклад о том как вот он был всем видам стал директором и воспитывает 7 видов и фишка тимлид заключается в том что они не знаю маньяки какие то что они вот этот контекст switching они у короче не то что умеют переживать они у себе иногда еще увеличивает что потом его сократить то есть разгоняют много встреч с этим переключением в первый час там или второй час а потом отдыхают вечером работой над одной задачей и по их скиллом например они сокращают переключение контекста для переключения на задачу до пяти минут это очень круто поэтому наверное заодно это менеджер можно там ценить и уважать что они умеют это делать в свою очередь для админа и для исполнителя лучше от этого дела избавляться и второй важный второй важной проблемой является непрозрачность процессов непрозрачностью процессов я бы просто взял разделил это дело на вот такие вот 2 по части процессы могут быть непрозрачными внутри команды и вне команды внутри команды соответственно это то на что мы можем повлиять это какие-то недоговорки или отсутствие согласование между какими-то действиями внутри участников команды и одно из самого плохого к чему вас может привести непрозрачность процесс внутри команды заключается дублирование работы как бы в общем и целом это в принципе не плохо не считая того что вы теряете скорее всего рабочее время одного из сотрудников когда 2 человек начинает работать над задачей здесь можно найти плюсы сказать что возможно вас я сделал лучше чем пить его давайте возьмем его решение но они могли бы поговорить между собой и делал бы кто-нибудь один и это важно если процесс и непрозрачные но они находятся за пределами команды то есть какие то там в целом в конторе что-то происходит это внутри команды это может привести к неправильной приоритизации по задачей то есть вот пришел ко мне разработчиков мобильного веба и сказал ему что то вот ему важно поднять некий сервис который будет ему для нового api что-то там отдавать сегодня у меня все других задач много ли мне вообще не кажется что его задача приоритетной ну как бы он ждал свой релиз неделю подождет еще два дня сделаем потом для бизнеса это не всегда так и вот если оттуда к нам придет сверху команда о том что значит ребят вот вам поставили задачу и эта задача является частью очень большой задачи следующий поэтому приоритеты и пожалуйста повысьте и важно чтобы это даже не - вода носила чтобы перед каждым членом команды эта штука она что все это понимали просто понимали без каких-то лишних слов собственно на решение вот этих вот двух основных проблем внутри команды именно с точки зрения вот исполнителей админа я хотел бы построить свое повествование сегодня и рассказать вам о том как мы нашли несколько правил для того чтобы максимизировать максимально минимизировать контекс switching и соответственно сделать процесс и максимально прозрачными и так начнём с того откуда у админа вообще берется переключение контекста пришел админ на работу выпил чашку кофе прочитал почту летом backup на работает еще не упал сиди работает он не знаю все те мешает рассматриваем человек он пришел свежий все хорошо дальше вот он открывает свои рабочие инструменты вчера от написали в почту написать этот телефон позвонил спрошу что ночью упал а дальше там жена девушка выложила клёвую фотку в инстаграмм надо пойти по лайкой там фейсбуке чет в новой короче происходит движуха тут друзья приходят вчерашний футбольную встречу обсуждают там тебя зовут вечером пива попить или там сейчас пойти чаю попить и вот все это к тебе вот так приходит и туда немножко сюда немножко и прочее что делать с данной проблемой то есть у нас есть человек есть его какая-то общая социальная жизнь есть его в рабочий аспект в данном случае мы можем рассматривать и оптимизировать только та часть которая касается его рабочих инструментов мы не можем не запретить там ходить пить пиво после работы мы не можем запретить пользу social очками потому что мы же не в тюрьме в конце концов поэтому мы берем смотрим на того какие рабочие инструменты у него есть откуда его часто дергают и что мы можем сделать с тем чтобы это дело уменьшить первая идея идея достаточно мы ее пробовали на странное это взять и разрешить админу просто не пользоваться читом потому что в чат пишут дофига то есть ты вот работаешь на задача тебе один написал мне важны это другой написал мне важно то мы взяли и сказали что вот мы значит берем разрешаем отмену не использую чатни отвечать туда ничего не писать туда и так далее идея но идея ясное дело не взлетела потому что помимо того что чад надо писать что то ну точнее читать что тебе пишут оттуда ты и как бы часто коммуницируешь людьми это самый быстрый способ и тебе необходимо туда писать буквально через неделю стало понятно что эта идея довольно утопичная пробует мы и не будем и как бы мы пошли дальше где не слетела пробуем следующий мы берем и делаем отчасти странно решение мы берем выделяем 1 члена команды говорил ему о том что чувак ты будешь таким условным лидером это не повышение потом карьерной лестнице ничего просто вот у тебя есть довольно большой набор знание о том кто из твоих коллег в какой области хорош ты знаешь общий поток задач ты знаешь более-менее про приоритеты поэтому давай ты будешь работать по следующему сценарию ты видишь полу задач которая сваливается на всех админов команде и ты видишь кто чем занят ты знаешь какие у тебя сроки по задаче и ты всегда можешь отдать задачу человеку который либо максимально быстро справиться задачей либо у тебя там junior которому необходимо рассказать базовые вещи у тебя есть у тебя много времени по этой задачи есть то есть ты можешь недели и делать не знаю что чувак про качается ему там все помогут всё будет ништяк все было прекрасно хорошо в принципе идея вполне здраво но одна из причин почему это идей до конца не зашла заключается в том что у нас админа все-таки мы все любим работать над тем что нам нравится преимущество то есть мы можем делать тоски когда вот там все горит надо делать мы не разбираемся мы берем и делаем неважно кто но когда ты сидишь выбираем что вот как бы у тебя-то я сейчас работаю над одной задачей и хочу этом в репликацию москве на как настроить мне это интересно не хочу попить трогать пусть другой кто ничего делает на джаве на какой-то вот и как бы люди начали бы крутить на тему того что там ты меня не загружающий река даешь на этом не очень интересные задачи или вот что то такое непонятное и необъяснимое возможно это был наш просчет очень тема не заходит мы приблизительно в тот же момент времени с арбитром пытаемся сделать на того же арбитром до нагрузить еще вот следующий функционал так как команде админов другие команды ставят задачи сделайте что-нибудь там зубы когти что-нибудь восстановить что ни будь то люди как как клиент если рассматривать человек с такой заявкой он всегда ждет фидбэка то есть он поставив твоя задача когда он видит что задача пришла со статусом не назначена не отмечено просто общем пули назначена на какого-то человека прошло 23 часа прошел там рабочий день второй рабочий день задачи этот белок вообще непонятно когда твоя задача занимается или нет были люди которые не очень не очень любили вести свою задачу именно вот виде вот этой переписки поэтому арбитра взяли и накинули еще функционал что значит устраивает в антуан митинги с каждым членом своей команды ведет практически каждую задачу спрашивает если по какой либо во задачу тебя трудности могу ли я тебе помочь и резюмирует то есть резюмирование было там раз в день 1 2 дня то есть задача начали как-то вестись и здесь проблема застопорилось в том что во первых наш текущий orbiter он зарылся просто в таком количестве знаний потому что для того чтобы тебе что-то резюмировать человек напряжение может связывать нам предложения хоть как-то связано тебе нужно разобраться в его предметной области как-то там додумался до какого этапа он дошел что ему мешает это написать нужно когда таких задач смотрелось много ну собственно он просто переставал что-то писать и задачи точно также переставали вестись поэтому нужно было как бы двигаться дальше что-то как-то менять следующие соответственно процессе подготовки докладов мы не опирались на многие из вас слышали про матрицу 1 хоррора из сидящих отлично то есть все остальные не слышали наверно видели может не знает название суть заключается в том что мы берем и делим просто наш лист задачами на четыре части часть задач мы делаем срочно важно и не срочно неважно делаем крестик и вся наша задача мы просто берем и раскидываем вот в эту замечательную клеточку по которой начинаем работать по данной клетке на самом деле стоит сразу заметить что самая производительная и самое комфортное для исполнителя клеточка в которой можно работать от клеточки бы это когда твоя задача важное и когда эта задача не срочно это отличный мотиватор для исполнителя когда задача твоя важно она важна либо для команды либо для проекта либо просто для тебя но то есть она важна ты понимаешь что ты работаешь не просто какую-то ерунду и ты работаешь над тем чем будут пользоваться тебе это добавляет стимула они срочность и как бы плюс в этого подход заключается в том что ты предоставлен сам себе у тебя есть время почитать протестировать посмотреть произвести какие-то решения посидели мы подумали и придумали мы такую штуку как взять и разделить и нашей задачи поступающие к нам наш отдел получается на эксплуатацию взять и выделить под проект который мы назвали эти грув и в этот проект мы начали писать задачи формата ну то есть получается не очень важное не очень срочно это задача которая в перспективе может когда-нибудь перерастет действительно в проблему но это не проблема сейчас и сделать ее было бы неплохо в каком-то обозримом будущем недели две после этого мире мы берем и вводим такой функционал как дневной дежурный админ суть немного дежурного админа заключается в том что это такая у нас есть первая линия поддержки и реакции на срабатывание там аварии триггера это мониторинг который соответственно если принимает решение о том что с проблем он справится не может ему нужно эскалировать то первый человеком и у нас коллирует если это дневное время то это дневной дежурным соответственно здесь это выглядит то что я рассказывал про пит что мы избавляемся от переключение контекста тут мы берем человека просто на амбразуру кидаем говорим чувак давай на первую линию будешь заниматься вообще всем подряд то что сыпаться будет просто там-то москве там по этике не знаю как они там кассандр еще что-нибудь вообще все делать будешь переключаться как только можешь на самом деле не совсем потому что те действия которые делает дневной дежурный админ он делает следующее он проблему либо производит эскалацию доносит передает проблему специалисты который лучший из отдела например и доступен данный момент по данной предметной области либо он машинально практически занимается исправлением проблемы то есть это не умственная деятельность это деятельность у ночью разбуди у нac про этот поднимет и почини и как такой дополнительный бонус мы короче в зале еще этому дневному мне сказали что с эти делать будет нечего скучно будет но там нету эскалации эти вот бери и тигров и закрывая еще задача оттуда то есть мало того что прикрывает всю остальную команду он еще закрывает какие-то всестороннее задачи из проекта эти группы тем самым сделав видео роль дневного дежурного 5 разделив задачи на совсем не важны и на задачи проекты мы позволили все остальное команде которые у нас есть работать самой комфортной зоне by над не срочными но при этом важными задачами то есть люди просто так вот они вынырнули из этого пункта посмотрели по сторонам а там нифига себе и спорт б им некомфортные всем надо круто будем работать и также не оставлю без внимание те задачи которые находятся в пункте срочному неважно это звучит как-то бредово срочно и неважно либо срочно ли мне важно ли вообще непонятно это делать в этом нашем случае обычно работы в этом сегменте не происходит и задачи с критериями неважно но срочно они либо становятся не важно и не срочно либо эти задачи просто исчезают мы над ними не работаем так как я коснулся того что мы верили роль дневного дежурного обмена давайте кратко пройдемся по тому как я админ и вообще у нас есть у нас есть админа обыкновенный это человек который вот преимущественно вот он в принципе все занимаются всем всегда но 1 на обыкновенный он у нас так вот каской прикрывает дыру то есть вот он работает наташками там есть дневной дежурный который преимущественно отвечает на телефон и на эскалации вот мониторинга есть ночные дежурные это вот некая смесь админа обычного и дневного на ночь то есть он и поэтому каски они вот черным так обрисованы что он только ночью отвечают на звонки в дневное время работает как обычный админ следующий момент о том как же мы делаем процессы прозрачными собственно сложность нашей конкретной команды заключается в том что часть команды находится в лондоне часть команды находится в москве это сдвиг по часовым поясам достаточно большой в москве ребята начинают работать сильно раньше мы приходим на работу уже что-то сделали мы соответственно свою очередь дорабатываю вечером делаем еще как эти вещи которых они уходя домой не знали и для координации наших процессов внутри команды у нас есть еженедельный понедельничное митинг митинг заключается следующем занимаемый одна переговорка в москве одна переговорка занимаем в лондоне причем время у нас сделано так что мы только пришли на работу ребята обычно в это время в москве только пришли с обеда соответственно чтобы настроиться на рабочий лад что нам надо порядка 40 минут что им поэтому вот мы в такой неформальной обстановке собираемся по телевизору берем агенту и начинаем обсуждать это не 11 митинг это митингов многие ко многим мы сидим общаемся как бы в этой теме все круто мы рассказываем друг другу какие важные проекты мы сделали что мы ожидаем что мы планируем делать назначаем какие-то встречу друг другу но проблема заключается в том что где-то уже к вечеру вторника или к утру среды мы не знаем кто то есть у нас координация 10 в принципе немножко теряется потому что я там начал работать над задач ушел в сторону уже у меня задача на эту неделю другие у коллеги из москвы там происходит что-то аналогичное мы соответственно раз синхронизируемся достаточно понедельника до следующей agenda с этим надо что-то делать и тут появляется такой клевый инструмент называется на статус херу суть инструмента заключается в том что приходя на работу ты планируешь сам для себя определенные задачи как бы фишка заключается в следующем ты пришел со свежей головой на работу у тебя и поле причем это необязательно инструмент не можем его не заполнять мы можем им не пользоваться но плюс заключается в том я вот пришел на работу свежий я знаю что я сегодня хочу там починить какие-нибудь dns и настроить сбросом неких мэтт метрик примет вас посмотреть как будут работать новые графики и возможно сделать еще возможно закрыть эти текущие задачи я беру себе вписываю план на сегодня а по планам на сегодня меня на самом деле мерцает строчка которая мне говорит о том что вчера ты себе обещал сделать вот это вот давайте сначала напиши что ты сделал за вчера из того что это обещал а потом напишешь что ты будешь делать сегодня также есть там один такой замечательный пункт 3 возможно на экране не видно в чем заключается его суть на это поле для того чтобы там обозначить некие некие внешние события которые тебя блокирую то есть например из другой команды кто-то не предоставил себе патч fix не важно что элита необходимые данные для того чтобы выполнить свою работу а ты такой парень стеснительные ты не можешь ему позвонить как слышь давай сделай уже не там ждут ее сейчас ты можешь написать суда этапа светится красным и тебе поможет либо твой менеджер либо ребята из команды ну то есть ты озвучишь свою проблему ты не будешь сидеть молча и ждать когда же не зависящая от тебя проблема решится и ты сможешь заняться над своей задачей в свою очередь для команды прилетает вот такой у нас специальная группа есть и печати где после того как ты заполнил свою такие вот что сделал что сделаю прилетает это всей команде соответственно мы там просто довольно беглого взгляда достаточно что посмотреть в этот чат в эту комнату и понять что же будет делать там твой коллега иначе вообще в принципе сегодня ребята будут заниматься или вдруг есть какой-то блокер который ты можешь разрешить pamyu pamyu и помочь тем самым своему коллеге ты и соответственно это делаешь это круто и так почему вся эта штука заработала почему она прежде есть первый самый очень важный аспект заключается в том что ты обещаешь себе то есть вот ты обещаешь ся с понедельника до пятницы по практике к четвергу ты скорее всего сделаешь один из пунктов которые ты писал в понедельник у нас там каждый день ти будет назвать глаза и говорить что как бы обещал мне сделал обещал не сделала бесшовный сделать а еще и коллеги знают которым ты тоже типа обещал короче они сделал неделю поэтому берешь и делаешь просто через силу следующий положительный момент заключается в том что я вот вижу что кто-то из коллег например собрался выполнить определенную задачу я знаю что я в этой задаче мои знания возможно больше или я могу просто чем-то помочь я соответственно говорю о том что там давайте помогу этом знаю куда тебя отправить документацию по читателю там сделать здесь сразу так чтобы не потерять там пару дней работы это будет лучше для тебя поэтому это вот получилось прозрачность есть возможность помочь и соответственно тот же третий пункт который был нашей форме это что те тихони которые сидели и не говорили о том что им что-то мешает работать они теперь могут также тихо просто взять и написать им хотя бы помогут и ребят возможно решится какая-то проблема с которая справиться не могли но мало том что статус hero помог нам в организации вот это вот деятельности он еще вскрыл для нас одну достаточно странный наверное проблему которая заключалась в том что то документация эксплутационные которая у нас была ее либо не было либо я был не достаточно понять что удалось принудительно тогда когда ты стал видеть над чем работают коллеги и либо помогали им либо они у тебя спрашивали как вот сделать вот это вот это когда уже шестой раз объясняешь как сделать вот этот и понимаешь что если ты один раз это написал он бы один раз прошелся вот по сценарию того как это нужно делать внес бы правки какие-то комментарии еще что то такое и все тебе не нужно было отвлекаться на то чтобы ему что-то объяснить ему свою очередь не нужно было бы спрашивать тебя там банальных вещах о которых можно было прочитать тут мы это поняли то есть она была но недостаточном количестве как выяснилось как только начали пользоваться статус hero of the вот такие вот ошибки которые мы получили это стало статьей действительно больше статьи 100 лет править комментировать даже лайки или помоев conference вот и ещё ввели как бы стали добавлять наши триггере в системе мониторинга который срабатывает мы стали их стали к ним дописывать какие-то более внятные человеческим языком стали писать о том что же там на самом деле происходит кому позвонить тому куда посмотреть но штука настолько замечательно что и это еще не все есть еще один аспект который в котором она тоже помогла лёша рыбак на хайло де рассказывал про процессоре видео в аду это такая крутая штука преимущество менеджерская потому что им надо оценивать свои кадры как же мы там работы как работает команда с точки зрения манишка фото клёвый наверно инструменты там все видишь у тебя всё структурировано в таблицах с точки зрения админ надо просто человека это вот так что день ческие время когда с точности года перед сессией тебе приходит черт с мешком гвоздей по одному забивает начинают вот так же здесь она выдается недели на подготовку этого review мы знаем что там на в течение недель надо написать что я делал за полгода на фишка в том что это тяги 8 до последнего дня в последний день я соответствие просто трачу практически весь день для того чтобы беречь перечитать свои ticket и за долгое время вникнуть обратно в них и что-то написать о своих достижений в течение последних последнего полугода что предлагается нам внутри для того чтобы процесс написано не review не был таким больным для человека это заполнять сниппеты с не петлю в свою очередь можно заполнять как в конце рабочего дня так в конце рабочей недели но так как мы говорим о проблеме переключения контекста в том числе то не всегда есть возможность пятницу например вспомнить что же я там дела в понедельник или во вторник лучшем случае напишу что я делал в четверг и в пятницу в худшем случае это будет три моих последних часа работы в пятницу что я напишу в эти сниппеты что касается длились не петров но рабочий день бывает разным и вечером обычно хочется уже там не знаю пойти в паб пойти домой покурить пойти и что угодно но не заниматься писаниной того что же я сделал за сегодня здесь не замечательно штука такая что мы берем мы писали каждый день что мы обещаем себе сделать в статус верую что мы сделали за тот срок который нам нужно просто берем делаем выборку во-первых положительных моментов то есть мы берем просто выборку того что мы на самом деле сделали но мало того что это выборка позитивное того что мы сделали это выборка еще заключается в том что мы там писали для себя и когда мы берем эту выборку и для написания нашего пола годового отчета мы учитываем там тот момент что как бы читая предложение к только сам для себя написал ты погружаешься в перспектив контекст тебе не нужно лезть иконку в какой-то ticket и вспоминать что что там делал долго или недолго то есть плюсы это получается позитивная выборка всегда и ты пишешь сам для себя а не таким полу роботом который написал что-то в ticket и все прекрасно и замечательно вот такая клёвая цитата теория мы попробовали он тут что-то по ушам ездил что мы вот там тут решаем статус киру клёвый давайте посмотрим на один день из жизни админов это в бодуна примерно такая ситуация полу выдуманная но давайте смотреть на нее приходит приходит человек на работу с утра возможно после выходных он отдохнул и знают что вот у него в перспективе там какой-то большой проект и первое что ему нужно сделать для того чтобы начать работать он такой приходит плавно на сегодня у меня настроить инфраструктурным pc мы все прекрасно помним да про совесть и про то что если он пообещал в понедельник но памятник sonar сделает по крайней мере но берем идеальную ситуацию и думаем о том что он значит работает течении 1-го дня он про это дело написал тут же он подумал о том что для того чтобы его поднять новый дата-центр ему необходимо воспользоваться взять на строить инфраструктуру для xk то тут присоединяются ребята там лондоне на работу подошли каждый из них говорит там отыщу память короче поставить без него не заведешь town council надо будет еще там как без докер а потом еще джилл пиа и так далее слишком подробно про каждый вот эта система рассказывать на самом деле времени хватит и билетом предыдущее выступление в отдельности на я про каждую из этих частей которые я упомянул но давайте попробуем рассмотреть насколько получится вот я сказал даррен наши дата-центр состоит из таких 5 пабликов на базе которых мы можем взять и начать работать дальше первый основной инструмент менеджмента железо который вот только приехала завода тебе его поставили дата-центр смонтировали в стойке тебе нужно заправить обновить там прошивки и поставить операционную систему собрать какой-то рейд и машина переместить на то место в котором она потом будет работать мы пользовались и продолжаем пользоваться продуктом под названием их скат которые в себе содержит прокси сервер dhcp сервер там мы храним всегда базу всех наших под сетей dns адресов этих под сетях динамических диапазонах этих под сетей и прочая прочая информация и также соответственно для нас это является базой серверов но базой формате там сервер имя mac-адрес его там сетевые интерфейсы ну и в случае когда мы уже кидаем его в какой-то кластер это его постоянная печник непосредственно в том кластер в котором он будет жить но также есть тут еще важный момент это то что и кск от предоставляет возможность следить за тем что происходит в консолях серверов то есть если происходит какой-то кернел паник то мы получаем слепо как вот сыграть с монитора просто в текстовом виде потом можем им воспользоваться его мы выносим то есть x как работает формате что есть менеджмент надо который знает все обо всем но она может освободить свою часть своей работы она может передавать сервис наносят на которой свою очередь мы и поднимаемся роль консолей если дата центр у нас будет маленький ну там в условно 100 машин каких-нибудь или devil окружении что то такое то почему скоты сына м м находится в квадратных скобках только потому что первое что в случае такого маленького до c у нас все это по месяц на 1 - мент ноги мы не будем поднимать вторую случай если дата центр большой серверов с консолями у нас дофига мы возьмем просто и горизонтально увеличим количество сны подцепим их всех к мастеру и так что же необходимо будет сделать человек кто написал буду поднимать dc короче сейчас я настрою x кат на самом деле он запускает один контейнер с менеджмент но дай вносит туда информацию о новых под сетях которые будут в этом дата-центре генерирует после этого файлик дцп и сообщает если это необходимо сетевым инженерам о том что вот для этих под сетей до версии helper будет находиться на моем новом контейнере случае если необходимо поднять сервер консолей на отдельные контейнеры мы запускаем просто следующий и все становится замечательно пока я мире база в оборудовании сито пятна и начинаем уметь я был бы не я наверно из тебя вышел доклад его искал слово докер здесь сегодня как бы шапку пришлось бы снять в конечном итоге вот докер у нас на самом деле рассказывать про него глубоко не буду но его инфраструктура для любого наверно дата-центра выглядит нас приблизительно так суть докер на самом деле здесь не в докере в том как устроен registry потому что он нам необходим чтобы нам стягивать оттуда уже дальнейшей контейнеры наших сервисов и служб завод тити рации пока мы им пользовались внедряли что ты делались на данный момент схема рабочая в аду registry находятся вот таком виде все образы все слои и все остальное мы храним сефе через свифт api для того чтобы хранить какой-то кэш из нашего registry мы используем редис которому соответственно http ноты которые собственно являются дочери фабричным сервисом не горизонтально можем мазать коль вскоре угодно соответственно единственное условие вот в этом горизонтальном масштабировании докер ridgid re not заключается в том что нам всегда необходимо вести их к одному адресу каширу ющего сервер редисом и указывать соответственно 1 in point для отсев а вот дальше перед что тебе сервисом в качестве балансировщика у нас стоит нужных который делает что который терменируют и делает там basic house есть у него там некоторый набор правил которые либо дает делать путали потом не дает делать put если уже такой слой есть свои дальше у нас уже находится наши целевые серверы которые обращаются к registry с тем чтобы сделать палубе сделать push картинки туда также современных реалиях на новом дата-центре обязательно понадобится консул который на данный момент используется скорее как не сервис discovery для всего буду а скорее используются как сервис discovery для инфраструктурной часть то как базовый выглядит инсталляция консула в любом вот это центров картинка на самом деле смысл и на никакого не имеет это обычно 3 + мастера это настраивает синхронизации со всеми дата центрами которые есть чтобы мы могли получать информацию из других доця если нам это необходимо ну и собственно все соответственно зачем инфраструктуре тем более новый дата-центр сразу там третьем слайде мы говорим о консолью смотрим на наш замечательную инфраструктуру пакета она всем такая вот вот но суть кончилось заключается в том что мы приходим и поднимаем если смотреть на слайде мы поднимаем инфраструктуру сверху вниз сначала для того чтобы у нас что-то начало работать нам нужен позарез который будет все очередь необходим для побед дебит соответственно поднимая под gres мы пойдем информацию о нем в council поднимая пакет baby мы берём информацию из консулов под грейси коннектимся к нему и кладем информацию по perdeby обратно консул дальше мы поднимаем энное количество попец server not но джори информацию для них при поднятии о попить zibi мы берем из консула информацию о них мы кладем в консул и последним этапом мы поднимаем нашего дома сарны engine.exe которая занимается сортир минировании обслуживает два три порта один порт это порт для непосредственно пакет агентов порт для папе db и порт для статистики по которой он дает чувство как с об стримами версия там последнего коммита git репо во чтобы за этим нужно было следить все остальные клиенты соответственно ходят через вот эту вот . видел бы с того что я сказал виде тезисов соответственно это вот мы запускаем контейнер по игре зарегистрированными в консоли дальше папе тебе берет информацию оттуда и кладет свою очередь информацию о себе попить сервер запускается в любом совершенно количестве это но до независимо чем больше тем соответственно лучше регистрируется там и lbm вытаскивать информацию по 5 сервере и запускается непосредственно сам дальше есть у нас такая штука называется на желтый она для любого дата-центра нам необходимо она просто довольно топорная простая это сервис для инвентаризации работает он следующим образом на каждом сервере запускается простой фьюжн инвентарь и gent он собирает всю информацию по железу по софту антивирусом файлом системам все зависит от настроек нам обычно интересно это всяким этом железный показатели какой памяти сколько какие диски сколько контроллер конечно не кэш и так далее эту информацию у нас какое-то время в нашем случае рассудке по моему дяде фартовые значению направляет эту информацию на некий печки and point в котором происходит обработкой данных кладутся белки образу данных ещё одним замечательным плюсом использования джилл та и фьюжн инвентарь и заключается то что мы можем помимо того что инвентаризировать наше серверное оборудование мы можем ходить инвентаризировать наши сетевое оборудование для того чтобы получить информацию о том какие порты есть какая скорость портов есть и самое главное какой сервер с каким там серийником находясь какой стойки подключены в какой сетевой узел и в какие соответственно порты ну и таким результатом всего вот этого действа становится в страничка на который мы можем ходить smotri.com серийники стойки того кто куда подключен вот здесь получается что мы вот рассмотрели 5 инструментов которые были описаны где-то там нашей вики например человек посмотрел на них запустил по каждому не более там 3 5 контейнеров инфраструктура у него готова то есть мы получили вот такой вот домик счастливых людей которые продуктивны пришли один задачу обозначил другие мы помогли в общем и целом они как-то знакомились почитали и подняли такую штуку вам вернуть бы хотели скопировать вот собственно в баду вот этих вот трех человечков шариками на самом деле нас чуть больше в команде админов но мы продуктивные точно счастливые большинстве своем я думаю такую команду дружных профессионалов короче удалось достичь с помощью того что мы смогли обозначить три проблемы и наверное научились с ними справляться итак первое что вот очень необходимо для исполнителя мне кажется не только для админа это уменьшать его переключение контекста дайте человеку работать если эта technolux к сидит и работает не отрываете дальше если есть подозрения на то что вы срываете где-то какие-то сроки и возможно что то не так с вашим приоритизации или спереди зации в команде дайте команде информацию о том почему конкретная задача важно он должен видеть он должен видеть дальше своего монитора он должен увидеть то что делает проект вообще он должен понимать что его участие в проекте важно и тогда он будет работать иначе он будет понимать что были реально круто приоритетных задач иного делать и последний но не мало важный вывод это наличие хорошей грамотной документации причем это документации может быть разделена на такие части она может быть подробная глубокой если ты хочешь знакомиться и зарыться но при этом у вас должно быть где-нибудь какая-то выдержка про сервис или службу который помещается на одну страницу и которая себя представляют набор там из пяти шести действий которые необходимо сделать доль до эскалации то есть как бы это же необходимо делить и документацию важно более того всегда апдейтить но когда вы увеличиваете прозрачность работы в отделе пункт обновление документации он как бы решается сам с собой потому что вы видите какие ти рации происходит и вас постоянно спрашивает а над наверно виду обновить в таком духе на этом доклад мы подошел концу в конце это соответственно референсы на те исследований которые были проведены про различных программистов на тему что такое контекст личин как грамотно работать как на откликаться как делать больше и ниже соответственно все те продукты которые схемы которых я вам нарисовал которые являются нашим вот базы и опорой любого из дата-центров году спасибо за внимание если есть вопросы если бантан спасибо за доклад и вы говорили про сетевое оборудование джилл видно куда подключен какой сервер можно немного технических деталей плане того это людей может быть эту сумку с ммм да то есть но я понял то есть набор получите данные о том кто куда подключен a discovery происходит discovery не происходит смотри по из анапы свеча ты получаешь информацию какие порты каким эти 0x ведь это ммо подавал надо со стороны сервера отдельную серверу и мент реагент засылает информацию о сетевых интерфейсах я бы их mac адресах дальше у тебя происходит склейка mac-адрес здесь клиентский здесь серверный значит он подключил меня от acer на стороне именно джилл передвигаться сфер когда все я понял спасибо спасибо за доклад у меня вопрос процессов вы очень интересна концепция на самом деле рассказали разные какие-то продукты интересные используйте вопрос заключается вот в чем а почему вы не используете канбан не знаю что это просто если в двух словах то все что вы рассказали в компании изначально заложено и для от лосиный продуктов конкретной для жиры есть даже плагин который когда вы заводите задачу отражает на доске эту задачу и когда вы ее двигаете там все процессы видны то есть ли он блокирует я не менеджер мне на finger не принципиально ну спасибо он снимал вашего но не слышал white спасибо за the code я вот тоже насчет герб я хотел бы узнать то есть вот почему было выбрано именно этот инструмент и вот по инфраструктурного решению насколько я понял из вашего доклада джи-пая у вас используется на каждую площадку свой а почему бы не использовать какую-то общем инвентаризационную систему как например в той же расинга реализована как вариант но мне кажется что во первых такой потребности нет из кореи есть потребность и много дорна дата-центра смотреть именно отдельно то есть прямо вот есть необходимость исторически то есть вопрос почему жилкой если этот вопрос потому что на момент когда начали смотреть это было единственное что то более менее работающие что не нужно было сильно допиливать то есть тут есть 2 вариантах очень хороший инвентаризацию пиши свое скорее всего либо enterprise я не знаю ничего пример есть решение не смотрел жилкой на тот момент был штукой которая работала и базовым требований отключала при том всем своем не самом прекрасном интерфейсе и так далее но работала о том почему не все данные всех dc сведены в одно в одно место у нас изначально был point в том что разные инженеры он сайт инженеры разных дата-центрах иногда имели доступ жил по его не обновляли там оборудование списывали еще что то делали но это разные совершенно компании которые не должны были знать информацию о другом дата-центре причем никакую даже там на стойках а железках и так далее то есть это был один из пойнтов а дальше как бы в году есть историческая на самом деле восприятие наших площадок как все-таки некие сущности несколько отдельной то есть мы там называю домены какой-то площадке каждый разработчик ли там кто-то из админов всегда знает вообще о чем речь идет дети географически в каком-то dc и так далее вот я думаю поэтому это было сделано так что вот есть отдельный комок она живет вот там все так можно тоже вопросик спасибо большое за доклад было рассказано про статус херу что помогает но условно в review если бы его не было нужно вспоминать эти киты заходить смотреть этот открыл но кажется что тикетов нами чуть меньше чем количество дней то есть если здесь ввести статус херу каждый день писать что я хочу что я сделал что ну и не на одну строчку так понимаю там в примере было то в конце за полгода review там будет такая партия нищие которое ну не сегрегирован как то но не про теги равана не понятно что из этого носится какому проекту какой задачи насколько общее реально удобно вот это все в кучу и потом из этого делать короткий обзор что было сделано хорошего крутого полезного смотри в противовес вот этому я могу сказать следующее приходит раз в полгода и view мне нужно заполнять что я сделал за полгода я беру фильтр двери запускаю там задачи которые мне были поставлены неважно когда но закрыл я их вода дедлайна я начинаю смотреть и мне соответственно там 15 кеттов это в лучшем случае один проект я там в каждой зайду где-то тут накосячил там не доделал там или тут поменяли короче приоритет задачи вообще писать в своих именно проектах потому что заполняя review ты не пишешь про каждую задачу ты пишешь о чем-то большом значимым для тебя выборка из жира получается слишком то есть слишком много надо нажимать и возвращаться обратно в этот контекст здесь когда ты читаешь здесь плюс заключается как раз таки в том что во первых положительным во вторых твоими словами ты когда свои слова читают даже через полгода свои предложения это просто глазами на самом деле фильтруешь момент того что скажем так то есть вот эти вот там четыре пункта это все про одно но просто сегодня я думал это сделать так завтра по другому атому после этого я передумал то есть тут именно вопрос восприятие просто проще воспринимать то что ты написал для себя причем изначально это не знает и не думал о том что то это писал себе для ревью потом ты пишешь это просто как бы себе тонн 1 потом утапливается так то есть это проще чем искать и погружаться обратно в кито которые зачастую pistol ну ты просто напросто кирова немытое новые темы кстати им надо написать про это вот про тагирова нет клёвым спасибо спасибо за вопрос большое спасибо за доклад у меня вопрос следующего характера все админы пишут документацию по своему то есть кто-то видит так кто-то и так вот сталкивались ли вы с такой проблемой что что в общем нет понимания между админами кто что сделал кто лучший админ это лучше пишет эти дни шеридан нет в том смысле что непонимание то есть кто-то написал документации на совершенно в этом в этом есть всегда комментарии есть возможность правки я про это и сказал что когда мы вели подобную систему как бы да мы увидели гораздо большее количество комментариев статьях и увидели какие-то правки то есть когда ты написал что-то сам следующий человек ну скажем так условно там новый админ он идёт по твоей старой документации идет он не дурак же он там видит не крипипасты занимается понимаешь что там ты написал что-то неправильно или непонятно или недоступна он может связаться с тобой может написать комментарий вы можете вместе отредактировать вы получаете вторую версию которая уже свирина двумя людьми дальше приходит 3 человеку не в ночное дежурство что-то упал он открывает вашу доку им по ней починить и у неё чет не получается он соответственно ну либо из эскалирует проблему автору потому что автор от поднимет быстрее а с утра мы уже обсуждаема что тебе было непонятно даваемые тогда пиши мы отразим то есть такая проблема мне кажется я сейчас меньше потому что с течением времени просто вот некой структуры доки она выработалась практически каждый знает как он будет писать для чего сервис какая критичность за что отвечает какие ноты какие площадке куда бежать как бы куда смотреть что запускать но достигалось это как раз таки путем вот таких проб и ошибок правок добавление от около актуализируется по мере поступления цедента или есть какой-то review обязательно никакого review обязательного нет обычно review как раз таки заключается в том что кто-то обращаются к доки если он хочет сделать потоки и ну не делает по ней или там делает по ней у него возникают вопросы здесь мы понимаем что раз возникают вопросы по тексту который написан возможно в нем что то не так но есть вариант сучок что-то не понял конечно когда вы можно объяснить но скорее всего доктор может нуждаться небольшой правки мы правим все ясно спасибо еще вопросы тогда благодарим антона за хороший доклад большое спасибо спасибо"
}
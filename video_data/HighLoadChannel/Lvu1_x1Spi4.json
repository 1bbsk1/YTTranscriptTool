{
  "video_id": "Lvu1_x1Spi4",
  "channel": "HighLoadChannel",
  "title": "Python и Ruby под нагрузкой: самый низкий уровень / Григорий Петров (Evrone)",
  "views": 17654,
  "duration": 2963,
  "published": "2021-10-04T02:47:02-07:00",
  "text": "приветствую с перед докладом я как опытный некромант подготовился внизу наши ой дав есть ссылка на эти слайды она будет жить вечно а мой хендл он одинаковый во всех соцсетях так что если вы смотрите этот доклад в записи через много-много лет и хотите знать ответы на вопросы напишите мне и я отвечу вот уже больше двадцати лет я пишу код code на разных языках программирования и многие из этих языков они считаются мертвыми по крайней мере так говорят а я хочу поговорить с этой сцены о высоком искусстве некромантии о том как языки которые считаются мертвыми используются в больших иногда высоконагруженных проектах мы в euron занимаемся заказной разработкой мы делаем backend vip erp и crm с использованием широкого стока технологий мы используем python ruby goe раст frontend даже elixir иногда и среди наших многочисленных клиентов мы заметили мнение о том что есть какой-то лучший инструмент для задачи и что если мы делаем highload то наверно обязательно этот highload писать носиш очки ну или на худой конец на 1 текке ну а если у нас очень много микро сервисов а потом люди неожиданно понимают что мир он не чёрно-белый и к примеру к руководству компании приходит питание ст и все 20 человек и говорят но знаете мы вот уже давно отделай машин leaning и вам нравится в машин лёнинг но вообще мы же питание ст и и мы хотим делать не только машин лёнинг у нас есть дженгу у нас есть фаст и pr давайте мы вам немножко бэг-энде к забабахаем руководство компании такой сидит и думает блин ну мы же highload как можно использовать python в хайло тут уже противоестественная какая-то штука не знают что ответить а бывает еще более страшные истории приходит к примеру молодые амбициозные разработчики говорят знаете мы вот посмотрели как дэвид свет канеман хэнсон с помощью full stack руби сделал фей дот ком вчера и этот hey дот ком держит сотни тысяч подключений и миллионы пользователей и руби прям такой full встречные крутые спицы на рынке есть который нанимаешь и прям сразу full stack давайте мы тоже за фигачим быстро будет качественно недорого сидит руководстве думают ну как же это такое быстро качественно и недорого не бывает такого и потом руби если на head hunter зайти там и питта не став 5 тысяч орудий всего жалко одна тысяча как же можно писать большие проекты наруби непонятно я не последний некромант и если посмотреть на такие большие проекты как реддит юбер instagram они написаны на python и они не просто написаны на python разработчики из этих компаний так же как и я выходят на сцену и рассказывают что не писали на python пишут на python будут писать на python что python это круто им нравятся они реализуют highload они решают амбициозные задачи и быстро фигачит фичи а шопе фай возможно вы слышали netflix или гид хоп они сюрприз-сюрприз написаны на руках и разработчики из этих компаний точно так же выходит на сцену точно так же радостно рассказывают разработчики из гитхаба как они вот портировали гид хоп со старой версии рельс на новые версии рельсы как они прям излагали но как им это понравилось как они быстро фигачу свечи и все работает под большими нагрузками а если посмотреть на топ-50 стартапов вай комбинатор многие говорят что white комбинатор но это такой акселератора не боясь то не стараются выбирать проекты но топ-50 их стартапов за несколько лет который прибыльный приносит миллиарды долларов там python руби python руби python ruby и ruby руби python о чем этот доклад о ruby и python о мейнстриме который вы можете встретить выживших проектах о чем будут говорить питание ст и или рубис ты которые хотят работать вместе с вами и задают вопросы я не буду и не хочу говорить про спортивное программирование о том как сделать миллион запросы в секунду на одной ноте выжав из python или руби все и оставив голую фишечку все это вы замечательно можете посмотреть на ткм power именно там меряются миллионами рпс а я про популярная про популярные сервера приложений которые вы можете встретить в стеках современных python и ruby проектов не про на вьено view вроде индекс юнит про http 11 которую вы можете опять же встретить внутри современных python и ruby проектов потому что http 2 http 3 обычно реализуются с помощью engine x к python и ruby имеют очень мало отношения вот я про специфику специфику пайтона специфику руби не про стыка независимые вопросы хайло да потому что если у нас highload и много-много not to балансировка между этими нотами она слабо зависит от того на каком именно языке реализовано backend приложение крутящиеся на этих водах мой рассказ он про одну ноту и про и и богатый внутренний мир про и и размножение процессами и потоками как один из организаторов сообщество разработчиков маску python на метопах ipython завтраках я много рассказываю про а sing но если мы говорим про выживший python и ruby проекты то что вы можете встретить в живую то что делалось несколько лет назад а sing мы там скорее всего не встретим там не будет fast теперь там будет джингу там будет flask там будет ruby on rails оно все будет стоять за engine x на котором к примеру если включить кэш можно ускорить все в десять в двадцать в 30 раз но это будет не про python и бутылочное горлышко базы котором много интересно рассказывает олег болтунов вот он там на стенде она тоже одинаково для всех бэкон дав и к примеру в мире пайтона сейчас идут горячие обсуждения о том что база драйвер базы они же на самом деле не очень тормозят это быстрая штука а вот arm объект relation мэппинг она еще как тормозит но python и ruby проекты они начинаются не с форм они начинаются с engine x историческая защита мягкого подбрюшье applications серверов много-много лет назад когда engine x только делался я помню эти времена хорошо помню тогда сервера приложений pearl php они не могли быстро обрабатывать большое количество медленных запросов если тысячи клиентов набегали на backend инфраструктуру и начинали по одному батику что-то запрашивать то backend инфраструктура на этом заканчивалась тогда был создан engine x который был способен через себя прокси ровать все эти запросы оттуда reverse proxy сейчас это чуть менее актуальна тем не менее современный python и ruby backend они традиционно начинаются с engine x который за годы начал решает secu intense в задаче брать на себя сертификаты брать на себя http 2 брать на себя хеширование во время включенные кеширования способна ускорить наши backend в 10 а если повезет то и двадцать раз engine x общается с applications сервером он может общаться по бинарному протоколу по http протоколу и как показал сервер пайтонов скиммер езжай который может и так и так и много лет питаниe ст и пытались понять как лучше разницы практически нету а вот сам applications сервер пастух стад пайтонов вот там разница есть applications сервер заботиться о запущенных поэтому вских процессов и applications серверов много вот в двадцатом году среди разработчиков руби был произведен опрос где к ним прямо подошли спросили какой applications сервер ты используешь оказалось что большинство руби став использует applications сервер пума практически единогласно у пита не став почему-то такое не спрашивают но я конечно подготовился к докладу я несколько месяцев походил по тусовки питание став всех поспрашивал многие говорят что использует традиционный исторически movies джай кто то говорит что использует современный хипстерский джу юникорн или асинхронный в эйтрис в общем какого-то согласие в мире питаниe став нету тем не менее подавляющее большинство питаниe став и руби став использует applications сервера applications сервера в мире python и ruby разработки играют фундаментальную роль applications сервер загружает python указывает ему запустить некоторое количество потоков каждый поток загрузить приложение и по входящим запросам вызывает код этих приложений именно applications сервер контролирует количество процессов потоков может их автоматически масштабировать и может ограничивать их ресурсы процессор память диск а еще его не просто так называют пастухом он следит за запущенными пойти нами и если какой-то поток в каком-то из пайтонов начал слишком медленно отвечать на запросы начал течь по памяти или использовать слишком много секрету именно applications сервер убьет и вновь подымет из мертвых такой поэтом но еще раньше applications сервера использовались для того чтобы перезапускать веб-приложения без перезапуска всего но сейчас docker и кубы подходят для этой задачи гораздо лучше и лишь боится она там гораздо проще еще applications сервера собирают метрики в разнообразные логе предоставляют и 5 для ваших плагинов например написав плагин кпп уме или к me vs jay можно указать что точно является критерием того что приложение работает плохо можно покопаться у него внутри и узнать подробности applications сервера обеспечивают выполнение фоновых задач потому что еще несколько лет назад в популярных протоколах общение applications серверов и бэндов в принципе не было возможности запустить фоновую задачу самые популярные протоколы общения с руби это рик и спайди нам это w с джей там просто не предусмотренно такой функциональности сейчас конечно уже предусмотрено но это навью навью мы можем это встретить только на очень новых проектах applications сервера реализуют очереди таймер и локи описи websocket и роутинг хеширования как в engine x и это на самом деле не просто так applications сервера для python и ruby разработчиков позволяют распределить сложность часть роутинга и кеширования отдать engine x другую часть роутинга и кеширования поместить в апликэйшен сервер а что-то реализовать на уровне приложения распределения сложности по проекту позволяет делать большие проекты более читаемыми поддерживали писать читаемый код современные applications сервера делают много всего но главное они запускают процессы они запускают потоки и в этих потоках выполняют код backend приложения python руби и php размножаясь процессами и потоками они используют guilt global interpreter блок который боятся примерно все это несты арубе ест игил не бояться но потому что он у них называется не бил jewel global war чел машин лак вот joel они боятся считается что гилл это такая страшная штука которая не позволяет больше чем одному потоку работать одновременно в рамках запущенного процесса python или руби гил сделан в них не просто так он сделан для того чтобы языки реализовывали резиновые контейнеры списке ассоциативные массивы которые могут расти невозбранно в любую сторону и для того чтобы в этих языках были garbage collector и сборщики мусора это та цена которую языке python и ruby и платит за крутой удобный высокоуровневый синтаксис и за расширяемость по памяти у меня на слайдах изображены три стула это аналогия плохая аналогия она подобна котёнку с дверцей но некоторые штуки без аналогии объяснить довольно тяжело большинство современных mainstream языков программирования который я знаю их авторы они хотят реализовать 3 фичи они хотят реализовать скорость чтобы язык был быстрый они хотят реализовать совместимость по памяти чтобы из этого языка можно было вы вызвать какой-нибудь open с с л или другую библиотеку передать и огромный буфер в несколько десятков или сотен мегабайт и библиотека могла с этим буфером работать интеграция а еще авторы современных языков программирования хотят чтобы языки программирования обладали высокоуровневым синтаксисом я долго подбирал хорошие слова как это назвать синтаксис который не заставляет программиста заботиться о памяти синтаксис который позволяет использовать резиновые массивы резиновые списке все растет во все стороны когда программисту а памяти не нужно думать должен думать язык и вот если у нас есть три стула то практически любой язык программирования может выбрать два из них а с третьим стулом будут проблемы к примеру язык программирования может выбрать скорость почему современные языки программирования могут тормозить а потому что память потому что современные процессоры для них обращения к памяти примерно сто раз медленнее чем какие-то другие операции и код который хочет выполняться быстро он хочет быть нарезанного очень очень очень тонкую кашицу размазан по регистрам покажу первого уровня второго уровня 3 уровня чтобы он максимально быстро раскладывал все по памяти это компилируемый код если язык программирования хочет быть быстрым и совместимом по памяти и the sea это roast это в си плюс плюс и синтаксис такого языка вынуждает разработчика заботиться о памяти а если язык программирования хочет быстром и чтобы программист не заботился о памяти чтобы программе списал высокоуровневый код то такой язык перемелет этот код в очень очень мелкую кашицу это будет java это будет сишарп это будет java-script быстрый высокоуровневый язык который будет сам раскладываться на пути шам но сделать к нему нативные расширение будет боль потому что в любой момент за каждым куском памяти может прийти компактен бабочка лекторы сказать отдай отдай мне эту память мне ее надо переложить тяжело писать расширение к джаве ну и наконец если язык хочет быть совместим совсем тем огромным количеством нативного кода который уже написан если язык хочет предложить программистом высокоуровневый удобный приятный синтаксис чтобы программиста мне надо было заботиться о памяти о слайс ах о времени жизни объектов как в расти то такой язык будет медленным конечно global into the interpreter лог который позволяет делать многие эти вещи это не готовальни нативные расширения системный код они поднимают гил и поэтому python или руби которые запустили 16 потоков и в каждом из этих потоков отправляют данные по сети эти данные будут отправляться одновременно но первый же вернувшийся обратно виртуальную машину высокоуровневый код поток он заставит остальные потоки подождать вот этот вот garbage collector он так же умеет замораживать мир правда это можно отключить например wargaming они пишут всю бизнес-логику танков на тайтоне и они отключают бабочка лектор но не тот garbage collector который reference counting а тот garbage collector который mark and sweep и стараются писать код который не делает циклических зависимостей который не течет а если говорить про руби это к примеру очень большие монолиты которые обслуживают десятки сотни тысяч запросов в секунду по словам очевидцев major garbage collector сборщик мусоров приходит но примерно на один запрос из 100 и тормозит весь этот балаган миллисекунд на 100 а маленький garbage collector приходит раз в 10 запросов но всего на 10 миллисекунд и и это не критично если мы делаем бизнес-логику они числа дробилки mainstream в python и ruby использует процесс для размножения secu интенсив tasks и потоки для асинхронности базы данных диск вот это вот все процессы и потоки они выполняют код ну возьмем к примеру python как это организовано вот запустился python ему подложили 5 мегабайт сортов и что дальше дальше компилятор поэтому скомпилирует эти самцы в байт-код до поэтом компилирует сердце и руби компилирует сердце я помню 25 лет назад языки программирования делились на настоящие компилируемый вроде фишечки и скриптовые которые вот basic всякие которые даже настоящие программисты но разве не могут писать на скриптовых языках сейчас конечно все не так сейчас подавляющее большинство мэйнстрима вых языков они компилируются просто кто-то например python и ruby компилируется в байт-код и дальше этот байт код выполняется виртуальной машиной а кто-то например java вначале компилируется байт-код этот байт код выполняется виртуальной машины и перекомпилировать в машинный код если зайти на тех m-power тот самый сайт где меряются миллионами рпс of и посмотреть как ведет себя python под нагрузкой то можно увидеть что их очень очень очень крутая тачка с повышенным количеством катионов памяти лидер дисков всего на лампа это не выполняет чуть меньше миллиона запросов в секунду а вот если подключить фреймворк современный фреймворк дженга то количество запросов сразу падает в 10 раз backend начинает тормозить почему тормозит фреймворк что же такое делает дженга что тормозит python в 10 раз я очень внимательно посмотрел на сердце на документацию на стык на отладчик покопался и вы не поверите дженга она выполняет код она выполняет много много пайтонов ского кода который реализует фишечки дженга реализует корм дженга реализует роутинг дженга реализуют работу с шаблончик ами да мы конечно любим реакции мы любим view мы любим все в сайт рендеринг но очень много проектов не настолько сложные и используют шаблоны формочки чтобы за 20 минут сделать сложный интерфейс year пешки внутри дженга есть middle вли-5 для плагинов которые на каждый запрос и дают чуть чуть несколько десятков байт кодов конечно же есть развесистой механизм кеширования логирования тестирования миллион мелочей который используется в больших проектов и командный интерфейс для разработчиков с помощью которого они способны нас к фолдить себе приложение за 10-15 минут современный фреймворк он делает много всего он позволяет python разработчикам быть продуктивными и очень быстро выкатывать бизнес фичи ценой скорости это подходит для бизнес-логике и не подходит для числа дробилок а как обстоят дела с руби но собственно говоря точно также руби точно также берет исходники компилирует их в байт-код а затем виртуальная машина выполняет этот байт код чтобы обеспечить богатую семантику обеспечить заботу о памяти чтобы разработчики могли писать высокоуровневый код и не париться а еще руби и сама неторопливость в четыре раза медленнее пайтона на тех же backend задачах и если посмотреть то можно найти некую закономерность что голой руби и точно также дает 200 с небольшим тысяч запросов в секунду всего лишь а как только мы ставим рельсы и ставим на рельсы руби скорость падает в 10 раз фреймворк тормозит ровно по тем же причинам я сравнил полторы тысячи страниц документации дженгу и несколько сотен страниц документации ruby on rails количество фишечек которые они предлагают разработчикам очень очень очень похоже каждая из этих фишечек отжирает по чуть-чуть байт-кода в результате вся система работает в 10 раз медленнее и позволяет очень быстро фигачить код а разработчики часто недоумевают как же это такое но посмотрите на java script там точно такой же высокоуровневый язык программирования который точно также компилируется в байт-код виртуальной машины а потом перри компилируется с помощью jit в машинные коды и все очень-очень быстро java script в браузере о двух быстрой арубе нет давайте добавим вруби jit вруби добавили jit несколько версий назад и оказались что на синтетических задачах например задачи трех тел когда у нас есть несколько плат планет и мы много много раз в секунду считаем граве тут он и взаимодействие между ними то что авторы кефира мацумото когда у него брал интервью назвал синтетическими бенчмарками вот эти синтетические бенчмарки действительно ускорились в 10 раз ruby on rails немножко затормозил почему потому что он большой охот начинает тормозить современных процессорах когда не укладывается в тиши java-script движок white он сделан для того чтобы компилировать этот код в мелкую мелкую кашицу размазывать по хишам процессор она выполнялась быстро они принесли в жертву совместимость по памяти python и ruby хотят использовать api нас и сел хотят использовать session и и extinction и поэтому они не хотят комплекте нга бачка лектор и поэтому просто компиляция каких-то кусочков кода с тем же runtime теми же гарантиями памяти не приведет к ускорению огромного rails приложения но просто не въезжаешь в память она использует нативные расширение нет она не будет работать быстрее а каков итог нашей сегодняшней лекции бизнес-логику в современных backend ах можно писать на чем угодно цепью bound он масштабировал ся масштабируется процессором база память сеть проц уже оптимизировали за нас и современный стек python или руби он довольно сложен он позволяет разработчикам быстро фигачить фичи но цена за это быстро и фига чего не и фичи в том что можно легко написать код который будет тормозить к примеру у нас может тормозить не наши бизнес-логика не база а неожиданно он от которого просто вызвали не то заклинание поэтому от python и ruby разработчиков требуется довольно в такая квалификацию чтобы при той скорости с которой они выкатывают фичи код не тормозит стек может разработчики не всегда могут этот стек он предназначен для бизнес-логики руби разработчик обучается несколько лет чтобы выучить много много много dsl магии и затем в течение 10-15 минут по щелчку пальцев реализовывать бизнес фичи но если нужно что то сделать очень быстро всегда можно вставить нативное расширение на раст или и дэвид хайман хенсон автор ruby on rails один из авторов bass комп и нового почтового сервиса хэй dot com недавно сказал в твиттере что он тратит в год 3 миллиона долларов на все сервера которые обслуживают все продукты компании и только 15 процентов этих серверов выполняют rubicode что же делает остальные эта база каши логе бэкапы и вся а то инфраструктуру которую мы делаем для больших проектов дэвид задался риторическим вопросом а что случится если эти hero мацумото каким-то чудом ускорит руби в 10 раз а ничего не случится он сэкономит мне очень большое количество денег сравнимая со штатовская зарплатой нескольких разработчиков стоит ли игра свеч каждая поездка на лифт это штатовский а сервис такси стоит компанией 14 центов которые компания платит amazon у за каждую поездку за сервера но если бизнес не про компьютеры если бизнес не делает инфраструктуру для других разработчиков а приносит прибыль на принесение какой-нибудь пользы в реальном мире то такая цена абсолютно оправдана или возможно нет я предлагаю обсудить у нас есть восемь минут сапожник в сапогах гриша петров друзья руки в небо давайте зададим вопросы если вопрос есть в онлайне тоже стучитесь к нам нажимайте на правильные кнопки прошу только масочку а то ну что так сразу бишь приятно спасибо за доклад я смотрел на самом деле предыдущий доклад который про почему руби медленный честно говоря меня как человека который раньше писал на джесси бомбануло и бумага немножко вот по такому моменту то есть как бы вот не знаю память меня не интересует на самом деле но я заметил вот такой момент который как мне кажется ты полностью обходишь стороной это то что вот например хочу скрыть есть классный jit но есть ограничения и ограничения они связаны с тем что я еду на сколько я знаю быстрый только в тех моментов когда у тебя код достаточно прямолинейный и его можно оптимизировать то есть если вдруг у тебя но как бы есть к итачи саму а телка ты складываешь числа пока там числа все хорошо есть там но ты нам бар или строка все начинаете оптимизироваться если у тебя код не очень хороший и у тебя периодически ситуация только туда-сюда скачет то соответственно у тебя как бы постоянно туда-сюда и у тебя производительность может просесть это наверно та самая ситуация что руби и jitka до завезли наверно похожая ситуация но не факт вот это один момент другой момент и в java скрипте это норм потому что же wisecrack он не настолько динамические как руби то есть в нем нет мир метод missing там появился прокси что-то типа подобного но это появилось потом и не так часто используется обычно это не используется то есть как бы вот теперь вот как бризе мира то есть вопросу может сказать отправки я в том что на самом деле истинная причина почему джесс быстрый арубе нет потому что же с не настолько динамический и за счет именно этого его можно так быстро оптимизировать же том спасибо вот друзья это был короткий мастер класс как сделать короткий доклад форме вопроса на хайло де игре мая причина в том что java script принес в жертву совместимость по памяти java script как язык он рассчитан на то чтобы работать в браузере и но до использует движок weight этот язык да но ты вообще не был рассчитан на интеграции на интеграцию сопин sl на интеграции фишечкой поэтому что сделала команда google а ну начнем с того что они заплатили очень много денег и наняли топовых инженеров реально те люди которые делают java-script там руководитель команды это чел который до этого делал виртуальную машину для java потом до этого делал еще какую-то виртуальную машину это лучший в мире специалист по созданию виртуальных машин и вот они сделали для java скрипта очень крутую виртуальную машину которая берет код а затем как миксер перемалывает этот код в очень очень очень мелкую кашицу которое максимально эффективным способом вот буквально разливается по хишам процессора чтобы процессор мог этот код кушать и не подавится и ты совершенно правильно заметил что java script он как и java это перри компилирую щая виртуальная машина движок уэйд он постоянно пылится на выполнение джаваскрипт кода пытается найти а вот какой код там выполняется большую часть времени какой ход горячий и он смотрит на этот код и снова его перри компилирует но сделать это мы можем только в том случае если мы не хотим интеграции по памяти если мы не хотим интегрироваться с криптографией с картиночками со звуками совсем и можем перемалывать наш код в эту кашицу в этом главное различие память python и ruby могут интегрироваться java script но он тоже может интегрироваться но это будет намного намного медленнее ты что-то хотел спросить я помню что-то коварное что-то зловещее сделает а пока я стою на сцене у меня реально плюс 20 хитрости и коварству я могу ответить на более сложные вопросы чем те которые вне сцены давай я готова поговорим 15 процентов которые тратятся с компом на рубина на самом деле если бы я был нормальный язык то не надо было бы тратить много тех шестидесяти восьмидесяти пяти процентов вокруг который часто ходят на балансир опиши очереди всякую прочую обвязку которую нельзя сделать народы потому что он не очень быстрый поэтому назвали то не очень корректный аргумент вот то есть там понята кипятит вы явно там написано чем-нибудь ли вам вообще много всякого налево написано и это интересная гипотеза опорного расклада я действительно не видел но учитывая что дэвид занимается этим больше двадцати лет публичная персона у них там постоянно какие-то скандалы с bass компом я предполагаю что он играет честно и оставшиеся 85 процентов они не про какую-то инфраструктуру которую нужно только для рубей это что он называл базы данных хранилища бэкапы очереди да безусловно если бы мы написали все к примеру носиш очки с х прокси вместо engine x там и мы смогли бы что-то на шаманить ценой нескольких десятков разработчиков но я не думаю что там что-то бы сложилась раз в десять это но там плюс минус в два раза не те пропорция мне нравится как вы выдерживаете нагрузочное тестирование убаюкивающий голосом гриши соли никто не спит да пожалуйста вот справа под фонарем и спасибо за доклад у меня такой вопрос вот вы рассказали про а то что мы платим за скорость вопрос когда мы не платим за скорость в тех же плюсов мы начинаем очень часто изобретать велосипеды в тех же потому что там пашнях мульти порты надо откуда-то скопипастить потому что плохо с библиотеками еще что-то и мы еще платим за то что мы начинаем ну поддержка сообщества у нас в питоне достаточно высокая в отличие от плюсов когда то на что то вот известно подключить вопрос нет ли не кажется ли что где-то должна быть золотая середина в том что вот плюсы хорошо там условно число дробилку а по верху надо обмазать тем что ну сейчас поддерживается сообществом и активно развиваются по части бизнес логики в данный момент я не знаю какого-то хорошего простого способа сесть сразу на три стула ну надо понимать что три стула это не то что мы выбираем 2 а третий сразу из-за исчезает нет это то что мы выбираем 2 закладываем их в архитектуру нашего языка а дальше 3 становится пропорционально сложным мы либо делаем компиляцию и тогда перемалываем нашу память структуру данных сами либо мы не делаем компиляцию делаем виртуальную машину и мы можем эти структуры данных отдать каким-то внешним расширением а вот как сделать чтобы код был одновременно и эффективном по памяти и можно было интегрироваться с расширением ну как бы либо миксер в кашицу либо нарезка либо нарезка либо миксер в кашицу а как можно сделать одновременно ну вот хорошего способа не нашли что используется на практике используется язык с высокоуровневом приятным синтаксисом например python или руби который нетороплив это заложено но совместим по памяти и используется язык который тоже совместим по памяти и очень-очень быстро например rostik или си плюс плюс делается нативное расширение конечно это не серебряная пуля во многих случаях такая интеграция не пройдет и так как я выступаю на highload многие из вас знают эти случаи но для большинства мейнстрим проектов то что делаем мы как заказная разработка делаем расширение на расти то что делают наши коллеги для бизнеса это работает я вижу будущее к нам подсоединяется человек из всемирной паутины если остался вопрос из интернета просим пожалуйста его сейчас задать ты можешь подойти к экрану и посмотреть своим всевидящим взором если чек не испугался и не отвалился о привет михаил привет задавай пожара дарья я такого я с небольшой задержкой смотрел поэтому не знаю может вопрос уже был спасибо кстати за доклад очень атмосферно вот смотрите вы когда рассказывали про application server очень много вещей типа управление тем насколько надо масштабировать убивать и процессами где-то на очень сильно пересекается с тем что реализовано в польше все обернется и прочих системах то есть насколько нужен год в реалиях вот современный контейнеризации вот этот апликэйшен сервер потому что делается ли двойная работа смотрите безусловно applications сервера появились очень очень давно собственно говоря если взять книгу 95 года известного нам издательство о'рейли о том как фигачить интернет мы увидим там apache сиджей это такой прообраз applications серверов и какую-нибудь пир лавочку современный applications сервера они давали всю эту функциональность тогда когда еще не было пин шифта не было докера не было кубов и сейчас конечно часть этой функциональности уже надежно приземлилась в губы докер другие решения и ее уже можно не реализовать в апликэйшен серверы но для многих проектов средней сложности поменять одну строчку в конфиге уезжай и получить к примеру балансировщик или очередь или фоновые задачи это фундаментально проще чем настроить кластер кубов хотя я думаю через несколько лет кубы сопин шифтом это всё съедят но пока еще можно пользоваться давайте последний в обслуге спасибо миша вот там в темноте как ты любишь все на пределе спасибо за доклад вопрос пользоваться фрейм орками все таки удобно и есть мнение что если убрать такую составляющую какой рэм и переписать всего на чистый стиль то это значительно ускорит несмотря на все остальные фишки которые фреймворк предоставляет так ли это и второй вопрос там были данные по джангар что насчет фласка он кажется менее нагруженные если там ну так же он в 15 раз медленнее чем чистый python или фласку это практически чистый python он дает уровень только роуч ингой и если вы зайдёте на те com-порту увидите там совсем другие цифры а что же до первого вопроса я его забыл повторите пожалуйста true уверен если вы да все я его вспомнил про р.м. это то о чем я рассказывал про сложность современные о р м они крутые они позволяют делать ван ту ван wand у меня не позволяют делать сложную фильтрацию фрейн feels и много разных крутых штук и очень легко выстрелить себе в ногу поэтому python или руби разработчик перед тем как он сможет воспользоваться всей мощей фрейм в к ему конечно же надо поучиться и многие кейсы когда говорят что python тормозит руби тормозит евро он приходить у нас все тормозит чините мы приходим и понимаем что там просто неправильно использован корм кто-то что-то скопипастил и stack overflow она немножко не по инструкции она заработала но как она заработала насколько чудовищный неэффективный school запрос получился под капотом не потому что у rm плох а потому что у rm сложен и прежде чем начать пользоваться алхимии или django orm нужно почитать несколько сотен страниц документации к сожалению не все это делают у нас есть время на финиширует финиширую щий вопрос пожалуйста а ну вы сами показывали график что на простейших запросах любой язык программирования обслуживать там миллионы запросов в секунду и в целом все норм но соответственно highload начинается обычно там где у нас сложное бизнес-логика а сложное бизнес-логика значит что скорее всего это приложение очень большое и его там у него большой жизненный цикл его придется rip factory а а python язык с динамической типизацией и рефакторинг темп крайне затруднен то есть фактически выходит что python не пригоден для эхолота или там как там можно обойти эти проблемы динамической типизацией невозможности рефакторинг большой проект или он только для в рейтинге проектов я помню перфокарты я помню basic я помню девяносто пятый год я создавал radmin но я помню те времена когда python был с динамической типизацией и руби был с динамической типизацией п х было с динамической типизацией types java script был с динамической типизацией знаете это времена прошли уже много версий в python есть великолепный grey dial taipan где вы выставляете типа вот я прямо сейчас для нашего go my то подготовлен доклад с нашим разработчикам и это доклад не просто про дженерики в.г. а про то как дженерики в гоу соотносится с сюрприз-сюрприз дженериками в пальто не знаете generic of paid они они покруче чем будут в год через некоторое время но кошечка реально старается ответ на ваш вопрос это grey dial той pink современный способ использовать типы мы можем быстро быстро быстро фигачить код на динамическом языке python вы их а руби и java-script а затем как только наш код стабилизируется добавить типы и линдер нас защитит реально работает"
}
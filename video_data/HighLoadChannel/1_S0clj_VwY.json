{
  "video_id": "1_S0clj_VwY",
  "channel": "HighLoadChannel",
  "title": "Протокол MirAccept 2.0: что нас ждёт дальше / Алексей Касякин (Мир Plat.Form)",
  "views": 461,
  "duration": 2772,
  "published": "2024-04-17T01:10:29-07:00",
  "text": "Алексей косякин из мир платформ прочитает нам доклад про протокол мир Accept 2.0 уже много говорили сегодня о нем вот что нас ждет дальше Да и наверное вот тот я все-таки задам этот вопрос сразу заранее чем это отличается от 3DS 2.0 Наверное это такой лейтмотив очень Центральный Да будет Алексей попрошу поприветствуем Да всем Привет ещё раз Привет Меня зовут Алексей косякин я технический владелец платформы 3D Secure в компании нспк нспк это оператор платежной системы мир но также других платежных систем представленных на российском рынке и сегодня я действительно расскажу про протокол miraccept именно 20 в том числе про разницу 1 и 2.0 заранее хочу поблагодарить всех самых стойких кто сейчас 6 часов нашёл себе силы желания всё ещё здесь присутствует и послушать этот доклад Я понимаю что действительно день был очень насыщенный поэтому Благодарю вас за это постараюсь надолго не затягивать мой доклад на два блока разделен в первом мы поговорим больше Вот именно против технологии то есть вообще как она работает Зачем нужна в том числе ещё раз где может быть новых слушателей э расскажу про сервис принятие решений э многие уже кто оставались предыдущего докладом может быть что-то повторно услышит Ну тем не менее вынужден буду повториться а во втором блоке он будет покороче Ну немножко поговорим про технику Как выглядит архитектура системы с какой нагрузкой Мы работаем и так далее Итак вынужден тоже сделать небольшой дисклеймер Александра рассказывал о своем выступлении про этапы проведения по банковской карте действительно в пределе может быть до 4 этапов из них часть является опциональная часть обязательная вот конкретно аутентификация да Или проверка пользователя через 3dcure это как раз таки опциональный этап используется он только для операции электронной коммерции или операции в интернете э дальше следует авторизация этого собственно тот момент да Когда вы проводите платёж и получаете sms-сообщение или push-уведомления о том что денежные средства по вашей карте списаны на самом деле они в этот момент ещё не списаны они только халдизируются или замораживаются временно а само движение происходит на этапе клиринга на банке обмениваются платёжными требованиями происходит собственное движение по карточным счетам А и есть ещё четвёртый этап он самый редкий это этап э-э диспутного цикла так называемого этап диспутов когда стороны могут урегулировать какие-то спорные ситуации и в рамках моего доклада опять же я буду рассказывать только в основном про первый этап это 3D secura вот идентификация у остальных этапы будем касаться очень поверхностно и Кроме того мы сейчас не будем затрагивать вопросы проведения платежей через альтернативный инструмент такие как СПб цифровые деньги и так далее Ну большинство уже хорошо знакомы наверное технологии до 3D Secure понятно что это процесс верификации клиента при совершении операции в интернете Зачем он вообще появился Но потому что в интернете нет инструментов таких как ведение пин-кода например или там подтверждение через приложение в биометрии да То есть можно как-то проверить что лицо которое сейчас совершает операцию действительно является легитимным владельцем владельцем данной карты потому что любой человек имеющий Просто набор реквизитов то есть набор неких цифр Да может э-э использовать цифры инициировать проведение операции в интернете и соответственно идея вообще за рождение технологии заключалась в том что нужно добавить какое-то секрет в технологии называется вторым фактором который может знать только легитимные владелец карты и проверять этот секрет для подтверждения операции небольшая историческая сводка вообще этот протокол начал зарождаться в конце 90-х годов в России активно распространялась сначала 2000-х и способы подтверждения операции они претерпевали некоторые изменения постепенно изначально широкое распространение получило подтверждение просто вводом статичного пароля Ну точно так же как там от почты Да и достаточно кабинета какого-нибудь но довольно скоро стало понятно что это способ не очень безопасный потому что единожды узнав этот пароль злоумышленник мог довольно быстро совершить серию операции Да по старшей эти карточные счета и банки начали переходить к динамической генерации вот этого второго фактора вот этого секрета а но вставание на тот момент вставал вопрос доставки этого динамического да динамической величины до клиента и появлялись различные способы вот один из способов был это печать на чек банкоматах это было время когда э пользователи банковских карт намного чаще ходили в банкоматы совершали операции выдачи наличных получали балансы потому что терминальная сеть магазина не была Так широко интегрирована как сейчас и соответственно на чеках какое-то количество этих кодов могло печататься там 5 10 кодов и человек мог использовать их для совершения операции и в интернете также были такие методы как например скретч-карта Это такая пластиковая карточка которую нужно было получать в офисе банка на ней печаталась какое-то количество тоже кодов обычно там несколько десятков было И когда вы совершали операцию в интернете попадая на страницу вашего банка вы соответственно брали там монетку или что-то ещё стирали этот стирали защитный слой напротив того кода который был указан на этой странице там была айдишник и вводили этот код Ну соответственно Этот способ тоже был не очень удобный потому что коды на эти карты их заканчивались нужно было за ними ходить получать выделение новые при утере этой карты опять же ваши денежные средства оказывались под угрозой и тоже был не самый лучший вариант были ещё некоторые экзотичные способы именно такие как например специальный ридер куда вставлялась чиповая карта и код динамически генерировался для каждой отдельной операции были карты с дисплеями которые тоже умели динамически генерировать эти коды Но это все широкого распространения не получила Это было довольно дорого не очень надежно и в общем в массы не пошло Ну из развития широким распространением мобильной связи смс-сервисов таким наиболее компромиссным с точки зрения удобства и безопасности клиента оказался способ доставки вот этих одноразовых кодов через сначала sms-сообщение а в последние годы через приложение мобильного банкинга Ну и перед тем как продолжить Давайте разберемся с терминологии потому что здесь очень легко запутаться Значит есть в целом технология 3D Secure зачем она нужна И краткую историю я уже рассказал При этом когда говорят про 3D Secure обычно подразумевают сейчас уже до 2 версии протокола одна старая версия 3D Secure 10 которая зарождалась в начале двухтысячных и вторая версия inde 3DS 2.0 первая версия сейчас уже считается безнадежно устаревшей она не развивается не поддерживается при этом отмечу что в России по некоторым организационным причинам на этой версии продолжают работать 3DS операции двух крупнейших международных платёжных систем а вторая версия была опубликована консольцомви это организация которая занимается разработкой стандартов платёжной индустрии первая версия была опубликована в 2017 году и содержат некоторые важные улучшения нововведения о которых я буду рассказывать дальше И когда мы говорим Про Сервис мир Акцепт Мы в действительности имеем в виду просто реализацию протокола 3dcure конкретно для карт платёжная системы мир их настоящий момент весь трафиксера для карт мира работает только на современном протоколе деньги 3DS 2.0 или нет Ну еще повторю пару на простых терминов так как дальше они будут тоже использоваться очень кратко Итак эквайра называется банк который обслуживает торговый сервисное предприятие То есть это могут быть банкоматы это могут быть пост терминалы в магазинах это мог быть виртуальные терминалы для совершения операции в интернете эмитент это банк который имитирует то есть выпускает карты привлекает физических лиц для этого как клиентов платежные системы это организация которая устанавливает единые правила по которым эквайры-эмитенты взаимодействуют это очень важно если платежная система не было то все банки вынуждены были бы интегрироваться друг с другом напрямую по каким-то своим правилам это было бы такой огромный ком спагеттингейшен у нас в России только в одной большей стаи эквай больше 100 эмитентов в мире они исчисляются тысячами и соответственно Это бы работало очень плохо А ну и миксер как я уже сказал это протокол 3D Secure для проверки операции в интернете по картам мира вообще почему название 3D Secure Вот это 3D это freedomain То есть три домена они на слайде коротко тоже про них расскажу к домену эквайера помимо самого банка эквайра относится также как правило магазин это может быть также отнесен сервис провайдер какой-то который обеспечивает процессинг платежей для магазина То есть это вся инфраструктура именно торговая которая взаимодействует с клиентом и выстраивает торговые отношения в платежной системе находится компонент directories Server который на техническом уровне обеспечивает как раз интеграцию всех эквайеров со всеми эмитентами и домен эмитента принят относить помимо самого эмитента клиента физическое лицо держатели карты и само карту Ну и Давайте еще раз Какие же задачи все-таки решают мне Roxette но Про первую задачу мысли много говорили это с одной стороны защита от мошеннических операций обратной стороной является повышение целым доверия к электронной торговле к операции в интернете мы действительно на своей стороне тоже видим постоянный рост постоянное увеличение оборотов электронной коммерции но есть ещё одна задача интересная но третьим пунктом показана который зачастую рядовые пользователи не знают Это задача связана с так называемым переносом ответственности Дело в том что клиентам платежной системы в действительности не является физическое лицо клиентам платежной системы являются банкиры и эмитенты и платежная система устанавливает специальные правила по которым финансовую ответственность перераспределяется между этими сторонами в случае если происходит мошенничество Давайте посмотрим на примерах Как это работает если у нас есть магазин который принимает решение провести операцию в интернете при этом не проверить клиента через мерокцепт он это может сделать по своим причинам никто его не обязывает все операции проверять то в этом случае если дальше данный клиент обращается к своему эмитенту и говорит я эту операцию не совершал это операция мошенническая если при этом он еще идет в полицию пишет заявление И подтверждает передаёт это заявление также банк эмитенту прикладывает дополнительные документы то эмитента с точки зрения правил платежной системы есть все основания выставить возмещение внесенного клиентам убытка на сторону эквайера а эквайеры в свою очередь в рамках договоры договорных отношений как правило перекладывают эти убытки на магазин логика здесь следующая раз магазин решил не проверять клиента и в итоге это такой операции прошло мошенничество значит магазин и должен за это отвечать Если же магазин принял решение проверить операцию с использованием мира Акцепт и прошла успешная аутентификация то есть код был проверен и эмитент подтвердил легитимность владения платежным средством то в этом случае эмитент уже не имеет права выставлять возмещение на эквайера и Спорная ситуация должна регулироваться между эмитентом и клиентом самостоятельно без привлечения клайера и магазина мы Давайте поговорим что же не так 10 и вообще среди Secure 1.0 сегодня этот вопрос звучал на докладе Александр Баженовой действительно протокол Работал больше 20 лет Ну довольно неплохо защищал платежи в интернете в целом и все было достаточно хорошо но как оказывается было все не совсем хорошо Выяснилось что добавление вот этого дополнительного шага проверки даже такого простого как вот например одноразовая пародия четырех цифр приводят на практике к заметному заметные потери так называемой конверсии конверсия это если говорить простым языком доля клиентов которые успешно дошли до оплаты успешно совершили оплату Точнее от той доли клиентов которые изначально намеревались эта оплата совершить То есть если у нас есть условные 100 клиентов какого-то магазина который набрали корзину готовы расстаться со своими деньгами хотят заплатить за этот товар переходят к оплате то до успешного э движения по счетам денежных средств дойдут не все 100 нас скажем 92 или 95 какая-то часть из них отвалится и часть как раз отваливается на этапе э проверки верификации через реакции почему это происходит но происходит по разным причинам могут быть проблемы со связью может не доходить SMS телефон может оказаться разряжен может находиться где-то в неудобном месте Ну например телефон поиграть ребёнку сами в это время пошли совершать какую-то мелкую покупку у вас по ней запросили подтверждение вы решили Ну что я буду отвлекать ребёнка Пусть уже реагирует потом забыли вообще про эту покупку и в итоге как бы она не состоялась Ну Мог бы мог быть разные совершенно случаи тем не менее цифры есть и независимые исследования на этот счет и те цифры которые мы на своей стороне видим как платежная система показывает что действительно зависимости от категории магазина от целевой аудитории потери конверсии может составлять от 5 до 15 процентов Ну и как вы понимаете В общем объеме и коммерс в России 5% даже это огромная величина Какое же предлагается решение этой проблемы Ну вот здесь у нас коротко как раз представлена сравнение двух протоколов самое важное следующее в первой версии протокола аутентификация могла быть признана успешной только в случае проверки второго фактора во второй версии протокола появляется новый сценарий аутентификации который получил название frictions и его смысл заключается в том что не обязательно подтверждать операции вторым фактором чтобы признать ее успешно аутентифицированный и о том как это действует сегодня уже отчасти рассказывал опять же Александра Я немножко с другой стороны тоже про это расскажу идеи здесь в том что Анализируя окружение в котором совершает совершается операция Анализируя ее атрибуты устройство пользовательское поведение можно довольно с высокой вероятностью определить что операция не является мошеннической даже ничего отдельно не спрашивая у клиента то есть например если клиент совершает типичную операцию в магазине в котором он это часто делает предположим заказывает корм питомцу или что-то подобное и он раньше уже успешно совершал операции в этом ТСП то очевидно и с этого устройства Да и с этой же карты там же очевидно что с очень высокой вероятностью очередная такая операция не является мошеннической в дополнении для того чтобы это работало но здесь очевидно Да применяется определённые системы рискового анализа они могут быть построены на разных алгоритмах могут быть может быть мочи на лён Но для того чтобы это хорошо работало в том числе здесь очень полезно точно идентифицировать устройство и для того чтобы это делать используется собственно либо сборы браузера фингер-принт Если речь идёт про браузерный канал либо используется интегрируемые библиотека 3DS sdk Если речь идёт про э платежи через мобильное приложение магазинов или банков Ну и Давайте таком верхнем уровне разберем потоки данных вообще какие стороны здесь чем обмениваются и так у нас есть клиент который набрал корзину собрался что-то оплачивать в интернете если магазин принял решение что по этой операции требуется аутентификация через мерахцепт он я напоминаю может решить что это не требуется для того чтобы например не потерять потенциальный конверсию такой операции Но если всё-таки решил то на шаге 2 у нас происходит для браузерного сценария вызов определённого адреса в iframe скрытом iframe в браузере клиента при обращении на этот адрес сервер возвращает некоторые скрипт который выполняется в окружении клиента собирает некоторые данные о его устройстве передаёт их на сервер а далее на шаге три магазин у нас вызывает своего эквайера или платёжного сервис-правайдера и говорит проведение пожалуйста оттенкации через меры Акцепт для вот такой-то операции далее на шаге четыре и хваляр направляется соответствующее приклад в рамках уже протоколы не roxet 2.0 на directory Server платежные системы платежная система сопоставляет этот запрос с теми данными о устройстве которые были собраны на втором шаге и направляет запрос на оценку в сервис принятия решений о котором сегодня уже упоминали все распринятия решения проводят рисковую оценку этой операции возвращает ответ и далее сервер направляет запрос на шаге шесть к эмитенту карты здесь важно отметить что конечные решения о том По какому сценарию frictions или Challenge проводить аутентификацию принимает именно эмитент Поэтому если эмитент например доверяет оценке spr то он может провести операцию по frictions если у эмитента есть собственная система риска анализа то на шаге 7 может направить данный запрос на оценку в свою систему и либо опираться на ее оценку либо скомбинировать ту оценку которую он получил от спр с оценки собственной рисковой системы в итоге если эмитент принимает решение что риск операции низкий он может ответить на аутентификацию по friech и расскажу немножко подробнее про spr spr это roll-base настоящий момент продакшне ролл-бэйс система рискового анализа в ней настроены сейчас порядка 100 различных правил которые анализируют несколько слоев данных это слои данные аутентификационного потока miracer 2.0 данные по авторизации оценке фрот мониторинговой системой которая работает в традиционном слое и данные о подтвержденных мошенничествах которые передают платежную систему банки и весь абсолютно трафик который проходит через 2.0 проводят проходят оценку в спр с тайм-аутом по каждой операции не более 3 секунд Давайте еще раз чуть детальнее разберем как может выглядеть пользовательский опыт при использовании spr в целом spr весь трафик оценивает условно в три зоны зеленая зона это зона низкого риска с рекомендации не проводить проверку желтая зона это зона среднего риска с рекомендации провести проверку вторым факторам и красная зона это зона высокого риска с рекомендацией вообще отказать проведение операции Итак если у нас операция оценивается с низким риском то есть зеленую зону то возможно три различных сценария если эмитент принимает эту оценку от spr то он проводит аутентификацию по frictions и от клиента никакого подтверждения не требуется если эмитент отказывается принимать оценку спр либо по иным причинам может быть он свой рба есть он сказал что операция рисковые и нужны проверить то секундочку Да даже если эмитент запросил проверку Челлендж то эквайер может по своим причинам отказаться от проведения Челлендж почему он может так сделать Ну например потому что он тоже получил данные оценку по операции от spr и от оценка низкая либо у эквайра могут быть свои системы риска анализа и они показали по операции низкий риск Соответственно в этом случае подтверждения тоже не потребуется Если же у нас и эмитент и эквайр отказались проводить аутентификацию сценария то она уже неизбежно пойдёт по Челлендж и клиенту потребуется вводить второй Фактор А если же мы говорим про оценку спр в жёлтую зону со средним риском то здесь понятно будет проверка вторым фактором при условии что эмитента нет своей системы риска анализа которая скажет что-то другое и в случае оценки риска высокой рекомендуется Отклонить операцию и даже не проводить её подтверждение вторым фактором потому что очень высоко риск мошенничества И что даже второй фактор может быть обойдём какие слои данных анализируются spr для принятия решения Ну данные об устройстве о них уже упоминал но сюда же можно отнести и данный iPad геолокации использование анонимайзеров VPN данный кук их аналогов это все данные которые передаются в рамках прикладного протокола imp3 de Secure 2.0 это данные о мерчэнте о валюте а сумме категория торгового предприятия это могут быть данная ema или телефоне силы и так далее достаточно большое количество разнообразных данных может передаваться данные о тех сущностях которые участвуют в Операции Но помимо самой карты списания это могут быть для операции переводов и зачислений данные о телефоне о счете а другой карте и проверяется вхождение этих сущностей в разнообразной черные списки и все эти данные смотрятся на некоторые истории то есть то чем я уже упоминал анализируется именно пользовательское поведение на определенной глубине В итоге все эти слои проворачи ваемые через рисковые правила дает spr возможность оценить операцию с каким-то цифровым значением Ну и несколько таких простых правил Мы в действительности не можем раскрывать устройство нашей рисковой модели она является закрытой для того чтобы у на злоумышленников не было потенциальной возможности адаптировать свое поведение под работу правил Ну просто несколько простых примеров да Ну соответственно в негативный споринг операция Может смещаться в случае если по данному устройству есть подтвержденные мошенничество если есть факт подделки данных об устройстве либо если местоположение устройства нормально меняется Если же мы видим что по этому устройству по этой карте было многократно успешной операции они успешно были подтверждены вторым фактором то это повод для смещения оценки Наоборот в положительную зону Ну и вот немножко повторюсь здесь по поводу показателей работы spr в настоящий момент spr оценивает 40 процентов примерно всего трафика с низким риском с рекомендацией Проводить аутентификацию по frictions 60 процентов на самом деле там 59 процентов это желтая зона и примерно 1 процент Красная на первый взгляд может показаться что 40 процентов это мало Ну то есть в принципе в общем потоке операций реально на мошеннических там меньше процентов Да но сейчас модель настроена таким образом чтобы максимально минимизировать пропускаемый в рот то есть она закручена в более безопасную сторону э и собственно это даёт свои плоды вот уровень форода в нашей зелёной зоне составляет всего 16/100 базисных пункта это действительно совсем немного при том что среди трафика с подтверждением вторым фактором уровень фронта составляет 1,4 С какими ограничениями мы сталкиваемся для широкого применения spr и введение его как бы в повседневность в повседневную жизнь гражданам плательщиков Ну первое то что конечное решение как я уже упоминал о сценарии аутентификации за за участниками в первую очередь это эмитент Да ну эклер тоже может на своей стране решать пойти в Челлендж или не пойти есть некоторые сложности с внедрением 3DS с дикие библиотеки в мобильное приложение потому что как правило эти проекты связаны с существенными затратами изменениями платёжной инфраструктуры на стороне магазинов и банков и не всегда для банков очевидно Какие преимущества и Выгода они от этого получают Ну и вообще в целом развитие собственной систем риск анализа на стороне банков Эта история довольно дорогостоящая и сложная на нашей стране тоже есть некоторые технические ограничения во-первых это не идеальная сборных об устройствах но в частности браузер фингер-принт у нас собира является не очень хорошо например для iOS систем естественно есть некоторые ограничения по глубине да то есть мы сейчас смотрим глубину при анализе истории на несколько месяцев Ну там сильно больше не можем смотреть в силу технических ограничений не можем наворачивать бесконечное количество правил то что каждое правило это некоторые накладные расходы которые увеличивают время ответа нашего сервиса и есть еще некоторые сложности с разнородностью данных потому что в рамках протокола передается много различных полей и разные магазины заполняют разные поля разными данными поэтому правила приходится адаптировать собственно то что приходит Ну и теперь перейду ко второму блоку про чуть больше про технику С какой нагрузкой Мы работаем но в первую очередь когда мы говорим про нагрузки мы ее обычно бьем на два типа это бизнес нагрузка и в этом в этих терминах мы понимаем под одной операцией конечную законченную аутентификация да то есть весь цикл когда клиент подтвердил учитывая все промежуточные прикладные запросы которые проходят если говорить в этих в этих терминах то в 3DS 1,0 у нас нагрузка пиковая порядка 100 теперь 2.0 нагрузка ещё чуть-чуть выше порядка 120 теперь и суммарно это даётся соответственно где-то 220ps это именно мгновенная пиковая нагрузка в среднем она ниже Если же разбить все вот эти бизнес конечная операция на отдельные htp-запросы которые э стоят Да внутри то получится нагрузка около тысяч типе с пиковый даже немножко больше Ну и отдельно у нас стоит нагрузка связанная со сбором фингер-принтов по источникам нагрузки Она нас тоже делится на два типа с одной стороны это Хосте хост компоненты именно из инфраструктуры банков это мерчан плагин интерфейс интерфейса и 3D сервер от эквайеров и акция с Контрол сервер у эмитентов и второй тип это нагрузка от физических лиц от обычных пользователей так как прикладные запросы прикладные протоколы устроены таким образом что пользовательское устройство несколько раз обращается на наши инфраструктуру и в том числе погружаются ресурсы и как я уже упоминал собираются фингер принты типичный график прикладные нагрузки за сутки выглядит вот таким образом здесь у нас минутный агрегаты только по 2004 здесь можем отметить характерную сезонность Я немножко загораживаю К сожалению характерный сезонность э в ночное время у нас нагрузка составляет где-то порядка 6-8.000 операций в минуту в дневное время пиками до свыше 50.000 можно 50.000 Но в среднем довольно типичная для вообще среднего политического поведения где-то с 11:00 до 19 часов нагрузка выходит на некоторую полку в районе 48 тысяч запросов в минуту это график за типичный будет не день он естественно может отличаться бывают одни пиковых продаж всякие чёрные пятницы и так далее ну в среднем Вот примерно так это выглядит при этом показатель времени ответа бэкенда у нас следующее пятидесятый и перцентире укладывается в 7 миллисекунд это очень хороший результат 95 процент или это где-то 330 350 миллисекунд такой большой разрыв между этими значениями обусловлен тем что в 95 процент попадают некоторые другие типы прикладных запросов которые требуют большей бизнес-логики в том числе обращения к революционным суббд на стороне приклада но тем не менее Мы также считаем что это очень хорошая время ответа и как-то его существенно увеличивать Ну точнее уменьшать не планируем несколько слов про архитектуру Она довольно стандартная никаких ноу-хаус здесь нет Э здесь мы видим источники нагрузки э в на стороне нспк У нас есть входной контур периметровая оборудование включая Firewall и наш Фронт в качестве фронта у нас используется ngx и ngs распределяет потоки на B C на стороне backend у нас многодетное предложение которое логически разведены как раз по протоколам то есть отдельный Монолит которые обрабатывает 3D s100 это 3D S200 и отдельно стоит spr и приклад соответственно обращается к своим реализационным СПД у нас это mysql и при необходимости также к железным криптографическим модулем безопасности а резервирование внутри цодов реализована за счет дуплицирования прикладных контуров обработки то есть каждом своде их несколько трафик между ними может переключаться со временем Задержки не более нескольких секунд что довольно удобно на междодовом уровне реплицирования обеспечена по довольно архаичной схеме но тем не менее она в нашем случае хорошо работает здесь используется балансировка на стороне клиента то есть те самые Хосты компоненты которые обращаются к нам за получением сервиса им предоставляется два URL адреса каждый адрес соответствует одному соду и клиенты самостоятельно балансируют запросы между этими цодами по своему усмотрению в том числе если например один из содов становится недоступен по тем или иным причинам клиенты автоматически перепланировал перебалансировывает трафик на резервный цод что в принципе тоже довольно удобно так как даёт нам гибкость при необходимости проведения регламентных работ на уровне соды или нештатная ситуация которая редко но тем не менее тоже иногда случаются по техническому стеклу разработка бэкэнда у нас на Java Spring cotlin с OBD как я сказал реляционная Майская комьюнити Edition и в целом её функционала и производительности нам хватает за глаза Наши нагрузочные тесты показывают наличие запаса ещё в несколько раз от наших текущих пиковых нагрузок но тем не менее в этом году есть планы по добавлению стека пачка Сандра Не потому что Майская чем-то плохо потому что появляются некоторые новые бизнес-задачи для решения которых Кассандра просто лучше подходит э архитектура как я уже упоминал э самого приклада этому Монолит Ну понятно какие с монолитом проблемы с одной стороны горизонтальные масштабирование но про это я сказал пока у нас таких проблем не возникает за счёт использования мощного железа некоторых оптимизаций а-а с другой стороны это понятно проблемы с потенциальным внесением багов и ошибок в старом функционале Да при добавлении нового Но с этой проблемой Мы тоже справляемся У нас расширенные широкое покрытие автотестами плюс в нашем А таймлайне диплоид есть такой артефакт как приёмочная тестирование Когда точно проверяется наиболее критичные важные функционал что в общем тоже не раз спасало вот вывода каких-то багов в Продакшен в качестве фронта использовались инженец как я уже упоминал мониторинга Ничего необычного стандартный Ялты инструмент и для того чтобы диплоить э наше приложение над этим Множественные дуплицированные контуры используем VX а ну и собственно завершение моего доклада хотел бы сделать некоторые выводы основной вывод такой мы видим большие перспективы по широкому внедрению frictions сценария в повседневность каждого пользователя платежных карт за счет как развитие spr на стороне платежной системы так и развития систем риска анализа на стороне банков Мы со своей стороны как платежная система создаем условия и создаем стимулы для того чтобы банки также более широко применяли риски в анализ при принятии своих решений дополнительный импульс здесь может придать более широкой интеграция приложений 3D sdk в мобильные приложения магазинов и банков при этом также возможен рост и доля операций которые вообще не требуют аутентификации в частности речь идет про экосистемы и маркетплейсы я думаю что многие здесь сидящие наверное замечали что при введении операций оплаты в крупных маркетплейсах как правило у вас не запрашивается второй фактор Но это происходит потому что у таких крупных организаций есть собственная система риск его анализа они знают своего клиента они проверяют Каким образом аутентифицирован клиент в приложении либо на сайте и принимают соответственно взвешенные решения требуется аутентификация или нет Ну как итог Да соответственно мы видим потенциал для уменьшения доли операции требующих подтверждение вторым фактором с текущего уровня примерно 45-50% как минимум в два раза до уровня 20-25% На горизонте в два-три года Что мешает на этом пути это некоторая инертность кредитных организаций не готовности нежелания менять привычные паттерны привычные технические решения это спорное восприятие библиотеки 3DS детей в целом на рынке и затраты связанные с интеграцией и возможно и фокус банков на развитие альтернативных платёжных инструментов Ну например таких как Ну тем не менее мы оптимистично смотрим в будущее и прошу всех не волноваться если операция не подтверждается вторым фактором скорее всего они в любом случае надёжные защищены самое главное никому не сообщайте своей реквизиты не сообщайте одноразовый код и ни в коем случае не переводить деньги на безопасные счета Вот это вообще делать никогда не надо Всем спасибо за внимание Лёша Спасибо тебе за доклад я Напоминаю что у нас 4 приза за лучшие вопросы поэтому советую вам постараться и начнем мы вот с самого центра так Алексей спасибо большое за доклад у меня вопросы по поводу того как вы собираете цифровые отпечатки браузера и устройства то есть какие инструменты использовать это фингер print.js или что-то самописное Какие параметры собираете устойчиво ли там хеш-функция ну незначительным изменениям параметров отпечатка и бывали случаи с пуффинга отпечатков Хороший вопрос Спасибо большое Да мы используем сейчас открытую библиотеку фингер GS Есть мысли по поводу того что может быть стоит сделать что-то своё но в действительности такая очень узкоспециализированная задача которая нужна отдельно заниматься и Пока особо ресурсов на это Нет в случае с пуффинга Я наверное сейчас не смогу ответить Ну подтверждённых у нас нет В целом если говорить про браузер то фингер GS не позволяет К сожалению прямо достоверно определять каждый отдельное устройство поэтому у нас как правило используется но некоторые комбинации то есть мы смотрим Что собрал финт GS смотрим Что там по кукам смотрим Что удалось storage собрать там по IP и так далее То есть комбинируя эти признаки пытаемся так или иначе устройство идентифицировать понял спасибо большое спасибо А что с устройствами apple-то будем делать Мы ищем решение Давайте дальше Да да спасибо за доклад вопрос Сколько времени ушло на разработку иммиграцию второй версии в прод Спасибо за вопрос значит здесь может быть я такую сообщу вещь довольно неожиданную но в действительности сама технологическая платформа для работы мира 720 она была запущена еще в 2017 году То есть о чем я здесь говорю я говорю о самом компоненте России на стороне платёжной системы о наборе спецификаций и стандартов для банков для эквайров и для эмитентов о инфраструктуре для проведения сертификации тестирования этих компонентов при подключении сам проект запуска этой платформы занимал порядка двух лет но намного дольше оказалось не запустить платформу как таковую а обеспечить иммиграцию всего рынка всех участников всех этих больше 100 банков эмитентов эквайдеров разработки данная разработку их компонентов сертификацию и подключения интеграции с этой системой вот этот процесс мы завершили в буквально в октябре прошлого года то есть с Октября 22 года у нас ни одной операции по 3ds-1.0 для карт мир больше не было работать только на 20 прошу Спасибо еще второй вопрос есть какие основные ну скажем три проблемы были при иммиграции с банками Какие проблемы были в банках и что Они не хотели делать Ну переходите за чего значит 3 не знаю смогу ли назвать значит основная основная проблема была в том что действительно отличается от 3DS 10 то есть на очень верхнем уровне эти протоколы похожи Там те же самые роли вроде бы и в целом несколько слов более-менее похожий но если нырнуть чуть больше в детали там возникает целая куча нюансов особенно связанных с как раз таки Application каналом из интегрирования библиотеки 3DS из детей и наверное основная проблема была в том чтобы продвинуть вот это знание об этом протоколе вообще на рынок банковское сообщество В сообщество экспертов Мы со своей стороны проводили довольно много разных тренингов обучений Ну то есть популяризировали эту технологию вот в основном наверное проблема были да именно с пониманием с тем что очень много вопросов возникало именно в технических нюансах как и что делать хорошо спасибо дальше Давайте углубимся с этой стороны кто-то хочет хорошо Здравствуйте Можно ли Нужно ли нам в условиях санкций сертифицировать свой 3DS сервер и 3DS sdk в компании mvq Спасибо за вопрос скорее всего ну то есть первый вопрос хорошо бы да Про сертифицировать второй вопрос скорее всего вас не получится это сделать поэтому это не является стоппером для того чтобы внедрять эти технологии в Production поэтому Приходите к нам все решим Давайте там в самом конце вот да Да здравствуйте два вопроса по протоколу Я вроде бы не услышал мнение клиента банка вообще учитывается например хочет поставить галочку что всегда запрашиваете второй фактор или нет Это первый вопрос и второй вопрос Вы в самом конце сказали что не сообщаете свои банковские данные Да но когда мы что-то оплачиваем интернете Мы всегда вводим номер карты строгиевых действия Да и в конце вот этот код cvs или как-то так называется вопрос так сообщать или не сообщать и как тогда решать этот вопрос возникает Спасибо за хорошие вопросы я начну со второго речь шла о сообщении по э ну например телефону да в голосовом формате То есть когда к вам обращаются незнакомые люди и пытаются выставить кем-то там да кем-то кто хочет вам причинить добро вот в этом случае ничего сообщать не надо естественно э провести операцию по банковской карте не указав её реквизиты у вас не получится поэтому речь не об этом шла по поводу первого вопроса Да тоже очень хороший вопрос но дело в том что платежная система не регулирует в действительности этот момент То есть он остаётся на усмотрение конкретных банков эмитентов какие-то из этих банков я вполне допускаю могут предлагать услугу своим клиентам установить например запрос обязательно подтверждать второй фактор Или например подтверждать он начинает какую-то сумму или какие-то счёт возможно варианты вопрос из чатика Роман спрашивает используется ли шардирование или у вас совсем монолитный Монолит на всех используется несколько отдельных монолитов вот так вот так давайте вот этот молодой человек поднимал да Спасибо большое за интересный доклад стало очень интересно Если покупатель точнее так если магазин соглашается на то чтобы авторизовать транзакцию она уходит Потом платежную систему и в систему spr и в системе spr выставляется низкий уровень риска но все-таки это оказалось на ком будет лежать ответственность кто будет возмещать ущерб тоже хороший вопрос Спасибо за него здесь действительности есть некоторые развилка То есть когда мы говорим про spr есть его базовая версия и в базовой версии sporebal STR направляется всем банкам имитентом и экватором по умолчанию И если мы говорим про базовую версию spr то ответственность остается на эмитенте также Как это сделано в рамках стандартного стандартных правил когда эмитент подтверждает аутентификация в данном случае он туда я принял оценку спр Да я подтвердил что это аутентификация завершилась успешно и ответственность ложится на него Если же эмитент хочет все-таки переложить эту ответственность на платежную систему о чем мы Александр сам докладе упоминал для этого есть расширенная версия spr и на нее может подписаться любой банк очень просто и легко но соответственно она будет немножко дороже для него стоить Ну потому что риски Да возмещение по рискам Оно всегда сколько это стоит молодой человек здесь вот пожалуйста Скажите пожалуйста про поближе поближе да Да пожалуй пожалуй пожалуйста расскажите про Вот сам переезд Да с первой версии на второй Что необходимо сделать эквайеру банку эквайру банку эмитенту магазину и если вы сказали что все уже переехали на 2:0 то это было требование платёжной системы или Как организован контракт в этом случае понятно понятно смотрите первый вопрос он больше такой ретроспективный да то есть как я сказал все уже переехали и это как бы из категории Ну общих знаний да получается то есть все уже процесс прошли в действительности в целом если на очень верхнем уровне то процесс выглядел Так что банк приходит в платёжную систему запускает проект миграции в рамках этого проекта происходит некоторые организационные действия уточняются некоторые идентификаторы проводятся сертификации этого решения обязательно на те тесты которые банк планирует поддерживать Франк данного протокола и дальше выводятся собственно новые компонент в Продакшен собственно ответил Не знаю Спасибо последний вопрос вот там был Да вот да потом будем выбирать Здравствуйте спасибо за доклад у меня вот интересует Следующий вопрос вот большую часть ecom трафика же приходится в основном на marketplace где осуществляется тип операции то есть ну как вы сказали Мы не водим значение СМСки за нас уже все со стороны торговой площадки осуществляется тогда какой реальный смысл был развивать его 3DS грубо говоря вот ну не растет Хороший вопрос смотрите для ответа на этот вопрос надо понимать во-первых то что сам запуск собственной платформы как я упоминал состоялся в 2017 году и тогда marketplace уже были но не так много да занимали не такую большую долю в целом на рынке это во-первых во-вторых даже то что мы сейчас видим это то что из всего ecommers трафика порядка где-то 45 процентов иконой операции по пре проходят с проверкой через мерах цен то есть Несмотря на то что доля маркетплейсов и экосистем растет все равно речь идет об Ну практически половине до трафика который все еще подтверждается через мераксет и в рамках вот этой половины трафика упростить пользовательский опыт сделать его с одной стороны до более легким более удобным а с другой стороны убрать потерю конверсии это все еще выглядит довольно осмысленно и целесообразной задачей спасибо спасибо у меня мой личный последний вопрос Где ролл бзет система какая-то как правило настраиваете А да там есть свои свой язык да на котором эти правила настраивается Спасибо за вопрос можно подарок первый подарок мне Давай дальше кому что Да пожалуйста двум господам желтым и которая первый был да и рядом с ним такой тоже кучно пошло еще еще один вопрос про настройку пользователем хочет он подтверждением или без этого на последнем ряду молодой человек на последнем ряду И последнее И последнее молодому человеку в черном здесь вот справа вот вам И тебе тоже подарок сейчас принесут Спасибо тебе за такой хороший последний доклад ударный Спасибо большое всем за внимание"
}
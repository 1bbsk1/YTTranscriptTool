{
  "video_id": "HheMaSV_5T0",
  "channel": "HighLoadChannel",
  "title": "Как устроена разработка Kubernetes платформы Deckhouse / Константин Аксенов (Флант)",
  "views": 370,
  "duration": 2271,
  "published": "2023-10-06T07:19:14-07:00",
  "text": "Здравствуйте Меня зовут Константин Аксёнов Я работаю в компании фант и являюсь руководителем разработки декао-супернета splatform И сегодня я хотел поделиться тем как эта разработка у нас устроена мой доклад будет интересен тем кто уже использует губернатор с продакшн тем кто только присматривается к этому если вы задумываетесь над своей разработкой какого-то аналогового под Shift на базе губернатос у меня кликер перестал работать есть ибо вы просто любите Open Source также как мы любим Open Source компании фант мы достаточно часто мы регулярно проводим демонстрации нашего продукта потенциальным клиентам и на этих демонстрациях мы достаточно часто слышим примерно один и тот же вопрос а что же такого собственно мы сделали мы просто взяли ванильный Купер не тос и засунули туда другие опасаются компоненты Я понял что кажется есть проблема И надо рассказать на хайлоуди что собственно такого мы сделали и сегодня мы постараемся найти ответ на этот вопрос хочется вначале поговорить о том что кубернетос это не только ямлы kubernets это достаточно сложная экосистема Если мы смотрим на cubernets как обычный пользователь то конечно у нас есть простые примитивы такие как диплоинд сервис Ingress Мы создали в пастере и все у нас работает наше приложение Но если посмотреть на губернатор так как мы делаем Это в компании фант то начинается сразу вопросы как нам сделать стоит приложения в кластере Как настроить автомасштабирование балансировку и мы начинаем погружаться глубже если представить кубернет сведя айсберга то мы начинаем двигаться все ниже и ниже там возникают вопросы на Как сделать беспростойные обновления в нашем классе cubernets Как настроить сеть какой сетевой плагин выбрать Как сделать наш кластер отказоустойчивым Как сделать приложение в классе отказоустойчивыми как конце концов сделать наш кластер kubernet с безопасным и в какой-то момент Вы оказываетесь один на один с исходниками кубернета здесь на дне внизу этого айсберга достаточно одинока ответы на стекле рофолл не гуглится и приходится как-то самостоятельно разбираться со всеми этими вопросами мы столкнулись с этой проблемой достаточно быстро когда начали использовать губернацию продакшне около 6 лет назад мы поняли что мы хотим какую-то систему автоматизации чтобы решить эти вопросы у нас внутри компании чтобы мы могли нашим ОПС инженерам предоставлять кластер естественно мы предъявляли требования к платформе Мы хотели чтобы наши губернатос кластеры были надежными потому что мы собирались запускать клиентский продакшн в этих кластерах Мы хотели чтобы нам требовалась небольшая команда эксплуатации чтобы обслуживать все эти кластеры кластеры естественно должны были быть идентичными потому что наши Клиенты приходят с разными типами инфраструктуры и мы хотели чтобы хотя бы кластеры предоставляли нам одинаковый интерфейс и управлялись одинаково плюс мы хотели снять нагрузку с пользователей платформы это наши инженеры чтобы он приходилось действительно минимум операции выполнять А еще в идеале Это был вообще Нокс кластер губернации и естественно кластеры должны быть безопасными потому что мы хотели запускать там клиентские продакшены и для того чтобы закрыть эти вызовы решить вопросы которые у нас возникали мы сделали дехаус у себя внутри для себя но так получилось что мы поняли что не только у нас есть такие проблемы есть вообще в целом потребность на рынке и кто-то также испытывает трудности поэтому мы сделали дехаус не только для себя для всех выложили в Open Source и теперь любой может использовать декал для решения своих проблем Что же делать декхаусхаус подготавливает инфраструктуру в Облаке либо запускается по рбм этого естественно разворачивает губернатор кластер устанавливает туда все необходимые компоненты которые реализуют безопасность мониторинг авто масштабирована все что нужно реально для продакшерди кластера и управляет конфигурацией кластеры всех компонентов всеми обновлениями настройками и так далее таким образом просто решает проблемы айсберга и скрывает от пользователя всю сложность все эти слои низлежащие и пользователь может сконцентрироваться на том чтобы запускать приложение которое приносит максимально бизнес-валью хочется отметить что де-хаус эта продукция истории первый КАМиТ был сделан 29 сентября 2017 года интерпрайз версию первого лицензию на нее Мы продали в июле 2020 ко мне не сидишин появилась 28 июля 2021 года когда мы выложили дхаус Open Source за разработкой декао стоит достаточно большая команда у нас порядка 20 человек инженеров на Full Time которые думают только про разработку эксплуатацию но я также хочу поговорить о других важных составляющих нашей команды нашими первыми пользователями изначально были команды фланта они и остаются первыми пользователями они первыми получать обновлениями первыми приносит нам фидбэк я их отношу к нашей большой команде которая помогает нам делать продукты лучше и я уже говорил что мы выложили в Open Source и у нас появилось комьюнити мы активно с ним взаимодействуем в телеграме нам приносит обратную связь по документации по фичам рассказывает нам каких-то трудностях с которыми сталкиваемся поэтому комьюнити тоже большая часть команды разработки Мы в компании всячески пропагандируем девопс и естественно мы ведем разработку солода Хаус в этом непрерывном цикле delopso и для начала поговорим о планировании если мы говорим о планировании то конечно же нужно разобраться откуда вообще мы берем задачи чтобы делать наш продукт у нас есть roadmap который сформирован до 2025 года там есть опорные точки вещи которых мы хотим достичь ближайшее время и на долгом периоде но мы прекрасно понимаем что it ландшафт достаточно быстро меняется потребности клиентов могут тоже видоизменяться мы умеем быстро реагировать менять Наши планы Таким образом у нас есть другие источники задачи которые мы понимаем как фидбэк у нас вторым важным источником задачи является команда Хаус мы регулярно заводим задачи на исправление каких-то багов работаем над стабильностью производительностью платформы улучшаем наш сайт дорабатываем тесты боремся с техническим долгом Я думаю что технический долг есть у всех и все испытывают эту проблему недавно Мы переписали закончили переписывать достаточно большой кусок с большой ногой чему Мы несказанно рады потому что ваш устаревшая история и мы постоянно заводим задачи на обновление самого губерната с обновления всех компонентов внутри кластера потому что выходит Security Fix и так далее еще одним важным источником команды задач являются devops инженеры funder клиенты которые работают с платформой они естественно привозят нам всевозможные доработки исправления багов улучшение по документации запрашивает и так далее ну и комьюнити я уже говорил про него комьюнити заводит самое интересные задачи я бы сказал мы как только выложили к нам в течение двух недель пришли и завели задачи на поддержку всех возможных провайдеров которые наверное только существуют и я первый раз некоторые даже видел после того как у нас появились задачи У нас есть процедура раз в неделю мы занимаемся планированием сортируем задачи обрабатываем их проставляем правильный источник проставляем правильный тип фича это баг или mains проставляем правильный раздел deek House в котором относится задача и приоритизируем их все обработанные задачи можно брать в релиз мы планируем релизы на двухнедельный цикл раз в две недели мы выпускаем минорную версию сам кубернет пока тоже не выпускает и у нас нет Мажоров Когда появится куб 2.0 возможно появится dehouse 2.0 и мы выпускаем патч релизы по мере необходимости в патч релизах выходит только Фиксы какие-то критических багов если нам требуется что-то поправить в релизах которые находятся на текущий момент на поддержке всё это прекрасно ложится на Flow который мы используем у нас достаточно Он простой мы создаем фичи ветки от мейна после того как работа с ВИЧ веткой завершена она мерчется обратно в Main если надо выпустить релиз то мы просто создаем ветку от мейна и вешаем тег на последний КАМиТ релизной ветки если нам нужно выпустить Fix то мы создаем фетку с фиксом бежим ее обратно в Main и черепикаем кометы в те релизные ветки которые находятся на текущий момент на поддержке всё разработку мы идем на github переезжали мы туда из Standalone Get labo достаточно было болезненно потому что мы привыкли где-то вообще но альтернативы по-настоящему для гитхабы нету по-прежнему остается самым популярным инструментом для ведения совместной разработки Что же нам дало то что мы выложили де каусурс в первую очередь хочется сказать что это дало нам доверие и уверенность со стороны наших клиентов со стороны бизнеса Потому что если раньше приходилось спрашивать у команды разработки клиенту самому Когда выйдет witcha когда приедет исправление моего Бага то сейчас они заходят на github смотрят как у нас двигаются смотрят как у нас меняется роудма и таким образом мы получили фидбэк от клиентов что это максимально прозрачно максимально удобно также открытые исходники дали нам прозрачность со стороны инженеров если раньше кто-то говорил что это фланг сделал там какой-то страшный софт непонятный никто не видел исходников какой-то вендерлог то сейчас есть обратная связь что инженеры могут посмотреть на наши исходники посмотреть какие решения мы принимали если их это удовлетворяет если они понимают почему выбрали какой-то компонент для решения задачи они могут пользоваться продуктом более уверенно им соответственно это нравится мы считаем что за декхаус должна стоять правильно идеология правильные принципы которых мы придерживаемся и только это позволит нам сделать действительно хороший продукт у нас есть подход который мы называем минимум крутилок я уже говорил что kubernet достаточно большая сложная система там естественно есть много параметров которые можно настраивать Мы в Дак Хаус даем Майло параметров которые можно настраивать Почему мы это делаем мы считаем что можно подобрать такие дефолты которые подойдут 99 процентов пользователей и только если вот остался Этот один процент который никак не решить тогда мы выдаем возможность проинтезировать это настраивать и так далее это дает нам две важные вещи первое пользователи меньше думают о настройках им нужно меньше разбираться Как работать с платформой мы снимаем когнитивную нагрузку использовать вторая важная вещь Это позволяет нам быть уверенными что даже в закрытых контурах где у нас нет доступа где декао запускается самостоятельно без нашего участия он будет работать потому что нету параметров которые можно так накрутить что все сломается также у нас есть подход что мы делаем собственный интерфейсы чтобы скрыть реализацию хорошим примером здесь является то что мы используем машин контроля менеджер от гарднера для заказа виртуальных машин в облаках У нас над гарденерскими интерфейсами сделаны свои собственные not Group instance Class Это позволяет нам под капотом поменять в какой-то момент машин контроля менеджер например на кластер epi а пользователь при этом ничего не заметит для него это будет максимально прозрачный переезд потому что он работает с нашими интерфейсами а не с картами Таким образом мы получаем подход безболезненное обновление платформы для пользователей хочется ответить отметить еще одну важную вещь мы даем свои интервенции какими-то абстракциями но при этом мы сохраняем ванильность губернатоса для и мы считаем что это очень важно и не делаем никаких форков Почему свои форки это плохо потому что форк в какой-то момент станет просто не обслуживаем его будет либо очень дорого поддерживать либо его вообще невозможно дотащить до изменений которые приехали к нам из экстрема губернации все мы знаем что губернации активно развивается это быстро развивающийся экосистема Поэтому форки нам только вредят у нас ванильный куб под капотом Еще одним плюсом ванильного Куба является то что пользователи могут работать параллельно с нашим кубернетисом либо покупать менеджерку интернету провайдер У нас есть такие кейсы пользователи довольны мы получаем от этого удовольствие Как правильно по нашему мнению приносить наши идеи в обстрим kubernets мы считаем что надо обязательно участвовать в кепах активно работать сообществом и только так можно получать все что мы хотим нового в губернатосе когда это приедет нам при обновлении мы активно этим занимаемся Мы топ-1 в России по контрибьюшну за последние пять лет по миру Мы входим в стоп-150 также мы активно работаем с другими Open Source компонентами проектами которые мы использовали в платформе нам помимо того что приходится разбираться как это все работает зачастую приходится приносить какие-то фичи свои и также фиксить баги У нас есть процесс пересборки всех образов мы все компоненты которые используем обязательно пересобираем кладем свой registry при этом у нас есть определенная процедура если мы накладываем какое-то изменение на исходные коды использовал по царств компонента то мы делаем это через наложение китовых патчей У нас есть обязательная практика что мы заводим redmi в котором описываем Зачем этот патч делается плюс Мы открываем обязательно поре квест в обстрим почему это обязательно если наши изменения в итоге доедут до экстрема то это гарантирует нам что наш функционал наши фича которую мы принесли в государственный компонент не будет сломано и мы при обновлении компонентов платформе Не получим простой в продакшене плюс если мы часто взаимодействуем с Open Source проектом мы можем влиять на развитие направление в котором движется идея в этом проекте ещё один важный момент является когда Мы открываем пауэрри квест в обстрел мы можем получить оценку наших действий мы можем понять как комьюнити относятся к этому изменению код review плюс мы можем получить обратную связь Что может быть Вообще неправильно решаем задачу будет какой-то фикс в релизе который уже запланированы нам просто нужно дождаться обновления У нас есть хороший пример мы до того как вели практику что обязательно приносим по рекоиться в обстрим держали свой патч для контейнер D Мы думали что он никому не нужен это решает только нашу какую-то внутреннюю задачу полгода мы сидели спать потом мы открыли по уреквест обстрим когда вели эту практику сделали обязательным и за две недели это все смержали мы просто полгода сидели не могли получить обратную связь и Делайте как мы обязательно приносите все ваши идеи в Open Source Я тем и частью разработки является тестирование У нас очень большое количество тестов У нас есть Юнит тесты интеграционные тесты antwn тесты всевозможные линтеры валидаторы но при этом у нас все еще есть проблемы Сейчас объясню почему The House поддерживает большое количество облачных платформ плюс декхаус умеет работать в приватных облаках на базе openstek в январе и так далее может ставится в kubernet от провайдеров сможет работать в закрытых окружениях Когда у нас нет доступа в интернет плюс мы поддерживаем несколько схем размещения для каждого публичного приватного облака ткаус работает на Очень большом количестве операционных систем поддерживает большое количество версий губернатоса в самом декхаусе параллельно У нас сейчас идет миграция мы поддерживаем два Cry Мы переезжаем с докер на контейнер Дину приходится естественно поддерживать тестировать работу на обоих плюс у нас два сиеная флан или сириум так исторически сложилось что мы использовали флан или на старте проекта сейчас у нас идет миграция Мы переезжаем на более функциональный сена виде сириума но при этом приходится поддерживать два А еще есть несколько десятков модулей которые имеют разные настройки для разных инфраструктур и таким образом в какой-то момент просто у новых инженеров взрывается голова и не понимают как же им разрабатывать как же им тестировать это все Сейчас я расскажу перед этим зафиксируем основные моменты относительно разработки тестирования публичная разработка дала нам только плюсы обязательно приносите все свои изменения в обстрим вопрос проекте который вы используете мы ввели эту практику и получили от этого тоже только плюсы у продукта должна быть идеология и правила которые позволят инженерам новым которые приходят понимать как делать фичи как правильно развиваться внутри продукта и тесты это хорошо но все протестировать невозможно И как же мы решили этот вопрос У себя а для нас все оказалось достаточно просто мы поняли что нам нужно правильно выстроены релизный процесс и тогда мы можем гарантировать что наши релизы работают мы можем быть уверенными работоспособности для этого у нас есть канал обновлений начиная от Альфа и заканчивая роксолидом и для этих каналов обновления есть определенная очередность выката у нас есть три редакции в саудовхаусе flant Edition Это редакция которая используется на кластерах куда есть доступ у самой команды Хаус И мы обслуживаем эти кластеры есть Enterprise Edition Это для тех кто купил декат претензий по лицензии и есть комьюнити едешь Мы сначала выкатываем на альфа-канале на flant Edition потом дальше мы прокатываем если все хорошо по редакции Итак для каждого канала Мы двигаемся до стейбла и выкатывая сначала на нашей кластеры мы гарантируем что в этом релизе работоспособный также для пользователей которые испытывают необходимость управлять моментом когда у них обновляется стейкхаус мы ввели окна обновлений администратор кластера может выбрать когда Deck House будет обновляться Ну а для тех кому не подходит окна обновление У нас есть ручные обновления администратор кластера получает Алерт в котором написано что вышел новый релиз де хаус есть валерте команда как этот новый релиз применить в кластере за всем этим стоит релиз инженер он занимается оповещением пользователей отслеживает процесс выхода релиза смотрит влоги телеметрию и первым получает всю информацию о проблемах о каких-то инцидентах которые случились во время релиза в помощь релиз инженеру есть ответственный за релиз это переходящая должность у нас инженеры стремятся быть ответственными за релиз потому что это классный процесс когда ты сам разрабатываешь сам докатываешь свои фичи для про допрода испытываешь какое-то определенное удовольствие Я в частности тоже иногда являюсь ответственным за релиз И получаю искреннее удовольствие Тогда я могу потом прийти клиенту сказать что мы выкатили исправление У вас теперь вопи сервере нагрузка уменьшилась меньше потребляет CPU и так далее Потому что со многими клиентами которые используют Хаус наши инженеры знакомы лично и можно передать вот эти изменения доложить что все исправлено и стало сильно лучше естественно За релиз в первую очередь помогает или с инженером и он дает финальный опрос на то что можно выкатывать релиз или можно выкатывать какой-то для отслеживания процесса релиза мы собираем улоги SD caus контроллера логис эпи сервера У нас есть телеметрия со всех кластеров которые находятся под нашим управлением мы не собираем телеметрию метрики с кластеров комьюнити интерпрайс Edition У нас есть интересные даже борды мы видим Сколько у нас всего кластеров непосредственно под нашим обслуживанием видим сколько у нас кластеров на каком-то релизном канале Какие типы кластеров и так далее вот я в частности говорил что мы постепенно мигрируем с докер на контейнер D Мы видим что количество узлов на докере за последние три месяца наконец-то уменьшается А количество узлов на контейнер D растёт постепенно идет наш переезд и скоро мы сможем дропнуть поддержку Докера Такая же история у нас с другими компонентами Например у нас inpress Controller дефолтную версию мы в начале три месяца назад где-то в одном из релизов поменяли на 11 мы видим как красный график это один версии игры с контроллера доезжает до всех продакшенов у всех меняется дефолт и скоро мы сможем перестать поддерживать старые версии типа 033049 который уже постоянно с какими-то проблемами отстреливают как же выглядит процесс автоматического обновления bitcouse я уже говорил что мы собираемся наши образы в нашей жизни помимо этого у нас есть для каждого канала специально протегированный образ который по имени тега соответствует каналу стабильности в этом образе только метаинформации там релиз Ямал лежитхаус у меня в классе работать на релизе 135 он периодически обновляется скачивает этот тагированный специальный образ получает информацию что у нас на канале stable появился релиз 1363 декхаус проверять что все требования релиза выполнены например в требованиях по релизу может быть указано что эта версия decouse больше не поддерживает игры с контроллеры то 11 если в кластер есть такие контроллеры для House просто не пойдет обновляться также deek House проверяет окна обновлений Какие настройки выставлены можно на текущий момент применять релиз если окна обновление ок то декалс просто применяет себе новый тег проставляет на дипломант и таким образом новая версия запустилась в кластере Ну а дальше я думаю предельно понятно хочется только отметить что если у нас смена релиза Идет проверка требования выполняется если как здесь выпускается патч-версия то патч-версии мы докатываем без учета окон обновления Без учета ручных обновлений Почему так делаем потому что в патч версиях содержится Фиксы критических проблем Мы хотим чтобы они как можно быстрее доезжали до продакшенных клиентов но естественно вроде бы все гладко и красиво и но бывает проблемы и в частности самые забавные проблемы было когда мы сломали свой же механизм автоматического обновления мы выкатили такой релиз декалс в котором просто даже лекалась контроллер падал с паникой и переставал работать нам Здорово помогли канал обновления и то что мы выкатываем в кластеры куда У нас есть доступ потому что пришлось вручную идти менять декхаус на правильный тег и только это могло починить проблему из этого мы сделали Вывод что нужно срочно тесты которые проверяют что релиз обновления релиза обновления минорной версии прошел корректно потому что проблема случалась именно при переключении минорной версии релиза также у нас был интересный случай с докером я так много про него говорю потому что во многом он уже стал ненавистным нам при обновлении куби лет у нас просто зависали узлы уходили в нотрде на докере именно 1809 обновлялась всего лишь патч-версия кубилеты нас в данном случае спасло в первую очередь то что мы катаем на канал Release stable с помощью канарейки и проблема мы отловили только на канале Access мы столкнули канарейку за эффект его порядка 10-15 процентов мастеров там по несколько нот отстрелило потому что только сессии оказались кластеры с таким старым докером мы поняли что нам надо срочно дропать не только поддержку Докера дропать хотя бы поддержку старых версий Докера и мы прямо релизом зафиксили сказали что нельзя дальше обновляться пока не обновишь докер бывает у нас и чисто менеджерские истории был интересный кейс когда мы уведомили клиентов Через аллерты что есть дебрики в версии cubernets 1.22 там надо было версии банкноте версия фишки ingresso наши инженеры компании flant получили эти аллерты прошлись по десяткам а то и сотням репозиторий радостно и подумали что можно больше ничего не делать и мы выпустили релиз которым сказали а теперь еще ну буквально через пару релизов мы сказали а теперь еще в 125 будет следующий и это все в одном репозитории лежало по сути создали двойную работу пришлось еще раз по тем же репам проходить Здесь было чисто менеджерская ошибка мы постоянно говорим что это ноопс Здесь был совсем не ноопс и хочется сказать что надо просто нам чаще ставить себя на место пользователей мы ввели практику что мы общаемся с нашими дебопс командами с клиентами обсуждаем как какое-то изменение в дхаусе повлияет на них важные моменты которые хочется отметить относительно релиза для себя мы поняли что ретроспективы релиза это одна из самых важных процедур которые можно сделать как только у нас релиз приехал на канал stable мы проводим специальную встречу в рамках этой встречи мы Разбираем все почти Фиксы которые мы выпускали к релизу Разбираем могли ли мы что-то на этапе разработки исправить может быть нам нужно доработать Наши тесты написать больше тестов может быть нам нужно релизный процесс поправить может быть какие-то процессы просто связанные с взаимодействием нужно исправить Тогда придется придется меньше поощрять выпускать И самое главное это делать выводы из ошибок Ну и хочется всем пожелать и для себя Мы сделали выбор никогда не катать по ночам естественно так как я говорю что де-хаус активно используется уже в продакшн то вокруг Дак Хауса есть большая история с эксплуатацией мы тратим примерно 50 процентов времени на разработку 50 процентов на сервис потому что фланг вообще изначально сервисная компания и у нас так сложилось что мы ценим в продукте в нашем первую очередь тоже сервис как и наши клиенты за весь сервис отвечает дежурный инженер Дежурный по установке мастеров это переходящая должность кто-то из команды разработки паратации если он выступает в лице дежурного инженера то он обрабатывает входящие инциденты входящие обращения от клиентов Enterprise версии от клиентов которые получают кубернатос а дежурной по установке кластеров отвечает естественно за установку кластеров бывает сложные кейсы если в публичных облаках достаточно легко поставить кластеры потому что ничего не меняется то если мы говорим про приватные облака там очень много нюансов и какой-нибудь этап может занимать длительное время то что у нас есть дежурные это очень сильно помогает разгрузить команду обычно инженеры если он не дежурит он спокойно работать над плановыми задачами и естественно дежурные закрывают все прерывания Но если для решения инцидента дежурному Требуется помощь то у нас вся команда разработчиков находится в режиме фактически он укол для решения клиентских проблем а еще помимо всего у нас есть постоянные демо-пилоты и внедрение там тоже бывает очень много ситуаций Когда нужно привлекать больше чем одного члена команды поэтому повторюсь на эксплуатацию у нас уходит порядка 50 процентов хочется отметить что так как де-хаус это по сути платформа которая закрывает часть инфраструктуры для пользователей то нам приходится очень много внимания уделять на стыке если мы оказываем услугу менедж-губернекс на базе декхаус то вообще закрываем для пользователей зачастую общение как с инфраструктурой собственными внизу так и с командой которая обслуживает облако предоставляет облако и публичных облаках тоже происходит но бывают проблемы когда клиенту приходится с приложениями Здесь очень важно мы видим для себя показать клиенту что мы готовы помочь Потому что если клиент обратился к нам и не получил поддержку то у него сложится впечатление что такое сложно для кого-то Это плохой продукт и потом уже у него этот User explins его ничем нельзя будет переубедить и победить сложившуюся уже Поэтому инженеры поддержки приходят даже к проблемам которые возникают на стыке Элементарно бывает кейсы когда выкатили какой-то релиз продакшн лайн испробуй не проходит на ней из платформы Но приходится помогать клиенту объяснять и у нас есть фидбэк что клиенты ценят в первую очередь сервис если клиент готов ждать фичу какую-то 2-3 месяца то он не готов ждать решения на продакшене проблемы Он хочет его получить здесь сейчас и у нас есть фидбэк что в первую очередь у нас ценится у клиентов по отношению кхаус то что можно получить инженеров со звон который успокоит решит проблему и позволит просто приложению в продакшне продолжить спокойно работать хочется подвести итоги еще раз отмечу что у продукта должна быть обязательно идеология и правил которым мы следуем потому что новых инженеров гораздо легче погружать объясняя наши ценности тестировать Все невозможное для себя мы решение нашли правильно выстроенную релизы на процессе который закрывает проблемы релиза Нужно обязательно часто быстро выкатывать но делать это безопасно и заметно для пользователей клиенты ценят сервис больше чем фичи и процесс перспектива для нас стал прям решением почти всех проблем Это позволяет нам анализировать ошибки делать из них выводы и делать наш продукт просто лучше хочется вернуться к цитате которая приводил в самом начале Я думаю что вместе с вами мы нашли ответ на этот вопрос Что сделать свою губернацию платформу оказывать сервис это все очень затратно требуется большая команда людей требуется большое вовлечение много сил уходит не только на разработку но эксплуатацию А самое главное нужно достаточно много времени на все это потратить Спасибо большое за внимание обратную связь по докладу Вы можете оставить по этому qr-коду пожалуйста ваши вопросы и у нас есть вопросы прямо Вот здесь везде Скажите пожалуйста у вас есть автоматическая regression тестирование нет Я просто отвечу потому что мы хотим сделать но пока К сожалению мы не ввели Спасибо большое за вопрос Это надо сделать А почему не вели то есть как-то рассматривали в чем-то разочаровались или просто в планах и когда-то будет в планах это нужно сделать потому что у нас есть процесс когда мы Тестируем что у нас релиз перекатывается Да мы поняли что у нас основная проблема возникает не только когда надо создать кластер проверить создался выкатился туда новый релизом А еще переключение но при этом тестирование тоже хотелось бы иметь хотелось бы иметь постоянно поднятые кластеры в которые мы выкатывали лисы Смотрим как у нас ну просела и так далее Мы хотим это сделать это важный момент Спасибо большое за вопрос Константин Большое спасибо за интересный доклад звучит очень круто вот прямо очень-очень Да у меня на самом деле два вопроса Первый вопрос насколько Enterprise версии отличается от комьюнити в чем принципиальная разница Спасибо большое за вопрос комьюнити версия отличается от Enterprise в первую очередь том что в Enterprise версии только в Enterprise версии есть поддержка сферы в качестве облачных провайдеров плюс в интерфейсе есть истио и Наверное это такие самые важные отличия которые есть между ними я правильно понимаю что по стабильности Enterprise и комьюнити версия это ну как бы что-то одинаковое То есть это не Федора скажем и прайс Linux Да это вот по стабильности что-то одинаковое я бы сказал что они очень похожие у нас есть система модулей просто в комьюнити версии отсутствует какое-то количество модулей вот часть которая отвечает за работу с истину которая отвечает за поддержку при этом мы повторюсь активно работаем с комьюнити и всегда стараемся Прийти на помощь со возможными вопросами нас не объявлена поддержка Рокки Линукс на Роке Linux по сути базируется на центосе Мы вроде как ценен то есть поддерживаем Когда в комьюнити к нам пришли искали на Рокки Линукс не работает мы пошли помогать и помогли В итоге человеку на руки Linux установить Да насколько пристально Нужно следить за скажем каналом обновления на deek House То есть я услышал что были случаи когда нужно было выпиливать какие-то старые API из своего А репозитория вот такие вот вещи Да которые всё-таки не но а требуют а вмешательства Где во всём Мы стараемся чтобы они проходили максимально незаметно То есть у нас есть кейс когда мы переезжали со старого сорт менеджера на новый мы выдали пользователям достаточно большое окно в которое Они могли произвести изменения прислали альты Что нужно сделать какие версии поменять и порядка полгода то и больше мы поддерживали параллельно Две версии то есть пользователь всегда получает какой-то нормальный промежуток времени чтобы внести изменения И самое главное получать понятную инструкции Что сделать как ему поступить чтобы можно было переехать на новую версию а где он получает из инструкции Зачем нужно следить И как часто приходят видео в прометее О отлично Спасибо пожалуйста Спасибо за вопрос спасибо Еще вопросы поднимайте руки и вас увидят первый ряд Да Добрый день У меня вопрос Будет ли поддержка в комьюнити Edition Astra Linux Спасибо Здравствуйте спасибо большое за вопрос повторюсь У нас есть поддержка мы уже писали ответ на этот вопрос Telegram канале Astra Linux в комьюнитине мы поддерживаем как подвид дебиана то есть по сути потому что 171 версия даже Астры выше У нас есть в интерфейсе Edition поддержка именно Astra Linux 1.7.1 но при этом Мы готовы помогать готовы делать так чтобы без интерфейс версии комьюнити версия работала спасибо Еще вопросы вот второй ряд Здравствуйте спасибо большое за доклад вот интересный вопрос по поводу людей как получается сохранить баланс между тем что сервисная команда Она же Насколько я понял Это команда разработки Да И вот как они не выгорают условно говоря перепрыгивает задачи по разработке сразу подключать к заказчику и решая их какие-то кейсы сложные Здравствуйте Еще раз спасибо за вопрос это на самом деле очень интересный потому что ну вот я как разработчик Я тоже участвую сегодня на процессе Иногда я пилю код Иногда я оказываю сервис Я получаю какой-то свой кайф от этого То есть я сам билджу сам ранее это А еще я бывает какие-то наши внутренние сервисные истории Сам же являюсь пользователем хаос поэтому мне кажется что тут у нас есть нормальный баланс вот это вот ротация когда инженер является дежурным он дежурит один раз в неделю то есть это не какая-то история что день через день при этом очень часто получается так что прерываний со стороны дежурного когда он зовёт кого-то из команд для решения проблем вообще не происходит то есть я бы сказал так что 3-4 рабочих дня в неделю инженер спокойно работает как разработчик пилит фичи И здесь у него нет никаких прерваний и поэтому Наверное он не может выгореть и при этом есть свой кайф что ты видишь как твой софт доезжает до продакшена Ты можешь пойти быть ответственным за релиз можешь поддерживать посмотреть как происходит эксплуатации поговорить с людьми которые твой софт используют для меня например как для разработчика это очень важно Это наоборот интересно и она ответил на вопросы или Да но тем не менее Вот это получается такой универсальный специалист который вот ну как вы себя в пример приводите есть атаковать Ну как бы считаю да мне это в удовольствие но зачастую разработчики представляют себя неких таких интровертов которые совсем не хотят общаться с заказчиком Да И вот мотивация Возможно у вас какая-то или может быть манифест Есть на эту тему То есть как-то вы это пропагандируете возможно у себя в компании но у нас просто есть культура вот культура девапса фант и мы получается наверное разработчиков подбираем Под свою культуру то есть мы стараемся человеку заранее на собеседование выбрать и объяснить его роль в команде что не будет Вот этим человеком который будет постоянно сидеть По Грузии в голову как страус и только разрабатывать А ещё у нас есть вот эта история и наверное просто выбираем людей подходящих которые просто говорят что мне это по кайфу Я готов в эту историю участвовать Спасибо большое классная компания спасибо если у нас еще вопрос раз два три продано Ну если у вас был вопрос то потом можете задать его спикеру но Те кто не постеснялись задать сейчас будут участвовать в выборе лучшего вопроса мне понравился первый вопрос правильно прогрессионное тестирование первый вопрос же был Снимите пожалуйста найдет прекрасный подарок от компании Plant Спасибо вам за ваш вопрос да спасибо большое потому что это всем остальным тоже спасибо за ваше внимание за ваши вопросы Давайте поблагодарим спикера за его рассказ Спасибо у нас для тебя тоже есть подарок не убегай спасибо спасибо Ну что ж если у вас еще остались вопросы то вы можете ловить и спикера задавайте вопросы дискуссионной зоне Приходите на стенд коллегам они ответят на все остальные вопросы а на этом мы пока уходим на перерыв и вернемся к вам со следующими докладами Всем спасибо"
}
{
  "video_id": "83TebFHeFzE",
  "channel": "HighLoadChannel",
  "title": "Бурлаки деплоя. Автоматизация проверок финтех-систем / Федор Васильев (ECOMMPAY IT)",
  "views": 991,
  "duration": 2752,
  "published": "2021-10-04T02:44:45-07:00",
  "text": "итак бурлаки деплоя как вы понимаете не просто так называется там дальше будет объяснено чё там где бурлаки и так далее вот сейчас я вынужден начать нашу презентацию disclaimer итак если есть особо впечатлительные люди может быть беременные еще не поздно покинуть зал ладно ладно эта шутка конечно на самом деле мы поговорим о тёплых финн тех систем вот я попробую то завернуть через русскую классическую живопись но это такая концепция у меня в докладе надеюсь что будет ну таскать и миру серьезно но достаточно просто из огоньком ну и на самом деле мы уже начали потому что это черный суп ревматический квадрат казимира малевича знаменитое произведение я очень люблю с прям отеческую живопись потому что в ней есть благородный trolling сейчас уже как бы такого не делаю то тогда это было очень интересно еще будут сегодня с прямо тические картины на черный квадрат и думающих все знают это кто мы такие мы это и компаний как вы уже поняли наверное многие уже слышали про нас и на прошлой конференции на позапрошлое на этой так вообще итак у нас 350-ти специалистов это программисты аналитики не буду говорить devops и мне мои админы сказали фёдор не называя на sd опциями кости привет админ и инженеры значит у нас девяносто четыре девятки так называемых это чтобы понимали 52 минуты простой в год максимум можем себе позволить мы эту надежность сначала этого года взяли десять миллионов транзакций в день плюс минус 5 дата центров по всему миру и компаний это про деньги потом там будет подводочкой в другом слайде вы поймете и обычно мы говорим так мы говорим что и комп этом настоящая фильм тех компаний мы говорим об этом с гордостью потому что все что мы пишем даже не так все на чем мы зарабатываем деньги мы написали сами то есть у нас есть полный сколтех продуктов и мы говорим об этом с гордостью что история началась в конце девятнадцатого года был какой-то там что там 29 декабря мы практикуем фрезы я думаю многие вообще кто фрезы практикуют ну в общем практически все да вот мы тоже практикую фрезы рождественские каникулы новогодние праздники майские но понятно почему потому что если не дай бог заде плоть какой-то не надежный код потом команда сырья команда дежурных администраторов будет это все отката учинить не дай бог от еще сен потери в общем мы практикуем фрезы и вот у нас был плановый deploy перед большим фризом перед новым годом как вы понимаете не про тепло или в общем-то по сути все компоненты некоторые по нескольку раз даже вот в чем собственно проблема мы работаем с финансовыми транзакциями поэтому любой downtime для нас это прямые финансовые потери диплом с сервисы последовательно это принципиальная позиция объясню немножко почему потому что когда вы дипломом технически можно де плоть хочу сразу практически но мы делаем последовательно тепло и потому что когда тепло идет параллельно энтропия которая вносится в продакшн она очень высок очень большая и потом грубо говоря не разберешься что же пошло не так в потом логе смотреть быть очень тяжело потому что сразу вал нового кода блюз компоненты очень сложно друг с другом связаны это опасно поэтому мы тепло им все последовательно то очень важный момент про которой дальше тоже будет ну естественно каждый deploy проверяем об этом будто же много скажу это будет дальше то есть куча людей в течении 12 часов занималась дипломе я очень хорошо помню этот день я тогда руководил разработкой антифриз системы про которая в прошлом году на прошлом оффлайн хай-лоу я рассказывал риск control system ну вот и у нас мы тоже естественно там были в плановых тепло их я помню я иду на работу у себя там на ботаническом саду 8 утра по моему открываю telegram это на основной наш канал коммуникации оперативной и смотрю уже люди начинают готовить в diplo им выходит из орешнике выходит deploy инженеры мониторинг вот я тоже такой так мы тоже был тепло это вот я помню еду такое уже практически тепло и начинаются это 8 утра потом ну там серия вспышек да как это фильмов бывает вечер восемь или девять вечера я иду в обратную сторону еще там на набережной у нас и краснопресненской и тепло и только заканчиваются то есть это было больше даже 12 часов и это прямо от вспышки такие то есть это очень был такой experience тогда у меня родилась родился вот этот образ про последний день помпеи я пытался найти в чате epam где-то даже писал к сожалению не нашел но в голове он сложился и тогда как это ни странно был заложен фундамент этой презентации то есть вот именно с последнего дня помпеи которые у меня так вот в голове возник которая как бы ощутил да вот в этот день лично и тогда еще не была не той системы про которая дальше буду рассказывать не этой презентации она появится гораздо позже но вот какие-то такие уже наметки они вот в голове появились да собственно в чем проблема что по сразу после этого дня последнего дня помпеи мы будем его называть ко мне подошел женя кузовлев этот директор наш seo и сказал федор ты знаешь нам чет над этим делать я говорю ну да наверно надо я согласен давайте мы как-то это все автоматизируем подумаем как потому что эти 12 часов люди там сидят это трудно ты же сам видел а груда согласен вот ну как бы у нас автоматизированный так было много но надо надо было еще больше автоматизировать и вот об этом дальше буду рассказывать также какой среди нам нужен я вот эти вот тезисы честно взял у димы stolyarova вот эти вот чтобы работало быстро надежно и дешево из его какого-то доклада там несколько лет назад на холоде он читал про deploy фку бернес обычно вот тепло ее соседи нужен такой нам нет на мне такую то есть конечно это нам тоже нужно но нам гораздо важнее чтобы работала понятно но никому не нужен диплом кто не работает чтобы не было финансовых потерь не вовремя deploy они сразу после а если были то они очень были короткие короткий промежуток времени маленькие потому что терять деньги а мы теряем деньги напрямую если что вдруг не так вовремя тепло или после это просто в прямые финансовые потери то есть мы недосчитаемся денег или даже можем попасть на какие то там штрафные санкции не дай бог в общем мы очень-очень к этому трепетно относимся и собственно вот эти вот красненький красненькие слова они определяют наш эволюционный вектор развития наших дипломах наши доставки в продакшен вот я обещал что будет еще с автоматической живопись тут два момента во первых картин классное довольно известное во вторых я говорю что и компы про деньги и как бы это самая дорогая картина русских художников проданная на открытом аукционе на стоит 85 миллионов долларов поэтому ну и копы про деньги я не мог не вставить уж простите эту картину но она нужна не только для этого она нужна еще вот если мы посмотрим вот сюда я там выделил да и белая вот это вот выкинем да ты чего нас останется чего до нас останется blue green или green blue как вот в этой версии кто знает все знают до минус течет да знаете даже такой blue green не буду тянуть до это blue green дипломант естественно естественно для нас это альфа омега и в итогам это и так далее вообще весь греческий алфавит blue green у нас используются на всех критически короче по сути на всех сервисах потому что ну где его нет так тонн там скоро будет насчет появляется понятие линии обычных 2 бывает большему обычные 2 поэтому blue blue green это такой образ некоторые да ну понятно что коти сход на оформлению как-то проверяется это вот отдельно будет если нормально то переливается трафик на новую линию с новым кодом вот нас как-то на какой-то конфет не помню кто то поправил и говорил сказал что то что вы рассказываете это не blue green а там нечто другое вот что это такое кто понял да это канареечный релиз у нас используется и канареечный релиз и blue green и обычно одновременно вот то есть мы катим на оффлайн линию код и пускаем туда мальчик маленькие порции трафика зачем это делается чтобы меньше были финансовые потери веса если вдруг они будут чтобы финансовым это у нас 2 процентов обычно начинается вот на двух процентах если не дай бог там что-то случится то мы потеряем там эти два процента понятно что это гораздо меньше чем 98 и как-то проверяем на каждом шаге вот опять как это проверяем как проверяем как индивидуальным как это ни странно что сервисы очень разные их много я пытался как-то посчитать а сколько у нас сервисов ну то есть смотря как считать и получается там около можно начинать 50 можно считать что можно если крупные сервисы брайтон там будет двадцать или тридцать в общем каждый из них стыке близкие но все-таки певца пишут разные люди сервиса выполняют разные задачи их над проверять по разным поэтому индивидуально значит вот этот пункт тот самый пункт из-за которого 12 часов вот эти вот последние дни помпеи были есть регламент проверку всех сервисов он написан он скрижали если угодно да написан и инженер мониторинга это опытный инженер мониторинга он поэтому регламенту проверяет сервис причем обычно делает это несколько раз то есть на каждом шаге ну понимаете да за тепло или дается команда проверять человек проверяет говорит о'кей доливается трафик и так это рациону это делается ну сколько вот там шагов в к наличным этом релизе значит используется для мониторинга мониторинга дипломов ну киба на графа на zabbix этот не буду ничего рассказывать все понятно я думаю так важнее другое вот руки светлую голову потому что в некоторых системах iq таких систем у нас немало недостаточно триггеров недостаточно графиков недостаточно регламента вот такого формального что ли есть вещи которые нужно проверять руками особенно это касается интерфейсных проектов там даже борт мир новый тамбов как мы его называем админка то есть какие-то вещи где нужно какие сложные действия совершать чтоб проверить вообще работать не работает он посмотреть совокупность колб работы вот так что руки и голова используются тоже люди ходят проверяют это обычно даже самое долгое вот эти вот ручные проверки которые используются ну аномалии ясно что аномалия рассматриваются это таскать общее это в принципе то чем в целом занимается мониторинг во время диплом тоже это делает конечно ну тут честно есть бизнес проверки метрики я уже об этом упоминал это какие-то вот именно то что у вас для чего только бизнес проверка это то для чего для чего сделано ваш продукт в вашей системы то есть основное да то есть транзакций она проводит летом это anti-fraud например да они конечно должны проверяться и проверяются ещё с точки зрения бизнес-логики своей основной бизнес логики давай ну каждый шаг это говорил при малейших подозрениях откат мгновенный тоже понятно собственно blue green нам для того и нужен чтобы эта секунда занимала если что-то не нравится как бы раз и все назад так вот мы теперь подходим к инструментам тепло и отчего у нас это уже было и она у нас сейчас есть это вот три наших замечательных богатыря ну наверное в самом центре это вот наш дженкинс он же или оформить вот мы и тут немножечко укропчиком добрыня никитич и алеша попович в эта фабрика у нас не очень много на некоторых компонентах есть исторически мы его не убираем там за tune ли нормально работает в основном именно deploy кода осуществляется дженкинсом написано там 47 the job ну вот это вот минимум столько сервисов да потому что там на разных дата-центрах разные конечно это я один дата-центр взял такой типичный 41 jobo а вы x он же ansi бал tower если это платная поддержка 49 опыта в основном в основном у нас этим инфраструктурные вещи как раз вот эти переливание трафика про которая поминал это в основном реализованного sexy а то что именно диплом кода раскатка на тачке это дженкинс обычно вот значит мы дошли до слайда который понятно что не мог не быть в этой презентации потому что как главная тема вот значит это бурлаки и тут сразу две аллюзии у меня под этот слайд есть первое наверно такая выполнит рассмотрел эту картину подробно когда-нибудь вот до чего там есть на заднем фоне даже может видно я не знаю видно нет я по вот под свечу так увеличим это первое иллюзия то есть век того что уже есть паровая тяга ребята вот бурлаки тащат против течения корабль руками ну как то не очень я так специально конечно ильин илья репин специально это сделал понятно что подчеркнуть что вообще-то уже паровая тяга вовсю как было просто это вот бурлаки еще в ходу это то есть как бы если можно еще что-то автоматизировать может быть мы еще что-нить автоматизируем тебе хотелось сказать это первое второе что бурлаки это вообще такие физические крепкие люди которые на самом деле могли бы делать еще что то другое то есть приносить пользу другим образом они просто тащить как нога на своём горбу этот тяжелый труд корабль вот собственно речь о том что вот эти булочки тепло и это вот эти две категории людей это тепло инженеры которые нажимают эти кнопки переливают traffic jam кинси нажимают чтоб тепло и начался инженер мониторинга которые проверяют по сигналу диплом инженера что надо проверять такой сервис там на такой-то линии в таком в дата-центре да кстати чет я в начале упоминалось у нас у нас еще и дата-центров много поэтому понимать что раскатать на один да процента 2 3 если не дай бог чем день сломался откатывать надо в общем тут скоб такой немаленький чем дальше тем больше и автоматизировать мы хотели когда мы начали делать эту систему сразу после этого разговора после последнего дня помпеи хотели автоматизировать прежде всего работу тепло инженера я и работу инжиром мониторинга я значит у меня была поставлена задача я такой себе призадумался но конечно не такой симпатичный как этот вруби левски демон но так тоже вроде ничего да присел призадумался и ну вот так вот тут возникла на вокруг что ну наверно все вот это вот все знают что тут незнакомое кому-нибудь есть вот да это эти вот до стек шторм этот я тоже до этого момента с ним не сталкивался ко мне подошел как-то рома наш глава админов графе турист такую прикольная штука я говорю ну здорово о чем вы пользоваться кто умеет он городня я так может попробуем конечно но у нас ее свои там есть вещи с которыми надо дальше работать до штучка неплохая но решили мы ее не брать в принципе у нас просто уже есть вот эти три штуки я про них упоминал они уже имплементировать они используются решили что хватит трех вот ничего дополнительно накручивать не будем и так уже немало будем работать с чем что есть вот ладно остается наша триада такая да дженкинс а вы x фабрик чего должно быть в центре да штука которая будет вызывать оркестре ровать да да да да да а какая штука как вы думаете кто человек да человек уже был еще один дженкинс кстати неплохо вот если если бы это делал инженер который по призванию админ а я не админ сразу скажу я не админ нет и вовсе я программист вот поэтому если что вдруг они как мы опустили вообще всех судов честно это недоработка вот если бы это делал admin admin admin инженер то я почти уверен что там бы встал дженкинс мне почему то кажется что там но он либо переместился туда либо еще один дженкинс действительно какой-то который контролирует оркестре рует дело в том что я программист как я уже сказала и конечно здесь велосипед потому что потому что на программиста не люди такие вот им только дают по велосипеде что то там в общем велосипед хорошо итак велосипед у нас уже начинает проклевываться да такие раз такие дела ростки я вот когда процесс рассказывал про риск control system прошлом году говорил что очень во я считаю так искренне очень важно правильное название дать компоненту ну то есть системе и тут я тоже присел призадумался как же мне назвать это вот велосипед но можно было бы там назвать велосипед ну это как-то банальная чем я придумал один вариант вот смотрите да вот это самый страшный слайд который у меня вот сразу предупреждаю никому плохо всё нормально что это такое devops разработчика еще вариант да это зерка правильно вот я так близзардовской творение вот наверно это художник который нарисовал я на всякий случай вы как бы авторские права их не это зерг это зергов ский юниты старкрафта игра такая есть называется он lurker что такое легкий луркер это соглядатай мне больше всего нравится вот этот перевод объяснение ну так выглядят и тайный наблюдатель но очень важно что он и пнуть может если надо поэтому я выбрал такой образ это да этот юнит чтобы вы понимали там starcraft никогда не играл не видел он закапывается под землю вы там не видно и из-под земли он значит такими своими щупальцами страшными всех значит бьется атакует оси он как бы опасные опасные невидимые вот в этом как бы смысл был этой системой что она должна быть с одной стороны невидимый а с другой стороны вот и пнуть могла когда надо тот же дженкинс было фабрик и так что couleur кир что же у нас получилось через некоторое время но во первых это отдельная система регистратор реально это оркестра tor написано он это на на php на чем я сейчас пишу на php поэтому написан на php нота для нас стандартный сейчас ацтек mais quel пых а какой там фронт я говорить не буду там есть просто bootstrap и все дальше не скажу отстал я просто часа три акта честно этот назим меня прибьет это там ходов фронт потом сделаем нормально сейчас главное что работает дальше будет лучше значит дженкинса питер горит понятно я уже рассказал про тепло и фабрику он там в джанкен вызывается а weeks для манипуляции с трафиком состоянии сервисов как мы мониторим стань и сервисов до пологом это основной способ мониторинга у нас развернутый л.к. ну думаю что у многих это используется и мы смотрим логи сервисов их очень много там какие-то родовые терабайт и вот рома по он сидит тут может сказать глава админов там страшный какие-то цифры я не помню вот мониторим блоге понятно что они довольно удобны для автоматического мониторинга и ходим просто вопи elastico смотрим чего как граф она понятна триггеры zabbix то же самое бизнесовые проверки их много и чем это вот то самое что люди делают руками да вот я говорил кита бизнес проверки самые сложные они написаны большинство из них они кастомные написанные на php прямо в самом your query как модули вот ну понятно что когда мы добавляем какие-то компоненты танки что свои проверки есть некий такой в ну не фреймворка не знаю может решить dsl но я бы не стал так громко говорить вот некий такой внутренне фрегор который позволяет нам упрощать какие-то моменты быстрее что-то описывать вот и вот тоже очень важный момент это я так называю ликер смог тесты они на концепции населению me это интерфейсной проверки то есть буквально вот заходит кликай по кнопкам если это интерфейсный проект у которого есть фронт привыкли к ит по кнопкам по определенному алгоритму и проверять все ли нормально там отображаются ли новые транзакции обновляется ли там то таблице можно ли выгрузить файл допустим если это интерфейс где можно загружать файлы и так далее это очень важная часть эту часть пишут профессиональные ребята ну qh ники которые пишут автотесты они для лютера вот для этой системы они пишут специальные тесты поэтому-то они тут называются lickers мог тесты они не по это не регресс это не смог который обычной qh най-на стейджинг это именно специально написанный тесты там у них есть определенные требования основное требование чтобы они быстро исполнялись то что мы не можем там на каждом шаге там 10 минут ждать пока всех провериться ну нафиг это нам надо поэтому здесь очень важно чтобы быстро и чтобы основные самые функционале моменты проверялись на веб интерфейс у него есть вещи чуть дальше покажу и telegram.bot telegram.bot он там фигачит я там начал деплоя сзади плелся там графики перелил там у нас проблемы хьюстон и все дела да кстати сегодня мне подарок на вступление только что вот я видел в чатике 666 deep лейбл на проводе не знаю что это значит но вот это вот была так вот как выглядит этот ну просто чтоб было понять и это такая вот точка входа здесь самое наверное важно это то что qh не кисаме подают заявки на пруду и диплом в них есть там специальный ну как бы права именно подачу заявок своем компоненте они сами подают заявку то есть там указывают теги там артефакт какие то ну то есть зависимости от того какой компонент вот расписание прям там это вот как раз собственно страничка schedule in года и сырья то есть наши ребята не только присматривают то есть что-то если резко остановить или там как-то подрихтовать друг чет не так то есть они чем дальше тем меньше участвуют и как бы наша цель чтобы совет только вот со стороны смотрел как и поплевал тепло замечательно люки работы это я буду это так значит радоваться жизни до сереж тепло и запускается автоматически да и откат анализ это все та же автоматически в этом весь смысл собственно немножечко интерфейсов ничего особенного как бы до есть это мониторинге хоббиты это не продакшена в инст нас конечно его фотки не с пруда но там в то же самое как бы это вот вот это вот так выглядит лоб джо бы когда она там запускается там проверки там переливания трафик там то все 5 10 в общем принципе то о чем я рассказывал ну тут какие-то интерфейсы которым можно управлять там кнопочки они все у кого есть право они активны можно нажимать там если вдруг бездушные машины что-то не так делает и вы можете подправить изменить так это такое знаете я назвал что еще важно такие некоторые выводы вот когда вы будете как это ты витязь на распутье стоять и думать о как же нам там что-то автоматизировать или не авто автоматизирует ли вообще вот я хочу чтобы вы вспомнили этот слайд значит первое это за zero tolerance то есть нулевая терпимость к ошибкам уровня error и выше ну в разных программных продуктах и они там по-разному называются там где fatal error где alert critical и так далее вот ошибок уровня р-р и выше больше должно быть минимум я писал документ с требованием по моему этом написал не больше 10 ошибок уровня реле вышивка в компоненте за один за час это максимум на самом деле луркер когда проверяет у него там жестче и жестче критерии он если там пять ошибок увидел сразу откатывает вообще не разбираясь там для него это уже флаг такой что это опасно вот я вам советую этим заниматься обязательно это важно вам будет проще в любом случае и деплоить и автоматизировать что-то короче говоря и с этим бороться надо постоянно то есть все время будут разрабы я сам разра поэтому знаю подкидывать вам новые ошибки там какие-то которые возникают на самом деле это не ошибка там опорник должен был быть или ночь если вообще не должно было быть а он у вас в уровня error в общем затем отследить важный момент тестирование совместимости разных версий сервисами куат ну тут что это я так говорю вот у нас тут есть наши кошки ребята зале я вам ультиматум практически могу сейчас поставить это настолько интересная тема что я хочу чтобы вы рассказали об этом на конфетам на следующем хайло дю например как этот тестируется потому что это очень интересно очень сложно это офигенная тема если вы не возьметесь за это я могу сам выйти и показать потому что мы мне мне кажется что это очень интересно значит линий в базах данных у нас нет потому что линии как бы мы не знаем способа как можно это нормально администрировать чтоб две версии базы было и которых между которыми переключаться тусят как надо реплицировать опять же вопрос синхронности там возникает в общем проще этого не делать вот серьезно весь наш опыт показывает что проще этого не делать а про базы не откатываются да как понимаете если линий нет вот и обратная совместимость вот это сложный очень момент она тоже проверяется q&a и гарантируется программистом 5 программе должны так написать приложение прям требования что порно разных версиях базы оно должно работать если вдруг будет откатываться код точнее наоборот если будет откатываться код аббас а на базу уже накатили миграции то все должно работать это очень важно это проверяется отдельно тоже об этом тоже как бы надо рассказывать очень очень важный момент да вот такой последние да это не боимся велосипеда ну иногда может быть излишне но вот мы сделали мы довольны и вот обратите внимание специально q&a на велосипед сверху посадил так вот визуально ну потому что велосипед от хорошо но вот проверять надо все равно потому что знаете в общем нельзя доверять программистом говорит вам программист не мог не вставить слайд и вообще этот анекдот не знаю насколько мне удалось что-то рассказать да как бы что что что-то показателю вам судить но так с вами был фёдор васильев спасибо за внимание ваши вопросы спасибо большое так часто будут будет сессию вопросов-ответов если у вас есть в онлайне вопрос тоже поднимайте руку там в онлайне вас выведут сюда мы вас послушаем ответим на вопрос спасибо большое это было очень круто особенно за велосипеда очень брия мужчинам от велосипедов и очень часто что это не хорошая идея делать постепенно спасибо тебе большое так вопросы давайте-давайте ими виду тебя был выбрать лучший вопрос круг много поэтому запоминай да хорошо я могу даже записать ну просто это который убил а ведь это уже быстренько страсть его набережная им платит налоги вопрос в этой системой катите все свои сервисы в том числе 50 дст да и то есть от о системы и прошла вся одесса с комплаенс ну замечательно просто как бы я встречал некоторые на некоторых докладах то что у нас есть замечательная система описать с мыса у нас по старому картин не понял на старую а старую систему который подписать с а равно катим по старому потому что новая система там не все и не всегда могут ее получается защитить нет здесь 50 совместим аудиторы работают безопасники все отсматриваю тут все большое спасибо давайте дальше здрасте вне зовут ранис lanten из ps 307 мы на самом деле может быть даже связан вопрос с прошлым в этом рассказывали что у вас был этап есть этап проверки тестирования это все на пороге происходит ты стер ничего ну вот там было там тестированием и selenium проходило все вот эту всю эту завис мадри нет достигнет есть стейдж у этой штуки есть state у нас есть такой стоит большой который почти как production он не production но он устроен практически также и тестирование самого компонента йорке рада она проходила нас нас 3g и проходит постоянно мы его там тестируем это очень близко к пруду а что касается как он работает самым легким ну конечно работает вроде то есть он работает в прозе и тесты эти запускаются в праге в том числе мы тестируется они нас тэджи но вас проверяется на профессию вы говорите что есть тест например допустим сама платежка весь pipeline да это не сказал там and in the end тесты есть они конечно делаются нас они делаются на маках но проходит pipeline это and test который проходит на мойке то есть бабки реально не списываются но сам платеж через пойман ps через там платежный hydra он проходит это один из тестов да это один из но это на продакшен вижу да и то лишь а также не смог ими да понятно все меня больше даже именно так это да спасибо давайте дальше все сидят несколько вопросов первое это собственно темам велосипед вас удовлетворю больше чем например гид лапша и как вы это объясняли велосипедом аплодировали но я понял я ждал этого вопроса естественно тут надо я кратенько отвечу так ну чтобы понятно было я там вот я был слайд не просто так мы увидели что нас есть три технологии уже которые активно используются работают и добавлять четвертую пятую шестую очень не хотелось это вот один из основных я тоже когда админа нашему говорил говорю ребят может мы попробуем где платья не где ты чего балдела чудит labs реальном сюда тащить то есть ну вот это очень важный аргумент что давайте мы как-то остановимся у нас так прилично инфраструктурных сложных вещей там дженкинс тот же самый хватит то есть вот такой был аргументы сложно будет потом это все экспертизе элементарно вот плюс плюс еще такой важный момент что ну опять же вот если бы я был админом то я бы конечно начал писать плагины наверняка дженкс я вот об этом упоминал потому что ведь jacques построен на плагинах как бы там пишут люди действительно им это можно было бы все сделал там действительно я не спорю но получилось бы тоже самое только нужно было бы разбираться в тонкостях дженкинса и все равно бы получился там кастомизации очень сложная позировали бы в genki а тут я просто это сделал как регистратор который по опечатки сходит сколько времени ушло на какой-нибудь первый запуск напротив мы запустили что-то там шесть или семь через 6 или 7 месяцев первые deploy были напротив одного из компонентов ну как в этом кажется что все таки был быстрей ну смотря чего мы хотим и у меня просто нет опыта мне интересно про мог для оплаты я вот до сих пор не понимаю когда нам нужно с банковским айпи работать как там можно за счет могут все проверить ну пишутся мог в продакшене все отдельный сервис куда входит ни в настоящую платежку до наше ядро молодежная в мог он любил он защищен тоже проверяется при приседе сексом все дела то есть все проверяется это не точка входа просто так никто не использует какую-нибудь прям реальную физическую карту и сделать там на самом деле нет конечно то есть физическую карту нет не использует чтобы она визу имейте ввиду пошла на протяжении так не делается потому что это будет уже можно сделать но проще проводить свою просто есть карты оля мир которые вот извращенные я забыла что они не извращенные простите это просто меньшинство если что у нас есть нас пока он же мир тоже вот и виза и mastercard и амикс ну реальной карты есть даже те снимали там просто не хочешь специфика если мы про кареев говорим меня есть знакомый который там делали платежный сервис так там свистопляски с нашими с платежными системами сплошные и люди пишут куча всего кастомного чтобы наши люди там оплачивали соответственно если незаметно окей мне про скажется что все равно нужно прогонять карты целиком на невозможно мог момента сделать платежках все ну а все и не надо ну опять же там есть модуль мониторинга который мониторит реальный трафик то есть платежи они будут идти сами по себе мы просто потихоньку я же там говорил там два процента и тогда это настоящее платежи о нем обмане они мониторится то есть нам даже не надо дополнительных создавать так что здесь специально мы на мог их к проводим да тут еще вопрос спасибо чего deploy a deploy платный фёдор пасе большой за доклад я тут тут огород привет василия из рейка хотел спросить два вопроса вот ты говорил что 12 часов был релиз после того как легкий внедрили смерду это добыла ударю опутали сколько примерно а вот это тоже хорошая проса тоже его ждал он там раз в пять-шесть ускоряет deploy огонь огонь профит есть конечно есть а второй провокационный вопрос а как сам луркер тестировать потому что там же тоже могут быть баги и тоже наверное должен а вот там у меня слайдик то был qh ники смотрят так же как и другие компоненты как злой также tasty ждет уже за это просто компонент понимаете да это оркестра tor который где плоть другие компоненты но он тоже сам компонент он также в инфраструктуре на него смотрят q&a и его проверяют безопасники ну security и логии вы тоже вас до уплаты налогов нет логе все-таки бани они там и так все подпись одесса не внимание власти спасибо за доклад александр скайбокс такой вопрос вы написали приложению которая там выполняет тоски отправляет жабы в анси был она вообще принципе отказоустойчивая то есть если мы отправили джаббу какая-то какое-то приложение упало с какого места мы должны все это откатить назад где эта информация куда она сохраняется то есть несколько инстансов там по не так как как это реализовано вопрос про то что будет делать дженкинс если он упадет или про то что будет делать лютер если пойдет же нет мы мы накатили доплыть до play пошел не так а юнкер упал а кто вот это еще теперь назад откатит а юнкер сам упал до у нас есть да у нас есть в сыре есть админы вот они тут сидят они будут его чинить тут же прям на лету и либо либо им же пользоваться да если уж если могут причинить видят что это возможно либо руками как по старинке со старой инструкции они остались на не у нас есть то есть куда то просто пишите лог это бовдо на котором он упала из этого него прям пишется лог у него там все логи руется каждый действий то есть там видно когда чего упала что произошло там есть логе взаимодействия его по api со всеми сервисами которые используют но это дженкинс прежде всего weeks это все осматривать сюда можно очень там поняв действительно понятно где чего упал а ну дай мой он может упасть понятное дело что начинить тогда спасибо пожалуйста спасибо за доклад не первый пуск девушки а вы не в мире работаете просто кто не водились называетесь пообщайтесь пока у меня вопросы вот одна когда оффлайна сервисы да можно если они принимают опять запросы работам баристу на них можно там тестовый трафик натравить а что сделать сервисом который по пулу методологии то есть они с какой-то очереди забирают и то есть и какой-то другой очереди сначала подключать там как-то проверяете едко ты или у вас нет таких сервисов сервисы такие есть я так скажу я скажу честно что вот те сервисы которые так работают начнется тайлер перри не проверяются он в основном нацелен на проверку сервисов который проводит через a real-time traffic на данный момент а если сервис у которых внутренней сложные очереди там смотри там всегда есть фон ошибок вот тех самых про который говорил zero tolerance то что мы проповедуем и вот такие сервисы конечно а в основном проверки идут пологом то есть что вообще там ну как бы очередь работает ничего не падает а если падает и должно быть влогах он это увидит и алярм откат там так что я только такой вот могу сказать а создавать сбоку еще очереди не мы так не делали и еще вопрос сына и что вас упал есть это центр не упал чур дата-центр да процент руку на стол с электричеством у нас так почему нет вот можно ли вот эти все ваши тесты до запустить на на весь продакшн чтобы проверить да и по вот этот упала баобаба приходит замечательной сергей инженер да и тут их уже чадит эти сервиса остальные нет ни думали о такой функции клевый вопрос на самом даже киевского клёвое предложение там смотри сам сейчас в нем есть несколько кнопочек скажем так ну тузов внутренних которые позволяют запускать некоторые тесты но выборочно а вот так чтобы нажать одну кнопку и запустить типы весь продакшн проверить когда-то этот центр подняли такого нет нет классов медея но просто у вас как бы наверное есть и в deployment плана который это включает последним этапом именно проверку и можно там в диплом имплантом несколько сервисов выбирать а если убрать из этих диван планов все диплом процедуры только тестовый тогда получится вот такая фигня куда можно это использовать действительно или я не понял просто изменение так надо этот свой топ 1 де мне нравится я думаю так сделаем вот молодой человек давно тянет вот вас имею ввиду сергей пам спасибо за доклад сергей такой вопрос в продолжение темы про обоснования велосипеда все-таки у меня тоже у нас тоже велосипед написан поэтому игрок поддержки чтобы чтоб тебя тоже и вот вопрос такой вы все-таки наверное немножечко анализируете бы где еще есть не взяли эту проблему решить каким-то другим способом кроме php сейчас когда у вас уже написано стену тем более не много месяцев потратили наверняка вы там выделишь то есть какие-то может быть обобщенный паттерн и которые все-таки не специфические для вашего продукта и так далее и вот на этом фоне такой вопрос могли бы вообще существовать такой к это продукт готовый который вы все-таки бы согласились бы засосать свою систему четвертым номером потому что он такой классный функционал отдается что на нем так 1 titan 3 скрипте к написал за недели он тоже сам делать что ваши штука и может быть это к этому городу нужен новый супергерой не хватает какой такой штуки всем вообразить такой продукт который бы вы все-таки внедрили вместо этой системы он бы мог вообще существовать и лет настолько специфический ваша штука что вы ее там никогда в жизни не за open source если в ней ничего ценного для комьюнити не то над вот только чисто ваше так вкус сложный вопрос к если все-таки его резюме это а пост будем об испортить или нет ее надо ли этого делать да и в этом же контексте вопрос могла ли бы существовать все-таки такая была готова котором бы решилась я понял честно меня артём в ричингс спрашивал типа тампон source это будете когда вот мы собеседования доклад проходили а я так не готов был к этому вопросу и такой обалдел думаю я не думал об этом она очень кастомная не писалось она с прицелом на open source честно скажу а за опыт sourced мы ее по идее можем там да но их нужно будет подготовить выложить я просто действительно не очень уверен что она имеет ценность для других вот тут такой момент если имеет но мы можем это сделать а могла ли ли быть какая-то такой framework я не я не видел то есть везде везде все что я видел или трогал руками она все там так кастомизировать надо много что получается то же самое что вот мы сделать но на мой взгляд может я не прав тут могут быть разный конечно подходы но кастомизации все равно предстоит большая вот так выкладывать не выкладывать не знаю пока не могу сказать если это вы если будет запросто мы можем это сделать там через некоторое время какие-то модули выложить показать принципе никакой чёрной магии там нет конечно как вы понимаете вот давайте дальше спасибо за вопрос спасибо за доклад повелся инструмент вопрос такой сколько длится ваш диплом 1 нельзя ответь на этот вопрос понимаешь точность смотря какие сервисы тепло и смотря насколько дата цену и среднем ты меньше ну да и какой промежуток между дипломе я так понял у вас этот сервис сам регулирует количество людей на канарейки да сколько времени через какой промежуток времени он увеличивает их а это кастами как раз в нем кастомизируют а там есть настройки через сколько увеличивать какие проценты в разных компонентах это по-разному то есть прям настраивается прям по живому вот касаемо рядового диплом сережку сколько ну 3:04 сколько сейчас не ну вот ну целиком весь день тепло у нас короче ну один deploy вот создали т.а. и поехали на дону джо бы когда туда продакшена ну допустим 1 пул задает о продаже минут 10 сут нет это если только канарейка будет переливаться ну да я минут канарейка потом еще тесты сколько дну на нижние две минуты ведут у василя но опять же нельзя ответить на вопросы муж то есть есть джо бы который быстрого делается быстро проверяются есть который долго ну там от 40 минут это самая большая самое огромное там ну некоторые пять минут три минуты то есть селением теста это мини тест и который приправляют критических мусор правильно да и потом еще запускаются огромные тест который тестирует весь регресс нет прекрасен и продакшне мы не делаем вы не идет нет регрессный продакшне делать просто нельзя ну вот вот комментарий у девушки нельзя это делать на продакшене регресс тить это не делать нельзя и это эта система сама принимает решения с канарейкой катит на продакшн еще раз с канарейкина production каракатица масса а он все делается абсолютно то есть как в него подали заявку он у него scheduling внутренней как вы видели время приходит он начинает deploy все проверяет сам всю канарейку сам делать если что-то не нравится откатывает на любом этапе но еще он не упал конечно он не падает он нормально работает спасибо пожалуйста"
}
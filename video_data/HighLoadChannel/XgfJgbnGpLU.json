{
  "video_id": "XgfJgbnGpLU",
  "channel": "HighLoadChannel",
  "title": "Очереди и блокировки. Теория и практика / Александр Календарев (ad1.ru)",
  "views": 5103,
  "duration": 2370,
  "published": "2017-04-22T14:47:53-07:00",
  "text": "наш следующий доклад про вещь без которой не обходится ни один highload проект это очереди и про очереди нам достаточно подробно расскажет александр календарем попросим добрый день уважаемый добра и уже наверное вечер и утро уважаемые коллеги о чем будет доклад я не расскажу про том где как используется очереди зачем это все нужно расскажу чуть-чуть про протокол и так как наша конференция называется хайло taylor я хотел бы пойти как бы от junior проекта есть у нас типичный junior проект это какая-то веб-страница которая обращается к боли там может быть это электронный магазин лишь или еще что-то там и вот к нам пошли-пошли пользователей на каком-то этапе мы получили ошибочку может быть и другая ошибка мы полезли в интернет стали исследовать как можно масштабировать решили доставить брендов пошли еще пользователя еще пользователей и мы появились еще одна ошибочка тогда мы полезли там в блоге посмотрели как можно масштабировать сколь сервер нашли сделали репликацию но тут у нас мускуле полезли ошибки ошибки могут быть и более простых конфигурациях это так я образного показал и в этот момент мы за начинаем задумываться от нашей архитектуре а мы нашу архитектуру рассматриваем под микроскопом рассмотрим под микроскопом и выделяем две вещи это первое критически какие-то элементы на наш наши наши логик которые нужно сделать и какие то медленные или ненужные вещи которые можно отложить на потом и это архитектур мы пытаемся разделить и мы разделили ее на две части одну часть мы стараемся положить на один серы а другой на другой такой паттерн я называю хитрый ученик сам как когда-то этим страдал говорил родителям что я уже сделал руки побежал гулять а на следующий день уже эти уроки и что вы рассказы учителям перед уроками за 2 минуты ну вот есть более научное название этого паттерна и в итоге мы приходим вот к такой вот архитектуре где есть веб-сервер и бока на сервер и между ними как-то надо связать когда это два сервера это как-то делается проще когда их несколько но эта чуточку посложнее и мы задумываемся как их связать и одно из решений и общение между этими серверами это очередь что же у нас в очередь очередь это список из боя длинные нудные название на это простой список куда мы пишем элементы в список и потом читаем их вычеркиваем и исполняем вот список длится дальше элементы уменьшается очередь как то так вот регулируется переходим ко второй части где и как она используется когда-то я работал в таком проекте этот проект у нас она аналог яндекс маркета был в этом проекте просится очень много разных сервисов эти сервисы как то должны были синхронизироваться синхронизировались они через базу данных как устроена очередь на базе данных тут вчера даже как-то об этом мы общались кулуарах это просто есть какой-то некий счетчик мускуле то автоинкремент в полисе это томсен через you this sequence реализуется есть какие то данные записываем данные читаем данные удаляем из очереди но для полного счастья нужно воки хорошо это или плохо это медленно вдоль мой данный паттерн для этого не существует но в некоторых случаях многие очередь через базу данных делают во первых через базу данных можно хранить историю тогда добавляется еще поля деле этот ну там она может быть как слоговая такое таймс там писать также может быть вот у меня коллеги хранят через очередь делают тоже там общение через партнерскую сеть идет о не эти баннеры записывают сколько бы вы кликов и потом у них аналитика на версии считает находит кластер и какие группы пользователи на какие баннеры больше откликаются вот мы же для этого используем mongo db принципе все тоже самое только используется никак окажется коллекция пишем в эту коллекцию читаем из этой коллекции с удалением прочитали элемент он автоматически удалился все это так же медленно но все-таки чуточку быстрее чем тебе для наших потребностей мы это статистике использован в принципе это нормально дальше я отработал в таком проекте это социальная кружка была однорукий бандит все наверное знают нажимаешь кнопочку крутится крутится крутится у нас там барабанщики выпадают совпадения вот игрушка была реализована на пешке но мне попросили ее 3 factories потому что чьи-то база данных наше не справлялась вот я для этого использовал тарантул сожалению вот очень сейчас соседней аудитория идет интереснейшие лекция про возможности таранто в двух словах это ты были хранилище она сейчас пряжу же документ на литерный базам данным на первом семинаре и кто был тот рассказывали искали новость коль вот там рассказывали какие типы баз данных но в школе я просто не присутствую ну вот есть одно из типов это но документ ориентированный базы данных вот она ближе где-то туда подходит извините чуть отвлекся значит был реализован и таранто ли у меня оперативный кэш это немножко не помогло чуть-чуть помогло вот решили все это организовать через очередь все прекрасно работала но однажды у нас это всё упал кубок on server бэкон сервер упал и в тарантул начал накапливаться на каплю ция очередь данные накапливались пользовательские данные и память переполнилась потому что это но и марион ли хранилища память переполнилась все упало данный пользователь потерялись за полдня пользователь немножко недовольно где-то чего-то играли проиграли выиграли кто проиграл тому лучше то выиграл тому хуже вот вывод какой нужно делать мониторинг мониторинг очень много рассказывали что тут надо мониторить мониторит надо длину очереди мониторим длину очереди если мы видим что она превышает среднюю такую длину 1 5 там или десять-двадцать раз то должны совать там эсэмэску у нас такой сервис сделано телеграме telegram бесплатный суммы все-таки денег стоит что еще нам дает тарантул тарантул хорошего решение там есть sharding из коробки репликация из коробки в tarantul и есть замечательный пакет вы не то что я реализовал это было еще в июле четыре или пять назад тогда такого пакета не было вот я тут с ребятами с тарантула говорил они тут рассказывал про от проекта города еще на 14 версий ой так это очень такая древняя версия вот сейчас появился очень хорошая пилота рантала если кто пользуется питоном вот у них вообще заточенный api под очереди я просто сам на php с 2002 года 15 лет уж так вот разрабатывал модуль под тарантул на пешке поэтому как чуточку ближе и так началось здесь обратить есть две операции запись в очередь очки не изучали хочу обратить вот на эту вот циферку это у нас в тайм-аут и вообще при подходе написание в конторских скребков которые разбирают очередь есть два подхода синхронный и асинхронный что такое синхронный поход это когда мы читаем очереди если есть данные мы их обрабатываем если данный нет мы стаем блокировку и ждем пока данные не придут дальше данные пришли мы поехали читать дальше асинхронный поход код как понятно данных нет мы поехали дальше либо читаем там с другой в очереди либо делаем какие-то другие операции если нужно подождем и снова сведем в начало цикла всем понятно все очень просто что дает нам такие плюшки дает пакет квинни пакет к вы не там есть общие люди с приоритетами такого я больше не встречал нигде с других серверов очередей там есть там есть еще можно задать жизнь элемента очереди иногда это очень полезно подтверждение доставки это все есть синхронности синхронность я разговаривал говорю уже редис вот было здесь расклада леску или жжёт почти ползал подняли что знать серые dice есть кто не знает что такое редис один человек прекрасно потом расскажу если будет интересно в релиз это у нас ну я бы так назвал запор где есть много разных структур данных очередь реализуется у нас на списках чем хороши списке списке хороши тем что время доступа к первому элементу списка или последнему у нас происходит за постоянное время как реализуется очередь начало списка пишем с конца песка считаем можно делать наоборот это непринципиально работал я вот в такой вот игрушки это была игрушка под контакт написано вот классическая реализация была игрушка работала быстро флешка нам общалась с веб-сервером все было прекрасно но однажды нам сказали сверху давайте использовать статистику наши партнеры хотят знать сколько у нас купленный юнитов какие наиболее покупаемые юниты сколько у нас ушло с какого уровня пользователей и тому подобное геймдев тут много людей есть я тут видел на пиджаках знать что статистика очень нужна игровая вот и предложили нам использовать не изобретать велосипед использовать внешний с при по статистике и все было замечательно только мой скрипт отработал 0 5 до 50 миллисекунд а когда обращались внешнему скрипту как это америка там было это 250 минимума туда секунду с лишним пинту дошел соответственно вся игрушка зависла мы применили вот такую вот схему и все у нас было хорошо все работало быстро но однажды наш обмен ушел в отпуск обмен ушел в отпуск все было хорошо первую неделю а через неделю мы узнали что редис течет вот редис течет обмена нет мы приходим смотрим остров на консоль смотрим сколько спалось памяти сколько там до swap еще осталось вдыхали ох как хорошо все пронесло на сегодня в пятницу у нас в шоу много пользователей особенно после обеда памяти не хватило но выводы те же что из тарантулом другой проект ошибки те же память нужно мониторить длину очереди нужно мониторить промониторить много очень говорили повторяться не буду в одессе можно также выполнять как блокирующий так и не блокирующий операции чтения операций аккаунт нужно как раз именно для мониторинга просим все здесь все пока понятно да как-то я работал в таком проекте вдали на трек загрузки видео с популярных видео хостингов в чем проблема этого проекта в том что если мы загружаем видео мы у конвертируем если видео по длине и скрип просто твой клиент вы клиент просто отваливается применили такую схему все у нас хорошо закачали файл но очередь у нас работает только в одну сторону вот а мы должны информировать нашего скрипт сайта файл это уже закачан как это делается это делается двумя способами первый раз мы какой-то определенный тайм-аут проверяем статус что это может быть статус это кай выльем какой-то хранилище луч уже взять тот же редис прибылью кей может послужить у нас md5 хэш какой-нибудь turbo нашего вот и после того как мы с конвертировали мы в кривой любишь им статус статус может быть выполнено конвертируется не найдена или еще че-нибудь через секунду там через какой-то тайм аут скрипта яйца запросят статус увидит что выполнены или невыполненного покажет все клиенту все понятно так здесь первый способ это мы использовали pulling 2 высок это это это мы загружаем файл это второй способ второй способ это подписки здесь как раз использовали websocket а как это делается есть как только мы начали загрузку мы сразу подписываемся на канал в одессе здесь уже если там можно было допустим мы в каждом использовать или еще чего-нибудь если ведь мы редис не использовали то здесь как бы традицию немножко привязана подписываемся на канал на какой-то имя канала грубо говоря тут же м хэш от url а вот как только мы загрузили вставит файл мы берем и впишем в пушем в канал что у нас статус выполнены ли статус не найдено и сразу же мгновенно у нас push отдает статус но веб-скрипт после этого загружаем файл если он найден ну не совсем напрямую вот приблизительно вот такая схема про который я чуть-чуть не дошел меня определи да вот как тут это делается это некий такой проект обычно как делается в pulling не есть некий источник данных там температура вулкана там количество звезд видимых телескоп направленных на со количество там сделок по конкретным акциям мы принимаем эти данные и наш скрипт backgrounder ский который принимать и данную пуше данные в некий канал наш в веб-скрипт через websocket обычно используется но тут же с подписывается на определенный канал как только там данные получать за он через в пакет эти данные передаются на клиентские скрипты и там отображаются я ответил на вопрос есть такое решение м м кошку это довольно таки стара решение я бы сказал одной из первых она была рождена использованием кэша и barclay тибета ства встраиваемая одной из ранних к его илюха хранилищ достопримечательное то решение тем что используется протокол memcache чем большой минус мы здесь никак нет мониторим длину очереди о чем я говорю мониторинг нужен здесь от этого мониторинга нету а говоря о об очередях нельзя не сказать розы рынке за рамки у хорошие быстрое решение но это не брокер очередей вот это надо понимать это просто оки то есть мы соединяем одну точку с другой точкой или там одна . много точек вот но здесь нету никаких очередей если одна из точек упадет ту какие-то данные потеряются да можно да я так понял да что я могу на том же за рамки написать того же брокера и его реализовать спасибо а пачиков к но как-то я пытался тоже это решение использовать это решение из стыка hadoop вот она принципе хорошие высокопроизводительное решение но она нужна там где есть большой поток данных нужно его обработать а так в принципе я бы более легкие решения использовала но нужно еще очень долго настраивать синхронизировать через звуки пир так далее протоколы что такое протокол а значит я тут показал вам кучу всяких решений сообщества идти подумала и сказала прижалась так и сказала где чем мы изобретаем все велосипеды давайте мы как-то все это делается стандартизируем и придумали протоколы на 1 и наиболее ранних протоколов по тестам вот он принципе покрывает его описание покрывает все что можно делать с очередями 2 протокол mqtt увидеть мтт это мыслишь курения телеметрия транспорт про таком он бинарные в отличие от в том по покрывают принципе все ту же функциональной что и столб но более быстрый за счет того что бинарный вот наиболее яркие представители который браккер очередей которые работают по таковыми активе им киу он все три протокола используют даже 4 там еще я ский протокол используют rubbed and you используются три протокола купит используя там клипы теперь коротко об intel advanced мисочкой не протокол ну если про него долго рассказывать принципе можно часа-полутора не меньше говорить про его особенности и делать чисто кратко краткой быстро мы представим некий и как брокер представим как некий идеальный почтовый сервис aksel это будет почтовый ящик правителя куда приходит сообщение это печь имеет тип свойства здесь на php она написана как его объявлять кстати этот драйвер тоже ruggear заработал есть и раз есть ящик отправителя у нас должен быть ящик получателя ящик получатели имеет такую особенность что мы заодно обращение можем взять только одно письмо ящик получателя также имеет имя свойства вот приблизительно такого надо объявлять между ящиком отправителя ящиком получателя нужно приложить некий маршрут дорожку по которому бегать будут почтальоны и носить наши письма этот маршрут определяется причем маршрутизации когда мы объявляем связь то мы указываем обязательно должен быть указан ключ маршрутизация как бы это один из путей объявления связи его есть как бы второй подход мы можем объявить очень и из него сделать бинт на очередь то есть это наоборот понятно то есть мы можем из очереди сделать связь на учились женщина очередь это без разницы есть у нас сообщения в сообщение должно быть указан обязательно routing и пока то есть это тот ключ по которому маршруту он побежит наш сообщит наш сталин итак наш сообщит наш же почтальоны могут быть трех типов первый тип это слепые почтальоны они не могут прочитать плюс они бегают только по тому маршруту по которому мы им проложили и эти почтальоны бегут это самый быстрый почтальоны авторы и почтальоны могут немножко читать они сверяют буковки только не знают как чего сверили буковки что ключ совпадают нашего сообщения и соответствующие тропинке по которой бежать и бегут по той тропинке то есть наш путь получатель путь идет только чисто по плечу совпадения и 3 почтальонов это топик мы можем задать маску маска очень похоже такая же как файловой системе и по этой маски мы как раз пошла летчики наши относят письма вот приблизительно так выглядит как отправляется сообщение какие у нас типичные ошибки бывают теперь типичные ошибки бывают в том что люди часто забывают определять связь ну сейчас 3 рабиту такой более-менее приличный у нее есть веб-интерфейс можно через web-интерфейс и посмотреть что там объявлена как и очереди какой у них тип какие там и какие у них типы вторая такая типичная ошибочка по умолчанию когда мы объявляем очередь или клещ они не нас авто дэвид закончилась сессия убилась очередь умерла очередь вот поэтому ее надо каждый раз при объявлять в принципе это нежелательно делать лучше сделать постоянную очередь еще на назначить удирай бум юрий бы в это тот признак что если мы у нас очереди рыбу ту после перезагрузки рабби танки у нас это очередь будет жить что можно сказать про забитым q ну немножко он не очень приятен в администрировании зато его можно расширить если мы знаем ерлан он очень требователен по памяти рабби таммим киу работает через миссию это евангельское встраиваемое решение она есть очень очень много есть памяти есть некоторые плагины которые работают с другими хранилищами я честно говоря с ними не работал вот в таком журнале системный администратор я написал статью кролик в песочнице там принципе это тоже самое что я вам быстренько здесь рассказал а вот в этой статье я расписал более такие интересные паттерн и как можно используя пробитым киу что то можно там переделать какие перенаправления очередей например как сделать так что если очередь не прочитала считают эти данные пишутся в другой очередь запасную которую потом может прочитать другой сплит и просто и если есть возможность то прочитать блокировки вот рассказывал я про такой проект в самом начале если бы я делал этот проект сегодня то использовал бы метро сервисы вот а микро сервисы требует у нас синхронизации кого взаимодействия в качестве синхронизации нас пользуется такой инструмент как apache2 теперь это в основу философии то закипела лежит винода винода по аналогии с элементом файловой системы имеет некий путь и мы можем есть у нас операция создания до но до создания детей ноды в учении детей получения данных и запечатав данных синода бывает двух типов просты эфемерны химерные то такие зануды которые если у нас сессия умерла пользовательская тоже надо уничтожив авто дэвид последовательности это авт инкрементные зануды то есть это до зануда который имеет некий некое имя и числовой прессе карт инкрементный то с созданием новой за но ты у нас появляются но следующий индекс у неё хотел бы например и изменения конфигурации налитую рассказать как приблизительно это все работает если у нас две группы процессов группа процессов а и группа процессов б процессы один конец процессом 2 и как-то взаимодействует процессы 2 когда запускаются пишу свою конфигурацию взял кипер каждый каждый процесс создает свою за ноду там первый процесс 2 3 и вот у нас один из процессов восстановили или например запустили я тут например и остановке процесса показал что у нас процесс остановлен соединение порвалось звено да у нас удалилась посылается events что посылается and что мы слушали эту занозу что в этой за ноги однажды надо пропала посылает свои ведь и сейчас предыдущий слайд мы перечитываем конфигурацию все очень просто все очень красиво работает вот приблизительно так все это совсем тренируется есть там другие примеры как там с пикапами кто-то там синхронизировал вот вот на этом-то итоговом в слайде я хотел бы продемонстрировать все возможности очередей серверов очередей значит где у нас знаки вопросов там либо это спорный такой момент либо я просто нет нет нет не было данных например базы данных у нас масштабируется правильно ну не понятно но в принципе масштабируется но можно ли масштабировать очереди на них или нет принципе нет по той поэтому у меня здесь вопрос вот по активен кей я просто нет у меня данных с редисом почему а могу объяснить оценка какой то есть сауна он очень какой-то не совсем правильный вот можно сказать его нету масштабируется редис через клиент масштабируется таких каких-то элементов по робсон их решения не видел в принципе на этом у меня все вот такие вот выводы первое не стоит так первый вывод надо каждый инструмент использовать по назначению я просто много общался с разными разработчиками рабби темпу сейчас использовать наверно только не ленивый вот но в большинстве случаев тут же забитым кем можно было заменить редисом скорость умножена на производительность и надежность вот что что я хотел этим сказать чем быстрее работает инструмент тем у него умение надежность но с другой стороны и как бы величина этой константы может меняться это мое личное такое наблюдение вот ну и про мониторинг много говорили до меня более лучшие профессионалы на этом у меня все прозвать где была последней которой сравнение там скоростью казалось для только in memory то есть без какого-либо pixies танцы до скорость вот первая колонка там указывается скорость без учета персис танца потому что бетонку если у него включить pixies томсон будет такой же как этот обрез понятное дело верните микрофон с ребятам тут такая ситуация принципе тот же тарантул я бы ему тоже могли самолет нарисовать вот потому что у моего елка конкретно не тестировал на скорость в очереди вот но когда мы вот с ребятами из моя в руане тестировали таранд вон у них там по 200000 операций выдавал вот тот же ребят выдает 100 тысяч операций но это он выдает в кластере 100 тысяч операций вот от от за рамки выдает сам лично 100 тысяч операций без кластер а вот коробка она в принципе решение быстрая но тоже за счет того что она кластерная вот под тут в принципе мерить можно тут по одним замерам можно целый доклад сделать вот поэтому тут так это все относительно до александр александр спасибо большое за доклад подскажите пожалуйста у вас опыт enterprise приложении есть просто я не увидел ни где упоминание о транзакциях вы теряете сообщение как бы вам все равно это нормальный подход где мы теряем сообщения ну вас persistent нигде нет у вас сервера reboot ну леся вся очередь полетела если бы тарантул reboot нём то у него вся очередь сохранится если мы радист рыбу там у него тоже все списки сохраняться традиционность есть хоть в одной из этих систем rapid им киу у нас все сохраняется транзакционных когда откат транзакции на клиенте влечет за собой удаление сообщений в очереди у вас нет такой получается экспертизы честно говоря я в эту сторону нет не думал ну вообще транзакционных это как бы одна из сторон треугольника получается для систем которых участвовали не важно было то есть что дальше произойдет с данными в частности вот у нас то что было реализовано на манга у нас как бы все это сохранил в случае падением он к тебе у нас все это сохраняется единственно у нас мы потеряем что-то если не мы можем что-то потерять во время ребута вот опять же для этого есть masters в репликация для этого делается for over тот же тарантул мы ставим 2 incense мастер ну сейчас тарантул можно сделать мастер мастер один пишет 2 2 читает один падает автоматически перекидывается и печник на 2 нет это понятно но то есть у кого-то заплата потеряется по пути он будет очень рад но зарплата обычно не считается в таких системах и я часто вот сколько лет проработал я зарплаты дела не имел имел с играми и грелся статистика из баннерами кликами много чего чем омелы зарплаты не имел ну то есть вы могли спокойно потерять часть данных и никто от этого не умрет но когда пользователи теряются какие то очки он очень тоже не доволен поэтому мы стараемся не падать окей спасибо александр и можно пояснить на самом деле вопрос представьте у вас есть некая цельная операция в рамках которой вы очередь пишите например там два сообщения в конце этой цельная операции вы понимаете что вам нужно откатить эти сообщения вот вы в данном случае ничего не теряете вас ничего не падает но говорится база данных работает медленному я бы я бы с этим поспорил но тем не менее когда вы имеете транзакцию вы откатываете две операции не не попадают в очередь и не уходят эти мусорное сообщение а дальше другие системы до как эта проблема решается вот на но конкретно примерно радиусе а но я сути как бы понял что мы записали два сообщения база потом откатили да здесь как бы уже уже если что-то записал тоже тарантул радиус уже в принципе и не откажешь тут как бы нет такого чтобы star transaction что-то там н transaction да да но там сейчас в таранто ли что-то они пытаются транзакционных какую-то сделать вот в одессе этого нету явно роберт янг это все можно реализовать но это будет как бы медленно через какую-то дополнительную очередь можно но это как бы реально можно допилить и функционал пробитым kill дописать вот по крайней мере может там есть такое так называемый там была у меня вид обмена транзитивной вот ему as1 обмен на сделать сделать сделать связь бинт с транзитным обменом писать транзитивной бинт обменный потом с него читать как был такой вариант возможен до то есть пишем в один и если что мы пишем что оттуда можно читать да да да вопрос такой то есть случай с базами данных когда меняется схема таблица то есть существует такой пойдет миграцией то есть изменить структуру базы данных ну то есть в котором новый код из тут же накатывает миграцию случае с очередями то есть там на природе там или еще конь как перейти от одной структура 4d к другой причем учитывать что старый надо как-то закончить я понял вопрос тут был очень хороший доклад самый первый сколь жжет присутствовали вот там показали что такое сколь и то есть айдишник новый сколько имеют есть адэшника есть какие-то метаданные что такое очередь опять же мы пишем есть какой-то если это там в таранто ван реализуется на ключах 3 3 на 3 ключах да вот то мы поэтому а технику пишем какие-то данные эти данные у нас там стерилизуются или в основном сервированном видео в tarantul и можно писать мне в стерилизованном видео они как бы раскладываться по ячейкам вот если это редис мы чисто си реализованный данный пишу то есть тут ну миграция ну какие были даны такие остались тут как-то надо этот вопрос принципе решать да да всё решается на стороне клиента как мы решали данные вот на паху похожая проблема у нас было вот правда с базой данных мы решали и не совсем очередь но вот у нас была похожая проблема вот мы этим данным дали поле дополнительная вот грубо говоря а у меня вот был проект вот тот же танки вот тот же проект вот мы именно так и решали вопрос у нас было поле версия данных и как только версия меня наш скрипт смотрел какую версию брать вот и потом этот функционал когда вот про гонялась все это мы просто-напросто ну убирали тот кот либо мы берем вот такую структуру данных либо такую структуру данных в соответствии с версии данных вот здесь можно решить таким же образом добавляем еще одно поле версия данных и дальше наш скрипт и клиенте решают что из них брат прошла у нас грубо говоря миграция данных ничего не потеряли то есть но нужен какой-то промежуточный еще скрипт который будет переходный все ответил еще могу ответить на все вопросы после презентации если есть желание могу поподробней про им купер сказать кому интересно да про mtp есть у него такая особенность что их 2 есть 09 есть 100 для меня свое время было просто шоком когда я узнал что есть 10 я еще с 18 начинал но 08 то есть и второе разработчику редиса надоело что все пилят очереди нарядись и он сам начал пилить специализированные сильные сервис взгляде на череде и по аналогии уже уже можно пользоваться но он пока типа не production уже работает спасибо за добавление очень полезно александр спасибо вам за доклад спасибо всем что выслушали"
}
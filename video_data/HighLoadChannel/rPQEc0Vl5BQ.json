{
  "video_id": "rPQEc0Vl5BQ",
  "channel": "HighLoadChannel",
  "title": "Миф об очень сложном Highload / Александр Горный (Mail.Ru Group)",
  "views": 957,
  "duration": 3018,
  "published": "2017-04-22T14:48:01-07:00",
  "text": "я holder давно и лудэр михаила драм в одиночку в групповым хайлайтером но я надеюсь что я как-то вылечился и я хочу помочь всем другим тоже вылечиться поаплодируйте александр спасибо да значит если серьезно то в общем масштабу болезни довольно серьезный не ну как готовился к докладу и в цифрах хотел оценить я зашел на head hunter и вбил вакансию на там где пойти в чтобы отсечь что-то странное спортсменов отсечь и высокие нагрузки и нашел 800 . на нос а вот так и нашлось 802 вакансии связанные с жуткими нагрузками это довольно много потом я посмотрел их среднюю зарплату и посмотрел сегодня зарплата без высоких нагрузок разница оказалась 25 процентов то есть как бы есть очень много компаний которые ищите сотрудников там а потом высоких нагрузок от вакансии нельзя мы были вот и они знают готовы платить больше чем по рынку почему какую-то ощутимую сумму но это не научное исследование это два запроса вских enter но так есть и я думаю что это не случайное совпадение я думал что исстари текст remind завтра то будет примерно похожее цифры он трет другая сторона той же самой болезни есть к конференциях и лут которую теми же организаторами проводятся каждую осень и там ну там типа 2000 человек которые заплатили тип по 25 тысяч рублей чтобы послушать доклады вот про эти самые высокие нагрузки ну и там человек сто лекторов которые рассказывают как среди высоким нагрузкам бороться то есть очень многие люди туда ездят очень многие люди за это платят очень многие обладатели за это платят большая индустрия высоких нагрузок но существует совсем меня убило история про к одном которым меня сподвигло на этот доклад я вру занимаюсь в том числе и работа со стартапами там общаюсь нахожу интересным и там там у них инвестируем или не инвестируем или еще что-то происходит это я общаюсь со стартапом ну нормально speed art of my business 03 нейстат авторы бизнес то есть они выведут на чужие сайты там пользователь что-то делают с этими эффектами сайтом что-то платят нормально есть работа и каждый клик ну там грубо говоря тысячи рублей приносят поэтому виджету приносит другого до 1000 рублей совету и грубо говоря 100 рублей они из этого клика берут у всех все хорошо вот поговорили все поняли договорились о следующих шагах им горло значит это я все понял большое спасибо если у вас какие-то вопросы он говорит а вы что по технологии меня спрашивать не будете но страшно ученым woslom хочу об этом говорить все должно работать он к как у нас значит там в движок нога потом мы можем где by все это вот не минут десять внутри рассказывает как у не все круто устроена я успешно и зачем все это вот куда дистрикта мы сейчас хотим на поэтому переписать но она же так круто так здорово вот тоже там какой-то на михайло вода внутри в общем все это страшно и на самом деле сейчас 2016 году для большинства бизнесов вполне достаточно современного железа чтобы на обычным питон в чем смысл доклада сейчас это шестнадцатом году большинство бизнесов вполне достаточно обычного питона обычного mais quel а и нам что-нить еще обычного чтобы получить вполне достойную производительность и вот не слушать все хитрые сложные технологии их не используют использовать старые лампы все будет хорошо не нужен обычному бизнесу hail out hell out нужен там крайне редким исключением вот я там даже рисовал какой-то красивый слайд о том вот он по что-то необычное а большинство она обычно это определение обычности и вот обычным людям он fellow не нужен мне нужно было тому человеку изобретать вот своего манга нормальные инструменты вполне могут обслуживать сервисы и каждый клик стоит 100 рублей нам хватит серверов всегда некстати 100 рублей то серверов всегда хватит чтобы за и ерундовую часть этих 100 рублей обслужить этот клик как-то позиционирует дальше будет доказывать красивые слои докрасить нам нужны обычные задачи что такое обычная задача с технической точки зрения есть два критерия хай-лоу до первый критерий хэллоу для трп с авторы cry 3 л л д т latency вот поднимите руки кто твердо понимает в чем разница чем они отличаются что это такое хорошо значит надо рассказывать значит они отличаются примерно как эти две картинки обе про производительности левая картинка поток как можно много людей перевести одновременно то есть request персия концерт с количество запросов в секунду вот этого погонщика у него очень большой рпс то есть очень много людей за толкнул перевозит из точки а в точку б для квестов очень много лет инси это время обработки одного запроса то есть надо чем быстрее пользователь пришел на дом очень быстро ответить так спортивным сильван быстро доезжает для бизнеса важно и то и другое то есть есть лишь один конкретный человек пришел и получил свою страницу медленно то он может страницам дождаться у тип конкурентов вот я прямо сегодня слышал новую цифру который раньше не слышал amazon и заметил что каждые 100 миллисекунд это один процент дохода 100 миллисекунд одна десятая секунды то есть человеческий глаз это не отмечает профи первая цифра которая отмечает человек сознательно 200 миллисекунд все что происходит быстрее 200 миллисекунд человек кажется мгновенным по крайней мере в интерфейсах вот amazon измерил что если сделать на 100 миллисекунд медленные сайт то один процент пользователи убежит тут цифру который я слышал раньше она была еще более жесткой ну в общем не важно важно что чем медленные тем хуже чем в безусловном смысле хуже люди уходят к люди не платят люди уходят конкурентом платность это важно с другой стороны очевидно важно количество запросов в секунду есть нам пришло 100 пользователей а мы их не можем обслужить мы там выдерживаем 40 запрос секунду то 60 тоже ушло к нашим конкурентам это же все плохо и эти две цифры не связаны как вот даже иллюстрирующей картинки показывает что они в общем-то не связаны потому что но что спортивный автомобиль на низкий fps будет всего одного человека что электричка ездят медленно на едет медленно поднимите руки тех кому я помог разобраться в том что такое рпс и latency неплохой рпс идем дальше какие вообще цифры в рынке они являются разумными вот о чем мы узнали что надо измерять теперь давайте поймем вообще каким цифрам надо стремиться я взял никаких секретов не раскрываю я зашел liveinternet нашел первые знакомые мне названия из и коммерса в сверху это был этот магазин 220 вольт liveinternet пишут что у него 600000 китовый день а потом я вбил в яндекс выручка магазина 220 вольт и получил несколько ответов но они там за разные годы с разными курсами но какие-то сотни миллионов долларов в год у них выручка моим нормальная выручка вот поднимите руки кто считает что это мало все со мной согласны нормальная хорошая выручка это много на это можно ориентироваться на эти от 600000 китов в день это ip40 то есть мы делим количество китов на количество секунд сутках на 8 6400 умножаем на 3 потому что пиковые секунда в три раза больше чем средний ну понятно в 5 утра меньше счетов два часа дня больше китов известная формула чтоб их отличается от среднего в три раза для нормальной жизни и умножаем на 2 потому что может быть там какие-то еще внутренние хиты которых мы не видят счётчик может быть такая xyg на всякий случай умножим на 2 получаем число 40 то есть вот для такого нормального бизнеса не соц сеточки а который что-то делает которых в общем большинство 40 это офигенно большое число 40 позволяет 220 вольт делать оборот в десятки миллиардов рублей в год это всего 40 fps для сравнения крутые доклада нахал audi они там озаглавлена типа мы сделали на пост грейси миллион транзакций в секунду транзакции это конечно не рпс то есть в одном в одном реквизит может больше чем одна транзакция но там разница но в 10 раз то есть они делают миллион транзакций что как-то там соответствует 100 тысячам хитов в секунду а нам нужно 40 футов в секунду и вот потому стартап чеку которым я начал рассказывать ему там не 1 секунду было бы более чем достаточно 1 секунду умножаем на 100 рублей в день получаем по и на 100 рублей получаем ему просто офигенные числа это было про фпс такой хороший лад нанси значит я взял яндекс и гугл две хорошие компании которых работают очень хорошие инженеры может быть лучше меня может быть хуже меня там но точно очень хорошие точно взяты из прекрасных рынков точно офигенно хорошо делающий свою работу ну и вообще молодцы и залил чего у них получилось все дернул страничку яндекса несколько раз дернул страничку гугла несколько раз значит получил следующие цифры сама страница серверов отдается за 180 секунд или за 64 миллисекунда граница мгновенности надо на 200 миллисекунд яндекс не в три раза тупее гугла есть одна объективная причина индекс останется больше на google а вы видите только поисковую строку яндексе увидите погоду курс валют там вспомнить страницу яндекс я не мобильные смотрел я смотрела вниз топ на и ну чтобы отдать больше информации над потратить больше времени объективно никто никуда не деться но тем не менее вот для отдачи странице они уложились вот такие цифры и я считаю что если мы уложимся в примерно такие же цифры тоже уже неплохо конечно круче быть хорошо быть круче чем яndex угу ну хорошо но в общем большинство бизнесов достаточно быть не хуже яндекс по скорости яндекс не тормозит нормально это первый момент второй момент обратить внимание что сервер ты отдал за маленькое время а страница открылась за большое время это очень важный момент все вот хай лоу то они на там не на 70 80 процентов посвящена там это происходит на сервере а с другой стороны мы видим что там 90 или 80 процентов времени которое ждет пользователь она происходит на клиенте то есть сервер все отдал условно мгновенно ну то есть даже не условно реально мгновенно ниже граница мгновенность ниже 200 миллисекунд а потом браузер в одном случае 700 другом случае в 700 миллисекунд то есть 34 граница мгновенности потратил на то что все это нарисовать то есть люди убегают из-за медленного клиента а мы думаем нахал audi как оптимизировать этот самый сервер который ну по крайне мере индекса быстрый вот такая беда на котором мы вспомним потом а пока мы запомнили красивые цифры значит есть у нас 64 до 180 миллисекунд то это на сервер только общем уже неплохо и из индекса за такой не увольняют это нормально нормально отработали и то что 40 fps это дофига и это позволяет работать 220 вольт который крутой интернет-магазин работает очень много денег теперь моя задача доказать что вот простой ламповые сервер то есть linux патч миску эль ее там печки питон первым за букву п их вполне достаточно для того чтобы это сделать значит на что давно подведение итогов предыдущего слайда а теперь уже следующий слайд а на что тратятся миллисекунда вот если у нас есть какой-то ламповый сервер то что вообще он делает нормальным случае нормального интернет сайта или интернет сервиса значит пользователь кликнул и к тарелке данный on the level в номер карточки или ну что-то такое сотворил кликнул что вот надо ему этот заказ отправить дальше это все уходит письмо то что говорю немножко не соответствует порядку написание на полу идет она уходит по сети приходит серверу тут начнет какая-то операционной системой сидит вытаскивает там какой-то патч это обрабатывает как это какая-то магия которая вот нам не очень ну а нам очень интересно мы плохо контролируем потом запускается на штампах а пышный перловый питоновский скрипт который что-то вычисляет проверяет что не знаю фамилия не пустая что зарплата который мы ввели на этом сайте вакансий там меньше миллиона в секунду больше нуля он чего то там вычисляет дальше чудо стоит из базы данных там не знаю подходящие вакансии для нас или там список товаров в этой категории отчет достает из базы данных отчета вычисляет на среднюю зарплату вот на этой странице за этого делает страницу в хтмл отправляет ее в apache apache управлять посети стена приходит к нам и дальше наш браузер и показывает и если вы вспомните что я говорил то получите 5 блоков которые нарисованы то есть какие-то вычисления в базе данных чаще всего чтения потому что пользователь больше смотрят чем пишут какие-то впечатления на нашем бэг-энде мы там что-то проверяем что-то анализируем и сформируем страницу потом какая-то магия операционной системы понятно и движение по сети быть в котором мы правильно потом показ на стороне клиента того что мы нарисовали значит моя задача сказать что первые три части который происходит на часть на стороне сервера они вполне такими дедовскими простыми способами где-то укладываются в эти 200 миллисекунд сейчас я рассмотрю каждую часть и вот покажу что действительно даже в сумме они хорошо укладываются в 200 миллисекунд начну с базы данных значит первое что я сделал я взял в табличку 50.000 штук но подборки товаров нашем интернет-магазине довольно много товаров так недавно магазин данным колес сном наименований товаров больше 50 тысяч взял там 9 полей такой случайно числом типа нам позвонит категория эндом 9 штук я начал делать запросы какие странные по этой базе данных они все летали условно мгновенно то есть даже без всяких индексов 40 миллисекунд укладывались все взаимные запрос тут вся эта штука я забыл сказать я купил надет что уж не виртуалку самый дешевый sata rev 5 долларов месяц 6 долларов за backup это не реклама digit а уж на неве решит самый лучший тариф и вообще самые лучшие компании 5 баллов небольшая сумма веришь любой бизнес может себе позволить поэтому самый дешевый там купил и вот там все тестировал ты вот в этой самой дешевой готовки это все помещалась памяти мгновенно летала я потому что таки часто и сделал более широкую табличку пол нас серьезный интернет-магазин каждом товаре мы знаем много я сделал сколько там 27 полей включает два текстовых тайским там описанием там еще чем-то а и начал играться с ней с ней уже просто грац не получилось она уже вся в память не влезала никого сделать индексы поставок я сделал в яндекс это любой разумный запрос он начал укладываться примерно 15 миллисекунд разумным я понимаю то есть задачи на запрос по индексу да он был убит по индексу другой страны не запросам выдайте мне товар с айтишником 58 это какая-нибудь там выдайте мне товар из категории то такой то с ценой не больше такого-то и отсортированные по названию если индекс существует тут вопрос такого плана все укладывают нации миллисекунд это значит про широкие таблицы для длинных таблица создал в табличку длиной в миллион на паркете отзывы наших пользователей еще чем такое и начал играться с ней если она вот ну разумности плоскости в одно текстовое поле и 6 не текстовых то тоже 15 миллисекунд разумные запросы в не укладываются если мы соединяем эти таблички то запрос по и соединение 30 миллисекунд не знаю совпадение ли то что 15 из 15 или вот просто получилось но факт таков что если мы хотим вывести там не знаю товары отсортированы по количеству комментариев про них из вот этой категории ну предка что более сложное происходит на странице то это 30 миллисекунд такие товаров достанем обычный mais quel развернуты из коробки на самой дешевой виртуалке digital а уж ну вот насколько я лично я ванну простой просто поставил вообще никак не достраивал вот так вылетела значит и тубу но первая строчка шутка потому что ну индекс очистки давайте делать 2 вот все остальное говорит что какие-то показ каких-то данных на странице и то там 15 30 миллисекунд в зависимости от того на какие реальные данные нам требуется значит для тех кто совсем плохо ориентируется войти ну индекс эта штука обязательно проходит там ну в моем случае на втором курсе института я думаю у всех разработчиков хотим тоже должно было проходится это не моги это не ноу хау это умно это ремесло часть тремя словами строить индекса для разработчиков но я надеюсь вы знаете что умение строить индексов часть вашего ремесла но понятно же тогда команда в консоли надо создать какую команду сделать дальше я перешел нас было три пункта стоящие на сервере баз данных выбрались я перешел к учат ленина бэг-энде значит у меня была та же самая виртуалка на digital оушена я подумал ну что обычно присходит бэг-энде либо обработки хто строк его брат каких-то чисел значит вряд ли у вас строк больше чем война и мир логично я скачал один том войны мирон библиотеке мошкова не по томам были поэтому скачал один том и убрал из него все пробелы ну какая-то обработка нужна была делал лет на перлина и умею программировать на пир я так сложилось я очень старый вот на питание наверное был бы раза в два быстрее а может нет тоже нам был протестировать не протестировал очень заперли войну и мир можно обработать за 25 миллисекунд на самой дешевой виртуалке где число уж на начинаешь на пирре я сложил квадраты 1 10 тысяч чисел ну-ка только бессмысленно опираться но вряд ли у вас на странице больше 10000 каких-то математических операций происходит нетипично это для сайта это в note 4 миллисекунда и вот предположив что вот так вот мы сделали какую-то умную часть нашей деятельности дальше мы должны выплюнуть html-страницу мы его пленки mta шаблонизатора но тут я не стал писать ничего нового я взял свой стартап чик маленьких которые это свободное время до написал вот и посмотрел его страничку она очень длинным то вы знаете классической странички на верху фотография с рассказом о том какие мы крутые и дальше внизу и дуться там отзывы нас наше преимущество ну вот классика лендинга довольно длинный нос соответствует наверное по длине какой то более менее типичной страницы и ну например например программирую тоже написано интерьера из тем шаблонизатор им которые мне в момент написания оказался самым популярным самым удобным самым быстрым был тимплей талой наверное с каким-то другим были чуть другие результаты в общем страничка формируется за 35 миллисекунд я складываю вот все три получившиеся цифры получаешься 4 и думаю что вот ничего более сложного на по пензе не делаете то есть у нас обычная страница которая 35 минут секунд какие-то тексты которые явно не больше чем там войны и мир это значит 25 миллисекунд но и к этому тематика которая тоже явно не больше чем 10000 возвести в квадрат это вкладывать и вот из этих наших трёх пунктов мы бы два обработали а третий это не даст ну в случае лампа недоступные нам веб-сервер ios а я измерил на потому сам свой стартап чеки я измерил и сильно удивился оказалось что они зажигают 160 тоже digit low sheen тоже неплохо за пять долларов сальдо по счетам работы они сжирают 160 миллисекунд то есть вот войной мир может обработать за 25 вот это вот макетом вытащить из сети отправить сеть занимает 160 миллисекунд настроено все из коробки наверное чет надо поправить так по жизни многовато но съедается просто так но с другой стороны как вы если просуммировать то вот таким самым лучшим способом 3 запрос из баз данных обработать войной мирно бэг-энде и взять крут криво настроенным горном kurhn это я криво настроенный криворуким человеком сервер получается 2 65 миллисекунд а я ну вот в реально в жизни мой стартап не обрабатываем войной мир в нем был 190 почти почти как яндекс ну вот по худшему у нас 265 этого индекса было 180 гула было 64 у нас 265 вы сделали все максимально таким способом мы сделали много лишней работы пришла иной мир от явно лишняя работа мы криворукие администраторы которые как-то неправильно настроили в веб-сервере тем менее даже с такими плохими показателями но умением пользоваться индексом у нас получилось 2 65 миллисекунд мне кажется это неплохо ну а и все это был назначит с 8-ми за пять долларов в месяц или шесть если с бэкапом мне кажется надо сказать огромное спасибо презрительным железо что они вот позволяют нам быть такими замечательными а теперь этот мы добились лотностью 205 миллисекунд глазах два показателя 2 показатели tps значит вопрос все ли понимают что 265 миллисекунд от рпс не хуже чем 4 привить руки кто это не понимает так и нибудь руки он не услышал вопрос ну да да да да да чуть чуть по почему это лучше чем три они хуже чем 3 до вас совершенно верно но ведь надеть же крушения есть не это одна ядерная машинка ложь есть много ядерной машинки и 10-ядерный там нет нам 40 надо добиться у нас почти 4 то есть был бы хорошо 10-ядерный купите вот все сойдётся значит но беседа моментами с 12 ядерные 12 грн уже дорогие они уже 320 долларов в месяц то есть мы строим бизнес масштабов значит 220 вольт 10 миллиардов рублей в год от года требует 320 долларов месяц вот клименко на прошлом прекрасно докладе назвал таких одержима бирками ну наверное есть уже какие-то пулек нанести целесообразное решение но даже и 320 долларов это не очень много для бизнеса масштабы 320 могут в умный подкованные люди возразить что когда мы сделаем параллельно то нас не всегда все умножается это неправда то есть вот с момента как появился на тебе и в морской или более менее исчезли блокировки по таблицам в каких-то разумных масштабах а наши 45 разумные масштабы вот чем больше я dirt тем больше производительность и не стоит есть не у меня слайда нет и умножать можно то есть если мы с одним ядром укладываемся в 4 рпс отто с 12 ему 40 уложимся у нас все будет хорошо какой из этих скучных слайдов цифрами вывод если мы особенно не тупим если мы создали сайт на ну в нашем случае pearly но поверьте не пока сами исходите перепроверьте на питоне будь то же самое если это сделано то мы легко получили на современном железе одном железном сервере рпс порядка 40 лет носи порядка 250 это делается цифры and доказывает что происходит дальше дальше то что мы от нотка как все как у яндекса мы это быстро быстро посчитали на сервере дальше она полезла по сети и это мы это кончился hallowed который должен был умереть давно и началось реальная работа даже в случае яндекса яндекс потратил 180 миллисекунд на 800 на клиенте то есть брат мы отправили в браузер ужасно длинную ужасно сложную страницу длина современных страниц она примерно как война и мир атомов в той же масштабах измеряется страница конечно зная но и бедный браузер должен понять как вот из этого текста извлечь там картинку в левом углу вниз на логотипчик правом углу какой-то текст посередине вот тут начинается сложная работа тут начинается интеллект сложная задача верстальщика jaroslav разработчиков ран тендера за эти как хотите в том чтобы помочь браузеров подсказать как это быстро делается тут тут жизнь тут интерес тут надо бежать тут даже в моего любимого индекс даже у нашего ненавидимого вражеского гугла все получается гораздо хуже чем на сервере на сервере не задачу решили и уложились границу мгновенности то здесь даже у них граница мгновенности уложиться не получается дождись они работают и занялись работают тонн нам тоже не грешно работать изучается чо тут думать ходить на конференции про front-end и улучшаться здесь во всех по-разному и дай здесь не зависит масштабы сайта то есть если случае бэг-энда мы поставили десять раз мощный более мощный сервер и у нас все стало 10 раз быстрее или там мы маленькие у нас очень мало пользователям поэтому все очень быстро то он на клиенте мы ничем помочь не можем маленький сайт работает то есть большой страниц своих преимуществах работает точно также медленно как он тоже самое два сколько вообще не важна посещаемость страницу всех по длине одинаково то есть вот здесь надо учиться бороться что-то делать но содержательно часть моего доклада на закончилась я хотел доказать что простые ламповые методы они обеспечивают приемлемую скорость для там 95 процентов сайтов теперь без содержательная часть о том кому еще предстоит мучиться с 2 тема хочу раскрыть кому еще предстоит мучиться со всеми этими вот хай-лоу нами эти миллионами рпс of на пастбище и прочими ужасами и почему не смотря на то что светлое будущее наступило железо нам всем помогло и и все уже может работать быстро тем не менее легко в интернете найти сайт который работает медленно значит начну с того кому нужен с holod на сервере но он очевидно нужен тому для кого железо еще не построили то есть того вконтакте там миллиарда хитов день они 600000 какого 2 из 20 им нужен холод нам нужна холодная контакте на вконтакте да вот чтоб еще так много что в нужный сервер еще не построили лет через двадцать построю тогда тучи вард момент вот 10 лет назад сервера были незнакомы 30 раз более слабыми чем сейчас а количество хитов был в три раза меньше то есть ну люди они конечно больше времени проводят в интернете но это время растет медленно то есть но в будущем году но закон мура потом удвоение за полтора года вы каждые два года не упал даровать свое время в интернете вы уже по цели ну и все ну там чуть побольше будет но чуть-чуть вот поэтому и в контакте can't do гонятся и когда-нибудь масштабы тоже будут запускаться на самой дешевой виртуалке на отечества уж не надеюсь ну может быть на самый дешевый но когда не все будет хорошо но пока плохо есть второй момент как бы когда и вот считал эти запросы по базе данных этот полагал что нас какие-то более-менее обычные задачи куда более менее обычного ну и комиксов откровенно говоря категории какие-то отзывы как-то не группируются суммируются есть по-настоящему хитрый математика которая надо читать онлайн показать самый подходящий по нир квинси рекламной сети вот нам надо вытащить 500 признаков где не нам там искусственный интеллект и китам мозги льда фу взялся на временный кров шахматах мы делаем куинси серверы там должны очень глубоко посчитать хитов там не очень много нашим мы считаем очень долго очень глубоко и считаем большим 10 тысяч квадратов там тоже может явиться high-low бывает что мы ограниченным человеческим зрением с его до места миллисекунда me а каким партнером там countertop гугла говоришь вы должны ответить за 20 миллисекунд потому что мы google и мы вам за это платим не ложились 20 миллисекунд мы не примем ваш баннер ну тут надо уложиться в 20 200 и это пока сложно вот у нас просто получилось 255 google требует 20 ну пока не работает потом будет работать и наконец бывает что мы наоборот ним и для кого-то кто-то для нас нет кто-то работает медленно и плохо и нам приходится делать кит костыли и вокруг чужой у сервиса которым вокруг которым мы работаем чтобы ну там со покинуть систему извлекаем кинь данные про наш товар и на самом повлиять не можем на бухгалтеров мог влиять не можем который используется цап и заставили нам брать данные оттуда и нам приходится делать какой-то hallowed чтоб совсем тем самым под капотом все все равно работала вот так бывает это когда он нужен теперь вопрос кому нужен этот хай-лоу далеко не всем кто работает с такими сервисами нужен если вы нанимаете разрывов вас есть сервис этого пункта и вы нанимаете разработчика ему все равно не нужен опыт больших нагрузок то есть у вас уже сервис есть он уже работает ну так чаще бывает чаще нанимает во что-то готовое чем в новое и какая-то архитектура уже построено есть уже какие то рамки заданные вашем сервисе изменение бизнес-логики она редко эти рамки нарушает можно сказать что у нас там принято ксапо обращаться вот через этот класс в этом классе уже какой-то хитрый хай лоу и ты обращайся к соплу не напрямую а через этот класс и все будет хорошо и так в большинстве сервисов она живет есть там у нас mail.ru было как-то надцать лет назад вот в баз данных класть ничего нельзя класть можно только в ящик пользователя потому что есть ты будешь классе чего-нибудь базу данных то все рухнет от нагрузки база данных плохо масштабируется и нельзя то класть вот есть класс который кладет ящик пользователя вот класс который достает взять данные из ящика вот твой profile д.б. ты живи берешь любого разработчик с улица инструктирующего баз данных забыл значит этот им поп profiles узнал работает сам по профан база данных забыл и он начинает работать и ничего не валит потому что у него есть инструкция чё делать можете нарушить все завалить но есть предложил вменяемый то никаких знаний высоких нагрузок ему не надо ему нужно инструкцию заки нагрузки на митинг ту архитектуре рует то есть когда там подумать глобально новые сервиса не новый бизнес логика эту крым делает сынов и там будет какой-то из вот из чего ты этого то надо понимать языки нагрузки знать к там тимлид mail.ru у него но новый сервис временно 3 меня возникает ему надо вы там этом will out of сразу будет очень много хитов ему высокие нагрузки над знать есть там проект поменьше мы их уже не тимлид косички из директа тоже значит что-то новое делает своих проекте есть вектор должен как-то это все понимать вот больше она никому не нужна обычно разработчик он живет в рамках проекта если он не архитектуре то делать бизнес-логику как она обычно случается то он не нужно я акцентирую внимание потому что ну конференция менеджерская надеюсь большая часть людей нанимает не нанимается и вот это именно вы они соответственно затем 82 вакансия нету в рунете 800 двух проектов которых руководить но у которых есть большие нагрузки с нет fun эти 802 вакансий для больших нагрузок вы зря ищите разработчиков с этим опытом если вас архитектура построена это бизнес вы во первых 90 процентов вас вообще проекте не требуется высокие нагрузки а в тех десяти процентов проектов где но требуется там разработчику не требуется быть хайло ударом требуется соблюдение правил и еще одна заключительная часть о том сейчас растолкуют сказку что вот ничего уметь не надо ничего знать мина это все будет хорошо получаться а в жизни мы видим что зашел на этот сайт он не открывается зашел на другой сайт тормозит тут есть два момента момент первый это то что очень вот hell out of his hit а ну например про миллион транзакций в секунду через пас gres он начали большие цифры на самом деле бизнесу гораздо чаще нужна большая стабильность то есть какой-нибудь аптайм там в сто процентов но он недостижим нас предела года достижим ставим стрела стопроцентных бизнес крут то есть мы не потеряли ни одного клиента это очень круто мы умеем а мы умеем обрабатывать миллион клиентов из нас реально 1000 это бизнесу бессмысленный труд только разработчику вот и надежности на конференциях не улучшит и человек ну вот intre un доказуемо но мне кажется что когда человек пишет резюме или в вакансии что высокие нагрузки там я умею ли нам требуется он тоже подразумевает вот это умение этом примере он хитов они у меня просто процентный аптайм это первый момент есть rouge хайло удить то хайло удить на ту сторону надежности они снова количество в эту сторону очень мало ту hail аудит и второй момент тоже вот сегодня на конференции был доклад сделать плохо гораздо проще чем сделать хорошо то есть у нас есть куча мест которые кредит от которых критически зависит наш сайт система облажались с хостингом и наш хостинг тупицей наш хостинг забанил роскомнадзор или наш хостинг находится в занзибаре и тупо далеко до москву то сайт будет тормозить и нужно них и лут хай-лоу дитя нужно вот починить плохой хостинг которым мы облажались или мы выбрали плохой фреймворк который но вот нам совсем не подходит есть ног плохих for work of fallen плохо написана которые тормозят на дно два пути либо как бы вот хайло удить в рамках этого from work on high супер специалисты которые но патрисия умеет делать миллиардные сайт 10 тысячные сайты алеппо ну сказать что и неплохой опасно привык нам не подходит но он просто плохой плуг написан давайте использовать хороший нормальный нормальный фавор который неплохо написан мы сами можем облажаться то есть я же когда рисовал цифры по бэг-энда по базе данных говорю что запросто разумные запросы по индексу но может сделать запрос без индекса он будет тормозить но это не повод начинать х любуюсь этот повод починит конкретный запрос которым но потом мы облажались или то можно вытащить у базу данных как-то иисуса суммировать на фронте где-то будет длиннее чем военное метру база данных нас может больше чем война и мир но опять это ну нам найти эту ошибку и исправить и если будет хорошо это не повод говорить какой-то магии больших нагрузок и этому не учат на холоде это не подразумевается описание вакансии это все в детский сад они академия ошибки надо находить и исправлять ну и очень много сайтов тормозят то может перри осложненный frontend так если вы пользуетесь интернет с мобильного телефона и сейчас ним исследование сейчас личный опыт но как я пользуюсь с мобильного телефона но процентов сто процентов тормозящих визуально сайтов тормозят именно из фронтэнда и перейдя на них большим браузером и из компьютера и авив нормально работающий сайт но это не знаю практику ну вот для меня это классика зашел еле шевелится перешел в доставке и все нормально работает frontend написать плохо легко frontend еще не решенная задача frontend нам еще можно работать его еще можно улучшать еще и вот даже индекс google о мне написали идеально ну что говорить о простом обычном сайте где программиста заветному хуже и зарядом меньше зарабатывать ну и всего заведомо меньше frontend там есть поле для дискуссии это все чем я хотел поделиться большое спасибо что надеюсь внимательно слушали если есть какие то вопросы то давайте я буду отвечать на вопросы да здравствуйте и спасибо за доклад меня зовут кирилл вот вы посчитали какие-то цифры да ну это вроде бы как бы искусственные искусственные нагрузки больше похоже как по нас физического коня в вакууме обычно даже самый простой фреймворк занимает пятьсот-шестьсот миллисекунд рендеринг страницы и если это будет писать михайло от разработчика простой да это ну пускай он уложится в эти же 260 милисекунд но если это написать с учетом хайло да да и уложиться там 100 миллисекунд будет оптимизирован процессор оптимизирована память и бизнес от этого сэкономит больше денег на железе если это ну пускай а те же 40 fps это будет не виртуалка там за 50 баксов а виртуалка за 20 баксов вот смотрите выживали цинка который вот обо всем 30 долларов это не экономия для бизнеса если ты здоров экономия для бизнес тут не бизнес это вернуться такой вообще не что цифра это реалистично нет таких объемов рунете чтобы биться разница в 30000 вот ну даже есть взяли не тимплей talk который у меня который прекрасен а какой-то кривоватый шаблонизатор там будет но 200 не будет 3000 от этих объемов в рунете и нет ну настолько кривых рук нет среди фреймворков и особо большого числа китов не тв рунете вави то конечно лишний миллисекунды она у вас написано вид давид конечно вы крутые вы молодцы вам нужно хайло удить но вас таких четверо в рунете мы вы индекс ободу и и все больше ни у кого и тут нет нет если я вполне допускаю что какой-нибудь ecommerce масштаба 220 вольт своими 40 fps сами тратят очень много денег на железо это вполне возможно это реально но как бы суть то в том что нужен хай-лоу то есть вот для того чтобы перестать тратить гигантский деньги на железо и недостаточно прямых рук лампа и понимание индексов база данных этого уже достаточно если они тратят много денег на железо это значит что они вот на этом школьном уровне где-то уважают и мне нужно исправляться на критическом уровне вашего числа счетов них нет смог песню спасибо такой вопрос хорошая выборка прах от хантера то что вакансиях много пишут про хай-лоу так вот вопрос откуда растут ноги у этого слова в вакансия предположим есть предприниматель который не посещает highload конференции есть скорее всего какие-то и чары так вот кто пропагандирует чтобы вакансиях был я думаю что этот такую всем это выгодно то есть разработчику это выгодно он значит поучаствовав в комната mail.ru или его vito и он хочет дополнительные деньги 20 это участие в мылу или авитон пишите в резюме значит я и laughter и дайте мне больше денег как логично и хорошо с другой стороны предпринимателю это тоже хорошо он пишет что у него большая нагрузка и соответственно меня интересная компания вы когда у меня поработаете то вы потом у нас будет опыт больших нагрузок и пойдете в яндекс или mail вас там возьмут потому что вы пробовали большие нагрузки и вы как тоже неплохо такой привык и чар бренд тоже хорошо ну олег будем на этом зарабатывать тоже хорош все довольны в итоге предприниматели же они заинтересованы в развитии бизнеса они скорее всего не думают что мне нужно 50 хайлайтеров ну тут они знают там предприниматель он обычно далек от совсем разработки он считает что не но если у него большой сайт и начинаешь него большой сайт он там слышал что ну спрашивать у разработчика малик у нас нагрузка строчку из нас большая нагрузка ну и или там еще раз спрашивает разработчикам на кого мы ищем мы ищем кого-нибудь хорошего кто хороший хороший который с большими нагрузками работал ну я вот напишу вакансию большие нагрузки так себе ты один такой троллинг вопрос надеюсь теперь все знают что такое 220 вольт до есть какой то сайт так вот к цифрам предположим 40 fps до позволяет этому прекрасному сайту зарабатывать не зарабатывать а делать выручку 100 миллионов долларов надеюсь все понимают что такое выручка от дохода так вот предположим такой вопрос а если бы этот сайт делал 80 fps он бы делал бы выручку в 200 миль нет не так испортил выручку длительного долларов там бы делал выдерживал 80 fps ну как у вас есть мощность то пользователь не приходит вам нужно моршинская приходит пальцев можно может им не хватает мощности чтобы еще еще еще еще еще вкус кушать 2 виртуалке на держит lush спасибо че вопроса"
}
{
  "video_id": "p2MbbFY2LLw",
  "channel": "HighLoadChannel",
  "title": "Kubernetes без интернета / Максим Набоких (Deckhouse)",
  "views": 513,
  "duration": 2465,
  "published": "2024-10-29T03:05:44-07:00",
  "text": "Всем привет здравствуйте хорошо Меня слышно отлично ребят второй день конференции надо немножко взбодриться а ничто так хорошо не бодрить как 100 слайдовая презентация которую я для вас приготовил давайте наверное начнём Я часто в своих докладах рассказываю очень много технически сложных вещей но сегодня мы поговорим меньше про технику больше про мышление про концепции и Тема моего доклада сегодня называется кубернетес без интернета чтобы понять вообще о чём мы будем сегодня разговаривать нужно сначала понять какой у нас как у компании есть опыт Меня зовут Максим набоких Я работаю в компании отвечаю там за разработку кубес платформы DEH что это такое de cuber platform это штука которая позволяет безопасно вам разворачивать много-много кубер кластеров быстро даёт хорошие sla на слайде цифры можете тельно ознакомиться если Если сравнивать говорить аналогия то получается кубернетес - это у нас как будто бы ядро Linux То есть это такая технология на которой можно что-то построить а dehn ПТФ - это получается готовый дистрибутив Ну типа как унту или entos то есть что-то Что можно брать и прямо пользоваться этим вот это то что мы делаем опыт эксплуатации делаем мы эту штуку 6 лет у нас запущено на Хаусе 1 Милн контейнеров более чем 300 кубернетес кластеров более 7.000 приложений более 99.000 узлов в этих кластерах у нас находится да то есть у нас очень много внедрений разных маленькие компании большие компании Enterprise В общем на следующем слайде покажу Кому мы помогаем помогаем Нефтегаз отрасли финтех государственным организациям помогаем помогаем банковскому сектору и помогаем облачным провайдерам здесь какие-то логотипы можете посмотреть может увидите какие-то знакомые так вот примерно даже больше чем в половине из этих организаций Интернета нет от слова прям вот совсем ну то есть он там запрещён телефоны на проходной отбирают никакой связи какая у нас задача дано банки Да критическая инфраструктура да интернет Ну иногда чаще всего чаще всего нет да найти нам нужно возможность установить нашу кубернетес платформу Но прежде чем мы будем разбираться в том что это такое Да Нам нужно сначала понять Вообще Что из себя представляет кубернетес платформа Да и хорошо мы все лаем что кубернетес - это Пять бинаре и так хоро с вами знаем что это полная ложь это абсолютная неправда Да рне гораздо сложнее В ЧМ Ну то есть Давайте просто разберёмся Из чего состоит рне то есть Первое - это контейнеры то есть Нам нужны контейнеры чтобы запустить управляющий слой нашего кластера это сервер контролер менеджер со СДМ как база данных и ещ Бене количество анов которых может 5 Конте это то что как бы контейнеры которые включены чаще всего в кунет платформу далее Что нам ещё нужно нам нужны пакеты операционной системы например Нам нужен какой-то не знаю запускатор наших контейнеров Да например контейнер D Да он ставится пакетом нужен пакет ку билет тоже нужен пакет да то есть нужно поставить его на операционную систему могут быть ещё какие-то зависимости которые вам нужны в виде пакетов операционной системы и последняя штука это сам инструмент которым мы будем разворачивать рне платформу Да например там ADM или там не знаю Или у нас вот например свой инструмент есть который называется ну DL То есть можно при помощи него разворачивать кластера да получается контейнеры что мы контейнеры Мы храним в контейнере пакеты Мы храним в репозитории пакетов специфично для операционной системы дарни установки мы храним где Ну в каком-то стод не знаю в С3 В блоба на гитхабе не знаю где где угодно и получается Здесь мы ребят Встречаем с вами первое препятствие первая сложность это на самом деле что кубернетес он состоит из очень разнородного софта то есть и причём который ста Ну то есть который нужно загрузить заказчику в разные в разные места да то есть это сразу согласование с несколькими службами это возникает проблемы Да и как как скачать тоже возникает проблемы в общем разнородность - это то то чего мы хотим избежать есть такая идея у нас э и мы успешно её внедрили ей пользуемся э вот смотрите всё что было контейнерами оно так и осталось в виде контейнеров Да а остальные штуки Ну мы тоже предположили что почему бы не использовать registry для доставки остального софта в том числе то есть и установщиков кубернетес и пакетов операционной системы потому что Что такое контейнер Да контейнер - это просто какие-то Ну блобы да которые лежат в регистре то есть по сути Мы в регистре можем загружать всё что угодно Да почему бы туда не загрузить например контейнер D да Или почему бы туда не загрузить Тулу для установки соответственно применили воспользовались очень классно Теперь Нам нужен только контейнере в контуре заказчика если заказчик хочет запускать контейнер в платформе Скорее всего он предполагает что у него этот registry либо есть либо он его установит Ну в общем удобно смотрите преимущество - это простота Да только что проговорили э также удобство Потому что если например у нас появится ещё что-то что мы что нам нужно для нашей платформы например какие-нибудь файлы конфигурации в yl формате или что-то такое мы это всё тоже сможем запихнуть В контейнер registry Котей registry спокойно всё это примет То есть это очень удобно и расширяемой он в принципе классный потому что он ну то есть он хранит данные эффективно он их не дублирует если такие данные в рест уже есть то есть он экономно расходует место да хранить в рест софт в целом классно Давайте теперь мся вообще со схемой закрытого контура что это такое вот проста простейшая схема закрытого контура я назвал Посмотрите есть контур заказчика есть какие-то кубер кластера внутри я нарисовал три штуки их там может быть бесконечны количество они все ходят в коте и берут оттуда образы то есть на самом сервере с образом контейнер registry может ходить в интернет через прокси или там сеть как-то настроена В общем такая схема у нас называется круи registry это либо сам registry имеет функцию проксирование это умеют из коробки либо например просто есть доступ Извне в этот стри Да у нас есть свой стри для платформы наш официальный рест которые называется Reg de Если между ними связь есть если можно скопировать контейнеры из одного другое всё хорошо э есть вторая схема она более сложная я её назвал Blackout видите полосочка чуть-чуть Э передвинули да Теперь у registry в интернет нет доступа совершенно да э соответственно никак контейнеры мы напрямую не скопирую Что же делать Ну данные можно ставить только физически то есть ээ давайте давайте просто разберём Как как что это значит физически как это происходит Да вот так я на такие флешки раньше скачивал киношку чтобы на телеке Посмотреть Да А теперь дха доставляю в общем я хотел вставить настоящую фотографию на самом деле мне не разрешили сказали что она слишком Не контрастная потому что у нас флешки серебристые Но они такие же и с логотипом вот прямо Один в один выглядят да то есть берёте вы флешку и загружаете туда все ваши контейнеры У нас есть специальная команда которой мы это делаем легко и просто можно это делать каким-то скриптом если Ну то есть это как бы больше про подход чем про Тулы поэтому там можно в общем загрузить контейнеры на флешку далее специально обученный человек берёт флешку гуглит на картах офис заказчика с флешкой едет туда на проходной проходит все этапы лично передаёт флешку в руки главному инженеру далее с этой флешки той же самой команды загружаются из файлов данные в контейнере кластера получают новую версию софта данных и вс хорошо давайте теперь поговорим как же эти данные выглядят на флешке как их туда скачать есть у нас есть такая Волшебная команда do при помо не можно получить образом выполняем команду ещ раз ещ раз ещ 100 раз в общем получаем Примерно 15 ГБ образов Да ну что давайте скачаем образы это всего приключение на 20 минут как зашли запустили команду подождали пока она закончится Да вот пожалуйста так выглядят инженеры которые Да мне кажется мор уже рез обв контейнеру Почему Потому что в регистре у нас данные как мы с вами разбирали лежат дуплина то есть там докер образ Он слоистый все эти слоя лежат отдельности По отдельности если у Вас например несколько докер ид используют один и тот же слой это всё работает эффективно и вы экономите много места в схеме которую я показывал до этого Ну соответственно никакой экономии не происходит что же делать релиз слишком много весит Да это проблема есть специальный формат который придумала команда группа структура не знаю как её назвать правильно называется она Open Котей intive это ребята из doer из других команд из других компаний которые занимаются активно контейнер разработкой они все вместе собрались чтобы описать Как правильно должен выглядеть как правильно вообще работать с контейнерами Что такое контейнеры они собрались их описать и одним из документов из трёх документов они сделали Image for То есть как должны выглядеть имиджи смотрите Я сейчас вам приведу пример схемы как это работает главной сущностью в этой схеме Они видят так называемый индекс ид в этом индексе описаны ссылки на манифесты по сути Если я говорю Маст вы в голове переводите что это наш с вами Коте то есть контейнер и поставили знак равно вот манифестов там может быть много 1Д энное количество в этом индексе описано Что такое манифест в манифест он логически имеет две внутри себя две ссылки Первое Это ссылка на метаданные образа что это за лейбл как он был создан какими командами и второе - это ссылка на слои самого образа то есть на на вот эти вот слои файловой системы Да которые у нас есть в контейнере и этих слоёв Может быть о два и опять же бесконечное количество как это выглядит у нас как вот эта вот схема которую я сейчас вам рассказал выглядит на файловой системе то есть на файловой системе она выглядит примерно так Есть папка images в папке images есть файл Index J и папка blops в Index J у нас как вы видите описаны все манифесты это просто мав Внутри там есть мы сейчас до это дом а в папке bls у нас лежат файлы и эти файлы имена этих файлов это на самом деле 256 Сумма от контента этого файла то есть проводите параллель Да тоже самое что и в рест то есть вот это вот папка Она как раз-таки и будет нам делать в будущем дупликации Давайте смотреть вот эта вот ссылка в иксо это один из блов в этой папке если мы откроем этот фави на самом деле вот манифест - это тоже J документ в котором есть ссылки на config и на слои вот смотрите конфиг у нас лежит здесь и слои у нас лежат здесь в папке blobs Если вы качаете таким образом 150 имиджей 200 имиджей получается очень-очень большая экономия э то есть из рест мы теперь качаем не тар архива А мы качаем в этом специальном формате получаем релиз не 15 Гб а 5 что экономи Примерно в три раза преимущество использования такого формата - Это количество то есть на одну флешку То есть можно засунуть сразу несколько релизов то есть не надо человека гонять много раз в один и тот же офис с одной и той же флешкой да То есть можно ему сразу например релизов 56 отдать и сказать что эти 56 релизов можно накатывать да ну и вторая сроо Чем меньше у на данных тем быстрее Зару уже так долго не ждут пока весь релиз мы скачаем на диск да это как бы преимущество такого формата смотрите поговорили с вами про то как доставить в контур заказчика платформу всё хорошо но не всегда платформы достаточно да то есть у заказчика могут быть свои приложения они могут их разрабатывать сами могут их брать у каких-то подрядчиков Да заказывать могут покупать софт у каких-то вендоров им тоже этот софт нужно доставить в контур где опять же нет интернета дано вендоры приложения Интернет опять куда-то пропал да найти нам нужно возможность венде установить своё приложение также в закрытый контур смотрите что вообще такое приложение Давайте об этом поговорим как-то разговариваем уже об этом примерно лет индустрия стандартом своим пришла вот к такому както подходу что есть контейнеры в которых лежит то есть там есть файловая система на которой лежит само приложение и все зависимости для этих приложений и есть манифесты мы при помощи этих манифестов то есть они нужны для того чтобы кубернетес сказать что выложи мне это приложение вот с такими-то контейнерами в сть для манифестов используют руками не знаю пишут при помощи многие используют до сих пор м как пакетный менеджер для ку Бернеса соответственно контейнеры мы загружаем как обычно в контейнер Reg а для манифестов Ну там по-разному то есть можно их загрузить куда-то в чарт музей можно их загрузить в Да если там у вас gits но опять же получается что есть какая-то вот черта между ними да то есть мы о манифестах контейнерах думаем мто о разных вещах непонятно как это ВС вместе упаковать потому что получается на практике что на самом деле образы контейнеров Они то есть и манифесты они вместе связаны они зависят друг от друга Да часто бывает такое что поправили приложение правим манифесты соответственно я что предлагаю я вот как это собака значит контейнеры манифесты Давайте их вместе смер будем думать о них как об одной какой-то штуке Да во-первых применяем подход который мы обсуждали в самом начале доклада контейнеры складываем в контейнере чарты тоже складываем в контейнер Reg Да в хельме есть эта функция из коробки можно легко этим пользоваться то есть хельм умеет складывать чарты в Реже Да Далее не думаем образах контейнеров и манифестах как о чём-то раздельном то есть мыслим будто они единое целое то есть вот это вот то что описывает наше приложение мы называем это бандл бал - это подход при котором чарт и связанные с ними образы распространяются как единое целое Да этот подход можно сделать при помощи Докера и хильма самостоятельно легко если самостоятельно делать не хочется можно взять Вот утилиту это тулас принадлежит Cloud native compu Foundation и в ней этот функционал есть из коробки смотрите то как описывается бал То есть у вас есть в папке DM У вас есть шаблоны это обычный он лежит там вместе прямо вместе с вашим приложением И также у вас лежит который описывает Как у вас собираются контейнеры Если Вы посмотрите вот эту связку и он делает имиджей и шаблонов он делает автоматически при помощи вот такого хелпера то есть Вер сначала собирает контейнеры а потом можно в чарте использовать собранные сигнатуры собранных контейнеров при помощи вот такой штуки хелпера вот потом это всё загружается в контейнере и потом это можно использовать А как доставить это приложение да то есть вот собрали мы его заковали этот бандл опять в какие-то контейнеры как его доставить до закрытого контура смотрите у нас есть опять два Котей registry Один наш второй Не наш и есть замечательная команда которая называется веь в bandle Copy она умеет копировать эти бандлы между registry если у нас бка схема нет доступа до registry приходит наша старая подруга флешка загружаемся на флешку После опять относим пешком и загружаем в Котей registry далее есть кластера кубернетес их много чаще всего иногда два иногда 50 Да надо в них как-то доставить этот бандл что мы предлагаем в каждом кластере есть а CD это пла она на самом деле не только с Гито умеет работать она умеет доставлять кластер чарты из множества источников также в том числе она умеет доставлять чарты пря из контейнер registry то есть в каждом кластере запущен argocd который ходит проверяет в registry не появилась ли новая версия у вас у бандла Да если новая версия у бандла у вас появилась arg CD Ну там в зависимо в зависимости от настроек либо она применяет сразу новую версию либо спрашивает вас там подтверждение хотите ли вы применить новую версию в общем так работает доставка Банд в закрытых окружения какие у неё преимущества во-первых то что вот мы чарт вместе с приложением запаковывают то есть оно как было запаковать вместе со всеми зависимостями то есть не будет такого что кто-то образы забыл загрузить или кто-то чарт там забыл обновить версию то есть оно оно как единое целое и добавляет уверенности да щество это автоматизация развёртывания то есть меньше ручных действий меньше ошибок и последнее что я хотел за преимущество здесь рассказать это то что есть схема с разделением прав то есть по сути у вас сборка то есть загрузка бандла она происходит на каком-то доверительном узле то есть права на запись в рест У вас есть только на нём далее Все остальные кластеры имеют доступ только на чтени из этого рест То есть у вас нет какой-то супермастер штуки которая имеет доступ ко всем кубернетес в компании то есть тут идёт схема разделения прав больше безопасности э безопасника больше нравится ээ Ну то есть подход э какой подход более правильный смотрите э Если каждый вендер будет носить свои флешки в компанию наверное Ну охранники на проходной просто устанут Ну и там в какой-то момент перестанут пускать или наоборот кстати будут здороваться говорит о и опять нам релиз принёс Давай заходи мы тебя с радостью примем В общем мы что предлагаем да то есть вендоров много Они разные есть вендоры которые например вендер антивирусов каких-то секюрити сканеров есть те которые разрабатывают софт для инфраструктуры есть те которые разрабатывают прикладной софт не знаю 1S CRM системы какие-то то есть вот много-много всего Да мы предлагаем то есть и то что можно уже ждать то что в будущем будет в первом квартале д чет года это Market он работает примерно по тем же штукам То есть можно будет загрузить свои модули в наш матп мы этот матп доставим заказчику со своей флешкой заказчик уже потом сможет установить вендерс Соф просто по одному клику как он захочет очень удобно не нужно будет ходить вендем пешком к заказчику упаковку по нужно смотрите выводы сегодняшнего доклада Да о чём я вообще хотел рассказать Первое - это то что упаковку по нужно делать максимально универсальную это очень упрощает все согласования это очень упрощает работу с с данными То есть это это очень удобно экономит инженерное время экономит время заказчика далее Я хотел сказать что контейнеры - это очень эффективный способ хранения хранения Чего угодно очень удобно и для этого есть куча туринга третье что я хотел сказать Это для вендоров по есть удобный способ доставки приложений в закрытый контур то есть ну он уже есть и он будет публично доступен в два четвёртом году и последнее что я хотел сказать это берите готовые инструменты например деха или если хотите сделать тоже самое только быстро Спасибо большое у меня доклад закончен Спасибо что послушали Я так понимаю руки я могу выбирать любые но к сожалению я Давайте вот молодого человека спросим Да привет Спасибо за доклад У меня вопрос что ты сказал что можно в контейнер регистре хранить кубит контейнер D как потом на ноду которую я хочу включить в кластер доставить контейнер D не имея инструментов не контейнер D ни Докера А вот это контейнер Ну то есть получается registry Он имеет свой API И на самом деле скачать можно при помощи обычного curl или в Get и это нормально работает так и получается я скачаю образ А как я его запущу потом а не надо его запускать это на самом деле да это не образ это просто бинари дальше ты просто их поставишь на узел Как как обычный софт Ну всё понятно Спасибо Давайте на вот с правого края спросим молодого человека Да да привет Скажи а Бывает такая ситуация что заказчик по каким-то причинам не готов себе в закрытом контуре разворачивать рест например рест безплатно это осор и ишни на всех легальных правах придут и скажут аййй не раз ну не разворачивай как вы в таких случаях поступаете разворачивает вообще у нас есть свой registry то есть мы можем поставить свой registry в двад четвёртом году это будет свой сертифицированный стри то есть поэтому это будет всё гораздо проще то есть мы будем ставить там сертифицированные registry от Deck House Да маленький такой уточняющий вопрос но при этом вы будете говорить Что заказчик должен в своей инфраструктуре выделить дополнительные мощност для для организации такого стри Ну я бы сказал что да Потому что это просто более правильное инфраструктурное решение э то есть можно Конечно будет не выделять отдельно и ставить всё в тот же самый кластер как например делает openshift но по нашему опыту это приводит к большим ошибкам на проде Спасибо да давайте у нас на вопросы вообще 20 минут ты все 20 готов отвечать Давайте не Дава давайте пожалеем меня Давайте Чуть поменьше Давайте 15 хорошо ладно 15 но на на таймере 11 но по времени как бы махни у кого микрофон Слушайте Может ты мне поможешь выбирать потому что я на самом деле плохо давай я буду выбирать самыми добрыми лицами Вот смотри улыбающийся вот да с Спасибо за доклад очень интересно было послушать Вопрос такой ну доставка дистрибутивов любые контура задача старая соответственно обычно кроме хш и физической поставки есть задача проверки целостности на например подписи Особенно это актуально Если вы будете внедрять маркетплейс от разных вендоров Я хочу убедиться что этот антивирус пришёл от реального производителя антивируса что для этого у вас предусмотрено или в планах или уже реализовано там подписи ЦП и всё такое есть подписи которые работают ну то есть есть типичный механизм подписей контейнеров которые сейчас активно развиваются Да я думаю что мы сделаем что-то подобное То есть как например кой знаете такую утилиту она умеет подписи хранить вряд же и потом проверять Есть ли это подпись для нужного контейнера в регистре То есть у нас будет что-то такое но скорее всего реализованное при помощи стох алгоритмов Ну то есть пки вы тоже будете подымать да Да скорее всего да Хорошо спасибо спасибо Вот теперь в центре зала посерединке вот смотрите мы теперь лучик направляем чтобы вас видеть да Привет Максим Спасибо за доклад очень интересно А у меня больше вопрос наверное не технического характера а человеческого вот выглядит так что все эти цепочки вашей доставке продукта очень слабое звено - это тот самый курьер который несёт эту флешку каким образом вы мотивирует его доставить во-первых и зарплата зарплата А если человек идёт вот по улице сейчас там ногу сломал что-нибудь такое есть у него реплика какая-то курьера там или не знаю поставщик Да у нас есть специально обученные люди вс всё хорошо у нас как это у нас есть фловер понял хорошо спасибо курьеры очень многие сейчас слили Потому что им в долларах неудобно домой деньги отправлять справа пожалуйста здесь вот микрофон уже на самом деле это он днём курьера в душе то он системный администратор да да а потом он скажет что он девопс что теперь делать Максим Спасибо за доклад а Егор X5 А скажи пожалуйста платформа - это не только пять бинаре и несколько образов это ещё конфигурация причём конфигурация как ноды на которой разворачивает так и конфигурация внутри Куба А это может быть статический IP на сервере это могут быть настройки в ней спейсе системном Как вы доводите эти фигу конфигурации мы чаще всего Ну то есть смотри у нас есть своя утилиты которая написана она ставит не только рне То есть она ставит получается разворачивает кубы она использует для этого Либо там форм внутри вшитый только там уже теперь не форм а Open да то есть она использует вот эту штуку далее Она ставит чистые кубы сверху поверх кубов она ставит оператор который дальше рават всё что есть в платформе это работает примерно конфигурация у неё декларативная она нужна На самом деле один раз для вот для создания кластера то есть мы чаще всего её передаём как-то Ну то есть либо через документацию то есть люди набирают да то есть мы консультируем либо что-то такое после того как кластер установлен тебе уже эта конфигурация не нужна она на самом деле живёт внутри кластера То есть ты с этой Ну то есть этой конфигурации Ты больше не приносишь приносишь там уже только обновлен по конфигурация обновляется автоматически логика зашита в саму платформу Вот получается что на первоначальном этапе мы эту конфигурацию передаём просто через официально доступную документацию на сайте это проприетарная утилита а она нет она Open Source на вобще доступная деха вообще Open Source То есть можно его поставить посмотреть самостоятельно как это всё работает Спасибо Спасибо большое вот второй ряд потом будет третий Да привет Спасибо за Дод вопрос У меня такой А есть ли в платформе какие-то удобные графические интерфейсы чтобы по который привёз курьер на флешке мог поставить человек который не владеет например консоли у заказчика же может быть такой человек который просто ему дали флешку вставил нажал согласился что обновить обновление началось либо же всё необходимо только через консоль делать мы сейчас делаем через консоль для этого нужна команда то есть мы чаще всего просто предоставляем готовую команду говорить вот запустите вот это в терминале оно заработает То есть сейчас у нас графического интерфейса нет Но планы конечно то есть мы бы хотели сделать инсталлятор более графическим такой знаете типа X то есть Ты запустил деха X тебе красивое графическое окошко вылезло ты там либо образы скопировал либо там вот конфигурацию набрал то есть чтобы это было удобнее то есть скорее всего мы это имплементировать получается на одной стороне делается миррор на флешку флешка приезжает делается миррор на соответственно контейнер регистре у заказчика в этом случае получается у этой команды Mirror явно есть источник есть приёмник и есть на той роне путает одно с другим то курьер с флешкой коровам контейнере поедет обратно опять за новой копией Ну я думаю что нет потому что ну то есть защиты нет никакой Ну там единственно главная защита - Это ко который там есть то есть он спросит типа А Вы точно хотите в существующей папке все образы удалить А разве когда ты заливаешь на контейнер регист он не спросит вы хотите обновить Ну он тоже спрот раз туда обновить или оттуда обновить Ладно я Поня СБО я могу сказать что кейс очень интересный Надеюсь никогда не встретим надо две флешки возить желательно кстати с защиты от записи надо то есть не отберите у него микрофон Он сейчас клок начнёт дописывать про уже надо Надо не DVD RV а DVD покупать я понял да скажи мне как католик католику Как ты относишься к конфирмация Добрый день Спасибо большое за доклад А скажите пожалуйста вот одно дело установить платформу Да и совершенно другое её поддерживать вы как-то берёте на сопровождение данные компании вот там пять штук было в списке или вы проводите обучение сотрудников это вот первый вопрос Да и скажем как отдел информационной безопасности относится к вставлению флешек в сервера и так далее смотрите первый первый вопрос ответ да то есть мы и обучением занимаемся и самостоятельно консультируем То есть можно купить техподдержку там 24 на 7 то есть это мы тоже предоставляем Кстати на Community Edition У нас тоже есть поддержка там она осуществляется на добровольных началах по поводу того что если например контур не настолько закрытый и нас готовы туда пустить то Мы готовы предоставить полностью там обслуживание платформы нашими собственными руками Это ответ на первый вопрос так и на второй вопрос по поводу флешек как безопасники это очень хороший вопрос безопасники очень трепетно относятся ко всем флешкам и то что мы им приносим и проверяют самостоятельно Ну то есть на моём опыте большинство безопасни ков не доверяют такой штуке они берут это дистрибутив и проверяют его сканируют там образы как они выглядят то есть только после того как они их просканировать посмотрели что там внутри только после этого они заливают это всё в продо контейнер то есть по проводу безопасни Да вы правы такое есть пока мы передаём в правую часть зала Луч чтобы видеть вопрошающий своих вопросов то весь стенд флан будет на них отвечать поэтому не тете в Чак зала пожалуйста вопросы задавайте при сечас получит озвучание своего вопроса бесплатно Да пожалуйста Да Максим привет Спасибо за доклад вопрос тоже больше наверно пользовательский человеческий на уровне курьеров вопрос в том что ну вендоров будет много маркетплейсе и у всех обновление будет ну выходить достаточно часто Как решается вопрос доставки этих обновлений то есть ну курьеру придётся всё равно бегать каждый раз да это будет не разные курьеры один и тотже 10 раз в день я бы сказал maret он доставляется заказчику вместе с обновлением de House то есть не с обновлением по в маркетплейсе То есть он как бы получается берётся на момент обновления выхода обновления de House текущая версия маркетплейса какие там есть новая версии да вышли у вендора дальше переносится в закрытый контур и там уже заказчик может увидеть обновление вендерс ПО То есть это работает примерно так то есть ну доставляется только при обновле если обновил поно не доставится там в ближайшее время пока только если вендер сам как-то не захочет и самостоятельно это обновление не донесёт А так да То есть даже при наличии там физических уязвимостей новых все будут ждать пока хаос обновится я бы сказал что по поводу уязвимостей Ну то есть вы смотрите по поводу уязвимостей есть раз критичность уязвимости если у ва критическая уязвимость то есть Естественно что если это мы можем доставить свежую версию там нашему заказчику быстрее но просто чтобы вы понимали Насколько часто обновляется de House А у нас есть версии которые обновляются редко но вообще в принципе новый деха выходит каждые 2 недели то есть это на самом деле достаточный срок чтобы ну как раз-таки исправить там критические уязвимости и доставить заказчику Спасибо и финальный вопрос пятью рядами выше Мне нравится этот разговор уязвимости есть нет а если найду Ну да здравствуйте Спасибо за доклад Максим у меня такой вопрос про слайд с arg CD как вы защищаете от того чтобы что-то неработающее или криво работающее автоматически не рассосалась на те самые 50 кларов кубес и вообще я сейчас две части Да и не кажется ли вам что это Менее безопасно с точки зрения что вам нужно либо взломать 50 кластеров кубес либо взломать одну точку и скомпрометировать их все это хороший вопрос на самом деле вам если схема будет без CD вам также нужно взломать одну и ту же точку только записать нужно будет То есть получается вы сможете не в контейнер регистре записать а напрямую например в кластера Да по пуш модели то есть запушить какие-то обновления Ну да в одном случае просто мы сами лопатой закидываем а в другом случае на вентилятор это хороше Вот поэтому я и говорю смотрите CD и на самом деле не только то есть там матп тоже есть такие функции э например в маркетплейсе для вендоров У нас есть настройки режима обновлений да То есть можно поставить ручной режим обновлений с подтверждением можно сделать автоматический можно сделать окна обновлений можно сделать канарейку а также можно э я по-моему всё назвал то есть где где-то где-то как-то так То есть можно автоматически обновление не раскатывать по кластерам То есть можно отдать это на откуп командам чтобы они сами подтверждали свои обновления только получали уведомления то есть такое тоже можно да спасибо это устроит качестве ответ Спасибо большое и Привет тебе из интернет трансляции Константин Чернь спрашивает как получать саты для кубера без интернета и доп пакеты что ещё раз сеты сеты для кубера сеты для кубера тут слишком свет в литы они на самом деле то есть про ки как происходит либо там у кластера есть своя Аца Да и сереты ты обновляешь в закрытом контуре при помощи там ну стандартных лов типа кубад да То есть ты не пользуешься ничем Ну ничем получается из интернета а второй момент что если у Вас например Vol в качестве PQ для для Сета Да который Ну или что такой-то аналог Да например есть Ну то есть в будущем году будет да это вот аналог например там можно будет хранить свои и са сертификаты для кластеров в том числе да то есть он ставится тоже в закрытый контур и работа ведётся непосредственно с ним то есть ты обновлять в закрытом контуре не надо а второй доп пакеты а доп пакеты вот Смотря какие пакеты То есть если тебе нужен например доб пакет не знаю там NFS comeon или там CF comeon мы предполагаем что у тебя есть диск от дистрибутива с линуксом который ты берёшь да и где-то этот диск ты можешь там развернуть или взять дополнительные пакеты оттуда то есть как бы э это уже Out Of scope Да и то есть про под пакетами OS я подразумевал именно пакеты от которых зависима платформа вот Дада и разработчики из X5 традиционно спрашивают пакет Давай друзья махни кто задавал вопросы давай выберем кому раздадим три был очень Блин я забываю о чём был вопрос но молодой человек по центру вот там светил экран задавал очень хороший смешной вопрос человеческий про курьеров по-моему про курьеров Да мне очень понравилось про курьеров А вот да ему Ему кружку или пакет А давай ему пакет пакет вот от пакет подарков э это да это сувениры от конференции и ещё две твои кружки надо раздать вот в X5 мы отдадим кружку для чая ээ там был молодой человек и спрашивал вот да да вот Маш рукой е да Ате Ещё разочек пожалуйста Да спасибо Вот он автограф возьми это высоко рейдовый специалист смотрите и ещё ещё одну кружку мы отдадим за вопрос про безопасни ков про безопасни Да вот мужчины вле ру они смущают ли их такие схемы мутные Конечно потом ты узнаешь что он сам безопасник и просто потребовал уважения к себе тебе тоже памятный сувенир от конференции Спасибо большое за доклад за ответы вам спасибо"
}
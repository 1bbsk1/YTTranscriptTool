{
  "video_id": "t4P3Ap8hpuM",
  "channel": "HighLoadChannel",
  "title": "Мониторинг черных ящиков и котов в мешке через eBPF / Пётр Бобров (QIWI)",
  "views": 116,
  "duration": 2315,
  "published": "2023-10-06T07:23:09-07:00",
  "text": "Добрый день Меня зовут Петр Бобров Вот про себя немножко расскажу так получилось что пап с мамой меня уроков Да была да Бывает такое иногда вот мне пришлось потом Гештальт один закрыть там поработать ворот ли немножко Я закончил МГУ девяносто девятом году вот перед этим Один мой сокурсник Сергей Березин про агротех буквально полчаса назад рассказывал в другом зале не последняя однокурсник про который я буду сегодня рассказывать вот и Отвечая в Киеве за отказа устойчивость немножко и расскажу историю про софт как раз сторонних вендоров вот у всех они разные нас есть карточный процессинг потому что мы банк нас банковской лицензии проводим платежей вот Конечно можно как черный ящик считать базы данных Да кто знает как там это работа торакал Кто знает как работает Linux внутри думаю очень много людей разбираются прямо на низком уровне вот конечно поэтому так получается что мониторить такие вещи достаточно проблематично особенно если там есть какой-то PSY dss который тебе запрещает логи куда-то класть там потому что там хранятся какие-нибудь карточные данные в открытом виде Не дай Бог вот какие-то есть отсутствие нормальных вменяемых интерфейсов которые могут посылать данные в той системы в общем проблем достаточно много Да даже бывают такие что говорят Не лезьте своими сила запросами в нашу базу вы портите нам производительность реальная история такая конечно удручающая ситуация хотелось бы каким-то образом исправлять Вот поэтому я расскажу историю я сам смог сделать ограниченным своим ресурсом А вот история у меня про карточный процессинг на заключается в том что нас несколько дата-центров и база данных под карточным процессингом работает в режиме синхронного комита вот чтобы не потерять данный в случае сбоев Что это значит Значит что транзакция должна записаться на удаленную площадку прежде чем она вернет управление обратно в процессинг и конечно не самая идеальная архитектура потому что за это приходится расплачиваться в случае сетевых задержек у нас появляются какие-то простой тормоза Да это очень неприятно и хотелось бы такие вещи предотвращать оперативно вот как вообще Вот это работает в карточном процессинге синхронный камень транзакция приходит в базу записывается в транзакшн-луп который для надежности у нас организован как три дисковые полки разных вендоров Да пишется потом передается каким-то образом по сети на другую площадку Да процесс там принимает записывает Это в три дисковые полки на той площадке Вот и в конце концов уже потом записаться в резервную базу другим процессом такая большая цепочка бывают задержки на этом пути и они естественно приводят неприятностям и негативному пользовательскому опыту скажем так да вот когда у меня появляется сбой Да в системе вот на моей картинке как бы 3 дата-центра я дежурный менеджер чем мне надо сделать когда у меня где-то что-то затормозило Да вот я могу свой синхронный коммит взять и например временно выключить Да чтобы потом разобраться включить его обратно вот если там не получается разобраться могу его взять и например переключить второй дата-центр Да из этого пока там потом догонится данные все будет нормально совсем все плохо да конечно я могу просто взять и ролями поменять базу с резервной у меня будет то же самое все ну с небольшим может быть простое Решаю свою проблему таким образом От чего вообще Это вся история зависит когда я принимаю решение например как дежурный менеджер вот да то есть меня из задержки дисковые какие-то на моем пути критическом Да есть задержки сетевые между дата-центрами и дисковой задержкой во втором дата-центре вот это все время да суммарные влияет на время транзакции на время этого комита на пользовательский опыт как он получает подтверждение своего платежа конечно вся эта история достаточно грустная Почему Потому что когда я начинаю заниматься мониторингом всей этой истории получается что нормальных средств которые мне могли бы Показать какие-то цифры на которых я мог бы основываться Но их не очень много я бы сказал так вот прям стандартные какие-то вещи в линуксе мне показывает усредненные только цифры а мне хотелось бы конечно немножко по-другому Да почему Потому что если у меня там 10 тысяч задержек по миллисекунде и где-то там наведено по дороге там 10 задержит секунде дата средний получается все равно примерно 2 миллисекунды и ты думаешь на самом деле было Ну вот их 10 Там как бы секунде там Она случайно или это системное что-то да Или как вообще я хочу вообще знать получается все задержки которым есть в системе Да прям полностью сколько каждые по времени занимала дисковая сколько каждый сетевая просто хочу это знать Вот ну какими-то решениями сторонними вообще сложно встроить что-то Да даже Попробуйте что-нибудь в Linux строить что писать свой модуль какой-то Да там это Прям какая-то жесть вот если есть задача попроще тоже попробовать Попробуйте свой код встроить вендер с какое-то решение Я думаю это достаточно проблематичная история Вот и значит мне надо как-то эту историю как-то этот вопрос порешать вот как мне узнать вот эти мои задержки по всей моей инфраструктуре Вот и так получилось нашел я и БПФ вот как простыми словами Чтобы объяснить что это такое Я примерно придумал такое объяснение вот что это такая подсистема в ядре Linux которая вызывает ваш пользовательский код защищенным способом с небольшими ограничениями Да допустим Если как раньше писали модули для ядра они какие-то что-то там делают пользовательский процесс обращается с ядром вот через Такой маленькой узенькая кошечка через какие-то опишечки Вот и разобраться в этом сложно самому мне например написать что-то такое нереально вообще вот да и БПФ такая история получается что между пользовательским процессом и ядром появляется такая большая стеклянная Стена с одной стороны пользовательский процесс пишет программу какую-то Да ядро и выполняет результаты прозрачные как бы для обоих процессов Да и для ядра и для пользователя процесса Очень удобно Вот Мега Просто теперь я могу этим пользоваться так вышло что и БПФ закомментил ядро тоже один мой сокурсник Алексей Старовойтов вот в четырнадцатом году Можно ли это считать Отечественной разработкой я конечно сомневаюсь Он давно уехал в Штаты Вот и под импортом замещения наверно тоже не очень сгодится ну это по крайней мере очень занятно великий человек горжусь вот не думаю что у меня помнит если честно Вот и БПФ устроен достаточно Как сказать простым языком я не очень смогу объяснить что такое вот это виртуальная машина в ядре которые выполняет специальный код который пишут на специальном ассемблере для этой виртуальной машины его компилируют специальным компилятором специальный язык Си короче достаточно сложно это все устроено Вот и как бы все равно я не очень без деталей каких-то углубляясь не смогу читать исходники тоже как-то глупо да вот главное что вот эти BP в программы как я себе их объясняю Да То есть я привык работать с базами данных Я знаю что такое Триггер программа как Триггер срабатывает на какой-то событие в линуксе Да в ядре там каком-то пользовательское событие и поскольку оно происходит на уровне ядра у него есть очень небольшой оверхед то есть я могу как бы организовать такую сквозную я так сказал трассировку для своего приложения не вызывая каких-то огромных дополнительных задержек Да Попробуйте процессинг в режиме трассировки запустить Просто так он начнет писать кучу логов там да и будет работать двое медленнее Вот и потом обратно всегда этот дебаг выключают и так далее да то есть получается что такая история которую я могу включить Она может работать всегда не вызывая каких-то больших помех там да Для этого всего вот это вот прозрачная стена между ядром и процессом пользовательским Да где вы можете из процесса пользователь посмотреть что там ядро сделала Я его попросил Дайте мне эти результаты тоже очень удобно что мы можем это применить фактически подавляющему большинству каких-то приложений написано Вот какие есть вообще точки да куда я вот могу свою BP в программу прицепить шпана мне делать то что мне нужно есть специальные функции ядра не все Но Их достаточно много которые в терминах Linux называется термин пробы Вот вы можете их там где-то найти прицепить к ним свои программу она будет что-то делать подавляющее большинство функций в ядре в принципе разрешено к использованию там может быть где-то с безопасностью связанные нельзя вот это все там достаточно разработчиками контролируется достаточно жестко и проверяется вверифаером Да специальным который собственно выполняет эту программу и БПФ причем выполнить он ее проверяет что вообще она валидная дата Что написать какой-то код который будет выполняться в ядре вздурд можно ядро сломать Да как говорится поэтому наверное лучше не пускать в ядро то что мы не хотим вот пользовательские функции можно прицепляться практически ко всем вот если по опыту как бы могут быть нюансы которых я бы попозже поговорил Вот Trace Point это специально объявленные Точки которые может прицепляться и бпп программа Например если вы исходники постгрисы с компиляетесь с флагом detrace у вас появятся некие точки Trace Point и которые вы можете Именно таким вот способом прицепляя к ним ебп программы мониторить вот по умолчанию этого нет надо специально компилировать Ну по крайней мере это можно посмотреть в исходниках Да если кто-то пишет носи и хочет встроить удобные для мониторинга своей программы можно взять исходники посмотреть там их штук шесть по моему 3 поинтов вот На старт транзакции на конец транзакции На старт запросы наконец запросы Появляется такой интерфейс который вы можете использовать вне базы данных Да это здорово вот ну и последний какой-то Тип который я хотела светить для и БПФ вот в рамках своей презентации Да это трейс перформанс ивенты в ядре это счетчики кэша число инструкций в секунду и прочие такие технические вещи которые могут пригодиться в профилировании вот работает Это примерно так если сделать по адресу функции которые прицеплен и БПФ вы увидите там три вот три то стандартные прерывание которые используются багером Если вы будете вручную да делать процесс ГБ там ставить breakpoint Вот момент у вас тоже там появится интриг То есть в принципе это используется стандартные достаточно инструменты в линуксе Вот и то что они уже давно работают Это здорово хорошо проверено мне не очень страшно скажем так вот про риски Да хотел немножко сказать если есть какая-то уязвимость Она обычно сразу раскрывает все ядро Как это не печально да то есть Может быть идея была здравая Давайте пользователи будут сами писать весь этот код пользовательском процессе К сожалению нет приходится его изолировать под рутом А этот код дальше давать уже доступа к нему Ну ничего не поделаешь Такова жизнь Да нельзя слишком как бы у нас Много развелось хакеров которые могут адекватно эксплуатировать на епп пишет очень много рут китов вот если там прям риски безопасности Если вы это Разрешите каким-то не привилегированным процессом очень серьезные так делать не надо вот проблемы совместимостью регулярно возникают Когда вы апгрейте Linux одной версии на другую а Кот ваш либо остается старым да такие библиотеки приходится доставлять они там могут перестать работать это проблема решается В современных дистрибутивах Но она как бы не весь лига си кот работает на современных дистрибутивах Я бы так сказал да то есть так или иначе с этой проблемой приходит сталкиваться вот баги Да бывают и баги Ну и скомпилировать и BF из исходников достаточно сложно Я бы сказал приходится полагаться Ну в общем если это чувствительная какая-то история Да надо в этом хорошо здорово разбираться Вот чем у меня появилась идея решить мою задачу по мониторингу этой всей моей длинной штуки в синхронном коммите из одного до центра в другой через ebp Я не люблю кодить вот Иначе я наверное был бы разработчиком ну сейчас сколько мне приходится за что-то отвечать времени на это у меня было не очень много и для меня это совсем новая область достаточно конечно странно выходить на хайлоут говорит я пользовался такой верфу да Ну что делать Такова жизнь вот значит Мой проект Примерно вот так устроен мне надо найти подходящей точки мониторинга Да вот эти самые функции какие-то которым я могу прицепить свои программу вот найти потом какой-то код который будет делать то что мне надо проверить и дальше шаг интеграции с какими-то корпоративными системами Вот который у нас используется мониторинге Там прометеоз графами и так далее я бы сказал останавливаясь Вот на этом слайде да что поиск подходящей точки для мониторинга наверное самое будет сложная задача мой пример он достаточно простой вот так если подумать сторонние приложения может быть устроено неведомым способом Да и вы можете сами не разобраться в том как там Что найти вот можно договориться с вендором по-хорошему нужно Договориться с вендором сказать Дайте нам пожалуйста хотя бы название функций которые мы можем отслеживать мы не хотим лезть ваш код просто Название скажите мы тут поставим Старт Стоп замерим время будем мониторить Вот я думаю что большинство адекватных вендоров должны нормально к этому подойти самый адекватные каши забили Trace Point и в свой код хотя бы на этом уровне Да помогут вам Ну если общего языка найти не удалось я конечно не буду призывать там нарушать Уголовный кодекс но я думаю что на рынке есть там позитивно относящиеся к разного рода исследованиям люди Да можно будет с ними как-то договориться вот назовем это так значит возвращаясь к моей задаче Да вот у меня значит есть запись на диске запись сети мне надо замерить это время вот значит я хочу вот это время измерять да записано все мои дисковые полочки в одном доцентре какой-то время передачи пакета туда-обратно и запись на диск в другом вот я по крайней мере уже знаю что я хочу Да это уже Здорово вот значит и дальше мне надо найти найти те самые как бы функции которые мне нужны вот Я рекомендую начать вот с этого и штуки с коллекцией готовых программ которые называется bcc в ней обычно очень много всего можно найти вот прям на первой странице я нашел то что мне нужно вот это там прям первый пример вот вам гистограмма по задержкам дисковых операций вот я посмотрел наверное то что мне нужно да Ну конечно выводится там каким-то текстовым образом на консоль Ну это уже начало хорошее у меня двоичной гистограмма я вижу распределение длительности и задержек на каком-то промежутке времени а вот чуть-чуть остановлюсь на том как вообще ебпф программы которая вот в этой коллекции на питоне написанная устроено Да значит программа на языке си записывается в текстовую переменную в Python может звучит странно но если вы генерили код когда-нибудь А я например генерил очень много разного сиквел кода для меня это не в новинку значит определяются структуры в памяти сами функции которые будут заполнять эти структуры и работать в самом ядре да то есть это как раз те функции на специальном языке си которые будут выполняться непосредственно в ядре на каждый вызов той процедуры которую этот прицепите вот значит определение тех областей памяти которые будут возвращаться обратно читать будет ваш процесс Да это тоже важная история они прям вот достаточно просто в этой коллекции организованы да такие хелперы функции просто объявляешь вот это будет гистограмма отлично это гистограмма вот Ну и в конце концов программа загружается в память компилируется если компиляция успешная Вам повезло с первого раза Вот и дальше мы прикрепляем каким-то функциям Да вот в этом примере прям указаны те функции ядра которые будут при вызове которых будет каждый раз срабатывать то и БПФ программа которая собственно меня в памяти Да если вы заметите тут много рифов то есть в разных версиях они могут называться по-разному то есть вопросы совместимости они достаточно ну такие наболевшие Да в разных версиях разных дистрибутивов даже функции ядра могут отличаться по названию Ну как бы чем тут говорить на все случаи жизни перестраховываются Вот в конце концов Да это программа читает результат выводит его каким-то образом в консоль значит вот это гистограмма я ее нашел замечательно то что мне нужно дальше Мне нужно что-то с ней сделать такое чтобы я мог каким-то образом с интегрировать ее Да с моими корпоративными утилитами вот значит мы используем на хостах такой сервис который называется телеграф который просто собирай данные потом их пишут то есть мы используем Push подход а не пул вот есть экспортеры разные которые занимаются пулом вот мы делаем не так мы делаем Push Вот И там есть специальный формат строки который мы просто надо послать т.п и принципе достаточно Все что мне надо было сделать каким-то образом написать что-то на питоне таким образом чтобы у меня данные пошли мою систему вот Конечно я воспользуюсь потратил много времени я Уверяю вас да что специалисты потратят на это не больше не больше получаса до Вот И это прям очень здорово что это можно сделать самому и быстро так чисто приколу я это Выложил в Open Source вот не знаю Как бы мне коллеги поставили два Две звездочки прям Круто Спасибо дальше Ну как бы для интеграции мне надо было все это разложить да Там я что-то написал модуль для папе то вот и потом мне там его пропрувили поставили мне плюсики вот и я смог запушить это на все мои сервера Какие нужно вот они начали собирать красивые мне цифры в Виктории меттрикс Вот и потом мне надо было какие-то графики построить Вот и Самый подходящий график для моих задержек вот этих вот он называется хитмаб он достаточно просто устроен логарифмическая шкала которая Чем более насыщенные яркий цвет тем значит больше было таких событий вот и она идет по времени получается что на этой картинке подавляющее большинство событий там выполнялись продолжались миллисекунду или меньше Да но в какой-то момент времени вот этот график поднимается аж до двух секунд То есть было Некоторое количество событий которые там были по две секунды например да именно вот на этом графике я могу посмотреть это вообще единичные события какое-то да Или это прям постоянно продолжающаяся история Вот например у меня три дисковые полки могу не залезая в каждую Да теперь посмотри в какой конкретно из них проблема иначе мне надо собрать команду там который занимается инфраструктурой сказать копаете вы туда вы туда вы туда занимать много времени Теперь я могу это сделать сам Глядя на картинку вот в графа не сделал я эти красивые графики и получил такой забавный общий дошик до который мне показывает что да Значит у меня в одном углу Объем работы который происходит да то есть объем данных которые система пересылает между дата-центрами вот потом у меня три картинки идут которые показывают здоровье моих дисковых полок в каждом дата-центре Да и дальше идут графики связанные с временем сетевого отклика с responstime по сети Вот и если посмотреть в правом нижнем углу примерно выглядит так картинка когда что-то работает не так да как раз красным цветом ни одна миллисекунда А где-то вот там вот повыше Да на уровне логарифмическом один три порядка семи да то есть время отклика в данном конкретном месте вырос Там семь раз вот здесь Наверное что-то пошло не так Теперь если я там знаю что у меня дата-центре что случилось Я могу принять соответствующее решение до переключить мне базу Там между центрами Или например выключить синхронный комет Вот такая у меня принципе не сложная достаточно история вот мне было этим очень интересно заниматься вот я крайне доволен результатом мне сказали Молодец коллеги похлопали мне да Вот спасибо большое вот я с удовольствием отвечу на вопросы какие-нибудь если будут ваши вопросы нас много времени Здравствуйте спасибо за доклад Вопрос такой Почему вы не опирались на данные из его стата например То есть как я понял ппф Вам не дал более гранулярного какого-то графика по которому можно понять какие-то более низкоуровневые метрики какие еще более дискрит время Ну что вы приобрели когда внедрили мне так показалось лучше мне не хватало да то есть дискрет дискрит я хочу знать каждый задержечку вот эта картинка мне показывает каждую показывает мне каждую температуру по больнице хорошо спасибо за доклад интересно да разница с ее статом в том что те это некоторая сэмплирование агрегация А у вас трейсинг по сути по сути трейс да Вот и вы сказали что warhead небольшой то есть большой расскажите пожалуйста как замеряли и вторая часть вопроса поскольку это все-таки трейсинг то заранее Вы наверное не можете предсказать объем этого трассирования Потому что зависит от паттерна до использования этого софта и может измениться в какой-то момент модель использования трейсинг нагрузка сильно возрастет то есть думали какими-то механизмами троттлинга и если что-то такое в BBC и bpf я понял да на самом деле как бы конечно я сделал агрегацию картинка которую видите она берет интервалы там 20-секундные по моему да то есть но зато она мне показывает распределение внутри этого интервала Да очень правильная я не могу получить это распределения внутри интервала каким-то другим способом Да просто скажем так вот то есть с точки зрения если у меня где-то что-то вырастет все равно 20секундный интервал останется прежним в нем только гистограмма изменится объем памяти не изменится то есть ничего не изменится насколько небольшой оверхед ну Не мерил верим верю людям на слово скажем тогда там серьезные нагрузки Да порядка там я не знаю если там 100000 опсов на каждый срабатывает Ну то есть я не вижу каких-то проблем с этим все хорошо спасибо это какой-то процесс или нет то есть что происходит по этой запуске машинки Нужно ли снова восстанавливать работу этого и БПФ И второй вопрос насколько легко происходит обновление Там какие-то откаты на новую версию допустим ваши программы типа потому что не процессы Это я пытался как бы самая презентация была посвящена тому что там Пытался как-то это объяснить попроще меня не получилось Жаль не надо сделать получше это просто что-то что вызывается на события Это программа которая написана на специальном языке си в которой есть большие ограничения а то есть я там листал слайды вот там на одном слайде например написано что там запрещены циклы вот ну то есть мы хотим чтобы ядро не выполняло циклы Да в какой-то момент времени но что Они же могут быть бесконечные мы не хотим их разрешать выполнять еду в нашей программе ты занимается этим видео которые не позволяет то есть поскольку этот код выполняется виртуальной машины нельзя сказать что это выполняется выполняется в процессе ядра непосредственно до или в каком-то пользовательском процессе просто Linux берет и выполняет этот код А если машинка дропнет питание отрубится снова включится он поймет и БПФ Потому что запустит его заново какой-то кусок кода в памяти который называется когда если у вас пропало питание да потом вам при старте надо как-то обеспечить Да что это код опять у вас в памяти появился Да действительно Для этого мне пришлось как раз написать сервис систем дэм сервис Да чтобы при старте я опять получал тот же самый функционал и мне не приходилось руками этим постоянно заниматься по сложности намного проще чем модуль для ядра согласитесь Спасибо молодежно планируете ли вы как-то кастомизировать что-то сразу накидывать и второе куда думаете развивать всю эту историю то есть явно оно этим не ограничится И постепенно Ну скорее всего под хотелки придется это модифицировать смотрите как бы поскольку Зачем модифицировать да то есть сначала вот этот вопрос Да у меня есть какая-то корпоративная инфраструктура связанная с мониторингом Да есть сервис который собирает метрики Я просто в них посылаю запрос да и метрики у меня там появляются то есть с этой точки зрения мне нечем модифицировать зачем вот я сделал себе эту интеграцию Она работает вопрос может быть в том достаточно мне этих метрик достаточно это как раз первое да то есть наверное я хотел бы да чтобы мы карточные процессинг показывал мне еще что-то сверху да то есть там между транзакциями например там очереди какие-то есть памяти насколько я знаю я плохо разбираюсь в том как он работает честно скажу да Для меня черный ящик вот поэтому то что я знаю там есть очереди наверное хотелось бы тоже каким-то образом заманиторить Да я приду к вендеру Да и может быть попрошу там сделайте мне пожалуйста вот тут в этой точке вот я скажите мне Как ваша функция называется которая добавляет в очередь и убирает из очереди Да я прицеплю там какой-то каунтер да Или счётчик времени между ними Да и буду понимать как быстро вообще система работает да в очередь добавляет убирает Вот именно вот эту вот закрытую от меня часть вендорскую Да я так смогу эту историю тоже получить вот а вы какую-то ретроспективу по этой истории собираетесь смотрите динамику с той точки зрения насколько было хорошо плохо там в такой-то период времени и стало сейчас например для того чтобы там проследить деградацию того же оборудования ну У меня другая задача Да как бы вот не надо вот прямо сейчас понимать что мне делать Вот то есть это не предназначено для ретроспективного анализа вот мне надо просто знать где у меня Что сломалось вот тут или тут если у меня тут я делаю Вот это тут я делаю Вот это да если там сломалась везде значит я делаю что-то еще Спасибо большое спасибо Следующий вопрос можете рассказать эти данные То есть например Когда Вы начинаете реагировать к примеру от вас там две операции там по 2 секунды это уже повод проснуться инженерно мониторинге или это еще как бы Терпимо я бы сказал что повод проснуться это бизнес мониторинг чуть выше выше да то есть я это эти данные потом используют для быстрого принятия решений когда вот звонят например вот как бы когда доходит Вот до этой истории Ну достаточно быстро но мы не просыпаемся когда на две секунды до 2 секунды когда срабатывает бизнес мониторинг у нас ноль транзакции за период времени вам среднего в таком случае недостаточно то есть обычная но когда это уже там не какая-то одна транзакция когда с одной стороны да но я же не знаю почему Она же вам не Объясни почему она вам покажет что она работает медленно Эта история покажет Почему да то есть Может быть это просто там ну сменилось там дорожка HD Да и он стал чуть там дольше тогда не позвонят А вот где вот этот порог типа вот этот нормально Вот это нет как вот понимаете что там сложная история Да я не смогу вот прям обычно есть какая-то безусловно задержка между реакцией на бизнес событий на инфраструктурную историю или инфраструктурная часть Да вот это вот который я рассказал она все-таки идет после да то есть я не могу основой просто на этой картинке до сказать что у вас там ноль может быть не 0 то есть для лифтинга вы вот эти метрики не используете пока нет пока пока статистика показывает да что оснований и вот для этой статистики используют для рейтинга пока нет может быть какие-то наработаются там еще статистика правила какие-то Да которые смогут пока у меня нет уверенности что я от обратной получу что-то я буду слишком часто просыпаться скорее всего да Если я буду снизу вверх идти они сверху Скажите а вам удалось найти причину этих двух секунд этих это была картинка для иллюстрации Но обычно как бы когда мы начинаем в железо закапываться да то это отдельная история да то есть она в том числе связана с тем что не все железо разных вендоров тоже там ну как бы история там тоже со скилами часто связанные кого-то ночью разбудишь не угадаешь а мне надо знать Вот то есть специалисты по качеству как бы скиллам отличаются бывает А мне нужна стабильность Я же не могу одних и тех же людей которые прям во всем шарят будить это сложно и дорого То есть это мне экономит немножко может быть даже время на овертайм и деньги Ну вот вы собираете эту информацию она дебаг по сути нужен для того чтобы докопаться а это дело дальше можно отдать соответствующий специалисты будут разбираться что сейчас проблемы ещё есть в том что не со всеми вендорами можно нормально поддержку организовать понимаете Я нельзя всегда докопаться иногда иногда нельзя докопаться в нынешних условиях до первопричины К сожалению но вот вы говорите У вас три три массива под логами Да а-а соответственно я могу найти в каком Да могу сказать сюда Да это статистика сказать Где именно проблема В каком из массивов Ну я могу сказать Да я могу там детализировать там была картинка она немножко агрегированная Возможно да я могу детализировать до конкретного массива да сказать копай не сюда сюда не копай копай сюда Это экономит в то же время да Так ему может быть надо было побольше Ну а более грубая статистика например тем же его статам не позволяет получить ответ на этот вопрос Ну типа если один из массивов например деградул или ведет я понимаю да но а если деградул весь Сэм да то есть у меня все три тогда да А в каком А насколько сильно он дегранул А может быть он вот так вот да себя ведет А может вот так себя ведет Вот то есть вот вот это вот распределение по времени оно мне тоже важно потому что как бы не зная чуть просто тупо рубильнички дёргать Да там тоже как-то странно мне хочется знать каждую Мне кажется почему нет если это очень просто Спасибо спасибо если у нас еще вопросы Не стесняйтесь поднимайте руки вопросы раз вопросы два вопросы три продано также как ваши овации нашему спикеру за его прекрасный доклад а тем временем У нас были прекрасные вопросы нужно выбрать самый лучший Хороший вопрос был про то как это все-таки работает да про уточнение про детали он так звучал примерно где находится та самая виртуальная машина да поднимите руку чтобы у вас нашел подарок Спасибо спасибо вам за ваши вопросы Еще раз спасибо спикеру за его доклад и вот у нас за него тоже кое-что есть благодарю Всем спасибо за внимание Ждем вас на следующих докладах Спасибо"
}
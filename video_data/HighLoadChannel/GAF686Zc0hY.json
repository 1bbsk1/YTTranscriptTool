{
  "video_id": "GAF686Zc0hY",
  "channel": "HighLoadChannel",
  "title": "Разработка кроссплатформенного фреймворка на С++ для мобильных платформ / Владимир Солдатов (САПРАН)",
  "views": 436,
  "duration": 2413,
  "published": "2017-06-02T00:52:01-07:00",
  "text": "мы начинаем второй доклад продолжаем тему кроссплатформенность и и чуть чуть более хардкорные теперь посмотрим как писать кроссплатформенный участи нам плюсах всем привет меня зовут владимир солдатов я работаю в компании сопран сопран занимается внедрением sap систем в россии снг соответственно уже пару лет как имеет департамент разработки подается сделать какие-то свои решения продавать их соответственно сегодня мы поговорим о подходе к реализации одному из таких решений прежде чем начинать доклад хотел бы сразу обозначить кому может быть интересна в первую очередь то есть первую очередь тем кто например зарабатывает какие-то фреймворке либо из детей не для внутреннего использования для передачи каким-то внешним касты миром и хочет иметь максимально единую кодовой базы у них второй момент те кто хотят иметь и работать ростовский мага ритме шифрование из коробки с минимальными костылями то есть для каналы для базы для каких-то других вещей и третий момент если вы работаете со потому что мы тоже работаем со принципе с мобильных устройств и этот опыт может быть полезен соответственно теперь определимся с планом вначале я расскажу про мотивы решение почему принципе не самый типичный подход к разработке каких-то мобильных вещей на си плюс плюс почему мы к нему пришли далее по пытаясь обосновать выбор эта технология потом покажу расскажу чего получилось и дальше расскажу про плюсы и минусы и некоторые интересный момент которые мы реализовали начали пара слов про то что было до сих плюс плюс пару лет назад была задача реализовать приложение для одной госкомпании для того чтобы ее руководство могло смотреть графики в реальном времени то есть какие то там аналитика над данными по показателям компании прочее соответственно выглядело так как на сервере какая-то sap система который куча данных о вас на и приложение которое должна из это система брать данные отображать красивом виде и одно из требований приложения работы в оффлайн режиме то есть там кучу данных хранится в успевайте но и периодически синхронизируется то тот квадратик есть синенький со словом м.п. мобильная платформа на самом деле тут совершенно конкретная платформа была сама платформа 2.3 смп вот и при ее недостатке чуть дальше расскажу в чем была проблема и почему мы решили сделать свое решение о соответственно это решение было реализовано поставлена в заказчику он вроде доволен но в процессе работы была уверена ряд проблем в первую очередь не хватало производительностью не хватало перформанса то есть вот эта вот прослойка между мобильным приложением масса по мы сампе которая позволяла им брать данные sopa она достаточно тормозной работает то есть например минимальное время отклика на любой сам маленький запрос сапу через смп составлял примерно три секунды вот плюс была куча других моментов по выдаче данных которые требованиям заказчика не удовлетворяли поэтому даже пришлось сделать какой-то костыль в виде того чтобы получать данные через rest api арены по не напрямую sap вот это было плохо второй момент несмотря на то что сам на рынке россии давно с гастон там все плохо они ничего не предоставляют по поводу шифрование канала и локальных б д на самом смп на клиентах ничего из коробки нет приходится прикручивать костылями то есть например в первом решение баз данных порвалась как файл вот это было очень плохо и канал тоже шифром с помощью криптопро там поднимался из тонул тоже как-то какой-то костыль ный вариант не очень удобно 3 ма недостаток был в том что было неудобно изменить модель данных на смп то есть вот эта прослойка is empty между клиент между мобильным приложением и сапом там при внесении какой-то любой либо любого изменения модель данных sap приходилось перегенерировать объекты на is empty заливать снова эта модель на саб и заливать в виде исходников и пересобирать мобильные приложения то есть это во-первых неудобно во вторых при изменении модели данных населенной части все клиенты переставали корректно работать до того как они были обновлены то есть как то не очень гибко но соответственно сделав это решения сделав кучу костылей в компании решили что бы нам не попробовать сделать счет свое как бы вроде как это импортозамещения там все такое чтобы не сделать попробовать соответственно вот слайд теперь примерно того что мы сделали этот посередине много желтых оранжевых квадратиков прямоугольничков это вот заменой цепи это серверная часть которая по сути дела коннектор сапуны к другим некоторым сервисом к мыслях чинче другим который получает данных через их протоколы и сохранят локальный postgres базе и выдают через rest api каким-то внешним клиентам самый правый оранжевый прямоугольничек этот мобильный фреймворк то о чем мы поговорим сегодня его задача по сути дела два остальных момента получать данный через the pain is by king который работает сапом и эти данные выдавать наверх мобильного приложения максимально просто и удобно чтобы разработка этих приложений требовало минимальных затрат от разработчиков и вся сложная часть по криптографии там и прочего было скрыто от него соответственно вот этот оранжевый прямоугольничек самые права это вот та просто я буду рассказывать прежде чем определиться вот почему там все-таки си плюс плюс и прочее пару слов о базовых требник фреймворка так как это framework для и из детей для сторонних клиентов то есть натянутому использование основным требованием было сделать его максимально гибким то есть что бы его можно было быстро строить почти куда угодно то есть она эти в приложении любые java объекте все тут натовские возможны какие-то модные кордовский жалуют вещи то есть обеспечить возможность разработки как на темнота лекарства формах положений помощи не он третьем второй момент свести к минимуму все сложности по работе с готовым шифрованием и каналы локальной базы и третий момент как буче твой опыт в первой версии этого решения вы жить по максимуму перформанса и попытаться избежать любых каких-то проблем и костылей по перформанс в будущем у заказчиков и теперь по поводу задать чтоб понимать как бы что он вообще делает не геймдев не графика ничего проще соответственно дача очень простые на вид то есть сетевой код и взаимодействие поверхность и т.п. хранение локальной копии базы васкулите шифрования локальной базы и канала какие-то push-уведомления что-то типа там им катить или рыбе дымку надо поддерживать по обновлением какие-то оптимальные вещи типа загрузки только дельта обновление параллельные потоки загрузки данных и вот что-то тип того в общем по сути такой как гостевой протокол реализация какого свое стива протокола и теперь пару слов почему си плюс плюс с чем мы там сравнивали почему к этому пришли соответственно так основная задача была максимальную гибкость обеспечить и давать возможность разработки нативных кроссплатформенных приложений соответственно у нас вот списочек из пяти элементов си плюс плюс заморин реактив кордова и нативные приложения то есть реализация фреймворком нативном поди это по сути три разных фреймворка windows платформы для android и для ios соответственно как бы по по первому требованию остаются по сути дела плюсы и нативный код потому что заморин react нити в кордову конечно разрабатывать можно быстро и реально будет кроссплатформенный но потом кого-то встроить это в какой-то legacy android приложение какую склонность заказчик государственно будет наверно не просто о соответственно плюс технологий некоторые из них еще так экспериментальные сырые что-то не работает поэтому для интерфейс ирине годится ну и плюс по единой кодовой базе удовлетворяет почти что все кроме реализации нативном коде это не такое ключевое было требование плюсов третий момент было так как все эти заморочки с густыми шифрованием которые требуют там либо каких-то подчинены существующее решение либо еще что то подобное хотелось иметь возможность силами основной команды то есть не привлекает там никого силами штатных стороны разработчиков что-то менять как бы иметь прямо по че делать-то на из kool-aid и прочее вот чтобы это не казалась какой-то магии и чем-то подобным соответственно остановились на си плюс плюс попытались сделать вот при помощи у него решения чет пару слов про гол и ost то есть это прикольные очень языки стран попытка сделать почти так же быстро как плюсы по перформанс он и почти так же быстро как например python по скорость разработки как бы очень очень не нравится решение особенно гол но с точки зрения мобильной разработки пока не очень зрелые соответственно для роста пока что каких-то устоявшихся устоявшихся турчинов подходов по сборке именно под мобильные торги ты еще не то есть какие-то проект на гитхабе которые пытаются это делать но повышать энтропию своего проекта очень не хотелось сгау ситуация получу уже пару лет как из говна бэйл то есть набор таких турчинов собирать по май под мобильные таргет и версия 1.5 насколько я помню последние поддерживаются android ios windows пока не поддерживается соответственно года через три мне концы если будут развиваться будет крутой вариант не писать ничего на си плюс плюс как бы один счет на гол покроя на попробовать это но пока что учитывая все таки экспериментальности этого решения никто не прошло и те что получилось сейчас у нас ядро основная часть кода примерно 80 функционала и самый сложный функционал на полюсах то есть это как я же горел сетевой обмен все эти сложности с нагрузкой del докачка и прочего многопоточность вся работа с базой шифрование но и какая-то бизнес-логика небольшая которая там закрыто в плюсовой части сверху идет небольшая нативная часть это сейчас логирование калмыки и он мрм чтобы найти на разработчик отрыв фреймов берет как бы чувствовал себя каком-то знакомом окружении то есть для объектив считан что-то на базе города то сделали нативные разработчики наши для джалла не могу рассказать нам что-то подобное чтобы упростить время вхождения это предмет на власть какой-то работаем на с фреймворком для темно разработчика там сделано вот весь этот сахар и сверху все это обернуто в кордова плагин чтобы иметь возможность быстренько генератор новый проект потом android подаешь и пытался писать какой-то код на java script сейчас для примера покажу там кода чуть чуть чуть чуть поинтереснее было то скучно вот это первый кордовый уровень самая вершина пирамиды тут очень просто все 2 call back on a успех на ошибку и вызов метода метода которые пробрасываю данные в нативную часть ниже будто джа-джа узкая часть соответственно видно шума делаем get запрос какой-то ну судя по коду грузин данные из какого-то орла да и случае успеха возвращает данные в call back саксэс вот как бы вроде все просто одну строчку написали на самом деле на все-все плюс курсовая части там куча работы по проверке версии вот этих данных кэшем по загрузке из кэша по шифрованию прочего то есть тут в принципе наглядно видно что вроде как написать код просто данным под капотом там много всего непростого реализовано далее идет проброс сми нативный уровень данном случае это примерно боль для android на java соответственно видно как определенными тот дед с нативной реализацией в библиотеке c папа ран и есть класс и и чайф фреймворк который от на следа от каждого плагин который реализует метод экзекьютора торый зависимости от перед на экшн определяет какую-то работу что дело тут видно что в принципе мы просто пробрасываем вниз все пышную часть этот метод и вот эту строку с уралом котлов который был open все упрощено чуть-чуть на самом деле чуть сложнее там надо вначале вернуть плагин резался нарезал чтобы java script avocode не подвис там здесь вернуть управления с таким результатом но по сути дела там и добавляет и плюс три четыре строчки кода их убрал чтобы был был читаем о на слайде мы спускаемся на прессовый уровень тут видно что через жили на определенный метод get который тоже достаточно упрощенно по сути тоже обертона нашей реализации которая создает объект жмите которая создает наш объект выполняющие степи запрос создаёт отдельный трек передает туда это объекты возвращать правление когда данных загрузка будет произведена мы снова вернем результат используя данный интерфейс обратно в java и обратно про кинется java-script вот вот это как примеры кода были чтобы немного было наглядней как это все выглядит вот такая пирамидка там из трех технологией соответственно как бы как мы это делали изначально на и так про типирование целевой платформы был android ну попробовать начали с него соответственно использовали android studio и пытались изначально закрытие вы все вопросы android студии то есть там можно писать код на плюсах через градова собирать используя индики экспериментальный плагин который насколько я знаю до сих пор экспериментальный какая-то 067 великая такая версия последняя соответственно под android studio можно естественно писать и java код для android и в android studio можно импортировать проект под android который и гриллс генерала кордова и редактировать какие-то вот эти обёртки которые были показаны выше в android studio то есть принципе там можно java script отредактировать на отлаживать нельзя поэтому казалось бы топор должен был это выбор от этой студии должен был закрывать почти все вопросы кроме отладки джаваскрипт кода но там жалость обхода очень мало поэтому в принципе как бы этому должно было бы хватить на практике получилось не очень удобно вот этот индики экспериментальной плагин как-то фигово работает с дебаггинга то есть он например подвинуть у меня что то не заработали брик поинты подвинув он заработали но работали не всегда плюс при изменении внесения в плюсовой код который основная часть там вся сложность значительно приличное время на проверку всего этого то есть мы как бы носим изменит + новый код собираемся это дело генерируем джорнет под android диплом на девайс эмулятор запускаем там все это дело пытаемся отлаживать либо трассировки милливатт бриллиантами которые через раз работают то есть не очень удобно долго с ростом функционала как бы стоимость внесение изменений в такой проект стало как бы неприятный очень поэтому решили как бы что-то бардак исправить вот соответственно как вариант добавили linux таргет то сейчас мы собирали под основные два мобильных таргитай вас и android чет там делали отлаживали добавили 3 под linux то есть в принципе поместили плюсового разработчика в среду в которую ему более приятные понятно убрали всю эту мобильную часть так как все-таки 80 функционала примера на плюсах функционал тоже к мобильной части вам маленькое отношение имеет то есть они работы с камеры ничего такого нету в принципе и сетевое взаимодействие работа с локальной базой соответственно добавили но в таргет и попытались как будто вот все что не очень может быть совсем понятно не входит кругозор простого разработчику убрать вытекание из этого linux таргета то что вытекала соответственно использовали стандартный практически толчею для плюсов разработчика семей для генерации годов скриптов тоже джуринский sealine для написания кода отладки или компилятор clang чтоб компилировать бинарники собирать исходного кода бинарники сейчас чуть-чуть как бы расскажут все просто на самом деле будет но остановиться на этом на то есть что такое семей какая-то кроссплатформенное tool за которая позволяет описать в одном файле процесс сборки проекта то есть от чего он зависит в каких в какой последовательности рать какие библиотеки линковать и прочее написать в одном файле семей кресте xt и на базе этого файла семей генерит уже белковые файлы под конкретную платформу под linux мой файл например для роз xcode project pat xcode под windows solution которые уже позволяют собрать вот из этих исходников которые у нас есть конкретный бинарный который можно использовать на платформе сожалению семейка не дружит с андроидом и там нет таргет который генерирует android.mk который при помощи не детей но толщина соберет нам бинарники под android на архитектуры соответственно там есть далее просто ссылках будет у меня в полезных там либо на гитхабе есть проект который оборачивает семейка позволяет делать либо можно на базе linux ломай файла gene каждый раз менять android.mk и так то делать это руками пока мы делаем руками тушами так удобнее вот но в принципе там есть какой-то проект на гитхабе который до позволяет сюда добавить еще и android то есть генерацию android.mk который позволит собрать проект сын дикий далее про упростив шую ся процедура отладки то есть если раньше там все это было задействовать это мобильный вещи нативный код java script чтоб тебе плюсом разработчику может быть не очень там понятно вообще приятно с ним работать как бы он может сказать что я вообще не хочу этим заниматься я там все плюс разработчик соответственно как бы теперь стало значительно проще вносим изменения в код собираем linux бинарник от де божим под sealine если все о кирилле значит опять это не та рация снова соответственно как бы вносить изменений время как внесение каких-то минимальных изменений и проверки что это работает там посмотреть на трассировку стало значительно меньше но и поприятнее потому что все таки все этого среда для плюсов разработчика более понятно и более привычно я не третий момент по сборке тут как видно четыре разных годов файл описывающих как надо собирать и при помощи одно компилятора clang мы собираем бинарники под все платформы который нам надо пару слов почему clank например negishio принципе наверное можем там джесси использовать но так как во первых уже где-то как полгода вон детей и погиб реке этот это раз второй момент подаешь давно поможет дефолта вый компилятор для сборки приложений тоже clank соответственно плюс еще момента значительно более приятнее в плане разбор ошибок компиляции в отличие от 6 который там мусор какой-то вываливает на полстраницы не понятно о чем речь поэтому clank ну и плюс такой момент как бы использовании одного и того же компилятора при сборке по себе платформы так как мы постараемся плюс 11 как то снижает тоже энтропию на проекте в реализации стиле каких-то фиксик нужд 11 то есть вот это вот не пахло выбор мы его сделали придерживаемся соответственно как бы если подытожить какой поезд мадад все получили это вот прикольная идея с линуксом торги там действительно сработало дала по краям для наша задача для функционал framework который мы реализуем и дала возможность примерно 80 процентов работы по написанию кода unit тестов делать на линуксе то есть исключить из разраба при разработке мобильного фреймворка вообще мобильные девайсы все эти эмуляторы всякие ресурс с droid и прочее делать как удобно на линуксе соответственно тестируется разрабатывается вся основная часть под linux 3 второй момент получили возможность при использовать код на викенде то есть там иногда есть моменты которые критичных перформанса и чтобы сильно не взрываться оптимизацию на питоне есть возможность какого-нибудь там целый кастомного протокола который декодера который уже тестирован под linux перенести на бэкенд питоновский который тоже крутится на линуксе обернуто в питона использует на сервере но и третий момент как бы так как собираем не тесты по 2 мог соответственно стало много проще это все дженкинс интегрировать чем там заниматься с какими-то вещами по запуску этих тестов номально раза мобильных девайсах и прочим то есть как то вот этот момент тоже стал закрыт по крайней мере на большую часть процентов и пару слов про то что остается для мобильной части как бы ну надо же как-то мобильный тоже задействовать растворим урок делаем для мобильных устройств ответственно перформанс то есть как бы под линуксом перформанс как измерять бесполезно никому не интересен то что как бы запускается все на конкретных девайса конечных соответственно при тестировании для мобильных девайсов измерять перформанса для этого не нужны и без них не обойтись но я уже упоминал про эти 3 4 и 5 второй третий четвертый пункт это калмыки логирования и какая-то уровень 1 данный момент чекал калмыки логирование там очень мало кода и принципе достаточно один раз потом по минимуму вносить изменения то есть она становится как вот таким активным который мы используем его район который развивается на которое позволяет как-то очень просто со всем этим работать там уже то есть не работать не значит такой es que el там не значит такое джейсон прочее вот вот эта часть как бы она может расти и примерно синхронно с плюсом фреймворком развиваться теперь пару моментов про сложности все было трудно вообще основной момент который мне не понравился казалось бы почти плюс плюс куча библиотеку же там десятки лет что-то делают на си плюс плюс си плюс плюс соответственно гитхабе куча проектов особенно под наши задачи как бы сетевое взаимодействие кучи библиотек там кучу всего чего можно использовать вот на по факту в основном когда мы берем такую библиотеку мы хотим что-то взять ее сразу использовать какой-то функционал писать обычно голдовые скрипты которые с ней идут позволяют собирать ее под три основные доступные платформы это linux mac и windows ну там в с тем иногда бывает скрипты но по сути дела так то есть что то такое что мы там мы нажали как бы собрали падает под android быстренько по загрузили у себя как бы уже пишем какой такой под android так нельзя другой вариант вот это вот на гитхабе тоже куча оберток вокруг всего этого но уже с нативной оберткой то есть то что позволяет легко подключить вот такую библиотеку обернутую нативный код грехи например в свое нативное приложение например там на объекте все или на java но вот так чтобы взять именно плюсовую библиотеку без какого-либо геморроя переиспользовать в своем плюсовом коде под мобильную платформу тут не далеко не всегда удается скорее обсказала редко когда удается поэтому для того что перечислено нужно делать свои собственные белковые скрипты например для mp5 на базе linux вами файла пришлось сделать был до скрипа до android хикару и даже boost хотя казалось бы густо вообще мог бы собираться в пункт по крайней мере под android и ios что-то там было бы но из коробки нет есть проект на гитхабе к где-то отстает год-полтора по версиям буста который позволяет собирать bus под мобильные таргет и вот но там я бы я смотрел там даже если там пачино хедиры то есть там папа не просто там как-то напел описан процесс сборки там есть починок вот небольшие но есть то есть выглядит вся тоже не очень потом с вами поддерживать и сейчас эту версию взять соответственно пример для пусто как workaround с ним использовался федоровна библиотеки то есть например вместо будет быстрее hex можно использовать boost экспрессов который позволяет собирается уже при сборке самого приложения вот и сбросить себя этот геморрой по поводу предварительной сборки при билдов под почти нужные платформы как бы это увеличивает скорость сборки самого проекта что не минус но на мой взгляд на начальных этапов как бы которых про типирование к это первая версия принципе не самый большой минус второй момент ну как бы очевидный то что нету хоронит не процессов каких-то разработки отлаженных всем понятных и широко известных привычных там разработчикам не средства разработки нет чтоб на переписать код на stack технологий то есть вот то что я там показал javascript не тиф си плюс плюс что там прямо все в одной среде разработки это подгрузить ставить брик point одновременно java скрипте где низ и плюс плюс переходить там с на уровне он другой такого нет поэтому приходится работать со сложностями придумывать всякие свои пути как это сделать там свои процессы компании и продукт который делается это как-то вписалась и был минимальной overhead как бы по работе по по производительности разработчиков плюс такой момент что как бы процессный тоже момент соответственно из там есть какие то люди которые на java script это делают сверху нативные какие-то вещи делают а тут на си плюс плюс это делают возникает нам проблемам где мы там java скрипта потому мы тут вот тот же get получил счет до получил не то и либо версии нет ой там либо там чего не только какой-то там подвисла все соответственно как бы не всегда понятно на чьей стороне проблема может начаться пинг-понг соответственно каждый говорит что это не у меня ниже как бы все всегда приходит си плюс плюс как бы приходится плюсовую разработчику брать как бы загрузить этот проект жало скрипта мыслить и вам и смотреть как бы чё там не работает и правда ли это меня проблема то есть сам процесс разработки тоже разбухает по времени и какие-то там нужные моменты в нем возникают вот приходится этим бороться и жить с этим если принимается решение как сделать какую-то часть на плюсах теперь хотел бы рассказать как бы ну как бы профит от плюсов чем мы сделали такого интересного что мы не могли бы сделать кинуть другими средствами первую очередь прошу рование skull это я был реализован клип шинкода кастомный для из кого это то есть из коробки sqlite не поддержит некое шифрования они продают всплывает накрывшим extension за какие-то деньги который поставляется виде пачино миску light который позволяет добавляет один вызов к публичному 5 пора бросить ключ как бы с этим ключом он чёт шифрует там там поддерживается из какие-то немного алгоритмов национальных американских российские как бы естественно нет соответственно не подходит решение несмотря на то что даже платная вот тоже самое по поводу я сказал цифер и подобных с газ том никто не работает поэтому приходится изобретать вот этот механизм я сковывает encryption кодек которая сказала не документированный то есть они продают своих стенджер но на сайте нет ничего про то как сделать саму такой extension есть пример на гитхабе такой кодекс интересным названием батон и ботаны всплывает обертка для искупает вокруг неё который можно использовать качестве примера разработки такого extension а вот мы взяли этот вот примеры на базе него сделали свой соответственно в результате наша кастомный ask a light сейчас реализует свой собственный кастомный кодек который делает две простые вещи перед записью страница памяти он может что-то с ним сделать и перед чтением и таблиц поможет счет с ней сделать там может там не знает там просто покорить но сейчас подключен на панель с гостовский менеджером который позволяет готовыми алгоритмами мощными зашифровывать страницы памяти то есть принципе на диске всегда хранится файл зашифрованном виде в памяти всегда в расшифрованным видят только то чем работаем то есть принципе все были меня с точки зрения запасов или нормально ну и еще такой момент мы подружились вот этот костанае скрывает со стандартной реализации с колой дтп с для android на сайте с kool-aid есть пример как их кастомный кодек который они за деньги продают подключить к андроиду чтобы можно было весь этот сахар объектовый в android использовать с вот этой вот версии скупать шифрованием они напрямую там и сказал запроса делать мы посмотрели как это делают взяли тот вариант за основу про бросили сверху сами дополнительный метод там чё-то около четырех прослоек было чтобы подбросить в этот вы скрывает метр сетки и сейчас андроидный разработчика предела тарелку он работает со скал дтп с этим классом и для него вот это вот все заморочки с шифрованием газ тому по нас с сэмом внутри они скрыты единственная разница в том что он теперь вызывает метод сетки после того как скрывает базу в этот момент такой интересный второй момент изначально серверный бэкенд отдавал данные клиентам через rest api 2 джейсона принципе нормально но для тех задач которые перед нами стояли не очень потому что первый чуть не хватало памяти бывало такое то есть есть такие кейсы в которых за 1 одну связь и передача данных надо слить очень много данных соответственно джейсон очень тяжело декорировать потоково нужно слить и вести джейсон хранить его память на мобильном устройстве потом де кодировать то есть тот минус том что надо памяти дофига 2 минус том что мы начинаем декодирование и запись б д уже после приема все эти порции данных то есть дополнительный какие задержки создает что тоже по требованиям которые от заказчиков были не всегда удовлетворяла поэтому посмотрели и решили что чем свой потоковый декодер для джейсон писать какой-то велосипед реализовали свой протокол пиза вверх и до который позволяет потоки передавать таблицы вот соответственно назвали от эбу стрим пока на гитхабе энди нет может появиться со временем не знаю принципе того саму реализовать можно за пару недель максимум с отладкой поэтому в общем суть чем как бы теперь памяти живется примерно там килобайт 500 на какой-то промежуточный буфера и мы пишем высказал базу принятое данные практически сразу после начала приема то есть там 1 какая-то порция которая не зависит уже от данных последующих пришла можно начинаем писать вбд соответственно время приема данных и записи вбд sirion скатилась вот при этом считают настроился мой третий момент он очень простое тоже вот но это же решил про него сказать и скрывают по умолчанию не поддерживает какую-либо многопоточную работу по записи то есть это обычному файл который хранится на диске и в один момент времени работать sbd на запись может только один поток поэтому когда речь идет о какой-то параллельной загрузки там разных источников данных и sopa например которые за узором никак не связаны с они будут знать друг друга при записи вбд и это не очень удобно поэтому реализовали такой шар ленка скрывает который скрыт под капотом framework а ничего про него не знает конечный пользователь который позволяет его то развели параллельные потоки загрузки данных не зависящих друг от друга писать на по факту в разные базу данных sqlite и сделать какую такую видимость параллельности вот как-то так вот и теперь только кит подведем выводы соответственно вообще как бы ступ стоит ли использовать плюсы при разработке мобильных каких-то там решений языке и прочего в первую очередь сразу можно сказать что процесс разработки сложнее чем нативных решениями то есть как будет не бесплатно всегда но как плюсы действительно единое коды обозначали как бы были какие то сомнения но будут ли там например 3d которые там может там 20 минут висеть нормально работать на всех мобильных устройствах может там какие-то особенности есть но по факту оказалось что все нормально реально вот сейчас нативная часть она сведена call беком и алави логом как то что я уже раньше говорил и по факту действительно как бы кодовая база на данный момент единая практически то есть там даже при самом коде и где очень мало платформа зависимых соответственно плести можно выжить перформанса больше что мы сделали вот это очевидно но и вот по поводу примеры со скубой там как бы имея всю команду разработки на си плюс плюс имеет экспертизу можно как бы брать существующее решение дорабатывать как бы без особых таких сложностей вот и на мой взгляд как бы при выборе плюсов для мобильной разработки от последний пункт решающий то есть если его нет тут уже стоит хорошо подумать стоит ли в это вре знать как бы потому что это будет соседней бесплатно да там построению стало жаль что то делать но вот если это действительно нужно как был случай успевает он то в принципе за всем этим можно жить как-то так и достаточно эффективность задачи решать по ссылке какие-то по поводу отыскивает он дает bindings то есть как можно тут любой какой-то картами всплывает под android подложить чтобы стандартную виктория модель android использовал для работы по поводу как собирать бу skoda android семейка обертка для того чтобы генерировать семейка том числе для android был добр и скрипты и описание как бы нашего решения которые мы сделали там какой-то бы этой версии на можно слить как бы попользоваться как-то ну и все с акция просто ответы спасибо за внимание 1 раз добрый день спасибо за доклад я вас хотел вас уточнить я простой android-разработчик прям простой простой вот судя по вашему докладу вы позволяете разрабатывать какое-то общее решение которое используется для ios и android вниз но нет не совсем для android есть мы работает с android на оберткой нашим из детей на то есть вы нам придаст с помощью вот вашего фигурку можно разрабатывать какие-то библиотеки которые я к себе в android проект подключаю ее своих правильно наша framework уже есть библиотек который вы свой проект подключаете ее зовите делать там метод простенькие от дефекации гнев на сапе и дальше там получаете данные которые вам нужны ну к примеру а вот с точки зрения архитектуры получается ваша библиотека она является но как бы покрывает все работа с данными то есть мне не нужно мучиться о том но откуда берутся данные там с базы данных сосите прочее или вы еще захватываете бизнес-логику и никак простом разработчику остается ну только ей там что-то сделать вызывать ваши калмыки нет бизнес-логику практически не захватываем потому что там кей за разные там всякие ос опо куча приминений поэтому пар бизнес логика тут ничего нет бизнес-логика остается именно для разработчика клиентской части то есть и вот это безусловно все вопросы по поводу сетевого взаимодействия брать из кэша локальной базы шифрование вот этой гостовский момент который для многих ты навсегда вот это все мы решаем берем на себя закрываем полностью а вот последний забыл спросить а бесплатно нет наше решение нет ни бесплатно но я сколько я знаю она значительно дешевле чем запуска и решение сам пин но я про цену не знаю как бы нибудь продажник не но вы хорошо спасибо больше а вот вопрос к вам я туши и саб инсайда а почему кордовая не fiore не знаю честно говоря никогда ну мельком смотрел на этом тоже в такой красивый в выбитый этом есть и оффлайн режим ну правда вам не нужно с шифрованием гостовский вообще для меня это вот первый раз слышу честно говоря может быть нам не до потому что я видел что у смп незнайку версия они pump 30 на какая там звонит с ней предоставляет кучу картавых плагинов готовых уже то есть они как бы дают уже кучу каких-то кар-кар даосских плагинов которые позволяют на java script быстренько все построить профессию не слышал но я как бы больше плюсов участие занимаюсь поэтому может быть стоит нашим консультантам как бы изучить этот вопрос вот не знаю почему пример было принято решение на верхнем уровне для быстрой разработки именно почему ты спорт кордова на в принципе так как там ну нативный уровню объекте все java можно достаточно мне кажется местом позволяет это обернуть очень быстро в любое решение скорее все даже то мориак нити в по идее можно прикрутить сверху то есть вот когда базовая часть уже есть какая-то сверху это обернуть в какой-то другой java script framework мера не сложно мне кажется все доклад понятно что вы говорили что разрабатывать под на си плюс плюс для различных платформ мардан это делается хорошо насколько понимаю вот решение которое предоставили вы разрабатываю как один разработчик мне интересно с точки зрения скорости если бы вы оценили если вы делали это например на объекте все там либо просто на чем-то другом или просто может может скажет сказать сколько времени примерно за не волос реализации этого библиотеки меня завела полгода соответственно как бы я девочку это дело с про типирование под плюсовая часть сейчас подключились уже нативные разработчики нормальные как на джипе все не знаю а вот у нас есть объекте все разработчики а посмотрел на код на объекте все сидел как бюджета что-то незнакомое совсем сколько на объекте все не могу сказать на джая было побыстрее конечно небольшой под есть там было бы в разы быстрее но это было бы ограничиться только андроидный платформы соответственно как бы ну совсем в рамки не вписываются было понятно изначально что как бы на плюсах то там есть кактус биться головой об камни вот но в результате как бы вот эти все жертвы оказались не напрасными учет получилось работающий сделать здравствуй спасибо за доход вы говорили что вы добавили вот linux библиотеку . линуксе я обходилась наборщик на своем android завершена news естественно изначально так и было то есть как бы под android studio типа жилось android начать потом код переносился xcode и на нем нам надо дать на джипе всей чет писалки простенькие обертки соответственно до приходилось единственно что вот как я уже сказал что важен ним плюсового кода из под android studio очень неприятно делать изначально android studio и с этим возникли проблемы поэтому именно вот эту плюсовую часть вынесли в под проект отдельный и обернули и и плюс о вами жизни тест ремонту читаю сейчас на данный момент вот релизиться плюсовая часть отдельно для для нативных вот нативной обертки проверяется только то что ее можно собрать соответственно как у всякие кита баги на мобильный мобильно специфичные выявляется уже либо тестировщиками либо вот этими вот нативными разработчиками которые все берут и пытается вот прикрутить новую фичу понятно сейчас процесс такой то сейчас я уже работаю капюшон кодом так видимо вся тогда перерыв всем спасибо"
}
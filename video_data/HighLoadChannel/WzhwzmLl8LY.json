{
  "video_id": "WzhwzmLl8LY",
  "channel": "HighLoadChannel",
  "title": "Автоматизация тестирования в iOS-проекте на примере ICQ / Д.Куркин, М.Манаев (Mail.ru Group)",
  "views": 527,
  "duration": 3321,
  "published": "2018-01-16T12:12:14-08:00",
  "text": "добрый день меня зовут брыкин дмитрий я расскажу как мы оптимизировали тестирование на нашем проекте три года назад когда мы все это начинали review старик это занимало порядка недели наш полный прогон занимал около пяти рабочих дней соответственно если у нас все шло хорошо то мы заливали сборку в створ отправляли на review и пока идет review мы гнали свой полный тест и опять же синеньких проблем не было найдено то концу тестом и раз проходили review и могли спокойно выпустить обновление однако если что-то пошло не так и не дай бог ближе к концу значит полного прогона то это прибавляло еще неделю если там что-то было новый мы нашли значит это еще неделя и так это все могло растягиваться более чем на месяц наши планы рушились и была начаться тяжело выходить из ситуации для того чтобы что то с этим сделать мы решили попробовать задействовать автоматические тесты когда речь заходит об автоматических тестов то всегда есть на скепсис что люди которые будут тестировать вручную будут эффективнее потому что человека в отличие от машины замечать какие-то новые проблемы которых мы раньше не знали кроме того если мы заносим какой-то новую функциональность то он практически сразу же может браться за дело нам что-то проверять в то время как для авто тестов нужно что-то программировать готовить чтобы значит мы могли это тестировать ну и в общем-то человека гибче в управлении если мы нам надо где-то что-то проигнорировать какие-то проблемы на чем-то больше сосредоточиться то это значительно легче объяснить чем за конфигурировать значит наши тесты поэтому очень то всегда есть рядом мысль а не нагнать или просто еще людей в тестировании поэтому с этим мыслям голове мы поставили себе следующие цели автотесты не должны были не заменить ручные тесты об по-максимуму сократить количество прогонов в идеале у нас должен быть один успешный ручной прогон на него мы уже выходим но в некотором виде оттестированы кроме того хотелось значительно быстрее получать информацию о проблемах соответственно чаще запускать и быстрее получать результаты чем это делает тестировщик и хотелось получать улучшить ситуацию не только с самими тестами но и получать больше информации по после релиза отслеживать приложение таких крыш и уже после того как приложение находится в store в итоге мы по итогам проведенных работ мы получили довольно неплохие результаты видя автотесты мы свое полное тестирование сократили с 5 дней до 2 также мы смогли поработать над сборкой приложения и если до этого у нас полный комплект занимал почти час то мы смогли его значит вдвое сократить где-то до получаса и для того чтобы отслеживать ситуацию после релиза мы сделали себе дашборд и теперь ежедневно обсе видим что происходит с этими версиями которые доступны пользователям и так что же было сделано по авто тестом мы напилили 2 большой группы первое это короткий смог тест и значит более полный main тест смог тест содержит в себе и ей тесты и юнит-тесты общая его длительность где то порядка двадцати пяти минут за это время мои принципе успеваем его прогнать до того как нужно уже собирать нам следующую сборку поэтому эти тесты запускаются на каждую сборку main тест значительно более объемный и он состоит только из ей тестов поэтому его длительности получилось порядка пяти часов соответственно это уже не запустишь на каждую сборку он у нас запускается два раза сутки 1 раз на ночь и один раз в середине дня чтобы к вечеру имейте как-то больше информации о том что мы наделали с утра эти тесты нас работают на двух основных платформах значит 3 unit тесты мы запускаем а в иксе тесте с используем библиотеки киев и 4 га и тесты мы запускаем при помощи коллаба же эти две платформе и свои плюсы и свои минусы но совместно довольно удачно дополняют друг друга и xi теста при запуске по факту собирает наше приложение с занесенными туда внутрь занесена туда внутри кодом тестов и позже после запуска он начинает поочередно эти вещи запускать один за другим запускать наши тесты киев тут выступает просто библиотекам внутри все теста позволяет нам использовать таки более пользовательские действия типа нажать на кнопку построили эти так далее в результате такой схемы эти тест дает нам много возможностей по воссозданию исходной ситуации за счет того что мы можем использовать свои модули значительно легче построить какую-то сложную проблему которая возникла у пользователя пострадать может быть какую-то ошибку и что то в этом роде также за счет опять же доступности своих моделей и то можно использовать уже и в самом тесте и это также дает больше возможностей при сценарии теста ну и приятное дополнение что он хорошо интегрируется с кодом соответственно если мы нашли какую-то проблему то не нужно ничего настраивает принципе запустил конкретно тест с проблемой или тот который мы сейчас там доделываем не тратя время на все остальные тесты значительно удобней качестве примеров того что мы тестируем при помощи тестов мы проверяем механизм обработки сообщений что на что неправильно сохраняются корректно модифицируется проверяемо модуль сетевых ресурсов наш аналог resource is on demand проверяем что корректно работает чит временем когда и может стартовать фиксирует что значит появилась на сервере что то новое что стоит догрузить ну и прочие вещи также проверяем а сортировку списка контактов там нас довольно сложные условия соответственно здесь у нас есть несколько ключевых примеров чтобы если мы что-то меняем проверишь на ничего не отвалилось и проверяем обновление списка контактов когда он приходит сервера чтобы корректно фиксировать что значит повелся на писке нового что нужно удалить что значит просто поменялось есть кассе теста проблемы за счет того что есть доступ к нашему коду то сами тесты получаются довольно хрупкими средства если в коде у нас что-то меняется даже переименовывается это видео потому что он просто перестает собираться кроме того поскольку трест идет по факту выполняется параллельно основным приложением то могут быть конфликты если у нас используется какой-то синглтон или что-то аналогичное то когда мы попробовать задействовать в тесте у нас они могут за конфликтовать кроме того выксе тесте требуются большие ручной работы если мы в процессе хотим получить какой-то скриншота либо создать какой-то красивый отчет то значит это все либо вручную либо из каких-то дополнительных для эти ну и кроме того тест работает только в рамках приложения соответственно нельзя выполнять такие вещи типа запуск приложения или перезапуск если мы хотим что-то здесь проверять опять же это все нужно доделывать вручную все эти вещи отдельно проверить калабас работает несколько иначе он работает снаружи приложения для раньше он запускал через ее это мыши но как он перестал бы доступен переехали на xiii тест и фактически через него он запускает свои скрипты и таким образом управляют приложением кроме того он встраивается в само приложение и таким образом позволяет хоть иметь хоть и ограничен и но доступа каким-то внутренним специальным методом в приложении благодаря этому club сша фактически работает снаружи приложение у нее нет этих проблем которые возникают по хрупкости с сравнении с тестом при этом за 2 ссн он меньше зависит от кода приложения и можно в тест заносить такие вещи как что происходит на запуске либо значит как мы реагируем на перезапуск приложения ну и он дает довольно приятную отчетность там так уж темой файлик получается можно посмотреть в общем либо значит бисквит проблему посмотреть скриншоты которые там были качестве примера ей тестов мы проберемся стараемся стать проверять большие редкие ситуации которые возникают приложение примера начата регистрация пользователей от вич которых проводится один раз проверяем работу со чистым продолжением когда у пользователя нет у нее диалогов не контактов соответственно приложение должно и могу показать что дело дать что у него все это появилось проверяем также поиск в списке контактов там намного более его может искать при верим что все они работают что верно приводится там кодировкой из русского английские и прочее но при этом есть club she проблемы детстве на работы и снаружи значительно меньше возможностей по в создании сходной ситуации если мы что-то хотим особо хитрая что пользователь сам не может создать либо значит это все надо готовить через бэкдор таким образом она есть риск что он попадет в основной код приложения либо значит как-то это пытаться набирать через пользоваться и есть и кроме того и тест часто содержит себе тайм-аут и то есть такие смотреть что-то сделать потом подождать секунд пять проверить что все в порядке поскольку дефекации вот приложение значительно меньше соответственно часто такие сценарии приходится делать ну и нету интеграции секс код соответственно если мы работаем какой-то конкретной проблемой то чаще приходится либо все запускать либо значит как-то его синей настраивать как получать результаты тестов по идее в идеале ты должен быть такой чтобы его вообще не отложили соответственно должно быть достаточно остаться выполнения зеленые все хорошо значит либо красный что-то не так и в этот момент уже сразу должны понимать как бы что нам нужно править это ведет тому что uber такие тесты достаточно сложно делать вторых отведет потому что их должно быть достаточно много поэтому наши тесты и более крупные и для них мы собираем все что только можем собираем лака сборки средства приложения срок выполнения самого теста возможности собираем скриншоты по ходу выполнения и особенно если возникли какие-то проблемы и соответственно если возник прошло кто обязательно прикладываем к этому прошло все складываем наши контекст и лишь на сервер в team сити соответственно любому участнику команды доступны все эти данные если возникла какая-то в тесте проблема он может значит обратиться к запуском тестов и начать глубинного изучения не пытаюсь воспроизвести то что то что в тесте не сработал благодаря этим действиям благодаря этим тестом мы смогли существенно улучшить наши ручное тестирование теперь вместо того чтобы воспроизводить сложные сценарии многие действия были приведены к тому чтобы проверить результаты работы авто теста соответственно особо особый плюс нам да у нас было довольно много проблем по миграции когда новая версия запускается на каких-то старых данных пользователь достаточно много и у них значительно больше случаев происходит чем у нас ими всех наших тестировщиков поэтому здесь у нас было были несколько случаев когда после обновления и стала спускаться это было для особо важно вынеси это в авто тесты мы в итоге сократили в себе два дня работы в ручных тестировщиков кроме того за счет того что мы вынесли редкий сценарий которые еще к тому же и как правило тестируются в конце ручного прогона также это позволило сэкономить еще дней ну и кроме того что реально сэкономив время мы еще смогли его не увеличить благодаря тому что построив ей тесты мы по факту еще параллельны получили возможность собрать по приложению скриншоты соответственно занесение любых новых локализацией можно было тестировать при помощи соответственно их скриншотов не нужно по приложению больше бродить когда там вьетнамский язык это довольно сложный такой процесс кроме того были у нас проблемы с тем что данные статистики переставали надо работать запутали ключи которые используют предложение поэтому завидят уже их через ад в авто проверки мы также смогли и проверять это и не увеличить наш полный прогон кроме того кроме авто тестов мы хотели как можно быстрее получать результаты тестирования для того чтобы начать получить как можно быстрее нужно получить к может быстрее получить сборку у нас полный комплект состоит по факту из четырех приложений 4 сборок значит 2 сборки это тестовые они пишут больше данных имеют всякие дополнительные настройки который помогает нам в тестировании и 2 сборки релизные значит одна из которых идет фтор 2 для того чтобы посмотреть что же мы в итоге по факту за деньги в стороны не влезли туда что-нибудь из тестовых сборок в итоге каждая такая сборка значит это занимало нас порядка 15 минут соответственно в сумме получалось около часа 1 значит что мы придумали сделать это эти группы объединить и таким образом собирать допустим одну тестовую сборку и уже эти результаты значит настраивать как то дополнительные листы и после этого снова упаковать и подписывать после этого у нас получается и пак фактически из одной с горки мы получаем 2 и по которые значит мы можем раздавать на разные группы и в итоге сборка сократилось в два раза то есть мы получили где-то около получаса однако со временем начат проект разрастался и сборка стала приближаться уже е25 минутам вот нужно было снова что-то делать сначала попробовали вынести то что как бы уже не не меняется какие-то внешние библиотеки которые там собирались по максимуму все вынесли сборки чтобы она уже была готова и собранная в это не дал он большого результата мы там отыграли пару минут зато мы заметили что в сборке сборка фактически состоит из двух этапов думаю сейчас многие поддерживают 2 архитектуры 32-битную и 64 битная соответственно сборки видно что сначала собирается 1 потом 2 и возникла идея не делать ли нам собственно это 2 разных машинах а потом результаты начать собирать и как это делает собственный сам xcode паковать в приложении и значит уже подписывать его на разные группы в итоге мышь параллели сборку сделали такой потом все это собрали на одной из машин сборочных и таким образом смогли снова приблизиться к 15 минут на сборку и опять же get у нас получалось обще комплексного около получаса кроме того что в чем-то мы выиграли по времени кажется в общем то мы неплохо вы по деньгам потому что возникающим идея зачем мы это все усложняем может быть просто докупить в помощь ниточку вот снова тем не менее начаться если не macbook и если не mac mini и не братика бы случае с экраном то следующий вариант это mac pro и он по цене в сравнении с самым топовым ок меня родится получается приблизительно в три раза а вот но вот у нас коллеги из другого отдела по поводу mac pro и они говорили что в них далеко не в 3 раза величина сейчас скорость сборки кажется даже не вдова и были не очень восторге от такой покупки вот у нас получился в итоге за небольшие деньги хороший прирост мы занимаясь значит авторизации серого не мы также хотели получить еще и отслеживание проблема после релиза для этого мы напилили дашборд он содержит три основные вещи три группы данных первые собственно довольно традиционна и это состояние теста значит он показывает значит зеленый статус все хорошо красный ошибка и начались он процессе выполнения то идет прогресс мы здесь показываем номер сборки чтобы понять насколько он актуален и время чтобы отслеживать и не возникает ли там какая-то проблема что какой-то тест подвисает другое более такой полезный для нас элемент это отслеживание бета-версией наш процесс релиза построен так что сначала практически как только разработчик заливается значит свои наработки где довольно быстро мы собираем альфа-версию и она сразу раздается на некоторую группу пользователей соответственно мы здесь можем фиксировать если мы в итоге за несли какую-то проблему то вот значит красный огонек фиксирует количество крышей на этой версии можем достаточно оперативно отреагировать значит за тушить пожар если он вдруг возник кроме того сборки бывает довольно часто поэтому очень актуально для нас весь вопрос а собственно какая сейчас версия последняя поэтому цифра начаться того какая сейчас сборка в итоге доступно тоже помогает нам сократить эти части временных затрат все прибегают приносит какую-то проблему надо понять стоит ли обновляться или проблема актуальна надо срочно чинить и также здесь отображается если произошла как проблема со сборкой это квадратик красный либо значит также процессе сборки идет прогресс сбежится земляника полоска что мы понимали что сейчас что-то будет если кто-то не видит то что ушло в теста это просто потому что она еще не старалась и наиболее полезная часть до сбор да это информация о релизных версий тут так довольно компактно показано состояние по по последней версии показывается номер сборки опять же это такая вещь которая все время забывается и часто требуется где это было значит нужно куда-то если по хате ap либо еще куда то также показывается рейтинг приложения по нему мы фиксируем все ли хорошо с системой сбора отзывов если значит данных нет то значит есть к эта проблема нужно долго длятся и чинить ее также об здесь показывается общее количество коржей по версии и график отображает количество крышей по дням 300 темные полоски это по всем версиям и более яркие это по последним график нам на практике реально позволяет закрывать те проблемы которые мы раньше не фиксировали так когда мы выпускаем новую версию в створ то в первую очередь нужно следить что там все в порядке значит нет какой-то проблема которую мы все не заметили мы отслеживаем количество крышей которые там будут и далее этот график с течение времени должен выйти на какое-то положение на какой-то уровень когда мы уже можем его сравнивать предыдущим релизом для то чтобы понять стола или лучше или хуже отношению к предыдущей версии то есть стало больше решили или меньше кроме того когда он выходит на такое состояние к этому моменту становится ясно собственная картина по крышам какие являются наиболее проблемными где воспроизводится редко и начнет можно дотянуть их там может быть до следующей версии но после этого этапа как правило уже нет такой интерес и смотреть значит что там с ними происходит и до того как мы начнем себе сделали дашборд а есть какая-то проблема возникала какая-то проблема которую раньше никто не видел вдруг обострялась то мы скорее всего бы это не заметил например недавно обновился ios была минорное обновление и в результате проблемы которые в общем то раньше нигде практически не было зафиксировано сильно обострилась и график крышей начат пошел вверх мы смогли к тому моменту как пользователи начали жаловаться у нас уже был готов фикса залитую версия в торе нас он уже дал review и также график нам помогает помогать пользу позволяет нам помогать пользователям на старых версиях мы всех и бусин ты всех нам доступен как правило имеют последней версии приложения либо значит таки это альфа и бета версии либо последнюю версию историю скучным случае но если какая-то проблема возникает значит на тех на предыдущих версиях то шансов ее зафиксировать практически нет ну значит по графику однако по графику мы можем это зафиксировать недавно у нас на на сервере поменялся формат формат пашей это вызвало проблему на предыдущих версиях и мы смогли опять же по графику это зафиксировать и откатиться назад таким образом помочь пользователям со старыми версиями все эти вещи автотесты системы сборки и дашборд составляют эту инфраструктуру при помощи которой мы выпускаем обновления наших предложений о том как мы все это все это дело поддерживаем на плаву расскажет наш специалист автоматизации максима нами а так слышно отлично я занимаюсь автоматизации тестирования на проекте secu и немного расскажу вам про сопровождении наших тестов и специфику этого процесса на нашем проекте в жизни любого автомате zatarra возникает момент когда тесты написаны отчета формируется и вроде бы кажется что счастье рядом но как правило счастье но не наступает почему это происходит любые авто тесты рано или поздно устаревают или ломаются одна из причин этого это обновление тестовых инструментов тестовых фреймворков операционной среды допустим недавно мы столкнулись такой проблемой когда вышла ios 10 и 8 xcode apple отказалась от поддержки автомашин автомашин это механизм который используется кола bашим для реализации пользовательских действий и жестов ну в итоге был период времени когда нас ты это практически не работали до тех пор пока тестовый фреймворк не обновился и не стабилизировался здесь к сожалению надо заметить что прогнозировать подобные проблемы очень тяжело и автомате за тару приходится бороться с ними по мере поступления еще один фактор который влияет на стоимость опорожнения тестов это степень изменчивости проекта с точки зрения дизайна и функционала у нас на проекте на очень высокая постоянно вносятся изменения в основные экраны изменения в навигации если вы установите допустим приложение полу годовалой давности то вы можете просто просто не узнать его это приводит таким ситуациям что мы тратим какие-то ресурсы на покрытие тестами функционала и можем через 3 месяца эти тесты отправить в мусорную корзину потому что нас там настолько кардинальные изменения что проще теста на писать заново чем актуализировать старые в итоге мы достаточно быстро отошли от идеи пытаться автоматизировать все подряд и сосредоточились на внедрение автоматизации именно на тех участках где польза от арта тестов была бы максимальной и при этом стоимость их содержания но было бы какой-то приемлемая давайте теперь попробуем разобраться где у нас автотесты малоэффективно где наоборот от них эффективность высокая приложение можно выделить область сценариев наиболее часто используемых тривиальных сценариев которые выполнят вполне от большинства пользователей после запуска приложения это области с одной стороны подвержена наибольшим изменениям и правкам с другой стороны она у нас постоянно находится под наблюдением у нас есть альфа-тестеры активные пользователи из числа команда б м о которых мы получаем очень быстрый и дешевый гэг по проблемам в этой области и как показал наша практика здесь эффективность от тестов не очень высокая это не значит то что не надо здесь автоматизировать но на мой взгляд оптимальной стратегии заключается в том чтобы чтобы содержать некоторые минимум сценариев которые позволяли бы понимать нам есть ли критичные проблемы именно в базовом функционале приложения и у нас ещё осталось 20 процентов сценариев а что в них входят ну во первых это относительно редкий сценарий но которые важны с точки зрения продукта но конечно пример можно привести допустим появление попапы которые предлагают пользователю оценить приложений в appstore этот папа появляется один раз за все время пользования приложениям данной версии и у нас был случай когда мы посмотрели баги в этом функциональный у нас в лесу ушла версия с богам соответственно проще такие редкие сценарий автоматизировать и в дальнейшем не запивать ему голову еще автотесты себя показывают достаточно эффективно и хорошо в тех случаях когда нам надо имитировать какие-то сложные тяжелые условия работы приложения например мы хотим понять как работает приложение большие базы данных или хотим понять как она себя ведет со специальным то так листом допустим с очень большими льна бороться пустым как выражение себя поведет при плохом качестве сигнала или при его полном отсутствии и самые очевидные областью применения тестов являются те сценарии которые трудны для ручного воспроизведения или рутины то есть состоят из большого количества однообразных операций и в них к велика вероятность человеческой ошибки я хотел поподробнее остановиться именно на тех механизмах и методах которые позволяют нам тестах воспроизводить эти особые состояния и тестировать тяжело и сценариям одним из таких эффективных механизмов является модификация или подмена входящего трафика допустим нас есть задача протестировать приложение при недоступным сервере в реальности положить сервер для тестов не всегда представляется возможным мы же мы обманываем клиент принудительно выставляя в ответе некоторые код ошибки и следим за приложением на практике это реализовано через механизм так дар который предоставляется около башен этот механизм нам позволяет вызвать из тестов в тестер мам приложения некоторый метод который соответственно изменит ответ от сервера необходимым нам образом область применения вот такого подхода на на самом деле достаточно широкая и что немаловажно нам не приходится задействовать ресурсы серверных разработчиков для того чтобы создавать какие-то заглушки или инструментарии еще один продаем keys сценарии которые у нас есть это тестирование обновления и миграции данных ручное появление данных операций выполнять много времени особенно если у нас количество версия разрастается тестировщиком приходится устанавливать старую версию логиниться сбывать какие-то данные и затем обновившись на новые версии выполнять проверки мы же применили здесь следующее решение мы для всех старых версий приложения сохраняем а контейнер приложение соответственно с базы данных со всеми файлами необходимым ли его работы и затем во время тестов мы текущий контент контейнер приложения подменяем на тот сохраненный и при запуске эмулируем собстна говоря обновления приложения и напоследок расскажу как мы тестируем push и если я не ошибаюсь это большинство тестовых инструментов не позволяет непосредственно произвести нажатие по push-уведомлений у вас системе и чтобы обойти это ограничение мы в приложении добавили тестовый метод которые при запуске анализируют присутствие в директории приложения специального файла который содержит контент пуша и если этот файл на один то данные из него передаются приложению и приложение запускается так как если бы пользователь и клик кликнул непосредственно по уши уведомлением это все что я хочу сказать по сопровождению и сейчас итоге подойдет дмитрий также надо 1 и так хотелось бы в конце отметить что применяет даже не идеальную схему не имея большого покрытия тем не менее можно получить довольно солидный результат при этом важно использовать и тесты не не везде не не пытаться догнаться за ночь от группы основной группы разработчиков а средоточия на тех местах которые сложно воспроизводить причем тестировщику соответственно здесь тесно значительно больше поможет ну и наш пример с мониторингом на приложение после релиза показывает что здесь можно значительно улучшить ситуацию с с вашим предложением начать лучше фиксировать проблемы уже после релиза для реальных пользователей вот в общем то все что хотелось рассказать если есть вопросы готов ответить здравствуйте спасибо за доклад у меня первый вопрос я не совсем понял до того как вы внедрили автотесты вы сказали что вы проводили полный регресс приложения перед тем как править в створ и когда но проходил review история вы еще раз проводили регресс чем отличались вот эти тесты до того как вы запустили его в магазин и после того как вы ждали во время как вы ждали когда мы туда так мы автоматизировали мы заливали в створ практически еще не тестируемую версию и после этого начинали полный прогон то есть никаких предварительных прогонов таких особо больших не было и благодаря тому что неделе у нас есть на review если я значит там все более менее хорошо то как раз мы за время review укладывали наш полный прогон то есть если все хорошо прогон один не было 2 прогонов полных спасибо можно еще вопрос а вы используете калабас а не используйте к самарин клауд выкладывать приложение вот так вот в облака мы честно говоря побаиваемся то есть нужно здесь икеа пруф от руководства насколько это возможно поэтому в клауд не выкладываем он просто от него же будет польза я так понимаю вы все на одном он на своей на своих машинках прогонять и unit тесты и ой ок самарин клауд если вы пользуетесь кола bашим вся его основная фишка то что вы можете в claude в разных потоков запускать ее тесты я не прогоняй что нужно за минуту за 2 с одной стороны значит когда мы все запускали еще посмотри на клауда не было он чуть позже продался microsoft вот кроме того все равно остается проблема с тем чтобы выложить свои приложение куда-то в облака по факту мы живу прям куда то отдаем и на сколько она там сохранна тут как бы есть риски не те риски конечно они достаточно неоднозначные то есть мерзкое что мы не думаем что сейчас значит все набегут и там что до туда вынут или куда-то понесут его но тем ни менее значит здесь должна быть какое-то подтверждение 3 руководство поэтому мы как бы в эту сторону не стали двигаться и последний маленький вопрос я не совсем понял про я тесты вы сказали время прохождения тестов увеличивается из-за системных ожиданий каких-то там максимум 5 секунд но на моей практике единственный случай по моему нам надо ожидать это какие-то системные alert и и там хватает не знаю по моему одной секунды может даже чуть меньше 08 можно поставить и все это единственный момент где мы говорим приложение остановиться и подождать что сделать система здесь и кабы 5 секунд я привел практически из головы то есть где то чтобы прям нас все все ожидания такого размера ноте и меня как вы сами отвечаете ожидании все равно там нужны кроме того какие то вещи которые происходят в приложении возможно не отображаются явно но я и можем что-то перерисовываться ли системой принципе это может быть не обязательно заметно если если в июне тесте мы можем использовать при модификацию по коду чтобы кот нас наш тест модифицировал и мы могли что-то уже ловить это как бы совсем другое время чем мы пытаемся через ей контролировать значит что она сработала ну и какие-то вещи могут быть зависимые от сети и соответственно иногда все-таки достаточно большие ожидания приходится заносить а еще также если в тесте присутствует запуск приложения то тоже это все ведет к большим тайм-аут в тестах на реальности стали тестируйте какие-то вещи удобнее прямо на реальной сети потому что либо значит нужно это все прям стимулировать весь трафик либо значит на реальном кейси запустить запустить в нашем приложении потому что на на реальной сети получается просто проще эмулировать все это более трудоемко получается по моему опыту на реальном проекте легче симулировать сеть это делается очень быстро не знаю за пару дней можно полностью всю сеть симулирует записать джейсон и какие то у себя где ты будешь хранить и это будет с помощью тестов менеджер разрушаться в ее тестов и время прохождения теста будет не знаю ну тогда в вашем случае в два раза быстрее ну-ка на замечание так совет я понимаю да но у нас эта мысль как бы присутствовал то есть мы в реальности сеть сеть отчасти эмулируем то есть какие-то вещи мы через продолжения заносим но эмулировать прямо вот на сто процентов нам казалось большая проблемной задачей нужно либо это в коде поддерживать либо значит что-то еще такое сложное оградить здрасте я так понял вы не всю вас нет задач автоматизировать все соответственно у вас есть к этом стратегий автоматизации и вы определяете что вы будете автоматизируется что нет так да мочила веру сказать наверно я понял а можете детально сказал с написано было три кейса где вы там где сложно проверять и то есть вот такой вот этой схеме следуете то есть мы видим что это сложно проверять мы это будем автоматизировать реках но мы стараемся значит отмечать эти вещи которые вызвали нас проблемы и при этом они не являются частью таких наиболее популярных сценариев потому что основная проблема с используем его в частых ситуаций в том что реально тестировщик просто не успевает за носить автотесты настолько сильно проект меняется особенно когда мы какой-то фичу несем мы что-то занесли пока он к этому поднесет значит автотесты у нас уже возможно это другая идея как все это сделать заносится какая-то новая вещь реально он просто в этих местах не успевает поэтому эти вещи в тесты не попадают только какие-то критические ситуации его заносят примерно примерно вот вот такое действо каким образом вы отдаете данные для тестов миграции ну то есть как вы восстанавливаете какое-то состояние с которого нужен потом обновиться с миграции он фактически построен так что мы у нас есть набор на 7 баксов по старым версиям причем такой набор который содержит реальные проблемы с которой мы столкнулись я говорил что у нас были случаи когда пользователь не смогли запускаться не проезжаем по сути не запускалась соответственно в этих сын боксах уже заложены такие вещи и далее мы на нем просто запускаем приложение проверяем что она запустилась попала на там нужно экран и проверяем а некоторые вещи как на экране что неверно отобразились так и проверяем в базе что они там корректно отображены тулин какой для этого используйте что еще раз touring the link это вроде поясните я боюсь что для на кого это стандартная какая-то история sx кодом exe тестом или ну в общем-то мы используем своими ручными вещами то есть мы запускаем суть все это прогоняется при помощи кола баша поскольку здесь есть момент запуском приложения непосредственно проверки значит то что на экране отображается мы проверяем через через калабас то что как внутри в базе состояние состояние уже своим скриптом у нас в базе sqlite на поэтому проблем с уровня спасибо спасибо за доклад я хотел бы поинтересоваться вот моментом интеграции авто тестов как он повлиял на warhol это же все-таки время занимает какое-то ну вот вы видели у нас этим занимается отдельный человек он будет его работа носит как я уже говорила это гоняющий характер тыс но основная команда практически не отвлекается на тестирование если только требуется какой-то дополнительный метод там например через был дождь это такое принести то тогда разработчики подключаются и внутри приложения начнется носят эти методы так чтобы они не попали при этом в релизной версии пользователя вот например так то есть разработчики практически не отвлекаются все вот у нас делается не шла спасибо за доклад хотел спросить вы сказали что однажды была такая ситуация что со стороны сервера был не согласован поила утку уж нотификации с мобильным приложением вот как такое они глав релиз и вот какие выводы вы сделали как вот вы сейчас это пик сетевые дарси анер уйти там как-то этот пыл отеля что вы делаете ну в данном случае летняя версия была упущена то есть на серве не отмечено что это должно быть только для новых версий о том что это прям положите старой версии тоже упустили поэтому мы заметили что у нас достаточно эффективный инструмент чтобы эту ситуацию отловить то есть но как бы кто-то немного пострадал но вроде бы кажется мир не развалился от этого соответственно у нас есть мониторинг которые фиксирует такой проблемы мы можем оперативно это решить и со стороны сервера значит мы fix достаточно быстро внесли там где мы страдали от всего этого на клиенте есть мониторинг и на графике мы видим проблему в итоге изменили сейчас у вас уже другой пилот на сервере да тот который дал собственном и по версии сделать задействует старый формат строки ресурсе а нирования да конечно же спасибо у меня вопрос зачем использовать всякие страшные кола баши так далее если можно брать и вместо боевых этом api клиентов то там не знаю объектов которые работы с базой подставлять фейковые они соответственно именно для тестов будто давайте все что надо то есть для до боя инжектит и боевые компонента для тестов соответственно тестовые кажется что мы не тащим никакого там никаких подробностей к лабашова в свой проект и вроде как более менее все чистенько ну во первых для того чтобы так действовать нужно иметь туда доступ то есть в таком случае мы должны работать в чем-то типа exe теста с другой стороны возникает проблема с тем что если мы хотим приветики этой ситуации типа запуска или перезапуска приложения то значит это все нужно внутрь эмулировать потому что там это такие вещи не доступны по этому в принципе у нас мысли примерно такая же что хорошо бы эти ситуации вот вот так в них заходить то есть значить какие-то специальные вещи которые нас поставят именно в ту проблему которую мы хотим сразу значит без там дополнительных действий но другой стороны действия из страны club show нас там только бэкдор вот и мы хотим всякие вещи типа запуска перезапуска иметь в их селестия таких вещей нет и возникает с этим проблема в том что тест становится более зависим от кода соответствии с мы что-то меняем там больше изменение требуется сделать вот примерно так можно мне еще вопрос назрел а я и тесты вы же ночи искал ваш пишите отпишет тестировщик либо разработчик пишет автор а я так понимаю там же наруби они пишутся если вы к самарин клауд не используйте то там от с3 корден гони туда то есть тестировщик знаю трубе да он рукастый парень описание для ios и для android до сразу один и тот же нет нет android использовать у нас другие методы в принципе у нас проект и айос и android разделены поэтому у них в своем на свое а не было мысли объединить потому что ну такие фигурки как коллаба шагом в принципе для этого и придуманы чтобы как-то общие тесты для разных платформ писать но чтобы они не зависит от операционной системы мы просто можем экспортировать разные платформы даже windows и не знаю там и все будет ок да мы в курсе что действительно кроссплатформенный что можно и туда и туда но здесь в общем то организационная проблема разработка и газона так что android и ios проекты независимые и отчасти даже несколько конкурировать друг с другом в создании приложения он спасибо спасибо и извините пожалуйста вы не могу пояснить как вы реализовали versio не рование в плане пуш-колодах на сервере но боюсь что здесь уже большая серая логика и кажется просто без всякой мудрости он понимает какой то клиент по версии клиента всегда подключаясь отдает ему всю информацию для этого и в общем-то неясный кейс где мы действием по-разному для разных версий и он смотрит просто цифру и отдает другое то есть при регистрации рикудо при когда клиент подключается логиниться он старается все отдавать и когда обновляется мы стараемся эти вещи до серве доносить потому что ситуации когда нужно действовать для разных версий по разным они не редки и совсем спасибо папаня спасибо за доклад вопрос такой какой период у вас ушел на переход от ручного тестирования к авто тесты к автоматизированному тестированию была ли какая-то глобальная боль с которой вы столкнулись в этот период и еще вопрос сколько на данный момент вас ручных тестировщиков и автоматизированных ну как я хотел как я вначале отметил перехода общем то ни было мы не перешли от ручного к тестированию к автоматизированному потому что по факту мы наши авто теста дополнили работа ручных тестировщиков то есть ручное тестирование осталось по времени за это заняло где-то значит через два месяца через месяц или два после старта мы уже получили первые результаты получили покрытие предложение возможность походить по приложению получить скриншоты в основные вещам и где-то еще пару месяцев для того чтобы нанести основной сценарий где-то за три-четыре месяца уже он она у нас работал вот примерно такое время соответственно уже через это время мы получили результаты и в ручном тестирование она кроме того что значит какие-то вещи которые сложно было раньше воспроизводить были заменены на проверку результатов авто теста больше кроме как в этом ничего не поменялось по количеству у нас сейчас три человека тестируют вручную и день человек занимается значит автоматизации заносит новые тесты и среди чтобы все это работало спасибо за доклад самом начале вы сказали что у вас был такой волк flow сперва отдаете в apple потом ты сделаете все это как раз отлично укладывалось но теперь как мы знаем сроки сместились и apple за один-два дня уже проверяет как у вас всё это изменилось в мы снова в дамках снова начать два дня идет идет review где-то 12 дня и два дня у нас занимает около двух дней занимает сейчас полный прогон так что наш сценарий по-прежнему действуют мы заливаем тестируем и получаем сходимость для релиза примерно также чудесное совпадение привет спасибо за доклад я здесь прошлом вопрос тестируйте ли вы под разные платформы ios ipad ваше приложение визуально это различные тесты одни и те же авто ответственность прогресса нам на симуляторе и айпада прям подо ipad кажется что у нас дополнительного нету основном мы поскольку это более редкий кейс он проверяется из приветствовалось на вручную а разницу между пятеркой и 6 plus ну если у нас есть какой-то конкретный случай он занесен то моего проверяем прям что-то принципиального такого мы не гоняем и вопрос про версия ios вы тестируете под одну какую-то конкретную ли под разные мы примерно держим у тебя скука версии мы поддерживаем соответственно пода этот список мы держим устройства и соответственно таким образом тестируем только диверсии которые поддерживаются приложения примерно раз в год мы как правило от одной версии отказываемся то есть там капрал же мало пользователей и дальше мучить те кто работает на старых версиях на старых девайсах и стоит мы значит их представим поддерживать спасибо еще вопрос 1 вы тестируете бед и бета-тестирование не имею виду не вашего приложения пытаюсь до одна из проблем которые говорил максима эта смена платформы обновления его соответственно году есть некоторое время когда мы значит уже все сидим на переходном бета-версиях skoda у нас бета-версии ios и в этот момент все время возникает дилемма вот этот возникшая проблема она с чем связано или у нас что сломалось или сейчас apple выпустит новое обновление и все снова станет хорошо вот этот переходный момент он вызывает проблем спасибо да время подходит концу всем спасибо"
}
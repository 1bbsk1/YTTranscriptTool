{
  "video_id": "WPwr0AzZCro",
  "channel": "HighLoadChannel",
  "title": "Как Nomad может выстрелить в ногу, и что сделать, чтобы увернуться / Владимир Радонец (DDoS Guard)",
  "views": 138,
  "duration": 2152,
  "published": "2024-10-29T02:48:12-07:00",
  "text": "Всем привет Меня зовут Владимир радонец Я работаю в The doos gard сейчас поведаю вам историю о том почему и как мы выбрали оркестратор Итак непосредственно мы не будем сравнивать те оркестратор которые сейчас есть потому что это в принципе можно найти в любом поисковике и тратить на это сейчас время я не буду поэтому опишу то почему мы выбрали задавая вопросы ему соответственно мы задали Три простых вопроса подойдёт ли он нам по аппаратным ресурсам и Как видите на графике это минимальное то что требуется для запуска ноды всеми необходимыми экспорт агентами и всем прочим ну плюс ещ две тестовых джобы которые показывают там что экспорт в принципе работают это мы оценивали именно минимальные ресурсы которые потребуются не те которые возможны на максимуме потому что по документации нода их ресурсы чуть ли не безграничны можно внедрять ноды что у вас закончится скорее деньги Их внедрять далее интеграция в текущее окружение то насколько сервис подходит под наше окружение с которым мы уже работаем так как у нас уже был установлен стек хаши корпа у нас был консол у нас был волт то нам соответственно намного проще было интегрировать его в его родную среду его родного брата Так у нас появился номат безопасность реализации на данный момент я не скажу что это Именно его категоричный плюс Но для нас поясню это была именно интеграция с валто интеграция с политиками действующими о сил политиками и так как мы в принципе уже умеем их писать и у нас уже есть достаточно большой набор правил то проще было интегрироваться именно с номадов в данном случае но это не про безопасность Непосредственно как самого сервиса потому что Номад по умолчанию как и говорится в официальной документации не является безопасным Это я советую изучить кому интересно статей N где указано как и что с ним сделать чтобы он стал безопасным Ну Также нельзя коснуться нельзя не коснуться того как отличаются Community Edition версии от Enterprise Edition это в принципе стало более актуально в последнее время когда они стали менять шикор Стал менять политику лицензирования Но в основном Это для тех кто пытается продавать услуги по настройке этого сервера Ну или прочее с ним связанное основные отличия - это автоматической апгрейды это не имеется в виду как обновление непосредственно что он будет автоматически следить за своей актуальностью Это имеется в виду если вы внедряет новую ноду то новая нода получит именно ту версию которая ограничивается вашим мастером и за этом за этим следит как раз-таки Агент энтерпрайз Наго номада Ну автоматические бэкапы Я думаю Тут и так понятно у него просто есть свой своё расписание по которому он выполняет бэкапы и Самое интересное - это конечно динамическая масштабирование в данном случае это как вертикальное идёт масштабирование То есть он определяет сколько ресурсов можно накинуть каждому сервису при старте при его общей работе так как он отслеживает это жизненный цикл нашего сервиса и составляет для себя небольшое расписание которое мы можем либо ему разрешить автоматически применять либо он просто будет создавать нам уведомление то что Вот для этого ресурса можно поставить столько-то Ну столько-то ресурсов плане и мы можем согласиться с этим ну либо же отказаться Итак окун же поподробнее что же такое номат как вот начинается с ним знакомство Ну само собой знакомство с ним начинается всегда с инсталляции поэтому сейчас будем смотреть как мы поэтапно погружались в самую такую рутинную часть Ну раскатка кластера т у нас это всё происходит через абл Ну и так как у нас основное было чтобы интеграция в текущее окружение то так как у нас есть у нас есть gitlab соответственно есть репозиторий со всей конфигурацией в лабе Ну и мы раскатываем Непосредственно как и весь Ну как и Ко через раскатывают наши конфигурационные файлы при помощи пайла на сначала на сервер Потом соже примерно такая схема работы кластера Но это более-менее стандартизированная то есть у нас есть кол сервер который получает Все метрики все данные от наших экспортёров от наших агентов и прочее Ну Ино Master выбирается протоколом R 3 по согласованию Ну теперь уже R 3 он перешёл на последнюю версию ну и соответственно наши ноды получают джобы от мастеров которые алот их Согласно шаблону Какие же преимущества использования номада с консулом во-первых это Service Discovery Ну по сути это необходимость использовать консол для Service Discovery номада потому что Т не умеет по умолчанию рить свои все сервисы это нужно делать вручную составляя список и прочее далее ну единая точка мониторинга всех наших приложений так как они все всю статистику Ну и задержки там в принципе с консула агентом составляют миллисекунды там по-моему даже у него ограничения стоит что если в течение п а 10 секунд максимум период Да Тай джоба и только после этого он может её полностью отключить Ну соответственно 5 секунд - это для лёта алерта ну и плюс там можно их мониторить как хочешь потому что это всё по умолчанию Ну простота масштабирования Тут и так понятно потому что это просто бинарки по сути их раскатать не составляет труда и через через конечно лучше интеграция с формо но мы пока ещ в эту сторону не смотрели Можно также развернуть такую тестовую схему чтобы просто пощупать номат посмотреть как вообще всё это работает она вполне позволяет на минимальных ресурсах аппаратных поиграться с политиками поиграться с политиками выкатки наших приложений ну их дунга так сказать и вполне можем ознакомиться с нодом плюсы в таком случае это масштабирование так как раскатать новую ноду не составляет никакого труда мы просто запускаем наш пайплайн который как вот ранее я привёл и добавляем соответственно новую ноду и определяем ей notp notp - это нововведение ранее его не было это что-то типа более точного разграничения вместо тегов и в купе с нейм спейса наши ноды делятся на те которые могут например принимать какие-то джобы какие-то нет например на ту же р НОД могут какие-то джобы не прилетать потому что они там сугубо тестовые и за тестовые отвечают к примеру две ноды Только только мы им выделяем и оно всё залетает только на них ну вывод из кластера просто осуществляется очень просто в два клика по сути мы делаем ноды И как только все наши акей переезжают на другие ноды Томы можем её смело выводить из кластера обновление нут тоже Как видите ничего сложного нен что мы должны где-то этот бинарник сохранять потому что ну брать из интернета это ненадёжно можем не получить к примеру новую версию какие-то биты файлы Поэтому лучше их хранить в каком-то реджистер АБ новую версию нашего бинарник и загружаем сначала на сервер Потом на клиенты рекомендует в документации именно делать так Потому что таким образом мы не ограничиваемся функционалом мастера иногда бывают случаи если обновить К примеру клиентов до новой версия мастер останется на старой и были какие-то функции выпили то может кластер просто остановиться Ну он не развалится он просто остановит свою работу Ну соответственно как мы интегрируем это всё с лабам Ну интеграции Как таковой конечно же у него нету gitlab environments не будет видеть всё равно Но как это было например с тем же куром но можно выкатывать приложение соответственно мы Build App - это ну стандартный Stage просто билдим какое-то приложение удобным нам способом Ну потом blue green Definition это мы к нему вернёмся это фишечка которую пришлось придумывать э далее У нас ну Build Image соответственно тоже Останавливаться не будем Потому что это просто создание образа Кому как удобно может кто-то не использует образа к примеру Ну и render to deploy in nomad Итак blen Def зачем нам это нужно но в принципе если мы даже например какую-то Джоб обновим он получит шаблон состояния он не перезапустить его по умолчанию если ничего не изменилось соответственно если у нас образ не менялся но мы поменяли какие-то настройки то в некоторых даже версиях но был глюк когда ты принудительно ставишь ему перезапускать эту Джоб подгонять под новое состояние он вс рано не перекачивает об ничего Поэтому при при это чтобы это не было версионирование потому что версионирование нам не подходило оно будет слишком много места занимать Ну грубо говоря на диске там образа будем выкидывать там раз там ну грубо говоря 10 образов в день и уже слишком много их получится поэтому пришли к выводу что нам достаточно два тега BL и Green и соответственно нам больше откатываться чем на один й не нужно нам это Вполне устраивает И у нас получается всегда есть два образа которые уже в данный момент есть загружены на каждой из ноги и мы можем с лёгкостью откатываться Ну Ван это шаблонизатор что-то утрированно похожее на м ну может быть даже будет и лучше в будущем когда его будут обновлять Хотя сейчас цикл обновления леванта именно в репозитории довольно странно выглядит потому что он не подгоняется под версию текущего API и если появляются какие-то новые функции в том же номаде то Ван их не видит и соответственно все ваши джобы Если вы вдруг Обновили Маст до новой версии будут падать ничего не пройдёт внот потому что Ван не знает ничего об этих командах но здесь по сути просто стейдж который у нас есть в лабе для того чтобы получить набор переменных из предыдущих шагов выполнения билда и загнать это всё в шаблон Ну соответственно мы к этому стейдж ещё вернёмся Так выглядит шаблон пример шаблон это вырезка не весь шаблон шаблон вообще может быть довольно большой ну его можно в принципе делить на части чтобы было проще потом склеивать в один Ну соответственно здесь просто прилетают все наши переменные которые Мы собирали на предыдущих шагах и всё это Валиди ется отправляется внот как это выглядит примерно так что мы собираем на предыдущих шагах наши эвы И как только мы набираем необходимое количество Ромен отдаём это ванту Левант рендерит Валиди ет отдаёт ноду Номад ещё раз Валиди ет и запускает на расписание нашу Джоб альтернатива lant вот недавно тоже появилась от номада Лейн шаблонизатор встроенный внот Ну единственный его минус то что он не позволяет автоматически менять Эти шаблоны Эти шаблоны можно менять только вручную Но работает Это конечно быстрее потому что по сути ему нужен просто набор переменных Он все он пропускает соответственно Сюда можно вешать что-то такое что не требует частого изменения конфигурации например Ну тот же балансировщик или там какие-нибудь базы данных ну клиенты Ну теперь чуть-чуть поговорим о том как мне лично было переходить с кубера на номат Ну естественно когда-то давным-давно я работал с куром уже не помню Даже Какая версия но впервые встретился именно с ним поэтому нома для меня был ну таким интересным выбором которому пришлось прий меня удивила работа с сетями то чтот в принципе не позволяет Ну вообще никак работать с сетями То есть это всё делается исключительно на машине там даже порты по умолчанию нельзя выделять одному одной таз группе несколько портов Нужно вставить плагины дополнительные что довольно неудобно само собой сайт кар поды это было несколько удивительно их работа Но к этому мы ещ вернёмся чуть поподробнее шаб соответственно у нас проблемы с версиями которых я уже говорил что образ по сути Ну единственный способ нормально автоматизировать выкат он не обновляет версию API и нужно собирать свой образ и следить за его актуальностью ну либо использовать на сборки Но это в продуктовой среде очень плохо Ну отсутствие до версии 1.0 до версии 1.0 это всё было в тестировании для ED версии Позже это вклю неред шну версию раньше можно было отделить это ВС тегами Ну деление на дата-центры Конечно же присутствовало это никуда не уходило отсутствие скалирование контейнеров Да это всё в принципе либо платный функционал если нужно например вертикально горизонтально опять это всё упирается в плагин отсутствие по сути Это не то что их Именно отсутствие это что МТ в принципе на это как бы не бьёт по сути у него это есть это можно использовать но опять же при помощи Докера там можно вольюм прокиды Сам он умеет делать волюма но у него было ограничение когда мы пользовались Именно его функционалом то что можно сделать одну на одну ноду одну allocation с волим нашим То есть если у нас несколько тас групп которым нужны разные воу то подключить Их уже нельзя потому что шаблонизатор уже выдавал ошибку Ну с этим как бы мы разобрались и дальше мы столкнулись с парочкой проблем которые были Ну достаточно неприятны потому что во-первых номат именно вот в плане каких-то новых фич и прочего слабо документированной например мы столкнулись Почему мы вообще его решили обновлять у нас была у на есть у нас есть соответственно дж который мы выкатили и мы хотим откатиться мы запускаем ДБУ для отката нашего акена и ничего не происходит ни ошибки Ничего Ничего просто ничего не происходит соответственно начали смотреть логи в логах номада ничего нет всё он отправил команду всё хорошо оказывается Просто у них бы Бано койдан не кушал его и получается он его просто не видел соответственно Да у нас есть легитимный токен которым мы эту Джоб и запускали но работать с ним нельзя Ну естественно Обновили версию как было указано что вот в новой версии мы это пофиксили она переходила с рафта третьего со второго на третий Ну соответственно всё нормально обновилось баг конечно же не пофиксили обновляли тоже несколько раз но Что произошло с переходом на в третий по идее он должен был пересобрать нам базу данных и все ноды соответственно восстановились Всё хорошо да запустило Но управлять кластером больше нельзя потому что рутовые был потерян он его перег нери заново а так как мы не инициализировать кластер заново то он его и не показывал нам соответственно Ну мы-то откатить всё смогли но Фишка в том что да обновлять нот нужно это критично но бывают иногда приколы вот с такими вот жёсткими переходами поэтому здесь лучше просто поднимать рядом ещё один кластер мигрировать на него же на свежий А этот тушить проблемы с API вот я не раз об этом говорю потому что они в принципе меня всё время подст обновлять какие-то образа потому что вообще сложно но все плагины практически все плагины они вышли в отдельные репозитории теперь их не H корб разрабатывает они как бы просто коммьюнити либо ещё как-то и новые версии под опиш поднятся прям очень-очень туго поэтому приходится всё держать либо у себя какие-то образа что не очень хорошо Но в принципе жить с этим можно отсутствие работы S Location нельзя было ранее вот к примеру но сейчас опять же это уже не слишком актуально Потому что есть обновление в котором можно добавлять переменные на горячую непосредственно внот но ранее этого тоже было делать нельзя Нужно было каждый раз рестартов что всё бесшовное оно нам не особо критично но так нельзя было и работа кстати вот Сайка подов тоже немножко ещё этого косм она перехватывал на себя алёрты консула то есть так как в этой тас группе был запущен последним именно вот какой-то наш Сайка процесс то он считал что это и есть основной хотя он был чётко указан в шаблоне что это пост Старт процесс и соответственно он на него перетягивать все алёрты И когда процесс успешно завершался потому что мы грубо говоря выполнили какую-то функцию которую была нужна и он ну потушил всё актуально всё нормально кол выдаёт нам Ар что сервис недоступен но при этом сам сервис основной естественно работает потому что с ним-то Ничего не случилось но это тоже решилось потом путём нескольких обновлений Ну и они переделали немного работу с Сай карами в принципе уже нормально Ну отсутствие возможности скалирование Да к этому мы ещё вернёмся что в принципе опять это п ИП посинь с текущим и работать с ним сложно и при одном каком-то обновлении можно потерять например свой Автокей по безопасности естественно легко интегрируется сватом Это просто пример такой конфигурации для записи в сам вол непосредственно и соответственно у нас пример конфигурации на мастер ноде ну здесь Единственное что хочу пояснить что токен не обязательно прописывать непосредственно в конфигурации его можно добавить переменное окружение и он будет считывать его с нашего защищённого уже так сказать защищённого хранилища То есть он не будет нигде напрямую виден понятно что его можно в конфигурации всё равно брать из волта но просто на всякий случай в конфигурации его делать видимым не стоит Ну и вот так выглядит шаблон для леванта мы получаем все наши секреты ну и соответственно используем их во время билда нашего приложения Ну или далее Ну Сай Car кубера понятно что мы получаем функционал который нам необходим расширяем его storage Interface и сетевой интерфейс можем общий использовать Ну я естественно с куром сравниваю по тому что раньше я с ним работал и в принципе для меня не было проблемы использовать сакара но в номаде немножко по-другому S Car он как просто дополнительный процесс то есть Сайка это не является расширением текущего Мейн таска он всё равно входит в одну группу акена но при этом это не является Ну продолжением нашего текущего пода То есть получается что в данный момент наш вот этот Сайка процесс является просто отдельным подом который просто запущен в одной тас группе у них разные порты соответственно у них может быть разный сетевой интерфейс потому что они наполняются из разных шаблонов и для пайплайн которые мы наполняем для одной таск группы Ну бинарки когда-то мы с этим работали тоже там было несколько проблем но мы с ними жили нормально В основном бинарки Почему мы начали использовать потому что нам нужна была скорость но были соответственно и минусы начнём с них потому что их как всегда больше это необходимость контроля окружения на самой машине Так как если мы запускаем бинарник номат по сути просто его запускает как процесс и вс окружение на машине уже полностью на наших руках позволяет как-то его в шаблоне менять под непосредственно запуск нашего сервиса э проблема с драйверами тоже иногда встречалось к примеру какая-то устаревшая операционная система Ну для вот какой-то обновлённой версии номада и Может вызываться ошибка с совместимостью с текучей файловой системой тогда соответственно у нас джоба падает но ошибки опять приходится искать не у номада а в файловой системе в нашей операционной системе в которой всё это запускалось стою машину естественно придется настраивать по безопасности отдельно не позволяет как-то работать с сетями и прочим поэтому все наши сервисы мы сами обезопасит ветственно настраиваем порты Куда могут ходить куда Нет ну и прочее версионирование би Нарни об этом тоже Стоит подумать самостоятельно но не ставит версии и можно там например нито но плюсы казалось что это будет биться быстрее да по факту Оно так и есть потому что всей джобы получается остатся только выкатка би нарника непосредственно из Ну и было удобно реально работать слонами по типу как сакары потому что мы само собой в одну какую-то нашу таку добавляли дополнительную Джоб и оно всё работало либо с одним сетевым интерфейсом см что было достаточно удобно ну после пары обновлений N мы от этого отказались потому что теперь Т всё-таки Пусть и с какими-то оговорками но позволяет всё это запускать и с контейнерной нагрузкой Ну многопоточные тесты мы начали использовать нома также для распараллеливания нагрузки на наши тесты соответственно с базой данных грубо говоря вот этот пример у нас есть три клиента которые коннектятся к одной базе данных Соответственно по скрипту Она из каждого из них получается набор индексов который необходим для расчёта той или иной задачи того или иного теста и по завершению всех тестов с каждого клиента мы получаем готовый файл все эти файлы потом склеиваются в один общий индекс и мы получаем результат нашего те тестирования В чём преимущество то что мы не опираемся в производительность одной машины Ну это понятно но также сколько у нас поднято этих mysql копий айнов и соответственно мы выигрываем в скорости и по ресурсом она более сглажена распараллелить я даже не припомню таких случаев но у нас есть соответственно дашборда на которой мы следим за показаниями всех наших сервисов наших непосредственно НОД но следить за ними - это одно Нужно же как-то с этим и работать Ну для этого есть конечно autoscaler плагин но у нас есть проблема с API А так как мы регулярно Ну более-менее регулярно получаем новые фичи в номаде и скоро будет добавлен Ещё целый набор нового функционала то обновлять N всё-таки преимущественно Ну хотя бы де какую-то среду чтобы тестировать всё это и потом в дальнейшем может как-то использовать и продуктовый потому что нот в принципе последнее время стал обновляться очень хорошо но это у нас не получается с автором поэтому пришлось делать опять же что-то своё Ну полегче но попроще и побыстрее Ну в принципе цикл опять тоже завязано всё на лабе то есть у нас есть номат на котором крутятся экспортёры экспортёры Пересылаю все свои данные Ну в фану в эти дашборды наполняем в фане мы вешаем Арт на то что нам интересно к примеру какой-то ресурс который мы отслеживаем и если он подходит к какой-то критической точке то в течение какого-то времени если продолжительная нагрузка не спадает он дёргает webhook в тла gitlab запускает Джоу так вот выглядит тело вебхука то есть мы получаем набор из переменных это имя нашего локейшен То есть это джоба которая при приписана в тас группу при этом таск группа уже аллоцировать ноду в таком случае это считается запущенным Кейном его ГП Space и количество сколько у нас копий должно быть ещё развернуто сверху Ну естественно всё здесь должно быть заранее известно сколько мы можем запустить на какой ноде На каком кластере В каком дата-центре потому что в противном случае запустив лишнюю мы можем уронить весь кластер Поэтому нужно с этим быть аккуратно но потом можно отслеживать сколько количество нам нужно запущен потому что к примеру если это нода уже нам Ну не нода а под дополнительный под который мы запустили уже не нужен то его можно соответственно потушить ну оно всё безшовна происходит Ну это вот примерно так выглядит в лабе мы просто получаем наш запрос и парсим его получаем набор переменных который нам нужен подставляем в команду по сути всё отличие с плагином это толь то что нужно писать дополнительный скрип который будет работоспособность текущих сервисов и проверять работоспособность вот этого нового пода если он нам например уже не нужен то его соответственно можно и потушить Но это можно по расписанию делать но мы Для этого используем эти кроновский но новый функционал Так что же лучше или вопросы которые мы хотим закрыть То есть если мы взяли в начале доклада вот эти три вопроса аппаратные ресурсы текущие окружение и Безопасность вот мы на них ответили положительно Поэтому нам в принципе номат подошёл Но это опять же не говорит о том что он подойдёт всем равно как и кубер потому что нужно решать вопросы которые мы поставили теми средствами которые нам удобоваримый момент нас всё устраивает в принципе всё Спасибо у нас будет два приза за лучшие вопросы один от компании другой от партнёры конференции гос пров нефть поэтому Давайте задавать сложные интересные и полезные вопросики доклад Сам Очень много работал с нодом и вот у меня такой вопрос а не решили бы проблему параметри Зро ие джобы с леванто Я имею в виду то есть использовать параметри Зро ие джобы вместо генерации шаблонов Ну мы пробовали так использовать но так как у нас очень такой получается большой стек выходки Job и писать для каждой параметр отдельно в принципе трудозатраты одинаковые поэтому мы решили остаться на этом функционале чтобы покрыть все наши возможные выгод так как это используется Ну разными отделами грубо говоря а шаблон можно Один на всех спасибо Здравствуйте меня зовут Михаил Спасибо за доклад Я всё же хочу понять Вы выбрали номат потому что он по аппаратным ресурсам вас устраивал ВС Ну основное было вки инте текущее окружение то есть с нашим консулом с интеграция С Вольтом и в принципе вот именно это и было основной точкой упора То есть то что у нас уже есть понимание Как работать с этими политиками CL и нам хватало Именно его функционала который нам даёт на данный момент функционал например кубернетес нам будет излишек вома ну в чём-то недостаточен ном Это оказался такой золотой серединой А так как он по ресурсам ещё и не требовало больших каких-то вложений то по сути из тестового он быстро развился в дев и далее пошёл просто у консула и у волта интеграция сбером тоже есть Да есть но они чуть-чуть посложнее там интегрируются плюс Ну да я бы не сказал что прямо особо сложнее но здесь по сути это делается одной маленькой конфигурацией и всё спасибо Здравствуйте Александр тоже работаю Сейчас последнее время с нодом У меня вопрос парочку вопросов будет ээ первый вопрос по поводу BL gre blue green deployment То есть почему вы используете его к примеру в n можно использовать для каждой джобы Мета rid и тогда при каждом деплой даже если в джобери Ну вот мы пытались это использовать но в шаблон не пропускал но у нас была проблема в том что мы ещё тянули N с версией ноль каких-то там Поэтому мы вот на этот баг попали с невозможностью использования токена для консула хотя у других людей естественно Их не было Я сколько пытался посмотреть нет у всех этой проблемы не было эта проблема была у тех кто тянулся ещё с каких-то версий где только вводился какой-то функционал Вот например с токенами соответственно это у нас тоже так как вот это у на сработало Мы в принципе с этим дальше и работаем и вопрос по поводу к примеру Ванта зачем его использовать То есть у нас в работе это всё рисуется прямо из лаба То есть те же шаблоны но можно рисовать с лаба довольно-таки спокойно и Ван Вроде как мы его пробовали использовали нам не понравился тоже по причине того что устаревший Лам Отлично всё рисуется так же Ну да мы тоже использовали функционал и просто отправки непосредственно джобы в т чтобы сам Т её валидировать уже после того как получает готовый уже Но пока на него переходить не стали возможно в будущем вернёмся к этому потому что версию API иванта поддерживать каждый раз вручную Это довольно затратно и не особо смысла много потому что по сути новый функционал который мы получаем мы можем просто сразу уже внедрять непосредственно через gitlab и сразу отправляет всё это внот и он всё работает Поэтому да это я думаю наш следующий шаг будет уйти от леванта Спасибо Здравствуйте спасибо за доклад Вопрос такой вы сказали что полностью перешли на бинарник Да ушли от докер образов но как вы в данном случае решаете проблему если вам нужны какие-то дополнительные библиотеки вы их ставите напрямую на клиента потому что в докере это можно зашить Да и использовать напрямую ва быва ТАТ ванную нагрузку потому что у нас как раз таки и были с этим проблемы То что каждое окружение должно было по сути находиться на какой-то отдельной ноде чтобы оно не пересекалась с другими чтобы не было конфликтов в приложении и мы изза этого ушли а в бинарник мы используем только какие-то EX крон Job грубо говоря то есть это мы просто по расписанию запускаем Джоб которая скани нам вот эти Новые контейнеры которые поднялись если на них ресурсов какой-то время нет то их соответственно можно тушить Ну либо в автоматическом режиме либо он уведомления присылает то есть мы оставили только такое там в эк драйверах понял спасибо Добрый вечер Меня зовут Александр Спасибо за доклад А вот подскажите не рассматривали Как вариант замены леванта но Модпак он тоже не особо развивается конечно у них Но в документация они якобы говорят что за ним будет будущее А типа Ван у них есть в планах вывести Нет не рассмотрели в эту сторону но надо глянуть как раз это следующий этап у нас будет переход и вот на что перейдём посмотрим Угу И ещё вопрос а реализовали ли динамические секреты волта интеграцию Да динамические секреты лта мы реализовали соответственно это у нас при логина используется например к клиентам номада если нам необходимо написать какую-то политику мы можем получать секреты из волта то есть наш токен который генерис лто сразу подхватывает под эту политику нодом и соответственно у нас проходит аутентификация по вот этой политике а именно для баз данных делали Ну то есть для поса например чтобы шёл получался р Pass автоматический и более того чтобы это Лось за Да време для psql Да делал но мы это не используем как общий функционал задача стоит сейчас больше это всё связать с mysql но с SQL да естественно можно мы делали и нормально работал то есть юзеры жили и провались не всегда там были проблемы с политиками Ну возможно это опять же какие-то обновление версии но мне кажется это что-то было с политикой Угу спасибо на того что от вашей компании тоже подарок Ну тогда у нас подходит самый важный момент когда нам нужно выбрать э лучшие вопросики А как е этот подарок передать Он просто в нас ухл не я думал передали мы можем вручить один или о не сейчас мы уточняем сколько у нас призов сейчас Ну пока давай выберем кого-то кто будет в общем подарим первый подарок и ещё подарим потом ваш когда решим вопрос Ну мне понравились вопросы которые были парными вопросами поэтому первый подарок и второй соответственно Хорошо давайте подарим первый первый подарок вот здесь вопрос а со вторым Сейчас уточним в кулуарах и всё организуем Ну на этом Владимир Спасибо за доклад было очень интересно спасибо"
}
{
  "video_id": "zfGI2Rqyp50",
  "channel": "HighLoadChannel",
  "title": "PostCSS: будущее после Sass и Less / Андрей Ситник (Злые марсиане)",
  "views": 573,
  "duration": 1415,
  "published": "2017-07-06T00:40:26-07:00",
  "text": "она очень хорошо когда вас примесь но если у вас есть хоть какая-то логика та работа с массивами так далее это превращается в ад и именно поэтому появился пост css для решения всех этих проблем но пост с с был не первым дело в том что в три года назад 2020 году то деле хотите же ехала щука самим ставится choco писал половину но ты мне не можете использовать прыгнуть на ноги не использовать его модули и вот в тот момент три года назад он разрабатывал стайлз но какой-то момент понял что вот вся архитектура в птф она кончилась у нельзя дальше расширять он столкнулся с вот этим всеми проблемами и понял что эти проблемы архитектурные именно поэтому он покинул проект ставился начал свой проект и в 2013 году он его помощью анонсировал а это проект сборка вот в этой статьи модульный цсп processing как раз тогда я искал какой-то инструмент для того чтобы сделать авто при фиксер и когда я почитал по статье был поражен потому что то был действительно революционный подход он менял все и поэтому первые версии авто про фиксера базировались на руки но к сожалению вор был такой как бы прав концепт это было такое первое поколение что вообще такое что это работает поэтому конечно же мы жестко for ткнули его переманили всех разработчиков устроили маленьку революцию и сделали пост css пост css это второе поколение модульного процессора так что это такое наконец-то можно погодить а с мяч по сути что такое пост css пост с это модульный препроцессор в ядре которого очень простое ядро состоит из двух вещей первый этап орсер парсер на вход принимает цесса строку и на выход выдает такое дерево объектов java скриптов ских ну а эстер относились к и дерева и стринги fair несколько то привести к сожалению остенде фар он делает обратную вещь он на вход получает вон та абстрактное дерево видео объектов и на выход выдает новый css но по умолчанию вот ядро пост с с он очень удобно очень полезно не делать нечего а она вот берет парсит ваши css а потом обратно превышает его строку esprit повышает так что ускоряется в байт в байт даже пробельные символы поэтому вся магия находится вот в этих плагинах что такое плагин площадка функция обычная воспитывая функция которая на вход принимает в то а если дерево проходятся каким-то узлам что-то ищет что-то меня есть что-то добавляет и вот измененная дерево возвращает обратно и вот из-за ли змеиное дерево идет следующий плагин такая цепочка получается а в конце вон тот магически стринги fire который бьет от это измененное дерева и сохраняет его в новую строку и генерируют карты кода но source bp ну он либо генерирует новые либо обновляет старые ну как говорил торвальдс покажите мне код потому что мы все программисты код это важно как-то выглядит пост css это and m библиотека мы грузим using м далее мы создаем instance создаем объект процессора и передаем эти плагины которые были на прошлом шаге и все мы берем и вот через этот процессор прогоняем наш css и получаем результат с помощью promise о котором вам рассказывали сегодня утром все вот весь процессор ну это легко интересная примеру вот пример плагина будет интереснее потому что там сок и сок помните я рассказывал про то что в процессорах нельзя сделать полифем для и дети измерения давайте напишем его на пост с с прямо сейчас ну значит плагин эта функция которая на вход принимает css нот на вход принимает дерево объектов но вот будет с переменной css далее у этого дерева есть таким волшебным функций чтобы вам было удобно программировать есть итератор по всем свойствам внутри ну рекурсивный и вот мы берем и проходимся по всем свойствам то кстати заметьте с5 и с6 потому что есть пять ужасный язык не половина слайда вот значит мы тренируемся по всем свойствам и берем ищем свойствах значение р м и заменяем его на пиксели все закрываем скобочки потому что нас сожалению не кучу скрипт вот это весь код который нужно написать чтобы сделать такой базовый полифилы для рима значит давайте еще раз в чем разница как вы все нужно знать кого убить и кого нет зажимы точный критерий где препроцессор где пост-процессор препроцессора он монолитный все функции встроена в ведро перемены и примите все это там внутри весь синтаксис а вторая вещь у вас код прямо вскрик в шаблоне вас полноценный полноценный язык программирования там пост css наоборот с css все виде плагинов ядро не делает ничего а второй момент у вас код и стиле отдельно вот памяти когда вы писали плагин это был отдельный файл и получается что у вас код в нормальном языке программирования раз kitty от с отдельно в css и почему это так важно потому что эти плагины реализует у магическую вещь эволюции вот вам приходит к это безумная идея и ваши друзья над вами смеются вы берете и реализуете ее виде плагина какой тампер новый метод оптимизации и публикуете его на твоём служении продолжаю смеяться потому что ходить из go находить но как минимум некоторые люди понимают это начинают это использовать начинают это проверять и в них получаются их больше грудь на работу этих над вами smells валяют и через некоторое время остается так что большинство пользователь пользоваться вашим плагином не потому что идея красивая потому что она реально работает на практике и когда у нас есть популярность можем прийти вы же в 3 c либо написать или черновик либо попросить кого-то другого сделать спецификацию потому что делать спецификацию когда у нас нет у кого-то реального практического применения нет практики никто не знает работать лето либо нет никто не будет но если у вас есть популярность вы пишете спецификацию идете нас новый круг снова унижение слова новый плагин и подобное но это была теория современно наука говорит очень правильную вещь теория не значит ничего без практики любая идея есть носитель на работает у нас будет реальный плательщик результат у нас будет что-то если процесс сработает значит он будет лучше препроцессор начнут будет какой-то что-то живое чтобы потрогать давайте посмотрим если это ну первое само собой в пост css есть переменные это несложно есть вложенность тоже несложно сам пирс андам как все любят потому что бы само собой с примесью все достичь и другое но такое же но вот еще можно момент все это сделал виде плагинов и переменные и вложенность и примеси например для переменных есть два плагина один плагин реализует старый добрый со стиль а до гор реализуют синтаксис в c not которой с с кастом попретесь но второй важный момент это то что он невероятно маленьких например вложенность это всего лишь 60 строк обычного джаваскрипт кода вы можете взять и исправить это а если я откажусь это понять вы можете взять и фыркнуть совершенно не проблема в и за день можете сделать другую вложенность но пост с это не про то что делать работу со со модуль на потому что она тоже не так круто модульности модульность hookers главный вопрос а можно ли сделать больше можно ему и сделать кучу совершенно новую магию и вот of the prophecy главный пример то есть вы просто пишете обычный css авто прессом но у него есть база данных и анализ он сам находите свойства которым нужно добавить которым нужны именно сейчас префиксы добавляет их при этом делаешь всякую чем сложную магию но автопрофи circa все знают думаю более интересный пример css никс кто использует богов или trassir ну что писатели 6-ти маловато используется очень хорошая вещь то есть в java скрипте прямо сейчас можно использовать тот java script который еще не в браузерах будущий и у вас есть компьютер который копирует его в текущей было бы круто сделать это все в cs оси у до 1 из 4 там куча новых вкусных вещей например вот и можно объявить свой дополнительный селектор кастомный ваш личный и использовать его его для этого у нас есть css next css никс этого transponder вы пишете cs4 прямо сейчас она компилируется в в css3 итак вопрос о том что невозможно сделать насос кроме в кастомных селекторов у вас на примере с переменой попытается которых я уже говорил есть автоматизированная функция работа с цветом и в том числе и всякие очень удобные сокращения прямо сейчас можете прийти добавить но вот так будь страшная история китай огромный рынок много денег все дела но там творится ужас там до сих пор популярен c я 7 8 и даже 6 это ужасно а деньги хочется поэтому например китайская компания alibaba она написала плагин css грейс это как css никс только наоборот он и не из хорошего делает средний кот а он наоборот из среднего делает плохой код она проходиться по вашему css и находите свойства которые не будут работе вашими е и заменяет их на хаки это немножко похоже на примеси но почему это круто я почему-то не важно что это невозможно нас асия потому что с примесями вам нужно помнить что где нужно написать примесь вы должны помнить что opacity не поддерживается а тут вы просто пишете и не думайте об этом оба за вас думают китайцы миллиард китайцев в кроме того новым в центре магии со свойствами можно делать магию с коллекторами вот есть жуткий хак как-то говорил не нужно произносить хватить и ку-ку ирис ногу cars а главный факт это вот например было бы круто сказать что вот если у нас четыре элемента в родители то давай мы сделаем ширину 25 процентов а если 5 до 20 и это можно сделать прямо сейчас как жуткими вручную писать не будете но с помощью этого плагина для пост css он добавляет вам дополнительно селектор или вот другая вещь то есть это все было про то как писать код этапа то как делать код ну чтобы ваш закружился быстрее вот есть спрайт а есть вещи штрих-кодирование онлайн картинок и у них и свои плюсы и минусы вот было круто объединить их вот пленэре у вас разрастается ваша css и получается что правитель заходит на сайт паком картинки не загрузят за и раненый в css он вообще ничего не увидит это плохо globe круто если будут начали загрузился дизайна потом картинки и вот для этого есть волшебные плагин написан русским дата пакир он проходится по вашему css и находит все картинки за и раненые и выносят их в отдельный файл поэтому он обнаруживает что два селектора используют разные одинок одну и ту же картинку и обвиняюсь эти селекторы и в итоге когда пользу заходит на сайт он быстро грузит маленький css дизайна во потом долго грузится с картинками удобно то есть добавлять один плагин прямо сейчас ваш сайт становится быстрее а вот интересный момент кто поддерживает ее 9 кто поддерживает людей у которых цветовая слепота проблема в том что людей которых не видят цвета их пять процентов а пользователи и есть старых меньше и это очень важно поддерживать вот нужно понимать что это не черно-белое зрение да то есть все эти шутки про светофор это не продовольствие по ту вот например вот так и будет здоровый человек а вот так человек весы удовольствие по той увидите что кнопками хуже заметно это же тестировать и с помощью после со тестировать легко вот есть плагин выводу во время разработки например делайте обычный билд и еще один build добавляйте в плагин этот плагин проходиться по всем цветам вашего css и заменяет их на цвета который видит человек с различными типами цветовой слепоты конечно же есть более удобные инструменты но мы понимаем что если вы не используете более удобно инструменту значит они вам не подходят а вот с помощью этого можете проверяйте сайт для людей с цветовой слепотой вот используя вот эти все простые инструменты ну либо вот еще интересный момент что после сможет использовать не только чтобы изменять ваш css ну и для того чтобы его проверять вот например twitter-а используют пост css для своего лимпера своего бима но это не очень клёвый линдер потому что он простой ну как все винтер которы может быть вы уже используете а вот если крутой литр это дуа юз обработка толпы фиксер только руками линейка бед по пальцам он хранит в себе к на юз ну базу данных к на юз пробегается по вашему css и находит что например чувак вот и мне сказал что ты их ешь поддерживать а вот users to locate не поддерживается и я ты точно уверен что и ты вы должен был написать это очень удобная вещь но вот это мой самый любимый плагин так выгляди кипения на иврите почему потому что евреи и арабы пишут в другую сторону это очень старое письмо а дело в том что вот почему будущее вон там будущее вон там потому что мы пишем вот так а если вы пишем другую сторону то будущее в нашей голове будет вон там и поэтому прогресс бар для евреев и арабов должен идти в другую сторону и это касается не только прогресс бар это вообще письменность влияет на восприятие пространства и вот что будет если вы возьмете гила в рабство и заставит завершать им сайте вы же не будете поддерживать две версии стилей одну для запада аудитория другую для арабской и вот поэтому парни сардана он вроде него гири слава богу он написал плагин который прогоняет но вы прогоняете через него css и он на ход он заменяет лет нора it right на лифт он заменяет предок martynov и вот вот такую штуку он генерирует сам то есть на вход обычно википедии на выходе википедии отзеркаленная вот это мой самый любимый плагин который покажет что невозможно на css на ассасин сейчас я вам рассказал только про те плагин который прям совсем невозможно соси чтобы шокировать на самом деле у вас очень много разных плагинов которые надо более полезны просто не настолько круто выглядят а я потом дам ссылку на презентацию и вы сможете на зайти на наш гид халип смотреть все плагины там много интересного много всякого физического сахара оптимизации расширений языка поддержки старых браузеров и поддержки будущих браузеров но вот из очень сложный вопрос я показал вещи которые можно делать пост с с которой невозможно наса себя постоять может быть гораздо больше это невероятно более мощный инструмент но возникает вопрос а может ли более мощность уметь быть быстрее потому что ли пса сделали невероятную вещь вот с помощью оптимизация на синий очень быстр и можно ли переплюнуть результате писаться ответ да это главный пример почему пост почему модульную архитектуру это круто я так важно потому что модульная архитектура и очень легко оптимизировать у нас куча маленьких модулей можем понять что вот наш тормозит этот модуль и взять и его оптимизировать и поэтому пост css написан на java script в четыре раза быстрее чем lips as написанный на psy + + это к вопросу о том когда бы каннер будет говорить вам о том что давайте перепишем сюда see the быстрее нет ни быстрее то есть давайте еще раз такие преимущества пост css почему она лучше чем счас 1 она гораздо быстрее то есть даже если вы довольны скоростью lips оса используя пост с вы можете сделать больше вещи вы можете делать куда более сложной оптимизация это огромное пространство вторая вещь это модульность вы можете взять и ford проект вы можете взять использовать разные идея а третья вещь самое важное что пусть css больше чем счас вы можете на просто создать любую фичу которую есть сосин на сайте вы не можете сделать большинство фич которые есть пост с оси не обманул вас в название доклада говорилось что просто цитата будущее после часа на самом деле это настоящая у нас уже прямо сейчас больше полу миллионов загрузок в месяц скана usa огромная аудитория поэтому если вы боитесь по поводу продакшен ради не бойтесь у нас действительно мы проверяем пост css на огромная аудитория у нас очень большие компании пользуются нами по ул irish говорил что авто при фиксер способ css используется в гугле to a bow это крупнейший интернет-магазин китая они просто используют пост css разные плагин у них и пишет wordpress используют два плагина of the pressure тело css для арабская версия it with twitter он не просто использует пусть css а не какой-то момент просто взяли и выкинули лес у них используя только пост-процессоры только вот этот способ подхода кроме того пост с становится трендом вот например или 100 пар написала интересную статью об с процессорах о том что как пост-процессоры пост спасет нас от темной стороны процессоров и вот например как переписчики в нас лагерь up and freight разработчики автор книги счас для дизайнеров написал книгу написал статью о том как он расставаться с асами приходил на пост css но самый клёвый твит это конечно же bootstrap а bootstrap написали что они настолько вдохновлён и css никс там и мид это так понравилось что быстро 5 скорее всего будет на пост css сейчас он на лэсси а потом он будет нас оси об астане по собираются выкидывайте пригодится пост css то есть что я хочу чтобы вы сделали когда пришли на этих выходных домой первый момент если вы делаете какой-то интересный инструмент для обработки css подумать о том чтобы использовать пост css после осадка это гораздо лучше чем rox это понятно потому что hex попасная потому что лига xp они изменяют вам карты кода и подобные вещи второй момент препроцессоры вот например еще один перебежчик нас лагерь разработчика гарридо ну все touch новых примеси для реализации сетки lost который писал макеев в очень интересном твиттере веб-стандартов он перешел на постпроцессоры ему так понравилась почему потому что раньше нужно поддерживать три версии одну для ставился одну для леса другую для sas это очень было нужно понять зачем это делать он просто возьмет как out of the professor я видел что поднимали руки кто пользуется такими тех кто нас оси те кто надо вести потому что без разницы это же самое ему он взял записью пуст с его могут использоваться as пользователь с пользователя если вы делаете сайты делать инструмент и не используйте пост css добавть autopsy прямо сейчас это очень важно почему потому что google рекомендую только единственный инструмент для работы с префиксами это только пососи я снова инструмента гораздо хуже есть много причин почему второй момент если вы уже используете пост css на 5 для авто предки сара смотрите на другие плагины я советую начать конечно же с с next потому что реально клевый реально ну возможность писать на cs4 сейчас но кроме этого посмотрите список планет наверняка что-то понравится и вот третий четвертый момент если вы начинаете новый проект я не рекомендую выкидывать счас прямо сейчас потому что после сможет работать хорошо и после sasa зачем его выкидывать но если вы начинаете новый проект подумайте а зачем вам делать переменные вложенностей примеси на препроцессора пост с тоже это имеет если вы используете of the pressure зачем вам просить файл дважды просто добавьте переменные вложенности примеси в плену в паз css pride вашем авто профессором потому что ну айти же она она не по программирование тени проход потому что по-хорошему аську можно было сделано телеграме почему эти появилось сейчас потому что мы сейчас находится в том времени когда мы не можем решить задачей стоящей перед нами все задачи которым лишаемся сложнее чем мы не помещаюсь наш ум в этом идея эти айти эта борьба со сложностью а что проще два инструмента или один пометок один вопрос и после то можете вид хобби это кит капустой с css в действующий адрес презентация это в кант паблик вконтакте где выходят новости пост css а это сайдинг на сеанс таки клево влогом вопросы по дачников круто хотел спросить вот для оптимизации там с боишься 4 оптимизации связано это очень круто зам очень полезно но не превратится ли это все в анархии будут создавать свои свойства которые потом будут конвертировать какие-то новые классы и так далее а не будет ли потом такая хорош иерархия в ходе мы называем это плагин half a plug-in hal в пологий сделал hello да это хороший момент это главный начнет вопрос а идея следующая у нас уже есть решение первый вопрос то есть будет ли тс-с-с понятно потому что ну намешано разные плагин ты не понимаешь что будет использоваться какие плагины используются для этого css а первый момент это в том что у нас есть еще интересный проект пост css контекст плагин это эта штука как вот как в группе есть плагин которые делают работу а есть плагин который управляют другими плагинами в человечестве тоже то же самое в пост css из плагин который добавляет волшебную и трус контекст эти говорит что вот медиа выражение митя выражение собачьи правило директиву задаешь директиву и указываешь какие плагины нужно применить он только внутри этой директивы то есть ты делаешь явно как вампир с макросами кроме этого мы вот смотрим на грудь но очень боялись что вот куча плагинов каких выбирать как ими управлять нибудь и конфликтов страшно ведь но мы посмотрели мы сейчас смотрим как живет с общества к система гуль по и она работает то есть проблема есть но в реальности мы прямо видим что такой проблемы нету она где-то очень далеко гольф работает я хочу немножко себе дополнить вы говорите про там кастомные свойство этот плагин хило так далее вы видели в трасса утконоса страшно нелепые животное на это было был шаг в эволюции удалил эти отпустят все-все-все самый страшный отомрет же самом деле нет есть посмотреть на которых сделан биология вопрос уже снитесь прежде всего спасибо за отличный доклад меня вопрос по бенчмаркинга вот бенчмаркинг скорость работы и пост css вот эта скорость работы это все та же самое что умеет делать ли писал все правильно да ну я забыл сказать потому что само собой ядро поставите делать нечего делать и чего не может очень быстро давыдович марки там велась ссылка есть внизу можешь посмотреть проверить меня мы парсим bootstrap а после bootstrap а идет 100 миксина в 100 переменных 100 влажности и вот это время которая парсится вот это все это файл еще вопросы заходите на этот увидите меня на конференции спасибо"
}
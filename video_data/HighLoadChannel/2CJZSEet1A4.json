{
  "video_id": "2CJZSEet1A4",
  "channel": "HighLoadChannel",
  "title": "Как Mail.Ru и AT Consulting перевели профили абонентов Beeline на Tarantool / А.Дроздов, Ю.Гейниш",
  "views": 747,
  "duration": 2672,
  "published": "2018-01-16T13:36:46-08:00",
  "text": "в команде тарантула и так сложилось что я при время назад мы стали делать тарантул не только для mail.ru но и для других компаний и поэтому со мной сегодня мистер наступает не только встать из mail.ru group здравствуйте меня зовут юлия кенеш я из компании те консалтинг я системный аналитик практике грунт интеграционных решений расскажу про нашего клиента на наш клиент это компания вымпелком которое предоставляет услуги под брендом билайн по всей территории россии бренд всем известен все знают этого оператора знают что у него огромная абонентская база все знают его большую клиентскую базу компании предоставляют услуги мобильные фиксированные связь и любителей и широкополосный доступ в интернет компания динамично развивается и ежегодно запускает большое количество услуг сервисов и продуктов поэтому в 2015 году компания объявила тендер на создание системы которая бы позволяла предоставлять достаточно большой производительностью доступ к данным из источников из систем которые не могли обеспечить высокую производительность доступа к данным то есть это какие-то системы которые не предназначены для этого потребность такая есть собственно это должно было быть реализована с помощью разных механизмов в том числе кэширования данных и управления нагрузкой на это источники дополнительно требовалось но сама постановка задачи включала себя реализовать versio нирования данных это когда система клиенты могли работать с разными версиями схем данных независимо друг от друга то есть схемы позволяет изменениях то есть вы можете обновить систему источник менять не схему данных клиента при этом будут работать и другую схему это два разных клиента могут работать с разными версиями это позволяет быстрее реализовать какие-то продукты система планировалась как целевая для очень многих продуктов поэтому она спит высокую нагрузку а также соответствует всем корпоративным стандартам заказчика то же самое только более простыми словами в чем вообще соль очевидно ну представьте что вы огромная компания у вас очень много разных сервисов разных программных решений которые вас давно работают вы существует уже много лет какие-то из этих сервисов может быть уже невозможно меняй цели миссии изменим них очень сложно и вдруг вы решаете что вам нужно все объединить в один api для того чтобы отдавать их новым системам или возможно каким-то подрядчиком то есть вы должны сделаться полностью троли зации это первая проблема с которой столкнулся компаньон толку вторая проблема которая сказала юля очевидно что если все источники не тянут большую нагрузку мы видим на слайде а нам нужно раздавать данные с огромной скоростью таким образом просто напрямую дать доступ на не может без просто даже проксирование бы не сработало соответственно проблему как именно ограничить нагрузку на источник вы тоже должны были решить и разумеется третья проблема это версия нирования нужно было каким то образом учиться работать с разными источником кита умеет форсировать данных это нет независимо от этого вся платформа должна была работать абсолютно единым образом для всех систем чтобы это может было не фиксировать что мы предложили мы предложили тарантул в качестве кафедрой системы который сможет работать по любому протоколу в любой версии данных автоматически конвертировать версии из одной в другую кэшировать эту в себя и гарантировать всем сервисам что на них не будет выдано нагрузка более чем условно мы указали в конфигурации допустим мы считаем что сервис номер один этом слайде не может держать больше ста разок ты в секунду она вход у нас очень много но очевидно что платформой распределенный то есть он кластер и весь класс стр всегда будет знать сколько сейчас запросов приходит в этот сервис и в какой-то момент если их слишком много она их ограничить все чтобы я понимала примите в зале руки кто знает про тарантул хорошо тогда смысл в чем даром плод очень быстрая новая база данных многие могли про не услышат и только когда работает вот вы только например мы можем написать свой бизнес свое бизнес-логику на языке программирования поскольку нам недостаточно было просто складывается так сказать одномерные массивы элит apple и так это использовать стран то ли необходимо было хранить часов документы так вот для этого был разработан специальный модуль авра и возможность работы с афро схемами в таранто ли чтобы превратить его по сути в документ на хранилище кроме того для того чтобы не писать какую-либо дополнительную прослойку ну скажем на питоне или там нутром любом из cam-программирования для того чтобы не снижать производительность был написан мода для веб сервер engels который позволял проектировать и что-то по запрос непосредственно протокол тарантул идея вся в том что таким образом вы вообще не теряйте производительность и в принципе за и там тарантул новинский можно и престол сервиса тоже делать есть масса примеров на гитхабе как именно в итоге мы прошли ровно к той схеме про который я говорил вначале появилось платформу распределенное того чтобы выдерживать большие нагрузки которая могла использовать произвольный источник данных прямо в общем виде самом простом варианте это просто что т.п. сервис какое то это может быть какая-то прямо база данных который мы будем работать при а протокол то может быть и тарантул хотя не обязательно чтобы это был тарантул мы можем хранить данные в любой версии схемы может быть чтобы было понятней такой пример представьте что вы давно существующей компании вас много мобильных приложений и скажем какое-то мобильное приложение которого сделали в прошлом году используют как будто данные абонента да у нее есть имя и фамилия у вас все хорошо работает и сегодня вы запускаете новое мобильное приложение где вас появился еще номер телефона и не знаю координаты x y где он сейчас находится у вас есть выбор вы можете просто добавить новых полей запустить на мобильное приложение но вдруг почему так получиться что старый мобильные приложения сломается и вот в этом случае решает фракционировать данные обычно но существует множество способов чем именно способ хорош что мы не храним избыточно данных у нас данный всегда хранятся в актуальной версии вы можете работать сразу в 10 версиях api и версиях схемы данных все самое важное тогда и старое приложение будут работать также работали и новые таким образом снижается time to market это очень выгодно вот и насколько я знаю на рынке не так много решений которые могут работать такой скоростью и собственно вот этот функционал поддерживает вот есть еще 3 технологии которые мы тоже использовали было тоже несколько технических докладов про дисковой хранение в тарантула винил для того чтобы хранить лету сообщений общение с пользователем нужно было по сути использовать дисковое хранилище потому что у нас сообщений у нас используется несколько 100 миллионов вот и из каждого мы общаемся мы что то какие то сообщения мы шлём страстно мы должны иметь должны были иметь высокую доступность этих данных и в то же время нужно было хранить столько сколько в оперативную память не у месяца для этого придумали следующее технологии у нас есть горячие данные которые хранятся в яндексе это янамари движок тарантул и в хвост это дисковый движок тарантога раза за винил и два правила по которым данные могут оказаться в холодном хранилище есть мы вводим понятие low и high watermark это отметка после которой могут уступить некоторые события помех чем новый topmark мы не будем хранить в горячих данных и всегда там что-то должно быть чтобы мы могли быстро давать ответ если же у нас данных хранится вот как на примере больше чем он этом оркестре записи вот на картинке то данные могут просто устареть например прошел месяц мы считаем что можно их и в холодный дано переместить также есть отметка хайлайтер марк это в случае если очень много сыпется сообща и очевидно что рано или поздно они все должно выезжать в диск даже done as the prince стиль такой может быть в этом случае если мы превышаем firework все эти записи который вышел аватар марка все уезжают в дисковых хранилищ таким образом мы можем балансировать между горячими и холодными тонами и что самое главное что для компаний вымпелком api вот к такой системе когда у нас по сути есть две таблички условного их табличками хотя вернуть на свои space of toronto ли пользователь на самом деле просто ну использует and point да и он не знает о том что на самом деле внутри там отдельные один движок отдельно другой просто он пользуется вместе и следующая часть такая более житейской она скорее не про технология про общение людей как мы все так делали это называется проблема мышление но такой пример что-то случилось там какая-то проблема и приходит такое письмо нам как вендору дамы всегда сразу начинаем искать в чем решение и мы видим что на ответы от платформы думают что проблема нашем коде а на самом деле проблема может быть это глупо второй пример очень хорошо иллюстрирующий кто как чем разница мышление в enterprise как пишут что пришить этот кейс и мы как вот просто даже не задумываясь думаю что ну конечно нужно писать код у нас все автоматизировано у нас есть теста мы должны прислать ожидали от нас документы то есть правильно это или вообще вот кто в данной ситуации не прав или если такие вот очевидно что есть большая разница между тем как думает интер полез компании тем как думают так компании вот почему так ну а 3 потому что модель управление рисками и само мышление разные во вторых по поводу вот первого примера очевидно что интегратора не всегда просто может быть время полностью диагностировать проблему ну и как-то серьезно сразу дать какое-то описание очевидно что интеграторы вести слой которой прописано в контракте и не можешь просто не быть времени и самое главное вот что на этом столе хотел сказать что мы в данном случае как вендором если в категории продукта то есть нашей платформы а интегратор мысли в категориях решения ну сытость на правильный пример как бы я отправил такое письмо но это скорее больше для объяснения о чем вообще говорю и в чем откуда возникают такие проблемы чём же разница которых мы делаем продукт очевидно что поскольку мы хотим производительности мы будем стремиться изменять все смежные системы так чтобы все работало наиболее оптимальным образом из этого следует что наш приоритет качество производительность и поскольку мы решили ну делаем продукт для многих клиентов то чем больше радио дефектом тем до нас лучше потому что стоим станем более зрелым продуктом собственно у нас немножко другое представление что мы делаем все таки решение что мы должны запустить именно это решение у этого клиента и нам недостаточно чтобы запустилась отдельно какая-то часть нам нужно чтобы запустилась все части чтобы все решение сам расизм и заработала соответственно чем меньше мы вносим сразу изменений во всей системы заказчика тем лучше потому что это уменьшает сроки проекта это быстрее как раз и заказчику покажет насколько этот продукт действительно это решение работы чтобы он захотел все свои системы который у него есть дорабатывает на эту новое решение которое мы ему поставить то есть чем быстрее он увидит результат что это работает тем быстрее он захочет дорабатывать систему а если мы придем и скажем что нам тут принесли клёвое решение но вам нужно доработать 20 своих систем просто это никогда не запустится именно у крупного заказчика с большим влиянием на клиента собственно последний пункт это вот о чем это о том что чем меньше проблем мы доставим нашему заказчику в продуктивен и при запуске тем с его точки зрения продукт будет выглядеть качестве не потому что если мы в продукте we поймаем какую-то глобальную ошибку то конечно продукт станет лучше мы хороши в которой или но уже у него вот сформировано какое-то видение что вот это было проблемно что вот здесь вот были сложности поэтому чем меньше проблем доставим заказчику тем лучше же есть второй аспект помимо того что мы говорили это за ислам хотелки причем хотелки возникает не только у заказчика как обычно но и всех сторон то есть понятно что клиент можно заходить больше функциональности так часто случается на самом деле хотелки могут возникать и у интеграторов потому что его зная задача в чем чтобы решение было наиболее стабильным и более управляемым чтобы кожа меньше ресурсов тратить на поддержку то решения и хотелки могут быть у вендора во первых это качество и какие-то отдельные части системы которые может быть даже не видны там интегратор или уж тем более клиенту но почему-то ветра читаешь и это очень важно и самое главное это возможно создание более универсальных компонент который можно было бы предложить кому-то еще поэтому источников хотелок намного больше чем просто клиент который хочет что-то дополнительно ну наверное это достаточно логично у нас тоже случались некоторые хотелки и о том какие именно вот пример за месяц до запуска нас попросили изменить только работа с правами а это скажем так это компонент который касается всех систем в том числе и платформы из-за этого пришлось менять авторизацию платформу и ну это как бы вызвал у всех странные эмоции как это повлияло на результат очевидно что такое изменение могло сильно сорвать срок но у нас андре не сорвала потому что все команды очень сильны собрались и нашли интересный вариант между очевидно что все должны быть работаться компоненты и до конца не было понятно например как ну там все ли будет протестирована как это повлияет на то что будет продакшене и в итоге приняли такое решение что мы спокойно до делаем то что мы решили доделать но в качестве вот этого сервиса который обновлен мы заменим у на заглушку который хватит скажем на там месяц или полтора при выходе в тесто по эксплуатации таким образом никаких сроков мы не нарушим и в то же время никаких проблем в серьезных мы не создадим купить второй пример выяснилось уже во время работы ну то есть уже уже код написан уже какая-то часть системы готова что bing вот как бы источник вот как бы когда мы говорим источник кажется что это какой-то один сервис мы не уходим их на самом деле много для того чтобы понять в какой белен ходить мы должны каким-то образом обогатить наши данные о том кто к нам пришел чтобы понять откуда информацию о его балансе на проект достать это должно было привнести сильную доработку платформы и скажем так сложилось что такое и все равно пришлось сделать как-то повлияло на результаты значит очевидно что полностью протестировать что произойдет когда мы это изменим уже было невозможно но конечно самые критичные вещи мы проверили тем не менее после запуска продакшен мы столкнулись с рядом проблем а них чуть позже расскажу и вот как-то мораль в том что всегда лучше договариваться каких-то моментах на берегу насколько это возможно конечно все нельзя избежать вообще любые хотелок невозможно избежать но к этому надо стремиться плюс мы написали два чек-листа а вот это точно продуктов которые есть у вендора здесь написано несколько критериев их не буду зачитывать главное это само участие вендоров тех вопросах и проблемах которые возникают у интегратора у и coздaeтcя это насколько vendor готов делиться своей экспертизой это очень важно и спасибо большое коллегам из мой урок который очень активно делятся экспертизы и помогают узнать больше об их продукте но и соответственно насколько можно раньше получить результат там своих каких-то запросов дополнительных кастомных решений которые мы можем предложить заказчикам я бы наверно еще добавил что vendor вот ключевые два слова в этом чек-листе эта реакция и готовность в некотором смысле внедряться в процесс который происходит где-то вовне сенбернара потому что если такого заинтересованного человека отдела в бендерах каким то причинам нет то да бывает такая ситуация добра или все сделали внедрили как-то странно получилось есть гендер должен стремиться к понимание того с кем он работает и соответственно чек-лист интегратора ну нам тоже нет смысла просто читать это очевидно что мы ожидаем от интегратора какого-то понимания что мы живем в другой к системе тем более если мы трат компаниям и вы не классический вендор соответственно об этом тоже вот был доклад к то очень сильно пересекается с нашим был полтора часа назад ключевое что хотелось бы видеть у интегратор или у компании которое заказывает таки решение эта готовность не просто перенимать новые знания очень многие говорят что они готовы но из-за этого действительно менять очень многое свою компанию для того чтобы достичь самых лучших результатов то есть одно дело когда все просто готовы а другое дело когда действительно нужно изменить подход к эксплуатации возможно к разработке к интеграционным и нагрузочного тестирования и в общем я считаю что тебе нефиты которые дают новые технологии которые могут сейчас предоставить интернет-компании они стоят того чтобы на такие перемены те ну про передачу знаний вы говорили с то получили как компании интегратор опыт очень интересный именно построении нового типа интеграции через виртуализацию данных это было очень интересно также мы построили именно решение на тарантул на суде тарантул именно промышленная у компании заказчика это тоже очень для нас хороший опыт дополнительно там наши коллеги во время работы и освоили и раз схемы и научились эксплуатировать торатау собственно дальше слайд будет о том что это нам в итоге я могу дать чего мы достигли с помощью этого я немного забегу вперед и поэтому расскажу что благодаря этому мы полностью осуществлять осуществили внедрение и настройку системы без привлечения компании вендора и сейчас эксплуатация выполняется просим увидеть консалтинг вы сочи рид получили понимание того как работают эти процессы в теле ком их в чем как управленческие так и технические поняли что с призом нужно работать не так как с интернет-компании поняли в чем отличается эксплуатация скажем в интернет компаниях и enterprise и самое главное что мы для себя научились с этим работать и просто мы поняли произошло мы в итоге смогли таким образом адаптировать тарантул чтобы его можно было использовать и за этот опыт ну тоже очень благодарны коллегам спасибо вам большое я по поводу того что июле сказал хотелось бы добавить что допустим какой-то момент возникла проблема что нужно писать образ схемы до для сервисов мы разработали просто в it-отделе просто бы чтобы было удобно сервис а врата ранд ларк на котором можно написать свой образ hema примирять их и так далее вот это тоже в процессе работы просто случайно получилось и даже никто не задумывался о том там не знаю нужно ли входит в комплект или нет просто ну нужно было и мы сделали вот и разумеется как бы если резюмировать весь опыт мои ворота мы научились и внедряться бизнес-процесса других компаний даже если вы совершенно не похожи на наш вот это очень необычный опыт вот про влияние на результат виду уже начала говорить очень для нас ключевым моментом был стало то что мы получили акт работа с интро проезжал и возможность какие-то новые и самые интересные вот как бы к этому мы весь доклад каком-то смысле ведем в команде тарантул сформировался solution инжиниринг отдел это возможно что то новое для интернет-компании возможно что-то уже давно известная для enterprise компаний и вот об этом я ещё позже дополнительно скажу ну да юля уже рассказал еще есть такое отступление вот мы и говорили как проходила самое начало то есть мы вот начали там разрабатываете что-то писали код я у нас был прототип с которым мы участвовали в неком испытать из которого выбирали тех с кем будет работать и я бы хотела акцентировать на это внимание потому что я считаю что у нас все получилось только потому что у нас был определенным образом разработан прототип бывает так что делать прототип как вот придумать докажем что мы можем да и вы к нему так вот вообще вот совсем мы старались хотя бы часть прототипа которую понятно который понятно как как а как оно будет дальше уже продукции сразу делать такой как который она будет в настоящем продукции может быть не полностью это как можно считать ст mvp и потом добавляя к нему небольшие превращения мы пришли к продукту и это был очень интересный эффект что по сути у нас самого начала была система на который мы могли проверять любые гипотезы решать любые споры доказывает не просто там как-то на словах или говоря там что не знаю этом речь начальника позову совершенно искренне предположим не знает он архитектор говорит о давайте сделаем вот такую фичу это будет хорошо работать нам нужно было спорить и доказывать им просто там за полчаса за час могли добавить эту фичу в полностью автоматизированная допустим нагрузочное тестирование развернуть прототип с этой идеи и показать ему краешки сказать вот так будет работать иди и вот это очень сильно помогает ну работать в больших командах особенно когда за лист на новой компании поэтому вот просто вот тут мыслишь который я бы хотел просто привнести этот во всем что прототип очень важен и хорошо сделанный прототип помогает потом при работе над проектом вот про тестирование просто такой интересный вид как-то была устроена что нас есть энное количество машин тестовых на которых мы можем проверять как наша система работает и все это было автоматизировано полностью весь у нас конкретно под это не было специального там тестировщика как обычно это бывает по сути некая система мы можем несколько придется указать сколько у нас и серверов она исходя из этого разложит все это на тестовом среда сгенерирует тестовые данные например похожее на то что происходит у компании вымпелком дальше произойдет такой по сути нагрузочный тест на самом деле не просто нагрузки тест мы проверяем в этот момент как работают все компоненты системы в том числе допустим коллеги из где консалтинг ставили у нас на серверах свои компоненты поэтому решение тестировалась целиком всегда и это тоже очень удобно потому что вы можете поменяв любой компонент за 10 минут дать ответ сломала все или нет ну и собственно когда мы провели такое тестирование мы можем собрать как сами данные например чтобы сверить их с неким эталоном так или логе с любого из этих серверов и в качестве доказательств того что это действительно автоматизировано полностью для того чтобы совершить такую проверку достаточно было вот такую команду в консоли набрать и просто пойти и чья-то 50 минут и получить ответ вот очевидно что когда мы вышли в продакшен мы еще столкнулись с рядом вопросов я думаю что что написано на слайде достаточно очевидно всем тем не менее тем а то с чем мы столкнулись тоже интересно рассказать первая проблема она была достаточно общее были проблемы с доступом к некоторым источникам данных не просто это чтобы проблемы с доступом просто что-то работало медленно такое случается не все можно проверить и в данном случае нам помог хороший мониторинг на всех уровнях системы песках на уровне платформы так на уровне коннекторов на уровне входящих данных во всю систему и мораль этого этой проблемы в чем что без хорошего мониторе думал бы никогда в жизни в кластере где там 300 тарантулов ещё сзади стоят какие-то коннекторы и другие системы просто не поймали бы эту проблему поэтому интернет тоже очень важен и этим нельзя пренебрегать ну и разумеется тоже так эмоционально можно было просто раньше делал фриц их проблем бы не было ну естественно проблема более свежих технологий это скорее уже именно к нам случались падение тарантула продакшене то есть действительно это более свежая версия тарантул была раскатана сервера и какое-то количество при каком-то профили нагрузки рандов могла упасть разумеется мы подхватывали эту проблему ментально и стараясь максимально быстро дать решение и решение в данном случае это отказываться через внутри цод то есть случай если ваш не вся система падает а только отдельный компонент я тоже хорошо сделать отказоустойчивой не только на уровне резервного центр обработки данных внутри и до очевидно реакция команды эти консалтинг админов эксплуатации которые очень быстро предоставляли нам данные о том что произошло почему произошло и как это воспроизвести собственно и это порождало ношу такую ответную реакцию с решением мораль этой проблемы в том что говорил что компании должны быть готовы принимать что-то новое и возможно из-за рисков люди часто отказываются от таких решений вот есть подход при котором мы можем не отвергать более выгодные подхода для бизнеса при некоторые проработки архитектуры и вот это тоже такая важный момент который я бы хотел сказать ну и можно подводить итоги собственно результат у нас достаточно хорошие мы запустились в продакшен в ноябре 2016 года работу над проектом мы начали в конце 2015 года то есть это с учетом всех этапов и анализ и дизайн и не тестирование разработка ноября вышли в прод помимо того что загружено и куча данных и подключены поставлены все задачи были выполнены и сама решения сейчас держит более трёхсот тысяч весов могу сказать что еще как основное такое достижение что у нас работала на этом проекте четыре команды то есть это был и интегратор и вендоры и заказчик и еще дополнительно у заказчика была своя отдельная команда подрядчика которая занималась тестированием решение для нас итоге примерно такие же мы наделали платформу сдали и в срок коллеги из этих консалтинг ее внедрили в него загружена 100 миллионов абонентов для нас это выражается в том что в наш тарантул его используют как хранилище загрузили огромное количество данных все хранится с избыточностью для отказоустойчивости соответственно мы написали энное количество драйверов для других источников в рану данном случае подключена и 6 действительно производительный соответствовать заявленной и главный message вот и вообще то чтобы смысл вот я очень хотела бы донести это спорный вопрос который будет с лишним слайде июля не совсем со мной согласна тем не менее вам судить есть классический подход к работе с организациями которые мы видим сверху и есть более новый подход это не значит что интегратора не нужны вот я просто сразу хотел рассказать это просто один из вариантов при котором команда которая делает продукт она же развивают о себе экспертизу по внедрению и затачивания этого продукта под конкретного клиента тогда эти команды находятся намного ближе чем на расстоянии двух разных компаний и это может существенно все упростить это об этом бы не только я сейчас говорю и просто это возможной альтернативы тому как можно работать enterprise вот возможно это вызывает тамбуре вопросов возможно нет вот это просто то что их сотни я не то чтобы не согласна с сайтом я считаю что когда я в компании вендора есть именно такая вот команда которая готова работать именно кастомизации продукта и помогать с его внедрением доработка и анализом как как как именно а помочь для что именно сделала для доработки какого-то продукта это здорово а насколько это готовы заменить интегратора и кафе это время покажет спасибо большое на этом мы закончили здрасте спасибо за очень интересный доклад в принципе данные вот предметную область да она достаточно классический решается через какие-то на ходу решения как раз много источников там что-нибудь на ваять на спарке куда-нибудь сложить профилировать написать суперски там аналитические джо бы все красиво прозрачно как бы достаточно много опыта в этой области как бы почему пришли вот собственно 2 получаем вот сказать только следующее во-первых я именно из команды тарантул поэтому скорее это уже как бы нам предложили поучаствовать в конкурсе больше я бы тоже по поводу их есть кучи бизнес-логики которые должна выполняться просто если мы чисто технически где пришли тут просто отдельный доклад можно делать но если такой честный ответ дать очень много технологий рассматривали в качестве этого решения и насколько я понимаю по производительности мы подошли больше вопросам с versio не раване им данных и про интегральной контроль нагрузки то есть понятно что на ходу пи тоже можно можно было сделать еще горели других решений тем не менее я считаю что именно в этом случае тарантул подошел лучше то есть тарантини ни в коем мере не заменяет ходу но конкретно в этом случае это было правильно а какое другое решение рассматривалось мы не можем сказать секрет но эти соглашения спасибо за доклад меня зовут юрий я одно время работал в сотовом операторе работал именно на биллинге я прекрасно представляю какой пласт вы подняли это но я не публичного слова звоночек такой наверное вот вас отрасль скажите пожалуйста суд на имеем классический любовный треугольник вендор и собственно самого бизнес сам будет белком я вот не знаю очень хотелось бы видеть третью сторону докладе об этом был доклад в прошлом году где предстоятель потолком об этом тоже говорил просто они рассказали о концепции то как это будет строиться в прошлом году мышц удобно же выбрать найти этот доход касательно осипова из объем из никого не выступали вот прям прошлым летом здесь монет и последний вопрос вот на слайдах там про тестирование когда про выходку у вас выявление этих техподдержки везде стоит интегратор было ли непосредственное общение там на месте на сайте заказчиком но смысле он сайт инженер у вас был какой то выглядело как-то был ли каком-то смысле я был этим человеком но не совсем так то есть обычно ну напрямую все все приходит всегда в интегратор но у нас есть ряд мест где мы можем общаться все вместе ну условно там это какой-то часиками что такое заказчика integra тестирование субподряд заказчика не было никаких ограничений для вендора на общение с заказчиком тестирования вполне все дружная команда обсуждали архитектура проводили тестирование разрабатывали космос он на самом деле теста тестирование проходило в несколько фаз есть допустим мы как vendor дамы у нас есть ряд тест кейсов каких-то наших у нас есть огромный интеграционные тесты мы прогоняем есть допустим какая то очень сложное там завязано безусловно к вот допустим build мог прийти к коллегам интегратор и вот эти тесты они могли прогонять сами как какие-то как какая-то часть теста там допустим регресс там еще что то момент делаться там еще одной команды вот в итоге получается что на самом деле все так карачи были абсолютно связаны и ну пусть очевидно что когда возникает к эта проблема не было такого что там сначала приходит вопрос интегратор у потом tesco это время к нам то есть чтобы вот эту задержку такой лай до сего времени между людьми не создавать все должны быть максимально друг с другом связаны понятно есть фактически вы именно web технологии разработки принесли получается к заказчику да хорошо спасибо за ответ раз благодарю за доклад меня вот интересует более технические вопросы выдвигать договорили рассказывали тренду ли вы сказали что поставили энгельсском и которые написали модули которые пробрасывать заказы напрямую запрос запрос это вот меня интересует такой момент получается что вот эту логику которая и это ускорило собственно работу получается что вы эту логику на ли он писали какими-то модулями расширениями для самого тарантула и за счет этого работала быстро а вот каким образом это как-то отдельные репозитории который как модуль пристегивается ноут как писали потому что не очень понятно или это какой-то хоть и по храме и хранимых процедур а сейчас я расскажу значит во вторых это тема доклада на час и я его читал на хайло эти этой зимой либо после доклада вы ко мне подходите а мы вам подробнейшим образом рассказать ему на сейчас по моему еще идет метров по tarantula но если совсем коротко тарантул это как бы но apple конечно сервер у которого еще и база данных есть вы можете полностью писать слова приложения очевидно что если вы экспортируете там во мне какую-то вот хранимую процедуру вы можете вызывать стала быстрее ней потому что мы джинс поставлены хотя поэтому тоже по даже нет прослойки но еще и потому что вот представьте у вас есть джейсон какой-то очень сложно вам надо его так сказать свернуть the pale если бы просто как-то вот обычными средствами задачу решали то никакому по процессорного времени хватило для того чтобы такие нагрузки обслуживать и для этого была написана решение которое стран по лавра это дополнительный плагин guitar at love по сути вы право действительно любые дополнения торатау скачиваются как своеобразные плагин щеки и так получилось что мы когда писали этот плагин сделали преобразователь условно из джейсон of the pale быстрее чем если использовать библиотеку от компании apache который вообще этот стандарт изобрели вот об этом если интересно построить ко мне а потом ссылку на видео с докладом и ну там производители вот это вот преобразователи было порядка двух миллионов с половиной в секунду преобразование из джейсон авто пол и в этом один из секретов почему быстро работает и ответила вашу до благодарим спасибо за доклад у меня вопрос следующие там на одном из слайдов была казан такой как модуль синхронизатор вот у меня вопрос это отдельно какой-то сервис или все-таки это логика была на таран давали реализовано потому что непонятно почему на тему а почему не на таран вот я возможно позже подошли и к раскрылся возможно у кого-то в заливали вопрос почему это не интро то ли потому что если мы сказали бы что вы возьмите свои источники заменить их на тарантул то пришлось бы изменить большое количество систем и этого просто во первых по времени бы не вошло вторых изменение значительно больше по пришлось сделать и вот это как раз очень хороший пример компромисса когда мы можем попробовать эту технологию но прям сразу очень специфичная логика именно конкретно для тех источников дома в которыми нужно работать у этого заказчика и тащить все спецификации все эти все это обработку именно продукта тарантул компании mail.ru не было смысла то есть это нужно вот сейчас эту заказчику и утащить этот потом эту логику которая будет реализовано в синхронизаторы дальше не нужен а мы как интеграторы сделаны отдельное приложение для заказчика который встроили в это решение интегрируется и стороны у нас источника выполняется и по сути то что все сказала юля говорит о том что чек-лист для интеграторы которые мы написали компаний каталог проходят потому что они по сути что сделал они изолировали нас от каких-то вот таких насущных проблем нашему могли сконцентрироваться это тот код который универсальный используем понятное дело лучше делать в тарантас она здесь то лучше сделать отдельно но я понял спасибо большое спасибо за такое не вопрос я правильно понимаю что пришлось внести изменения во всей источники для поддержки синхронизации работы это было изменение в источниках которые мы реализовали и оператору бывают какие-то массовые операции который делается нестандартным способом таких случаях о чем прямые от этого базах допустим в таких случаях же получится что источник не проинформирует ставили задачей именно то чтобы источников всех изменениях своих оповещал да это большие объемы данных это в любом случае большой объем на на потому что по всему абоненту вот и нагрузки там тоже достаточно высокие основная из нашим задача была который нам нужно было решить еще вопрос вот пользователь при запросе тарантул он явно указывал какие на данные хоче по учителям сюда получил вселенная смотрите из вообще клиент он полностью изолирован от уровня источник просто тоже бывает что некоторых из них допустим данных а банить может не быть лишний запрос получается угодил россиян смотрите клиент он изолирован от уровней источник он не знает что такое источник он идет в тарантул и запрашивает какие-то конкретно данный тарантул уже внутри как платформа именно виртуализации данных выбирает по какому-то правило в какой источник идти смотрят есть и данные в кэш актуальные или нет можно ли пойти непосредственно на источник не превышен алек вот и более того если пользователь звук не хотел получать все данные предложим из огромный-огромный джейсона вас интересует то какая то часть во-первых вы могли сделать фильтрацию по джейсон басс и сразу получить нужный вам кусочек а если это тоже было сделано по запросу от коллег например как выяснилось что кому-то удобно ходить просто какой-то pinpoint и получать только в этот кусочек то возможность так сам конфигурировать open по это чтобы вот этот фильтрация сразу можно было получать тоже есть вот примерно так многие вопросы решили понятно спасибо"
}
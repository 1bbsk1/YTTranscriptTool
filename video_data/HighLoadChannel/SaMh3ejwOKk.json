{
  "video_id": "SaMh3ejwOKk",
  "channel": "HighLoadChannel",
  "title": "Оптимизации поисковой выдачи Яндекса / Иван Хватов, Сергей Ляджин (Яндекс)",
  "views": 975,
  "duration": 2688,
  "published": "2018-08-16T04:33:23-07:00",
  "text": "меня зовут ваня хватов я работаю в яндексе в отделе поиска занимаясь оптимизация my в кореньями поиска делаю так чтобы индекс работал быстрее сегодня так вот представлю с коллегой меня зовут сергей legend я к вам приехал из дождливого питера занимаюсь уже больше десяти лет за ней разработка высоконагруженных систем и последние несколько лет руковожу разработкой инфраструктуры поиска в том числе ускоряя поиск сегодня мы поговорим про оптимизации поисковой выдачи яндекса расскажем проблематику почему мобильные медленнее расскажем про оптимизации которые мы применяем чтобы ускорить мобильный поиск расскажем про оптимизации который мы хотели бы которые мы разрабатывали но который у нас не полетели а также про наш подход пор адаптацию верткий под скорость соединения почему это важно если мы посмотрим на время первой отрисовки в рунете в срезе десктопов телефонов на быстрой сети на вай фай и телефонов на обычный сотовый связи с разными технологиям то мы увидим что телефон и практически в два раза отстают от десктопов здесь указано медиана увидите процентов пользователей каждой категории страничке страничка отрисовываются быстрее данные цифры 2 медленней почему 1 отрисовка 1 отрисовка это самое первое самое первое действие которое делает браузер который видит пользователь все остальные это правило не видит поэтому такая самая оптимистичная оценка для загрузки страничке а почему так происходит давайте разберемся в принципе как как это работает мобильный веб это в основном беспроводной беспроводной интернет соответственно рассмотрим ключевые характеристики соединения соединения в общем и целом характеризуется двумя двумя двумя вещами это латентной сети ртт или let me see the round round trip найм что это такое по факту это время прохождения сигнала от клиента на сервер и обратно и ширина канала это скорость количество данных который канал пропускает себя в единицу времени мегабит и секунды секунду например так вот эти характеристики в мобильных сетях они во-первых у плохие высокая латентность ширина канала из-за технологий например 2g 3g не может быть большой соответственно узкий канал и что самое что еще хуже эти характеристики они нестабильного времени частые потери пакетов хорош хорошо отлаженный алгоритма тисе пи которые раньше оптимизировали нас на стабильных каналах они перестают работать эффективно и соответственно не утилизирует физический канал ну и также это большая тоже важная вещь это клиенты мобильные телефоны планшеты они не смотря на их бурный рост развития не все равно еще сильно отстают от по производительности вот десктопов как эти характеристики влияют на загрузку страничке посмотрим этапы поэтапно браузер после пользователя того как пользователь задал вопрос браузер устанавливать соединение наконец соединение готово задает запрос сервер обрабатывает соединение и отправляет какие-то данные и наконец клиент их отрисовывать если мы посмотрим на эти этапы относительно друг друга сколько они занимают по времени то на мобильных увидим интересную картину а на быстрых сетях на вай фай основной по времени tab который на который клиент теряет время отрисовка разбор ответ а также тут сразу заметим большое время ссср по которой поговорим позже вот а если мы посмотрим на медленное соединение то там большую часть времени происходит подготовка соединения разный вот этот бутерброд протоколов проходим и отрисовка она совсем не существенную часть времени занимает вот ну при этом надо понимать что вот эти зеленые прямоугольники они в абсолютных по равны и в том и в другом этапе в том и другом случае то есть именно медленных сидений вырастает очень сильно вырастает часть сетевой части что же там такое происходит dns запрос ответ относительно хождение тисе пи в принципе тоже все просто еще делаем одно сетевых рождения стс все немножко сложнее во-первых протокол из двух этапов состоит во вторых требуется какая-то криптография то же время на клиенте занимает и в-третьих передача данных то есть в отличие от первых двух протоколов где обмениваемся маленькими пакетами случае тел с мэттом передаем сертификаты может быть ещё что-то и не всегда почти никогда не вмешаемся в один пакет в момент хорошей к обмениваемся большим количеством пакетов помним про то что у нас мобильных сетях есть потери соответственно телефон шейк он может затянуться по времени и чтобы задать вопрос мы также тратим еще одно стива хождения таким образом при холодной загрузки страничке нам нужно сделать 5-ти вы хождением в худшем случае а чему же равно относите восхождение чему равен ртт в реальных кабельных сетях мы поснимали данные из наших frontend серверов как мы снимали мы расскажем далее в докладе и получили следующие цифры про мы про мобильный мы видим что в принципе в потоке мобильных есть два класса сетей это быстрый у которых один раунд 3 times меньше 70 семей миллисекунд и соответственно медленный медленный причем сильно так это оставит у них очень тяжелый хвост у 20 процентов самых медленных соединений лет он все больше полсекунды помню что у нас на загрузку страничке тратится 5 сети вы хождения соответственно на данной сети у 20 процентов пользователей 1 отрисовка бой по в теории произойдет не раньше чем через две с половиной секунды это очень много почему такой разброс до первую очередь это технологии у каждой технологии есть свои свои какие-то характеристики понятно дважды там все очень медленно это медиана что творится во второй части даже пользователи очень сложно представить триже тоже в принципе медленно сети и соответственно быстро wi-fi 4g это первое второй момент это перегрузки от различной нестабильность я думаю каждый из вас наблюдал как может плохо работать алтаев перегруженных местах в пробках там в парках когда происходят какие-то большие события и ртт он еще не стабилен он зависит от загруженности канала можно это легко пронаблюдать провести эксперимент запустить команду пинг на телефоне выставить какую-нибудь сеть обычную дрожит режим и начать погружать страничку мы видим что до загрузки страничке у нас в этом если было в районе 600 миллисекунд как только мы начали грузить какой-то html небольшое у нас в этом все выросло в десять раз до пяти с половиной секунд это важно понимать потому что если во время загрузки страничке системы ли нам нужны какие-то ещё дополнительные ресурсы для того чтобы нарисовать страничку соответственно нужно сделать за этим ресурсом вдруг какой-то отдельных отхождения за а не дай бог все установить соединение то соответственно в таком случае страничка от рисуется очень-очень не скоро ну представим до 5 секунд 5-ти вы хождение через 25 секунд только в лучшем случае что-то там от рисуется пользователь не дождется такой связи контента примерно с со сложной с теорией все перейдем к оптимизация my как нам оптимизировать сайт и что на мы можем сделать чтобы мобильный интернет работал быстрее чтобы он и холодный загружался быстрее и страничке отрисовывать раньше мы первое это оптимизации уровня одесситы да мы расскажем так же профи directory почему их не нужно делать и остановимся подробнее на оптимизациях tls про tcp в принципе в цепи есть оптимизация как можно установить соединение без и сетевое хождения называя стихи pifast up on но по нашим замерам мы посмотрели в трафик на данный момент ни один браузер не не включил эту опцию здесь пифа stop on по факту выключен с dns в принципе тоже ничего не сможем делать потому что мы его как правило не контролируем поэтому все что мы можем сделать это аккуратно относиться к соединениям беречь keep-alive переиспользовать соединение по максимуму когда keep life может рваться то есть мы должны смотреть как наше приложение работает на медленных сетях потому что часто встречается когда какие-нибудь а як запросы например выполняется с не очень большим тайм-аутом 300 миллисекунда например мы наше приложение помещаем медленную сеть а як запрос тайм-ауте c browser with соединение и следующий запрос который делает пользователь она соответственно уже идет на холодный то есть мы какие этапы установки соединения проходим заново нужно проводить аналитику и и следить за тем чтобы был максимальный максимальное количество гипере использование соединений на сайте а ну и вторая директива это при connect помощью при коннекта может добиться того чтобы соединение начала устанавливаться не на критическом пути когда уже ресурс нам нужен а заранее то есть мы можем браузере с помощью этой директивы сказать что самом начале html качество вот нам нужно такие будут соединения до таких серверов и соответственно когда в процессе загрузки страничке браузер уже начнет приготавливают соединение до необходимые когда ресурс потребуется ресурс качается уже через готовое соединение когда мы в поиске проанализировали как у нас использовать keep-alive обнаружили следующее поисковые подсказки первый запрос на поисковых подсказок ругался с отдельного сервера на которой не было установлено уже заранее соединение после того как мы провели эксперимент сделал некоторые архитектурные изменения чтобы поисковые подсказки загружались yandex.ru на который уже как правило есть соединение потому что оттуда загружаем загружаем html количество показов подсказок выросла на 5 процентов на мобильных это существенно для данного сервиса поэтому мы данным оптимизацию оставили ну и так дальше дали следим за тем чтобы у нас максимально перес пользовался единения redirect и redirect это большая беда в мобильных потому что во первых мы браузер проходит все этапы сетевые устанавливать соединение и так далее потом говорят что нужно на самом деле было идти не туда в другое место и он начинает там в лучшем случае пропуская какие-то этапы а в худшем случае проходит из нас оставите себе стадию tls и так далее это очень очень медленно с этим можно бороться двумя способами во-первых 301 redirect с помощью которого браузера запиши рует неправильный зафиксирует redirect и следующий раз когда мы будем переходить по неправильному углу браузера сделать внутренней redirect и не будет дела сетевых рождения мы изначально чуть подумали вот такую схему думали применить на поиски но как оказалось у нас на поиски все странички они с разным адресам потому что в адресе страничке находится поисковый запрос окажет на поиск он не очень высокий соответственно пачки тут такой оптимизации был бы низкий мы не стали применять но для некоторых сайтов она может понять работу но потом когда мы преследовали большим мы увидели что у нас большое количество редиректов именно начать с защитить иначе откуда они берутся это разные старые браузеры в которых зашиту ru дефолтного поиска yandex.ru и внешние какие-то ресурсы которые мы не контролируем которые не могут поправить на правильно сразу начать с ответственным нам помог с эта директива которая говорит браузеру отдается на виде степи заголовка в ответе на говорит браузеру что данный ресурс работают только почти без протокола и все ссылки которые ведут на этот сайт они автоматически перри записываются браузером сразу начните без то есть мы не делаем лишние подключения на порт 80 устанавливать соединение не тратим лишних on шейки сразу земли дпс соответственно выигрываем хорошо по скорость как мы помним время телеса но занимает существенное время даже на быстрых соединениях почему так происходит на первых два два сетевых рождения мы сейчас право безопасность не будем говорить потому что это выходит за рамки данного доклада там есть ссылка на блог наши службы безопасности где все подробно разобрали мы презентацию выложим после после выступления может быть прочитать а соответственно 1 хан шейк на котором выполняется согласование какие методы шифрования будут использоваться и 2 ханши где происходит согласование ключа шифрования 2-х шейка 20 вы хождения что можно сделать существует более менее стандартные практики как можно срезать установка соединения до 1 до одного сетевого хождения это сын ticket суть его проста можно не делать 2 хорошеет не согласовывать ключ а за кэширует состояние соединения за каширу и театра сохранить состояние соединения за криптовалют и отправить клиенту видите кита в следующий раз когда клиент придет он сервер follow клиент хэллоу скажу что у меня есть такой the ticket и сервер если если удовлетворит в этот текке то он сразу становится и день первым же ответом на мне нужно будет делать сложной криптографию который происходит на втором этапе и все будут счастливы проблема этой оптимизации в том что оно работает только для повторных соединений по соображениям безопасности долго кэшировать тикеты на клиенте нельзя вот они устаревают браузер когда закрывается он их удаляет ответственно к счету у тикетов не сто процентов поэтому есть еще 2 оптимизация чуть менее известный называется things fall старт оптимизация очень интересная вот мы видим до после после того как клиент отсылает второй пакет со своими данными про ключ ключ шифрования в принципе ему ничего не мешает начать сразу начать шифровать данные и отправляйте в сторону сервер не дожидаясь ответа финиш ответа от сервера собственно ничего не мешает действительно можно так делать но и интернет эксплорер так делает но есть проблема не все из тебя сервера адекватно воспринимает такое ускорение некоторые сайты ломаются интернет эксплорер поддерживает файлик с адресами которые не работаю на которых не работает с фул старт это не очень удобно поэтому другие браузеры пошли ножка подругой по другой схеме они по косвенным признакам как-то пытается определить если сервер использует продвинутые технологии криптографии там в теннисе сдачи он скорее всего правильно реализован свежий и адекватно будет воспринимать travel старт так такими такими признаком являются использование алгоритмов пикфорд secrecy pfs и поддержка help in ничего общего про про скорость эти технологии они в принципе ничего общего со скоростью не имеют это про про больше про фотографию vpn про согласование протоколов следующего уровня но тем не менее если сервер эти фичи поддерживает the browser будут использовать dsl старт и соответственно делать тсн шейк всего лишь за один ртт правда используя криптография поэтому 1 оптимизация которую про которая говорила тоже важно потому что она позволяет еще экономить процессор на и временно клиенте и на сервере когда мы включили tells that у нас не было рпн поддержки мы на yandex.ru заметили ускорение в 13 процентов установки tls соединения на мобильных для для на 95 процентов что дальше более-менее стандартной практике применили время tls равно занимает существенное время мы проанализировали что-то происходит увидели что момент тсн шейка передается значительное количество данных от сервера клиенту там сертификат о cs pst blink и так далее мы попробовали уменьшить количество данных который будет передаваться у нас получилось сократить их 7 и 3 килобайт до 4 4 4 если мы тут еще 500 ног на самом деле он сетях чуть меньше то это с пяти до трех пакетов нам нужно на два пакета сократили запустили эксперимент и увидели что на мобильных время тсн шейка но также ускоряется так как на безопасность эти отключения не влияет мы решили оставить данную оптимизацию и таким образом ускорили хан шейки соединение установлено дальше идет загрузка контента кредит можно применить оптимизации чтобы ускорить отрисовку поиск это не быстрая операция но занимает какое-то время мы ускоряем но тем ни менее какие-то пол-секунды есть во время того как работает поиск принципе соединение просто вид можно отдавать данные так как страничка индекс она сильно варьируется в зависимости от текста запроса какие-то данные мы все данные отдать мы не можем но есть что-то общее во всех страничка это поисковая стрелка на не сильно зависит от того что мы найдем в яндексе поэтому как только сервер получил запрос от пользователя он может формировать поисковую стрелку и начать отправлять в сторону клиента это во-первых ускорить 1 отрисовку а во-вторых прогреет соединение для того чтобы использовать такой прогрессивный метод нужно отдавать седан начинками указать транс и все будет хорошо про загрузку к дальше после того как мы отрисовали поисковую стрелку идет основной контент с основным контентом все более-менее просто и понятно нужно использовать самые современные алгоритмы сжатия оптимизировать первую очередь картинки потому что они занимают большую часть страничке мы используем сопли брод ли брод ли для тех браузеров которые поддерживают но это порядка шестидесяти процентов на мобильных сейчас с максимальным и сжатием используем в.п. для тех браузеров которые его умеет и все необходимые ресурсы которые необходимы для отрисовки мы онлайн ним вычтем эл это не очень эффективно по размеру так как мы каждый раз передаем стиль и соответственно с размер ответа html больше мы не используем браузерный кэш it optimize но не менее здесь здесь все плюсы и минусы мы видим что в таких случаях отрисовка происходит быстрее поэтому мы делаем именно так ну и как отдельной оптимизация это загрузка статике не на критическом пути мы погружаем прогреваем статику поисковой выдачи в главной страничке если главная страничка загрузилась соединение простаивает мы асинхронными скриптами грузим какие-то статические ресурсы которые потом ускоряют загрузку именно поисковой выдаче правы пи хочется сказать отдельно когда мы провели эксперимент мы обнаружили что у нас на самом деле все замедлилось время загрузки стало хуже потом долго-долго исследовали и обнаружилось что нас на самом деле вырастает количество пользователей на 120 процентов выросла полностью загруженных карте ночных выдачи очень много поэтому несмотря на то что эксперимент показал себя не стороны ускорение мы оставили выпи и дополнительно к этому уменьшили трафик в сторону пользователь на 14 процентов из минусов дополнительных протоколов таких как вопить братли является снижение крышки то населенных на прокси потому что приходится хранить две копии файлов как для браузеров которые поддерживают современные алгоритмы сжатия так соответственно фалби часа на jpeg и обычный грипп здесь главное не перестараться нас был эксперимент даже это мало сказать эксперимент целая разработка оптимизация мы сделали сложное кэширование на клиенте стиле использовали там около 2 все все сложно было вот и нам удалось действительно очень хорошо сократить количество загружаемых данных но мы как там жертву или процессором в итоге мы запустились экспериментировали экспериментировали обнаружили что у нас несмотря на то что мы экономим трафик мы замедляем отрисовку на становится медленнее почему так происходит помним что клиенты мобильные не очень медленные если их сравнить с топом взять довольно распространенный телефон который которого много в потоке в принципе современный и сравнить одну загрузку одно и то же страничке на телефоне и на компьютере видим что телефон в разы в разы медленнее особенно по по отрисовке скриптик на телефоне очень дорогой соответственно мы быстро скачиваем файл много времени именно тратим на скриптинг она онлайн скрипт стилей но тем не менее это в этой оптимизации что то есть если мы мы посмотрим на какие медленное соединение где сеть действительно критичных где можно пожертвовать процессором то там может быть и имеет смысла включать и она бы давала для пользователях положительный эффект эту проблему мобильных так как у нас есть слишком медленное соединение есть в принципе довольно шустрый применять одни и те же оптимизации для них получается не всегда эффективно одна и та же оптимизация например на быстрых соединениях дает ускорение но на медленных замедляет или наоборот медленный муж медленно стене ним ускоряем быстрое соединение замедляем поэтому имеет смысл делать разные оптимизации в зависимости от скорости соединения как это делать и к чему мы пришли расскажет такая чем сергей 1 раз требование казалось бы очевидная вещь но ка ты к этому выводу мы шли на самом деле несколько лет вот и вот буквально в прошлом году мы инициировали проект потому по тому чтобы сделать специальную адаптированную выдачу для медленных мобильных соединений вот когда мы проект начинали у нас было три задачи первое самое сложное придумать название проект мы назвали мобильной бабулей почему мобильная понятно почему бабуля подумайте явка в конце скажу вторая задача это собственно научиться определять медленное соединение если вы думаете что вам кто-нибудь на халяву расскажет что соединение медленные надо показывать на нем какую-то специальную версию тут не так задача оказалась несколько сложнее ну и соответственно третья задача это сделать такую специальную легкую быструю верстку которая и загружается и отрисовывается максимально быстро когда мы начали думать про то как как нам определять медленно и соединения первая мысль которая пришла нам в голову давайте мы будем для тех пользователей которые уже зашли на яндекс давайте мы будем замерять время загрузки страницы с помощью метрик браузера сохранять эту информацию в куку и присылать при последующих запросов пользователя при последующих заходов на сайте яндекса попробовали мы это увидели что на самом деле примерно только половину медных соединений мы таких вот таким образом отлавливаем но при этом получаем несколько проблем во первых мы когда пользователь первый раз приходит на яндекс нас нет по нему никакой информации в куках у него нет не сохранено не сохранено во время загрузки предыдущей странице потому что еще не загружал вторая проблема что на самом деле когда опять же пользователь заходит первый раз мы загрузили выдачу отрисовали выдачу сохранили время загрузки но как вот рассказала вания это была загрузка через холодное соединение на самом деле когда например пользуетесь задает следующий запрос через тоже соединение время загрузки уже может быть сильно лучше и таким образом мы получаем ложные срабатывания детектора вот соответственно наша первая идея была не очень удачные дальше мы сели думать и искать как же нам все-таки сделать это более более правильно ну что мы дальше наткнулись это на то что linux вы ядро собственно отдает метрики по тисе пи соединению достаточно за бесплатно соответственно с помощью системного вызова можно получить по любому соединение значения ртт то есть в этом все можно также получить дисперсию ртт и можно получить поделив соответственно количество эритроцитов на количество сегментов получить процент потерь соответственно подробнее можно прочитать об этом всем документация кендра links on вот на самом деле эти метрики доступные легко если вы используете веб-серверы джинкс мы джинкс не используем нас есть свой свой балансировщик но нам не составило большого труда эту информацию протащить и соответственно за использовать но мы столкнулись с другой проблемой что на самом деле когда у нас есть пользователь с мобильным устройством и у нас есть серверы яндекса между ними может находиться например какая-нибудь каширу ющая прокси которая когда пользователь задает запросам устройство в браузе она терменируют его тиски соединение и дальше когда мы снимаемся и метрики на стороне индексом и мириам ртт не до пользователя а меряем ортопеду этой прокси собственно ровно на эту проблему мы натолкнулись на 5 начали думать думали думали не поняли что мы можем получить информацию о реальном реальной скорости реальному этом все между нами между индексом и пользовательским устройством если мы будем замерять сколько времени уходит на установку ussr соединения и использовать этот фактор дополнительно к соответственно метрикам тисе пи вот соответственно мы научились мерить сколько проходят того момента как мы отдали сторону пользователя сообщение сервер холода того как камушек социальный завершился и соответственно тучи и ссылку взяли из скомбинировали с теми рисунками которые получаем от ядра по против open и вот мы в последнюю очередь мы вспомнили что есть еще на самом деле браузеры которые сами умеют присылать информацию в настройках то можно выставить что показываете мне там максимально максимально легкую выдачи в таких случаях они присылают заголовок своих да это ну и например яндекс браузера или опера которые имеют там turbo режим оптимизированный под медленное соединение соответственно тоже эти заголовки присылают всегда если этот режим включается и соответственно это тоже получается как дополнительный hand к тому чтобы показывать облегченную версию выдачи пользователь почему там это последнюю очередь про это вспомнили вот соответственно вот воспользовавшись всем этим багажом мы обучили модельку которая была призвана отловить хвост самых медленных соединений где у нас выдача грузится дольше всего в итоге сейчас мы примерно на 8 процентов запросов если вы заходите в метро или вы просто где-то находитесь в зоне плохого интернет и где вас 2g или просто там перегруженный перегруженная соты где большое количество потерь пакетов соответственно у вас показывается легкая легкая версия поисковой выдачи яндекса но самом деле вы не всегда это замечаете потому что с точки зрения внешнего вида ну если вам показать их 2 вместе вы конечно увидите разницу но когда вы видите только одну скорее всего вы не можете распознать вот тем же она собственно такая уникальная примечательная на самом деле подробно про именно оптимизации с точки зрения верстки можно почитать нашем блоге на хабре наш коллега виталик харисов писал подробный пост про это вот я вкратце расскажу соответственно мы минимизировали настолько насколько это возможно те данные которые необходимы для первые отрисовки для отрисовки поисковой стрелки и уложили их меньше чем в 1 килобайт соответственно весь ответ поисковый там практически в 99и процентах случаев мы укладываем в 14 килобайтами то есть это фактически сопоставим с размером 1 типе окна что важно то что ваня уже тоже говорил соответственно стиле мы онлайн ним в html и располагаем их таким образом чтобы все что необходимость эти стили которые необходимы для отрисовки каких-то элементов выдачи не приходили да да этих элементов вот на этой верстки нет никакой никакого сложно уа джалла скрипта нет никакой динамики все максимально просто c точки зрения направлены лишь на то чтобы вам дать ответ на вашу на ваш запрос вот возвращаясь к тому и собственно почему почему это все называлась мобильный бабули на самом деле нас до этого была специальная выдача яндекса но она была не для медленных мобильных соединено было для старых браузеров собственно называлась бабули здесь вот и решили назвать мобильный бабулей на самом деле потом на это все посмотрели посмотрели что вот она вся такая маленькая и лёгкая и можно ее показывать не только на медленных соединениях ну и на старых устройствах где медленный процессор энди работа джон скрипта занимает ощутимое время собственно что нам это все дало мы провели об эксперемент где в контрольной выборки мы показывали независимо от качества соединения всем нашу обычную выдачу и в экспериментальной выборки мы показывали как я сказал примерно на 10 процентах запросов самых медленных мы соответственно покажу звали облегченные в итоге по нашим метрикам мы увидели что количество поисковых выдач загруженных и которые пользователи увидели выросла примерно на 2 процента даже чуть больше что на самом деле является очень очень очень хорошим результатом вот если посмотреть соответственно вот мы примерно с год назад начали активно думать над тем как какие есть особенности мобильных сетях и как нам именно оптимизировать наши выйдут мобильные сети мы до этого тоже занимались оптимизация my всяческими но вот если посмотреть на график который на экране с прошлой осени это время первой отрисовки насколько она ускорилось с течением времени и вот по циферка 1 это первое внедрение мобильной могу ли мы получили просит примерно там на 20 процентов потом мы соответственно наша формула чуть-чуть улучшили в марте месяце там попутно были оптимизации sn-pro которые ваня рассказывал и вот в сумме если посмотреть как бы историю за прошедший год нам удалось 1 отрисовку ускорить на пятьдесят процентов в сравнении с теми результатами которые нас были когда мы пытались ускориться в целом не разделяю где мобильные где десктопы это очень и очень сильный результат всем пасибо нам вопросы так и микрофон вот там можно молодой человек микрофон час спасибо за доклад было интересно вопрос такой в чем технологий чем чем легкий ответ технологически хуже полного вопрос к чему почему всем тогда легкий ответ не выдавать хороший вопрос мы его сами себе задавали много раз но на самом деле оно как я говорил на самом деле там нет никакой динамики то есть он визуально вы смотрите он очень похож на например там как картинки там сильно проще их может быть меньше соответственно каких-то сложных элементов выдачи где-то можно что-то про скролить про свои пять их там нету вот шапка на примерно там тоже упрощена вот каких-то там интерфейсных элементов не знаю связанных там за лаги нам их там тоже нету то есть там на самом деле я говорю если их вам показать вместе вы увидите разницу вот там потому что но как похожи но но не такое поэтому вас была такая мысль а да почему бы и нам на самом деле всем всем не показывает легкой ну вот на самом деле не то есть тогда мы себя рост затормозим в развитии и меньше будем иметь возможности всяких разных интересных интерактивных элементов на выдаче предоставлять в дополнение к предыдущему вопросу об авто вы не делали пользователи на быстрое соединение показать оба тестов мы делали столько что даже страшно подумать сколько на самом деле вот ту ту ту ту модель ту формулу который не который мы сейчас остановились которые где-то там примерно 10 процентов вот она показывает тот оптимум который соответственно с точки зрения пользуйтесь каких метрик заметен дальше уже смысла особо нет дальше уже пользуйте не замечают разницы то есть там дальше дальше уже на самом деле мы проводили такой эксперимент если всем пользователям показывать мобильную бабулю там было видно ощутимое улучшение по пользовательский метрикам соответственно пользователям всегда не нравится а вот когда все плохо и нужно получить результат тогда нравится спасибо хотелось бы спросить насколько я понимаю да вы говорите о сокращении ртт для tls планеты с 13 до кажется нововведение в этом смысле кита вел а вот нет статистики по браузером или просто количество пользователей которые я имею и ноская понимаю вот этот капитан она может быть подержанное некоторыми браузерами да например последний chrome я бы ожидал что я поддерживать вес 13 ну да еще нет быть выключен по умолчанию поэтому как бы в природе нет она то это говорит разряда как бы сказать что вот по нашей статистике условно вот такие то люди ну такой процент людей этому как бы саду уже но получил пока 0 нет мы поддержали ускорение для этого из 12 муж баррель то лишь 12 где-то vahan шейка среду в каких-то случаях во многих случаях сокращаем его данного ртт то есть мы как бы работаем с теми кто есть tsr-2 есть мы ускоряем как будет с 13 мы соответственно вы спорите а вот и если процент от общей доле как бы кто-то 2 может ну как бы я не знаю что вас на вскидку искать эвристик 20 потому что использовать повторил с 13 сейчас есть еще вопросы вроде 2 вот например вы говорят что это не наложив прадеда например да смотрите ты весь пол старт поддерживает большое количество браузеров tls station тикет практически все то есть можно говорить что все сейчас достичь практически сидят на современном поворино обновлениях театра базе маме здравствуйте я вот в начале в самом заметить что вы сказали про отключение от с поста блин во что она не влияет на безопасность может спасти пленку он призван для того чтобы браузер проверил осознанно сертификата ну и на чем будет зависеть от настройка браузера просто сейчас если можно же стать посередине между клиентом и сервером и в принципе этот съезд uplink отрубить да да клиента мы его сами отрубили на в принципе злоумышленников тоже самое можно сделать поэтому в точки зрения безопасности она ничего не даёт вот и а у браузеров есть механизмы храмах используют для отозванных сертификатов и список он уже по ним проверяем вот ну чего там с крюком двигается тоже как раз чтобы не дожидаясь до вас 13 видимо хотите как бы ханши их сделайте все такое индекс ничего подобного но при качании за стандартизованы поэтому он постоянно меняется и как бы мы сейчас не готовы к нему да пока мы были теперь поиск не гоняем спасибо большое за доклад вопрос можно же довольно сильно менять время han j k l с подбирая разные сефиры правда при этом можно заработать играет м а вы не пробовали играться именно и асимметричное шифрование чтобы нет мы в принципе не пробуй потому что у нас есть ограничение чтобы у нас был форум rsi вот это вот для того чтобы ты шел старт работал и наш службы безопасности она в принципе подбирает оптимальные шифры с точки зрения безопасности поэтому мы там ну не можем какие такие изменений вроде бы как там ничего не зарыта пообщались на эту тему по поводу score со службой безопасности ей самое лучшее они нам предложения еще вопросов тогда спаси большой аванс ibiza так вот спасибо спасибо"
}
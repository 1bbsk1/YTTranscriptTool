{
  "video_id": "MiAzMCDUODk",
  "channel": "HighLoadChannel",
  "title": "В единстве сила: как мы пишем тесты всей командой / Светлана Алексеева (2ГИС)",
  "views": 736,
  "duration": 2960,
  "published": "2019-12-05T12:59:33-08:00",
  "text": "мир айти очень разнообразен пока в одних компаниях тестировщиков делят собственно наручных и диких в других компаниях уже давно запилили прорву авто тестов запилили нанести разогнали всех тестировщик к чертовой матери возможно кто-то из них пришел сюда рассказать что вот так правильно а так как я щас буду рассказать это вообще ерунда и не работает на кто бы спрашивал тестировщиков кстати кто вы поднимите пожалуйста руки кто из вас относит себя к тестировщиком так или иначе ага ничего себе не так много ну в общем я тогда от имени тестировщиков расскажу вам что националь никто не хочет быть выброшен на обочину истории и быть замененным роботами и жить потом на пособие по безработице это в америке можно у нас не проканает и все понимают что надо как то развиваться надо как-то расти и все даже примерно представляет куда они хотят прийти но не всегда понятные шаги которые нужно предпринять и особенно непонятно что делать если стандартный работа тестировщика не предполагает каких-то сверхъестественных усилий мой ответ таков подключать всю команду на примере нашей команды я расскажу как мы улучшали наше приложение попутно прокачивая тестировщиков но не лишая их своей роли и какие интересные мысли у нас появились в процессе меня зовут света я тестировщик брендов компании до гис мама вот уже в моей команде есть то о чем мечтают многие консольный интерфейс который не требует таких жутких затрат по автоматизации как графический почти все тесты автоматизированы а разработчики добровольно пишут unit тесты и у нас произошли очень большие изменения и мы могли бы наверное все сделать по принципу работает не трогай и как-то жить дальше и нам бы наверно было нормально но мы решили что раз уж после такие большие изменения можно сделать что-то лучше чего мы хотели добиться мы хотели ускорить релизный цикл и приблизиться к идеологии devops когда большинство операций автоматизировано а с остальными операции может справиться любой член команды такие команды как нашу в компания называет сервисом дни есть все роли которые требуются для функционирования 4 разработчика 2 тестировщика едва администратора вместе мы следим за всем жизненным циклом наших сервисов начиная с разработки архитектуры и заканчивая поддержкой на бою мы разрабатываем сервис обновлений пожалуй главная ценность компании 2гис это данные поэтому они сначала производятся вы не поверите в сервис и производства о том выгружается и собирается в те пакеты которые мы потом раздаём пользователям проверяются автоматически и подаются на на вход мы эти данные выкладываем на сервера обновлений и потом их оттуда скачивают наши пользователи мы выполняем в данном случае функцию транспорта но зачем мы вообще нужны спросите вы потому что вот есть данные они полностью подготовлены их можно раздавать хоть сейчас берешь перекладываешь все зачем нужно что-то еще городить проблема в обратной совместимости дело в том что мы поддерживаем очень много версий одного и того же продукта и для разных версий зачастую требуются разные версии одного и того же пакета данных поэтому все эти данные нам подаются на вход и дальше наша задача весь это зоопарк правильно разложить по версиям мы сегодня будем говорить вот про эту часть потому что данные мы получаем уже полностью готовыми полностью проверенными тестированием данных мы не занимаемся а левую часть проверяется на стороне мобильных приложений как правило изнутри сервер обновлений выглядит примерно так данные помещается в некоторую папку на файловой системе туда же помещается метаданные и потом мы проводим проверки относительно тех версий я продуктов которые есть сейчас в репозитории и если все успешно мы их выкладываем туда так значит у нас были unit тесты которые писали разработчики и и а тесты которые писали тестировщики я еще раз напоминаю что и а я у нас не графически я абсолютно консольной все тесты писались на том же языке что и основное приложение на питание во-первых потому что это правильно во-вторых потому что мы могли посмотреть разработчиков какие-то интересные решения железный цикл выглядел следующим образом разработчики меняют код прогоняют unit тесты и отдают задачу в тестировании тестировщики тепло этот все в тестовое окружении обновляет ее ой тесты прогоняют их в случае необходимости возвращает тесты код на баг фиксинг потом снова тестирует и так пока не станем все хорошо после чего происходит тепло и наст эйджинг и на бой но естественно были какие-то тестовые наборы которые регулярно гонялись на джем kenshi и а если разработчики хотели протестировать что-то с помощью юань тестов им нужно было разворачивать тестовое окружения ну вы возможно помните что деплоить и настраивать окружения на монолите может быть больно поэтому вот так вот ради какой-то мелочи чтобы проверить этого не станешь делать всего общение с ведром у нас происходило через консольный юань самописные роботы занимались регулярным выкладыванием данных если у них что-то не получалось или нужно было что-то да выгрузить приходили люди и люди же занимались экспериментами для экспериментов мы раскатывали им тестовые стенды они туда приходили делали то что им надо и адрес этого тестового стенда указывался в настройках приложения и можно было туда ходить за данными также как наши клиенты ходят на боевые сервера экспериментаторов становилась всё больше и больше к людям присоединились команды и мы были как то такой естественный транспортом который можно было воспользоваться но в текущей реализации мы не могли обеспечить параллельность и безопасность выкладываем в данных поэтому ну и плюс естественно эти команды хотели делать все автоматические руками укладывать поэтому для тех роботов которые планировали к нам прийти мы унифицировали api и для того чтобы обеспечить параллельную безопасную разработку выделили механизм веток при этом мы оставили исходный интерфейс чтобы можно было делать что-то руками но все сейчас начал работать через open server стал выглядеть так теперь у нас появились ветки поэтому в все продукты и все их версии лежали в какой-то из веток а для того чтобы выкладывать данные пачками появились бокс и это тоже некая именована я область памяти на файловой системе серверов которую мы сначала выкладываем данные потом эти данные проверяются относительно всех и версии всех продуктов какой-то определенной ветки и случай успешности помещаются в репозитории ветками можно было пользоваться либо для атомарного выкладывания например мы выкладываем к в отдельную ветку каждый город а потом случае успешности всего этого процесса сливаемся в мастер потому что допустим если мы просто запустили все города и один из них упал и операция не пройдет нам нас это полностью не устраивает а также ветку можно было явно указать настолько в приложения и ходить именно в нее это обеспечивало параллельную работу и так к нам начали идти роботы а чтобы разрабатывать приложения для роботов нужно думать как роботы тестировать как робот поэтому нам понадобились тесты тестировщики начали писать тесты так как привыкли к привязать с привязкой к окружению но потребность разработчиков в каких-то быстрых проверках все больше и больше возрастала тестировщики за ней не успевали поэтому они сами начали писать тесты так как они привыкли на особые случаи и не особо заморачиваясь покрытием какой-то момент мы поняли что нашу маму и там и там показывают возможно мы делаем одно и то же дело а ещё у нас незадолго до этого произошло весьма успешно и взаимопроникновения под команд разработки и администрирование в каждом проекте появились плей буки для ansi бла которые могли обновляться одновременно с кодом поэтому мы избавлялись от вот этого известные темы перебрасывание через забор между разработчиками и администраторами и каждый разработчик правды эти что-то мог сам пробить и те типа ибуки и сказать все там все готово выкатывай и начался начался наш путь длиной в тысячу ли для того чтобы писать тесты на api и нам понадобился тестовый фреймворк как тесты выглядели раньше ну вот как то так то есть что здесь происходит нам нужно создать версию мы запускаем соответствующую команду используя папку который лежит тут же на сервере производим какие-то проверки сейчас на них можно не обращать внимания потом при них отдельно расскажу важно то что примерно так выглядели практически все тесты ну там максимум две три операции могли добавиться поскольку все наши тесты и тогда я сейчас абсолютно дата гривен то есть можно выполнить одни и те же действия над разными данными и получить абсолютно другой результат соответственно если мы хотим что-то понять что происходит в тесте на мне достаточно просто посмотреть на этот тест нам скорее всего придется лезть во внутрь этих данных и смотреть что у них происходит а потом у нас появились ветки и vox и и тесты стали выглядеть вот так если он дорого душевное здоровье не вчитывайтесь особой я сейчас быстренько расскажу что здесь происходит значит нам нужно создать бокс в которой нужно положить данные потом проверьте the box относительно ветки ах да надо сначала создать ветку проверить этот бокс относительно этой ветке и собственно можно создавать версию поскольку эти данные абсолютно точнее эти операции абсолютно друг от друга не зависит нам нужно через них как-то протаскивать контекст как присваивать значение каждой операции в отдельную переменную потом эти переменные подавать на вход основной операции к тому же теперь мы не можем просто взять посмотреть в те данные которые мы подали на вход потому что а вообще они дошли до бокса а никто не знает они положили туда кто то еще что нибудь может быть мы провели все проверки они прошли а потом мы взяли что-то еще изменили это уже совершенно другая ситуация уже снова проверять поэтому нам совершенно невозможно было с этим работать а если невозможно даже нам то представьте каково было нашим пользователям поэтому разработчик который всё это придумал начал писать фреймворк для тестирования наф-наф от операции по до поддавалось никаким fix тура через который мы получали доступ следующему методу api к следа ли к следующему методу api и так пока мы не доберемся до нужного нам метода таким образом объект который мы хотим использовать несколько раз мы могли записать один раз и все остальные действия проводить относительно него более того эти цепочки можно в любой момент разрывать присваивать их значения какую-то переменную и использовать дальнейшем мой любимый способ использования вот этой фиче гонки с роботами ну вы все наверное знаете что если выполняется какая-то автоматическая операция а вы хотите что-то изменить в те миллисекунды которые она выполняется ну скорее всего вручную вас это совершенно не получится вот с этой штукой мы можем поставить какую-то асинхронную задачу на выполнение но не завершать ее в это время сделать что-то потом вызвать метод комплит задача просыпается понимают что она уже не то что раньше и падает но это примерно то что нам было надо этот фреймворк писался в том числе с прицелом на то что это истерички тоже будет его использовать мы ожидали что это будет легко и просто но оказалось все совсем не так сначала когда мы ещё думали что нам нормально жить в разных репозиториях мы пытались затащить этот фреймворк репозиторий пор но выяснилось что копировать нужно слишком много и это вносит дублирование очевидно и потому что этот код появляется сразу 2 репозиториях тогда мы пришли делать это все в репозитории разработки думали что будет легко и просто оказалось сложно и непонятно проблема была даже не столько в том что сам прибор был очень громоздким сколько в том что вы доение работал код assist когда ты и так не понимаешь что надо делать и тебе еще не подсказывает ну как то результат мне кажется они стоящих затраченных усилий поэтому просто забили однако уже давно в воздухе витала идея взаимных code review изначально инициаторами выступали разработчики им было интересно посмотреть как мы проверяем ход принципе review у тестирование до этого быдла но как правило только на тесты на принципиально новую функциональность которая случалась не так часто и туда приглашался 2 тестировщик чтобы он мог понять как изменилась вообще тест этот разработчик чей кот тестировали мы ожидали что разработчики будут давать нам какие-то советы по коду и вообще по языку и мы это получили но на этом не остановились разработчики тоже начали приглашать на свой код от этой практики мы получили массу бонусов в отличие от шерлок афонсо у большинства из нас индуктивное мышление для того чтобы понять теорию нам нужен хотя бы один пример вот в этом случае таким пример стали тесты то есть вы смотрите код чего-то недопоняли пошли посмотрели как он используется в тестах ну и стало как то более менее все понятно ну и также нам тоже было интересно посмотреть как разработчики думают как надо тестировать их код но одними code review сыт не будешь скажете вы и будете правы в review больше всего пугало бьем в тестах а примерно 550 у разработчиков около двух тысяч тестов поэтому мы не стали разбираться с этим бардаком индивидуальные организовали верхние уровни презентации своих тестов от каждой под командой процессе выяснилось что у q&a более системные проверки и более системный подход и есть классные проверки а у разработчиков крутой фигурка и большая тестовая база более того во время этих презентаций мы получили еще физически плюс материальные блюзы во первых у нас появилась документация с описанием всех методов и тем как их с использовать их туда в любой момент можно было посмотреть и мы выяснили почему вы да ей не работал код assist потому что вот когда вот эта колбаса нанизывается из операций и я не может понять какого типа возвращаемое значение аннотации типов решили этот вопрос и мы стали писать тесты все вместе в этот момент мы ещё думали что мы пишем какие-то разные тесты и у нас в итоге будет тесты на api разработчиков и тесты на api тестировщиков однако первый же комментарии к review вопрошала чем это принципиально вообще отличается от того что мы все это время делали выяснилось что не чем просто начали писать эти тесты вместе мы провели инвентаризацию тех тестов которые были у разработчиков и у тестировщиков и нам было очень интересно сколько всего совпадет как то логично предположить что очень много потому что ну мы же тестируемом но это же приложение как вы думаете сколько на самом деле совпало кто считает что вот прям очень много на самом деле никто не считает классно кто считает что совсем чищу и там буквально несколько все разное ага ну про вы видимо тексту не стали поднимать руку потому что выяснилось что совпало где-то около 50 процентов в остальных 50 процентах не было ничего удивительного потому что тестировщики придерживались спецификации когда писали эти тесты разработчики принимали во внимание внутреннее представление система не то чтобы тестировщики не могли додуматься до этих тестов но они были однозначно не первые приходит голову после чего мы начали переносить уникальные проверки помните обещала по это рассказать уникальных проверку нас было 2 проверка файла состояния и репозитория репозитории это собственно те файлы которые у нас выложились результаты наших операций а файл состоянии рассказывает как именно и там разложены и для какой версии подходят мы проверяли эти вещи просто потому что у нас не было никакой другой информации о корректности работы системы были конечно еще стектрейсы и логину пользователям то мы будем выдавать не логе у нас сейчас мобилках примерно 20 миллионов пользователей каждый месяц через нас проходит 5 это трафика поэтому просто не имеем морального права раздавать бинарный мусор поэтому в файле состояния проверялись даже хэши выложенных файлов и вроде бы теперь когда у нас появился этот классный фреймворк у нас в любой момент есть информация о состоянии всего что мы делаем поэтому эти проверки вроде как больше не нужны но они все это просто я писала тест никакого рокет сайенс а нам нужно выложить пачку данных а потом два раза ее обновить пишу запускаю ошибка начинаю разбираться и выясняется что в последней пачки в одном из файлов появилась опечатка я исправляю запускаю ошибка там же я продолжаю капация пытаюсь понять что же черт возьми происходит начинаю смотреть немного выше и выясняется что во 2 пачки данных точно такая же ошибка реальные данные весит очень много поэтому в тестах они используются так только там где без них вообще никак невозможно большинстве случаев мы используем минимальные искусственные данные и отличаются они в большинстве своем только названием и метой информации поэтому это все копируется и переименовывать соответствующим образом обновляю запускаю ошибка ну вы наверно уже догадались чем дело но свою защиту могу сказать что у меня не было этой схемы и я на этот момент возилась с этим уже где-то в районе часа поэтому уже вообще не помнила кто я и как меня зовут да действительно в самой первой пачки была ошибка точно такая же она скопировалась дальше но поскольку я шла с конца я увидел эту ошибку самом в конце если бы мы проверяли что мы выложили как мы выложили там и по сразу увидели что проблемный файл просто не дошел до боя ну а сложно проводить ничего поэтому мы ставили вот эти классные проверки после каждой большой операции и теперь стали знать о нашей системе вообще все в любой момент спустя время выглядит так что вот эти вот проверки слишком избыточные поэтому мы скорее всего оставим вот эту последнюю а остальные будем использовать только во время собственно дебага процесс еще идет мы продолжаем переносите сливай тесты пока мы собираемся прикрутить какие-нибудь удобные отчеты потому что до этого у нас было ли мы привыкли к хорошему ну и возможно стоит еще в процессе появится что нам это все дало во-первых код и тесты лежат в одном репозитории соответственно они не разъезжаются по версиям и у нас просто не бывает такой ситуации когда мы продать или какой-то код запустили на него тесты и половина просто упала у нас больше нет дублей потому что все тесты которые были и там и там мы перенесли в одно место а все остальные тесты между собой отличаются больше не нужно разворачивать окружении разработчики запускали свои тесты с помощью токсо который разворачивал песочницу и в случаях в таких достаточно простых случаях когда нам нужно что они быстро посмотреть разворачивать окружение не нужно review проходит быстрее изначально review тестировщиков проходили как то так ну какой-то код но чего-то делает нравится понятно завершить со временем мы начали поскольку у нас начал появляться но нас начали появляться тесты рядом с кодом мы с их помощью могли понять что лучше что делает код и таким образом потихонечку начали узнавать наш код количество переросло в качество поэтому сейчас мы даже иногда находим ошибки методам внимательного смотри вания в качестве бонуса пересмотрели отношение к review проблема review или заниматься своими делами не уникальна для нас поэтому мы походили по другим командам нашей компании поспрашивали как они решают этот вопрос и выработали для себя такое решение мы выделяем время в течение которого все убирают руки от клавиатуры смотрят review обсуждают обновляют снова обсуждают и review перестали капица и покрываться пылью неожиданный бонус q&a могут сами чинить баги особенно если знают как потому что теперь у нас есть доступ к репозиторию и мы как-то немножечко начали все-таки узнавать код обратный бонус если все знают что надо делать то не надо ждать пока тестировщика найдется время чтобы написать эти тесты чтобы их прогнать потом поэтому разработчики могут сами спокойно писать эти тесты я напоминаю у нас раньше все было через ей и все тесты были написаны на юань с появлением api мы смогли убрать то что можно протестировать через api из этих тестов тесты на япе сейчас запускаются за две минуты меньше медленных тестов работают быстрее чем больше медленных тестов выигрыш 23 минуты конечно не очень классный но оно и понятно почему он не такой высокий потому что на пи переехали только самые-самые такие простые в быстрой проверки но это все равно выигрыш супер читаемая тест вот я вам обещала что вы увидите этого монстра я убрала все предварительные операции заменила параметр иное значение и привела пример acer то значит что здесь происходит мы выполняем метод put библиотеки request с какими-то параметрами и ждем что статус код этого всего будет равен 201 все понятно правду на самом деле понятно пока ты с этим активно работаешь на стоит только уйти в отпуск на больничный или переключиться на другой проект возвращаешься и надо снова курить документацию ошибки выглядели каким-то таким образом 409 не равно 201 спасибо ребята правда не равно но что такое 409 почему мы ждем именно 201 какого черта тут вообще происходит сопи тот же самый тест начал выглядеть так мы вызываем нашу текстуру через нее используем ветку develop в ней создаем продукт android в нем создаем версию v 1.1 с данными из бокса мускул и мета лежащие москва мета и надеемся что результаты этой операции будет кредит если не равно то нам явно скажут конфликт не равно кредит самое главное когда у нас между операциями нет никакого промежутка мы точно знаем что с какими данными мы пришли на вход такие данные у нас в итоге и попадут в репозитории поэтому мы снова можем посмотреть что у нас происходит просто поглядев данные самое главное мы начали придерживаться единого code style а вы как-то пришли на работу а там на ресепшене вот такое по этой картинке вы не можете понять что у нас компании очень серьезно относится к от style ну все классно вроде все замечательно и что все вообще замечательный никаких проблем нет конечно же есть тестировщики добрались до процессы review с непривычки очень трепетно ждешь когда тебе что-нибудь напишут я как-то написала какие-то тесты выложил их в ливию и потом уже после окончания рабочего дня почему-то решила почитать рабочую почту я не знаю всех крусибл так настроены или это только наша фишка но на почту приходит собственно сами комментарии ссылка на review а какой код комментируется неизвестно и вот я смотрю почту и а там вот такое пока я добралась до компьютера я прошла все стадии да ничего там лишнего он придирается да боже я такая тупая я бы уже никогда не буду ничего выкладывать на review оказалось что я два раза скопировал один и тот же комментарий на самом деле постепенно начинаешь спокойно к этому относиться особенно если коллеги не троллят если раньше мы написали код и отдали в тестировании а тестировщики написали тесты и как бы и все и и забыли то теперь если это написал код тебе надо написать нему тесты если ты выложил тест код на review ты должен выложить на review тесты и если тебе оно review пришло пришел какой то код будь добр посмотри к нему тесты ну опять же все еще у нас копились превьюшки но потом мы перешли вот но новый способ review у всех появилось на это время поэтому эта проблема тоже решилась большая проблема дублирования задач когда разные под команды могут сделать одну задачу а у каждой под команды есть свой спа и живи равно и заводим эту задачу во всех список а дальше вот кто не берется как правило у кого есть время у кого есть возможность то делает эта задача остальные закрываются как дубликаты у нас недавно было очень классно интересная задача про нагрузочное тестирование на реальных данных помните я говорила что с реальными данными у нас все очень плохо потому что они очень тяжелые и вот их количество со временем только растет а время за которое мы обязаны их доставить на бой она не увеличивается совершенно вместе с ними поэтому нам очень важно знать что мы не декодируем по времени и вот эта задача она была классная не только потому что оно само по себе классная но и выяснил что она не чистое дублирование потому что каждая под команды предлагала свой вариант решения в итоге на нее нашлось время у админов они запилили средствами дженкинса и она сейчас очень классный на самом деле работает на бою как мы собираемся решать эту проблему мы хотим разделить все задачи 1 space она обще проектные и на те которые будут делать только представители этой по компот команды и не буду делиться ни с кем соответственно проектные задачи мы вынесем в space и проектов а остальные задачи останутся у нас и будут браться в спринт одновременно вот с этими проектами задачами у нас все еще полно очень медленных тестов на ивой и они все еще требует разворачивания окружения но вот вся эта история нас вдохновила и мы когда разберемся совсем рефакторинга мы попробуем внести эти тесты тоже в проект в репозитории проекта и возможно к нему удастся прикрутить токс но и в любом случае они все еще гоняются на дженкинса на каждый build ну здорово я вам тут и ровно полчаса рассказывала классную штуку в большой проект большая компания все покрыто тестами абсолютно все а если у вас маленький проектик и вы сидите наверное думаете ну и чего то что я полчаса эти потратил а ещё у нас есть сервис статистики этот сервис построен по принципам микро сервисной архитектуры и у него есть одна маленькая но очень подвижная часть валидатор джейсон сообщений по определенной схеме на статистику статистика очень важна для нашей компании поэтому мы собственно опять выполняем роль транспорта через нас проходят все что мы собираем на этот раз уже со всех девайсов на только с мобильных но с десктопа из онлайна и дальше мы это де дуплицировать немного обогащаем и передаем во внутренние хранилища с которым уже начинают работать аналитики поскольку на статистику завязано очень много команд нам нужно делать все изменения быстро и одновременно как мы раньше это все делали разработать очень маленькие изменения правда поэтому разработчик меня и буквально две три строчки прогоняет тесты отдает тестирование дальше возможны два варианта либо тестировщик завершает ту задачу которую он делает соответственно эта задача ждет пока он освободится либо тестировщик ставить точку с запятой в том что он делает прерывается на эту задачу и потом обратно возвращается к тому с чего он начал оба варианта так себе потом нужно разворачивать окружении понятно что с микро сервисами это немного проще чем с монолитом но это все равно требует какого-то времени после тестировщик меняет ход тестов прогоняет теста на и скорее всего это все уходит в релиз здесь очень редко бывают возвраты неравнодушный разработчик провел сравнительный анализ то есть выполнял шаг инвентаризация и выяснил что в тестах разработки данные захардкожены а в распоряжении поесть офигенный генератор случайных значений и множество тестов на его основе тогда он выполнил шаг перенос уникальных проверки на эту же уникальные проверки и перенес видеть код вот этого генератора и все эти тесты в репозитории с этим валидатор ом и теперь наш цикл начал выглядеть так разработчик меня и 2 3 строчки он же меняет 2 3 строчки в тестах запускает все что у него есть из тестов и потом это уходит на бой причем выглядит он это сам потому что мы же помню да что у него есть план буки а если это может сделать кто угодно то какая разница кто и так чем у нас ну чего этот проект чем проще написание тестов тем больше людей могут их писать чем больше людей пишут тесты тем быстрее приложения тестируется тем быстрее уходит на бой к тому же не обязательно писать такой огромный фреймворк как у нас можно воспользоваться какими-то готовыми решениями взаимные code review это хорошо тот кто не пишет код может посмотреть как его правильно сайт и больше понять что-то о приложении тот кто пишет код может выложить свой свой код на review получить какой-то фидбэк но и всегда есть кто-то кто поможет посоветует подскажет как лучше и самое главное все абсолютно все существуют в одном информационном поле потому что когда она митинга кто-то рассказывает ну вот я сделал вот это я сделал вот то это очень часто пролетает мимо ушей а во время потреби мы можем посмотреть что именно было сделано если code review не поможет помогут презентации во-первых человек которые готовятся к презентации может очень много для себя самого понять из того что он сделал потому что систематизируется информация презентации не обязательно делать как в нашем случае когда вот так вот нужно поделиться очень большим количеством года у нас компания например других к командах делают презентации если разрабатывает какую-то очень большую сложную фичу и во время review можно просто что-то пропустить или не понять к тому же как мы выяснили в процессе своего своих презентаций могут возникнуть какие-то вопросы которые ни у кого даже до этого не возникали когда мы пожаловались на то что у нас выделены нет кота сестра нам ребят сковали о по а что ж вы раньше-то не сказали и только благодаря презентации мы это выяснили инвентаризация это очень хорошо вот вы сегодня пришли сюда а те кто смотрят онлайн-трансляцию потратили время и деньги на то чтобы посмотреть онлайн трансляцию а те кто это будет смотреть записи потратить свое время на то чтобы посмотреть эту запись и все это только потому что во мне все равно и вы хотите что-то сделать в себе и в своей работе в своей компании своей команде лучше а можно это сделать еще особо далеко никуда не хотя не приезжая в новую сибирскую конференцию просто посмотрев что делают люди вокруг вас в вашей команде в вашей компании потому что наверняка они делают что-то классное о чем вы просто не догадывались и самое главное решаете проблемы по мере поступления не настраиваетесь на то что у вас ничего не получится вас никто не поддерживает потому что вы все делаете одно и то же дело спасибо за внимание светлана спасибо большое благодарю тебя вот программного комитета тур комитетом как ты думаю как какая думаешь реакция будет какие сейчас вопросах этот поддерживают тебя или наоборот сейчас и узнаем слишком мало тестировщиков нет тест power ребят вы когда думать что вот он всё делал неправильно попробуйте переформулировать вопрос для чего сосать какой цели ну вот так вот да здравствуйте спасибо за доклад мы наверное основной такой вопрос на поверхность я как понимаю вас тестирование написание авто тестов это была такая вещь себе то есть разработчики ник ну никакой причастности к этому не имели и вы вот так вот резко привлекли их не только кровью но и даже к написанию функциональных тестов как я понял то есть и вопрос какова мотивация была для разработчиков в этом процессе и насколько простым и быстрым был вот этот вот самый переход я-то вначале говорила что я работаю в очень классный к морю меня реально очень классная команда у нас было вот это вот чисто и разделение что здесь тестировщики тестирую это здесь разработчики разрабатывают чисто процессное то есть мы вот так вот привыкли дела когда я пришла в эту команду там уже так привыкли делать но если нужна какая-то помощь хоть чем-то там дай посмотреть код да и куда нибудь потыкай дай play бучик по потестить это все было совершенно без проблем у меня была забавная ситуация я не понимала что происходит в каком-то те кити пошла в review посмотрела что делает код и а у нас есть такая небольшая проблема была сейчас уже и починили у нас периодически отваливалась вот это вот связь жиры и крусибл и это фишаем и в какой-то момент я прихожу в ticket я не понимаю что там написано я собираюсь посмотреть в коде они куда тыкать и я подняла вам вопросу типу ребята давайте мы там вот такие случаи давайте вы чего-нибудь будете писать там типа тестировщики делайте вот так или вам надо проверить вот это ну потому что спешит тикеты для себя особенно технические не фига не понятно и мой тогдашний начальник он как-то так типа чего почему у нас вообще тестировщиком надо входить в код чтобы понять чего надо протестировать эти мы перестанем так делать я говорю почему перестанем то но это же классно я посмотрела я никого не потыркал а мне все понятно сразу стала то есть это это было в воздухе ну как то так не было какого-то такого же типа ты тестировщик вот сиди вон там пиши свои тесты не лезть вот в мой кот поэтому у нас не было никакой проблемы когда мы вот это подняли и сказали давайте вместе это будем делать все таки он классно давайте ну ладно будем считать что у вас все так замечательно спасибо спасибо дает разрешение сейчас уже есть микрофон здесь потом человек давно тянет руку что и потом на второй ряд огромную очередь уже из вопросов спасибо за доклад у меня такой вопрос а как насчет таких двух рисков 1 риск что тестировщик посмотрим на код и на review и станет делать тесты похоже ну подгонять под код авторы риск что тестировщик сонет разработчикам идет разработка я ждала этого вопроса с первым риском это на самом деле интересно я бы наверное сказал а так что у нас вот так как написаны тесты у этого довольно большой вес это как разработчики пишет код они же между собой тоже там общаются один говорит там значит вот вот здесь вот не использую вот этот метод потому что это фигня здесь я бы вот это сначала сюда присвоила вот это туда то есть мы не просто смотрим чужой код чтобы понимать что он делать но мы ещё и можем знакомиться с лучшими практиками которые считаются хорошими нашей команде но если это х считается хорошим для разработчиков нашей команде почему это плохо для тестировщиков нашей команде насчет того чтобы становиться разработчикам я занимаюсь тестированием 15 лет при этом я закончила факультет прикладной математики готова то есть фактически по образованию я программист я много чем занималась своей жизни кроме тестирования но я продолжу заниматься тестированием потому что меня это классно и интересно ну то есть пока наверно так если кто-то захочет стать разработчиком у нас есть вот этот сейчас отличный переходный период когда мы пытаемся всех поднять до более высокого уровня соответственно научить разработчиков тестировать научить админов писать код научить тестировщиков писать код то есть то чего они до этого ну не так хорошо умели поэтому в принципе я думаю что у нас сейчас в нашей команде есть еще очень большой потенциал куда можно развиваться будучи при этом ну как бы таким тестировщиком пишущим код не знаю посмотрим как дальше будет так у нас вопрос вот около двери человек с этого софитов давно кенгуру спасибо смотреть у меня в два небольших вопроса первый не смотрели в сторону беги там части в питоне там biheight farming и второе а нет ли риска того что когда вы объединяете тесты или убираете лишнее покрытие нет ли искушения для разработчика поправив оба теста везде пройти и задачу и при этом ты не поломать в итоге плод и если он сам его там же его релизе так пробить eden если я правильно понимаю в значении этого термина вот те тесты который тот фреймворк который у нас появился он примерно беде и делает то есть мы пишем комментарии стиле и в нвн given в ндн то есть в принципе да я говорю фреймворка пит не обязательно делать когда самим у нас есть проблема с но данный интерьер к тому же но у нас очень сложная предметная область но мне кажется что это вполне канале забегите скажем так по поводу того что тесты может можно ухудшить покрытие правильно понимаете совсем не про то что разработчик может решить задачу решить и неправильно с точки зрения бизнес-логики поправить тесты и так как тест 1 юность нет какой тест и df тест фактически сафу покрывает малинка пересекать пересекаться между собой делает одну задачку то есть в одной точке правят и следующий при релизе этот тест проходит пока не тает продаж понятно ну тут надо понимать что у нас все еще есть разработчики которые пишут код у нас все еще есть тестировщики которые занимаются его тестированием и все еще есть админы которые занимаются администрирования поэтому просто так взять и исправить тесты никому не сказать в принципе наверное реально потому что потом придет злой тестировщик скажет что это за фигня здесь было не так во первых во вторых есть гид он хранит все и ну и это все же попадает на review и возникает вопрос а какого черта ты исправил этот тест ну вот мне показалось что крайне так неправильно давай не будем так делать в принципе решается вот этим review так микрофон перехватили в центре зала помимо да и мы вернёмся всё-таки на второй ряд куда обещали давайте спасибо за доклад у меня такой вопрос вот тестировщики пишу тесты разработчики миша тесты армен и пишут просто не админы пишет без ты кто составляет тест кейсов не бывает такого у вас что приходит вам на кадре view пест какое-то его смотрите блин не полный не могу смотреть на это я бы лучше сама это написала нет такого боретесь с этим как-то да у нас есть такая проблема проблема у нас выглядело так когда у нас разработчики начали помогает заводить тикет и потому что зрительно вот мы перешли на вот эту новую систему с api и ветками и на транспорт мы совершенно новой на микро сервисный перешли но это произошло какое-то время назад но мы все еще как бы разгребаем последствия и делаем тестирование и разработчики нам помогали заводить тикет и то есть там вот здесь вот вот это вот задача такая то здесь надо проверить вот это вот это вот это потому что они знают что надо проверить а потом приходит условная цвета и записывает к этому еще там что 5 тестов а может 10 а может ещё сколько-то то есть решение по тестовому покрытию за тестировщиком есть опять же есть юниты unit-тест у которых собирается тоже покрытие она собирается автоматически и там решение за разработкой то есть вот мы что-то не покрыли они сидят и обсуждают нам действительно надо это покрыть или и вот здесь не надо здесь мы не хотим 100 процентов здесь нам и так нормально на вопроса 2 ряд вытяните руки кто еще хочет давай а человек 3 отказался спасибо за доклад вопрос такое от вы упомянули что работаете в бронях насколько эти branch и долгоживущий и не возникает ли проблем после слияния в мастер пресс-релизом то есть не приходится еще раз про гонитесь набора тестов и вообще это branch и именно как встречен продакшен или это именно фичи branch и для разработки это нет это это это 1000 в раньше то есть у нас есть такие очень большой толстый эксперимент мы пока не готовы этим портить мастер скажем так но это нужно тестировать нужно тестировать очень тщательно и это тестируется внутри ветки то есть мы у себя на стилинг да это это пока я пока темы station gama boy пока работает только на мастере удастся скажите настолько долгоживущие изменения в branch of то есть это недели это и нигилист есть опять же разные кейсы есть вот эти вот штуки которые автоматически выкладываются роботами роботы за собой подчищают задачи branch и сразу же и у нас даже была свое время такая проблема мы на нее написали кучу классных тестов когда создается один branch туда начинает выкладываться данные создается другой branch туда начинают выкладываться данные потом и так далее и робот занят созданием раньше выкладывание данных это довольно толстой операции а потом начинает подчищать за собой старые бранча и как-то раз он пытался удалить branch который уже не существовал после слияния как часто возникают конфликты не могу сказать что часто вот была вот эта проблема мы как как-то ее решили я честно говоря сейчас не вспомню как потому что моя часть была в том что вы написать эти тесты iq написала они проходят но все замечательно ну и плюс есть вот эти долл долгоживущие фича branch и когда к нам приходят люди говорят мы хотим тестировать совет кидайте на улитку мы даем ветку и она живет вот пока им надо вот вопрос руку тянет человек до подними руку пожал то и кто-то еще поднимаете светлана добрый день спасибо за доклад оон была очень интересная у меня несколько вопросов первое скажите сколько у вас разработчиков и тестировщиков проста для понимания и основной вопрос это в том как мы вообще удалось собственно переманить разработчиков на свою сторону и как удалось перебороть их нежелание вообще как бы погружаться в тестировании сказать что вот это не наша мы специально наняли для этого тестировщиками там был fly дикие я просто не знаю как как тут стать у нас в команде 8 человек 4 разработчика 2 тестировщика 2 админа один из относительно то есть нету ни аутсорс они не такие все нас внутренние команды в основном и делаем внутренние сервисы поэтому мы все рядом еще раз признаюсь любви своей команде потому что они классные они изначально были настроены на совместную работу и нет ни у кого не было сопротивление никто не сказал что я не хочу этим заниматься у нас была проблема не разработчики тестировщики там было все гораздо веселее у нас есть такой внутренний мимо отвращения конфигу у нас разработчики и некоторые тестировщики не я не хотели писать play муки не хотели им заниматься потому что это ж надо разбираться в анси балансе было действительно не за 5 минут и его не поймешь и это нужно регулярно поддерживать поэтому было некоторое сопротивление а давайте мы лучше попробуем что мы собираюсь получив а ну да руками раскатывать этого вообще не проблема я приходила говорил давай сделаем play бог вот же по и буква g быстрее всего но целесообразность сработало это очень классные очень умные люди которые понимают что так действительно лучше у вас отличная команда спасибо а потом раз пробовали ну когда сами стали же виду и как-то ничего еще вопросы я рук не вижу ничего не надо давай объектов табуретом счастью чтобы ничего не видно а ты помнишь откуда бы лучше вопрос а у нас уже есть она же не было сережка с докладчиком лучший вопрос лучше вопрос ну вот на самом деле мне вот этот последний понравился про то как мы преодолевая отвращение потому что отвращение его желтая выливали это было про мою личную любовь совсем так что мне тоже понравилось расскажи пожалуйста как тебя звать еще раз где ты работаешь почему ты спросил именно это меня зовут геннадий компания бкс и я начальник управления контроля качества правильных продуктов вопрос задал потому что у нас девять команд тестирование и во всех а них во всех командах разрозненные процессы и разные разработчики и кто-то работает там sound source он готов внутренняя команда кто-то сидит разработчики в москве тестировщики новосибирске и вот добиться вот этого на мой взгляд это прям ну большая цель и большое достижение надо понимать что у нас такое тоже есть у нас тоже есть разные команды просто в нашей все приходится работать команда мездры поэтому мы знаем все проблемы которые есть окей спасибо"
}
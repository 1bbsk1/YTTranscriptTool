{
  "video_id": "1ZGfN_uBpO8",
  "channel": "HighLoadChannel",
  "title": "От сервиса нагрузочного тестирования к центру компетенций  / Урал Нургалин (Райффайзенбанк)",
  "views": 954,
  "duration": 3103,
  "published": "2020-04-14T11:28:39-07:00",
  "text": "меня зовут урал я работаю в компании райффайзенбанк и наша команда занимается груши тестированием да и я в этой команде тимлид вот сегодня поговорим про нагрузочное тестирование как одну из мер по обеспечению стабильности приложений вот ведь если взять бизнес любой бизнес хочет чтобы приложение работали стабильно особенности хохолок приложение то есть две нас не любит когда приложение падает когда они получают какие-то проблемы те же репутационные риски про которые частенько мы слышим и также бизнес любит когда программно-аппаратной платформы прогнозируемо то есть они должны понимать сколько текущие в приложении держит до наверняка кто-то встречался с ситуация когда бизнес хочет расшириться до но не понимает сможем в текущей конфигурации там программно-аппаратной конфигурации приложения вообще выдержать нагрузку и эта проблема да и это никак не полечить без проведения нагружаете не понять сколько мы держим пока мы не пройдём какие-то тесты нагрузочные вот поэтому сегодня поговорим про на груше тестирование к сожалению не везде она проводится должным образом а где-то ну и вовсе не проводится почему-то многие любят его откладывать в долгий ящик все думают ну как нибудь другой раз проведём сейчас мы вот свои как бы фича там выкатим да про нагрузка больше забывает вот поэтому сегодня я хочу вам рассказать про то как мы делаем на груше тестирования в нашем банке поделиться одень практиками которые у нас сформировались вот и если будут вопросы мы можем обсудить некоторые вещи поехали вот собственно чем поговорим про сервисный подход в некоторых компаниях особенно крупных есть целые отделы который занимается тестерами производительности кстати протестируем производились кто знает чем отличается нагрузочное тестирование от тестер они производились поднимите руки пожалуйста да немного да вот так вот что в некоторых этот момент не смущал когда буду говорить на грудь тестирование я был подразумевать что этот и стервой производительности вот на самом деле истина производительности кто не знает это более общий термин а нагрузочным тесте это лишь один из подвидов тестируем производительности вот сегодня когда мне просто больше нравится термин нагружать тестирования и в слайде у меня будет будут сокращение н т о сокращении тоже больше нравится чем тестирование производительности поэтому будьте к этому готовы что он будет сном звучать нагрузочное тестирование вот расскажу про наш опыт и про то куда мы движемся да то есть как развивается наша команда какие у нас были сложности и как как мы к этому пришли вот давайте рассмотрим в принципе какие модели проведения груши тестирования условно можно выделить первое это наверное самый шикарный вариант это когда команда которая развивает свой продукт умеет самостоятельно проводить нагрузку то есть имеет полный спектр компетенций нагрузочное тестирование может провести проанализировать сделать какие-то выводы вот этот самый хороший вариант второй вариант это можно принципе привлечь вейдера мама гек так и делают здесь и свои это минус и то есть нужно время на то чтобы там какие-то бюрократические вещи организовать вот и третий вариант это можно сделать сервисную команду собственно про нее сегодня мы и будем говорить вот чего всё начиналось на самом деле нашей команде сейчас три с половиной года вот 2020 году я пришел в райффайзенбанк был первым человеком этой команде и собственно с этого все началось но этому моменту соответственно были предпосылки 1 вообще если по правде говоря загрузить это делалось то есть нельзя сказать что нагрузки не проводилось но были свои проблемы то есть делали нагрузка разные вендоры и про и те наработки те практик которые они делали в ходе на грудь тестирование пропадали то есть инженер уходил все забывалось нужно было все заново делать вот второе никто не понимал как принц проводится на груше тестирования не было как можно контроля каждый делал на что горазд вот и с этим нужно было что-то делать к счастью мои руководители очень опытные менеджеры они понимали что нагрузить его нужно развивать что с этим надо что то делать я это не решили организовать такую серьёзную команду то есть они не стали формировать какой-то отдел просто решили сделать внутри куэй команду которая собственно будет этим заниматься вот собственно отсюда выросли задача для сервисной команда в первую очередь страдали команда вы проектные которые занимались там разработкой к или там продукту до которые они разрабатывают я дают продуктовую команду или там дорабатывают и они практически не тестировали своей доработка на нагрузку это будет чего-то тем что вот они отдаются это дело а потом команда это все разгребает частые падения этом вроде и со всеми вытекающими вот так же не было то есть иногда нужно провести на груше тестирование допустим только там просто в командах иногда нужно просто проконсультировать то есть понять допустим вообще нужно ли нагрузить тестирование не всегда и смысл проводить на грош тестер она с таким тоже сталкивались вот не принципе нагружать тестерами была слабо развита я это понял ещё с первых встреч некоторые тасман уже даже принципе не представляли как она проводится и что там еще происходит вот ну и плюс мы должны были как раз таки вести базу знаний потестируем системам чтобы эти наработки сохранялись и их может был переиспользовать то есть тем самым мы сокращали бы время на три теста да и сокращали бы трудозатраты до 1 к собственно чисто же повышалась бы потому что уже наработки есть за ночью придурки нужно итак кто основные пользователи нашим сервисом эта проектная команда не временные и как правило они не могут себе позволить иметь составе своей команды нагрузочным тестировщика ну дай бог им перепадет обычный тестировщик и но такой шучу вот но нагрузки строчек и не достается вот это это время команда то есть они продукт развили доработали передали в команду продуктового да и разошлись и там другие проекты вот но помимо этому выяснили что много много фруктов командах также не добруш тестирование иначе к нам приходить казалось бы да высоко нагруженный проект очень высоко огромная система должна тестироваться регулярно практически каждым релизом но мы выясняем что они это не делают у них есть проблемы в продукте vi и собственно вот они узнали про нас и начали к нам но регулярно ходить вот ну и нас через опыт штука нам обращались администратора допустим мы помогали им к администраторам тестировать mq брокера также к нам обращались информационно безопасность мы помогали делать скрипты чтобы нагрузить firewall поэтому можно сказать что к нам обращается принципе все эти подразделения но в основном это мы ориентирована проектной команды так давайте рассмотрим рассмотрим рабочий цикл сервиса как мы работаем у нас на базе atlassian а то есть conference заводится задачах жира и прочим зависит от жира желательно заранее хотя бы за месяц чтобы люди не прибегали и не кричали что нам нужно было сделать ещё вчера вот у нас есть своя команда sca и на неё не попадает туда все задачи мы видим на своей доске и можем принцип уже как-то планировать вот так же для чего таскаю важно в ней можно отслеживать статусы то есть это для нас интересна и для команды которая смотрит статус вообще что происходит задачей они тоже могут зайти посмотреть вообще какой-то на какой стадии мы находимся добавить комментарий к миру что еще мы просим соответственно писать цели тестирования когда мы просим сделать цели тестирование команда по краю начинает задумываться что им нужно то есть не всегда они об этом думают и когда приходит говорят хотим пройти на груше тестирование вот по поводу целей иногда бывает такое что вот я вам сказал что приходит до смерти говорит я хочу провести нагрузить тестирование ну соответствие приходится его как-то подводить тому что на груше тестера не является самоцелью да то есть мы можем не просто пройти на бросить и сервер носить какая конкретно цель вот поэтому а ещё был случай когда приходит с менеджер и говорит спрашивала вы ночи что хотите вот какая вот задача ну такой ну нам отчет нужен говорит проект нужно закрыть на нужно четко давать мы нарисуем в пейнте отчётности прям отчет нужен вот дабы бывают такие забавные ситуации не все понимают что просто провести нагрузку это самоцель и поэтому мы стараемся чтобы они эту свою цель сформулировали для этого просим заполнить опросник вот этот привел небольшие пункты небольшую часть пунктов которым просим заполнить а на самом деле гораздо больше в ней то есть ли чего опросник вообще полезен когда команда приходит она принципе не понимает во первых не понимать что им нужно вот а во-вторых информацию которая нужно собрать ей владеют разные люди этому архитектор там аналитик и там тестировщик когда они и собирают вот они позволяют нам сократить наши временные трудозатраты то есть мы получаем культуру информацию и понимаем что тестировать и сколько на это все время может понадобиться вот поэтому обязательно просим заполнить опросник не все конец справляются надо признаться обращается к нам мы помогаем тут принципе нормально то что люди которые слышали про на груше тестирования и хочу просить опросник заполнить мы тоже понимаем что то не очень гуманно дальше мы делаем встречу как раз такие встречи с командой позволяет нам синхронизироваться по целям в первую очередь то то что сказал что цель не всегда бывает изначально внятно и вот и как раз первую очередь синхронизировать по целям чтобы выстроить дальнейшие шаги уже вот и соответственно эта встреча мы максимально стараемся расспросить эти нюансы самого приложения протоколы компоненты какие есть да какой вообще там нагрузка чтобы понять каким инструментом других примером какие-то как паком протокол эмулировать нагрузку вот и хотя примерно строки чтобы они обозначены просто иногда бывает что приходит к нам за на груше тестированием говорят что нам нужно протестировать там через месяц а у них и щука фон шестерни прошло вот начиная внутри такого у нас было поэтому в первую очередь мы задаем вопрос а вы вообще узнали теста провели вот и тут начинается ну мы там скоро проведён да вот когда проведи туда приходить и ну конечно так не говорю я им говорю что ребята нам для того чтобы проводить нагрузка множество убедит что у вас к функционал работает правильно и у нас не будет проблем с тем что проводить три теста из-за того что во сколько там баги вот дальше в том делом готовим оценку как я вам говорил что основные потребители у нас проектной команды и у них бюджета как правило ну небольшие до мягко говоря многие не закладывают туда на груше тестирования потом приходят и говорят а можно поменьше сделать оценку мы как бы не можем себе такого позволить выгоды дорогие часто такое совершенно нагрузите стерн другое мы сейчас на самом деле со временем гораздо быстрее делаем и меньше трудозатрат у нас нагрузку но тем не менее говорят вы дорогие и кстати были случаи когда просто отказывались приходится моим делом оценку мальки не вы как бы у нас всего полтора миллиона а вы хотите там 500 тысяч себе забрать она нагрузкой нет лучше мы так до такие случаи были и не один раз и поэтому я всем то с менеджером который и прочих менеджер уже заранее говорю то есть изначально они практически закладывали или закладывали какие-то мизерные человека дни в свои оценки имбирь и что вот приходите ко мне давайте оценим вообще заранее вот на ваш проект сколько потратиться потребуется человек они там на пройди нагрузку нагрузки вот и это работает на самом деле со времени на все начинают уже заранее закладывать трудозатраты из такие проблемы уходят со временем дальше соответственно оценки мы от оценку у нас такая примитивная то есть мы ее селенит детализируем такие базовые вещи мы оцениваем у нас есть свой шаблон тут принципе ничего такого наверно выделить нет просто мы скажем что мы оценим час человека днях этого достаточно и важна эта оценку зафиксировать и чтобы дальнейшем не было проблем с команда что они у них как раз закончился и чтобы такого небо дальше соответствие мы планируем работы и выделяем инженеры да у нас сейчас команде пять человек включая меня и вот на все про все получается я сам час к нагрузке тестирование привлекают вот именно там написать скрипты там запустить очень редко и только тимлида могу себе позволить вот и ну после глаз и тестировал в марте напротив расскажу помогал вот срез 4 человек у нас развивается весь поток заявок каким сказал у нас ведет все confluence мы там готовим план соответственно его согласовываем вот и третий пункт по поводу статусов здесь важный момент статусу очень важная часть потому что как я сказал я не сказал что у нас команда она локация совсем отдельно то есть мы не выделяем инженером в команду он в команде не сидит мы сидим у нас отдельно свойств свое место никуда мы не шли ни отправляем мало ли там кому-то понравится человек да и заберет себе вот моя боязнь на как тимлида что поэтому мы решили лучше будем как-то синхронизироваться через статуса вот поэтому сейчас у нас мы проводим 1 неделю статус это может не делаем сейчас оффлайн встреча с мама так либо con школ либо скайпе thing вот на нем обсуждаем текущий статус пинаем команду потому что часто команда бывает то есть мы делим задачи те задачи которые делает команда и те задачи которые делом и то есть свой час непонятная выполняем а вот вторая часть обычно хромает подпинывать и для эту статься очень хорошо подходит но бывают случаи когда команда на этом паразитирует мы проводим статуса они на нашем статусе начинают обсуждать свои проблемы были такие случаи когда вот они прямо грива спасибо урала городу что в этом статус сделали от а вот мы давно хотели поговорить с админами у нас тут куча куча там всего накопилось админы говорит а у нас к вам вопрос накопились хочу это выгод под одной четкой со всех систем потому что ты к нам лезете как нам отделить ваш трафик вот такое тоже случается они прямо наш статусах решает свои проблемы ну ладно вам что пользовал дальше собстна проведения работ здесь особо выделить ничего точно цикл достаточно стандартно единственное что можем ответить что мы методику не не формируем на заранее то есть она у нас формируется в там принцип течение всего проекта то есть база вещи то есть цели мы определяем сразу каким скал и профиль нагрузку на прием сразу то есть эти вещи мы стараемся согласовать отдельно то есть без без написания все методики вот и дальше уже методика разрабатывается течение всего проекта вплоть там за байда написание отчета вот мы пристально многих так скажете ну поднимите руки кто вообще методику там правит течение всего те кто делать нагрузки мида все про виды ну это без этого никак иногда бывает дальше-то делать и виде что ты делаешь это не так что нужно что-то менять поэтому здесь мы не стесняемся говорим о команде что мы хотели бы это допустим переделай да вот и вам чтоб из команды согласовать не надо делать это в тихоря методика мы вообще полностью оно сформировано еще раз проговорим с командой делаем про mcfly навстречу позовем всю команду говорим ребята вот смотреть как будем тестировать вот такую нагрузкам подавать вот ребята с такой стенд очень начинаем с цели вот такая цель мы преследуем от компании будем тестировать вот под такой нагрузкой вы с этим мог но не все кивает головой как будто понимает о чем мы говорим вот мы горе мог но все тогда к нам вопрос нет едем дальше а какие тесты мы проводим когда к нам приходит к это проектной команда это наиболее частые наши клиенты в первую очередь мы проводим тест на определение на соответствие требования производительности но если они есть кстати да у кого кстати есть практика чтобы прям на все система там делают требования просто у нас с этим не очень хорошо на самом деле в коста де хорошо вот но на самом деле требуется сделаются но не всегда и они не всегда качественно то есть иногда нам говорят ну у нас там должно быть даже система должна держать там 1000 заявок в сутки до непонятно потом как это делить на начаться в минуту сколько надо держать вот еще забывает про наполнение базы вот единственная раз когда прямо крутые были требования они пром прописали мы должны держать такую нагрузку при этом базе данных должно быть там 110 тысяч активных договоров и там же кучу пункту увал реально реально крутые требования то есть они учли все риски которые все моменты которые могут повлечь на производительность вот ну опционально тест с масштабируемости иногда бывает наверно большинство админов думают если закидать железом систему да она станет работать быстрее это к сожаление так у нас были случаи даже когда дополнительно дополнительная до степи ухудшили производительность систем на базе oracle докинули туда жгучая der думаю что поможет стал еще хуже такое тоже бывает поэтому мы стараемся объяснять людям что добавление железо но не обязательно приведет к росту производительности то есть какой-то момент мы можем опереться другие ограничения вот и объясняем что чтобы в этом убедиться нужно провести тест масштабируемости давайте мы там добавим либо но дали бы там процессор его память проведем все-таки испытания и убедимся что масштабируемость есть вот но это как я написал опциональный тесто не всегда так не плюс иногда мы когда видим риск того что база будет наполняться опять поговорим с команда мы проводим наполнение дополнить наполнения б.д. база данных данными и оценивая насколько вообще влияет дополнительно там увеличение объема б д на на производительность дальше чем начинаем начинаем тест iq оправился ну с интеграционного контра часто бывает что сама система работает хорошо но проблема бывает в интеграция то есть особенно к новой доработки бывает проблема сумку допустим там мы выставили кит дефолтные настройки и размер сообщения допустим не подходит вообще там дефолтный размер не позволяет отправлять и получать сообщения через им куда их нужно увеличить таки такие вещи они хорошо отлавливаются туда даже не обязательно большую нагрузку давать главная работа с правильным данными а дальше ну еще нужно отметить что интеграционный контур у нас не всегда про лайк кстати когда говорят про лайк опытный на грудь тестировщик начинает смеяться и плакать вот а когда говоришь что почти прогулок да у них улыбку сменяется ярость ну чё то такое вообще дачу на этом сцене сделаем вот поэтому почти пруд лайк да там бывают диски другие типы процессор может быть другой ну покрайней мере архитектурное по количеству там я der допустимые памяти схожи да можно как-то на этом закрыть глаза допустить что да ладно пускай у нас чуть слабее одну на этом начинаем работать у нас к сожалению нет отдельного контра нагрузочного поэтому мы вот начинаем с интеграционному интеграционное да это еще встретили там пре-продакшн называют его вот нас он называется превью person контур а дальше что мы делаем когда вторая задача которой основная интересует бизнес это сколько мы выдержим в принципе да и без этого никак то есть когда мы проводим нагрузку именно за эти многие приходят мы не понимаем они говорят мы не понимаем сколько матч продержимся или вот мы хотим новую там платформу но как у нас проблемы мы не понимаешь сколько мы продержимся до сколько нам вообще закладывать на проект по внедрению платформа вот такие вопросы постоянно задают и с этим к нам приходит поэтому когда мы проводим такие теста мы меняем сначала мы конфигурацию лента кожа единственным заменяем эмуляторе внешней системы потому что не система у нас также в тестом контуре и они ни разу не про лайк они слабы и вот мы попадаем нагрузка не подыхают раньше чем наши наш тестирую система поэтому их мы меняем чтобы как бы наша система могла дальше увеличить свой производительностью разгоняться вот дальше мы опять же разгоняемся до упора и смотрим вообще показываем результаты ребята вас устраивать тут такие цифры да вот мы получили такой дтп с вот они говорят на борт до устраивает ним как бы завершаем на эту нагрузку до и нам хорошо потому что нам нужно работать быстро вот они garden если они горят нас не устраивает тогда мы уже идем дальше и просим говорим да давайте мы постараемся приблизить наш стенд про лайк и тогда вам уже точно скажем то что и точно да тогда вам более достоверно более ставим информацию предоставим то есть меняем добавляем там кластер если это у нас какой-то приказ на сервере стоит с кластером добавляем там я одра память и делаем ретест опять же нагружаем по максимуму и уже смотрим сколько мы выдержали так дальше презентации результатов тут тоже есть важный момент поначалу мы просто брали и по привычке отправляли отчет сделали нагрузку отправлять чудо и там разбирайтесь сами отчет вас были большими как нас учили наши старшие товарищи с кучей там графиков с кучи там ненужной информации как мы поняли потом уже вот сейчас у нас результаты результата отчет не такой большой но мы акцентируем внимание что вот нас вот то что у нас 1 полстранички они должны говорить и менеджеру и devops у там не разработчику что что системой да вот и дальше уже там под катом какие-то там графики добавляем если кому то интересно не доходит смотрят основная часть которую люди читают кстати не все который открывает отчет дочитывает принципе даже итоге вот поэтому мы стараемся вот именно 1 полстранички сделать максимально информативно что понимали все вот для чего нужны еще презентации результата почему не можем отправить и как бы сказать ребята наши вот вам отчет давайте закону закрываемся платите деньги нет мы так не делаем сейчас расскажу одну историю вот был у нас один случай когда мы тестировали сервис авторизация вот протестировали нам дали право extend мы сняли статистика за последние 3 месяца посмотрели какая у нас то интенсивность подали нагрузку и увидели что в принципе держит до но вот если вы посмотрите график у нас но на уровне 80 процентов это как раз таки то нагрузка которой опекает nude на текущем он пик вы вроде дальше мы попробуем увеличить нагрузку и видим что там начинается какая-то хрень то система разваливается сыпется ошибки но здесь это не видно но вот по опытные на груше тестировщики увидеть такой график приз понимать что-то там что-то неладное вот и на самом деле график из реального отчета его прямо оттуда скопировал если цвет поменял вот потратим на этом полчаса ну по крайне сейчас он гармонично смотрится на мой взгляд так вот восемьдесят процентов утилизация процессора мы отправляем команде отчет и 1 строчку с написано система выдержу выдержала кого пиковую нагрузку они понятное дело там прочитали и тогда и дальше уже как бы наверно забили что там насчитать у кого все хорошо да я бы сам так сделал если book бы я был занят другими задачами так вот выходит в продуктов и через там пару месяцев не может месяц-полтора сейчас падает проанализировав логе что вообще происходило увели что там как раз таки нагрузка была чуть выше чем ту который мы подавали принципе у нас тесту показательно то есть мы получили хорошую производительность то есть правильно но там была выше может процентным 15шт очень не помню и этого хватило чтобы вот этот запас 20 процентов secu да а у нас прям сама про лайк хватило чтобы как бы загрузить процессор и всему свалится вот так чем проблема в чем здесь проблема вот и забыл перелистнуть вот такая вот была проблема мы не обсудили это с командой они подчеркнули что ребята у вас как бы сейчас держит она вас нет запаса это важно говорить если есть какие-то моменты которые нужно подчеркивать это нужно прямо на презентации результатов проговаривать ведь ребята вот добавьте заранее луч у вас вот кабы скоро ноябрь-декабрь даже нагрузку будет больше вы понимаете что вам нужно как добавить добавить ножку подстраховаться вот мы этого не сделали и это стало для нас уроком сейчас мы каждую итерацию нагружать тестирование завершаем презентации результатов рассказываем команде что к чему и плеснул так давайте поговорим немножко про особенности 300 моделей на экране сейчас наверное это скорее отрицательную сторону да то есть то что мы не первые не бог не глубоко погружены система то есть она приходит обычно в короткий срок но хотят провести на груз короткие сроки мы не всегда успеваем систем изучить досконально вот эта проблема были случаи когда мы допустим не до эмулировать нагрузку то есть допустим было случай когда мы протестировали систем рублева платежей симулировали рублева платежи там bsp кто знает может быть что-то быстро быстро платежи но забыли совсем про служебные сообщения которых оказалась вообще много и нам прям на презентации говорят ребята вы регулировали служебное сообщение мы такие смысле keystone сообщения перво слышим уже спрашивали что вам нужно как какие операция все выполняет системе так ну это же само собой говорит служим сообщение каждый без них система же работать не буду сужаем сообщений мы таки ok выключаем как бы проектор и идем дорабатывать эту модель вот такой позор был дальше низкой интеграции командой эту проблему решаем статусами таки он говорил некоторые мои инженеры противиться говорят так за неделю же ничего не произошло зачем лишний раз увидеть уважаемых людей дёргать не так они давайте все по-честному нет серьезно низко раз такое было не буду показывать пальцем присутствует вот в итоге оказалось что у команда совсем другие планы изменить изменились планы с тоником стенд вообще разобрали там или что-то еще и а мы об этом не знаем мы там что-то у все там пилим другом свинью готовимся запустить они все планы поменялись им может быть вообще нагрузки не нужно поэтому статуса мы проводим каждую неделю и это обязательно вот и еще не минус того что работа проводят сервисной команда от это как следствие всех предыдущих минусов да это положено трудозатраты то есть пока мы изучаем систему пока мы там пристреливается проходит достаточно много времени больше чем это наверное чем это сделала команда до самака на красном анонсирует команда является экспертом своей системы она знает до каждого болтика что там происходит да каждый механизмом что там есть и им проще к бы разобраться им гораздо быстрее провести нагружать фиксированию поэтом собственная в самом начале когда про говорил про модели говорю что вот самый шикарный вариант это когда команда стирают сама особенно если эти системы критичные для бизнеса до вас к нагружены вот и от них очень много зависит тогда это обязательно быть команде есть и положительные стороны сервиса команды бывает к нам прибегают прямо говорят срочно срочно нужно протестировать и мы говорим да вы по адресу обратились и мы готовы вам помочь вот тут на этот счет есть одна история все наверное слышали про систему быстро платежей кто слышал кто пользуется вообще многие пользуются да вот она стартовала у нас буквально весной этого года и команда которая зарабатывала эту систему томасом нет не было ни одна команда система многокомпонентная и был эксперимент сделали этот проект без прочих менеджера такой спины постоянно решили поставить такой эксперимент примут нас был почему они выбрали именно сбп нельзя было там взять какую-нибудь систему которая ко мне очень критично да вот они в общем выбрали эту систему и совсем забыли про на груше тестирования за неделю к нам приходят и говорят а точнее так они назовут мы такие думаем сейчас они как бы нам расскажет как они стенд нам будет выкатывать да под нагрузку как именно будет помогать они такие но мы выходим то через сколько дней что с нагрузкой а команда которая занимается разработкой но у нас стенд не готов разработчик заболел вы и настоящий смысл еще не ли вы на нас лишними запускаемся так вот разработчик ходе больно видим и все поднял стенд настроил мы буквально за неделю протестировали эту систему нашли достаточно интересная проблема имя связано с производительностью понимали как какой у нас максимально предела и он потом подтвердился в продукте vi кстати по поводу профили нагрузки то есть та нагрузка top ожидали она оказывается была выше в итоге то есть популярность этого сервиса сервисы система быстро платежей оказалась выше и в итоге все таки тот запас который был немножко не хватило потом дать у него по крайней мы показали что вот такую нагрузку вы держите и вас есть какие-то проблемы вот и сам интересно было что без без подтверждений нагрузки мы не выходим это оказалось тоже для нас новостью ну и для команды видимо тоже но тема нет разброд и шатания видимо было но по крайне странно показалось может быть не там все хорошо было в одну в итоге мы спасли этот эту ситуацию протестировали показали подсветили какие из риски есть сервис систем выступать и же я успешно стартовала вот но сейчас мы говорим про сервис давайте поговорим немножко про команда то есть сервис это все-таки команда и какие есть особенности яму немножко говорил мы должны работать быстро это один из критериев работы нашего сервиса понятно дело не в ущерб стараемся не ущерб качеству вот но тем не менее поток поток заявок на проведение на груз достаточно большой и если мы будем делать там все медленно или там стараться прям тщательно все прорабатывать писать большие отчеты методики нам понадобятся мне пять человек до от человек 10 15 вот серьезно поэтому мы стараемся делать быстро и ребята уже к этому привыкли это как раз и приводит тому что у нас достаточно большой переключения контекста на человек может приходиться два три активных проекта человек то есть потестировал одно там затык допустим там с тестом стендом у сломался тогда или команда сказала что вот мы хотим на другом релизе протестировать вот приостановили продолжили там другой такое часто будет особенно под конец года все хотят протестировать до нового года и такой прямо лавинообразный поток заявок идет вот поэтому когда если кто-то хочет сделать такую серьёзную команду это нужно учитывать просто есть люди которые но инженеры которые не любят такое большое переключение контекста не любят работа с одной системы быть там экспертом допустим да и не переключаться постоянно изучать новую систему там какие-то новые протоколы некоторым это неинтересно и тяжело тяжело им я у нас такие люди были сейчас их на менят знак часть или к сожалению ну вот это нужно учитывать особенно ну хотя бы там на собеседовании задать вопрос вот тебе как очень такой вот если у тебя будет меняться постоянно системой или тебе интереснее работать с одной системы вот и третий пункт надежность команда мы стараемся чтобы у нас все инженеры делали нагружать тестировать от и до то есть начиная с разработки методики завершая презентации результатов то есть были такими универсалами я знаю что некоторых компаниях есть определения да кто-то там пилит скрипты кто-то там анализирует и там отчеты отчеты готовят да у нас такого нет я сразу приучаю ребят чтобы они могли и скрипты писать до из команды общаться то есть они проводят статус и презентует результата это важно потому что так у нас народу не так много бывает что там человек ушел в отпуск но нужно подменить чтобы человек мог кого переключиться да если человеком никогда там не не общался с командой да или там не анализируя результаты соответственно его подключить никак не получится поэтому мы стараемся чтобы люди умели делать полный цикл на грудь тестирование картуз каждый член команды должен уметь это делать вот и собственно когда он говорил про модели на груше тестирование я омского что когда команда делает нагрузка самостоятельно это прямо самый самый офигенный вариант и к этому к этому нужно идти вот и что мы для этого то есть мы увидим что продуктовой команд к нам приходит а никто не приходит в год по несколько раз и надо с этим что-то делать и мы честно пришли к выводу что давайте мы их научим и как бы они от нас от станут не так не так не думаю на самом деле мы просто хотим чтобы тестируем проводилась регулярно и качественно вот и поэтому первую очередь когда мы варим кого учить это у нас идут продуктовые команды особенно то есть мы сделали приоритет у нас есть команды на каждый год нас стоит приоритет несколько командах нужно внедрить практике нагружай тестировать чтобы они самостоятельно уже могли за два года у нас уже таких команд 11к в которых может как какой-то степени внедрения груш тестирование вот в принципе на самом предметом гордости потому что у нас поток заявок уменьшился на ну почти на 30 процентов от не знать что мы сейчас безделье вот про то чем еще занимаемся скажу чуть позже вот и второй момент чему учить сколько учитель на такие вопросы наверно перед всеми встают когда дело доходит до обучение вот мы начиная с того что мы очень хотим на выходе до 1 мы хотим чтобы вообще принципе нам в нашем банке люди понимали что такое наберу тестирование понимали его важность что его нужно проводить и что это влияет на стабильность и в принципе на успешность на нашего банка вот и вторая цель это именно по результатам обучения команда должна уже начать что-то делать сама вот для этого мы разработали 2 курса 1 это вводный курс по нагрузке которые как раз таки отвечает на 1 но достигает первую цель то есть аудитория для этого курса очень большая то есть мы приглашаем там всех из любой жилось может записаться на программу учения именно записывается те кто хочет стартовать нагрузите спину себя вот ну и приглашаем принципе секты и это могут быть и тестировщики и разработчики и 2 инженером вот вообще на грудь и тестирование я считаю что это не дело одного человека и не делала нагружена тестировщика это дело командная я это стараюсь доводить до всех команд которые занимаются нагрузка боя такое что люди пришла там одного человека говорят вот петитом пускай занимается нагрузку может тестировщик ничего подобного мы строим чтобы привлекались и администратора и и разработчики аналитики то есть отдела команда 1 поэтому это должно быть так что один человек там закопался там нагрузить скриптах да не понимаю что происходит да а команда при этом говорит ну может тестировщик пуска занимается нет поэтому обучение проходит мы стараемся вообще не проходили 23 человека вот чему мы учим но часто говорю про трехдневную программ обучения которые готовят именно уже людей которые должны начать нагрузить тестирую себя в команде мы очень разрабатывать скрипты на по протоколах и т.п. и особое внимание уделяем параметризации корреляции на базовые вещи которые знать должен знать инженер который скрипту it 2 u nas создание тестов тут мы стараемся уже на создание тестом принц много чего объяснять не нужно если мы строим чтобы люди набили руку понимали как составлять тесто вот вторая чтобы они сделали там разные тесты их по запускали это важно они должны прочувствовать то есть результат на это программа люди должны прочувствовать какие-то поесть вообще принципе на груше тестируем что что делает что нужно делать и могли самостоятельно проделать вот дальше и у нас еще есть отдельный день когда мы где мы учим людей составлять профиль нагрузки я всем объясняю что вот если брать тесто моделям на груше тестер винда у нас есть нагрузка у нас есть стенд у нас из данные да вот за стенде данные мы особо на них мы не особо не повлияет да как на мир уже тестировщики но зато мы можем качественно сделать профиль нагрузки поэтому у нас это идет одним делим днем где мы где мы учим наших учеников правильно делать нагрузочный профиль это важно просто иногда бывает люди вообще делают какую-то дичь что дальше мы используем два инструмента изначально у нас программа была на базе инструмент его дронов на но так у нас появились заявки на джимми тир мы добавили тот же ветер и сейчас у нас проходят курсы и на базе lode runner и на базе же метра вот дальше есть проблемы и с которыми столкнулись может обучение что если команда не стартует проведение нагрузка самостоятельность сразу же после обучения они все забывают реально вот мы стараемся то мы объясняем потом еще спрашиваешь выбрал кого-то пустая голова просто вот поэтому пока у них есть что-то в голове нужно стараться сразу же стартовать проводить второй этап обучения то есть мы попробовали первый сначала провести в рамках просто обучение на тестовые сайтах а потом решили что нужно проводить обучение в команде вот это у нас получился формат обучения следующий то есть мы сначала обучаем рамкой те академии ночь академии от нас такая форма обучения где любой желающий принц может потише пицца там есть и инженерной практике различные тестирования разработки то есть записываешься проходишь обучение вот и мы в эту же эти академии добавили свои курсы то есть люди записываются проходит обучение и дальше мы организуем второй этап обучения люди либо подсаживается к нам рядом либо мы к ним там идем по помогаем да вот они проводят к в это время в тесном взаимодействии с нами то есть мы им даем задачи то есть если в случае обучения те к теме мы у нас есть тестовый сайт на котором они тренируется на втором этапе обучение проходит именно на реальных на их реальной системе вот они также делают скрипты также делать тесты запускают и мы вот на протяжении всего этого времени в чем трех недель их сопровождаем помогаем объясняем и это заходит гораздо лучше вы хотите чтобы в какой-то команде стартовал нагрузка не стоит ограничиться просто там теория или там практикой нужно обязательно провести второй этап обучения и это повысит шансы что команда начнет самостоятельно проводить на груше тестирование дальше что каким сказал что у нас загруженность точнее поток заявок уменьшился практически на 30 процентов за счет того что у нас там 11 команд уже ушло onyx к нам приходят редко вас там за консультациями вот что в этом случае делать понятное дело что у нас задач по нагрузке достаточно но у нас немножко освободить руки им этим собственно пользуемся вот ещё одна проблема с тем что увеличивается количество людей которые проводят нагрузку что их становится очень много и за всеми не уследишь да бывает такие случаи что люди начинают просто делать какую-то дичь откровенно говоря то есть они пытаются нагрузить не используя там проверенные инструменты начинают там какие то там приблуды придумывай до в общем коряво проводит на груше тестирование одним словом вот не буду приводить примеры их достаточно много на самом деле мы их выявили вот поэтому с этим нужно что-то делать мы все-таки как он говорил у нас одна из задач повысить качество на груше тестирование нашем банке чтобы не мы не просто мы там проводили нагрузку до чтобы те команды которые проводят самостоятельно они делали качественно делали правильно и с этим нужно что-то делать вот почему пришли почти потому что если народу моды много их нужно объединять комьюнити для этого что можно сделать можно делать различные встречи обсуждать какие ключевые вопросы по нагрузкам тестированию то есть собирать какой-то встреча на обсуждение это помогает нам синхронизироваться и уровнем выравниваться по технологическому стеку по уровню понимания что вообще происходит как как проводить нагрузку до вот это очень-очень полезно встречи дальше те команды в которых этим скал один из команда команда в которых самостоятельно нагрузку уже запустилась их нельзя просто взять и бросить казалось бы да вот мы их обучили сказали да вот вам в руки вал дронов идите тестируйте но мы так не делаем мы стараемся им помочь по краям на 1 там несколько итераций мы делаем встречи то есть они делают нагрузку мы просим их позвать нас они рассказывают как они проводили нагрузка всей команде в том числе нам дамы с осмотром делаем тонкие то замечанию рекомендации и это нужно делать обязательно вот у нас были случаи когда вот мы вроде бы людей обучили они уже на полгода тестируют такие проводим с ними встречи узнаем что вот они взяли то есть как мы их учили ребята но если вы будете использовать 1 логин и пароль на грудь в тестировании у вас будет новый возникнуть проблемы могут возникнуть блокировки и прочих проблем вас там с этим проблема вот возникает если у вас была систему которых процессе могут там отвалится дается того что второе залогинился нет вот мы собирать собрали встречу и говоришь ну мы как тестируем у нас кого просто пока 1 пользователь завели бы нагрузка мы провели вот а еще у нас как бы нет мониторинга вот как бы попытались настроить графа ну с телеграф у нас то что то не получилось мы поэтому пока забили но нагрузкам провели вот это это реальная история поэтому такие встречи нужно проводить статусные до в командах помогать им преодолевать эти барьеры чтобы они как бы дальше пошли вот что ещё мы делаем сейчас каким скал руки у нас освободились мы начали ножка идти в сторону инструментария вот мир мы разработали автоматически геринг отчетов confluence то есть чтобы у нас какой-то шаблон с там с графиками там с табличками представлялся в этот confluence чтобы мы там не тратить на это время вот есть еще ряд хотелок точнее . тилак диман до которую нужно будет тоже покрыть и поэтому мы как раз таки будущем планируем заняться инструментарием чтобы вот команда который хочет правильно нагружать мы прямо в руки вручили инструмент вот ребята допустим одно из допустим требований то что либо не наши пожелания чтобы люди не просто проводили нагрузку до а проводили и фиксировали каждый прогон где то в каком то месте да там это в экселе может быть там нет конфликта можно было строить тренда чтобы результатом нас хранились была история вот и допустим с этого инструмента нет сейчас мы хотим как раз таки сделать такую себе что можно было дать команде сказать что ребята трение нет это это важная вещь и вот пользуетесь итого у нас остается также пройдена на груше тестирования но появляются красновой задачи изучать и рекомендовать инструмента то есть мы по сути прощаемся уже не просто сервис до которые там фигачил нагрузку во всем банки да сейчас мы идем именно как центр компетенции и у нас есть такое желание по крайней мере рекомендовать инструменты делать инструменты и давать их в команды яниса мест комьюнити вообще развивать направление на груше тестерами банки вот на самом деле доклад подходит концу какие можно выводы сделать что сервисной команда любой компания наверно будет не будет лишней она будет очень полезной и в том привел пример и почему она может быть полезной и то что им то также проговаривала что критичны к нагрузке системы должны с террасами своими командами да не будет приходить и но их кому нужно потихоньку сворачивать тому чтобы ребята давайте вы как бы заведетесь своей экспертизы это необязательно это необязательно должна быть прямо выделен нагрузить тестировщик да прямо который занимается нагрузка это может быть роль в команде то есть эту роль могут выполнять там тестировщики там разработчики да не дать нам брать отдельно груш тестировщика ним некоторые варят но мы возьмем нагружать тестировщика мы тестируем там три раза в год что мы с ним будем делать нет не обязательно это делать команды все должно понимать как проводить как проводится на груше тестирование и как минимум два-три человека должны уметь это делать вот и собственно третий вывод когда у нас команда разрастается этим нужно как-то управлять а управлять это вот через комьюнити обсуждая все это со всеми ребятами вот собственно на этом все нагружайте будьте счастливы спасибо"
}
{
  "video_id": "fEj2uqMOhi0",
  "channel": "HighLoadChannel",
  "title": "Опыт миграции в Российское Облако / Дамир Ибрагимов (SberCloud)",
  "views": 614,
  "duration": 2551,
  "published": "2023-01-19T05:55:16-08:00",
  "text": "всем добрый вечер еще раз представлюсь меня зовут ибрагимов дамир и я являюсь лидером эксплуатацию облака сбер клауд advance компании sbrick лаут по большому счету над немного рассказать о себе родился я в городе москве в обычной семье мама химик-технолог отец финансовый директор но видим это не очень интересно так начинать с не очень хорошей истории поэтому поговорим о практическом опыте вот я уже на протяжении тилль на времени работы с облачным системами и в рамках этих облачных систем уже имея большой опыт я сертифицированный архитектор облачных решений именно поэтому сегодня поговорим о миграции и почему облаке облака такие хорошие в данный момент у нас действительно наблюдается проблему последнее время до что ко многим компании стал довольно сложно заказывать услуги наших существующих и зарубежных и даже вы существующих вендоров как облачных решений так и железо вот и встает вопрос как это все решить ответ конечно прост это мигрировать в облака вот но прежде чем мигрировать в облака нам по большому счету нужно понять о каком облаке msi с вами разговариваем вот и сейчас вы можете увидеть как будет примерно построена облака сбер клауд advance это платформы на базе openstack плюс квн которая по помимо обычного я со также он дарит некоторый пас на основе него вот и мы все с вами уже знаем чтоб instek это довольно продвинутый и популярный инструмент контак систему которые используют многие зарубежные провайдеры и по большому счету клауд найти в которые тренд нашего времени до этого что все идут тоже справиться во многом от окон стекой также он продвигается зарубежными лидерами вот и примерами наших подхода клад найти в виде посуху можете увидеть в общем списке вот среди них раз таки вот я выделил на примерку вернитесь на базе нашем сервисе клауд контейнер engine кафка на базе dms и по сгрыз и моей сфере на базе ардис вот а теперь перейдем к самой миграция что это такое как с этим работать как с этим жить вот по большому счету и сдавать по миграции постепенно иммиграция и полная миграция при постепенной миграцией мы с вами переезжаем постепенно да точно сначала мы переносим не самые критичные сервиса а потом отправляем все остальное и при полной миграции мы просто берем все что у нас есть и сразу завозим в облака вот встает вопрос как мигрировать в облака мы это видели в 5 простых шагов которые которые эта стратегия инвентаризации анализ план дорожная карта immigration и поговорим про каждый из этих шагов чуть побольше в первую очередь конечно нужно разработать стратегию миграции потому что при стратегии migrate уже сразу станет нам снова им ясно нужно ли ехать в облака потому что есть определенные ситуации кисок о которых мы чуть позже поговорим при которых этого делать иногда и не нужно на шаге 2 мы с вами краски смотрим на всю нашу бизнес инфраструктуру и айти инфраструктуру и понимаем риски ценность и по большому счету что нам несет какие плюсы нам несет переезд в бок далее мы с вами составляем план да как в старом любимом видео на тут быть план и мы его должны придерживаться в рамках данного плана мы с вами сразу поймем важный момент что у нас с вами есть эта система который можно сразу принести в облака есть какие-то пропитанные решение приклад который наверное надо лучше оставить у себя и оставить своей локальной инфраструктуры получается и разработать дорожную карту мы выделили в отдельный пункт а потому что о нем часто забывают дорожный карту позволит вам как раз таки определите сразу понять какой какие у вас есть временные рамки риски денежные затраты и все остальные вещи уже в процессе да и выставить скажем так уже готовый timeline по которым должны будут работать наши инженеры и вашингтон должна быть заведена и по большому счету последний простой шаг это спроси саму миграцию да то есть взять и уже выполнить все подготовлены наши шаги вот а на нашем опыте мы столкнулись с тем что можно выявить них три проблемы или даже вопросики в сторону того как мигрировать первую очередь монолитная системы да то есть мы с вами знакомы что многие энергетические компании финансовые институты бредовые коммерческие компании могут иметь такую ситуацию что у них осталось legacy продукт виде монолита и что с этим делать далее пас решения несмотря на продвинутость наших клиентов и знания чтобы паз немногие понимают архитектуру данного решения что могут вы может вызывать некоторые осложнения были такие истории когда клиент приходил и говорил что дайте нам простая с виртуалками а мы сделаем свой пас вот причиной часто бывало то что им просто немного не нравилось версия сервиса потому что концертной версии по чуть чуть новее и мы сами все знаем да мы с вами придерживаемся история о том что клиент это прав и это действительно так но иногда у клиента быть недостаточно опыта что политики определенной операции и он не общается со своим лучшим провайдером теперь мы с вами столкнулись с проблемами посмотрим как облака сбере клауд advance поможет вам решить эти проблемы на базе существующих сервис поэтому мы поговорим о них в частности сервер мигрейшн сервис это простой сервис миграции который позволит принципам и as яз в облака да это может быть виртуально машину физический сервер процесса миграции состоит из довольно простой истории устанавливается агент на вашу тут исходную машину а а в облаке разворачивается в зеркального по техническим характеристикам виртуальной машины вашей инфраструктуре и потихоньку начинает заваливаться данные да то есть для windows а вот используется всс для linux будет arsenka прикол сервисов том преимущество основной в том что до у вас нет никого простое то есть пока ваш приложение вашей локальной инфраструктуры продолжает работать а но параллельно с этим переносит данную же в облако и как только процесс завершён вам достаточно переключить в ваше приложение с локальной инфраструктуры на облака и по большому счету простой так и не состоялась да то есть там например поменять в дионисии адреса с вашей локальной инфраструктуры на облачные адреса далее даты реплики шин сервис похожий сервис только для баз данных дать часто возникает вопрос как же принести база данных делать backup или что-то еще и именно тут мы с вами когда ем готовый сервис который подключается к вашей базе данных и начинает приносить переносите таблицы с весами струны сами структуры вот из основных фишек и приколов наш сервис и помимо того что как вы можете импортировать данные он также позволяет экспортировать данные да то есть если вам необходимо иметь какую-то офсайд реплику вашей базы данных локальной инфраструктуры у себя вы можете сможете делать это этим сервисом имидж менеджмент сервис от говоря о следующих двух сервисах стоит сказать что иногда со стороны наших заказчиков возникали неординарной историей и нужно было тогда творческий подход вот мы тут переходим к раз такой истории что многие выходцы и от vimar часто приходят и просят что мы хотим развернуть свою ванильную виртуалку из iso образа вот и встречались такие клиенты которых мы уговаривали заезжайте к нам мы хорошие они варят нет мы не хотим потому что знаем мы вас облачных провайдеров и не дадите нам нечего развернуть и своих образов но мы подумали услышали и сделали данный сервис таким что он позволит не только вам iso-образ использовать как основу для виртуальной машины но и винтики для mr виде легкой первее кукол например для вашего существующего const эко или крема и даю это сервис волшебная палочка он может все по большому счету есть вы работаете данным вам нужно принести неординарной истории то есть в качестве источников данных может быть как ис-3 баки ты так и озеро данных так и каким-то толик инсайты или остальные истории data warehouse и например и на выходе вы тоже загружайте то похоже сервис уже в нашем облаке теперь когда у нас есть вами какая-то фактура на руках как работать с миграцией давайте посмотрим на решение поставленных проблем с которым которому увидели при работе с клиентами не надо монолите да то есть либо не монолите либо не нужно ехать монолитом в облака да то есть если вы понимаете ваш инфраструктуры сервис не готова к облаку мне нужно заезжать но никто вам не мешает заказать облачного провайдера уже готовы какой-то кластер как вот какие какую-то инфраструктуру какие-то ресурсы и начать готовиться и разрабатывать перерабатываю решение и адаптирую каблук чтобы заехать чуть позже также pass it up as да то есть по ст сам под собой предмет уже готовы коробочное решение которое со стороны обычно провайдеры в частности нас гарантирует вам работу данного сервиса его отказоустойчивости солей и попытка со стороны клиентов просить что-то изменять в этом сервисе может прийти к тому что их сервис упадет одну помочь не сможем и как бы не нам я думаю не клиенту этого не хотелось бы также лучше взять свою чем готова чем строить свое да то есть когда клиент является развернуть свой пас на яси часто может произойти такая ситуация что какие-то кросс интеграции и фичи который уже в на готовым сервис от провайдера не будет в том решении что есть что клиент построиться и последнее и самое наверное важно что слушаем консультируем помогаем да то есть не желание клиента общаться с про удачным провайдером и на приводит к тому что клиент все не хорошо вот потому наши команды миграции так этот готовы проконсультировать помочь а наши инженеры хлебом не корми только дай рассказать о том как у нас крутой хорошие облака теперь давайте перейдем к сложной истории попробуем посмотреть оценку поставленных историй 68 процентов компании сейчас занимается приходом из монолита в микро сервиса до из которых мы сможем с вами выделить 36 процентов крупных компаний 50 средних и 44 мало к тому же видим рост рынка я пас да то есть на обычно публичном рынке это составляет 38 процентов и 30 процентов на гибридном рынке также какие же пас пользуются спросом мы с вами видим что сервиса хранения увеличились в связи с пандемией а также рост спроса на базы данных рост потребления кубер на это и так же конечно же рост на всякие сервисы информационной безопасности ну и сам рост рынка эти консалтинга идти услуг выросла уже на 5 процентов теперь поговорим плохом примере переходник небольшой же фактуре да здесь такая безличная история которую собранный сам плохие практик из многих клиентов 1 клиент все-таки развернул свою инфраструктуру на базе easa свои посты и тем самым также он из он вроде бы да следовал всем тенденциям клауд на этих использовал тира формы и ансабль для развертывания но тем не менее у него получился по итогу обычный колосок убраны но когда клиент начал сравнивать свое и наша он пришел осознавание того что различных рост интеграции готовых решений на пример использования пиве сен на базе нашего объектного хранилища использование нфс а как опять-таки того же самым привести используем балансировщик нагрузки ему было недоступно потому что у него была своя разработка губернатор и клиент приходил в поддержку требовал соответственно помощи команды разработки команды инженеров на то что мы эти интеграции доделали но как вы как бы ни старались осознавание как бы клиент сталкивается с правдой приходит статьи принятие он понимает что ему нужна своя команда разработки чтоб поддержек подобного рода направлении и разработать краткий интеграции драйвера и остальные историю ну и как итог мы имеем с вами потраченное время и не готовую инфраструктуру вот теперь перейдем к хорошей истории начнем и из планы миграции да то есть мы пойдем постепенно как правильные хорошие архитекторы и у клиента была как задач по физике с помощью школе у него была дана физически сервера купер на это за сервис и мой skype сгрыз мы порешали каждый из поставленных задач следующими опциями у нас были виртуальной машины с иным я ssd дисками имею и мы заменили баре ментальной сервера физически также мы предложили наш сервис купер на это со дна под названием сиси и и сервер баз данных ардис для за для адаптации базу данных клиентов в чем стоял в истории миграции клиенту для купер на этот был достаточно просто немного изменить существующего манифесты например на примере привести сейчас вы можете увидеть на экране да то есть он существующей манифест добавил пару нотаций что происходил что было дальше облака сама увидев манифесте запрос от губернатор разворачивание определенного типа перевести типа с tfs он сразу понял что мне что мне нужно создать новый макет и этот баки примонтировать нужным драйвером кластера что он принципе сделал то же самое касается блокировщиков нагрузки ingress и остальных компонентов cabernet с которой есть все они у нас как раз про интегрирована с нашим всего существующими сервисные в облаке и потому бэг-энда выступает уже настоящий физики сервер они виртуальность сущности чем закончился хороший пример за одни выходные мы получили прироста в 12000 лидер и это занимало всего два дня путем из этих 12 тысяч и лидера казалось что это был 8000 этого клиента а 4000 дельты это были ядра тех клиентов которые шли расширить просто параллельно с нами в эти же выходные пока мы проводили эти работы и каким можем с вами сделать выводы из всех этих историй что в первую очередь миграции это довольно серьезный шаг которому нужно подготовиться которому нужно прийти но при этом консультации и помощь облачный проводил всегда вам поможет сделать это правильно и прийти к этой хорошему исходу и также сервисов в частности облака сбер кладут вас позволяет эту историю еще упростить до то есть вам достаточно просто развернуть этот сервис и она все за вас сделать все перенесет также следует тренда главный тефна нельзя забывать о том что паз помимо хорошего из инфраструктурного инструменты инфраструктурного решение кто позволяет вам упростить работу с вашими приложениями и системами она также и упрощает именно жизнь в том что вы пишите какие-то описания ваших приложений один раз и потом можете их интегрироваться с различными облачные провайдеры потому если случится метеорит и один из дата-центров вашего провайдера умер вы можете приехать в другому просто перенеся манифесты конфигурация они занимаются от конкретной миграций всех данных и там баз данных виртуальных машин и остального и последнее облака по ним все прочего помимо там гибридных инсталляцию локальных инсталляций поэтому скейлится расширяться да то есть облака но гибкая провайдер со свой стороны всегда гарантирует у нас есть ресурсы мы мы вам их дадим и вы сможете ими воспользоваться и вы всегда сможете расширяться если вдруг вы понимаете что вы становитесь больше а большой бизнес это залог хорошего успеха всем спасибо это был ибрагим дамир так если есть вопросы поднимаете руки пообщаемся у нас есть довольно много времени у меня принципе тоже есть вопрос мы тоже владеем как бы некоторым вас есть некоторый стартап я вот так начну и соответственно мы не можем полностью переехать в облака потому что у нас есть большой объем трафика вот облаков в довольно дорогой трафик и соответственно из-за этого мы используем железку если может быть в облаках какие-то тарифы для сервисов которые едят много трафика вот потому что такие вот ну буду отвечать им нашего облачного решения у нас на самом деле есть история где мы можем зафиксировать клиентов по реально потребляемом у трафику на то есть не законе за всю ширину трубы а именно конкретное количество пакетов и альтернативным решением моему сегодня вы упоминали может стать всегда гибридные облака да то есть вы можете использовать облачного провайдера и вот эта центра только для каких-то расширений и продолжать использовать локальную железку для ваших конкретных целей да то есть можно остаться своей железкой и при этом одновременно продолжать пользоваться облаком для каких-то малых задач которые для вас не накладок и собственно так и сделали у нас midget поздравь облаке store с бэкапом и в облаке и железка которое генерит трафик как просто не в себя собственно такое решение железка остается никуда не переезжает по цене так ладно вопросы поднимайте руки пообщаемся у кого есть какие то сервера с хостингом которые лежат не в облаках добрый день спасибо за доклад о нем говорил мне такой вопрос не совсем по теме будет есть такая платформа готских знаете ли вы что то ней и я туда вообще что о чем это ну преимущество нашей компании лет старта мы общаемся и все все знают про параллельное направлении платформы гостях в ранг компании sbrick лаут это является своим решением поток который сертифицирована по всем необходимым стеком и сертификации который требуется для госучреждений вот ну по большому счету конспект соседней до другая инсталляция другое решение того что сделаем и это такое же удачное решение как у у любого любого провайдера помимо нас просто она сертифицирована скажем так вот там определенной версии определенные инсталляции определён архитектура которая должна быть сертифицирована соответственные железки какие-то которые там тока различные гост стандартами поэтому это вот скажем так газ ушные же как осушенный классах интересно почему название доклада именно российской облака то есть это отсылка к сбер клауда или какая-то тихого к ну не мне рассказывали о том что происходит с нами сейчас вот и многие клиенты и наше я думаю что и наших конкурентов почувствовали боль в том что в известном компании которые дарят нам какие там windows office и так далее начали отрубать возможность пользоваться сервисами российским компаниям вот как ни странно уровень развития локальных обычных провайдер в том числе и нас сейчас находится на таком хорошем уровне чтобы предоставлять такой же уровень и качество сервисов которые предоставляли зарубежные конкуренты и потому сейчас как никогда актуально российским компаниям в россии заезжать в российские облака да окей сейчас сейчас тоже заметно появляется много облаков мне кажется всех всплеск просто переездов и devops и по ночам мигрируют внутрь так ладно чо какие-то вопросы руки ладно давай я спрошу до последней вопросы уже пойдем в кулуары вот в процессе переездов были какие-нибудь интересные истории когда пришлось переезжать обратно может быть интересные кейсы ну на самом деле посыл главный посыл доклада заключался в том чтобы при миграции был все проработано до то есть иногда в планах миграции может стоять план по тестированию сервисов по тестированию облака предварительно тому чем заезжать и истории со съездом бывали но они бывали с визитом с урезанием бюджетов скорее чем недостаточностью уровня сервиса да то есть обычный клиент все тестирует у них довольно длительное время на тестирование вот когда не понимаешь что их сервисы и в приложении все что им нужно хорошо работа облаке они обычные заезжают и уже с концами вот и ужин только наращивать свои потребление а не срезает его истории с бюджетами когда переезжают смотр что выросло очень сильно потребление нет обычная рыночная игра что вначале люди все покупали iphone и а потом айфонов не стал покупать android и типа рынок айфонов упал и соответственно урезать инфраструктур потому что уже не нужна поддержка такое количество устройств как пример"
}
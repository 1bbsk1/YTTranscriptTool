{
  "video_id": "TP2koLumOkc",
  "channel": "HighLoadChannel",
  "title": "Побег из Шоушенка в мире сетей / Александр Попов (VK Cloud, VK)",
  "views": 350,
  "duration": 2290,
  "published": "2023-10-06T07:26:23-07:00",
  "text": "Всем привет Меня зовут Александр Попов и я являюсь ведущим разработчиком а заодно идтихли дом команды и АС Network ВК клауди и сегодня мы будем говорить про побег из сетей давайте начнем для начала представимся мы ВК Cloud предоставляем услуги публичного облака Я спас сас marketplace все вокруг И не только публичного Облака на самом деле не буду подробно рассказывать всем кому кто нас не знает и кому действительно интересно Вы можете подойти либо на наш стенд либо к непосредственно ко мне и мы подробнее расскажем что у нас есть вот Пойдемте дальше на сегодняшний день облака это объективная реальность и последние политические события только подхлестывают их как можно большему использованию с одной стороны пандемия у нас подхлестнула переход многих бизнесов даже там традиционных войти когда всем понадобились онлайн витрины для своих магазинов например а с другой стороны санкции усложнили немного расширение бизнеса традиционным путем через установку дополнительного железа Да и в итоге у бизнеса почти нет вариантов им нужно идти в облака Ну а разработчики то есть мы с вами это те кто решает задачи бизнеса и основная задача И основная задача разработчика это в общем помочь бизнесу переехать в эти облака вообще облака бывают разных видов всем известный сассов твоих режиссер из пас платформа за сервис и просто так сейчас за сервис Сегодня мы будем в основном говорить про который делится на несколько основных направлений Да это прежде всего виртуальные сервера основа инфраструктуры как сервиса Это виртуальные диски на которые сервера складывают свои данные и Это виртуальные сети это то что обеспечивает связанность между виртуальными серверами и вот в основном наш рассказ сегодня будет сосредоточен вокруг такой части как виртуальные сети вообще Если говорить о виртуальных сетях то нельзя не упомянуть такую технологию как sdn softway defind Network в мире облаков для сетей это Центральный сервис это сервис который позволяет облакам работать с сетями основные его задачи это доступ виртуальных машин друг другу доступа этих же виртуальных машин в интернет Ну а поскольку у нас облака мульти тендентные то конечно же изоляция этих виртуальных машин одного клиента от виртуальных машин другого клиента плюс изоляция нашей собственной инфраструктуры вот собственно говоря клиентов которые могут быть и не особо доброжелательно мы начали нашу запускать нашу платформу на базе такого Pen Source продукта как openstec это такой конструктор от мира Open Source и соответственно в качестве SD мы использовали один из его компонентов Нейтрон и прежде чем вот говорить вообще подробно нейтроне Да надо поговорить о примитивах с которыми он работает вообще центр всех сущностей Нейтрона Находится в таком понятии как приватная виртуальная сеть это такой способ обеспечения связанности между клиентами этой сети А клиенты этой сети представлены в виде виртуальных портов то есть виртуальные порты это точки подключения к виртуальной сети и соответственно все остальные сущности там виртуальные сервера или еще что-то подключается уже к этим виртуальным портам и фактически для SD на он видит только виртуальные порты Да он ничего не знает виртуальных серверах но он обеспечивает связность между виртуальными портами Итого Давайте немножко упростим и вот пока Забудем о виртуальных портах будем говорить так сказать о больных простых вещах вот у нас есть приватная виртуальная сеть она обеспечивает связность между серверами немножко углублюсь в детали наша приватная виртуальная сеть построена по технологии оверлей это наложенный виртуальные сети в частности с использованием такого протокола как в x-lan а и соответственно вот в данном случае у нас есть виртуальные сервера которые соединены между собой но понятное дело в мире сервера замкнутые друг на друга никому не нужны и конечно же нужны всем сервера которые имеют доступ в Интернет и опять же openstec и Нейтрон в частности предоставляет такую возможность можно создать виртуальный роутер который выпустит наши сервера в интернет из приватной сети и вот все хорошо У нас есть сервера У нас есть доступ в Интернет мы можем запускать там какую-то бизнес-приложение например тот же интернет-магазин и обеспечивать работу бизнеса но мы живем в 21 веке в современном мире вроде как и никто не хочет уже особо-то катиться на голое железо всем хочется нормальные программирования на ямле и хочется губернатиз чтобы туда хотите уже свои приложения мы даем такую возможность наша платформа уже в разделе по сервисов предоставляет менеджмент губернатис за сервис достаточно нажать просто кнопку и на ваших серверах появится cubernetis но опять же есть некоторые отличия Да все привыкли наверное работать с губернатисом на каких-то железных инсталляциях например в своем дата-центре но в облаках есть небольшое отличия в вашем дата-центре как правило есть какая-то команда эксплуатации и когда ресурсов cuber найти не хватает они доставляют серверов и расширяет губернатиз на них в облаках понятное дело никакой команды эксплуатации которая будет это делать Нет вместо этого cubernetis можно сказать что сам ходит и наша API и проверяет они пришел ли запрос на его расширение Я здесь немножко точнее много очень сильно упростил схему но суть именно такая да то есть куберетесь ходит и перепроверяет запросы клиента в наше собственное API и если клиент пожелал этого то соответственно cubernetis добавляет там себе виртуальных серверов и на них же себя расширяет такие Барон Мюнхаузен который сам себя вытаскивает за волосы из болота и вот все хорошо У нас есть kubernetis мы можем катить туда софт вроде бы этого достаточно но наши клиенты это в основном средние и крупный бизнес А что есть у среднего крупного бизнеса Ну конечно же у них есть своя собственная уже инфраструктура как-то они дошли до позиции Там средний крупный и предположим что это инфраструктура стоит в каком-то дата-центре Да вот он там через свои собственные железные роутеры соединены с интернетом и вот у нас есть две инфраструктуры одна в дата-центре вторая в Облаке Ну как-то надо расширяться одна в другую но связи между ними Нет ходить через Интернет Там их данные какие-то клиентов гонять небезопасно опять же это проблема решаемая И мы тоже подготовили методы решения с ними Да есть кнопочка нажимаете получаете VPN за сервис и вот уже между облаком и вашим дата-центром настроен и всех канал в Облаке достаточно кнопочку щелкнуть А вот на железном роутере придется и всех сконфигурить но не сложная задача и достаточно просто решаема вот все у нас есть связность мы можем расширяться в облачную инфраструктуру но еще одно но на самом деле не всем и всех канал нравится кому-то не хватает letones и кому-то не хватает пропускной способности а кто-то говорит что и всех вообще недостаточно Безопасен и таких клиентов достаточно много особенно с развитой службы информационной безопасности и для таких клиентов Мы готовы предоставить услугу выделенного канала В общем и целом это достаточно простая вещь мы бросаем провод от инфраструктуры клиента до приватной сети даже не до роутер именно до нашей приватной сети а вообще Ну те кто в теме понимают что делается это несколькими способами можно например заказать какую-то услугу провайдера у которого есть с нами пилинг можно встать там в иксы вместе с нами рядом там соседнюю стойку или встать в дата-центр где у нас есть точки присутствия способа есть разные те кто в теме Ну в этом разбирается я не буду сейчас подробно останавливаться вот у нас уже такая вот связанность фактически по проводам с нашим облаком а мы вспоминаем что в этой ситуации наш губернатис он по-прежнему ходит на шапир и начинается следующая часть марлезонского балета Ну во-первых у нас теперь есть два виртуальных два роутера один железный второй виртуальный да и наш внешний периметр к интернету вырос в два раза а виртуальный роутер в платформе Это всего лишь роутер Да это всего лишь коммутатор который перекладывает L3 пакетики он не больше чем это То есть это не какой-то сертифицированный тем более по фэстеку Firewall это просто перекладыватель пакетиков а еще многие клиенты говорят что вот мы к вам в облако расширяемся значит политики безопасности на инфраструктуру нашу инфраструктуру в вашем облаке должны быть такие же как и на нашу инфраструктуру в нашем дата-центре со всеми теми же требованиями безопасности там какими-то листами доступа на внешних интерфейсах и тому подобное и в результате перевешивания какого-то этого фактора или может быть по совокупности этих факторов у некоторыми некоторые клиенты делают вот так они берут и убирают виртуальный роутер теперь у нас связана инфраструктуры но у менеджера губернатиса нету больше доступа нашего надо понимать что менеджер cubernetics он не только расширяется через нашего даже запускается через нашу и поэтому в таких сетях он просто не может запуститься к нам приходят разработчики менеджер cubernetics и говорят Ну вы же сети Ну сделайте что-нибудь Вы же программисты и мы начинаем делать Ну во-первых надо посмотреть на проблему чуть-чуть внимательнее Да и понимать что API которому выходим наше Облачное он на самом деле находится не в интернете он находится в том кусочке интернета который расположен внутри нашей инфраструктуры это соседние буквально сервера просто на них навешаны внешние переадреса то есть нам не нужно выпускать этот трафик в интернет нам достаточно выпустить этот трафик из приватной сети которая оверлейная сеть и в нашу инфраструктуру то есть выйти из приватной сети по сути задача проста выйти из оверлейной сети в сеть underline Задача в стиле в принципе героя фильма Да вот Побег из Шоушенка нам нужно сбежать из тюрьмы но есть некоторые отличия отличие следующие мы на самом деле находимся не в позиции герои этого фильма и тут немножко пока питанием чтобы сбежать из тюрьмы не обязательно нее попадать Да можно сбежать из нее до того как ты в нее попадешь если вернуться к сетям то на самом деле и посмотреть вот на все технологии оверлейных сетей которых достаточно много это и VPN там с метками млс например и в x-lan warline сеть то видно что в каждой этой технологии они находятся некоторая точка которая является и входом и выходом в эту сеть То есть у нас есть точка обмена между оверлейной сетью и внешним миром Да в случае Вы x-lan это vitep так называемые в случае мплс VPN это PE маршрутизаторы а в случае наших приватных сетей виртуальных приватных сетей это виртуальный порт И на самом деле если посмотреть на приватные сети подробнее то видно что любая сущность которая в них добавляется будет роутер или там dhcp-сервер или просто обычный сервера Она вся она каждый из них подключается через виртуальный порт они иногда просто не совсем видны там или имеют специфические какие-то параметры Но в любом случае всегда точка подключения к приватной оверлейной сети это виртуальный порт и Казалось бы возвращаемся вот к нашей схеме Если вдруг кто я успел забыть за 7 слайдов и вспоминаем Что у нас там есть виртуальные порты и задача-то в общем целом проста отщепить на виртуальном порту нужной нам трафик а он очень просто понять какой он имеет точку он имеет IP назначение это вот IP нашей в приватной нашей публичной IP Да IP адрес и соответственно этот трафик как-то транслировать а потом принять его назад в обратную сторону и отправить там виртуальную машину вот делается Это Спарта поэтому буквально самой начала разработки к этой технологии у нас внутри прилипла название shadowport прилипла намертво отлепить не получилось Поэтому так с этой с этим названием эта технология у нас и продолжала развиваться shadowport Давайте значит немножко уйдем в технику и посмотрим на Нижнем уровне на уровне вот Data Plane буквально как это все устроено и где именно Нам нужно там перехватывать трафик то есть мы опустимся вот до самых до самого нижнего слоя до уровня гипервизора где запускается виртуальная машина Что такое виртуальная машина на уровне гипервизора это просто процесс linuxeman Да процесс Queen kvm который запускается там например через birt потом посредством там некой обвязки при запуске создаются некий набор виртуальных интерфейсов транзитный Да это прежде всего Тап интерфейс который с одной стороны сокет и этот сокет дается в процесс qemo с другой стороны это виртуальный интерфейс потом там линуксовый бриджик вы этаж пара конкретный набор зависит от многих факторов это и версия Нейтрона там разная и настройки виртуальной сети и настройки порта вот конкретный набор может меняться но суть остаётся такая же да там какая-то часть этих виртуальных интерфейсов будет создана после этого все эти виртуальные интерфейсы подключаются в Open vswitch и этот опен в Switch уже делает трансляцию трафика Ну даже не трансляцию а преобразования трафика в оверлей То есть он довешивает к пакетам пролетающим в x-lan туннелирование отправляется соответственно в оверлей вот у нас тут какая-то такая сложная схема А кто вообще все это настраивает на гипервизоре опен стеки кроме Нейтрона есть еще такой компонент как Нова Но это вот один из самых так стародавних сервисов openstek именно он занимается запуском виртуальных серверов когда-то он занимался запуском виртуальных сетей в самых самых первых версиях openstek но потом это выделили и отдали другому сервису на тот момент он назывался Quantum А сейчас известен как Нейтрон именно Нейтрон занимается виртуальными сетями и вот если посмотреть как выглядит взаимодействие пользователя вместе с этим да то мы увидим такую картину вот Неважно как этот пользователь взаимодействует там через он щелкает кнопочки в ЮА и он идет через клей или идет напрямую через API Да пользователь хочет запустить машину в какой-то приватной сети виртуальной сети он прежде всего должен создать этот виртуальную сеть он идет в Нейтрон и создает виртуальную сеть вроде все просто потом он идет в новой API и создает уже собственно говоря саму виртуальную машину тоже все просто и понятно и при создании виртуальной машины Он говорит что я хочу чтобы это виртуальная машина запустилась в такой-то сети после этого нового идет но она сначала там выбирает куда эту машину разместить а потом она идет в Нейтрон и в данной виртуальной сети создает виртуальный порт соответственно Нейтрон смотрит на настройки виртуальной сети и нове отдает информацию о том А как именно этот порт через какой набор вот этих транзитных интерфейсов он должен быть настроен на dotaplay не то есть Нейтрон отдает нове информацию о том как ей порт этот настраивать и как его подключать к виртуальной машине если посмотреть на Data Plane то зона ответственности выглядит вот так виртуальный собственно процессом виртуальной машины и всеми вот этими транзитными интерфейсами занимается Нова а Нейтрон занимается непосредственно настройкой оверлейной сети это может быть даже не оверлейная сеть А например в иланная сеть суть останется такой же буковки поменяются Ну и пакетики понятное дело которое летят в сеть но вот принцип взаимодействия вот этих двух сервисов он останется таким же значит и у новой есть даже специальный набор плагинов который занимается тем что он как раз настраивает подключение вот этих интерфейсов он называется освив и вот в этом месте примерно нам нужно встроиться и перехватить трафик который идет в оверлейную сеть и его куда-то в сторону направить Да сделать это достаточно просто мы в том же openvswitch можем сделать дополнительный свечек и бросить на него простенький Flow Типа если трафик идет в эту сторону то там сделай на него трансляцию над просто наречи да поменяем у него адрес назначения и отправь его в другую сторону на самом деле там Dota Planet чуть-чуть посложнее выглядит Нам еще нужно там еще дополнительная трансляция но суть остается такой же я не буду сейчас усложнять вот но остается вопрос А чья будет эта зона ответственности Да кто должен сделать собственно вот эту дополнительную настройку Да ну Казалось бы раз интерфейсами у нас занимается новая то пусть это делает нового ничего не знает виртуальных сетях вот с тех пор как появился Нейтрон все всю ответственность за сети ему передали и всё там какие там ip-адреса у кого чего Ну ничего этого не знает А ну тогда у нас остается Нейтрон кажется что можно отдать это все в Нейтрон но здесь тоже У нас возникли нюансы Мы сели исследовать как это делать не троне и обнаружили что это долго долго потому что внутри настройки порта там очень много всего наделано и мы прям поняли что если мы в эту углубимся то нужно будет там внимательно это тестировать чтобы ничего не развалилось и в итоге наши сроки оценки за сколько Мы это сделаем они сильно перевалили Зато А сколько времени нам готов бизнес выделить на решение этой задачи и мы стали думать о что больше ничего нету да Вот только новая Нейтрон не буду терзать А почему бы не сделать это ответственностью вообще какого-то третьего сервиса вот очень простенького кажется задача на самом деле простенькая нам нужно просто трафик отфильтровать просто трафик транслировать там делать две строчки в Dota Plane по крайней мере точно там всего несколько правил обработки трафика и действительно можно сделать это отдельным сервисом такой unixway да у нас есть инструмент который делает одну задачу Но делает ее хорошо по счастливой случайности а может быть и не по случайности мы уже там в течение некоторого времени пишем замену Нейтрон свой собственный SD мы назвали его Спрут Я в девятнадцатом году на хэллоуиде рассказывал подробно о причинах Почему мы так сделали и что именно нам там в нейтроне не понравилось вот есть ссылка кому интересно могут перейти посмотреть доклад пересмотреть и знакомиться ссылки потом еще в конце будут а соответственно Почему бы нам эту задачу не поручить такому инструменту как Спрут он у нас как и Нейтрон по всей инфраструктуре раскатан и есть на каждой ноде и кажется что в него очень просто вот этот кусочек добавить Да у нас в отличие от Нейтрона нету там монолитности в этом месте мы можем обрабатывать очень минимальными такими сетевыми функциями и нам очень быстро и дешево их делать И вот это основная настройка но я обращу внимание что это не значит что никто эту задачу не может решить если у него своего здана нет может можно написать какой-то простенький сервис который вот конкретно эту вещь делает именно сам без наличия второго SD а и соответственно возвращаясь к нашей схеме Да мы поручаем эту зону ответственности спурту и дальше как это будет теперь работать уже взаимодействие с пользователем пользователь по-прежнему идет в Нейтрон API и создает там приватную сеть Но в этой приватной сети он уже ставит дополнительный флажок Я хочу Shadow порт чтобы он был включен в этой сети соответственно Для нас это нужно сделать небольшой extension над нейтроном для того чтобы поддержать вот этот дополнительный флажок с одной стороны чтобы в апе появился дополнительное поле с другой стороны чтобы этот флажок оставался в базе да где-то хранился для этой сети но это достаточно небольшая доработка Нейтрона и она такая аддитивная то есть она ничего из старого не ломает и не затрагивает потом пользователь точно также задает виртуальный сервер как в примере до этого тут в общем ничего не изменилось А вот в процессе настройки порта немножко изменилась Да мы опять же через вот этот дополнительный экшен к нейтрону про который я рассказывал мы говорим что нейтрону нужно не только создать настроить порт но ему нужно также сходить в Спрут и сказать о том что вот здесь Ты должен настроить вот это вот небольшой фильтрацию и транслирование трафика в этой Вот конкретно в этой точке Да а также мы у этого порта изменяем Type Таким образом мы извещаем Ну о том что этот порт надо доплыне нужно подключить там чуть-чуть по-другому Вот такая вот такой кажется простой способ Да мы просто обошли из так сказать вмешались в работу пэнстека и вот год назад примерно наш чуть меньше Да в этом году на хабре появилась статья от наших коллег из Huawei где они представляют технологию not Local Virtual IP тоже есть ссылочка она тоже будет в конце можно будет почитать да Если сравнивать эти две технологии то они с одной стороны кажется не похожими Да вот Shadow порт он трафик из оверлейной там сети выделяет и отправляет на нашу внутреннюю опишку А над локал Виртуал IP она вместо этого трафик выделяет и отправляет на ip-адрес внутри приватной сети но на ip-адрес той машины которая находится на той же физической ноте То есть он поэтому Да вот Казалось бы совершенно не в разные стороны трафик отправляет Но на самом деле с точки зрения операций которые они делают над трафиком То есть это фильтрация с одной стороны мы выделяем некий трафик по признаку да В основном по признаку назначения и Плюс трансляция Да мы его перенаправляем куда-то в какую-то сторону Вот они очень похожи и если бы мы делали вот в чистом виде вариант модификации Нейтрона мы бы пошли очень похожим путём на самом деле да И тут можно посмотреть сколько они этим путём шли я к сожалению не знаю сколько она это разработка заняла внутри Huawei Но вот добавление это этого официального релиз Нейтрона они кстати большие Молодцы они это за Open Source или все у них заняло примерно 10 месяцев у нас разработка заняла наверное три месяца и еще три месяца мы это там гоняли по всяким тестовым стендам тестировали на всяких тестовых пользователях и тому подобное то есть до Production у нас примерно заняло вот когда мы отдали это прям клиентам у нас примерно за него полгода Да не знаю к сожалению сколько вот у Huawei она заняла но наверное всё-таки не меньше как минимум Да того Давайте подытожим на самом деле на сегодняшний день разработчикам бы неплохо понимать хотя бы как работают облака чтобы не делать всяких странных вещей которые в облаках будут работать плохо Ну и для тех кто как-то облака разрабатывает И тем более делает это openstek неплохо бы во-первых понимать как это все работает и как это устроено Да и во-вторых не бояться изменять как-то поведение opensteka Для этого ну не требуется прямо там написать тонны кода а на самом деле Ну под стек с точки зрения кода очень многословный продукт Да тот же Нейтрон составляет 250.000 строк кода на этом У меня все спасибо за внимание ссылки на приведенные ранее статьи вот здесь вот и за мой доклад голосуйте по qr-коду всем спасибо Саша спасибо содержательный доклад интересный Быстро ты такого прочитал остался много времени на вопрос и будет приз за лучший вопрос так поехали Там Здравствуйте Почему решение подобной задачи Вот обеспечение доступа невозможно с помощью использования немножко другой схемы создать дополнительный с одной стороны которые будут доступны а с другой стороны будут вершил порты которые будут присоединены интерфейсами мастернодам допустим и на мастернодах это вашего кластера просто отдельные маршруты использовать для доступа через другие интерфейсы интерфейсы смотрящие такая схема невозможно я понимаю вы все правильно Говорите но тут Все упирается в политике безопасности того кто хочет это сделать и фактически в вашей схеме предоставляемой у Маши в которых собственно губернатис располагается так или иначе есть доступ Вот в это API в Интернет да И обязательно в Интернет будет доступ к тому чему вы доступ откроете тогда внутри приватной сети окажется сеть оверлейная замкнутая сама на себя можно сделать над вот условно говоря да ну и опять же Мы возвращаемся к ситуации когда нам нужен роутер а политики безопасности клиента Запрещают этот роутер будет использоваться только для маршрутизации контейн трафика вашего вот даже такое нельзя а просто требование заказчика дальше у тебя какой-то комментарий Жень дайте здесь на самом деле все просто и ничего себе Вот и клиенты которые размещают ресурсы в облаке На их систем безопасности не позволяет создавать сети которые они не контролируют то есть они говорят не должно быть сетей которые мы не можем управлять контролировать навешать Firewall правила и так далее в этой же сети вот Shadow клиент может настроить правила безопасности даже запретить доступ к айпишнику от нашего Ну то есть к нашему То есть он контролирует трафик полностью да Именно поэтому мы вот этот порт добавляем после Security группы мы даем возможность запретить даже к нему ходить Кто здесь поднимал Руку вот да Спасибо интересно доклад у меня такой очень общий вопрос Вот вы спруте упомянули А вот связи там с выходом Овен Да вы не жалеете то что в свое время Понятно его тогда не было в продакшене Ну как свой День начали писать и вы уже Вот его выкатили на провод или ещё какие-то тесты продолжаете внедрять и насколько с вашей стороны он перфоумнее там скажем классического вес смотрите давайте я с конца может быть отвечу Да мы его выкатили напротив он работает напротив параллельно с нейтроном Вопрос просто в проценте клиентов который находится на одном из Дени и на другом состоянии потому что написать SD это ну это чисто Техническая задача А вот мигрировать провод клиентов Это уже больше организационная задача и она медленно решается на самом деле медленнее чем мы бы хотели к сожалению Но я надеюсь что когда-нибудь я выступлю с докладом о том как мы всех мигрировали а на горячую не получается там все равно будет Down Time К сожалению потому что ну как минимум сессии разорвутся еще что-то то есть это будет заметно Да вот прям перекинуть стейк соединений часто не получается часто не получается по поводу производительности смотрите производительности определяется датаплейном дата plain у нас тот же самый и в увы не и в нейтроне и у нас в руке в качестве используются органовый Switch в основном плюс какие-то средства гидроликса и поэтому Ну не важно чем мы настраиваем этот опенович каким контраклейном производительность будет всё равно одинаково да что там что там и я скажу только что мы стараемся Ну как бы не допустить каких-то там сильных просадок и сделать там кольца трафика ещё что-то вот тут не скажу что есть какой-то выигрыш мы нагрузочное тестировали э в нейтроне из-за некоторых особенностей косяков там нашей версии Да у нас даже места медленнее получалось теперь по поводу овн А да это такой самый сложный вопрос на самом деле когда мы выбирали в какую сторону идти в моем докладе вот от девятнадцатого года это есть мы рассматривали и ввн этот продукт на тот момент был и есть две основных два основных момента первый момент это то что он тогда не очень хорошо шортировался на большую нагрузку А в частности на количество гипервизоров я сейчас могу там уйти в технические детали но я предлагаю вот уйти в кулуары на эту тему Да у нас не получалось его сильно шортировать А на большое количество гипервизоров там его Южная база просто затыкалась по количеству соединений с агентами а она тогда никак не масштабировалась не знаю как сейчас давайте вот я готов технические детали углубиться там прямо море в кулачках куларчиках будущем поговорить кто еще еще есть у нас вопросы в чатике по монету Да и в зале больше нету а вот Давайте Да спасибо большое за адвокат доклад очень было интересно я хотела спросить а если пример как решает подобную задачу в других облаках но в России например про Huawei как может быть у нас еще есть пример нашей стране Ну мы смотрели Как решаются другие Ну как решаются подобные проблемы на самом деле в других облаках Ну вот мы в частности много смотрели на АВС но там на самом деле не очень понятно с точки зрения того что есть в публичной инфраструктуре у них просто они трафик от своего роутера фактически виртуального внутри сети они готовы отправлять свою API и типа у них всегда в сети должен быть роутер он может там не смотреть в интернет но будет смотреть в их API у них сделана чуть-чуть по-другому но у них скорее всего другой тип сети как они совсем своих приватных инсталляциях это делают мы к сожалению не знаем Спасибо ещё один вопрос под конец как все это разошлись у меня еще один вопрос точно по какой-то приз взять Вот возвращаясь опять назад там в девятнадцатый год вот я знаю некоторые провайдеры публичные реализовали там скажем опускание бгп сессии на уровне Хоста И вообще там исключили ряд ряд проблем понятно что другие поимели Вот вы как смотрите вот вообще выпилить соответственно компоненту пензстек Нейтрон Да и Ну допустим на базе какого-то самописного скажем так самоописанной реализации Диана реализовать там bgp связано вот как как называется дахаста Да пустить сессию и управлять уже сетью с помощью таких все со всеми так скажем смотрите Я не знаю насколько я тут открою какие-то там супер секреты но у нас на самом деле давно дата-центровая сеть устроена по схеме L3 То есть к нам на конечный гипервизоры сразу вот опускается там два хвоста двух разных торов и мы наверх строим bgp сессию где мы рассказываем типа вот мы тут находимся соответственно с двух точек видны Да дальше там Фабрика Я колхоз мультипаф и все остальное То есть у нас в инфраструктуре это давно сделано Но это все не решает проблемы изоляции клиента от клиента и нас от клиента и основное что нужно нам в издании это на самом деле мультитанность это возможность много клиентов запустить в одну и ту же инфраструктуру так чтобы они друг друга не увидели Ну и Никакое там опускание bgp-сессии превращение его в три сети оно не способствует Вот как раз изоляции друг от друга да то есть там ну Я готов порисовать на эту тему в этом самом либо я не понимаю вопроса Да но на мой взгляд Ну мы с самого начала запуска облака живем вот в парадигме или три настойку и Ну как ничего это не влияет Нам по-прежнему нужен SD Спасибо еще нужно больше вопросов Богу Вопросов нет не будем приносить ему жертву да Все ладно теперь надо выбрать лучший Ну человека который самый активный просился Ой ну что заканчиваем аплодисменты аплодисменты Всем спасибо хороший последний доклад и тебе призы от организаторов конференции"
}
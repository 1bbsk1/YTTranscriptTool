{
  "video_id": "1mq_Qye-05o",
  "channel": "HighLoadChannel",
  "title": "Авито IaaS: как мы управляем инфраструктурой / Юрий Дзюбан",
  "views": 1442,
  "duration": 2821,
  "published": "2022-03-21T14:02:41-07:00",
  "text": "всем здравствуйте меня зовут юрий я работал компания vito и с коллегами вместе тружусь на стандарте над разработкой с его стройсервис сегодня я вам про это расскажу кстати говоря это моя первая конференция и она будет состоять из трех частей вначале я скажу вам когда мы поняли и как что нам нужно эти структуры вторая часть будет стали технические подробности это самая большая часть и наконец в третьей части я вам расскажу про опыт использования этого продукта и дальнейшие планы в развитии для того чтобы поднять и зачем мы все это делали давайте принесем 2018 год и посмотрим оттока контраста тура это выглядело в то время вот так она выглядела мы эксплуатировали больше всего 600 серверов они начались в одном дата-центре и все это обслуживалась силами команда из двух человек в то же время у нас уже было понимание того что мы будем увеличивать количество серверов и количество это центов тоже но у нас были проблемами которые помешали бы такому росту обязательно давайте смотрим на некоторых проблем первой из таких проблем было то что у нас не было единой достоверные базы знаний оборудования которые могли бы доверять часов по сути у нас велся в excel таблицах ну в google таблицах представьте себе инженера команда bicycle команда дата-центра который оперирует в зале центра работать с номерами он устанавливать на сервера он переносит существующей сервера он втыкает вот такая линки сетевые интерфейсы меняет неработающие модули памяти жесткого диска и так далее и тому подобное все эти действия он должен отражать в google таблицах понятно что такие данные будут во первых не актуальными и скорее всего не будут недостоверными потому что все таки этот человек а нам нужны актуальные достоверные данные как минимум для системы которые являются внешними для мониторинга на тему них нуждаются взять просто тур внешними например это мониторинг overthink и и так далее что понять вторую проблему важную давайте я вам расскажу как происходит процесс этапа ну все то подготовка сирот эксплуатации инженер берет чек-лист и начинает выполнять все пункты в нем один за другим в ходе этого он должен контролировать процесс то что происходит а также немножечко нем участвовать отвечать на вопросы которые будут задавать свои скрипты под но скрипт с этапа это несложно но этот процесс нельзя мы что герой потому что просто представьте себе что это вид одновременно например пять серверов или даже 10 он неизбежно будет free shipping как же быть мы поняли что надо делать автоматизации долго ли коротко мы и сделали и давайте посмотрим это что это нам дало это сюда с первом году количество наших серверов увеличилась более чем 5 раз первых больше чем 3000 мы explode быть x игра разместили в нескольких дата-центров и они эксплуатируются силами командой четырех человек и это не конец мы регулярно мы закупаем новое оборудование в качестве бонуса мы снизили то нет маркет для цвета по для нашей команды во первых процессор не требует участья человека ну точнее требует только в самом начале чтобы его инициировать можно стакать ставить поставить это к цене сыграв одновременную юте пить кофе во-вторых мы в некоторых случаях решили доверить простатита по тем команду которые в них нуждаются то есть не самой команде dc к другим командам это позволит избежать этой ситуации подадутся и креуса нет бутылочным горлышком например многим командам одновременно понадобится сервера и до церкви не справится ну справиться со временем но долго теперь расскажем подробности до этого я раз освещал некоторые компоненты и процессы которые у нас имеются эту историю в качестве некоторые входной точки мы разместили у себя развернули вам система подадимся им тебе что такое сентябре вы видите вот на слайде за основу в качество мы взяли систему конца совершения нет бокс от компании digital что она описана катанию у него есть плюсы и минусы свои есть и другие системы 7 тебе я не буду останавливаться на сравнении существует черник решение правда в том что у них у каждого есть свои преимущества есть свои недостатки но самое важное что скорее всего придется эта система здорово под себя в любом случае в наши эту историю сентябре выступает в двух ролях первая роль это информационная система а в которой есть достоверные здание оборудования посему недостоверной потому что мы научились им тебе регулярно делать обновление из разных внешних систем пройти системы внешняя диктор язык я расскажу вам чуть чуть чуть позже кроме того мы усилим симбиотические добывать информацию о новых играх это называется the discovery и вторая роль сам тебе это панель управление оборудованием в частности серверами процессе этапа тоже начинается отсюда теперь давайте вспомним что собираю у нас используется для разных целей это могут быть собираться данных например кэш фанов аниме счетам что угодно чтобы сервер можно было использовать какой-то цели на нем должно быть достирать обстановка тему и и второй очереди набор каких-то программ какие-то версии сконфигурированных и запущенных нужным образом когда у вас сотни и тысячи серверов вы вручную все это делать не будете с ними вам нужна система управления конфигурациями собственно массово работать с играми как раз и позволяет оформить образцами нас это пакет нравятся другие тоже с ним слайде опять же у каждой свои плюсы и минусы задача эта система любой из них обеспечит что на серверы будут нужны набор программ которые сконфигурированный нужным образом кстати этот подход нас работать не только вообще не только у нас везде работа не только космическим равен свидетельскими семирамида но с виртуальными сущности например с контейнерами или с виртуальными машинами поэтому я буду говорить но ты чтобы ну вообще кроме того именно паппет уже именно p-cad решение предоставляет дополнительный модуль под задним фактор это полезный модуль он собирает некоторую информацию в первую очередь про физические компоненты сервера например количество циклу количество ядер там памяти сколько если выполнит гopoдa и прочее и во вторых как это кастомные факты которые вы можете затем настоятелем все эти факты собираются и пушатся в некоторые внешние сущность по 5 db и этот пакет db является одним из тех наших сочников которым синкая 7 тебе теперь давайте я расскажу вам как рода капец но его основная цель как система проникнуть в рациями вы описываете конфигурацию по которым эти получить в описывать и видели явно манифеста конфигурацию являются разными они делаются на то что называется ролями роль это то что отличает одну машину до другой например почти роли может уступать орбазаном или файлохранилища кроме того из инкассаторов одинаковых ролей они могут отличаться друг от друга тем что называется окружении это чаще всего влияет на конфиге например окружения может быть продавая stay джин hawaii или какая-то ветка для фича специфической ну который вы тестируете кто-то должен знать для каждой ноты какая для нее роль и какая для нее окружению этот кто-то называется наткнуться фаером пакет позволяет использовать внешнюю классификатор енот называемый externa но после фаера или пенсия в качестве инси у нас также выступает всем тебе теперь как это работает на каждую но 90 довольно сами программа называется попадемся эта программа керамическая ходит в попец сервер или вручную вы можете это вручную запустить собирается с него данные слушает манифест и смотрит соответствует ли то тумане тому что сейчас аноде находится если нет то надо приходится нужно состоянии роль окружения можем менять сентябре через api или через ей собственно важно понимать что то что вы изменили конфигурацию пока что вам ничего не удалось сама по себе вы этап операции должны применить то есть это как я сказал либо физически по какому-то условному крону либо явно хорошо мы теперь поняли как работать с вибрациями по но есть еще другие операции серверами которые не покрываются конфигурации по они обычно выполняются при сетапе или при подготовке сетапом признака например опрессовать систему эти операции внутри не только раз это сроки bios например это создание рейда брать масел а это перезагрузка сервера тоже например ну и другие операции чтобы выполнить этот раз и у нас есть суп за ним и pee mai ratima это интерфейс тоже расшифровка видимо слайде герой этой уа интерфейс он позволяет выбирать эти операции выполнять операции он не требовалось данный час рацион системы то внешне некоторый контроллер этот контроллер также поддерживают ну кроме юань еще api есть а трастовый standard red fish api это джейсон растопи которая делает все то же самое что делать я не собственно этот раз фиша пятнами нужен для автоматизации skoda авторизацию консультацию мы сделаем виде логины и пароли не только мы вообще в целом она сделана леди логина и пароля все это приходит от поставщика с некоторыми заводскими учетными данными в процессе сетапа матери завальская учет надо мне меняем на другие чтобы они совпадали с ними зачем это делается я очень близко теперь давайте расскажу вам как к все эти замечательные вещи позволяют нам процессу 2 начну с окружении нас обнаружению насобирав или of the discovery конечно же но сила не появляется сам по себе из воздуха давайте представим что если которой команда которая хочет делать новые фичи и которая поняла что им нужно добавить вычислительном частей дальше пойдут к это административная группа тически процессы вроде заявки на закупку согласование бюджетирования и прочее прочее они не относятся к нам попаду поэтому давай просто представим что это произошло и сервер оказался закупим ну несколько товаров возможна становится ну закупе ну и что дальше происходит а дальше в дело вступает инженеры команда 5 до центра они на этом этапе работы с серверами в прямом смысле руками то есть дата центра проезжать машину в которой закупленное оборудование они эту машину разгружают и размещают сервера в стойках подключают их нужным коммуникациям и включай кнопку питания вот инженер все это сделал и пошел заниматься другими задачами дальше где уступает эта статуя сервис поэтому это был шаг 0 собственно сервер причем сеть ему да хотя п допустим выдала айпи адрес но у неё даже нет а процент системы на нем зато у него есть принимай и в дело вступают сам себе всем тебе записаны по цвете из которых выдается адреса синди by их героической покровную перебирают прямо вся дышат играют и проиграет а нет ли на этом адрес и слушающего 443 порт поймай с заводскими настройками во-первых адрес может быть просто никто не занять свободный адрес во вторых адрес может быть чем-то занят но это не понимаю вообще в третьих это может быть и поймай но уже сервер который введен в эксплуатацию вот тут как раз важный момент мы именно для этого делаем разные придушила учетные данные да у нас серверов и у заводских чтобы случайно этим моментом и затронуть те которые уже эксплуатируются в продакшене и так все это нам не нужно нужно нам только те данные которые заводскими снимем и дальше работаем нашли мы такой сервер я напомню что он голые у него нет даже операционной системы на диска до поэтому он даже не может загрузиться заказать мы будем посетим минуту для того чтобы забрать все равно посетим нам пригодится только что помимо пигси пигси как раз позволяет скачать образ в этом сама система в сети и с него загрузится для этого у нас есть bios которым мы можем включить флаг одноразовый загрузки по фриксио одноразово это означает что последователем tribute серы вопросы курица через ведь но это правда так один раз то есть это все одноразовая история мы это делаем для сервера и мы его ребута им давать ее тут же у него внимание на отдельный компонент 7 апраксин а это собственно компонент который им примете это расти shape а также он знает учетные данные для серверов в том числе заводские учетные данные это сиропов повторяю он еще и фиг с этим не занесен поэтому данный режим заводскими итак мы включили ты все мы либо . далее делается по систем позвони им разов опять же есть альтернатива razor . labs она чем-то немножко похоже на попец но отличается от него в то же время его основная цель это выдавать по сети образом проносят тем которую мы хотим для новой но до этого образом будет так называемый разверни как верно микроб кернел это специальный образ centos основная цель которого единственно цель которого это загрузится собрать факты с помощью модуля который похож на фактора так это но выполнять принципе такие же функции от собирают фактов оборот его не пушат их в разрыв образов сервер и все это на этом мы закончили таким образом в разуме появилась информация об онлайн 1 она сама зарегистрировалась там и ее начинки например просто вид серии прочно собственно тут все семьи be seen кольце сразу рам находят там новые ноты и и портирует ее к себе в итоге что получилось семьи появилась масса о новом сервере собственно она позволяет в церкви инфицировать в числе и фактов которые мы сообщили в razor сколь входят серийных материнской плате поэтому мы сможем его котируется однозначно и во-вторых мы можем понять для каких целей подходит мы это можно понять по аппаратной конфигурации например потому если на нём группу или нет на нем gpu или там сколько в нем дисков ssd они или нет но и все такое в итоге вот нас есть пример из юар мы создали отдельный раздел под названием склад для того чтобы видеть там законного севера который еще не виден и эксплуатации они распределены не какому отделу им никто не владеет поэтому они должны быть в отдельном месте на этом складе и мы видим что все график однотипными на эти вот именно типа not какой-то там эти имена присвоил раза они несут в себе никакой информации мы не можем вытащить ноту одно другое но мы можем воспользоваться серийником и аппаратно конфигурации таким образом мы можем понять для всего этот сервер нужно на этом saw the discovery нас все далее я расскажу про сетап то есть портов постирать эксплуатации ранее мы ставили себе голове некоторые команды которая заказала себе мощность а кстати говоря это команда эти можем все еще ждет мы еще эти на шасси не поставили отмечу чтобы иногда не даем команда много севера отдаем ему существующие разница на самом деле небольшая разница происходит только на первом этапе кодом если мы говорим о существующих сервер мы все должны выстрел эксплуатацию из эксплуатации на этом после этого процесса впадают в любом случае у нас есть сервер и мы готовы его сетапе сперва мы должны настроить параметры этапа это делается через я и или через api существенный параметр и это конфигурация popped это процион систему флаги файла системы flatev она систему они нам позволяют выполнять или не выполнять определённые шаги например а шаги например на разведку м по всем параметры сформирован и отправлен в сентябре нажали волшебную кнопку set up дальше нам снова поможет раза на этот раз нам нужно не микро ядро 1 процион систему поэтому мы в разы задаем некоторые метаданные для данного сервера и на основании этих метаданных блюд который формируется из операционной системы fs флага флагов она системы и прочного razor поднимает однозначно какую такой образ нужно отдать для этого сервера образ при этом отдаст и только для этого сервера то есть это не ситуация с образом по умолчанию тогда раздает всем микро ядро а эта настройка именно для данного ну для данного сервера и так мы поставлять и метаданные и дальше мы делаем вот то что это то же самое что мы делаемся of the discovery мы включаем загрузку сексе и либо time сфера для того чтобы он загрузился посетим разница в том что тут учетные данные могут быть не только заводскими но еще и другими но все равно об этом знает наша прямая прокси и про заводские данный узнать и про не заводские reboot 0 и сервер до 100 да в итоге сервер получил нужный образ и накатывать на себя персоной систем про стать самой долгие но собственно накатывание просто мастер установка простой системы но затронуть и зеленый на все вопросы которые возникают в ходе установки скрипт сетапа отвечать сам потому что он он умеет это делать на основании тех метаданных которые мы ему сформировали грубо говоря мы сказали раздору отдать ему специальный образ которому же и прописано все ответы в итоге все становится самостоятельным когда снова когда все закончено сервисного перезагружается для чего он снова разгружается для того чтобы сконфигурировать через попец потому что мы установили на него процент систему но мы не автомобиль его не нужна программа мы хотели получить серверов скажем для баз данных а получили вместо этого просто сервера с деревянной без ничего это еще не все мы с не закончили начинаем операцию стопят тут у нас может и не проблемы что если при как играть с так как мы упали например недоступен менеджер пакетов или менеджер пакетов нет пакета нужно версии которая описана или даже и напомню что манифест по 5 мл файл объёмом файле могут могут быть ошибки например да и что если там была ошибка мы получим кирпич почему потому что сашка час бинов не накатились вы только от минут затем доступ возможно только сели за фильма это нехорошо не всех 16 до 100 пошли за 1 и сложно того что то делать как мы эту проблему решаем мы делаем две роли одна из не стабильная базовая роль она содержит себе сути только сашка ч она хоть с максимальной вероятностью там нет ничего после накатки это базовый роли у нас будет сервер ssh админ туда могу зайти себе потом мы накатываем основную роль ту самую рой которая требовалась возможно она упадет но потерпели которые я писал раньше если это произойдет у нас опять будет ася саш мы сможем зайти на сервер и посмотреть что произошло по отлаживается когда мы от ладим то что произошло нам не нужно повторять сетап заново с нуля мы можем просто прокатить опять ещё раз и у нас будет уже сконфигурировать сервер в итоге когда все завершено сервер запускаю отправляется им себе отчет о том что все плохо или все хорошо 105 завершенными что мы имеем мы имеем сервер на котором установлена операционной системы сконфигурирована сервер либо в базовую роль и с ним еще нужно его нужен правда противником либо он сам отрегулирован в основной роли и готов к эксплуатации мы можем его отдать команде который его ожидало световом все теперь я расскажу вам как eos позволяет управлять нотами элементами структуры без ssh доступа на эти ноты и массово повторю что тогда говорит он да я имею да и сервера и виртуальностью тут все довольно просто управление происходит через mdb инженер выбрал ноду секунду слайд нет управление происходит через семь себе инженер выбирает надо нажимать кнопку даже сказать команде команда выполняется на ноги вот тут важный момент проверка подлинности пользователя и проверка его повеление это что имеет ли вообще право на такую команду оно происходит не средствами саша на происходит средствами сентябре это потенциальные лектор уязвимости это нехорошо не очень хорошо поэтому мы решаем делать команды только из белого списка те команды которые мы одобрили те команды которые мы говорим что ну окей типа пусть он выполняет чтобы все это организовать мы сделали специально программу по дальности агент семье агента ставится на все ноды ставится пока там обнажается тоже по пятам когда 7 ну тогда оператор выбрал какую-то команду семьи формирует пакет отправляет его в очередь у нас эта кафка но до его и зашлю не учитывают выполняют и отсылает обратно через ту же самую кафку экзит код и если да то cd-r собственно это все можем делать как и через ей как и через api и это делать можно массово что мы разрешаем делать конкретно - самим принять конфигурация сердца к то есть сделать внеочередной прогон конфигурации мы не ждем очередной дурацкой там полчаса а выполняем я немедленно это первое второе мы позволяем на специальных серверах которые для этого сделан на has the halo xi мы позволяем создавать и удалять контейнеры и такси тут все собственно но вы можете зачем это нужно повторюсь это нужно но и сессия создан то есть возможно закипать сошлемся и то же самое это нужно для того чтобы управлять этим делом массово эстетически теперь какие проблемы возникали то есть я вам рассказал про то как мы решали эти задачи теперь я расскажу вам про то какие возникали проблемы и какие есть подводные камни первая проблема это resser дышать и артишока это общий стандарт его реализуют вендоры каждый винт реализует ножка по-своему немножко но этого достаточно для чтобы вам подписать несколько разных клиентов потому что в одном вентари будет немножечко другой url в документ или будет немножечко другие джексон поля и так далее по факту разные протоколы touch на разные то такого кроме этого даже в одном вендре у вас может быть несколько разных версий api в одном из которых отчета реализовано а в другом учета не реализовано к примеру у одного из наших вендоров была ситуация рейд райт создавался но вот именно версия 6 версия 60 появилась значительно позже ну и самый противный баг который при этом самой редкой но по самым противные это специфическое баги для как этого сервера бывают так что вот именно для конкретной модели что-то работает итак кажи далась если вам не повезло заиметь ему эту самую не пальме модель то вам придется либо делает сила правды это либо разбираться с вендором чтобы он чтобы он исправил второе важность царских настроил для of the discovery я описывал раньше процесс в ходе которого 7 db опрашивать ноты и включает или бы то это через пикси а если это новая мода для этого мы ожидаем что поставщик нам передаст надо заводскими настройками правильно заводскими настройками если эти два screen стройка неправильным и эти ноты не трогаем потому что это возможно продуктовые ноды в итоге если поставщик передал данный передал севера с неправильными учетными данными то надо не будет of the discovery of the искал арийцами это придется фиксить либо руками либо скриптом в любом случае то ножкой концепцию атлантическая культура к счастью на этом с большими ошибками но с большими проблемами все и теперь я расскажу на последок про опыт использования этого продукта а также про дальнейшие планы 1 расскажу вам про историю обновление по сроку берн отец вид то есть много к сроку фирмы отис больше 20 они появляются одновременно а со временем один за другим естественно что у многих мастеров версия новые у старой версии старые также естественно что хочется ставит остер обновить проблема в том что при обновлении кластер а если добавить не так вам размытое то я думаю вам разметать весь пластик и у нас такое было размотали на мкс счастью не и про the station кластеров это все равно очень неприятно вот чтобы это такой ситуации не допустить мы вид обновляем 40 быть и всерьез перенос то есть у нас есть старый кластеру создается новый и постепенно один за другим машины копироваться в итоге стать перестал существовать и мы получаем обновленный poster замечательно кроме кубов в нашей компании используются также бирме этого решения они есть на слайде отдельно редис и манка ради сам он воспользоваться как барометр редко обычно мы используем для них контейнеры но также у нас есть несколько баз которые именно металлической все это у нас управлять совсем себе ну и as i as предлагает организацию для всех команд которые следует пользоваться у нас есть растопи которые позволяют получать данные северных контейнерах и прочим управлять если там фом инициирует этап один из примеров который проводил раньше-то микасы кластеров выбирать из который происходит автоматически как другой пример я могу привести создание хай вела галицию not having бились решение редис и или манги например ну с помощью api выбирается несколько сироп например три разных террора на каждом из них восстанавливается скажем родис или создается контейнер с агентством или манкой и способ это это все проигрываются в обсе классу или общая реплика сайт и все это делается через api посмотрим эти задачи которые я обозначил в самом начале выступление которые перед нами стояли и понимаем что мы по сути сами справились то есть мы автоматизировали этот процесс сетапом сделать так что он требует внимания только в самом начале когда мы что-то выбираем параметры и самом конце когда мы получили готовый сервер и передаем его команде которая его запрашивала кроме того процесс стал значительно проще не требуется чек-листов и поэтому мы можем эти цвета по делегировать вот и наконец уже сейчас носит от 50 коров день может стать гораздо больше но нам покажет нужны только десятки вот но если нам понадобится больше там не поэтому готовы в конце своего выступления я хочу поделиться планами на то как это будет в дальнейшем развиваться первое мы хотим научиться sata 500 евро пачками уже часто делается частично это делается обвязками внешних команд над нашим папе и сама по себе задача затопить пачку серверов немножко более сложен и потому что нужно подобрать собираю одинаково конфигурацию и подобрать для них именно таким образом чтобы они не конфликтовали с существующими нами и это не то что официальность просто но у нас есть такой вот atlan потом я уже говорил что мы работаем 47 умеем это работать мы также у меня воду с потру группами но контра глупо мы используем только для того когда вы по это такая штука чтобы ограничить использование ресурсов контейнером циpкa памяти и и и а мы пока что используем только цп и память ограниченна кота не только таким образом хотим ограничивать еще пропускную способность жесткого диска вот вывод на жестком диске и сетевым тилават вывод и наконец мы хотим добавить в наш список из двух команд которые мы выполняем с помощью 7 tibby агентов еще третью команду это для управления ника сотрясали то есть добавлять этим эту нацию собственно ну и не скажете все что мы можем использовать для и никас адресов на этому этот завершён спасибо за внимание можете задать вопросы сейчас или 11 грамм давайте поблагодарим докладчика юрия или спасибо большое и можно будет задать вопрос если есть вопросы у нас в онлайн то мы их выведем на экран а кто не хочет задать вопрос зале так вот можно вот в целости алексей спасибо за выступление у меня вопрос по радару это понимаю это система управления предустановка операционной системы то есть и параметры то есть по разбивки диска то есть издаются там же или немного неправа неправильно понял параметр разбивка диска если говорить о про рейд или просто или правилам но про как операционная система бы столько сколько будет выделено подбор места под корень например это скорее вопрос больше правил в.м. это это устанавливается в момент начальный момент когда это пример инженер потом razor получает эти данные в том числе флаги файл системы и у него есть например два образа один из них например газовым без разметки а другой с разметкой получая из набор бит данных он сужает все множество образов который у него имеется до единственного и этот единственно врос и получают но да то есть требуется пит настроить файловую систему перед с этапом серверами требуется перенастроить образом то есть вы формируете множество образов например у вас представь и будет вопрос делать половым формировать один у вас где делать ловим и 2 образом формируется где не делать вот это вся при настройка понял спасибо и второй вопрос да настройка сети тоже производится автоматически или а на нем не было этот не очень понимаю как у нас такая вещь ну например провоз килограммов и правил пропуски планов это не ты на севере на какому-то на коммутаторах или это у вас отдельный куда процент это отдельный процесс которые да он за рамками данного доклада понял и в дальнейшем будете ли вы рассматривать бездисковые клиенты затрудняет и сейчас не могу ответить ну если надо то будем то есть наша задача делать то что то хотя находятся команды хотят команды несколько лент и мы это сделаем для них вот большое спасибо большое за вопрос и вот под попу сначала сюда а потом вам большое спасибо за интересный доклад скажите а сколько у вас конфигурации в праге и насколько они отличаются друг от друга много точная говорит наверно не могу да я и не помню ну реально очень много а то есть 3 4 при дефо нет их десятки и десятки а то есть при этом они докажут отличаются или до редко например вы создаете какую-то экспериментальную фича ветку в этом добавляется какой-то пакет или делаете по какой-то новая версия и по сути этого снова тракте горация хотя она отличается от какой-нибудь просто фигура ции но очень мало при этом то есть вы можете их умножить вот прям 100 понятно и как вы тестируете вот провал по пути валидацию успешные раскатки что сервер жив-здоров и продуктивен у нас есть процесса первых серого не манифеста самого ну того что я мы валидный он делается не этими средствами а просто ну людвигу t-107 сити вот это тесты на саму не fest теперь тесты но на то что все проводится успешно но на то что сета пойдет вас пройдет успешно у нас сейчас достаточно времени производится потому что у нас нет выделенного plaster а вот это под это дело то есть на самом деле для того чтобы тестировать тестировать этап полноценно а нам нужен отдельные машины всем всего даже как миграции на которых мы будем просто этот прогонять этап поэтому сейчас мы этого не делаем текущем этапе хотя это в планах что касается того как мы понимаем прошел это поспешно или нет это происходит уроках браков skepta то есть ну есть по 5 агент минус t команда которая выполняет выполнять выполняет и возвращает и где скот и пойдет куда собственно мы понимаем что произошло дальше это ошибка или успех отправляется в сентябре и мы понимаем успешным ли но до затыкалась на самом деле ну конфигурация применялась до или произошло что-то плохое спасибо спасибо и микрофончик пожалуйста на эту сторону у нас онлайн есть нет а шо допустит симакин adwords самокат у меня вопрос на самом деле не столько технически вот вы говорили у вас там два инженера было до который днем и ночью сидели вручную занимались этим делом а когда вы нашли время чтобы вот все это преобразовать да просто делать там что я не встану я не хорош в 3 2 инженеров я не хожу составьте в титрах инженеров тоже то есть у нас есть отдельная команда которая занимается именно dc-dc нуждами вот а есть другая команда разработка который скажу том числе я и мы занимаемся разработкой вот то есть мы их сосну вместе но мы вместе стартовали эту этот проект и мы вместе его сказок стащили вот то есть нам экспертизой потому что если честно не все из нас вначале понимали а что вообще такое что такое red fish а что такое этой май и какие параметры нужно поставлять вот а мы помогали ему нашим нашей экспертизы написание кода так это зашло пожалуйста вот здесь вопросик добрый вечер в гений юрий скажите пожалуйста знаю что вас а то есть сервисы которые нас расположены а есть сервисы которые на физическом железе borla металл до удалось ли вам все это скрестить по сети потому что очень интересно я не очень понимаю хотите писать и ну сетевую инфраструктуру api адреса тому подобное чтобы у вас все было единое целое просто была такая проблема раньше авито я не знаю на сколько это вам относится я наверное , хватит на вопрос я постараюсь итак я это его понял насколько я знаю сеть у нас во первых как я уже говорил на предыдущем вопросы не покрывается и а сам то есть как наставить нас ведь это внешняя ситуация но при этом у нас есть у нас есть контейнеры до которые у нас делаются и средь мы выбираем для них из специальных диапазонов тогда мы хотим создать контейнер мы избираем для него из особого диапазона свободный хищник вот и когда мы говорим про каберне this то есть про ну по сути под и которые получаются адресатом тоже это все делается средствами капец это делается это не интегрирована с eos что там неизвестно вот ну уговорить просто выделены как же выделенная подсеть из которой он может брать адреса и он это делать спасибо спасибо вот сначала молодой человек в конце и потом вы просто спасибо за доклад еще вопрос про вот образа целевых систему мы в них загружаемся через прокси и там запускается какой-то авто инсталлятор с авто ответами или бы мы загружаемся poppixie вот в razor а образ заливаем прям в диск через dd или как то еще образы при конфигурировании для razor а они сделаны задолго до того как мы или может незадолго но в любом случае они сделано до того как мы начинаем вообще танцы сетапом вот поперек сред загружаются но даже образ это наверно не совсем правильно сказать запад загружается образ сценарию сета по которым ответы уже выбрана нужно на этих водах которые получаются там везде centos получается да или разные ему нет razor у меня трогать отдавать и centos но это только для новых нот которые еще не не языка не закреплены это цен то есть нужно только для того чтобы продать фактор и собрать факты аноде ну а сервере до тех на которые мы считаем именно уже готов к эксплуатации мы устанавливаем отдельные просто на систему это у нас этот dp но это могут быть и другие подсистемы и цен . поди не используем спасибо прикольно спасибо большое и давайте последний вопрос у здесь добрый вечер юрий вопрос такой практический если в вашем парке серверов серверы supermicro не могу ответить мне просили не обсуждать конкретные оборудования но как это маркиза просто есть такой нюанс фреди материнских плат последних материнских плат super micro криденс и админские они рандомные то есть варианты проверки на какие-то определенные дефолтные настройки не прокатит не вернете да и поймай ну вот как я уже сказал это носитель на проблемы которая может возникнуть мы просим поставщика когда мы делаем закупку дамы особенно же прошивался нас какие-то мы просто поставщика чтобы он подготовил нам сервера не просто игра а фигурах которые будут уже нужные ты дышал и вот один раз у нас был сценарий что нам поставили пачку серверов без к дальше хотя мы просили вот и мы написали специальный скрипт с которые их сбрасывал грубо говоря но это неприятно ситуация так быть не должно на самом деле это вполне решается административную ну то есть на уровне приговоров да но это решается с разговорами с поставщиком оборудование с федором спасибо за вопрос давайте поблагодарим юрия ответ на вопросы и и у нас есть небольшой презент от организаторов и юрий этим выбери какой то вопрос тебе в зале понравился больше всего было просто молодого человека вот в том углу так на тему алексей затем по моему там про себя как сетевая связанность было да да да и просто тут они оттуда не видно меня просто ответит глаза короч берете нормально спасибо большое а юрий сейчас перейдет в зону экспертную можно будет с ним поговорить и всем кто сегодня был тем все кто приходил спасибо большое вы большие молодцы доклад и давайте еще раз поприветствуем юрия спасибо большое досвидание"
}
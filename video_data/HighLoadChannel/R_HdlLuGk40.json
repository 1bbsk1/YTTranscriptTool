{
  "video_id": "R_HdlLuGk40",
  "channel": "HighLoadChannel",
  "title": "Как мы устроили переезд 10+млн строк С++ кода на новый стандарт / Никита Старичков (1С)",
  "views": 1197,
  "duration": 2039,
  "published": "2023-01-19T05:55:17-08:00",
  "text": "рад всех приветствовать да меня зовут никита стрижков я из фирмы 1с я буду рассказывать про то как мы перевели разработку нашего продукта как заявлено 10 миллионов с лишним строк кода на си плюс плюс на си плюс плюс 14 а потом уже на си плюс плюс 17 давайте начнем перед тем как рассказывать какой путь мы прошли надо рассказать про то о каком продукте мы вообще говорю я буду рассказывать про наш основной продукт 1с предприятия один из предприятий и to laugh at платформа для быстрой разработки бизнес-приложений причем бизнес приложений разных это им облачные мобильные десктопной тогда различные сложности можно небольшой бизнес построить бизнес приложения для небольшого бизнеса на нашей платформе можно для крупного холдинга да вот этом вчера про это докладывал соответственно вот этот весь фреймворк нужно было перевести на си плюс плюс 1417 для того чтобы понимать чем стояла задача я коротко расскажу о том что наша платформа себя представляет вообще платформа это целая экосистема эта платформа + система построенных на ней бизнес-приложений причем бизнес приложений существует очень много могут насчитали более 1200 тиражируемых прикладных решений а есть просто разработки инхаус и так далее соответственно 6 миллионов пользователей работают в решениях на нашей платформе ежедневно как основной рабочий инструмент с 9 утра до 6 вечера и соответственно там полтора миллиона организации клиентов 8 тысяч компаний партнеров занимается внедрением и там 300 тысяч разработчиков и так далее но нам с вами сегодня должна вот эта схема то что платформа по сути своей это такой дуализм с одной стороны это средство инструменты разработки а с другой стороны это среда исполнения и на базе этой платформы уже реализованный конкретный бизнес-приложений например там один из sirpi документооборот и так далее и вот собственно платформу нам нужно было перевести на новый стандарт i + + что же там внутри во-первых внутри платформы реализован свой собственный подход к программированию которая основана meta data driven design да то есть мы активно используем конфигурирование метаданных внутри собственный специализированный язык язык 1с да как вы могли уже слышать там много готовых механизмов помимо этого есть средства и инструменты разработки как встроенные до конфигуратор ты так и standalone идите и соответственно еще среда исполнения и как вишенка на торте среда исполнения кроссплатформенных бизнес приложении реализованы на нашей платформе работает и на windows и linux и mac в веб-клиенте на всех во всех популярных браузерах и соответственно мобильных устройств также поддерживается работа с разными sbd где в том числе есть на наше собственное файловая б.д. для небольших внедрений и наша собственная по колоночный memory база данных для olap сценариев и соответственно разные варианты развертывания да это и локальной в облаке и так далее ну тут несколько ссылок где можно подробнее прочитать про нашу платформу но давайте пойдем дальше теперь технологически каких компонентов значит есть кластер сыров тут немножко мелко но я коротко кластер серверов работает на windows linux написан на си плюс плюс есть клиентские приложения linux windows mac os и так далее написанные на си плюс плюс и частично java web client это java script в основном среда разработки инструменты администрирования мобильные клиенты мобильная платформа среда разработки и сервер системы взаимодействия вот это тот комплект решений которые мы имели и которые нужно было перевести на новый стандарт после этого на самом деле когда мы уже пережили на си плюс плюс 17 тут появилась еще пара решения 1с аналитика и один из шина это решение соответственно и избе класса собственно это то что мы имели на этих 1с предприятие элемент этом технологии разработки портальных решений но давайте идти дальше значит что у нас под капотом как вы могли услышать среда кроссплатформенное значит у нас в сервере общего кода cross-platform на 99 и 9 процент на самом деле это наверное даже чуть-чуть заниженная оценка кроссплатформенная даже чуть больше значит у клиента кроссплатформенная часть где-то 99 процентов соответственно всего у нас 10 миллионов строк кода более 10 миллионов значит по серверу мы посчитали около максимум 20 тысяч кода платформа зависимого 20 тысяч строк по клиенту где-то меньше пятидесяти тысяч платформа зависимого соответственно все это выглядит как 14 с лишним тысяч файлов на 60000 классов полмиллиона методов не 850000 комментах в репозитории соответственно совсем вот этим нам нужно было за бороться и как перед нами ставили задачу ночь просто надо перевести это все на си плюс плюс 1417 но тут важное замечание не навредив производительности решения а так как эта платформа мы должны были проверять производительность на пользовательских сценариев то есть на бизнес приложениях которые реализованы на платформе и прежде чем переходить уже к рассказу короткий disclaimer тут много будет аналитики что вот в этих сценариях показывался плохо и так далее соответственно вот все сказанное ниже справедливо для наших сценариях до для задач автоматизации цифровизации бизнес понятно что если сценарии другие то могут быть и другие выводы давайте начнем соответственно первый вопрос который перед нами встал а когда мы решили поднимать стандарт что делается стиль первое что приходит в голову соответственно что у нас было на берегу не что можно было делать значит что у нас было на берегу проекта у нас начинался разработка платформа в нулевых и по умолчанию код соответствовать стандарту 98 года соответственно там были вот такие вот чудесные конструкции с пробелом между кавычками и так далее это не единственная такая вещь но как бы что было что было дальше 2000 том году мы решили что надо работать под linux потому что вот в момент начала проекта мы работали только под windows соответственно мы решили использовать и стиль art почему собственно и стиль порт тут было несколько разных причин одна из основных было это то что мы широко использовали вечер тыс про это чуть подробнее расскажу ну и некоторые другие причины значит в чарты чем истории мы активно используем в string быстренько использует его черты соответственно в чарты windows два байта в linux четыре байта соответственно клиент-серверное взаимодействие идет в известном направлении нам надо с этим что-то делать поэтому можно заставить же сиси делать вечер те два байта да вот этим параметрам но к сожалению библиотека джесси используют geely psy она скомпилирован из четырех байт не в черте поэтому мы все равно идем в известном направлении поэтому это к сожалению не вариант другие причины востер парте на тот момент вот я подчеркну на тот момент было более качественная реализация стандартных классов например стст темп не потребляли дополнительную память и для наших сценариев это было важно я еще к этому вернусь чуть позже соответственно опустели партии были оптимизированы внутренние шаблоны было быстрее компиляции меньше объем получаемых файлов это был сделан за счет того что у них базовые шаблоны и классы на самом деле там как это скажем так немножко шамане леса войдем и свой звездочкой соответственно старались как можно меньшим компилировать не этом а оптимизировала сценарий мин компиляции там были уже в тот момент хэш-таблица и была некоторая эмуляция семантики перемещения да то есть мы все мальчики внутри контейнеров соответственно и стиль порт но выбрав из телепорт мы к сожалению не решили полностью всю нашу проблему во-первых в полный рост стала история со строками почему потому что нам очень нужны стройке потому что в бизнес-приложения текстовых данных выше крыши и если строки работает непроизводительно то с этим надо что то делать но что делать написать свое мы написали свое причем когда мы это писали мы вдохновлялись идеями александр sq и сейчас можно соответственно посмотреть например в библиотеке фоли вот ровно те же самые идеи значит что это было для коротких значений мы используем внутренний буфер в страхе который у нас двадцать четыре байта соответственно он находится в самом объекте строки работают быстрее а для многих сценариев соответственно используется механиках копи он в right вот тут будет короткий потом спойлеров может потом к обсуждению стандартный холивар что механика копи он bright противоречит стандарт в частности там оператора квадратные скобочки но об этом давайте за кулисами соответственно со строками кое-как решили были довольны собой дальше соответственно мы дошли к тому что нам нужно немножко густая и стримов в чем тут историю из из телепорт мы убрали stream почему потому что он нам был не нужен и это нам дало ускорение компиляции на 20 процентов мы крайне собой гордились дальше соответственно нам все равно пришлось использовать boost для чего потому что нам потребовался россию но мы не стали использовать соответственно standalone версию потому что она отставала в развитии от пуста поэтому мы взяли boost но хорошо но мы же не очень хотим себе тащить стрим обоз стрим активно используется в частности например в до своих задач планирования поэтому мы модифицировали boost выкорчевал оттуда полностью использования стрим это вроде звучит красиво и интересно но по итогу мы усложнили себе переход на новые версии boost а потому что там много наших изменений это вот то что мы имели на берегу дальше у нас было соответственно три варианта развития чё делать до bring номер один остаемся на и стиль партия но хорошо соответственно надо поднимать стиль порт на си плюс плюс 14 ok и тут мы для себя узнали что поддержка из телепорта было прекращено в 2010 году поэтому это грозит нам полностью самостоятельным переписывание мастер пар то на си плюс плюс 14 своими руками в общем мы не вдохновились на такие подвиги пошли искать другие варианты вариант номер два ищем замену значит нам надо си плюс плюс 14 и хорошо бы чтобы это работал под windows и linux соответственно чего-то пром суперского мы не нашли но при этом очень внимательно рассматривали липси плюс плюс она в тот момент не поддерживала windows соответственно бы все равно пришлось многое писать самим мы внимательно это проанализировали там была большая проблема в тем же с тем что липси плюс плюс активно использовал пасек sape и нам это грозило тем что всю эту часть пришлось бы писать самостоятельно поэтому на этот подвиг мы тоже низы не решились и тут остался значит третий вариант переходим на библиотеки вендоров соответственно какой вариант что для windows мы уходим с телепорта на visual studio 2015 для linux на джесси системе и для mac os на колонку 8 по итогу мы решили пойти этим путем тут был вопрос когда мы обсуждали этот доклад предварительно почему мы не пошли например везде наклон нам не понравилось в тот момент джесси все 7 под линуксом показывал лучшую производительность и скомпилирована wakodo и нам он нравился больше поэтому пошли вот так а и тут начался наш путь самурая соответственно первую очередь необходимо избавиться от таких чудо конструкций как пробелы между скобочками и так далее мы пошли путем написания скриптов которые будут наши программные файлы обрабатывать мы не стали использовать какие-то специализированные инструменты для работы с astm например те которые предоставляют clang потому что решили что это overkill что мы потратили слишком много времени на написание специализированных инструментов не соответственно просто какими-то базовыми скриптами регуляр коми будет проще в принципе скрипты просто меняли в тексте какие-то имена классов на не spacing люди какие-то конструкции так далее в чарты мы меняли на чар 16 потому что мы везде одинаково размера провели скобочки о которых я уже говорил и было много интересного сложного кода в регулярка вот наш фаворит это вот этого конструкция которая соответственно убирала двойной двойную пустую строку у нас в коде почему-то ты встречалась и для нашего скажем так эстетического взгляды не нравится мы решили что расправим то поправимо это поэтому было еще вот такая вот чудо регулярка 8 по итогу мы поправили так 10000 файлов из 14 тысяч и она начала компилироваться хорошо но были некоторые ошибки которые надо было править руками то есть просто регуляр коми мы не смогли все решить понятно какие были проблемы например вы стрельб артем можно было неявно кастовать итератор к указателю то есть допустим были вот такие конструкции понятно что библиотеки компиляторов такое уже не позволяли делать это приходилось переправлять руками потому что ну не все кейсы можно перебрать регулярка сценарий использование могут быть разные ладно дальше возня со строками то же самое да в роду при вот такие конструкции были и они нормально работали на стиль партия тут они у нас перестали работать хорошо что еще было помимо вот этих вот истории с проблемой компиляции мы еще поймали много интересного потом в runtime когда это все-таки скомпилировалось а именно получение не валидного императора выход за границы сравнения итераторов от разных коллекций использование удаленного итераторы и сравнение итераторов снова поттер вот это все мы поймали в рандоме и очень сильно удивились сами себе например нас был вот такой код вот это то что мы реально нашли фронтами ну тут очевидно что мы сравниваем императоры от разных коллекций но как бы чёрт бы с ним а потом когда мы перешли мы это поймали и очень-очень сильно этому порадовались в общем получилось не очень весело но тем не менее так или иначе мы путем страданий и боли дошли до состояния это компилируется и работает и такие довольные вот мы что получили в итоге что мы получили в итоге то что нагрузочные тесты показали падение производительности и на самом деле в некоторых сценариях она падала на 20 30 процентов что было вот совершенно неприемлемо но мы просто бы не объяснили нашим пользователям что за почему место си плюс плюс там 98 стала си плюс плюс 14 почему из-за у вас из-за этого на треть медленнее работает это была большая проблема вторая проблема была в том что увеличилось потребление памяти и в первую очередь это было связано с работой со строками поэтому очевидно что мы снова как история ходит кругами мы тоже чуть-чуть пошли кругами нам пришлось разбираться опять со строками давайте расскажем все же мы делать да вот как мы боролись за качество после этого перехода значки строки часть 2 используем все тех же идей александра сколько у пиона в рай ты использование как какого-то предварительного буфера значит слегка доработали до стандарта 14 то есть мы добавили ему в семантику и на самом деле вот тут кому интересно можно посмотреть вот мы уже на станет 22 года мы переписали на строчку и на широко на си плюс плюс 17 и добавив дополнительно оптимизация по аналогии с флангам но тут ссылка спрятана накид хоп где там подобное реализованы вот это нам достаточно сильно помогло соответственно окей со строками так или иначе мы проблему решили дальше у нас началась как я уже спойлерил возня с стс этом std мы по почему потому что стандартная реализация лоцируют память даже для пускового контейнера на самом деле мы там по немножку посмотрели памяти выделяется совсем немного выделяется всего лишь но союзов т да то есть на один элемент но вот в наших сценариях оказалось что это очень плохо потому что контейнеров пустых может создаваться очень много если даже не по одному элементу себя на большие потери памяти но соответственно место было критично поэтому можно было с этим что-то делать что делать пойти на boost соответственно мы взяли реализацию с этой мэг густо ok что еще мы сделали свою локацию память за счет того что 14 стандартам позволил переопределять не уделит что мы сделали переопределили не удивит для чего нам это было нужно вообще у нас вот наша платформа на стоит где тэс более чем 250 проектов единым solution и соответственно в каждом проекте могут быть там тысячи и даже десятки тысяч файлов соответственно вот в этой каждой компоненте мы сделали просто отдельный файл с реализации не уделяет при этом за счет того что предоставляет новый стандарт компилятор сам подставляет наши реализации везде по компоненту и это очень удобно и очень эффективно очень просто и наши собственные реализации не уделит они смотрят на нашу общую реализацию локатора который у нас лежит в ядре вот у нас есть такая компонента core и вот там нашего кота реализованы вскоре а по компонентам смотрят в кор в общем все просто и все хорошо в стиле партия с этим было сложнее потому что локатор приходилось included везде руками соответственно не было никакой гарантии что все действительно сделано правильно и все хорошо но раз уж я сказал про локаторы надо сказать про то как мы локаторы выбирали значит какие мы вообще рассматривать мы смотрели на джима лак и нам на самом деле не показал нехай супер производительности по сравнению с локатором по умолчанию под windows соответственно зачем менять если то же самое не стали менять дальше соответственно смотрели нами молок мимо лог нам понравился он очень быстро и очень классный все хорошо но на нагрузочных тестов он у нас разваливался при выделении нескольких мегабайт разных будут просто падал в сиквел соответственно но тут уточнил что мы проверяли на 164 возможно сейчас ситуация изменилась но вот наше наблюдение по 164 было таким и соответственно мы смотрели найтись и малак по итогу выбрали его и если говорить конкретно то мы используем версию из джипер в тулс потому что она поддерживает windows а нам windows соответственно необходим вот в общем мы перешли на тихий молок что еще нужно тут расскать пара слов про мув семантику тоже очень такая интересная история у нас была своя реализация умных указателей но те же де умных указать но вот только она работала вся на интер на базе интерфейса а новым вот если кто-то помнит откуда лезли ноги а и но но правильные свинга высокого кома соответственно нас была своя собственная реализация иском и она вот жила и царствовал все хорошо с не был вот нужно было ее обновить но соответственно мы добавили применением в конструкторах то есть мы полностью перевели все базовые сущности из ядра на использованием у в семантике по максимуму а остальные сценарий вот в как сказать в окраинных компонент тогда так scanf периферических компонентах мы оптимизировали по факту выявления проблем потому что оптимизирует все и сразу было бы очень сложно не очень объемно поэтому просто прогоняли наши сценарные тесты нагрузочные смотрели где проявляется то мы оптимизировали в общем было как-то так это сделан использовали как свои тесты производительности так и конкретные кейсы от наших клиентах по крупным внедрением информационных систем значит что у нас получилось по итогу а по итогу у нас получилось вот такая схема namespace у нас есть с tdm понятный еще у нас есть свой собственный из т.д. x соответственно внутри с tdx и что у нас находится своя реализация отдельных классов но у те же строки например где-то используется boot.wim соответственно классы спустя лежат vst dx в частности например используется так std сет-маат map и сейчас мы на самом деле еще очень активно думаем так потихоньку думаем что надо надо надо значит на счет использования folio в нашем с tdx и в первую очередь нас оттуда интересует on orders ct нардеп потому что они кажутся работают лучше и быстрее чем аналогичные реализации искусство как бы все здорово все классно но все равно лёшка текст дегтя было давайте чуть-чуть поплачу знать что стало хуже первым проблем особых файлами теперь полный build нашу платформы в дебаг режиме у нас 60 70 гигабайт это плохо потому что на самом деле у нас очень часто бывает сценарий когда навык очень часто бывает сценарий когда разработчику необходимо иметь на машине несколько билдов разных версий ну например для исправления ошибки для какой функциональностью для тестирования обратная совместимость еще что-то по итогу там пять версий хранишь 350 гигабайт прощай это больно и получается что разработчик вынужден следить за тем чтобы там периодически старые версии удалять да и то там не так что можно иметь несколько десятков и не париться об этом в первую очередь от на самом деле связана с особенностями стандартных библиотек по нашим мая разборкам соответственно в наших сценариях мы получаем сотни гигабайт у у разработчиков значит и вторая большая проблема это увеличилась время компиляции то есть вот если говорить про конкретные цифры на стандартные конфигурации разработчику да там и 7 ssd на этом без конкретных цифр что мы имеем наш полный дебаг build у нас где-то 40 минут с нуля соответственно полный релиз build около 60 минут это на самом деле не очень нас радует но как бы что поделать а вот если говорить про что поделать мне сейчас очень активно думаем про использование unity билд для того чтобы соответственно оптимизировать все эти истории да и не собирать там тысячи раз одни и те же на клубнике по разным компонентам но посмотрим есть по итогу сделаем как-нибудь потом расскажем соответственно хэппи-энд чтобы по итогу получили а получили мы по итогу вот что значит полный переход у нас заняло около шести месяцев на си плюс плюс 14 причем большую часть работы выполнял один очень крутой разработчик питания вот соответственно а дальше на более поздних этапах подключились еще команды ответственной за те или иные компоненты для оптимизации отдельных мест поиска проблем и так далее и тому подобное соответственно дальше переход с и плюс плюс 14 на си плюс плюс 17 прошел уже намного проще то есть он прошел буквально за там за месяц и довольно безболезненно незаметно теперь мы можем использовать новые особенности и закачиваем очень рады у нас теперь всегда свежая версия boost потому что очень легко в наш собственный 100 dx а цельные куски boost опрос переносить свежие и радоваться ну и соответственно теперь мы можем малой кровью менять реализации некоторых контейнер но вот как я например говорил что мы сейчас думаем про an ordered ппс воля не сама эта замена будет очень легкой и безболезненно для нас в общем как то так соответственно на этом доклад заканчивается поводы ты подготовил для обсуждения значит настрадались да вот как я уже озвучил что к у противоречит стандарта и что с этим делать чем стримы нам не угодили и почему собственно не везде clang ну 40 минут набьют вот это вопрос за многое ли или мы зря жалуемся и нормально вот как то так а тут мои контакты спасибо ты знаешь я думаю что 40 минут набил даты и так страшно защиты и все много есть те ствола гранулярный один раз можно потерпеть единиц сборку но вот со стримами я бы сам не люблю стримы сколько я помню пусть мертвые поправить из зала bear у нас trust рук тоже мире будут стримы которые придуманы святых очень сложными непонятной концепции на создаю но не знаю мы смотрели на стримы чем они нам не угодили да потому что казалось что это избыточная функциональность у нас были собственные реализации его операции в ядре они были буферами нам это нравилось гораздо больше еще правильность из-за тестеры не нужен мне поддерживать ладно у меня на самом деле в странный пока вопрос пока яга я вижу же горящие глаза но я о первый вопрос первий меня подожди спасибо за доклад вопрос касательно пункта про общего подошли стандартный строки из which are off я просто понял тезис портового что это усложнит взаимодействия клиент-сервер можете объяснить потому что сколько поливается вопрос 1 часть протоколу взаимодействия клиент-сервер и как они там пригоняют свое представление строки только 3 сервера мешки от влияет адресации проблема заключалась там в первую очередь если бы у нас был клиентом например на windows сервер на linux туда там перестать данным носом реализован свой собственный протокол от советом и поставь a-data но там проблема была в том что нам бы пришлось писать достаточно много платформа зависимого ухода на отправку и сбор то есть у нас была бы вот мы получаем сообщение парсинг был бы уже на прямо платформа зависимо это было бы некоторые проблема то есть да понятно что обойти от как-то можно но в общем нам пока что это немного сложно здравствуйте спасибо за доклад и позвольте вот в продолжение предыдущего вопроса все-таки раскройте секрет у вас там utf-8 тв-16 вот что-то внутри в строках то а сейчас так сейчас в тот момент у нас был и tf 8 а сейчас у нас есть проблем сейчас расскажу смотрите у нас сейчас есть память не изменяет f16 мы же еще внутри используемая сию для лака работы с локализацией причем россию у нас некоторой степени еще патины в ядре и сейчас есть понятие смету же это f-16 внутри почему всем так важно строки ну-ка просто пытаюсь понять почему всем так важной строки и почему все за них так борется но тут очень простой ответ но вот представь бизнес-приложения какие есть числа финансы да вот дальше давай ладом занимаемся складом из номенклатура поиск по ней и соответственно поставщики поиски сотрудники и так далее так далее так далее так далее то есть там не все в числах строкам действительно очень много интересно просто кажется что уже фильм специализированные типы типа строки для поиска строки это место для хранения их там как-то во внешней памяти нолана эту деталь имплементации как обычный так ладно пока мы ждём я пока еще спрошу не интересно а вот ты так аккуратно обходилась к и рекламного по . было вот что там нога по точке такого что прям бабахнуло прямо очень сильно бабахнула него самое больно и вот то что я на своей шкуре почувствовала значит бабахнуло не в момент перехода а соответственно сейчас скажу как после он в одном из сейчас скажу как библиотека называлась в общем ладно не буду врача с навскидку не вспомним там была история в том что в какой-то момент одну из библиотек для многопоточные которые мы используем для нашего мат аппарата у нас вместо компоненты для mad аппарата apple короче исключила из компилятора сказать что теперь она значит проприетарное не значит вот вы ее можете купить купить не проблема проблема в том что мы официально не поддерживаем то есть значит тащить откуда-то покупную от у них было еще лицензия связано с тем что каждый and user должен платить ним и как разработчик и нам пришлось весь наш мат аппарат перекочевывает на и стыда 3d это была такая большая достаточно задачка потому что там основная проблема была в том что на был сделать очень быстро клиент 8 туалета в целом про многопоточном в меньшей степени наверное мы столкнулись с проблемами потому что наш кластер серверов он и развивался в гетто в те же годы то есть мы уже как бы понимали почему мы идем как вот когда проект начиналось там в две тысячных там еще кластера не было ни поэтому там больше вы и проблем не было черевко спасибо сразу вопрос все-таки в дакоте не прояснили такой вопрос с чем было связано снижение производительности при переходе на новый стандарт и 2 удовольствие в итоге устранить а сейчас второй парень можете пожалуйста старить плохо пожалуй если в конечном счете устранить проблемы связанные с падением производительности при переходе на новый стандарт но смотрите вот я начну с конца отвечать на текущий момент здесь и сейчас очень редко иногда всплывают кейсы когда мы находим сценарий где еще нужно что-то доделать то есть понятно что когда мы только перешли таких кейса было многое многое справляли потом все реже и реже и реже но и сейчас иногда бывает отстреливает если говорить почему подала производительность но приведу простейший пример про те же например про что провести сейчас скажу но вот допустим когда мы говорим про просто dmf std set если мне память не изменяет поиск по большим массивом если там лежат строковые данные выполнялся медленнее а у нас это достаточно частая операция в тот момент было потому что наш полнотекстовый поиск использовал эту эту эту историю вот этот сценарий проседал вот наверно могу какие-то еще вспомнить но мне нужно будет время конкретику сказать мы прошли дискуссионную зона может нужного нам повторно кажется там был еще мужчина один спасибо за доклад такой вопрос производительность вы как-то мере зачем вы имели и 2 сразу в догонку статические анализаторы которые бы как-то могли почистить большую половину салат этого старого но смотрите по поводу того как мы оценивали производительность у нас есть наши сценарные тесты которые в целом работают не конкретно под эту задачу просто в нашем селе у нас где-то сейчас я сниму память не изменяет 2700 тестов именно пользовательских это именно сценарный запускаем конфигурацию строим какой-то отчет нажимаем какие-то кнопки и так далее это круто 2700 тестов пользоваться это очень-очень круто на этом потом расскажу на то прошу милого всегда а это вот так называемый полная сборка я тут могу коротко про это сказать то есть у нас например на себя есть сборка интеграционная там как бы маленький тест она там прогоняется где-то три часа полная сборка где-то часов 16 это со всеми тестами но соответственно этих тестах смотри дальше плюс у нас есть программа но не то что программу мы знаем крупнейшие внедрение мы можем им отдать бета версию платформы и посмотреть их обратную связь и их сценарий плюс на самом деле но очень многие крупнейшие внедрения они у себя имеют какие-то нагрузочные сценария свои собственные для своих конкретных для своей конкретной бизнес-логики поэтому в первую очередь мы прогнали на нашем тесте эти поймали отладили посмотрели потом клиенты в том числе жаловались мы этих их кейсы уже расследовали исправляли о сценарий был такой по поводу стад анализаторов ну так стад анализатор код ты не справится он только по ошибке подсветит но ошибки компилятор подсветит проверили все ну может быть далеко не все а вот можно дискуссию если вопрос кто хорошо если он дискуссионную зону данную я просто анализатор расскажу как мы используем есть коротко спойлер в том что мы один раз пробовали запустить 100 тн анализатор сейчас не исполнен какой конечно мы запустили на всем solution и он умер очевидно поэтому у нас дальше по отдельно по проектам они используют и на самом деле знаю что в некоторых проектах разные своя команда вот на своем стату на ризотто со своими какими-то до пилами вот она использует ну например там команда кластера и авто генерации интерфейса вообще не пересекаются практически там по задачам поэтому никому образная процесс"
}
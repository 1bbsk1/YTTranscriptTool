{
  "video_id": "1fmFjQj4H-4",
  "channel": "HighLoadChannel",
  "title": "Public Cloud. Гайд по масштабированию / Нарек Татевосян (Яндекс)",
  "views": 907,
  "duration": 3114,
  "published": "2021-10-04T02:42:07-07:00",
  "text": "меня зовут на рынке тевосян я раб в яндексе в яндекс облаке и сегодня я с вами поговорю о том как жить в публичных облаках о чем думать какие могут быть проблемы подводные камни которые вы можете использовать там в реальных практических кейсов чуть-чуть о себе я достаточно долгое время работаю с инфраструктурой сетями скупил эти самса я сам много сертифицировался с разными винда раме из опыта что много работаю сейчас работу в яндекс облаке помогаю его развивать и до этого построил небольшой блоков казахстане небольшие в полу государственно блоков казахстане на так как проектов много работал много в консалтинге очень много проектов запускал в продакшен и собственно вот на базе вот этого опыта расскажу вам не поведаю чего ожидать от облаков вообще для кого этот доклад и кому он будет в первую очередь полезен он первую очередь будет полезен тем кто никогда не жил в публичном облаке жил где-то там в своем house дата-центре либо в каком-то классическом хостинге и столкнулся с мирным публичных облаков там по ряду причин вот и соответственно здесь если туда прыгать резко о чем-то не думать то могут быть проблемы нюансы вот и давайте об этом поговорим ну коротко расскажу вообще сначала о том что я вкладываю в термин публичное облако вот и дальше поговорим о том о чем надо думать где надо менять парадигмы и конкретно поговорим про и осыпалась сервисы в контексте тех тонкостей которые могут возникать вот давайте начнем вообще что такое публичное облако в 2021 году что вот туда вкладывается но если взять главного найти аналитика в мире компания gartner то они называют именно публичные облаками cloud infrastructure and платформ сервис-провайдеров да то есть это компания которая делает инфраструктурные и платформенные сервис и естественно основными лидерами здесь являются в мире там amazon там наверное самый передовой вот и там google microsoft догоняющие игроки есть какое-то количество небольших международных игроков и в россии у нас это история относительно недавно развивается там и яндекс облако mail.ru клал solutions сбер клауд вот это все как бы тут те кого можно назвать под эту категорию вот это было с точки зрения поставщиков с точки зрения покупателей вот очень интересный отчет сделала компоненты время которое анализировала вообще основных игроков на основных покупателей там-то они детально очень отчет сделали он от посылки доступен вот и собственно кто на самом деле тратят больше денег ну понятно это saas-сервисы там медиа сервис и там интернет песенка ресурсы в принципе если посмотреть там небольшую аналитику которую мы там внутри провели в яндекс облаке то в принципе до 50 процентов основных больших игроков это интернет phishing сервиса да это там счас и в первую очередь вот и 50 процентов это такие enterprise приложения в основном вокруг аналитики крутящиеся когда требуется там поднимать тяжелые кластер и баз данных и крутить с точки зрения того где это внутри крутятся мы видим что очень много пользователей сейчас уже все запускают каберне тисе как минимум для непродуктивных сред вот и постепенно продукте вто же смещается в сторону поверните сам вот то есть если там дети сервисы которые там запускались 34 года назад они там больше запускались там на виртуалка с контейнерами и даже эти сервисы сейчас постепенно мигрируют внутрь кубера причем видно что полгода назад когда я готовил этот доклад это было цифра 20 процентов на нагрузок который крутится купер но сейчас она уже 25 то есть как бы доля купюрница видно растет растет очень сильно вот вообще почему выбирают облака почему приходят люди в публичное облако и вообще зачем она им нужна ну в первую очередь вот из того что видим и вот это темп market уменьшение тайм ту маркета для своих сервисов то есть современная в приложении микро сервис на это куча технологий и я если все поднимать самому используя железо то вы наверное и третье времени потратить на подготовку инфраструктуры если вы возьмете просто виртуалке то вы половину времени потратить на подготовку инфраструктуры если вы возьмете это набор платформенных сервисов то вы сразу можете начать писать код который зарабатывает деньги а потом уже думать стоит ли инвестировать там в свои навыки по разворачивай инфраструктуры вот про это делал небольшой вебинар chic где-то месяц назад вот как раз ты тоже можно послушать автоматизация тоже очень важная часть которая дает публично облака это возможность поднимать инфраструктуру автоматически нажатием не только нажатием кнопочки но и с помощью скриптов с помощью кода с помощью таро форма и обслуживать инфу не просто как диски обслуживать и например как кот вот и масштабирование масштабирование вам позволит тратить денег столько сколько вам нужно с одной стороны то есть если у вас сезонные нагрузки либо пользователи ночи не приходит в можете потому что берутся вверх вниз + облака позволяет вам быстро на какой-то промежуток времени получить очень много ресурсов потом захлопнуть пример сейчас вот у нас проводят аттестацию я в яндекс облаке вот там поставщик запроси у нас огромное количество ресурсов которым по использовать месяц и через месяц он и все выглядит и как бы потратил столько сколько ему нужно теперь будем постепенно переходить к конкретике вот о том что надо менять в облаках ну в первую очередь самое важное в чем надо думать это о том как правильно масштабироваться с точки зрения изменения параде то есть в своем он премия если вам не хватает мощности вы купите сервер по мощнее хранил куб очки в облаке это тоже возможно то есть в облаке можно вертикально масштабировать свои ресурсы но как бы всегда в этом есть предел вот то есть потому что облака очень часто закупает стандартные однотипные сервера у которых есть понятно там предел там сыпью оперативки которые можно выделить поэтому нужно стараться нагрузки размывать горизонтально со строительством это очень просто front-end и код спокойно горизонтально масштабируется сложности все в основном конечно касаются стоит фулан баз данных их в облаке тоже можно масштабировать и вертикально есть сервисы которые позволяют есть специальные базы которые и горизонтальные позволяют это делать но про это поговорим дальше теперь основные термины которые есть в облаке вову как бы вашем обычном мире вы наверное с точностью до сервера до стойки знаете где находится ваше виртуалке где находится ваши ресурсы в облаке с этим посложнее вы можете примерно с точностью до дата центра обычно определить где находятся ваши ресурсы и эти дата центры называются зона доступности зон доступность это обычно независимо от это центр с независимым control play нам с независимой этом электрика которая к нему подключено то есть о такой максимальный скоб домена отказа который допускает сервис-провайдер дата-центра часто объединяются в регионы для того чтобы вы могли создать сервер сервис который переживет отказ дата-центра соответственно twinks облаке нас три региона в центральной россии который объединены в единую сеть что важно понимать про дата-центры зоны доступности что есть сервисы которые не уйдут дальше зоны доступности это за сервис ну например диски виртуальных машин там дальше дата-центр они уедут вот есть сервисы региональной например там объекты стороны что мы в techwin даров очень сильно всех сервис-провайдеров привязан к региону и сервисы глобальной например там amazon и и страус if this trick данная сун глобальным по всему миру поэтому надо понимать ограничения скоpо своих сервисов которые вы используете в облаке есть потрясающий весь которая позволяет вам масштабироваться про который я сказал но не надо забывать что кроме масштабирования есть еще отказоустойчивость и на больших масштабах вас могут возникнуть новый сценарий отказов и у вас старый сценарий отказа тоже никуда не уйдут чтобы про это думать здесь когда-то просто понимать что это есть и вот у гугла было выпущено потрясающая книжка называет сайт реал ability workbook вот в ней можно как раз и почитать про те сценарий отказа которые могут возникать на больших масштабах ну наверное там конечно описаны масштаба гугла но все же как бы многие вещи они возникают и на масштабах поменьше дальше поговорим про квоты но в облаке вы можете получить на самом деле много ресурсов практически бесконечно но в облаке есть такая штука как квоты что такое квоты это некое организационное ограничение то есть верхний порог ресурсов которые вы можете создать его можно поднять это ограничение там обычно это делается быстро в полуавтоматическом режиме но какие-то сложные квоты требуют каких-то прав это может привести к ситуации что если вы не подготовитесь к резкому росту то вы можете упереться в этих вот и и у вас например не хватит ресурсов для того чтобы преодолеть нагрузку ну вот один из таких примеров это когда компания не сиро выпустила pokemon go и их рост был настолько быстрый что их архитектор писал постоянно сервис увеличили тип попросила увеличивает квоты каждый раз в то в 10 раз и так далее очень быстро и та ра ра рассказывая если бы они не успевали тег вот и увеличивать то так быстро бы не смогли запустится а потом схлопнуться вот и как бы за этим надо следить на потому что не хватит воды не хватит ресурсов теперь перейдем к конкретным сервисом и их особенности реализации в облаках начнем с и а сам в первую очередь начнем с виртуалок значит виртуалка обычно это сущность зоны доступности то есть в виртуалке как бы сама по себе виртуалка естественно эта сущность которая там это просто некий абстрактный контейнер но у нее есть диск из и сетевая карта который обычно дальше зоны доступности не едут вот поэтому если вы строите отказоустойчивость то обычно рекомендуется размещать сервис нескольких зонах доступности либо часто в облаках есть такая история которая вам позволяет однотипной виртуалке в разные стойки подключать вы не знаете в какие вы просто можете таки анти affinity правило создавать которые вам позволяют это делать дальше следующий важный момент который с виртуалками возникает эта перри подписка как бы в обычно в облаке перри подписка это то чем можно управлять то есть например у нас есть типа инстансов там с пятью с 20 из 50 процентами гарантий либо со 100 процентов от гарантиями и естественно тому разного права у разных провайдеров есть свои типы инстансы в который дает разные типы перри подписки что здесь важно да здесь важно что для продакшна лучше использовать процессора без перри подписки понятно почему потому что в первую очередь если вы будете делать какие-то тесты на процессорах перри подпиской вас одни результаты будут на тестах вы будете ожидать что там один такой процессор примет 100 репостов например и он так будет работать неделю 2 3 а потом кто-то этот процессор сядет и у вас резко упадет перформанс поэтому здесь очень важно выбирать тип и процессоров которых нет перри подписки этим можно управлять в облаках это вполне управляемой история если неуправляемые то тогда подумайте над насчет использование такого облака платформы понятно что облако это некая вроде кажется что-то такое волшебное бесконечный пул ресурсов но в итоге виртуалке приземляются на конкретные сервера с конкретными моделями процов с конкретными там джипе ушками если они есть и как бы здесь сервис-провайдер сначала покупает одни модели серверов потом покупает другие модели серверов и старые перестают покупать это очень хорошо видно например там в amazon а у гугла который много лет существует вот и к чему это приводит к тому когда покупают новую модель а старые не покупаются что в какой-то момент если вы живете на старой платформе вам нужно с масштабироваться просто вас не получится создать новую виртуалку потому что нет новый нету серверов под это вот поэтому здесь очень важно следить за новостями платформы и конкретным сервис-провайдером читать его документацию и там обновлять платформы в своем предложении причем очень часто новые платформы они дешевле чем старые ну потому что сервис-провайдер его как бы стимулирует вас использовать новое в том числе с помощью цен вот это здесь такой небольшой самаре которая про который я рассказывал вот здесь как раз посылочки можно посмотреть документацию гугла про их платформы вот и давайте здесь давайте двигаться дальше сети значит что есть важного в сетях важно в сетях в облаках есть первое что каждая сеть в облаке это некая уникальная система в которой свой набор правил то есть как бы здесь практически нету стоит с точки зрения там технологии внизу общего но есть какие-то общие паттерны например первый общий паттерн достаточно важный это то что в сетях сервис провайдерах там наверное в основной массы у них запрещенный бродкасты multicast соответственно у амазона там есть частичная поддержка мультикаста но вообще к чему это все ведет это все ведет к тому что традиционные средства кластеризации отказоустойчивости которые базируются на том что вы там свои сервера подключили в обычный свич они не будут работать вот надо использовать новые средства например там балансировки нагрузки вот про это я как раз и расскажу ну и почему так делаю до опять же потому что на большом масштабе любой опытный сетевик знает что большинство проблем возникают из этих рассказанных штормов spanning-tree там и так далее и как булка как раз защищает одних клиентов от других тем что запрещает такие типы трафика теперь поговорим про lotensin ну как бы естественно виртуалке любые сущности в облаке находятся в дата-центрах причем бюро разные дата центры могут иметь под собой разное оборудование и быть связаны разными каналами здесь что важно на что вот внутри зоны доступности между зонами доступности не между регионами всегда есть какой-то в танце и он всегда уникальный поэтому здесь обращайте внимание на те регионы зоны доступности которые вы используете и делайте там тесты для выплаты пенсии до низа pink например просто сделайте чтобы понять какая за какую из чего ожидать в вашей конкретной инсталляции в первую очередь наверное это нужно чтобы в этом выбрать где у вас устроит синхронная репликация где не устроить синхронная репликация надеюсь что самое важное что это все достаточно однотипно достаточно уникальна в каждом из облаков также в облаках обычно сети рассчитана на general корпус профиль нагрузки то есть там обычно это какие-то вот saas-сервисы там транзакционные сервис и и так далее по дефолту 80 процентов нагрузок не работает из коробки но есть нагрузки которые не turbo он так называемый до которые требуют повышенной труп вот в этом свет сети соответственно здесь надо знать что во всех облаках на самом деле есть как бы обычно сеть есть ускоренная сеть там в зависимости от того что это за облака могут быть разные механизмы например там у амазона есть в amazon и есть специальный типа виртуалок с ускоренной сетью у гугла есть там премиум there для сети там у нас есть сейчас программно ускоренная сеть которая тоже будет аппаратно превращаться вот соответственно некоторые выводы про это все что здесь важного хочется сказать да что как раз вот про выбор кира сети как понять какой тир сети мне нужен очень просто сделать на груше на тестирование с а транзакционными приложениями можно использовать яндекс танках который умеет генерирует нагрузка эмулирует с приложениями аналитическими нас каким green планом либо ходу пам вы просто создаете кластер и делаете в нем нескольки это сложные запросы это загрузит сеть достаточно чтобы вы приняли решение о том какой вам нужен тир city теперь поговорим про балансировки нагрузки это очень важная часть в любом облаке почему потому что как раз вот у вас как я говорил до этого у вас нету там бродкасты мультикаста все равно отказоустойчивость как-то надеялась как и удел делать ее использую балансировки нагрузки соответственно в облаках обычно есть два типа балансировщик нагрузки вот первый это сетевой балансировщик нагрузки то есть это некий тупой балансировщик с точки зрения функциональности он может молотить пакеты он поможет дать нашим над сделать больше ничего не умеет но за счет этого он бесконечно масштабируется то есть вы скорее упрётесь в свои бренды по перформанс учим в этот балансировщик нагрузки и от его использования вряд ли вы уйдете ну опять же это вообще не проблема потому что эти блокировщики за счет своей на архитектуры направлены на перформанс они стоят достаточно дешево но когда вы занимаетесь газировкой нагрузки вам надо решать еще другие вещи например тир минировать с цель например мотивировать по углам для этого существует балансировки нагрузки прикладного уровня которые находятся за балансировщика my сетевого уровня до как бы и здесь уже все зависит от облака вы можете сами поднимать балансировщик нагрузки либо использует балансировки нагрузки которые дает облака почему здесь надо выбирать потому что во первых балансировки этом прикладного уровня который дает облака но они могут стоить дорого вот во вторых пример есть игра из контроллеры в кубер не тисе которые по сути дают вам эту функциональность и как бы она достаточно стабильно удобно и стандартизировано между облаками и вы можете использовать ее не только этом в одном блоке но и в разных местах поэтому здесь как бы как раз важный вывод что вот от сетевых балансировщик нагрузки вы не уйдете ни в каком облаке а вот от блокировщиков нагрузки прикладного уровня здесь уже выбирайте что вам удобнее давайте двинемся дальше и передем к блочному хранить он перейдем к блочному хранилищем тоже важная часть любого мяса о чем не стоит говорить ну во первых то что диск это практически всегда сущность зоны доступности существуют диски которые живут на несколько зон доступности но они обычно очень медленные и для таких очень специфичных кейсов следующий важный момент что диски в облаках позволяют увеличивать перформанс с несколькими способами первый способ это увеличение размера диска это как раз один из способов который позволяет там изолировать work лорды между пользователями и как бы дать пользователям возможность помощью денег получает больше перформанса но вы практически у любого типа диска когда вы будете увеличивать перформанс вы скорее всего придете к тому что у каждого конкретного диска есть лимит в пир диск но это лимит тоже можно наращивать в облаках подключая к virtual com несколько дисков либо собирай фрейды либо например там есть система которые умеют параллельно писать несколько дисков пример здесь на слайде пример того как работает green план него можно подключить несколько параллельных дисков и там шарды по сгрыз и которые там сегменты называются могут писать параллельно в разные кусочки в разные диски также как сетью с дисками существуют разные типы дисков для разных нагрузок в первую очередь понятно что основе как бы для большинства кейсов большой кейс phonetic general tire вас там особо перформанса диска не нужен о из базы данных причем из базы данных просто как бы обычно из базы данных call авторизованные и для них очень часто требуются ускоренные в типы дисков более быстрые чем самый обычный для этого собственно есть в облаках разные ти рыб типы терры дисков то есть каждый дает свои вещи например вот здесь посылки пример того как дает эджера не дает там специальные диски с при провяжем таеб сами кто-то дает local ssd-диски мы сейчас выпустили не реплицировали и диски в яндекс облаке то есть тут как бы тоже надо понимать что существует способ получить диски по the amount нагрузку но он в каждом облаке свой и поэтому тут надо посчитать там документацию конкретного сервис провайдера чтобы выбрать себе нужно тебе диск вот вот и а сам перейдем к по сервисам и поговорим о том о чем мы поговорим о них вот ну говоря про pas peur watch пример про кубер notice и как бы что есть важно в купер не тисе и в облаке кубер нить из будучи там клад найти в системой он на самом деле очень часто знает о топологии облака под которой находятся его worker и то есть как бы купер нить из знает и про зоны доступности томку верните сможет и это монти affinity для но делать то есть и собственно вот это знание которые есть в блокнот очень часто вам позволяет ваши ноды в ваши под и внутри кубер не tissot schedule отитом в разные зоны доступности в разные типы нот и так далее здесь спасибо купер нити что он это все умеет в купер найтись и в облаке мы не только в облаке существует так и вещь называется кластеров тасс келлер она вам позволяет добавить в кластер нот и убрать из кластер ноты в зависимости от профиля нагрузки здесь что важно что кластеров task killer у кубер найти со он оперирует request to me сумма request of которые запросили ваш ipod и если сумма request of ваших кодов меньше чем есть в кластере сейчас он пойдет создавать новую наду это пора ли это работать параллельно с horizontal под авто с киллером который использует метрики из метрик сервера то есть как бы вот кластеров то скейлер и там тот же horizontal под авто с келлер это параллельные авто скейлеры которые используют разные принципы скиллинга поэтому здесь чтобы правильно спилить и под и и ноды нужно как бы том же request и настраивать и как бы знать как она работает вот так же в облаке надо помнить о том что апдейты там кубер нетесов обычно эта мелочь кубинцев они действуют по следующему принципу вот у вас есть кластер с тремя ногами вам нужно сделать апдейт что происходит значит в кластер добавляются три новые ноды со старых делается кордоны грей не то есть ваши коды рестарте ци убираются с этих нот и старые но да и там устанавливаются и удаляются теперь вот класть реестре новые ноты это собственно в облаке так можно делать вот но как бы когда вы делаете restart когда вы делаете кордон ядра енот у вас рестарте цапа да у вас может случиться давно time приложение но для этого кубер нас есть такая штука она называется под destruction budget которая вам позволяет делать кордоны drain так чтобы это уменьшало downtime вашего приложения также продолжаясь туре с кубер найти сам вы в любом облаке можете создать стиль сервис типом load balancer и к вашему кластеру подключиться балансировщик нагрузки облака это может быть сетевой балансировщик приложение но обычно это сетевой балансировщик ну который можно конгрессу подключить вот если вы просто по дефолту его создадите то ключ включится кластер extreme traffic policy который будет работать следующим образом буксировщик нагрузки будет балансировать нагрузку на все ноты в кластере даже если в них нет кодов вашего приложения он будет это отправлять на куб прокси в proxy уже будет делать нормальную балансировку средствами кубер написано этот под то есть вы получаете 2-х по балансировке по дефолту и по дефолту вы еще получаете то что ваше приложение не знают об ip-адресах ваших пользователей это в кубер найтись и есть второй тип подключение балансировки нагрузки называется local extreme traffic полисе который используется там в большинстве случаев продакшене при этом типе балансировщик нагрузки балансирует нагрузки только на надо где есть пода и напрямую по сути напрямую входы то есть у вас уменьшается в этом 7 потому что у вас один ход балансировки и вы видите api адреса ваших пользователей вот это как раз вот эти все основные выводы про которые я рассказывал вот здесь как бы такой самаре вывод он следующий что опять же все сервис провайдеры простой купюрницы рассказывают например я вот детально во время самоизоляции рассказывал как устроен наш сервис фоку бернес поэтому если вы решите использовать такие сервисы читайте внимательно о том как они обновляются как работают чего от них ожидать и так далее давайте теперь вот перейдем к слою данных поговорим про объектный сторож в облаке есть возможность дешево хранить статический контент картинки там java-script там html и так далее для этого есть такой сервис как называется обжиг сторож в любом облаке но обычно де факто стандарт это протокол из 3 ну там в google и вы жюри там немножко протокола отличаются но для пользователей это всегда вещи теперь протокол он позволяет складывать это все и отдавать пользователям но вы можете здесь платить за трафик потому что исходя из газоблока обычно стоит денег поэтому обжиг сторож рекомендуется накрывать сединам которые вам и вашим пользователям даст поменьше latency с одной стороны с другой стороны даст вашим позволит вам сэкономить деньги потому что будет тратиться меньше исходящего трафика также обжиг сто раз он позволяет экономить не только на хранение но и на обработке статического контента то есть вы можете на самом деле все обработку статического контента флудить облаку яблоко будет тратить свои ядра вместо ваших heuer обычно такие ядра дешевле я друг уже который дешевле получаются в плане экономики вот здесь на самом деле что как умер в яндекс облаке вы можете просто статический контент положить в отдельный пакет называть его статик . example.com подключить нему в центре пт и весь статический контент пойдет к нему а там ваш браузер будет там запиской ходить другое место так же надо помнить что обжиг сторож это не файловое хранилище если вы будете поднимать поверх его файлохранилища но будет работать медленно так вот она устроена ну и про базы данных так подводя про базы данных на самом деле говорить сложно потому что база данных везде разные в каждом облаке свой уникальный набор баз данных но их можно разделить на 2 часть первая часть это open source варианты спонсор сменишь базы данных которые есть практически везде наверно postgres есть в любом облаке вот причем в разных версиях фразам облаке вот но какие-то базы есть не везде вот есть как бы вот такие open source база данных это обычно когда вы их покупаете вы покупаете при провяжем ресурс этих баз данных то есть вы выбираете количество и размер not из которых состоит эта база данных они обычно там масштабируется как минимум руками вы можете всегда увеличивает изменять флеймеры с которого она состоит где-то что-то масштабируется автоматически но надо изучать смотреть конкретную документацию там конкретным базы данных конкретным облаке и например вот здесь вот по ссылке как раз рассказу применишь по 200 мы начнем сиквел mx облаке как как она работает вот есть проприетарные базы данных они обычно дешевле то есть вы можете они даже в режиме сервер вас доступны вы можете ими пользоваться и соответственно дешево с них начинает стартовать но потом можете столкнуться с тем что с них сложно уехать вот потому что вам нужно полностью переписывать код поэтому здесь вам нужно принимать решение для каких кейсов как базу данных использовать в первую очередь наверное с точки зрения бизнеса насколько вы хотите там расширять свою географию с точки зрения ваших сервисов ваших пользователей вот на этом все то есть как какие-то короткие выводы хочется сказать хочешь сказать что да как бы путь в облака он как бы возможен в этом нет ничего сложного вот и в между облаками есть очень много общих принципов просто надо понимать что это за принципы для того чтобы когда вы поедете на горизонт прямо в облака вам было проще когда вы поедете в одно облако сделать мультик лаут становится еще проще потому что между облаками как я сказал много общих поттер вот на этом большое спасибо рек спасибо тебе огромное за такое руководство я думаю что вопросов должно быть много то есть если начинающие совсем ничего не пойму а если я уже учет сделал и хочу дальше в этом в этом и суть у нас уже есть две руки 1 и 2 мы в это время благодарим тебя за твой доклад у нас есть конечно персонализированная благодарность в виде рамочка которую по вере поберечь люди коллекционируют эту груду дожились конференции ну и немножко сувениров нарёк спасибо за доклад интересует индекс облака потому что мы сидим в ажуре вот и присматриваемся к тому что мы можем использовать яндекс облака какие регионы появятся появится ли они новые индекса облаке я так понимаю сейчас 3 регионы есть сейчас яndex облаке один регион это центральная россия это на самом деле три дата-центра во владимирской рязанской и московской областях они как раз объединены в регион roots and roll 1а который у нас называется а вот казахстан интересует с казахстаном история следующее мы запустились казахстане вот сейчас мы умеем работать с казахстанскими компаниями вот там напрямую получает of тенге вот там есть некоторые планы на новый региона я там прямо детально не могу их рассказывать но я думаю после того как мы и там сейчас пообщаемся можем здесь про планы чуть-чуть спасибо поплатишься сказать если вы в онлайн онлайн и нажимаете кнопочку вас есть ссылка в чате в том числе если вы здесь поднимаете руку чтобы видеть то следующий юко 8 графон привет спасибо за так вот вот мы сейчас заезжаем в яндекс в облака у нас есть база мой скверная она большая напал терабайта почти хотелось бы ее в менеджер baby загнать но и из дампа вливать этот почти сутки будет есть у яндекса какое-то решение там грек чтобы менеджер baby реплика сделать или еще как то чтобы из такого простой это сделать да да есть база наши сервисные the data transfer он позволяет копировать база данных в облако и из облака вот он сейчас поддерживает мая сиквел и поддерживает ну то есть он в режиме реплики как раз получаете запустится да ну да да то есть это логическое с точки зрения пузырь что это логическая прилипли к с точки зрения массе кого я не скажу как и на данном детально называется но это вот возможность асинхронную реплику запустить облака вот и потом переключить он уже стабильным в релизе уже он сервис preview вот он в превью нас есть сервисы которые ходят в стадии preview это сервисы которые у них есть там определенная группа костюмах джейни запускаем здесь потому что у нас там не все api готовы то есть нейрон 6 через консоль через web-интерфейс доступен но в принципе с помощью него есть примеры миграции продукте вов как раз массе клон там как конкретно мои клиенты так что вы можете это использовать вот если какие трудности возникают команда data transfer она помогает взятие довести это до там или результаты которые вас устроят поэтому здесь просто попробуйте попросить сделать запрос на data transfer вот если у вас есть менеджер там попросите чтобы этот менеджер вам попросил командую чтобы один оставишь сопровождали спасибо не очень смелые люди давай я задам вопрос полки как образец того какую можно спрашивать у мелкий сайтик на вордпрессе и и он нормально работает там у хостера сейчас вот что нужно чтобы облака переехать до из этих на вордпрессе с виртуалки виртуалка перевести очень просто есть для того чтобы не греет в облаку нас есть инструменты миграции к нам у нас есть такой инструмент называется high stocks на самом деле он позволяет виртуалку полностью с мигрировать вот но перри развернуть сайтик на виртуалке в nx облаке это тоже ничего сложного плюс там можно поставить балансировщик там базу данных отдельно сделать из этого что-то откат устойчивыми облака желания и воображение прошелся потяните руки заранее чтобы мы привезли микрофон андрей porsche руссланд вопрос зачем нужны квоты клиентам и поставщикам что что простите зачем нужны квоты по ресурсам в облаке клиентам и поставщикам вот этот один запрос я скажу зачем нужно кого-то поставщикам сначала да как вы но на самом деле в облаке в любом очень много фродо очень много пользователей которые бесплатно получают много ресурсов вот квоты это как раз один из способов ограничить этот фронт для поставщика вот с другой стороны как бы облака она как бы большое но облака есть в любом облаке есть некий там лимит ресурсов на самом деле количество серверов она конечно я вот и соответственно вот и здесь защищают пользователей друг от друга в том числе защищают одних пользователей которые хотят стабильной нагрузки и в возможности масштабироваться там динамично пользователи которые придут и заберут все ресурсы вот примерно так просто еще вопрос что защищает от случая когда организация квартирует себе большой ресурс коль том что она хочет иметь большой ресурс на нем использует по запасам здесь но на самом деле каждый раз история персонально обычно когда идут запросы на большое число код где угодно у нас вот есть недавно пример ребята который из одного сгоревшего дата-центра во франции пытались поехать либо там в amazon либо поехать там в яндекс облака как бы они пришли примерно каждая из облаков запросите большое количество ресурсов и все их детально спрашивали зачем почему как то есть как бы пытались наладить ники контактов как минимум это 1 в больших клиентов это там человеческий контроль вот и дальше все уже зависит от ситуации мир нас есть даже вот выделенный capacity менеджер который контролирует внимательно и потребление ресурсов пользователями чтоб не дай бог кто-то не забрал все ресурсы то вот страсти вас планируется минут на 3 фикации для облачных вычислений скажем так у меня имеется потребность и динамической нагрузки скажем ночью 10 виртуальных машин ночью 300 у нас поминутная тарификация даже посекундная для компьютера вот у нас есть там лицензии там нас сиквела который там помесячный вот потому что так microsoft решил но в целом нашу тарификацию поминутно и как бы приходит наши пользовать и у нас вот кейс когда вы хотите ночью иметь 10 виртуалок днем что это как бы типичный келли облака какая у вас платформа для товаре зации обычно там тира форм использует но у нас есть ну чтобы автоматически масштабироваться в во-первых ну понятно это можно самому писать код поверх нашего пи вот плюс у нас есть сервис кингстон групп который как лама зоне называется of those килин группы которые в зависимости от метрики увеличивать количество intenso вам виртуальных машин там для вашего сервиса плюс у того же кубер нити из кластеров тасс killers horizontal под of the skill который позволяет это сделать то есть там деле способов много ну чуть купер не хотелось бы потому что это в итоге получается дорого ну тогда instance группы тогда вот в этой группе может сказать о кей у меня есть install группа она будет содержать от трех например там до 20 виртуалок и пожалуйста принесут группа держи мне средний там утилизацию себе 50 процентов соответственно если у вас средний утилизации secu найс группа будет расти ну допустим секретом может на кастомных метрику то есть группа прибавит еще одну такую же виртуалку вам там в себе а когда она уменьшится на я удалил хорошо относила супер у нас сейчас будет вопрос из онлайна и дальше дается 2 ряда нам нужно пару секунд чтобы увидеть человека вопрос показывают что видимо я тогда у меня есть запасной вариант у меня есть вопрос из чата вот так вот антон нас спрашивает как сейчас обстоит дело с дисками облаке хватает ли производительности например для green план с дисками ситуацию в облаке много играет она школы когда понятно производительности для карен плам a green pan такая система что я можно дать бесконечное она всё съест на самом деле вот с точки зрения какие типы дисков есть мы выпустили недавно не реплицировали и диски это как раз диски в том числе для кейса кластерных анализ аналитических субд и собственно наши пользователи генплана с удовольствием их использовать вот так же в - баз данных есть локальные диски вот у которых еще больше о и поэтому тут следите за новостями будут будут еще новые типы дисков еще более быстрых тот человек который хотел задать вопросы с онлайном у нас есть ещё несколько вопросов зале мы надеемся что ты решишь там технические вопросы и все у нас получится добрый вечер спасибо за доклад интересно достаточно плотно работал с вашим облаком некоторое время такой вопрос достаточно простая оказалась бы функции расписание внедрить короче виртуалку запускать в определенное время гасить тоже в определенное она будет у вас реализовано в ближайшем будущем то есть просто зашел пикнул virtual очку говоришь со дать ей расписание не колхозить лямды которые будут ее делали через записочку вы это была просто вот стандартная функция я услышал вот сознательный вас шаг такой что бы ну чтобы это было тяжело обычным пользователям или это просто пока ещё в разработке скорее наши фичи request a neat пользователи двигаются вот у нас просто там немного было запросов на это плюс у нас есть вот комьюнити fitch борт куда можно прийти и там написать свои фичи вот и там можно посмотрите популярной фичи мы делаем то есть тут как бы наверное вот прям ближайших планах там месяцев наверно вряд ли и то есть она может быть просто для вопроса допустим есть у нас подразделение которые машинным обучением занимается берем у вас нормальную виртуалку которая там сто пятьсот я держу много памяти но и мальчики же работают получается днем в рабочее время вот он ушел забыл погасить но до то здесь кисть понятиям вот у нас много кейсов как раз так кумиром решается вот как раз потому что он умеет вниз масштабироваться вот он без необходимо то есть просто нужно от нагрузки до как какой-то вот а так подумаем и обязательно фичи борт приходите хорошо и запрос делать илья мы зададим твой вопрос в общем не получилось видео подключиться поэтому он стал в чате как ограничивать ты кстати выбираешь лучшего просто по между лучше вопрос предстоит выбрать и чтобы по турам там илья спрашивают как ограничить ограничивать авто масштабируемые ресурсы вроде лямов закат а кто-то у нас видео этот это илья с видео да говори да мы слышим все хорошо которые потребляли меня всякими вот такими мы с базами данных те запросы идут вычисления как бы языков как там какими-то на невестами какими-то таро формами еще чем нередки случаи когда облака там биллингс основанием идет и начисляют какие-то космические суммы из за того что там указали бюджетный 5 баксов а почитался лимит только почитались взяться ресурсов только через суд можно как с этим пород править правильно ли я понимаю что этот вопрос как мне как клиенту ограничили потребления ресурсов которые мои функции вызывают но это можно во первых ограничивать квотами конкретно там насчет если говорить насчет функции лямбд в яндекс облаке там есть квота на одновременное количество запущенных инстансов функция вот с точки и в принципе наверно квоты это такая основная часть то есть как бы если вам придет очень много нагрузки на на ваш сайт в с3 то наверное вы за это в каком ты виде заплатите за этим надо следить обычно для этого в облаках есть такая штука которая позволяет управлять бюджетами пилинг действительно в облаках он как бы не мгновенные но это не сутки это обычно часы вот поэтому здесь в принципе можно управлять тем что в этом какие то бюджет и по помимо к вот еще какие-то без бюджета там назначить и на там свои ресурсы для того чтобы увидеть о том что вот неожиданно у вас потрачено гораздо больше чем вы ожидаете нас открытие месяц назад бюджет и вот поэтому вы можете себе настраивать уведомление о том что вдруг вы потратили больше чем хотите как то так если управлением всем и через нее first и чищу такой через тира пор пока вообще возможно но зависит от облака я думаю в там амазоне ингуля что-то можно управлять чем-то можно управлять таро формам вот но именно месяц еду квотами бюджетами вот такими вещами у нас пока это все доступно через его и через там консольный наш инструмент тут смотрите документацию конкретный момент конкретно сервис-провайдером супер есть вопросы зала и я беру следующую руку потом привет спасибо за доклад татами вопрос прямо из предыдущего возник дополнительный вот у амазона есть такая политика что если вы потратите много денег то можете написать в саппорт ну случайно вот внезапной нагрузка на s3 то в первый раз для любого аккаунта amazon проститься этот месячный тариф ну прямо это правило амазона как яндекс это реагирует они накажут рублем еду вытачки ну скажем так наверное он с какой-то политики нет таких обсуждаются индивидуально но у нас есть кейсы когда мы здесь шли навстречу вот например типичный кейс у нас можно создать виртуалку само стекло вам с месячной лицензии и удалить потом создать и удалить еще раз создать удалить версий много денег потратить вот и здесь мы идем на встречу и там компенсируем то есть тут все зависит от кейса но мы как естественно здесь не не не совсем жесткие ребята которые хорошо спасибо а мой и изначально вопрос было про ваша api сколько вот у вас человека ресурсов и как вообще высоко приоритет на развитие api и тара форма ну тоже сравнивала с amazon am что там например тира форм бывает появляется раньше даже чем клауд формейшн как у вас в общем приоритеты api приоритет копии политик но как бы сейчас у нас каждая команда которая разрабатывает сервис она независима уже комитет автора форм мы когда-то у нас был готов на крите одна команда сейчас у нас мы это дело расширили пера форум как минимум является при реквизитом для того чтобы сервис вышел в j когда чтобы за него брали деньги вот на стадии превью мы не всегда делаем но как бы кира форм требует публично 5 скажем тогда когда появляется публично ты практически всегда сразу у нас сейчас появляется terra форум то есть тут сейчас больше завязку сервиса выпустить публичный api вот этот time to market он гораздо больше чем после публичного пи появляется тира форма примерно так она выглядит супер у нас есть может быть еще два если кто-то хочет поднимите руку кто добудет 3 вопрос слайде объектные хранил ки рассказывали там хорошую правильно мы сказали что из 3 надо спрятать за сидим когда мы это в яндексе с мужем сделать но она на самом деле появилась уже в превью вот вы наверно прямо публичное анонс не делали вот но если у вас есть уже обратитесь мы откроем то есть сидена выпустили уже но он уже превью то что там это ваш сервис или партнерку это партнерка на базе je parle abs спасибо добрый день спасибо интересно хотел бы спросить по поводу безопасности меня вот как разработчика который в разных проектах участвовал всегда был взят отношении что облако это не секрет безопасно хотелось бы спросить как в архитектурный может быть как-то решаете вопросы безопасности и вообще может быть и яндекс за облака это более безопасно чем другие облака а может быть и нет но безопасность про это можно говорить наверное бесконечно я постараюсь сказать коротко во-первых мы как облако внутри себя очень много инвестируем на то чтобы наши процессы нашей технологии соответствовали требовать безопасности мы там и по фазе 152 мою за один получили нам и и даже а тесто вались там арестовали себя мы и по iso 2000 и там один 2017 18 получили и пописяй одессу в общем количество и как бы внутри это это не просто получили бумажки это как бы конкретные вещи конкретные технологии процессы которые внутри закреплены и но это не отменяет того что пользователи тоже как бы должны свою инфраструктуру делать без безопасной на базе облака ну то есть с тобой виртуалку сделайте в облаке с паролем один два три и в интернет опубликуйте и взломают это как бы не проблему облачного провайдера так как бы вот поэтому мы здесь даем механизмы для того чтобы можно было безопасности управлять то есть у нас есть уже появился ролевой доступ сейчас то есть которая позволяет вам ограничить количество операций пользователей fopen например вот запретить создавать сущности которые торчат в интернет вот вот как бы такую ролевую модель можно сделать вот плюс есть там security group у нас появились то которые позволяют правильно настроить firewall но в целом вот мы даже выпустили гайд для подготовки инфраструктуры для беседе с кому-то очень много есть чеков которые можно себя внедрить для того чтобы там ну по крайне мере все devices достаточно хороший номер три безопасности вот можно его использовать что ваши сотрудники по virtual com не лазят и извинись наши сотрудники но в виртуалку они доступ не имеют вот я вот хостел сознаете вот в игру лет пять или семь назад у меня были проблемы ну я извиняюсь можете их немножко короче но не взяли залезли туда и всем этим и виртуалку мы можем мы наш сервис и залезать - базу мы можем зайти но мы будем просить у вас начала разрешения про этой когда мы зайдем наши безопасники наши облака будут видеть как наши дежурные залезают и ругаться его туда доступ имеете мы на менеджер виз то есть там где мы отвечаем за платформу пусть нас есть - база данных туда у вас нет ссс доступа у вас есть доступ только там по протоколу и сквере естественно нас туда есть какой-то доступ на виртуалке у нас доступа нету возможно это был вопрос про аудит как скоро ваша безопасность узнает ли нужно специальное шаги предпринимать чтобы админу полностью нашему до приходится очень как тут немного инвестируем там например у нас продакшен могут ходить только дежурные то есть если ты дежурный сервис только тогда у тебя доступ к правда открывается и так один из этих вопросов был лучшим который понравился тебе больше всего да да было много вопросов причем выбрать это всегда непростой выбор мы можем пока барабанную дробь давайте на барабанная дробь но давайте раз у меня любимая тема и много с банками работы и безопасность люблю supergrass аплодируем нашим победителю спасибо огромное рекс спасибо вам всем друзья и вы еще свои вопросы можете задать в онлайн кулуарах переключаетесь zoom или проходите на площадку и я попрошу сейчас оперативно покинуть зал чтобы мы запустили дезинфекцию"
}
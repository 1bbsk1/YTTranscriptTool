{
  "video_id": "LpT-RCMvz88",
  "channel": "HighLoadChannel",
  "title": "MySQL 8 Observability и анализ запросов с помощью PMM / Пётр Зайцев (Percona)",
  "views": 2241,
  "duration": 2881,
  "published": "2021-10-04T02:42:05-07:00",
  "text": "всем привет но действительно мы поговорим о том как заглядывать под капот машины где машина это майское и не какой-нибудь майской а майской 8 кто-нибудь использует войска и ли вы так пришли о несколько рук отлично но что такое мы говорим о тебя обзору а берите что такое и зачем это нужно а то есть на самом деле система которую мы используем текущий момент они сейчас а достаточно сложные и с ней возникает много проблем которые сложные которые повторить просто в системе разработки может быть достаточно проблематично поэтому очень хорошо когда у нас есть информация до инструменты что просмотреть production посмотреть и разобраться что там что там происходит на самом деле здесь есть две такие два подхода там которую мы по крайней мере из пользуемся с одной стороны вы наверное слышали как концепт мониторинга когда мы ставим систему она собирает постоянно данные с продакшн и они собираются вот и мы всегда можно посмотреть что случилось вчера там час назад вот в случаях когда у нас что-то происходит воли но сложный нам этих данных может не хватать мы включаем сбор еще каких-нибудь дополнительных данных на вот я например на в прошлом году здесь на холоде рассказывал про инструмент и ddf через который можно подключать там совсем сложные пробы как он быть совершенно какой-нибудь конкретной функции в ядре да там или в процессе собирать да данная очень очень детальные что здесь важно ну хотя буду рассказывать про мой стиль в моей презентации надо понимать что просто смотреть на mais quel часто все проблему не решит очень много проблем может вылезать из-за того что на стыке нибудь приложение проблемы с приложением что-нибудь там напортачили или может там с операционной системой особенно в современном мире у нас может быть много много уровней да там она железо есть какой вы там хай 1 за дальше может о нем бегает какой-нибудь там типа вернитесь в эфир всего этого и у каждой этой прослойки могут быть свои проблемы и на все это имеет смысл смотреть вместе ну и так давайте посмотрим о том что у нас есть в моей сквер и какие данные нам майское непосредственно предлагает и как мы их можем использовать здесь данных достаточно много я буду двигаться достаточно быстро чтобы у меня еще осталось время показать вам показать вам демку вот так что если что потом посмотрите славе дополнительно по медитируйте какие нас моей сколь 8 представляет данные ну вот это вот наверное основные шесть источников база источников данных который в нем есть шоу главу статус если кто морское использовал наверно знает что он там была всегда ну по крайней мере с майской 322 кто this польза морской 322 здесь есть нас археологи о отлично есть вот что у нас шоу статус показывать шоу статус по большому счету показывает кучу аккаунтов которые позволяют отслеживать разные события в базе данных но вот например сколько запросов база данных выполнила что интересно что вот эти вот шоу статус они поддерживаются как на уровне глобальной так и на уровне сессии то есть вот в данном случае вы видите пример что я могу посмотреть как число запросов которые выполнили удалова базы данных вообще только сколько запроса выполнять какую то она в данную конкретную сессию пусть вот мы по цене подсоединились к базе данных что бывает весьма полезно посмотреть у тебя подключился что-то он выполнил кучу запросов давайте посмотрим а что же там реально накопилось здесь есть свои определенные тонкости что в некоторых случаях вот например и no debe статистика вы можете и попросить как сессии переменных но на самом деле на вас до вам даст и глобальными глобальные переменные и понять что она когда именно дает но не всегда так просто да эти вещи просто хорошо знать использовать стоил главу статус можно например для такого простого достаточно просто линга что и по ним мы еще использовали многие многие годы назад да ты наверное даже 20 лет назад сделал шоу статус выполнил запрос после этого выполнил заново шоу статус и посмотрел что же там у нас изменилась но в данном случае мы выполнили запрос который делает full тейлз когда-то мы видим то что хандрит next затем это вот было выполнен столько еще число этих операций практически сколько но сколько строк в таблице да там плюс минус своей сколь поставляется также утилитка майскую админ который очень классная в том плане что она позволяет посмотреть данные в таком вот в формате как видим стад или аист от да там куча разных linux утилиты можно сказать вот давайте нам данные как они меняются до там за каждые каждую секунду да там или можете поставить майонез ай да другой параметр и и можно смотреть что у нас происходит на такой вот как бы простенький trending циркона тулкит есть туза 5 микс называется которая позволяет другая взять те же самые данные и от рисовать их вертикально этом который позволяет посмотреть сразу на все шоу global статус и посмотреть ага вот у нас не знаю в эти 5 секунд был спайк числа запросов но да там в расстреле кинчев и другие ивенты часто на это смотреть более удобно чем использовать мои вскоре админ собственно говоря вот именно для этого мы его в свое время там много лет назад и сделали следующий инструмент в которую можете покопаться найти много интересных данных это информация схема он был добавлен попозже но тоже уже наверное близко к десяти лет назад который содержит кучу табличек из которых с помощью рискуете того же можно достать какие-то данные некоторые данные они ну такие содержат информацию объектах которые у нас есть база данных но вот например здесь показывается информация о таблицах где и уж когда там где можно посмотреть что это за объект какие у него разные properties и так далее вот с другой стороны там есть и разные интересные метрики вот в данном случае мы смотрим на и на тебе и на деви метрики вот и таблицы и на деметре ксана чем-то похоже на шоу шоу статус да но как мы видим там колонок значительно больше с того чтобы просто показывать каунтер можно посчитать она считает и среднее значение и как бы показывает когда оно было включено выключено и так далее и тому подобное вот что надо знать про и на деметре кста что они в отличие от шоу статус не все включены по умолчанию какие-то из них считаются какие-то не считаются вот если хочется включить все нужно добавить опцию и на де мойне 3 не был он и в принципе они практически бесплатные да то есть если вот мы говорим там будем говорить про performance кимата там надо думать что включить что выключить потому что у нее может большого вершит то и на деметре кс они практически бесплатные вот performance кима performance тема это была разработана но уже тоже достаточно давно когда там смазку и 55 и это вот тот подход да на котором майское сейчас стандартизируем то есть идея такая что все фокус на instrumentation все это пытается делать через performance кима було какой причине такой причине что информации performance кимоно дает все данные через таблички которые можно получить через тот же язык sql и это очень хорошо работает в клауд решениях на там где доступ к таким данным у нас есть всегда какие-нибудь там данные сбоку влогах или там в чем вычищу это как-то но не всегда так просто добавлять performance кима очень много данных но не все они включены всегда и к ним нужно относиться а аккуратно потому что если взять искать о а я хочу вообще собирать все и всегда то это может быть стать дорого притом что еще интересно что очень много конфигурации performance кима они она динамическая то есть он тебе говорил что вот некоторые вещи мы хотим включить всегда некоторые использовать в роста для отладки когда у нас там что-то не работает мы их можем динамически включить и посмотреть как бы под увеличительным стеклом что же там происходит вот performance кима поскольку она конфигурируется динамически во многих случаях она позволяет это делать как же она нас конфигурируется и конфигурируется она на самом деле сложно да там не вот честно говоря кажется что что-то они тут да там видим какого то не знаю да там очень умного человека посадили это дизайне теон что-то очень сложное на дизайнер как-то конфигурируется конфигурируете и можем через дать его таблички с этап что-то там что такое actors actors это конфигурирует какие пользователи с каких ростов у нас будет проводиться на то есть по умолчанию мы провалим всех но мы можем сказать что вам проверка хотим проводить только часть каких то пользователей следующая концу мерс концу раз грубо говоря это какие у нас есть таблички которые собирают вот это вот сумма не зиру информацию агрегирует информацию дата с разных точек зрения да здесь тоже можем посмотреть какие-то из них включены по умолчанию кейта выключены можно динамически включать-выключать следующий концерт performance кима это инструмент это собственно говоря вот эти вот точки вход в коде которые собирают какую-то информацию до на текущий момент у нас более чем 1200 информа инструментов из которых 800 включены остальные выключены и некоторые из них еще таймс да то есть для него является время почему сделаны именно вот такая конфигурация потому что есть некоторые инструменты которые дергаются ну кругу рита может быть миллионы time 1 секунду и каждый раз для них считать время получается вверх от более большой в эту в некоторых случаях если нам но достаточно для диагностики просто знать сколько событий произошло мы можем включить инструмент что вы считался счетчик но не требовать его taming ну и наконец объекты объекты нам показывают какие объекты базы данных мы хотим инструменте ровать да там таблицы триггеры храме процедуры и так далее и тому подобное и здесь вот что интересно да там что видите что схемы как mais quel performance i'm in forma информация с кем и по умолчанию они у нас не информированы и триттико хорошо да потому что нет случае америка таблицу нас информацию может существенно тормозить но через по умолчанию через performance киева это не увидим вот ну и ещё вот это вот новые фичи которая появилась mais quel 8 именно этого можем настроить еще типы потоков которые мы хотим инструмен тировать и или нет да то есть у морской есть куча разных потоков какие-то из них вот например там фредди сказал want an action это собственно говоря но наши стандартные русские потоки остальные это разные системные потоки которые делают что-то у нас фоне вот пример как у нас данные показаны собираются в performance схеме и здесь что интересно если то вы видите что таймер старт старт таймер and да там начала выпало и конец событие она какие-то немерено здоровые цифры вот потому что performance по умолчанию время мерит в пика секундах на то есть пика секунда это одна тысячная на на секунды то есть идея такое чтобы мы могли как целое число да там представить время с очень большой точностью но это значит что вы вот не переводите нормальное время нужно делить на единичку с очень большим числом нулей вот и понятно что ручками работать со performance темой бывает часто не всегда очень удобно для этого с майской поставляется такая еще дополнительная схема которая называется система что то такое но большому счету это набор вьюшек и там несколько хранимых процедур есть которые нам позволяют информацию которую собирает performance кима работать более более удобно при чем она позволяет делать юшки как для людей так и для машин где вьюшки для людей они делают информацию в таком виде как не знаю 5 миллисекунд или там три секунды до там понятно что если мы хотим написать какой то скрипт то вот из этих 5 секунд или там две миллисекунды обратно переводить нам все это очень неудобно поэтому есть 2 2 набор те же самых ушек которые используются x доллар с префиксом и там все данные хранятся в но в более удобную машины или в формате вот о чем я говорю да вот можем посмотреть пример мы видим да там что здесь statement лайла и tense car and memory да там она все сделано в таких удобных удобного римом формате вот если же посмотреть на те же самые данные для машины они собираются все эти данные в тех же самых пика секундах байтах и так далее вес попытки сделать его более удобным для чтения ну вот есть еще несколько интересных примеров ну или каких-то там куча да там в performance кими например мы можем посмотреть информацию по нашим клиентам да кто то какие у нас хасты которые работают с mais quel им они используют ресурсы и здесь мы можем посмотреть что елки-палки к что какой-то пост выделил 2 терабайта памяти как-то выглядит странно да но на самом деле total memory allocate эта информация о том сколько всего вот этих вот разных молоков было за все время да там то есть они для того чтобы смотреть сколько текущей память использует надо смотреть на car and memory почему я про это говорю потому что часто люди ругаются говорит что у вас блин там performance кима вред другая интересно интересно что вот если мы посмотрим для тех же самых ростов вот вывод мы видим то что очень много операций вот выводы выводов она привязана к такому хасту к который называется до ground почему да потому что mais quel он многие операции по записи по крайней мере до то он пытается делать в фоне и они на этом уровне уже не привязаны к какому-то конкретному трейды кому-то конкретному has туда там они просто идут в a ground и для данной для данного рк лова да да там большинство окраски операции происходят в бэкграунде следующий интересный примерчик у нас это ну вот вот вот вывод мы можем посмотреть более более детально уже здесь по и по хостам и по типу ввода-вывода что же у нас происходит и мы видим что у нас есть куча background например активности как в лог-файл у так и по да это файлам и так далее дальше можно опять таки по хостам посмотреть например какие у нас statement и хасты выполняли сколько и так далее что может быть весьма полезно посмотреть какие хасты создают нагрузку на базы данных можно посмотреть по типам statement of вот а дальше то что я раньше показывал в файловый вот и вот он показывал просто по типу операции данный пример и на дивиди это файл но часто нам наверное хочется посмотреть более детально что же у нас там но за файлы непосредственно да там который доступ тот это можно посмотреть через global файлы и и борьба its вот и здесь что интересно да видно что performance kimono делать такие вот разные но разные вид на данные да например и можем посмотреть liepajas там по типу операции либо не по хостам но уже по всем файлам но почему потому что если делать вот эти вот все полные при мутации например у нас есть там не знаю да там 1000 хостов и 100 тысяч файлов понятно что там где меньше нас получается большое чтобы это все собирать эффективно и в памяти блин потребовалось бы очень много очень много памяти ну и вот можно смотреть да там убрать чего нас там были до то можно более детально дата посмотреть опять-таки по типам файлов самаре то то же самое вот войска и есть instrumentation даже сейчас и сколько было выделено память для разных целей то есть если вы запустили там sql и вроде вы выпили ему не так много памяти сможете блин вот он занимает дофига памяти вошел свататься да там откуда что там выделяет память и это можно вот как раз таки посмотреть через вот это вот в это вот табличку вот еще в система есть такая табличка metrics который грубо говоря используя данные из шоу статус но она добавляет к нему затем ее на деметре кс сливает их как бы в одну таблицу и показывает им ну типа ее там это глобус статуса или нет включена она или нет и так далее майское лишь о процесс лист наверно многие этой терзай пользовались вот в эскимо есть свой процесс лист которые используют данные из стандартного просто слизь плюс добавляет еще куча разных дополнительных данных data вот здесь можно посмотреть а да там сколько это транзакция на данный момент роуз обработала да там и так далее и тому подобное следующая интересная утилитка если кто слышал mais quel и ну и на самом деле в других базах данных часто бывает проблем от что люди ну кончайте идентификатор и на то есть мы сделали ин-т нас там четыре миллиарда идентификаторов когда то давно это казалось что это хватит всем и навсегда а потом раз вдруг и кишки кончились и это большая проблема да это многие вот ресурсы писали что блин а вот пришлось делать какой-то да там downtime или что-то для того чтобы срочно альтере табличку чтобы расширить колонку из 32 бит на 64 вот в в система есть туза которая позволяет нам покраски посмотреть насколько у нас используется нашего этого то адрес space на там и соответственно если у нас уже там используя на 50 процентов то может быть надо начать планировать что с ней делать редант and index is что это такое другой тоже такой beach май сколько многих базах данных часто люди когда у них тормозят запросы они идут да там читают или говорят с экспертами им говорят блин ребята вам нужен еще один индекс они берут яндекс и добавляют в итоге у них собирается много индексов и часто они но накладываются да может индекса на колонке а потом индекс на колонке а , б которым индекс на колонке a , b , c вот и такие индексы они на самом деле часто перекрываются дата может нам достаточно только вот один явись и яндекс редондо индекс из как раз таки туза которая нам это показывает какие у нас индексы были redundant и более того нам дает сразу даже команду которая этот этот редондо индекс можно убить следующая вещь которую достаточно достаточно интересно да то есть мы можем через performance кима посмотреть какие у нас наиболее горячие горячие таблички на там и что с ними ну что с ними происходит число обращений сколько у нас время зашлось обращения на диск и и так далее да то есть часто достаточно но полезно знать потому что дальше уже можно разбираться что с ними делать до может быть там какие-нибудь индексы убить или там колонки убрать может быть архивировать старые данные и так далее то есть такой вот взгляд о том какие у нас колонки тормозят прогресс весьма полезно следующая интересная штука которую можно нарыть через performance кима индексы которые были созданы в свое время да там может приложение эволюционировала и больше эти индексы не используют от их можно найти таким образом я бы сказал . к не используем индексом надо подходить аккуратно потому что если вы индекс убили оказывается потом что он вас используется просто над мер раз в месяц и кинуть отчетом да там то добавлять его на большой таблицы это очень дорого в моей сколь 8 есть такая классная туза как invisible индексы с где мы можем яндекс просто временно выключить следующая интересная штучка вот кто здесь верит в security есть кто-нибудь но не так много верит наверное это не то слово да там вот но по крайней мере заботиться о security вот в понятно что одна из подходов к этому это обеспечение безопасных базах данных это использовать тела с да еще как бы правильной версии для ваших коннектов с performance кем мы можем посмотреть как что у нас используется в плане в плане этих в ну в плане тип security которые используют для каждой connect а вот следующее еще интересные билды которую можно смотреть statement анализа табличка она нам показывает но по разному типу типы таблиц эти типы запросов что они непосредственно делали вот здесь это можете обратить внимание что шоу ты его статус на самом деле создает кучу временных таблиц ну на самом деле как бы это не глюк так она есть да там в современном а иску или шоу ты был статус он требует временно табличку куда он кучу данных там загоняет вот то есть так оно на самом деле есть если интересно посмотреть что у нас было с база данных и в порядке да там какие возникали ошибки вот что может не или вонь инге это может полезно для совершенно разных вещей да это может быть кто-то пытается сделать из сколь injection и загоняет туда куча statement of которую нас парсится типа стэнфорда там или же какие-нибудь остались старые запросы которые обращаются к несуществующим таблице у несуществующим колонкам все это будет видно в данной табличке я уже показывал так что можем посмотреть информацию по хостам другой способ смотреть на это часто можно на уровне юзеров здесь есть как бы такая хорошая практика что если у вас есть много разных приложений которые используют базы данных используйте там разных юзеров потому что кроме всех других хороших окей закончить так закончить закончить так но тогда я вижу вижу это я просто а про себя вот что мы ещё можем посмотреть в общем какие у нас есть white и можем посмотреть распределение по запросам да да мне просто среднее время выполнения запроса но и этого то что появилась моя сколь 8 у нас есть разные разные гистограммы ладно теперь давайте быстренько пробежимся по какие у нас есть логе майской у нас есть орлок день он творил услуг слог брелок которую можно включить но очень часто пользуемся слуг verilog в нашем пир кону серверу mais quel мы его расширили то что там добавляются дополнительные какие-то параметры которых нет майской мой сколь 8 кстати его тоже ребята расширили на там добавив данные о выполнении выполнение запросов и часто это очень хорошо потому что можно посмотреть ну и конкретные типы запросов варианты которые валялись и какие у них были там параметры выполнения следующая вещь которую нужно знать всем да там разработчикам и керосин и to explain да там как же этот запрос будет выполнять база данных потому что часто она его может выполнять совсем не так как вы в этом считаете нас есть базовый xp да там если вы просто используем explain получаем информацию вот такого вида опять таки эта штука была ну как минимум с майской 322 может быть и раньше есть у нас еще джейсен формат джейсен формат дает значительно больше данных по xd ну относительно вот этой табличке поэтому для но более расширенной диагностики да там с ним хорошо работать проблемы с ним конечности джейсон его удобно обрабатывать скриптами но глазкам больно поэтому в моей сколь 8 появился теперь у нас еще и 3 формат да там который чем-то похож на на по сгрыз да там как у них сделан explain который показывает это в таком формате дерево да там которого который показывает более информацию расширенную чем-то в личный explain но более легко читать следующая классная что у которой есть появилась мысль 8 и to explain анала из когда мы можем сделать в волнении запрос explain она лайк и он нам расскажет не то как optimizer думал он выполняет запрос а как он его на самом деле выполнил потому что там могут быть из-за но и из-за разных предположений неправильных optimizer может быть разница это очень хорошо когда помогает когда вы смотрите на план бланк классный выполняйте запрос тормозит делом explain она лайс смотрим есть и собственно говоря разница между тем что он думал да там когда у нас прошел explain и что реально получилось x2 инфо connection тоже очень классная штука на мере если вас выполнился запрос который вроде бы обычно выполнялся нормально а сейчас вот тормозит бежит уже 15 минут до там можно сделать explain how connection посмотреть что же такое у него там с планом что ж его переклинило чем это полезно потому что иногда если вы просто тот же самый запрос уплате второй раз он может выполнить уже быстро да там потому что это был но единожды факап optimizer еда там они то что постоянно происходит в mais quel и так же есть возможность стрейфить optimizer который создает такой большой файл где optimizer тип рассказывает о том что вот я туда посмотрел я так подумал и в итоге я выбрал этот план это туза на полезно либо для скажем так экспертом который очень хорошо понимать как работает либо для того чтобы эти данные послать например там саппорте мы ли кому-нибудь до чтобы они разбирались в чем же там вот такой у вас не работает более детально чем вот почему-то меня explained получается странной окей ну что вот мы прошли по первой части я вам рассказал что у нас есть в в маску или теперь у меня есть еще целых восемь минут на то чтобы вам показать маленькую демку про пи мы примем это инструмент который мы сделали именно для анализа производительности mais quel это полностью open source туза так что ставьте ее и и пользуйтесь вот ой чот у нас тут какие-то а это у меня видимо барахлит здесь только вот и и более того если вы хотите ну если он нужна помощь чтобы поставить наши ребята на стенде беркана к счастью вам помогут если вас уже прямым стоит мы вам даже с радостью поможем посмотреть что можно интересного нарыть про вашу базу данных вот с помощью этого инструмента так что приходите будем обучаться предметно ну что ж давайте посмотрим как насколько у нас наши брюки превращаются в шорт и или как там это положено о нет неё так господа как нам бы или мне нужно перетащить на другой экран как-нибудь я вижу о вот отлично оказывается не так все плохо так и так что у нас снимаем мне представляется вот этом основная от у за то что у нас есть запросы в данном случае запросы туза собирает и агрегирует во множество серверов а почему это очень полезно потому что если вас involving большой сироп 10 может быть 100 до там-то смотреть на не знаю там performance скинув каждому из них из ковыряться запросам это не неудобно причем мы можем посмотреть не только в на уровне запросов но и например посмотреть с точки зрения нагрузки куда у нас больше всего нагрузки от 8 грамм базам данных то есть например здесь мы можем посмотреть что вот на mais quel 4 у нас загрузка 6 да там по другим но существенно меньше что такое лода такими мысли не понятно на самом деле это то же самое что среднее число активных запросов да там вот то есть если лорд 6 это значит что среднем на этой ноте выполняется активно 6 запросов например в том же самом процесс процесс листе вот то есть то есть вот так вот дальше если мы можем посмотреть сбоку кстати с как бы там спасать и можно посмотреть собственно говоря откуда у нас происходит больше всего нагрузки например здесь видно что с точки зрения схема у нас теперь сиси вован да там 60 процентов нагрузки на всей этой системе для чего это полезно примеру чем полезность sharding этом sharding и очень часто у нас вылазит блин что вот у нас запросы все везде одинаковые но вот какая-то схема какой-то шар у нас перегружен да там или можно посмотреть вот сервер сервером и так далее да вот например я могу здесь сфокусироваться и посмотреть теперь запросы только на для сервера в майской или четыре вот кликнуть на мирно она запросик и он нам что есть интересного скажет что вот у нас есть запрос вроде бы всего 60 запросов в секунду да там совсем немного и посылает он данным совсем немного немного да там всего вообще каждый запрос посылает среднем 11 срок на что интересно здесь это вот это вот циферка что на каждую строчку которую нам данные посылаются нужно проанализировать 20 тысяч строк да там это одна из но для меня это один из таки очень важных критериев к критериев эффективности да то есть что оно должно быть но там единица может быть десяток для эффективных эффективных запросов вот ладно давайте посмотрим на пример что же нас за пример этого запросу но пример на самом деле запросик то неплохой да вроде делает одна табличка лука по индексу вроде должно быть все хорошо давайте посмотрим explain xp-g нам говорит что на самом деле у нас пол тип это означает full-time скан войску или и должно да там просканировать а куча куча строк каждый раз вот здесь мы можем посмотреть на табличку да там и увидеть что вот у нас есть табличка это этим ван на которой нет совсем ключей дата но теперь понятно да что если кто-то забыл создать индекс на данной конкретной ноги да там или дрогнул его случайно то вот у нас появляются такие такие проблемы ну и кроме непосредственно запросов у нас есть куча другой разной информации данный пример вот можно посмотреть информацию по загрузке системы по информации да там о том какие у нас нагрузка непосредственно на май склеил число запросов и так далее вот многие здесь у нас используют и на дыбе да там с точки зрения и на тебе можно коснуться собственно говоря значительно глубже посмотреть ну очень много операционной статистики да там по и на деви стороны джин если ну что на этом уровне вот еще пара интересных дешвордов которые есть одна из них это процесса да там который мне очень нравится почему часто бывает что но люди на хостах запускают их и нибудь процессы которых там не должно быть дата можете это вас там баков запустился можете к нибудь там злобная java или бетон который жрет дофига памяти не делает ничего ничего полезного вот а все говорят мне почему и рук войска и начал тормозить помощи этого туза мы можем посмотреть что у нас жрет ресурсы так как с точки зрения процессора так например и там использование использования памяти на этом здесь например показывают какие у нас процесс использовали там много резидентной памяти и так далее вот вот и еще наверное в кратко покажу вот кто-нибудь слышит здесь про radiohead про анализа производительности типа request rsd ration нет но скажем так в кругах фанатов обзор mobility это достаточно известный метод для которого я сделал дашборде можно собственно говоря посмотреть именно в рамках этого концерта что у нас происходит да там с точки зрения число запросов входящих да там потому что есть у нас число запросов друг либо резко возрастает либо резко падает на то часто у нас что-то изменилось в системе число ошибок квиррел intense там и так далее ну вот ладно если вам интересно еще посмотреть на темы мы будем делать дымке у вас у нас на стенде так что приходите посмотреть и вот у меня уже тут человек пришел стоять над душой вот так что давайте мы вернем у слова обратно у нас есть для тебя призы конечно же памятная табличка и саша предстоит такое олечка это худи брендовые ходе с хайло адам да теперь можешь ходить в мерче фонд брендовых уйти от рода и у нас оси будет сессию вопросов-ответов давай пока поставим сюда ребята это гибридная сессии вопрос в ответ у меня есть условно сигнал с техниками если у нас есть вопрос из онлайна вы пожалуйста поднимаете руки и к вам подойдет человек с микрофоном кто готов задать вопрос йоу вот я вижу первую руку еще руки поднимайте сразу спасибо спасибо за доклад у вас был слайд explay man alive а вот у меня такой вопрос что должно пойти не по плану чтобы фактический план выполнения запроса отличался от того чтобы что изначально нам показывала был обычно explain соответственно но на самом деле там очень много разных критериев может быть очень часто бывает что статистика она либо устаревшие просто распределение данных это эстимейт неправильно да то есть например когда вы делаете запрос на там что вот найти все где они знают am a равно 5 что морское дело да там он делал он смотрит в яндекс делать так называемые рэндом days и делает эстимейт насколько сколько у нас реально строчек соответствует этим у а равно 5 да там училась о это всего должна быть у нас одна строчка значит и мы используем этот индекс а если получилось так что он прикинулся там одна строчка там получилось 1000 то можете это индекс такой получился и неэффективный могут быть и другие неправильные вещи например mascot есть как бы но опять как и многих базах данных да там statement on a light который позволяет обновить статистику о как бы среднем распределение данных по индексам если данные устаревший например в этом зале ли кучу новых данных совершенно другим распределением опять-таки optimizer может может принимать неправильные решения ответил опрос если еще вопрос в онлайне чтобы задать вопрос нужно нажать кнопочку и в эфир она рядом с отказаться прикинь я надеюсь мы все это видим у нас от есть еще цифровые кулуары то есть также как обычно есть зона с флипчарт ом для того чтобы обсудить те вопросы которые остались это рядышком залам вот вот в ту сторону и из онлайна вы тоже можете нажать кнопочку цифровые пор и покажите мне если есть вопрос еще есть вопрос супер сейчас опробовать вопросов центра зала а если вы стесняетесь в онлайне выходить в эфир вы напишите в чат я тоже увижу и прочитаю представьтесь и задавайте сергей я здесь с перк он это же петр привет я хотел спросить вот у тебя там 20 слайдов была про разные performance ким и так далее так и тому подобное вот у меня например база есть неужели нет никакой паузы которая как-то суммирует все это и скажет мне чувак в тебя там база лежит у тебя все неправильно потому что вот эти там 20 слайдов это всего руками если просматривать но это время понятием вопрос не очень вопрос понятен ну ты тролль сергей вот нет но на самом деле вот идея и инструментария нашего пивом как раз таки как раз таки в этом да там то что мы движемся в этом направлении я вам показывал какие у нас есть графики что на них есть интересно на самом деле мы сейчас работаем над тем чтобы эту информацию еще предоставлять в виде alert of и от 2 дирам действительно чтобы человеку к у которого ну который может не хочет с этим всем разбираться для него это как бы не не в кайф я вот люблю смотреть на графики да там такая медитация можно сказать но если вам не в кайф то им поможет есть вы просто 2 ряда здравствуйте в ресторанах большое спасибо за интересный доклад с удовольствием посмотрел потому что я действительно пользуюсь давно майские вам вообще у нас есть разные базы не только и москве и у меня вопрос такой вот примем это для москве для каких и чувства вот это небольшое в топике я понимаю что немножко не в тему для каких-то бы да еще у вас есть подобные вещи как days хорошо bros вопрос как я понял какие еще базы данных поддерживает пима вот то есть мой доклад про майской поэтому я вам показывал пмм у нас для морской также нас поддерживается по сгрыз и mongo db на данном этапе даже если вам интересно 5 очередного ребята на стенде покажут как это работает что еще здесь классно то что имеем это открытый продукты в принципе мы надеемся что если кому интересно добавить какие-то другие базы данных то люди это напишут да там и мыса доволен с удовольствием примем таких интервью шанс может у нас руки дойдут когда-нибудь о самих друзья у нас осталось время на два вопроса один уже есть и поднимите руку если вы хотите задать свой вопрос кстати говоря ты же помнишь да что вручать тебе предстоит приз за лучший еще один присест ты будешь вручать приз за лучшего продавали нелепая просьба laquetta книжечками и забрали да сейчас все сделаем на него до представьтесь пожалуйста и задавайте до добрый день меня зовут роман спасибо за доклад было очень интересно я как раз попьем ему хотел узнать он только для 8 версию вас разрабатывается или более старый мускул 5 6 5 7 тоже поддерживает так я что то не очень раз слышала вопрос by мы им работает на более старым майские ли чем 8000 работает он с 5 6 5 7 лет майский 5 6 или 5 сиверса искать 56 и дома сколько часть работает ну кстати по май сколько часть как вы может быть знаете он теперь у нас уже закончился end of life так что надо обновляться не всегда возможно супер не появилось больше рук поэтому приск тебя идет между от вопросы придурки понравился ну что так кто там вот на что вот мне кажется был хороший вопрос у молодого человека желтым воротником и с бородой вот он наверное сейчас найдет вот про а просто почему же optimizer может купить хороший вопрос суд вот так что мы вам супер поздравляем участников подходите получите ваш приз вручат спасибо дроны ребята несколько минут пробудет ещё в цифровых кулуаров но они есть и в реальной жизни и с травой на тот случай если кто-то захочет тебе дано конечно если правильно понимаю ты все это время здесь у вас есть стенд я здесь какое-то отлично спасибо огромное"
}
{
  "video_id": "DIhrl3kqM4k",
  "channel": "HighLoadChannel",
  "title": "Как мы учились управлять миллионами учетных записей и их секретами / Дмитрий Чехлыстов (Сбер)",
  "views": 765,
  "duration": 2410,
  "published": "2024-12-25T05:39:00-08:00",
  "text": "Здравствуйте Меня зовут Дмитрий Я работаю в Сбере Вот и сегодня мы поговорим как раз вот на эту тему как мы учились управлять учётными записями объединили IG пам и значит Ну что нас во-первых привело к этому всему сначала нас безопасность заставила внедрить пам вот мы соответственно его сделали учётки добавляли руками 200 серверов в сутки у нас туда-сюда значит ходило всё это как бы было неудобно но держали там какую-то нагрузку 88.000 сессий на инсталляцию Ну при условии того что у нас где-то 2.000 информационных систем или автоматизированных систем там 88.000 команд Значит потом соответственно внедряли во э там было всё очень просто задача была а убрать секреты из конфигов kubernetes там были проблемы соответственно с безопасностью в опен шифте секретов Ну в общем убрали соответственно как бы что аэ нужно на каждый движок аутентификатор давать свой доступ соответственно на каждый аутентификатор получается свою своя политика 10 инсталляций миллион политик значит соответственно нужно как-то это А автоматизировать а потом появилась задача обеспечить проверку прав на 300.000 серверов и соответственно в суд там ещё 40.000 где-то с убд Ну вот решили то что по пора внедрять hja заниматься рол майнингом немножечко про экскурс такой в скажем так теорию я не буду здесь заострять внимание Если кто-то хочет может почитать им - это дисциплина изначально про предоставление доступа То есть кому Куда и как Вот соответственно не буду здесь останавливаться скажу что у нас есть три типа в этой дисциплине это клиент ident Да это про систему идентификации клиента это типа ну там Google a какой-нибудь например да Дальше у нас есть workforce и соответственно машин А многие как бы выделяют машин Но на самом деле машин мы считаем то что является частью кфр са значит вот у нас есть наши учётные записи есть которые не принадлежат организации есть которые принадлежат организации и соответственно это доступ людей к приложениям и к чему-то ещё дальше у нас появляются привилегированные аккаунты это аккаунты в инфраструктуре личные привилегированные встроенные аккаунт и какие-то шае аккаунты и вот дальше доступ приложений соответственно там сервисные аккаунты захард кожанные аккаунты аккаунты доступа приложения друг другу RP И devops значит вот мы как раз выделяем из этого значит чит наши привилегированные аккаунты и технологические там у нас получается что мы как раз их так и назвали и Сейчас я расскажу про отличия Да вот они эти технологические привилегированные учётки имеют свой жизненный цикл они они связаны обычно с приложениями или с оборудованием То есть фактически когда человек ответственный за эту учётку увольняется Да нельзя ничего с этой учётной записью делать её нужно оставлять и на кого-то Переводить Да ну совершенно другой подход чем к пользовательскому доступу вот ну это разные тип аутентификации соответственно это локальные некие учётные записи вне централизованных каталогах то есть на них нужно реально ходить на какое-то оборудование чем-то управлять Ну и их много значит вернусь на слайд если кто-то заинтересовался как вот яам как дисциплина или кто-то начинающий это вот может по QR коду пройти там есть статей который в которой кажется плюс-минус это всё А рассказывается про пам значит как мы внедряли пам И вообще что это такое и как это работает ну вот у нас есть некое решение туда загружается каталог устройств а соответственно какие-то alab каталоги пользователь приходит устанавливает сессию к устройствам неким Да соответственно всё на всё это навешивается двухфакторка И всякие логи видеозапись следы для аудита возможно поведенческий контроль статистика значит ну история пама пам - это менеджер пароли в целом Да потом мы до него доктир которые умеют ходить на конечное оборудование и там менять соответственно пароли Ну и дальше как бы пошли в современную историю мы берём приложение и соответственно как бы человек туда доступ получает совершенно просто не заморачиваюсь со вводом никаких Логинов паролей значит здесь у нас решение какие есть на рынке многие тут уже как бы недоступны но тем не менее есть кстати которые вы скорее всего не видели но они доступны значит как мы вообще вот выбирали что надо смотреть значит ну провайдер аутентификации ротацию генерацию событий аудита Ну и на функции High avab я тут сравнил значит cyberark boundary и Jump Server Ну boundary как бы если у вас есть доступ к Enterprise Это великолепно тогда можете его там брать и ставить значит дальше рекомендую очень обратить внимание на Jump Север тут вот новое какое-то китайское решение кажется что очень перспективное ну и не забываем про лепор есть статьи Соответственно по конфигурации телепорта вот ну и B тоже как бы добавил А что у нас э в Сбере используется Ну движки на экране Я думаю читать я их не буду а скажу что у нас какая Какие отличия мы делаем Just in Time Access Ну по крайней мере стараемся но пока не можем обойти все сервера для того чтобы там либо учётки разблокировать либо права навесить иногда их бывает что очень много Ну и поэтому мы делаем проверку на наличие тикета Ну в itm системе на какие-то работы на каких-то там устройствах и люди что эти работы должны выполнять вот ну и про консоли скажу тоже важную историю то что если эта консоль какая-то нестандартная то очень тяжело как бы написать все поддержку всего поэтому консоли у нас чаще всего это браузерная консоли которая поддерживает инъекцию да секретов в в этот самый в браузер Да ну и соответственно бы важная история у нас сейчас IG отправляет учётки в пам значит в паме Они лежат в каталоге Вот и запомните что каталог - это роль мы дальше об этом поговорим и я расскажу что же это нам даёт соответственно каталог у нас связан с группой доступа впе и дальше учётная запись пользователя включается в группу Ну пользователь подключается из каталога выбирает учётку с помощью которой ему надо куда-то подключиться ну и соответственно подключается на соответствующий ресурс а теперь к лту быстренько перейдём волт - всё очень просто то же самое что и пам Но есть одно отличие в качестве клиента в основном у нас выступают машины соответственно всё это должно быстро и надёжно работать а схема работы точно такая же вот у нас есть машина какая-то Да она соответственно получает с помощью аутентификации доступ э к энжи нам Да на базе политик которые настроены Ну и запрашивает приложение вот собственно говоря вот у нас приходит там админ конфигурируется включает движок конфигурируется движок создаёт роли политику Да дальше в приложение там что-то добавляет какой-то аутентификатор приложение запрашивает набор секретов возвращает подключается в данном случае я например базу данных взял вот всё это как бы можно сделать регулярно обновляемым при соответственно достижении тля Вот Но в чём проблема в волте есть политики Да и если ты даёшь Права на управление полити то фактически человек этот имеющий права может сделать ВС что угодно и это никак нельзя поделить на какие-то области то есть в этой политики в этой области ты политики редактирует гой уже нет политики - это всё соответственно либо Нам нужен какой-то доверенный админ Либо селф сервис давайте мы поговорим о том как выбирать Ну вообще кто знает что такое Во много рук замечательно использует больше смотрите удивительно да Вот ну смотрите значит в двадцать втором году вообще конкурентов не было в алту вот особенно в Enterprise версии недостатки коммьюнити Ну вы сами знаете есть там проблемы с Disaster Recovery с peron с Ликей и немножечко Sky availability потом поговорим значит есть ещё конр Сай берковский не рассматриваем очень плохо потому что купили когда cyberark соответственно встроили всё от от классического пама получили кучу проблем там медленный поиск не больше 88.000 в одном катало Ну и там сопутствующее вот появился новый проект как раз готовился конференции увидел вот этот соответственно проект можно посмотреть платная версия очень походит на но бесплатные имеют отличия значит вот про comity Edition как раз хочу и рассказать значит в ЛБ с соответственно мастер переходит на слей Вот это та проблема которая не решена и нету встроенного балансировщика то есть нужно какой-то внешний повесить для того чтобы он как бы между мастером и слейм мог как бы распределять запросы Ну там про Disaster Recovery даже говорить не могу соответственно есть проблемы с performance R нодами они только есть тоже в Enterprise версии Вот Но зато есть все движки из коробки то есть там что где надо прокрутить секрет всё пожалуйста Бери пользуйся значит по inicial ситуация ровно противоположная соответственно э есть соответственно механизмы High bity но нету никаких движков даже кв2 нету ну кв2 наверное Многие знают что это просто как бы версионирование pki переделали немножечко сейчас он получает у нас серд с внешнего сервиса Ну внешнего по отношению к лту потому что Для нас это внутренней УЦ Вот И там добавлен метод фека для того чтобы не перезаправка А если он как бы его не достигло какого-то тла да то соответственно возвращался существующий вот движок AD доработан для того чтобы по одному пути возвращать два секрета Ну то есть условно говоря Вы пользуетесь одной учёткой одну учётку надо протирочный систем экземпляров автоматизированных систем ну и соответственно порешали вопросы с с сделали соответственно распаковку сразу вот и соответственно поставили балансировщик хардвар нае перед этим А по соответственно performance нодом аэ запас производительности проверили он есть Циферки будут в конце вот э о чём бы хотелось поговорить но к сожалению тайминг очень жёсткий не успеем абсолютно расскажу просто Вот про эту схему значит э её не буду описывать она есть детально значит чуть дальше у меня на слайдах даже со ссылкой значит в чём прелесть вообще лта для курнев Значит у нас есть возможность инжектить секреты на литу при их изменении в волте и соответственно когда вот вы Представьте вы себе подняли под какой-то да для обслуживания клиентского трафика там должен появиться сертификат допустим да какой-нибудь серверный вот этот серверный сертификат Ну можно конечно его на 10 лет положить но потом через 10 лет вообще никто не вспомнит как его менять а можно сделать авторотации на волте и соответственно вот этим сайд каром инжектить сертификат Каждый раз при старте лта или соответственно при том когда этот сертификат подменяется тем самым вы обеспечиваете прозрачную ротацию сертификатов Ну и не только сертификатов А чего вам вообще нужно вот на соответственно ЛТЕ А есть вебинар хаши корповские и есть соответственно статья наха переведённая как это использовать рекомендую как бы почитать тут не надо стесняться вот что мы ещё используем соответственно в у себя Ну классическая история мы инжектит при плой приложения то есть есть две Али одна умеет только сбрасывать пароль от другой вторая имеет доступ к секретам соответственно при деплой сбрасываем пароль отправляем в приложение приложение дальше роет секрет от этой пароли Секрет Никто не знает соответственно он Остаётся только там если кто-то сбросил токен Не дай Бог у нас всё встанет значит соответственно будет возможность разобраться что же произошло Ну надо не забывать что как бы не надо аы кому как бы сбрасывать токены Да вот и теперь наверное к самому интересному перейдём как мы соответственно всё это связывали значит IG У нас есть каталог устройств Да это cmdb мы поговорим чуть позже о ней соответственно как у нас AG обрабатывает вот события создания ресурса создания сервера оно соответственно a в механизм обработки попадает значит вот этот событие создания ресурса мы идём в каталог ролей в ролях соответственно смотрим если у нас какие-то настройки хранения например в паме учёта хранения в секма там какие-то параметры путь к движку и так далее соответственно дальше если находит подбирает роль создаёт учётку учётка записывается в каталог по в каталоге значит возникает вот этот вот процесс соответственно определяются параметры роли и дальше как бы происходит самое замечательные действия то есть мы идём в пам се в во точнее Да и как бы там соответственно Всё настраиваем если учётка у нас уже развернулась Ну такое бывает из образа да то как бы нам эту схему не меняет мы просто в реализовали то что зайди посмотри Проверь если нет что-то там не хватает донь либо убери соответственно Ну и дальше как бы по кейсу идём вперёд значит IG Да роль вот мы как бы возвращались возвращаемся чуть-чуть назад вспоминаем про каталог в пами что он равен роли значит вот эта роль это есть на самом деле права правила распространения на ресурсы и параметры учётный записи некие да Или параметры роли Как Вам угодно чит вот эта роль может возможность распространить кучу учётных записей на каких-то ресурсах Ну вот ещё раз тот же механизм в профиль Да у нас есть механизм расчёта ролей мы соответственно взяли там посчитали правила распространения попробовали применить к серверу да или там выбрали все которые применяются к серверу Вот и соответственно это всё туда закинуло роль решает у нас проблему объединения кучи учётных записей в одну Ну например у нас есть сопровождение операционной системы они у них там На всех серверах блин есть Э ротовая учётка да там а соответственно и им надо её как-то там раскатывать и обеспечивать Да и там проверять на то что например Ну вот руд там нельзя а другая есть учётка которую Например можно да там э соответственно реконсиляция с учёт с учётка в паме для этого всего нужно вести естественно определённым образом configuration Management Да itsm - это как бы кусок itm процесса Я вот тут вам просто как бы для примера привёл как это мы делаем да у нас есть автоматизированная система есть экземпляр автоматизированной системы Это что-то нечто там ну де какой-то да мы контуры а контуры обозначим да как что это за экземпляр где он работает вот соотвественно внутри есть сервера Да сервера соответственно связаны у нас с некими сущностями я их называю экземплярами технологического стека соответственно экземпляры технологических стеков связаны с самими тех стека это отдельная карточка Вот И там соответственно есть в тех стека ответственные Да которые из тех стеков по связи перетекают в экземпляр нашего технологического стека для того чтобы обеспечить доступ к управлению автомати сист мы уже дальше берм лезем в Application там у нас есть связь Автоматизированная системы с командой соответственно команда - это некие там структура Да Кадровая где там в одно место набивают людей вот а это команды и связь команд команд сделана см там Всё достаточно просто есть сотрудники которые в команде стт вот мы ВС это транслировали и дальше можем управлять экземплярами а или полностью а там в зависимости значит про cmdb есть ссылки отдельные рекомендую очень посмотреть на се вот пожалуй топовая сейчас компания которая делает вообще itm жалко нам тут недоступно но тем не менее как бы рекомендую вот присмотреться именно к их модели теперь собственно говоря как это всё у нас в работает да мы из cmdb тащим экземпляры А и технологические стеки изв пользователей всё это превращается в в в же да в учётные карточки Они же ident ident учётных карточек экземпляров связываются с пользователями Для обеспечения доступа пользователей к этой карточке соответственно на карточку назначены роли соответственно роли у нас связаны с ресурсами ресурсы у нас появляются из тех же экземпляров э технологического стека и ресурса как в некой компиляции Ну и получаются учётные записи с параметрами а соответственно раз мы делаем роли мы их Отдали на селф сервис Зачем нам как бы самим делать роли пожалуйста вот приходи там есть какие-то набор параметров заказывай значит здесь схема согласования нашей роли была я её не буду подробно разбирать Наверное если кто-то хочет сфотографировать но она уже претерпела большие изменения в связи с теми правами которые выдаются в зависимости от выдаваемых прав периодически разные согласующие бывают значит вот AG мы используем соответственно для создания учётки назначения прав отправки учётки в пам в Volt создание аутентификатора в политик для волт предоставление согласования доступа к лту к паму соответственно и обработку всяческих ресурсов То есть это перемещение их там изменение атрибутов каких-то ну и соответственно Нужно же всё ещё деактивировать и выводить Вот соответственно сервера удаляются удаляем учётки деактивировать соответственно решаем тем самым управление Валта давая селф сервис на управление валто у Адема есть учётка соответственно мастер которая управляет политиками и соответственно в аме уже есть как бы интерфейс разделения на вот эти экземпляры S каждый в свою область может что-то поделать проверяет димом дальше соотве стно идёт здесь ещё есть куча историй про всякие сертификаты и так далее если кого-то заинтересует мы потом дальше поговорим отдельно уже как бы наверное оффлайн потому что тайминг у нас ещё раз повторюсь очень сжатый значит Ну вот что у нас по решениям из аев или димов Значит у нас в двадцать втором году всё очень плохо стало внезапно Да у нас всё ушло а соответственно Ну остались российские и бесплатные вот мы как бы из этого всего выбрали и сотрудничаем с Ван постом ну здесь немножечко про сравнение сейчас скажу этих димов здесь вот российские я привёл пример сравнения вот да простят меня коллеги Вот кто это видит но э информация скажем так актуальна была на Д второй год вот сейчас она немножечко устарела но в целом можно где-то проследить наверное какие-то штуки Вот соответственно На что обращать внимание при вообще вот выборе соответственно ама возможность создания кастомных ident да то есть для любой сущности либо экземпляра аэ возможность ролью создавать учёт уникальную учётную запись в ресурсе Ну то есть не просто как бы у нас есть НТИ на неё наве учётка а именно роль создаёт учётные записи в одном или множестве ресурсов такое вообще как бы не каждые не каждое решение себе позволяет вот возможность наследования прав Это используется у нас для Валта там как бы есть политики Да которые нужно на наследовать да и просто там свои атрибуты применить это атрибутный роли Я здесь об этом забыл упомянуть но однако упоминаю вам вот так сказать с голоса а возможность синхронизации ролей с ресурсов и кастомизация селф сервис портала А как у нас построена архитектура IG Ну вот у нас есть два цода соответственно там есть по кластеру курнев cuates кластере запущено 30 подов вот этого нашего IG решение специальные поды пере перекладки вот этих ресурсов из cmdb соответственно для того чтобы транслировать это правильно в idm соответственно idm для управления подключается по https через специальные значит наши шлюзы Security Да конек конектор серверам А дальше конектор сервера уже по протоколам управляемых систем заходят туда куда нужно и делают там что нужно вот а значит здесь как бы наверное вы Спросите зачем эти всякие секюрити ГВ Ну вот здесь нам не дали как бы в слайде изобразить сетевые зоны которых у нас достаточно много И вот конектор сервера они находятся как раз в сетевых зонах целевых и между вот этим нашим решением и сетевой зоной в которой у нас стоит конектор сервер у нас и стоит вот этот шлюз который нам обеспечивает возможность подключения вот здесь уже архитектура немножечко более логическая Да это у нас про то что у нас есть потребители сервиса которые подключается в в в в IG наш соответственно IG управляет всякими ресурсами Да и соответственно в у нас приходит данные об автоматизированных системах кадровые данные данные с cdb соответственно и отгружаем мы е на мобильный портал согласования для того чтобы можно было это удобно с мобилки руководителю какому большому Вот и соответственно кастомные какие-то заявок мы попытались перевести Lin на централизованную аутентификацию случае Плохо она во-первых не держит во-вторых упала и когда она упала нужно было руками восстанавливать доступ в общем готовить её в целом как бы под такие объёмы кажется что никто не умеет отказались но в есть плюс там есть ЖК соответственно модель Вот и можно как бы в самой ипе прям прописывать как бы сервера на которые ты получаешь чётками доступ вот можно сделать тоже самое через Ну раз не держит такого Да там таких объёмов да давайте к AD подключим к обычному Вот ну как бы хорошо но надо всё равно группами управлять на конечных серверах то есть всё равно придётся заходить на конечный сервер для предоставления какой-то команде там выделения каких-то ресурсов в пул сборке Да и предоставление доступа есть локальная Значит у нас есть у нас подписанные ключи Либо мы можем подписа подписные ключи через ssh CF туда в грузить то есть будет вообще только по подписных ключам аутентификация соответственно для Любой учётки но там есть проблема в разграничении лта и мы тоже так не стали и есть соответственно индивидуальные ключи в если подложить в акей соответственно это всё idm подкладывает э при создании учётной записи А может локальный ключ подложить может подписной ключ подложить для лта соответственно Ну и права А судо управляется Да забыл кстати важная история почему же как бы Что за правами на линуксе управляем но минимизация прав судол запрещён для всех почти поэтому как бы командам приходится строить свои права на на каждый сервис если им чем-то надо управлять вот естественно не каждая команда сейчас использует контейнеризации для запуска вот Ну какие преимущества и недостатки этого всего Да ну всё в одном месте Это как плюс так и минус потому что чается централизованный учёт заказ распространение И всё-всё-всё что вам нужно вот и соответственно получаете то что этот сервис должен кто-то разрабатывать Ну и сервис соответственно Поскольку имеет доступ на создание привилегии создание пользователей то если вы пользователь как бы этот сервис кто-то там умудриться как-то подловить то возможно он получит доступ ко всему ну здесь надо как бы задуматься О обеспечении безопасности этого сервера например там очень плотно следит кибербезопасность Вот И там Практически каждое ручное действия которые не происходят через автоматизацию нас это берут и больно как бы спрашивают чем же вы там руками занимаетесь Вот Но пока К сожалению приходится заниматься потому что все кейсы в там 8000 командах объять с ходу невозможно просто вот почему я вообще прил на кажется что мы сделали достаточно большой сервис для большого количества ресурсов для большого количества политик лта для большого количества учётных записей для большого количества ролей Вот и получили примерную скорость разливки если у нас создаётся новая учётная запись на все ресурсы Ну вот на 300.000 мы там в целом как бы за 3 часа справляемся для того для того чтобы на каждый ресурс зайти создать учётку разлить права разлить ключи там что надо ещ и соответственно пользователю там в конечном счёте выдать Вот твоя там учётная запись вот твой ключ как бы Иди и Подключайся вот по значит лту по лту всё очень просто запускались синтетические тесты профиль нагрузки вот на экране есть я не знаю насколько тут хорошо видно значит ну где-то 6.000 секретов с профилем нагрузки с одного экземпляра лта который где-то на виртуалке соотве цпу 128 гигов оперативки соответственно в качестве бэнда Паря в такой же конфигурации Ну с репликации в патроне вот дальше соответственно очень дискуссионный вопрос Если вам что-то нужно подобное делать нуно во-первых Вам нужно организовать ут конфигураций в любом случае вот сервера адреса подключений что там располагается и так далее и так далее Вот это всё нужно куда-то положить соответственно модель не нужно делать сложной Если вы как бы делаете Ну там в небольшой Это это компании не надо сложных связей там каких-то гигантских потом вы всё это не Вычислите никогда Вот соответственно А вот эту модель которую вы реализовали её нужно проверять сразу то есть до того как вы положили хотя бы туда хоть один ресурс вообще в эту модель проверяйте конфигурацию Если будут ошибки потом опять же никогда не выправить Вот потому что очень много а интегрируйте скрипты развёртывания соответственно с этой базой для того чтобы сразу пушить это всё ну или Заставьте команды которые разворачивают эту базу наполнять вот э Ну и автоматизируйте всякие проверки Да а соответственно Если вам нужен волт для курнев Да если сервисы неважные берём просто ставим как бы и э соответственно используем и дальше вам нужно смотреть на то как вы часто ратиев если часто ратиев да Для того чтобы переключение High availability сделать вот если соответственно там ещё как бы будете развивать там standby а соответственно performance ноды и так далее Всё это делается если сервис не критичен можно брать ставить Ну и там решать например вопрос с теми же а репликации базы там или как-то с этими самыми с распаковка придумывать Да на ходу Вот Обязательно всё автоматизируйте через скрипты развёртывания потом если не дай Бог руками будете создавать аутентификатор политики ещё что-то потом никогда это не соберёте в какой-то Единый встроенный механизм либо Ну переход будет достаточно тяжёлым вот выделяйте на и спейсы для команд Или там Если у вас одна команда Вы можете вообще одни М это тоже как бы вариант вот ну и в развитие красивого фронта для соответственно заказа пользователями того что они как бы должны там у себя заказывать Вот интегрируйте это всё cdb с джабами значит про пам про пам ничего не расскажу просто стандартизировать учётки только соответственно скриптами автоматизации вот собственно говоря Там ничего особо сложного просто смотрите на объём сессий который должен держаться вот если вам нужно что-то наподобие наших ролей то как бы развитие только одно Либо вы идёте в A решение Либо вы пишете собственный какой-то портал вот Ну соответственно если что-то сделали до этого то используем наработки вот как роли распространяются я вам рассказал У вас наверное возможно будет свой какой-то подход нуно и если IG внедряет ветственно надо принять решение писать самим или использовать что-то готовое все значит всю информацию Я выдал вам о том какие у нас они бывают в России там да что можно использовать если будете писать Сами можете за основу брать мидпо и дорабатывать там есть проблема во всех бесплатных практически история про создание динамических вот этих ролей но есть два способа как их можно обойти Об этом можно со мной подискутировать после на этом У меня всё готе за мой доклад Спасибо большое Благодарю тебя за доклад поднимайте руки у кого есть вопросы так вот я вижу здесь вопросик Давайте вот сюда так вот вижу вот там вопросик вот туда второй микрофончик пожалуйста в серд там тоже вижу но попозже чуть-чуть Итак Пожалуйста микрофон кто вы откуда и вопрос привет Дмитрий СМИ СБО за из ком ВС как друг с другом взаимодействует А расскажи пожалуйста а как ну то есть это довольно большой сложный Фло как что всё куда доезжает каким образом вы следите за тем что по дороге где-то что-то не сломалось и как как как вы это регулируется и как это чините если что-то не так работает ну смотрите два способа как бы как это ВС мониторить Первое это очередность узе очереди событий которые происходят соответственно обработку пишем если Ну соответственно в есть там некий бпмн движок bpmn схемы когда мы идём там по какому-то workflow workflow падает у нас соответственно мониторинг события Мы все знаем какие workflow у нас упали соответственно Разбираем стараемся разбирать до того как клиент к нам приходит соответственно Ну и получается как бы ну более-менее уже теперь получается в начале было конечно тяжело пока мониторинга не было строили вот короче помогло Вот как раз именно мониторинг вокруг бпм схемы Да дада да вокруг всех очередей и так далее Всё понял спасибо Так отличный вопрос так Давайте следующий вопрос здесь и потом вот там молодой человек вот в белой футболке вот ему микрофончик Дмитрий Спасибо за доклад очень интересный был такой вопрос Если я правильно понял вы Извините как вас зовут И из какой компании Миха компания итм вы полностью работаете рово моде правильно не думали переходить на атрибути с полиси И второй вопрос Как вы работаете с техническими учётка собственно класный вопрос и Видимо у меня доклад был плохой потому что на самом деле я и пытался ответить вам на эти вопросы значит по поводу атрибутивных политик для полиси семана В смысле Валта используем их используем пото в родительской ро Да а конкретная роль уже атрибут соответственно доки дытям ролей у нас Я не знаю там порядка пятидесяти На текущий момент да неких стандартных для доступа к лту Вот Но как вы понимаете политик и атрибутивных ролей которые генер из вот этих родительских их гораздо больше Вот про атрибутивные ответил и ещё вторая часть вопроса была про давайте сейчас мы микрофончик ещё дадим а я прошу прощения Наверное плохо сформулировал полиси не те которые наследуемые а те полиси которые применяются на конкретных а системах уже То есть например как бы я не знаю там Рабочая сессия с девяти до 18 да то есть в 18:00 мы сессию рубим Несмотря на то что как бы она текущая и живая то есть полиси именно применяемые на клиентских сервисах не те которые на уровне волта Вот спасибо понял вас Да ну смотрите тут Ээ как бы пока до этого не дошли но я говорил про Just in Time Access вот в паме мы стараемся в эту сторону но Давайте Так мы поскольку немножко работаем с привилегированными пользователями и для того чтобы стать администратором чего-то нужно пройти там определённый путь да то э и доступ должен быть круглосуточно да В любом случае если у тебя упало что-то Ты должен пойти это и чинить то вот этих э политик с 900 до 18 доступ и Just а технологические учётки Ну вот технологические учётки как я говорил мы привязываем к экземпляра вот этих вот автоматизированных систем тем самых тем самым обеспечивая их жизненный цикл в соответствии с этими экземплярами да если вы вот про это вопрос задавали Спасибо большое вот там молодой человек ещё вот в белой футболочке дмитри Спасибо большое за доклад Меня зовут ений изва такой вопрос том что позволяет хранить секрет В принципе всех приложений как раз-таки вот но самому приложению необходимо доставать эти секреты из волта и где хранится непосредственно секрет для доступа к этому лту А вот тут как бы смотрите если мы говорим про кубернетес да то там есть механизм аутентификации кубер там вот эта вот схем которую я показывал с ином она как раз тоже в том числе отвечает на вопросы Как это работает там есть мастер сервин который настраивается на кластере самого кубер Да и дальше когда какой-то проект идёт он говорит то что я вот проект такой-то Да у меня там есть у меня там политика нет какая-то да для доступа к каким-то секретам л смотрит Ага так есть такая политика для такого ней спейса проверяет что токен на самом кубер что токен выпущен этим кластером что действительно для этого и дальше пускает ству приложение Если как бы дальше у нас разговор с вами пойдёт о каких-то там хардвар нах историй Там и так далее там всё сложнее и я думаю то что это надо будет обсуждать отдельно потому что у нас есть ещё наша безопасность замечательное да Если вы применительно к сберу это относите то там надо будет с безопасностью ещё отдельно об этом разговаривать кто Как и почему не должен иметь доступ А ещё маленький вопросик можно просто на ди и вы говорили о том что очень много клиентов в ЛТЕ как раз-таки А какая у него доступность и в целом не случится ли Так что он в целом ляжет и все банковские приложения встанут Ну вероятность Такая существует Хороший вопрос Хороший вопрос спасибо спасибо за вопрос вероятность Такая существует Вот поэтому я очень много говорил про hity когда разговаривал про комьюнити версию Валта вот Ну в целом я вам скажу то что если не брать какие-то там единичные аварии связанные с импортозамещения которое идёт ближайшей в ближайший год да то в целом там Надёжность пять девяток Спасибо большое за вопросы Давайте поблагодарим нашего докладчика Спасибо ещё раз а и тебе нужно выбрать вопрос который больше всего понравился из текущих пря Я не знаю я прямо аффилирован тут звук тут девайсы как бы и вот Михаил да который давайте наверное мы ребят Без обид Мне кажется что всё-таки лучший вопрос был ребят из звука Но вот дадим вот Давайте тогда сюда а ну хорошо а подождите звук звук это да здесь Здесь всё всё да да я чуть не перепутал Да всё О'кей Да подарочек сюда и у нас есть подарок тебе от организаторов Давайте поблагодарим нашего докладчика Спасибо большое Да мы сейчас его разоблачил В смысле сни микрофон и можно будет попытать в дискуссионной зоне Спасибо вам большое спасибо тебе что подготовился и до скорых встреч В этом зале Спасибо вам"
}
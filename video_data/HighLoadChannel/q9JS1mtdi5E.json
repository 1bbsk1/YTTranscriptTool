{
  "video_id": "q9JS1mtdi5E",
  "channel": "HighLoadChannel",
  "title": "DevOps в Enterprise и финансах. Есть ли жизнь на Марсе / Артем Каличкин (ЦФТ)",
  "views": 749,
  "duration": 2495,
  "published": "2017-07-30T00:47:36-07:00",
  "text": "друзья мы начинаем следующий доклад прям я лично мега рекомендую потому что это путь devops энтерпрайзе я как бы не единственный мне известный успешные наверное вот но и на самом деле много много опыта много не очевидных вещей артемка алешкин из компании цфт центр финансовых технологий расскажет как быть гибкими ну совершенно спартанских и не гибких условиях поприветствуем артёма спасибо саше за объявление постараюсь оправдать такое представление ну всем привет меня зовут артем колючкин как саша уже сказал я работаю в компании центр финансовых технологий которая является но занимает лидирующие позиции по производству разработке программного обеспечения для банковского и финансового сектора в принципе в структуре вот производства компании есть две как бы части на одной чаше весов у нас разработка собственно банковского программного обеспечения это автоматизация деятельности банка управление счетами в том числе управление клиентскими щитами коры банкинг это собственно некая коробка которая кастомизируют а под банк и устанавливается на мощностях банка на другой чаше весов у нас пул так называемых процессинговых сервисов что это такое это разработанные нами продукты для конечного потребителя для физика значит ну какие известные здесь можно привести но я надеюсь что известные транспортная карта у нас во многих регионах появилась недавно в московской области под названием стрелка как бы мы являемся техническим провайдером этого решения федеральной система город для погашению для приема платежей это от коммунальных платежей до погашения кредитов дистанционное банковское обслуживание фактура вот как бы собственно сервису которую я непосредственно работаю до я не сказал я занимаю должность директора по сопровождению эксплуатации но в общем к теме сегодня этой конференции отношусь непосредственно значит эта золотая корона денежные переводы сервис он третий в мире по обороту и в общем-то сервисы которые крутятся вокруг продуктов карт mastercard который получает можно получить торговой сети без открытия банковского счета ну наверное самый известный среди них это кукуруза компании евросеть этого тоже как бы наш продукт наше решение все что на нем крутится зачем я вообще про все это рассказываю смысл этих продуктов особенностях с точки зрения эксплуатации сопровождения заключается в том что вот эти процессинга вы и сервисы мы обеспечим для них полный цикл мы их разрабатываем в общем придумываем идею разрабатываем мы же у себя на своих мощностях на своих дата-центрах их размещаем и собственно обеспечиваем все операционную эксплуатацию и сопровождения вот и как бы как выглядит вот эта штука которую я назвал эксплуатации сопровождения вот в таком в секторе финансовым да у нас выглядит вот так в реальности это вот но эта наша реальность это наша жизнь значит что здесь конкретно что конкретно это жесткое разделение сегментов продакшен как бы от производственной среды это отсутствие полная каких-либо доступов включая логе то есть мы там специально через некий там условный дмз передаем логе для разработчиков это только для избранных то есть абсолютно сегмент продакшна нет закрыт для разработки соответственно какие вот этой картинке тактико-технические характеристики значит у нас используется в качестве оборудования которое размещено в наших датацентров это сервера oracle а вы и сервера на архитектуре spark это то есть микс 86 это как бы отдельный как без парковая архитектура соответственно операционная система solaris наверное я не знаю кто знает операционной системы solaris вообще круто круто ништяка я думал что будет все страшнее вот сад соответственно ну как поскольку это финансовые сервисы к счастью физики пользуются этими сервисами в режиме 24 на 7 поэтому как бы и аналогичные требования коб то ему и к работе системы это 24 на 7 и четыре девятки ну круто был если было 5 вот такие требования при этом особенность еще является как бы я могу не относящейся к контексте до контексту данной конференции значит у нас действительно очень много бизнес-логики 90 процентов бизнес-логики написаны на уровне когда я говорю написаны ярко это означает что да это пакеты на пыль узкие алькади который как бы лежат субд oracle значит таким образом реализовано примерно 90 процентов бизнес-логики соответственно как бы какие-то все вот изыски связанные там с простым масштабированием то есть при этом у нас вот эти сервера который значит огромные там здоровые вот и они собственно вертикальные то есть они горизонтальные никак вот это вот все наша особенность как я сказал уже 24 на 7 четыре девятки вот этот код на пыль с келли ну и соответственно мы у нас очень узкое звеном и то есть мы не можем обновлять систему не делая downtime то есть мы должны опустить систему произвести накат обновления после этого ее поднять соответственно поскольку но только в россии мы в афинском россии во всех часовых поясах работаем с мы делаем как мы выбрали окно в которое минимальное количество транзакций клиентских проходят и вот собственно в это окно мы downtime система это окно это с часу ночи до 2 часов ночи по новосибирскому времени вот в это время у нас админок по-настоящему в ночь выходит и как бы котят обновления на бой при этом как бы что-то громковато стала до при этом как бы как они это делают как они это делали нам очень много сил предложили что было уже немножко не так как они это делали значит это портянка такая вордовском документе потом мы пытали потом их на этот на confluence перешли о защитном тоже отдельные были особенности это портянка в которой инструкциями написано что надо сделать значит собственно вот этот значит забэкапить скопировать сюда сюда значит перекопировать залить зайти в конфиг файл выставить такие ты параметры катануть на базу проверить инвалида цию пакетов что ее нет что все хорошо ну то есть вот эта ручная инструкция дистрибутивы соответственно передаются через файловую шару то есть грубо говоря мы выкладываем там веб new new значит чтобы там насчет чтоб точно new забрали как бы они web нею но админ начать среди ночи берет из веб нею прочерк который разработчик забыл удалить когда вы к чему-то там что-то было проблем с до работ с выходкой значит в итоге выкатывается какая-то не то привет промежуточная версия ну то есть понятно что при таком цикле обновление боевой системы без ошибок оно неизбежно вот понятно как я уже тут все не то с ребятами на улице курили обсуждали да я говорю что естественно у нас на вот эти ночные бдения выводится как дежурный ключевой разработчик который все это какую ситуацию страхует если что-то пошло не так с обновлениями в принципе перед ночными работами делается такое условно как драй ран для боевой то есть но ручной такой драй ранда то есть на никому талонам комплексе который соответствует боевого админы делают все вот эти действия по инструкции днем но как только это не production когда полностью ему аналогичный комплекс вот вот такая суровая как бы такая неприглядная картинка с которой мы имеем дело на имели дело на старте и при этом вот мы смотрим на весь окружающий мир мы смотрим значит на стартапы мы смотрим на devops этапы как бы не вот этот вот условно там ваш мир до для нас вот выглядит из нашей среды примерного чем-то вот таким то есть и вот как бы триумф на контрасте то есть наша действительность ваша действительность ну и в целом как бы действительно глядя на это в общем то задумываешься но а зачем вот вот это-то зачем да но ответ на самом деле не так очевиден но тут берите переходить это такой режим ответ к сожалению не так очевиден как хотелось бы я давайте позволю себе небольшой эксперимент с вами психо такой давайте в значит скажите у всех наверняка есть карты mastercard visa микс там уж но поднимите руки у кого нет карты плату ну точно у всех есть вот давайте теперь значит я не буду как перовский гипнотизировать но просто представьте что у всех у вас карточка ваша оно выдано вам банком газ мясо банк вы являетесь клиентом газмяс банка от и значит вы из прессы и из анонса который вам прилетает на почту знаете что значит банк газмяс банк недавно был куплен значит достаточно молодой агрессивной финансовой группой а это парни вот и соответственно банк был переименован в ай да банк и после этого где-то через месяц вы получаете такое по хипстерские открыто и дружелюбно и письмо от банка адресованная вам там написано буквально следующее привет серега мы не знаем что ты часто рубишься как бы в игры по ночам и любишь совершать различные платежные транзакции после 2 часов ночи мы прекрасно понимаем как это стрёмно оказаться в ситуации когда ты не можешь совершить срочно платеж необходимый в какой-нибудь очень напряженный момент или там очень пикантный какой-то момент и ты не можешь провести году свои платежи по этому мы решили как бы пойти тебе навстречу быть в духе времени короче мы все наши процессинговый сервера все сервера с данными о карточных продуктов там как бы всем твоем мы короче в облака на amazon для повышения доступности как бы операционный выносит вот ваши действия на следующий день после вот этого письма кто не заберет как бы вот свои деньги из этого банка а кто заберет свои деньги за то банк все остальные да вот я не знаю почему те кто не заберет видимо как бы в качестве эксперимента вот но в целом как бы смысл то в чем смысл в том что на самом деле мы не должны забывать при том что работая финансах работая в энтерпрайзе мы несем ответственность за ваши персональные данные мы несем ответственность за вашу банковскую тайну мы несем прямую ответственность за эти вещи не просто перед вами клиентами что безусловно самое важное мы несем ответственности перед центробанком перед регуляторами перед международными соответствующими организациями соответственно это просто ну как бы наше желание быть вам угодными это ну как бы просто необходимость мы обязаны соблюдать определю нормы и требования их несоблюдение голове грозит отзывом лицензий там условно у тебя есть требования завершенности платежи от его обязан если эти клиента дал тебе деньги как бы ты обязан выполнить его поручение по дальнейшему процессе рава нею этой денежной суммы соответственно ответ на этот вопрос он не очевиден то есть мы не можем взять и просто вот стать вот такими дан у нас в наш лицензию от зовут просто сразу если мы станем вот такими значит но тем не менее как бы я изначально был убежден проанализировав то и собственно столкнувшись с этими всеми технологиями поизучав вот эти вот все технологии значит я был убежден в том что мы безусловно можем получить для себя полезный профит да мы не сможем сделать целиком все мы не сможем сделать полный там конвейер до в идеале мы не сможем стать как бы ребятами которые легко на bayou экспериментирует пробует что-то там как бы гибко динамично мы все равно в какой-то мере останемся костными достаточно бюрократическими как бы и последовательно строгими но тем не менее я был убежден что мы сможем получить профит и когда с этими идеями значит вот начал их продвигать у себя в компании я столкнулся собственно сопротивлением как я его назвал синдром все или ничего заключается в том что ну мы же все равно не сможем вот полноценно devops использовать чем пытаться или там соответственно ночи вот мы один продукт начнем выносить по-другому и течет толку то все остальное синопа портянки будем выносить там конфигурировать все равно в там грубо говоря вы сейчас не сможете что то есть огромное количество вот этих вот возражений по как вот искрис принципа все или ничего мне действительно это очень наполнила как бы один из постулатов по обучению с храму когда то значит любой практически скрам тренер он доказывает аудиторию что вы либо полностью следуйте скрам у либо у вас скромна вот но действительно в какой-то мере в отношении скрама может это обоснованно силу как бы глубокой де терменировали этого процесса иглу будет сильный взаимосвязи всех элементов но в целом vast во всем остальном но как бы я не согласен с этим подходом ну как бы все можно как ни в чем ни что не является истиной до ничто не является стопроцентным ответом на наши вопросы из всего можно нужно нужно вычленять как бы крупицу здравого смысла и внедрять именно их я пришел к такому мнению и собственно удалось не его в нем убедить коллег что как бы серебряная пуля она существует с моей точки зрения и я считаю что серебряная пуля заключается в том что серебряную пулю необходимо отливать постоянно не нужно непрерывно отливать серебряную пулю вы сами ваш опыт ваш здравый смысл ваши мозги и являются серебряной пули то есть по сути дела о великий от wargaming процесс непрерывного совершенствования это единственная существующий на данный момент времени действенная проверенная серебряная пуля ok этот этап сопротивления я прошел как бы удалось убедить и а идти департамент и как бы наших коллег в том что мы сможем пойти этим путем значит но возникает следующий вопрос ну как бы а рановато перескочил свернусь значит возникает следующий вопрос ну ка кей можем но зачем 20 лет так живем нормально вроде как занимаем лидирующие позиции на рынке все же работает итак клиенты пользуются как бы сервис зачем нам твои изменения зачем нам что-то менять в нашей жизни вот тут я как бы позволю себе некие собственные личные измышлений она достаточно глобальную тему согласен на помидоры на все остальное но как бы я вот как бы анализируя различные как бы вот наши кейс и пришел к такому какому введению то есть вот у нас классическая что там с ним давай весит у нас классическая ситуация значит с проект проектном менеджменте есть у вас качества есть у вас рок есть цена и как бы классический проекте менеджмент вам говорит но друг все три обеспечить невозможно выбери 2 как бы им и их обеспечен за счет того что пострадает третий элемент и так действительно то не долгого времени было было до каких пор было я считаю что до тех пор пока в разработке программного обеспечения все-таки не стал преобладать дух стартапов не стал преобладать бережливого производства потому что техники и подходе бережливого производства пам они нам позволяют перевести как бы этот вопрос эту как бы плоскую делему в другую плоскость добавив одно измерение что это за измерение а это как бы наполненность фичами вашего продукта и собственно позволяют как бы говорить уже на другом языке то есть если мы говорим про бережливое производство про бережливые подходы за по запуску продуктов про mvp про стартап это соответственно не возникает вопрос выберет и выбери 2 из 3 они берут делают все три и как без пряжки еще чересчур сделать надо давайте ему нас руки горят мы еще хотим что еще за счет чего каждый счет того что программное обеспечение это не самолет это не тяжелое машиностроение мы производя программное обеспечение можем и должны поднимать в воздух недостроенные самолеты мы должны поднимать него випе нынче коллеги zeix конференции вернулись из нью-йорка то говорит новый тренд делайте им в пятом веке в принципе тоже наверное как бы обоснованный подход вот и это все нам позволяет вот эти уйти от вот этой дилеммы а это значит что если мы от нее не уйдем то конкуренты наши от нее уйдут и об скачет как бы нас совершенно легко то есть мы пока посидим значит умна по старинке вы носимся значит пастором и варим ну нормально же работает появляются молодые как бы компании которые не знают о том что есть такая дилема они действуют духи или стартапа как бы и делаю все эти три diy нас на каком-то поле на каком-то сегменте обходят да не на всех но постепенно обойдут на всех то что мы не можем сделать сегодня завтра наши конкуренты сделают поэтому это с моей точки зрения основной ответ на вопрос зачем нам меняться мы просто не имеем права если мы хотим оставаться на рынке продолжать предлагать качественные и проверенные временем финансовые услуги мы обязаны менятся сторону технологий бережливого производства сторону технологии devops ну как бы роджер вообще даже не говорю вот ну собственно рано и промокнул но собственно да мы него выбери синюю красную таблетку мы выбрали красную таблетку выпили мы оказались вовсе не в том радужном мире когда решили значит двигаться в сторону devops о котором мечтали и розовые пони как бы о которых мы до ли они оказались кровожадными монстрами которые на нас набросились и мы значит пытались очень долго от них отбиться но вкратце пробегусь с небольшим набором проблем с которыми мы столкнулись в 3 диеза это разгрузка и слабостях гук зачеркнуто вот в силу как бы вот той самой специфики жесткого разделения root на мне снился и не снится никогда то есть мы его никогда в жизни не получим мы через это бились очень долго как бы обосновывали что он и не нам-то нужен он по питу нужен мы же не будем сами ничего делать но как бы ну здесь вот резолюция это окончательное обсуждение не подлежит соответственно дальше solaris причем solaris бы не только не просто solaris solaris 10 сексуальная версия 11 2 последняя у нас соответственно solaris 10 под него собрать продукты но не java вский как бы в принципе любые там какие то вещи это это это отдельный от и боль то есть как бы все зависимости все это докачивать и свинарников собирать компилировать и на пол месяц что le chef компилировали пациент этот поц аляль из под свой вот это было очень долго 3 вопроса вчера но все таки я не согласен с решением у нас долго был вопрос по поводу бинар чины ну то есть мне было очень важная задача мы должны были уйти обязательно от передачи дистрибутива через файловую шару потому что это бездонной как бы бездонный источник ошибок всегда кто-то какие-то артефакты из этой шарани до чистил где-то косяк null неправильно назвал директорию какие бы конвенции не принимали косяки будут поэтому мне принципиально необходимо было чтобы мы из от файловой шары ушли мы в качестве решения выбрали все-таки пакетный менеджер пакетный менеджер мы взяли и песней for ко дну api ясную версия пьес он как бы в 11 solaris есть в 10 мы делали там была у них проект кроссплатформенная пьеса мы от него делали под себя форка собирали под 10 solaris тоже была отдельная свято пляска но тем ни менее дистрибутивы мы передаем через и ps через пакетный менеджер то есть это как бы это путь мы прошли мы им довольны а и без обид я как дикость воспринимаю попытку хранить бинар шину в repository по как но в репозитории как бы то есть в детей то есть но и там это очень странно для меня вот но про момент звучало идея по моему вчера все-таки он не для того стики пакетный менеджер гораздо больше функциональности больше гораздо вопросов решает с точки зрения тех же рецептов там как бы вызовов то есть он это не просто там как бы ну это шире решения то есть я считаю что вы правильным путем здесь пошли заметили такую особенность руби медленно работает на spark архитектуре то с чем мы с ним не делали как мы его не крутили то есть сравнительно с x86 принципе в священных интернетах этой информации находит подтверждение действительно как бы получается что всего архитектурное сальтом как также большое количество слабых процессоров но их очень много и соответственно вот на этой истории как бы рубис не знаю параллелизме токаева не сильная сторона ну то есть в общем код работает как бы медленнее значительно медленнее под чьим под x8 шестую платформу обновление без остановки на текущий момент мы добились во много у нас защита очень большой прогресс но не него всем я расскажу подробнее об этом ну и соответственно рунет рутом и как бы то есть у нас окружение . сейчас это не знаю наверное для вас будет совсем не кости есть нам нужно на и наносить на сервере новый apache мы создаем заявку о том что разверните нам новая по мы сами можем конечно без проблем подойти и развернуть но нельзя мы создаем заявку разверните нам новые стас apache мы неделю ждем когда админов появится время потом они заходят и заводят нам apache еще неделю там заводят пользователям уже забыли завезти в тот момент когда патч поднимали и вот о счастье мы получаем apache когда у нас появляется команды которые приходят извне как бы вливается коновод у нас не надо ребята в томске они сидели и бесились почему им вы не можем объяснить логически себе никак почему apache поднимали нам две недели мы вам тоже не можем видеть но вот как вот и к сожалению это пока остается для меня болью окружении нам готовят вручную от этого тоже очень хочется в перспективе уйти но пока окружении нам готовят вручную но смысл в том что у нас как бы как я сказала у нас восемь это вертикальное масштабирование с горизонтального как такового то есть мы только-только там поступаемся вот и поэтому ну то есть мы не платим там но ты каждый день там у нас нет задача на 50 новых нот катануть типовое как бы окружении но ее просто нет поэтому наверно это не так болезненно для нас вот ну безусловно я чуть позже остановлюсь когда буду рассматривать вопрос команды племенные воины они начались начались вот это мои вот это твое мы в какой-то момент времени проекта этапа проекта докатились до двух как я и называют два брата урода близнеца дев devops oops devops вот у нас два как бы создавалась параллельных как бы конвейера параллельных снега параллельных решения abs как бы обидевшись на все вписал свое fox devops значит девках бы сказала чем ждать мы сами за счет писали свой дев devops вот такая картина тоже приходите приходилось это как-то перехватывать уложить но как мы это решили расскажу потом позже ну и собственно но я принципе на конференции тоже не услышал какого-то очевидного понятно вот там-то лучей на как бы от начала до конца что используют наверное не существует этого ответа мы пока для себя не определились то есть у нас действительно есть некая то вопрос о том чем делать оркестровку потому что ну enterprise знаете chef энтерпрайза нам не подходит вот его как бы ну паппет да в принципе как вариант ну по пятам коллектив этот один из рассматриваем сейчас вариант тогда на папик надо приходить у нас часть продуктов я тоже расскажу на попить и по пятам и диплом часть продуктов чифом вот ну это вот в целом как бы некий там часть того тришина который мы натолкнулись то причем ну как бы натолкнулись не ожидая этого соответственно сталкиваясь с этим не знаем что делать а уважаемое сообщество спрашивать бесполезно потому что ответ будет один но у не будьте дебилами уходите solaris начать нормально как бы вам будет решение нам не подходит такое решение поэтому мы в этом смысле в некой изоляции находились и грызлись как грызни как это плакали значит кололись но продолжали есть кактус вот это вот картина мира значит ну как вообще в целом все это происходило в целом как бы проект условно ну не условно так официально стартанули в 2003 году мы поставили для себя следующие как бы ключевые задачи ключевые цели вернее соответственно для меня для нас важно было обновлять научиться обновлять днем все что можно обновлять днем ну то есть обновлять без простой обновлять без downtime но потому что эти ночные обновления это как бы в том числе мука для ну то есть это это как бы секретов это в том числе большие социальные проблемы в активе то что народ перегревается когда вам нужно админу за деплоить патч просто дней из-за того что разработчик косячник чё-то накосячил это полбеды а когда админу нужно ночью снова выходите катить этот патч вот тут вот это грызня вот это вот devops киевское перекидывание какашек друг сторону друга да она достигает неких ультра масштабов там ненависти просто как черной ненависти соответственно как бы минимизировать ночные обновления одна из очень важных задач было соответственно дальше задача была к ночным работал все таки подходить ну и дневным тоже 1 чуть было к ночным потому что мне все доступны подходить как бы полностью понимает чем мы будем делать что у нас входит в релиз как бы в набор релизных работ вот этих а почему потому что нередки были случаи когда ну то есть первым этапом еще до devops а то есть я там свой время itil значит внедрял вот и когда я запуск первым этапом там была в части релиз менеджмента ребята давайте перед ночными работами как бы разработчики и эксплуатации будут собираться вместе обсуждать что будет ночью делать они просто вы разработчики молча передали инструкции на все вопросы на там все написано что ли вот эти но они структу писать немедленно все понятно вообще ничего не понятно ну вот и вот разошлись в разные стороны вот для начала мы научились собираться вместе и обсуждать вообще что будет ночью происходить почему это важно потому что все пойти так почти скорее всего никогда не пойдет скорее все что-нибудь ночью пойдет не так а для того чтобы понять какой предел допустимости когда все таки принимаем решение об откате всех работ допустимо ли это как бы эти ошибки в логах посыпались после наката они могут быть допустимым могут нет для этого нужно понимать чем и катя вот поэтому мне это было критично важно ну и соответственно идеально знать боевую ситуацию очень достаточно разветвленное сложная на уровне логики схема деплоя боевого там большое количество транспортных услуг я их называю транспортными наша специфика определенная java модулей огромное количество отвечающих за разные там нюансы и вопросы и соответственно постоянно какие-то вносятся изменения постоянно какие-то вносятся корректировки правки параметров и далеко не всегда мы имеем в момент инцидента четко и пони они по сути дела что вот эта вся огромная наша боевая инфраструктура сейчас данный момент времени себя представляет вот это необходимо было обязательно обеспечить собственно да да да devops и как бы я действительно применял предпринимал попытки внедрить cmd быть еловский вот но процесс управления конфигурациями успешно внедрили в принципе свели на 0 количество инцидентов связанных с ней вы некорректно выполненными изменениями непроверенными потом вот но cmd как бы носили на 0 ну да но это конечно эта вера критическая муть когда вы должны выполнить работу потом куда-то сбегать еще там отразить какие параметры на apache настроили то есть тут надо конечно от обратно в том же общем то с этого за диво в свое время и зацепился тоже мне приехал коллега с хайло да игорь слушать там про систему правильно конфигурации какую-то рассказывает твой devops не похожи или нет вот я читаю против думаю но это что-то думаю нет а мне это нужно контролировать инфраструктуру они как бы ее меняют рецептами что так это вот но потом пришло вот это понимание что нет я уже не хочу контролировать я хочу управляемый изменять инфраструктурой такая моя задача вот таким образом я хочу идеально знать боевую ситуацию ну и мы поставили себе а вот такие первичные собственно цели в рамках при первичные задачи в рамках от тех верхние уровни их целей то есть одинаковая схема развертывания в бою и разработки нас еще была разная то есть если в бою у нас было грубо говоря 30 допустим модуль аджарских там отвечающих за ту или иную логику и взаимодействия то на бою это все было в одном модуле и он как бы все этого ну и соответственно много таких других отличий которые вызывали конфликты в том числе при выносе на бой потому что то что придумали разработчики в своей версии как бы реальности не соответствовал же боевой схеме вот мы поставили себе задачу что мы как минимум окей мы не готовим окружении пока не управляем конфигурации но давайте мы будем тепло и ца не по портянки давайте мы будем deep ловится рецептами давайте мы будем deep ловится как бы по-человечески о соответственно как я уже говорил передачу дистрибутивов обновления без простоя всего чего можно потому что от этих ночных работ нужно уходить ну и собственно обеспечить вот перестанут это вот убрать вот этот ненависть это вот невозможность людей друг с другом общаться то есть там физически просто люди не могут друг с другом общаться с каким-то из этапов насильно их посадили вместе на одном этаже разработчиков и эксплуатацию вот это был страшный этап мы на него долго готовились решались как бы решились то есть это тоже было при целая песня значит ну теперь что мы имеем на сегодняшний день чего вот мы за это время достигли значит мы действительно обеспечили стопроцентный дин единообразие схем развертывания в разработчик ой среде и в продакшене вот и соответственно поскольку мы теперь меняем эту схему развертывания рецептами то она автоматически поддерживать то есть мы рецепте пишем мини накатываем у себя разработчики среде дальше они идут в бой там накатом то есть как будто получается как бы естественная синхронизация для наших java-приложений мы практически полностью сделали в конвейер развертывание вот соответственно от производственных схем до паевого боевой наливки в продакшн вот для веб-приложений сейчас еще в процессе частично готова частично не готово ну как бы вот уже уже на подходе я поставила больше но ребята никогда когда ревизию моей презентации делали сказали что я оптимист и ставь меньше я больше поставил значит мы в ковчег как бы ну поскольку выбор chef по питон не очевиден и наверное не существует какого-то однозначного ответа на чем выбирать а нам не то не то ни было известно мы решили ряд как бы самостоятельных совершенно продуктов вниз не даст они настолько сильно интегрированных наш основной стек мы решили их собственно катить при помощи папито вот почему zabbix ну мы пытаемся мы как бы пытались все пробовать что можно катить при помощи как бы собственно рецептов при помощи системы управления конфигурации в том числе рецепты zabbix а в осадили время у меня уже почти нету на самом деле это важный момент потому что и от сегодня доклады слышал про тесты мониторинга и совершенно никто не упоминал еще одну определенную проблему потому что контролировать отслеживать как бы актуальность корректность версия не version of самих теста то есть собственно обеспечить репозиторий для самих тестов и управлять ими как но собственно как как что позволяет делать репозиторий это тоже очень важная задача потому что мало ли кто когда поменял какой тест почему он там было допустим у нас квота 60 процентов он должен орать был красным как бы мы потом видим что на 90 из-за 2 секунду вылетает в 100 то есть начинается там как бы у него крышу сорвало начал писать логе логе не мог писать начал вы стадо отписать а то что не может писать логе и в общем засрал все там за буквально за доли секунд но мы узнали о том что он ломается когда уже было 90 процентов а там уже скорость за сера пошла по экспоненте у нас и был выставлен у нас специально был выставлен как бы утилизация одесского пространство на 60 процентов разбираемся в инцидентах какого-то черта там 90 это важно тоже отслеживать и у меня вот как бы вуз в смежной дирекции ребята прямо целый процесс у себя определили и задокументировали по разработке тестов мониторинга и verso версия нирования контролю за их как бы но актуальностью состоянием это тоже очень на мой взгляд очень важный вопрос ну и собственно канве выстраивание конвейер для тестов завис в том числе позволяет и этот вопрос тоже решить вот нет у нас есть dotnet приложения отдельная такая печальная история я короче реальная повелся на visual studio release менеджмент ребята красиво круто давайте короче попробуем ну это как бы вот там как было сказано в одной из докладов сегодняшних это вот ну по факту да как вот мы будем наверно на паппет перетаскивать вот эту историю потому что ну это чё за это вот этот поход это вообще не инфраструктура как кот вообще не то есть это вот мышкой ты как бы рисуешь чего зачем как бы но не хочу даже об этом говорить с этого надо мигрировать мы добились действительно стопроцентного online обновление в вов пока что у нас кластер условно вернул виртуальной то есть на одной машине у нас как бы подняты на apache кластер соответственно одну ноту гасил заливаем новую версию поднимаем меняем вот но сейчас хотим уже добавить как бы физически еще дополнительно хасты теперь проволоку как я уже сказал у нас большое количество бизнес-логики реализован апрелевский элем в базе данных соответственно очень важно научиться онлайн обновлять без простое в том числе и оракал и базу данных какая для этого существует возможность оракла есть для этого инструмента он называется идиш индезит ready финишем что это значит она нужна такой код это пакеты пакеты в инстансе базы данных как бы содержащий по или сколько там скомпилирован соответственно вы берете в новую версию как бы вот этого метаданных называется метаданными значит льете в новую версию как бы обозначать на перещелкиваю версию там и версию словно два льете новой версии этих ваших пакетов и после этого грубо говоря вашей базе данных дротик скана команду работать с новой версии круто решает именно то что нам нужно то есть ну отлично решает нашу проблему но проблема сохраняется почему то есть мы чистить в это реализовали а патчи и фиксы мы сейчас катим именно таким образом но если мы меняем модель данных если мы меняем структуру таблицы с ним и хоть один alter ты был делаем или мы меняем тип данных на базе то как бы все это уже не работает то есть это уже не поддерживать вот это мы не смогли пройти поэтому версию мы катим все-таки ночью мы с версии 1 2 недели как бы апачи какие-то там фиксы быстрому спокойно совершенно к этим днем ну и команда команда вот это самое важное для меня было во первых она полностью перестала сраться то есть команды интегрированы реально труб между другом это нам стоило потери нескольких людей то есть люди которые люди в какой-то мент времени встали просто в клинч на не в состоянии друг с другом взаимодействуют не в состоянии принять ситуацию что мы больше не враги что мы друзья то есть просто это противоречило всей карте все их картине мира в результате этого я пережил как бы тяжелый опыт поглощение недружественного подразделениям и в итоге я изначально было с продуктовой дирекции мы в итоге в продуктовый дирекцию по себе прикладных администраторов забрали вот но сейчас у нас действительно я считаю что сто процентов слаженно deutz команда разработчики и прикладные обмены работают вместе готовится все релизы все рецепты готовятся совместно обсуждение абсолютно живые открытые происходит и еще один аспект команд для меня ультра важно я был убежден очень много сил потратил доказывать но объяснять руководство что devops это не тот проект который можно спускать сверху и спрашивать сроки выполнения это абсурд нельзя эту технологию внедрить как бы как обычный проект самое важное было зажечь людей чтобы люди начали хотеть таким образом жить дальше вот и собственно вот этого не удалось добиться и и это собственно то есть как бы я как администратор не смысле администратор баз данных can do как администратор управления меня это основной аспект гордость в этом проекте ребята сами живут этой темой сами и и двигают как бы не я прихожу но чуть дальше они приходят короче мы дальше туда туда идем планы у нас следующее это я считаю очень круто вот и ну как бы планы у нас вот такие на ближайшее время куда мы хотим дальше вот в целом как бы это что я хочу сказать я прекрасно понимаю что я прекрасно понимаю что возможно для вашего там для вашего мира как бы то что я рассказываю это как вот это мой маленький шаг для человека что это что-то какие такие ну незначительные вещи но для финансового сектора для такого энтерпрайза финансового сектора я убежден что это очень большой скачок вперед мы еще в полете но как бы полет нормальный это здорово собственно на этом все спасибо за внимание я готов ответить на ваши я очень боюсь вопросов я же директор я живете в технике не шарю меня зовут александр им про группу спасибо за доклад есть такой вопрос а вот вы говорили ну и сейчас на карты некоторые ночью делаете раз для что сколько примерно длится по времени и вот такая штука как переход на банковский день он дал после наката как это происходит переход на ну там хороший вопрос по бы про банковский день собственно то что мы обновляем то есть я рассказываю про чай sky вывод информационных систем компании вот соответственно мы у нас там определенные разработана логика чё делать если прилетели транзакции которые после закрытия вообще в принципе штатно до закрыть банковский день закрывается до того как мы начинаем обновлять вот значит длится в целом ночной работу у нас штатно там 60 90 минут со всеми быка по местным шутами как бы обновлением и подъемом прогревом то есть все это длится примерно 60 90 минут у меня вопрос вот те технологии которые вы описали да потом используете чип zabbix еще что-то в большинстве своем они предполагают что у вас есть доступ к интернету для того чтобы что-то там накатывать что-то обновлять вот частности для чего нужен доступ гемом как вы я предполагаю что у вас в банковском секторе все закрыто firewall my доступа никуда нету как вы это обходите или ну как вы с этим живете не ну как носить локальный репозиторий во-первых ну а вы и вы его периодически пополняю понятно ну жизнь такая окей то есть мы при обновлении не можем сделать об этом как бы откуда-нибудь из внешнего репозитория зале и мне чего-нибудь когда-то на боевой вообще недопустимо страшный сон для любого кто ok и еще вот да вы там пишете что используете zabbix на сколько я знаю забег сейчас не умеет шифроваться по крайней мере с целями жду клиент между агентом и сервером нет и между и прокси-сервером тоже нет как вы шифруете его или не шифруете как вы расходитесь kurgans я понял он у нас есть у нас как беседка разделена на сегменты по уровнем доступа и собственно боевой сегмента на отдельный zabbix в этом же боевом сегменте доступ туда ограничен то есть ну как бы я не помню что мы решали этот вопрос то есть мы вопрос он находится в закрытом сегменте как бы то есть он грубо говоря дополнительно не требует как бы дополнительно не требуется в нем что-то шифровать потому что он и так в сегменте куда никто попасть практически не может ну понятно странно ства вас безопасники такой округа стиля почему еще раз то есть смысл то меня нет я понимаю нельзя нельзя нам нельзя как нельзя ходить какое правило то нельзя ходить получается из как бы менее защищенного сегмента иметь доступ более защищенной сегмента из более защищенной сегмента можно ходить менее защищена его контролирует этот этот заход и этот доступ поэтому в целом как бы ну где было общим таких проблем окей ладно спасибо бородатый мужчина хочет меня спросить мне еще далеко до коллеги да спасибо андрей ингушский государственный этические центр у меня вопрос такой почему самообновление почему не выходка нового релиза нам запасное железы и выключение староват ага понятно но допустим как бы смысл в чем смысл в том что вы обязаны в общем всю историю транзакций все исторические данные вы обязаны хранить потому что за переводом условно денежный перевод отправили вы за ним можете прийти за не могут прийти через месяц у вас все эти данные вы не можете взять систему там с нуля как правильно это они хранятся на системах хранения данных а сама система саму систему заменить можно то есть вы имеете ввиду то есть у меня грубого рейс другой аналогичный железный сервак я он пока у меня холодный грубые отключен я туда все наливаю а потом да да да вы за зубы было быть какой-то такой проект там что-то заткнулись ну во первых это дорого это понимаю но я так понимаю как было разрабатывать и словно финансовых агат я вот гос вот мне денег не дадут на такую систему как бы у вас есть возможность я так предполагаю но бюджетирование никто не снимал вопросы кого деньги есть и того кто экономит как быстр и кто зарабатывает тоже да но тем не менее как бы нет возможности мира сбрасывает вопрос как бы денег он безусловно ездить но вопрос хороший если вспомнит а сегодня еще смогу как бы дополнительно ответить так сходу надо мне вспомнить подумать по моему что то там копали но его что-то воткнулись тоже нездоровая если вспомню отвечу сегодня если нет но контактами и есть можно писать и отвечу на это контакта если чем и так вопросы видимо иссякли тогда еще раз спасибо за внимание коллеги"
}
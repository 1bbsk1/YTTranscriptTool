{
  "video_id": "y5bgBJs8NnM",
  "channel": "HighLoadChannel",
  "title": "TechTalk с Badoo / Александр Барановский",
  "views": 619,
  "duration": 785,
  "published": "2021-10-04T02:44:38-07:00",
  "text": "ну привет я артем я бывший доктор хабл сейчас ведущий подкаста мы обречены познакомиться привет я саша я тимлид в команде бабу занимаюсь процессингом данных наша задача взять всю всю всю статистику доставить ее до мест где у нас есть потребители ты говорил что-то про культуру кода в чем ваша особенность что такое используйте культура кода в моем случае я имел ввиду именно подход я приверженец теории что не бывает ни возможных решений не бывает ни не интересных решений во втором этом можно найти какую-то составляющую которое понравится либо конкретно тебе либо в целом команде и на этом драйве можно делать безумные вещи выстраивать безумные системы которые будут потом удивлять весьмa если они их рассказы и скучно не будет никогда важно это просто понимать если идти с этой тенденции с этой этим пониманием дробить людей-то использованием этого все можно построить прямо гигантскую интересную систему расскажу что то пока это что-то между под этим безумен под безумными не скучно вершине да без проблем одна из систем которые мы делали это аномалии то также система поиска аномалий на графиках тем они не новая но мы и решили для в универсальном видят для миллионов графиков это собственно и будет темой моего доклада я буду рассказывать именно о том как какие запросы но боль не о самой системе а ее подходят мы ведь очень много веселились со всякими научными статьями с поиском информации у нас не было изначально там большого опыта построения подобных систем но мы взяли cliff house мы взяли и реализовали на чистом пихал со стамбульской нечистый но кирха у нас на этом искали мы реализовали модели предсказаний воткнули туда сотни миллионов графиков и она считается процессе с минимальным шагом в 10 минут и это все еще при этом не на самых больших стран окей проект расскажу подробнее там служат кузов еще такую ты бьешь в себе такую силу такого подхода но просто люди когда начинают чем дольше работать индустрии тема не давайте возьмем общепринятое давайте будем делать так как надо не давайте не будем лезть за пределы того что за что обычно не лают на тип откуда взять себе drive чтобы делать реально не скучные безумные постоянно придумывать и изобретать но здесь есть такая знаешь фраза андрич то есть когда ты находишься на самом краю индустрии это не какое-то физическое положение что вот я проработал 20 лет теперь я могу ступить первые ряды и начать драйве нет это не так происходит так как тогда когда ты начинаешь падать на индастри лавал структур киты делаешь работу ты ее сделал поставил галочку ближе мы что я умею делать или рассказал об этом какой-то доклад да на что нового изобретена что новую продвинут как продвинулась инфраструктура всегда индустрия в целом если ты просто сделал то же самое что делали другие ведь намного интереснее погрузиться во внутрь какой-то новой вещи взять что-то новое как-то по-другому повернуть под новым ракурсом сделать какие-то новые выводы используют те же самые инфраструктурные вещи о которых говорят там очень многие но повернуть и под таким углом под которым никто еще не хочу увидеть что это работает может быть немножечко где-то подкаст и не без этого но результате добиться того что никто никогда не делал и благодаря тебе благодаря тому что ты привнес рассказал о чем ты сподвигло у кого-то двину двинуться дальше расширить горизонты своего восприятия мира но сейчас узнаешь как думают что особенно чем больше работать чем больше изучают вещей таки да все уже изобретено и все что изобретена довольно тривиально и придумано не лучшим способом да и особые улучшать никуда давайте просто этим пользоваться им и не собственно можно так сказать равно если взорвать возьмём ситуацию десятилетней давности начала десятых годов тогда тоже так все говорили но тогда не было кли хауса не было кафки не было куча языков которые сейчас используются повсеместно да тогда уже тоже было все изобретено но это не так мы двигаемся мы развиваемся и когда-то в древние века люди считали компьютеры что необходимо я не помню точно фраза что по-моему 2 мегабайта оперативной памяти будет достаточно всем и люди в это верили вопрос ваша вера если вы не будете подвергать свою веру сомнения не будете критически мыслить а действительно ли все изобретено а действительно ли нельзя эту конкретную тузов улучшить или как-то повернуть под неизвестным углом таким образом чтобы она начала приносить пользу еще где-то без этого да можно действительно сказать что все изобретено сложить лапки просто начать это использовать а можно попытаться но что сейчас думаешь про индустрию вот она сейчас ты ее видишь что тебе мне кажется где надо изобретать где как слабые места чтобы ты стал понять вот даже в тех подходах который вы построили той системе который вы построили где те решения где тебе приходится идти на компромиссы такой блин здесь не круто надо здесь сделать круче вот этого не хватает этого не хватает да я понял вопрос на самом деле это абсолютно нетривиальный вопрос можно выстраивать что-то новое во всех сферах и очень многие это делают тот же самый house продолжает развиваться и они решают основную нашу боль а если уже не решили честно не могу точно сказать это звуки пир к примеру за кибер им боль у всех наших последний бой к нам приходил он киллер за звуки первым вот потому что он немножечко разросся в памяти всего лишь 16 гигабайтами каждая система невозможно сделать совершенно не то совершаться это только цель к нему к ней можно стремиться да мы сделали мы процессе миллиона графиков но мы это не делаем бесплатно мы это делаем за счет конкретно известных там ресурсов которые мы на это тратим есть узкие места которые для нас являются проблемы тоже самых-самых звуки пир для нас эта проблема невозможно постоянно горизонтально масштабироваться соответственно рано или поздно придется дальше развивать эту штуку чтобы оно было быстрее и эффективнее поэтому нет абсолютно во всех сферах есть куда расти только для того чтобы это сделать необходимо обладать знанием и опытом в этой сфере конкретно в нашем случае да мы очень хотим избавиться в руки перо у нас практически к любой сфере при так или иначе последова на привязан им он доставляет большую часть проблем вы уже пытались пока нет мало еще но то хотя бы когда-то в этом думаешь как ты думаешь какую сторону лиц как избавляться я думаю именно менять собственное решение решение которые были сделаны у нас таким образом чтобы и покрыть задачу и меньше учитывать за кипр поскольку он нужен нам о последованном нас нет задачи сделать его идеальным то есть нас нет задачи на него тратить ресурсы у нас есть задача именно нашу проблему решить а ее можно решить в том числе к примеру уменьшив нагрузку на зу теперь предыдущую идею которую мы реализовывали она это не учитывал будущее будет когда вы строили вот система которая рассказывала у вас были какие-то камни преткновения из-за чего то вы спорили чтобы сложное всего проблем не да наверное вот лично для меня это было проблема ранжирование аномалий я говорю конкретно про анализа так что систему которую мы сделали для чего нужно объяснить проблему комбинаторного взрыва у нас есть примеру там график с параметрами нас есть страна оператор пользователь там и еще с десяток разных параметров каждый из них если примеру 10 параметров каждой из них по 100 то мы получаем 10 в 20 комбинации параметров и каждый из них может потенциально обладать цифры это безумные объемы и с этим как бы ну никто работать не будет но как при условии то чтобы примеру определяете 99,9 процентов всех значений а то есть три девятки это вас немножечко нем много мало но 10 в семнадцатой аномалий и вот как как найти среди них аномально естественно там есть ложноположительные естественно там есть обычно на маме естественно там есть изменение ожидаемые которые как бы попали под аномалию но это все нас ранжировать до цифры естественно взяты с потолка никто не работает с 10 семнадцатой степени графиков потому что ну это прям очень жестко но даже с 1000 графиков проблема ранжирования она стоит очень остро можно сделать самый простой и понятный способ это когда вы берете и говорите что чем больше цифра в графике и реальным тем важнее номоли но в этом случае какой-нибудь интегральный график пользователей во всем мире скакнет на полтора процента вверх и вы визуально даже дома нет ну да скаку главное но это будет самая большая аномалия за счет того что цифра само по себе больше нежели так дела у вас какой-нибудь стране конечно пользователь упала в половину там это катастрофа а это ну а нормально ладно муки будем жить дальше и вот именно эту проблему я пытался решить это было две недели когда я просто сидел с гигантским объёмом данных и просто писал запросы разными вариантами разными случае вытаскивал какие-то дополнительные параметры метрики из данных для того чтобы хоть как-то вытащить ну и вкратце примерно как что было завершение я получил коэффициент немножечко в попугаях но коэффициент который говорил о разводе двух графиков графика предсказания и графика реальных значений использую его из используя нормализацию на общий вес графика отношении его числа к общей сумме всех графиков внутри там какого-то reporto и еще нескольких других коэффициентов я получил более менее функцию которая мне позволит выдать цифру по которой могу сортировать и эта цифра мне уже сделала что график с большим разводом график у вас больший аномалий визуально именно визуальный будет выше чем график с меньшим визуальным разлет успехов вам в работе над этим до строить систему изобретаете симу большая надеюсь вы избавитесь от руки перо и сделать это отличные других научить и тоже будем посмотреть"
}
{
  "video_id": "13wBMhZfLjw",
  "channel": "HighLoadChannel",
  "title": "Последние новости постгреса с PGCon / О.Бартунов, А.Коротков, Ф.Сигаев",
  "views": 1094,
  "duration": 2876,
  "published": "2017-05-14T22:53:05-07:00",
  "text": "вот мы переходе к нашему докладу это вот путь слона это старинная тибетская танка которая обозначает как человек овладевает своим сознанием то есть сначала человек следует за мартышкой которая олицетворяет страсти всякие наши грехи и так далее потихоньку мудрее и в конце концов овладевает своим сознанием то есть слон а вот он здесь синий на вначале нужно у нас на логотипе он к сожалению тоже сейчас синий правда посветлее немножко цвет есть уже беленькие полоски да то есть мы потихоньку какие просветляются надежде все-таки есть так конференции по жекон в канаде является самым крупнейшим крупнейшая конференция разработчиков куда собирается ну практически все ведущие разработчики и решают очень важные проблемы важные задачи развития адреса решение текущих задач и в этом году она уже проходит в 11 раз проходила в канаде я к 1 являюсь один из немногих представителей тех кто участвовал во всех этих конференциях то есть город оттого мне уже известен просто до самого последнего кафешке когда в самом после некой фишки и обычно мы на этой конференции перед конференцией у нас проходит девелоперский митинг то это совещание куда приглашает это закрыл по закрытому списку покуда приглашает разработчиков которые будут решать задачи магический на самом деле на devil и краскам митинги уже сейчас не обсуждаются какие-то частные вопросы разработки потому что и стало слишком много для этого сделали специальное мероприятие devil person conference вот она девелоперской митинги решаются всякие принципиальные вообще моменты в этом году нас с россией было три человека из нашей компании то есть три человека мы были второй по численности 1 по численности это enterprise baby от них было четыре человека компании пузырь professio его было три человека три человека было из crunchy дата 2 из 10 далее то есть мы здесь представлена достаточно широко хорошо сама сама встреча проходит в дружеской обстановке мы ничего там как говорится не показываю никаких презентаций но все записывается выкладывается на вики вот так собственно решается судьба пол-лица очень мирно и хорошо так эфиопский митинг вся информация доступна навек ip адрес коллег вот здесь скриншот как раз нашего совещания и были вопросы которые не были затронуты это первое это вопросы contributor ах то есть действительно каким образом формализовать задачу номинации до contributor а например я и саша мы являемся мажорным contributor ami ну то есть ведущими разработчиками пузырится каким образом какой петя станет этим мажорных на 3 бутаро сейчас этот процесс как-то них не формализованы то есть это дело обсуждалась также существует достаточно много contributor of которые давно давно не принимать участие в разработке что делать с ними ну то есть сделали вот как будет заслуженных разработчиков куда их можно долго долго не активных и создали некую команду которая будет заниматься номинацией на contributor of потом утробин хаоса он поднял вопрос о курить им курить ему нас это на самом деле steering комитет то есть тот несколько человек который занимается текущими проблемами пол-лица развития это не обязательно должен быть разработчиками более того там есть не разработчики он просто те которые комьюнити занимаются надо вести дела какие-то и роберт сказал что тоже нет никакой формальной процедуры что курить ему нас там чуть ли не 10 лет одно и тоже надо что-то делать на самом деле я думаю что он просто сам туда метит вот решил этот процесс как тогда чай обсудили релиз - бен тен да то есть действительно райф в этот 96 это будет первый релиз когда будет когда существует целая команда который следит за тем чтобы этот релиз вышел то есть вышел именно вышел то есть качеством все равно отвечает contributor аида но релиз менеджменте например занимаясь тем что он пытается но чтобы комитеты правильно чтобы все шло не было висящих багов не было висящих и шью все шло как положено и все в утвержденные сроки как вы знаете в сентябре назначен релиз 96 то есть и люди очень настроен и жестко как вы знаете на целый один комитет в этом году мы был уменьшен процесс разработки уже сейчас имеется 96 beta 1 и готовится 96 release candidate 1 то есть все гораздо раньше пошло так что те вкусные фичи 96 они нам ближе и мы уже не будем ждать как прошлом году аж до января месяца а вот как раз новые новые расписания релиза видите первый комитет укрывается с 1 сентября то есть считается что это уже будет комитет для fitch 97 или версии 10 как сейчас принято говорить то есть вы знаете что было бы большое обсуждение что девятка уже всем надоела давайте ка сделаем десятку место 96 будет 10 это было целое большое обсуждение там но люди много много общались вот в результате пришли к этому выводу что 96 останин а вот следующий релиз у нас будет версии 10 и более того у нас теперь будут вверх вершинам белик вот такой видите мы тут гасить нас мы голосовали и проголосовали что у нас будет не три цифра 2 цифры то есть не 953 обуть отверстие десять ноль и и эта цифра будет каждый год просто меняться 10 11 12 13 как firefox как фаерфоксе да а вторая цифра она будет отвечать за вот эти минорное обновление патчи в общем в принципе люди почему я проголосовал за эту фичу потому что по двум причинам потому что во первых у уже немного привыкли люди именно такой нумерация вторых мы выпускаем нашу и собственно версию слез про и у нас сейчас там уже четыре цифры как-то 953 и чего-то такое а так будет как бы немного меньше будет более удобно вот и следующий будет десять ноль от создали проблему общего полу железо для тестирования действительно сейчас когда puzzles вышел уже в эру миллион транзакций в секунду то есть это уже факт и мы это знаем и мы это получаем и сами приложили много сил для этого то чтобы достать железо для готовишь которые нужны для того чтобы тестировать и получать например 10 миллион отражают секунду просто так не допросишься поэтому предложили сделать такую страничку где мы будем говорить что вот у нас есть вот такая эта машина такой the power 8 512 лидер кто хочет давайте тестируете это хорошие вещи и мы собственно даже предоставили наш сервер для тестирования андрюшу fundu и это его очень помогло дальше вопрос был про sharding про sharding вот про пост беспроводным что саша рассказывал им и у нас будет отдельный слайд а сейчас по sharding дел то что sharding это больная тема все говорят что нам нужен sharding из коробки а что это такое на самом деле никто особо не специфицировать потому что это может добиться разными способами в частности очень долго было мнение что энтерпрайз деби занимается шар лингам через свой fd знаете была идея имеется форинтов raider который сейчас уже достаточно мощные следующем релизе он уже будут там агрегат агрегаты будут проваливаться через фарида то wrapper и вроде бы как бы мы думали все думали что с помощью этого механизма энтерпрайзе by хочет сделать шарден другой стороны есть cytus baby которая сделала sharding как extinction вот есть второй подход есть третий подход ну как бы ip-адрес excel разные подходы и тут выяснилось такая фича что оказывается и это произведет этого отреклась то есть дословно это звучит так что ни один план не выжил не выжил вот а то что говорит брюсом жанна это говорит его личное дело то есть на самом деле вопрос много подвис вот у меня например нет четкого понимания обсуждали как раз в связи с этим обсуждали вопрос распределенных транзакциях ядро дело то что мы предложили уже второй год предлагаем наш небольшой по чтобы транзакций менеджер web адресе стал виде носит чтоб наружу торчала api чтобы внешне приложение могли использовать это api для того чтобы организовывать распределенной транзакции то есть как бы части народа это нравится час транзакций менеджер мог использовать api за внешнее приложение она уже использовать раза чем менеджер чтобы делать распыленной транзакции то есть такие то есть у вас есть раскаленная транзакция но она обеспечивает вам атомарный commit атомарные visibility вот атомарная камень знает что-либо транзакция на всех нотах за комиссии и вы ни на одной не закончилась атомарные виде белить и это значит что вы в другой транзакции какой-то у либо увидите транзакцию на всех нотах из которых вы читаете либо ни на одной из них не увидите трубарь а не увидите пол транзакции это такая очень сложная вещь потому что пьер скажем этот самый sharding отцы туса он этого не поддерживает или тот же самое вдв решили договори мы будем рассказывать о то что эти сети эти вопросы была посвящена отдельная сессия на девелопера скан конференции потом вот важный вопрос про пути geological знаете штука под желудок это все квадрант разрабатывает так называемая способ логической репликации то есть сейчас можно имеется у нас физической репликация когда вы репетируете целый кластер целиком а логическая репликация вам позволит реплицировать какие-то но с помощью сети матов на уровне statement of то есть вы можете на на уровне строк вернее то есть streaming репликации она поддерживает точно и бинарное соответствие между файлами данных на мастере на сливе это значит если вы там на мастере что например делаете культуре index.dat у вас автоматически этот индекс происходит in oslo или просто потому что там должна быть точной бинарная копия логическая репликации значит что на уровне строк вот такая уже логическая репликация она меньше ограничений накладывают вы можете там реплицировать только часть данных вот вы можете например сделать на мастере во куб ул например который не затронет slave и наоборот то есть свободы больше вот но с другой стороны и оверхеды выше вот потому что для логически репликации высшая нагрузка на цп у нас ливии там уже возникает возникают там проблемы что это не не получается делать своим поток надо делать много потоков и так далее то есть это очень важная фича по адресу которую все очень ждут вот из ее разрабатывает компания цыган квадрант и люди жаловались о том что как бы трудно делать люди хотели утверждения от саймона как раз саймона рикса что g лочку будет готов до 96 результате договорились что специальная он for кнут для того чтобы сперва августа он был готов для включения ядро то есть развиваться он будет двумя ветками одно для ядра другой как отдельная standalone приложение договорились еще дальше про комитет и комитет и у нас проходят уже много лет и каждый раз это ну очень трудно как бы мы начать процесс потому что все разработчики занимаются как бы но нет такого выделенные команды который следил бы за этим вот сейчас решили сделать камни tsukkomi фес management team которая будет состоять из двух трех человеков и на каждый коммент фес за несколько недель будет выбираться новая команда и эта команда будет бегать с разработчиками говорить что делайте review в комитет свои по читам fix и так далее то есть но надеемся что такой способ как-то даст свои плоды следующий слайд отдельно рот б почему мы решили поднять от road map а потому что его в воздухе нет у нас есть вот такая страничка видите девелопер road map и там написано что puzzle с это некоммерческая там волонтерская свободная хардкорная такой проект и поэтому у нас просто не волнует все эти ваши рот мы по их специально охрану не там написано что road map у нас такой что мы игру говоря выпускаем версию 10 там в 2017 году а что будет включено в эту версию 10 не оговорено потому что это зависит от того какие патче пришлют разработчики а за этим контроля нет но как известно puzzles уже давно используется большими компаниями сложился бизнес вокруг нет вокруг падре сада особенно нашей стране это имеет свои условия специфические и скажем наши наши кости мир и наши клиенты они все интересуются родом и а по министерство пока сейчас мы выкладываем свою радует нашей компании но вообще-то народу хочется увидеть как ах разработчики после совьет себе развитие вот и мы подняли этот вопрос поэтому мы больше следующий славить и саши поставили о планах перед этими где-то еще в апреле поднял дискуссию hackers ах о том что ребята надо надо надо и нам сказали а хотите пожалуйста берите публикуйте но мы взяли опубликовали да да да опубликовали вот наш мимо наш род мы здесь на три года у нас road map и это делал обсудили на develops к митинги и положительный плюс заключался в то что люди сказали угла а потом в ночью робот has вы выложил рот map in the праздник на который видимо этой же дочери наклепал да и писал то есть на самом деле сейчас выложены две ведущие компании выложили своей родной п и уже сейчас видно что есть есть работает по которым мы можем просто месяц сотрудничать то есть видите парте shining и у них и у нас есть пар тишине мы можем объединить наши усилия а не тратит это все портишь нет мы в принципе уже создавая потяжка мы уже стали вместе работать ну и дальше мы будем вместе сотрудничать то есть это полезная фича и мы это трудно держим открытым как говорится вы читаете смотрите и можете быть уверены что светлое будущее не за горами ну три года по крайней мере вот мы планируем до в трехлетку будет коммуне дующее дальше у нас есть день у нас был девелопер он conference что это такое on конференция когда каждый выходит пишет название свое доклада и прикрепляете доске а потом все голосуют хотим и от обсуждать или не хотим вот здесь даже цифры видите пар тишью победил с номером 44 то есть 44 человека проголосовал за то что хотят до максимума вообще до максимум да то есть вот всего было 12 сессий то есть по разным комнатам расходятся люди из этих 12 сессий 5 сессии было принято наших это я считаю что довольно хороший успех потому что звучало так я такой-то такой-то puzzle and professional хочу рассказать о том то и следующий опять положить professional положить professional то есть какой-то pr у нас был хороший в этом смысле нормальным именно эта девелоперская conference там где сидят люди говорят не о маркетинге они о чем-нибудь там ваших кейсах а говорят о том что надо сделать для пузырится чтобы он был хороший вот здесь имеется информация про эту конференцию дальше вот более читаемого видео вы можете увидеть какие были сессии то есть на этих сессиях можно показывать презентации можно не показывать презентация и и свободный обмен мнениями и вы имеете разработчики имеет шанс в лицо выяснить все трудные вопросы которые можно месяц целый обсуждать в мыле кресте ладно месяц сколько он в этой винт мониторинг дальше года больше года вот повыть мониторе q как раз получилось так что был там еще володя байбородин из индекса которые очень используют нашивают мониторе китая володя и саша они минут сорок мучили роберта и вроде бы даже пришли к такому что вы ведь мониторе к нужно дальше расширять в том виде который мы изначально предложили этот большой плюс до в основном от чая отчаянно мидии действиями володе удалось этого добиться его хаос уже конкретно достал вот значит наша тема были портишь ning выйти винт мониторинг транзакциям менеджер и multimaster по ролям индекс билд и по иску компресс 5 тема была наша дальше а дальше была конференция дальше началась конференция вот программа конференции мы здесь отметили те доклада которые были посвящены разработки которые собственном были интересны до 96 у нас появилась выполнение распараллеливание запросов вот чтобы один запрос выполнялся не в один поток вот а выполнялся в несколько потоков параллельно вот я здесь несколько слайдов взял из презентации роберта хаоса на эту тему вот основная идея в том что у нас есть инфраструктура для распараллеливания запросов по маркерам которые общаются между собой по ширина memory вот соответственно они читают данные с одним и тем же snapshot am специальным образом функции в системном каталоге я помечена как parallels аиф или не параллел сейф и так далее вот инфраструктуры есть вот и некоторые ноты раз пролили но далеко не все значит на тисе пи на типе си эйч было протестировано это вот то есть на некоторых очень хорошее ускорение было достигнуто есть три запросы и степи сеич четыре раза ускорено 11 запросов как минимум два раза было ускорено вот но далеко не все было ускорено так как хотелось бы вот есть еще мир джоин параллельные параллельные хаштай был build параллельный bitmap индекс can чем короче говоря работы еще много но плюс в том что в 96 есть уже инфраструктура и часть запросов действительно раз пролили white а еще рассказала fuji лицо про in-memory акулам nari and it's the rich вот значит у них представляете для чего нужен гол на вен чтобы взять и быстренько посчитать какой-нить агрегат за счет того что у вас значение 1 колоночки лежат рядом вам очень легко взять и там векторизованное этих и посчитать там кого-нибудь сумму средняя и так далее вот они это сделали они это делают как extinction а виде индекса то есть у вас все так же остается табличка где данные лежат по строчкам но вы строите над ней яндекс и у вас появляется in-memory колонн личное хранилище вот и при этом оно поддерживает даже обновления то есть обновление в начале попадают во временный буфер а потом уже в колонна чно и представление смешиваются вот это access method плюс к этому чтобы не не вот непосредственно ускорять агрегаты и подобные запросы они сделали используют кастомные ноды конкурса которые достаточно мощный механизм позволяет такие штуки делать а минус в том что у них это разработка закрыты и они вроде как обещают что-то выложить в открытый доступ аутсорс вот но как мы все знаем обещать не значит жениться вот и как бы пока мы не увидели чего-то опубликованных гитхабе никому не верен вот это соответственно вот картинку с архитектурой это я из презентации хочу сказать что мы тоже как раз работаем над вертикальным хранилищем да и у нас есть план и делает это более общим способом до нужно скажет да да то есть собственно здесь какой есть минус минус том что у нас равно остается уорент от 100 речь вот люди зачастую хотят от колонна снова хранения хранилище еще и компактности вот у вас был какой то отдельный сервер который занимается аналитикой и там все хранится в коломна rented виде вот а если у вас там не не знаю коломна rented видео на терабайт то еще 10 тарабарова вариант от вида отводить как-то не хочется вот поэтому хотелось бы чтобы она не как яндекс все-таки выглядело как отдельный тип таблицы а еще интересный доклад про snapshot old вот такая очень была спорная фича и ее за комиссии ли в самом конце перед фичи фризом вот какие в ней были проблемы во первых это портирование фичи с oracle а вот о чем . причем и и даже сделали с тем же кодом ошибки для удобства вот при том как сказать фича спорная само по себе за комиссии и вначале в таком виде в которую которую убивала на многоядерных машинах performance напрочь даже в отключенном виде еще за к метели и в таком виде что она уродовала пик буфер менеджеру вот короче говоря батхерт она вызвала приличный вот но релиз менеджмент сим продемонстрировала отчасти еще свою сыровато вот потому что оно не смогло ее а3 вертись вот вернее мне несколько патчи рассматривали от river так что то он был первым кандидатом разумеется из-за своего низкого качества вот но так ничего и не от ревет или вот более-менее ее в результате доделали уже после фича фреза вот сделали что она хотя бы не вносит оверхеды когда вы ключ на уроне уродует до такой степени api буфер менеджера вот что тоже хорошо значит всем идея введен параметр url snapshot трешолд в интервале от 1 минуты до 60 дней вот это тот интервал в чине которого snapshot может устареть и вы в соответствии транзакций получите ошибку вот но в результате за счёт того что такие висящие транзакции будут убиваться у вас не будет накапливаться такой большой блок на данных вот что тоже существенный тоже плюс ручное это контролируется просто чтобы позже startactivity смотрите что кто-то очень долго висит и киев решил уделяете а это автоматический механизм вот ну а здесь идея оптимизации такая то что транзакцию обрывают только тогда когда она действительно обращается изменившихся данным то есть грубо говоря если у вас есть таблицы который не меняется и на ней работает какой-то очень долгая транзакция вот то пройдет вот этот 3 желт вакуум начнет чистить все данные которые эта транзакция гипотетически может увидеть но если эта транзакция работает на таблице который не меняется то она так спокойно и до работает весь и они вися на там хоть сколько-то дней потому что вакуум не удалил ничего что ей могло бы было быть нужно вот но когда включена включен параметр все равно она вносит значительно вертеп на многоядерных системах вот нужно это иметь ввиду так что если у вас там сервера 72 ядрах не обольщайтесь особенно это наверное только в 97 поправят вернее в 10 уже вот и плюс этого механизма на самом деле все таки в том что его можно будет применить еще и для стен buy потому что как мы знаем у нас на на словах когда вы гоняете readonly запросы тоже возникает вопрос если на мастере вакуум удалил уже данные которые вам нужны нужно либо тормозить репликацию вот либо делать фидбэк на мастер чтобы он не удалял эти данные но тогда накапливается бла вот а соответственно snapshot уолт можно будет can селить запросы на нас лайве но тоже только те которые пытаются обратиться к изменившимся данным не все а сейчас там механизм который по таймауту просто все концерт вот есть можно будет еще улучшить вот механизм нас в будущем но пока что это еще не реализовано а еще был доклад про ускорение простых запросов то здесь была борьба с оверхеды my вот с в разных частях экзекьютора подвеса насколько то они были но там представлю серия патчи из которых еще не все прошли вот примерно и ускорение на простых запросов там 25 процентов на iheart 20 на select 20 нападает что в общем-то тоже вполне себе неплохо был доклад от дели по кумара из enterprise baby вот и во второй части конференции амид копила рассказывал про улучшение записи и адресу рассказывал рассказывал про буфер менеджер вот остальные доклады были не не разработчики во второй день вот но про счет того что рассказывал амид копил он рассказывал во первых про то что сделали мы в нашей компании вот в частности мой патч вместе с андресом френдом который улучшил scalability видите вот 95 так идет доходит там где то до 500 с чем-то теперь на редон ли позже bench а вот в 96 вот за комитета красная линия а желтенькое то то что можно достигнуть просто выравниванием по кашле не в определенных структур данных но это закомитить не удалось просто потому что это уже закончилось там фичи фриз уже после фичи фреза вот и вот это вот выровнять пока шли нем уже никто бы не рассматривал серьез но уже где-то полтора миллиона примерно удается достигнуть не 72 я даю за цифра по да вот еще рассказывал про патчи александра алексеева тоже из-под гаспра из нашей компании которые улучшали работу буфер менеджера вот но я здесь уже выйти в это не вникал особый детально вот и рассказывал там про свои патчи группка мид который на больших машинах увеличивает теперь сна райд или просто про увеличение параметра силок буфер вот у поскольку транзакции сейчас секунду все больше проходит то соответственно и блок транзакций становится больше и буферов кооперативе для братьев на обращение к нему нужно больше и просто вот этот зашитый параметр увеличили и сразу большое ускорение получили и введение еще отдельных параметров которые препятствуют тому чтобы накапливалась слишком большой и операционной системы буфер на запись вот и чтобы файлы в которые была достаточно много записей или периодически i've seen колись при достижении определенного 3 желто вот чтобы когда у вас идет чекпоинт р-не происходил просто обвальная запись вот который убивает весь остальной performance чтобы она ну чтоб чекпоинты по сути лучше размазывалась вот просто рассказал копила и андрис фронт рассказывала про проблему буфер менеджера что-то во первых медленная хэш-таблица значит нужно переходить либо на лоб free какую-то хэш-таблицы но там тоже проблема очень много разных алгоритмов все со своими недостатками и сложно выбрать и префикс на и дерево вот проблема то что алгоритм вытеснение которые у нас сейчас есть там клок алгоритм со счетчиком который вынужден ходить по всем буфером он не масштабируется на очень большие размеры shared буфер вот потому что сейчас уже машины с многими терабайтами памяти из этих многих терабайт можно 1 терабайт выделить по подсчет буфер который по 8 килобайт буфера вот получается что их очень много и ходить по ним по всем какой-то счетчик там инкремента кремень сеть получается очень дорого вот это если нужно такое другое это вытеснение вот там тоже много вариантов но и про размазывание чик поэтов он рассказывал нового собственно эта проблема с которой уже в вполне можно бороться просто с помощью тюнинга тюнинга как параметров операционной системы как вот тех параметров которые я здесь указал который в 96 уже есть уже в параметров под курс вот в принципе среди разработчиков докладов на основной конференции это было все потом еще у нас была user and conference юзерам conference уже мы показали один только наш был там один доклад мы показали мульт по рассказали про multi мастер и показали как он там работает на rasberry pi то есть собрали multimaster на низких rasberry pi и показали как там они эти транзакции бегают аккаунт аккаунта и деньги с одного аккаунта на другой переходят и все сохраняется до вот мы имеем ввиду честный multiman 100 не все понимают разницу есть multimaster такое что стоит один мастер стоит 2 мастер каждый из мастеров единолично принимает решение о том что он что-то комитет а потом они пытаются как-то синхронизации как-то разруливает конфликты фирменных под колеса это не называется multimaster это называется кросби gear то что разрабатывать секунд квадрант вот а честный multimaster это когда каждый из мастеров уже какую-то ответственность несет за то что что то что если он закончил это значит что за со всеми другими мастерами уже согласован а вот мы и здесь именно про честный multimaster авто реализован нор автограф у вас нет литра загсы релизов стеллаж для кабелей соседи имеет multimaster в котором вы можете узлы удалять узлы вставлять и все это должно быть работать в коробке вот сейчас у нас ребята целая группа у нас работает этим отлаживать вот этот весь механизм вот она vision conference здесь еще была очень важный проект это клодия в контакт они значили такое сейчас уже стало и в россии использоваться грубая правила хорошего поведения делал то что после сыта распределенная комьюнити состоящий из разных национальностей на разных языках разные привычки и так далее и так далее и в мыльных листах например наши ребята мы сами пишем иногда не понимаем что там пошутил американский человек особенно тип там line этом чуть напишет и потом разглядывай вот они нас немного не понимают и все должен бы как-то немного формализована чтобы все конфликты чтобы сообщество могло жить по-нашему может следующий слайд как раз вот как раз у нас есть бета версия кода вконтакт то есть написано что надо вести себя как как люди вот как раз была комиссия четырех человек они разработали коде вконтакт и доложили о часа два на это обсуждали оказывается эта тема очень сложная то есть у нас это как бы считается так относись к людям по-человечески да не ругайся там так далее так далее все нормально оказывается может два часа там указывать только маленький список чего нельзя говорить про возраст про национальность этнически про цвет про половую для меня там мы же уже сами один раз обожглись у нас была конференция не это в прошлом году да вот и там была вечеринка там где у пакет завалинке до входили девушки танцевали танцующие развивающиеся вот а кто-то из французов которые приехали и понравилось про не довелось фотографировали за инстаграме написали о как круто у нас тут мы приехали на конференцию россия тут так вот американцы значит читать не приехавшие считающие всякие twitter и instagram и и так далее стали сразу вопить а ночью на вашего плюс вам жан позвонил мне ночью и стал страшным голосом спрашивает как они раздевались раза только развивает развивались интересом он от европейцев это было более менее нормально девушки пришли а вот окажется мы их унизили но что то есть тем кто к нам приехал это понравилось это не понравилась тем кто к нам не приехал это очень важно сейчас вот у нас наш конференции вот которая проходила в феврале он у нас уже на сайте было правила поведения и было специальный человек молодежь хоган der от между рода сообщества который как бы следил за тем чтобы у нас этих больше девушек не было политически корректно до этого все обсуждалось принято так далее но еще было же история какая-то не не в нашем проекте а во free bsd что какую-то девушку перестал к миссис парень и бывший друг вот если того что она то ли ты за того что просто девушка то ли из-за того что она его девушка в общем с тех пор вот эта вся движуха пошла во free bsd а теперь у нас до доска что рид как раз не имеет такого правила хорошего поведения на сайте и поэтому до можем тут все нибудь такое замутить но мы не dream давай дальше а дальше у нас было мне понравилось сессия которую электро скажу и адский вел дело что уже 21 век об адрес ул рекомендации нет ни одной картинке замечали татарской и был поставлен вопрос в доколе оказывается это сложный вопрос потому что на git как ты положишь картинку а как делать div понимаешь ли и нужно ли это div и хуем пользу имеет ощутить сложности а потом один разработчик хейкки как рассказал что он вообще не хочет никаких тузов духу изучать и давайте играть рисовать вот такую графику аске что видите вот это график это грубая структура джин индекса вот есть n 33 постинг 3 там metadata и так далее и оказывается есть тулузы которые эту картинку можно времени положить вообще и вообще на консоли дорисовать окажется есть тузы которые преобразовывать это вполне себе в ритме кстати в плоскость уже есть картина их можно вот сюда перевести его такие такие вот картиночки диаграммы скорее всего появится чистых а там реальные вещи таскать они скорее всего появится но чем консервативность нашего сообщества она конечно иногда убивает вот у нас например нет багтрекер а потому что сих пор выбрать не могут родишь быть бесплатной он может быть свободны подъезде лицензии интегрироваться с магистром были христом потому что у нас основной с вообще это мэри клифф да и вот сейчас уже отдельная компания crunch отдайте например они решили сделать эксперимент и сделать на основе де бурга знаете такой debug нужно сделать какую-нибудь прототип только багтрекер а главное чтоб он симок сам-то малой на интегрировался да то есть вот такая консервативность да да и дальше ну и последний раз шоу конечно этот аукцион благотворительной на которой все приводят свои подарки естественно наша компания тоже привезла подарки вот например слон в облаке был продан за 220 долларов это жена кости книжника нашего сотрудника что-то там на выходных сшила и он купили за 220 долларов до зубную щетку oracle купили за 60 долларов да как как сказал дэн oracal написано не только на упаковке но и на самой зубной щетки и кстати вот это спорно это слон в облаке или облака в плане так вот обнимающей да вот этот плакат которые вы видели на видео с подписями разработчиков был продан за 350 долларов а вот значок девелоперские вот эти вот значок в стиле старых советских значков он имеет номер номер так сказать только для разработчиков мы я подарила думал разработчику у него он сломался ну мне пришлось ему подарить новые а мы его продали за 40 долларов вот это такой как бы шутливые хорошие хорошее мероприятие когда люди действительно до отдаю деньги получаешь взамен как получать взамен например там за пять долларов была куплена оставшаяся печенька вот их было сначала 1 потом маковые сил что есть еще одна и та же продали и наконец третья была продана тоже за пять долларов ну то есть последнее самое последнее самое со вросли и вот все деньги от этого аукциона не пошли в для безработных то есть там в оттаве то есть это хорошее мероприятие может вот на самом деле мы время еще не осталось я расскажу о том что на самом деле людей волновало то что мы делали доклад про полотенце в поиске насколько он стал крутой то есть все знаете что-то обратный индекс это вот такая картинка сзади книги где у вас имеется слова и страницы на которых она встречается это в чистом виде обратно индекс в пастбище он хранится видела такой структура которую вы уже видели олег не выдержала это тоски от раскрасим сюда дома точно так же в следующий слайд что мы добавили мы взяли место в пусик три находятся эти пайпер и это указатели на записи в хеппи в таблице мы к ним добавили некую дополнительную формацию то есть возможность добавлять что-то дополнительное и оказывается это сразу значит дало можно следующий словить большой всплеск то есть на самом деле вот то что сделал саша коротка для 96 я назвал ящик пандоры и потому что саша сделал возможность добавлять access методы виде расширений то есть просто можно теперь любой из вас может съесть немного подумать и написать свой метод доступа не спрашивая ядро никого не спрашивая и так далее это означает что действительно открылся ящик пандоры и первым один из первых этого мы сделали наш наш индекс в виде расширения то есть его можно проскочить поставить и не надо ничего патчить то есть что мы в ответе в это дополнительно информацию симу положим координаты слов то мы можем в яндексе ускорять ранжирование можем ускорять фразовый поиск франция в поиск он кстати тоже сделали мы с федей и он вошел в список мажорных фича 96 релиза если мы положим туа таймс темпы то мы можем ускорять упорядочение по времени что это означает что если вы ищете на пьешь что-то такое там что-то ищете и хотите отранжировать результаты по времени самые свежие новости содержащие слово такое это какие-то слова это типичный space так вот сейчас это работать в десятки раз быстрее просто потому что все делается в яндексе можем даже ускорять обратный пояс там его назвали full пересечь но об этом надо времени уже не будет следующий слайд вот ну это просто вот как бы у нас была там 7 человек мы были крупнейший делегации компания которая присутствовала сделали кучу докладов да хорошо веселились и поработали так что давайте за вопросы спасибо за доклад по очень интересно узнать про жизнь и развитие под gres а скажите вы но с вами сотрудничает компания green план и леонид кантри бить и что-то в паскалях значит компания грим план к сожалению съела нашего дома разработчиков хейкки который был очень продуктивной плодотворной теперь фейки занимается тем что он портирует старые баги на грим план то есть они до сих пор находятся на версии 8.3 нет он не старый мере не старые брюки часов добавляю его реально мы как раз хейкки было на 90 совещание я вас спрашиваю хикки ну как там жизнь когда вы когда вы из форм комфорт не тесь то есть они находятся до сих пор на версии 83 это пример того как вот закрыта и развитие тормозит и к сожалению это большое шоу супер вот проблема в том что они постепенно как бы апгрейдить до новых версий но позже тоже развивается вот и как бы они немного быстрее продвигаются чем пол игры не сильно вот процесс где-то входе сходится но где-то на очень таком очень отдаленном будущем они за год только s820 83 перешли да а как бы под газ за это время с 95 и 96 бизон никогда не догонит черепаху черепах как раз нехило если это после раз наш так получилось что действительно в конференции по жекон почти все доклады по разработке были наши то есть мы приехали и наша компания и вы знаете почти год вернее уже год больше года случилось и в этот раз люди у действительно увидели что мы во-первых вы жили во вторых мы привезли кучу интересных докладов да вот и для того чтобы а жизнь меняется то есть данный меняет сюда нагрузками яйца нужно чтобы планы они были более чувствительны к изменениям жизни ну и у нас имеется у нас есть работает студент в м каждый специалист по машине гудела он даже сделал диплом уже поэтому пойдите меня даже сегодня защищают вроде защищает как раз да и мы занимаемся у нас более точное предсказание о кардинале ти то есть селективности идея в том что сейчас postgres по статистике предсказывает селективность вот но проблема в том что если есть несколько условий и вот то он достаточно грубо оценивать здесь то что эти условия не будут независимой ну то есть можно взять селективности их перемножить просто вот а если из коррелированы и данные это не всегда работает поэтому вот одно из направлений решения это делать там всякие многомерные гистограммы вот но достаточно сложной и администратор еще должен думать о том какую муто многомерную гистограмму постройтесь и тем более если он слишком много этика гистограмму кажется у него начнет сбор статистики тормозить и так далее вот а тут идея немного другое дело в том что мы ведь запроса выполняем и мы можем посмотреть что мы планировали выбрать одну строчку а выбрали тысячу и что-то не так немножко да и можно значит а взять и вот этот фид бэк использовать для того что в дальнейшем запросы уточнять вот и строить какую-то модель и и обучать и чтобы постепенно получать все более точные результаты вот получать вот у нас студент вот он на типе siege тренировался и у него получилось весьма значительно улучшит предсказание в некоторых запросов от этого получились другие планы которые быстрее работают вот типичная болел один из стиков узнаете что в 11 select a b c из таблицы то это будет join из 3 3 самой себя 3 раза будет повторяться так у них язык устроен можно чуть ближе к реальности а что в десятку войдет вот десятку do not что в 9 обязательно считается что войдет переводчик вот это один из один из мажорных фич десятки что-нибудь из распределенных транзакций это будет я надеюсь взорвать сообщества или молиться сны вот то что без тсн of не будет ни multimaster они дальнейшей масштабируемости на многоядерных attack архитектурах не благо был столь же особо нечего там без цсн а хорошего не светит но посмотрим как наше консервативное сообщества это переживет hommage a mexican снова вот потом мы хотим временные объекты работу с ременной объектами сделать сейчас временно объекты например сильно блочат системный каталог 1 и во-вторых их на словах нельзя создавать это два это очень большой минус поэтому мы как раз сделаем возможность создавать в памяти и при этом не заниматься вот таким то есть временный когда вы делаете крем прилетай балда узнаете при этом у вас системные каталоги появляются новые n3 если вы это делаете часа на загруженной системе у вас системный каталог может увеличиваться в размерах заботятся это приведет к тому что все запросы будут медленные потому что это часто используемые штука да да можно лишних глаз есть час extension позже пасман который уже многие улучшения вошли вот там намного быстрее осуществляется планирование запроса вот партийцы не все подряд перебираются из метаданных извлекаются только нужно ее добавляются в план еще и соответственно поддерживается хэш партий shining там конкурентное добавления секции так далее есть определение партиций на этапе выполнения например когда он у нас тут лук join или что нелегко нибудь значение просто из под запросы приходят вот это все есть позже пасма не плюс к этому идет в комьюнити работами декларативным портишь янгом вот мы к ней присоединились и все и своей фичи из позже пасма на квартиру им уже непосредственно туда то есть можешь сказать creed iii был с и пошли пошли указывать партиции там очень многие темы мы будем рассказывать на пагоды на самом деле эти темы целого доклада вот то что я пропал отец и поиском один слайд показал это 40 минут целого значит докладывали 0 слайдов proportional кнуда да мы там будем праздновать в 20-летия спасибо большое друзья"
}
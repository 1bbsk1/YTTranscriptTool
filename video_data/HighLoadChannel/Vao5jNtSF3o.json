{
  "video_id": "Vao5jNtSF3o",
  "channel": "HighLoadChannel",
  "title": "Масштабируемая конфигурация nginx / Игорь Сысоев (Nginx)",
  "views": 379,
  "duration": 2663,
  "published": "2017-04-22T14:47:46-07:00",
  "text": "а меня зовут игорь исаев я автор джон икса и сооснователь одноименной компании но немножко о нашей компании основана она была в 2011 году летом мы открыли московский офис осенью мы объявили о сам процесс кабеля судане компании и получение финансирования тогда же на спроса первый коммерческий клиент netflix летом 13 года мы выпустили наш первый коммерческий продукт весной этого года мы провели первую конференцию в сан-франциско и вот осенью вторую конференцию приуроченную к десятилетию первого выпуска engine.exe среди наших клиентов в которых я могу назвать крупных по ближним так среди крупных клиентов это но не считая на google air если вы летали в штатах в самолёт дельты то это вот вай фай который предоставляется на борту home depot и discovery decoration у нас два офиса один сан-франциско 2 москве сан-франциско занимается продажами разработать бизнес элементом маркетингом представилась и produce меньше там москве особенно идет разработка программ обучения и поддержкой и мы нанимаем программистов носи в основном наши продукты это мы продолжаем разработку консоль со с момента основания компания темпы разработки существенно увеличились поскольку работает ни один человек а больше над этим продуктом в рамках конкурса мы оказываем на платную поддержку и второй продукт это индекс пласт это коммерческий продукт закрытый он основан на open source и плюс несколько коммерческих модулей advancing мониторинг конфигурация и такая фича как несколько вариантов видео стриминга вот на не дженкс кроме можете посмотреть детальное описание на explo со ну и кроме того в этом году у нас в компании родилась 4 ребенка это тоже своего рода продукт и так собственно переходим к теме доклада я буду а не говорить а масштабируем и конфигурация дженкса но это не означает что это не о том как обслужить на с помощью индекса сотни тысяч одновременных соединений в принципе индекс для этого настраивать особенно не надо нужно выставить число адекватно число рабочих процессов или поставить его в режим auto поставить варги конечно там в 100000 соединения после этого заниматься настройкой ядра то есть того ли через число сокетов файлов в сетевой буферов unity файловую систему сетевой стек так далее это вот гораздо такая более глобальная задача чем настройте джон x поэтому я буду рассказывать о том не а другой масштабируемости а масштабируемости конфигурации engine.exe то есть как обеспечить рост конфигурации от сотни строчек до нескольких тысяч и при этом тратить на тратить время на спросите неда конфигурации по минимуму присылать на константное время такой же как была вначале значит почему собственно возникла такая тема 15 лет назад но чуть меньше я начал работ from harry и весь reroll сервера в частности apache и apache есть такая очень неприятная особенность которую хорошо профилируйте вот этими двумя конфигурациями здесь два locations и они идут в разном порядке и запрос запрос один тоже запрос в зависимости от того какая конфигурация используется будет обработан разными файлами либо это будет печь печь на файл либо это будет истина то есть порядок а значит имеет значения если мы работаем с конфигурацией apache самое неприятное то что отменить это нельзя то есть apache помех при обработке запроса он проходит по всем кстати кто еще не помнят по кто еще помню как там говорить apache прекрасно вот при обработке запроса вам проходит по всем локейшн он пытается найти те которые совпадают каким-то образом с этим запросам и все и собирает конфигурацию из всех этих логично фонд сливает ее и в конце концов используют результирующие это удобно если у вас маленькая конфигурация она позволяет сделать ее еще меньше но по мере роста вы столкнетесь с такими проблемами что допустим вы добавляете какой родного locations в конце он все работает прекрасно но потом вам нужно поменять конфигурацию середине или например выкинуть локейшн на середину стола не актуально и вам нужно просмотреть всю конфигурацию после этих локейшнах чтобы убедиться что все продолжает работать как раньше то есть таким образом конфигурация прощается в карточный домик вытащив одну карту можем порушить всю конструкцию в apache чтобы так сказать добавить аду в конфигурации есть еще несколько секций которые работают точно так же они обрабатываются в разном порядке но конфигурации из них всех собирается и создается 1 развития конфигурация все это делся в runtime а то есть если у вас много модулей то каждый в каждом модуле будет происходить слияние конфигурации вот это наверно частично объясняет почему индекс в какие-то тестов быстрее apache то что яндекс грантами конфигурации не сливает вот часть этих секций и большинство директив можно разместить ваш текст с файлов которые раскиданы по всему сайту вот а для того чтобы сделать жизнь ваших коллег war вашей ваших коллег еще интереснее эти файлы можно переименовать вот и ищите эту конфигурацию вот ну и последним вишенка на торте это ребра и труды который позволяет сделать конфигурацию похожую на сын файл только помнит как выглядит классической конфигурации info немногие люди оценили юмор потому что к счастью уже не все большинство вообще не знают что такое rewriterule тут вообще кошмар очень много администраторов приходят не столько с бэкграундом apache сколько с бэкграундом администрирование apache на разделяемого хостинге то есть когда единственное средство администрирования то было checks с и вот они в этом офисе делают очень замысловата ривера и труллы которые очень тяжело понимать и силу синтаксиса и сил логике так вот это был один из недостатков патча который меня очень раздражал он не позволял создавать конфигурации достаточно большие и в ходе разработки феникса это я хотел изменить это я исправил много таких раздражительных черта патча добавил своих собственных вот ну и собственно как выглядит пример из предыдущий пример для патча в тбилиси выглядит вот так но в отличие от apache не зависимости от порядка этих лакей членов запрос будет обработан одинаково почему потому что джон x ищет совпадение максимально возможного падения и после этого выбирает именно этот локейшн максимально возможность падения с префиксом логично не заданном регулярное выражение вот используя конфигурация только этого локейшн а все остальные логичны игнорируются такой подход позволяет писать конфигурации сотни логично и не думать о том как это будет влиять на все остальное то есть своего рода контейнеры то что сейчас популярно by rohit популярность подход докера это тоже самое вы изолируете обработку в одном небольшом месте значит рассмотрим как джек собственно выбирает какую конфигурациям использовать при обработке запроса первым делом ищется подходящий под запросы сервер выбор общается на основе сначала адреса и порта а затем уже всех привязанных к данному адресу и порту имен сервировку то есть если вы хотите допустим разместить сервер на нескольких адресах и хотите описать там кучу и но серверов есть вы хотите чтобы все эти имена серверов слушали работали с на всех адресов то вам адреса нужно по дублировать во всех серверах после того как выбран сервер внутри это первое ищутся ищется подходящий локейшн сначала проверяются все префикс на и lucky shine ищется максимальное совпадение потом после после этого проверяются существует ли регуляр при логично заодно и регулярным выражением поскольку для регулярных выражений мы не можем спицы фирова определить максимальное максимальное совпадение то выбирается первая совпавшее выбирать locations у которого регулярно уже не совпало самом первом то есть первый побеждает вот и после этого используется именно в горация этого логично если же регулярное выражение ни одно не совпало то используется конфигураций которая была найдена до этого с максимально запада чем префиксом почему собственно вы ожидаете появились регулярно выражения они добавляют вот эту зависимость от порядка таким образом создавая не не поддерживаем плохо поддерживай конфигурации потому что жизнь она сложнее теории и очень часто люди используют в общем структура сайта это такая свалка из кучи статических файлов там скриптов и так далее и в этом случае единственный способ как-то разрулить все запросы этого такие регулярные выражения вот но вот этот пример это как стать просто иллюстрация ни в коем случае так не делайте если у вас уже такие сайты есть их нужно переделывать что-то более нормальное с префиксами rest подход с подход статьи идеально ложится в эти префиксы поэтому это модно это нужно использовать но когда я рассказывал о порядке обработки конфигурации это был первоначальный дизайн потом появилась возможность описывать локейшн а внутри логично то есть такие эксклюзивные логичны вот и порядок немножко изменился адаптировался то есть начало ищется максимально-максимально совпадающий префиксы локейшн потом внутреннего ищется вложенные логично это могут быть либо тоже префикс на меня после этого в него внутри него опять лишиться максимальной подаче привез логично и вот такой-то рекурсивный поиск делается пока мои собственные дойдем до логично в котором ничего ж нету под и после этого мы начинаем проверять логично с регулярным выражением выражениями в обратном порядке то есть мы вот ваш лифтом в какой-то locations в самой вложенной смотрим если там регулярно выражения если нет то спускаемся на уровень ниже и так далее опять же первая совпавшее локейшн с регулярным выражением побеждает вот но вот этот подход позволяет сделать вот такую обработку то есть у нас тут есть два locations регулярно вооружениями но для запроса админ индекс спички будет выбран вот этот вложенный 1 локейшн они 2 кроме того регулярное выражение вот вторую часть поиска регулятор же не можем запретить если пометить локейшн таким символом сырком flex и тильдочка то есть это это запрет регулярно поражения то есть если мы выбрали мы нашли что это в этот локейшн нас показал максимальное совпадение то после него регулярно же не с конца не будут очень часто люди пишут пытаются сделать конфигурацию меньше то есть они выносят части к части конфигурацию входит общую часть и просто перенаправлять туда запрос и вот например вот так вот можно такой плохой способ перекинусь в обработку спички в engine.exe и есть другие методы выделения общих частей конфигурации значит прежде всего это наследование конфигурации с предыдущего уровня значит вот например здесь мы можем описать на уровне htp включить сам файл для всех для всех серверов для всех allocation of и эта конфигурация наследуется во все вложенные серебра и локейшн а если нам нужно где-то отменить сын файл потому что допустим file system его не поддерживает или по каким-то другим причинам то мы его можем выключить конкретном локейшн или в капелле конкретном сервере этот подход ну или например для сервы можем писать общей рут где нужно его переопределить этот подход отличается от apache потому что мы знаем конкретные места где собственно искать нам общее части которые могут повлиять на наш локейшн второй подход а но единственно что нельзя делать разделяемым это например на уровне уж теперь нельзя описывать locations это был сделал сознательно в apache это можно делать это доставляет немало проблем при будущем используем то есть начали кажется хорошо а потом окажется что это не очки ваша и человек говорит будь проклят тот день когда я сел за баранку этого пылесоса и тогда я должен exe и есть ну лично я предпочитаю эти логично описывать явно прямо в конфигурации вот если вам это не хочется сделать вы можете его included через внешний файл но теперь я бы хотел поговорить о собственно почему люди хотят писать меньше то есть почему они делают шарит эти разделяемая конфигурации они думают что они потратят меньше сил на самом деле люди хотят несколько меньше писать сколько меньше тратить времени но о будущем они не думают они думают если они вот напишу сейчас меньше то так же будет и дальше они потом будет меньше писать правильный подход это использовать копипаст то есть вся конфигурация должна быть внутри логично должны быть все необходимые директивы нужны для его обработки то есть допустим у вас и j'ai pas и и прокси постам с нужными заголовками и так далее обычный аргумент под любителей до до 35 и заключается в том что если мне надо будет что-нить исправить то я это могу вот собрать в одном месте у меня все будет прекрасно на самом деле современные редакторы имеют только функциональность фомин риплейс вы можете спокойно если вам нужно что-то исправить например ими бэг-энда да или там порт бэкэнда или поменять рутом память как заголовок передаваемый бэг-энда все это делается с помощью файла для того чтобы понять нужна ли вам в данном месте поменять какой-то параметр достаточно пары секунд то есть восстала кечинов вы на каждом логичным потратите по две секунды от вас будет 200 секунд три минуты это немного а вот когда вам в будущем придется развязать какой-то локейшн от общей части то вот это вот будет уже гораздо сложнее вам нужно будет понять собственно что что собственно менять как это будет влиять на другие лаки шины и так далее поэтому что касается конфигурации engine.exe нужно использовать копипаст вообще говоря администраторы не любят тратить много времени на своей конфигурации я в общем то сам такой администратор может быть там два три любимых продуктов они могут с ними возиться очень много при этом существует десяток других продуктов на которые с которым хочется тратить по меньше времени нужно примерно у меня на персональном сайте есть почта это их зим до вклад и я могу сказать что я их не люблю администрировать я хочу чтобы это непростая ли работали а если над счет добавить это что чтобы это заняло там буквально пару минут я не хочу изучать конфигурацию просто лень и я думаю что большинство администраторов индекса они точно такие же то есть им в общем-то администрируете джинкс нужно как можно меньше того чтобы он работал и если вы такой администратор то пользователь копин копипаст потому что дон три пятна самом деле он когда мы смотрим на результат дон пепито то да мы видим что вам как бы мало повторения но мы ж не знаем что предшествовало этому а предшествовал этому огромное повторение разных вариантов конфигурации то человек на самом деле очень много повторял пробовал так и так в конце получилось красиво скорее всего вы не захотите этим заниматься поэтому копипаст это вот очень актуальный подход но вот примеры того как как можно коротенький конфигурации не масштабируемый в будущем конфигурации превратить в то что надо вот не право так вот локейшн человек думает о написала регулярное выражение все мало все хорошо на самом деле поскольку здесь обнажение это плохо она может влиять на все остальное и поэтому вот лично я делаю так один раз я вернулся из отпуска вот я вот эта конфигурация она так вычтут достаточно получается пока я был в отпуске один из программистов может а здесь присутствует ну покрайней на стенде есть бабук он вот именно такую конфигурацию засунул индекс я пришел запускай креативы вот такое если вам если у вас этот рут общей общее для всех для всех локейшнах ну или по-крайней мере используется большинстве из них то это можно вообще превратить вот в такое это все легально конфигурацию совершенно пустая конфигурация логично второй способ второй способ как использовать копипаст вот избежать каков к в этом мире копипаста это вот такой пример программисты администратор которые пришли за патча они думают что админ индекс печки должен запрашивать авторизацию потому что в apache работает именно таким образом engine.exe это не работает поскольку электрички обрабатывается под в одном lucky lucky админ совершенно другой вот но можно сделать строй вложенную конфигурацию и в этом случае яндекс пичкают естественно просит авторизацию и очень часто бывает так что на несмотря на то что мы сделали нормальную структуру сайта все равно нам нужно использовать регулярное выражение для того чтобы выкусывать какие-то части и sur la использовать их при обработке вот это плохой способ правильный способ это использовать внутренние вложенные лакей шины таким образом мы изолируем регулярное выражение от всего от ли курации всего остального сайта то есть дальше этого логично который локейшн имидж который помещается на экран управления не уйдет и мы можем собственно не беспокоиться о том как это будет влиять на остальные на остальную конфигурацию второе второе место где в общем можно использовать регулярное выражение в engine.exe достаточно безопасно это bp то есть формировать переменной на основе каких-то других переменных с помощью регулярных выражениях и выражение так далее я ничего не сказал как использовать евро это потому что их не надо использовать вообще то есть вот если вы не можете использовать не использовать re в райт это просто используйте их на стороне бэг-энда там вас есть хороший язык программирования бетон руби pearl то но ds и так далее вот в нем программировать о важных случае пусть роутер запросы на разные бы камбий его значит и вот это тоже не рекомендуемое конструкцию алексей почему потому что вот как работает внутри его знает там человек десять в мире вы вряд ли вы входите число вот значит вот такая конфигурация когда у нас два ифа истины ожидается что у нас будет выключен gzip и будет выключен или то я на самом деле от работает только вот этот последний iv почему так происходит это очень грустная история вот но вот такой их нельзя использовать есть одно безопасное использование iv это когда вы используете их для возврата ответа клиенту можете использовать играет в этом месте я его не люблю я использую retour он позволяет там добавить код и так далее но коротко говоря значит резюме такое использовать желательно только префикс нелогичны избегать регулярных позже не если же все таки регулярное выражение вам нужны в конфигурации то их лучше изолировать используйте мы не слушайте людей которым будут говорить что дон 35 узлов это вообще такая всеобщей парадигма это хорошо когда вы вам нравится продукт или вы или вы программируете продукт если вам надо просто облегчить свою администрацию жизнь копипаста это для вас ваш ваш друг это редактор с хорошим fine dry place не используя евро это и используй их только для возврата какого-то ответа клиенту здравствуйте игорь такой вопрос если я использую является http на https его где лучше использовать в яндексе или на бэг-энде его использовать в джеймсе то есть но реально это сделать вот как вы делаете 21 серия у вас план текста который и он делает ребра льда или или он там еще что должен делать если он делает только реву right to просто в этом месте там будет буквально несколько директив сервер десантом на борту серверным если нужен и return там 300 301 или 302 на дтп с дублированием request uri собственно вот так вот он будет выглядеть там даже не врать не нужен нужен просто retour то есть но сколько четыре строчки вот если вы хотите что-то более сложно сделать но где-то там можно вставить их допустим бы часть локейшнах у вас если если у вас есть какие то логично которые могут отрабатывать тексте но опишите и их с помощью регулярных выражениях в небе например на а все остальное можно redirect на почти без ну или на ставить наоборот внутри внутри с каждого локейшн напоив о который будет redirect почти без вот так так наверно здравствуйте и спасибо за engine немножко шутливый вопрос не планируете добавить ключ запуска или ключик компиляции которые который допустим не даст использовать директивы include мне даст использовать их не даст использовать регулярные выражения в локейшнах ну такой ну минус минус игры sony от вряд ли мы обычно добавляем здесь какие-то директивы нам не нравится мы улучшаем и потом мы делаем эти деньги у deprecated они какое-то время выводят wording влоги переждем пропасть полностью вот но они работают каким-то в каком-то режиме вот но я думаю вряд ли мы это будем делать мы лучше напишем хороший юзер гайд как правильно использовать возможно по материалам этого выступления добрый день игорь спасибо за доклад обычно я здесь а все обычно желание которое возникает при использовании iv это потому что его можно использовать в сервере его лакей шине omap использовать нельзя почему так получилось нет map значит смотрите все переменные между лекси они вычисляются он demand то есть если мы подписан на уровне htp это не означает что при обработке запроса эта переменная будет вычисляться обязательно поскольку она вот как бы на уровне тебе map он нужен для того чтобы отмотать что-то в одно а потом что-то одно в другое а потом результат вот эту режим переменного можете использовать wi-fi или вы можете использовать там внутри какого-то там выражения проектировать куда-то там еще зачем-то то есть мы по это просто но как бы декларация может быть их имеет смысл переместить на серверов для того чтобы сделать их локальными для сервера то есть если у вас одна и та же переменной и вялость именно в этом одна переменная нескольких серверах мы имеет разное для локальные переменные в на рыси но там просто просто сложнее программировать поэтому они будут были вынесены на глобальный север локальных переменных нет engine.exe которые были бы локальные там для серверов допустим понятно спасибо но с точки зрения perform если никаких проблем нет то есть это просто не но неудобства для то есть надо будет сделать там допустим 3 сервера 3 мипо и у переменной будет префикс там сервера будет очень много переменных в плане рождения ну вы можете в принципе описывать перед сервером то есть вот этим и п до 1 мы потом перед первым сервером потом перед старым сервером то есть под по конфигу не надо будет скакать вверх-вниз они будут ближе к серверу ну вот только так понятно спасибо добрый день игорь меня зовут андрей спасибо за доклад и и конечно за индекс вопрос такой я плохо знакомы с лайкой работы return of расскажите пожалуйста где стоит совсем-совсем может быть стоит использовать приторными store крайтов какие то есть кейсы конкретные смотрите вообще revo райт заменяется на такую конструкцию locations регулярным выражением в котором можно сделать какие-то кетчуп захвата и выделение и на на директиву риту то есть один ребра это вот левая часть ребра это это в лакей шине правая часть ребра это это вот то что будет were турне после после кода ответа вот но retour в этом плане при предлагает что он вы можете вернуть разных вот ответы допустим ребра и тон для возврата клиента он может вернуть только тампе редирект 301 302 а вот риту можете 404 с каким-то телом может вернуть так 200 там 500 можете внутри директ и у него есть еще вот эти тела которые можно использовать переменная там чего-то написать вот если это у нас 301 320 то это не тело а это уже url на который нужно сделать redirect но в общем uri turn a popup побогаче и функциональность вопрос такой насколько хорошая идея хранить user password для скриптов передавать их через инвариант варя близ внутрь то есть допустим пить притом нужно к мы искали подключиться по этом типе что-то отослать вот где то эти пароли нужно сохранять все равно вот насколько хорошо их будет с точки зрения security туда в конфликт навестить и их передавать скрип элита антипатр но не затрудняя сказать но переменных вообще говоря это все можно увидеть переменных вы можете увидеть pcx и увидеть все переменные относясь относишься к какому процессу соответственно в переменной среде и и может увидеть любой пользователь который работает на вашей машине то есть если это проблема та ну а то же самое в конфигах если вы запишите я не доступны для чтения там пользователям который вы не доверяете будет та же самая проблема нет я не знаю не могу сказать правильный подход в этом деле но выносить куда-то отдельно но все равно делать права на доступ то есть памяти конфиг возможно его имеет смысл читать большему числу людей которым нужно смотреть пара лица поэтому возможно пароль ваш скрипт должны хранить это в более защищенном месте с правами которые вам этот скрипт имеет и все остальные не имеют ну понятно да что когда все вместе это удобнее разбивать кстати не все так думают почему то этой колоды например да почему люди included потому что и вот раздельные удобнее обмен примеру удобнее вместе вот в каких случаях кому то удобней вместе кому-то раздельно вот но здесь данном случае не столько вопрос неудобства безопасности безопасность и удобство они как правило чем более удобнее тем менее безопаснее наоборот у меня такой прикладной вопрос да здесь джеймс можно использовать как почтовый прокси правильно да я пытался решить эту задачу и не всяко не всякий почту просим возможно вы решали задачу для которого он не предназначен ну вот вот и наверное мне щас кажется что такой зачем можно или нельзя можно ли дать smtp доступ значит почтовый клиент отправить письмо через этот почтовый клиент и jensen перехватить данные и отправить на скрипт миную почтовый сервер сейчас мы также сдачи реализуем используя в там постфикс он перехватывает письмо и дальше кидает на скрипке там происходит абразивная обработка а вот можно минуем почтовый сервис просто используя джинса как большой прокси сразу по сажай кидать соответственно я сомневаюсь что это может сделать я могу описать кратко функциональность которая есть высыпи практике прокси engine.exe значит он умеет делать что к нему соединяется из и теперь smtp клиент показывает какой-то там а у дефекацию там юзер нэйм пароль там или там подобное nx из какого-то внешнего скрипта убеждается что ну никак он он идет во внешне скрипта скрипт проверяет его имя пароль а потом говорит что собственно пускать этого клиента на какие-то сервера но и передает какие сервера конкретно либо не пускать вот собственно и все что он умеет делать если куда-то пускать the engine expose mtp соединяется с этим сервером и передает ему вот вложиться ли это ваш сценарий они не могу сказать вряд ли восседает там по крайней мере никого не появляется вот-вот собственностью я могу рассказать почему появился ты сам типе прокси с авторизацией потому что в рамблере для клиентов почты но есть специальный сервер через которые эти клиенты могут отсылать почту и так оказалось что там процент 90 всяких соединений это не клиенты роберт спам и вирусы вот и вместо для того чтобы не нагружать постфикс и не подымать лишние процессы по все это дело значит перед этим поставили нужен x который проверяет вообще является дает предоставлять и этот клиент вообще круто авторе за там имя пароль трицио nike только не или нет потому что боты и спама они просто видят что есть сервер который отвечает косынки передаем туда сходим естественно ничего такого никаких передачи вас не могут предоставить вот вы собственно вот для этого ли было сделано просто чтобы отбивать вот мусорных клиентов ваш поттер но вряд ли положиться чем еще вопрос такой а вот на этапе разработки допустим периодически ну раньше было хорошо хоть access отдал программисты он там делает что хочет а вот как бы а теперь а теперь все программист или значит когда такими руками в к фигура и начинают дергать по памяти как-то решать этот вопрос просто на этапе разработки пока никак дело в том что вообще не нужен из не при начался для разработки но для каких то таких небольших сайтов он предполагал серьезные нагрузки и предполагалось что конфигом занимается вполне определенные люди то есть но это компания тамбур не rambler там дофига запросов в секунду вот но люди вообще пытались использовать непонятно где везде вот но вот так вот получилось то есть вообще не планировался изначально делать так чтобы можно было там конфигурации подгружать на лету просто стеллу специфики цели которые остались при разработке серого пока так спасибо за может быть может быть вопрос такой может быть немножко не по теме предположим вы администратор молодой начинающий вам поставили задачу создать веб кластер из трех или более not с мускулом тоннель в общем как бы вы решили эту задачу по хорошему по по православным тексты не знаю я в маску или не понимаю поэтому не могу сказать православные методы работы с моим стилем с индексом но как сексом ставите допустим выберите два индекса со дня их через карп либо там верди еще каким-то образом бы это если вот более надёжная схема а про маской ленчик я не могу вы сегодня минули про контейнеры и то есть и я вижу это конечно многообещающей подход он подразумевает изменяющуюся топологию и динамического конфигурация сейчас пока плевать к тому что люди строят какие-то внешние некие постели которые периодически реагируют на событие изменение топологии генерят через какой-нибудь шаблон актуальный конфиг джинса подсовывают его и пинают чтобы перечитал конфиг ну благо рилот мужчин все делается без потерь коннектов поэтому это уже здорово но просто интересно у компании есть какие-то планы по развитию в сторону вот контейнеризации в сторону обеспечивания более удобных естественных средств для этого тренда но что вы позовете под контейнерами данном случае когда говорил про контейнеры сравнивал да я говорил о том что о дате локейшн они выглядят изолированно друг от друга нет и мы вернулись конкретно обратно к джокеру кажется запуск брендов где-то в контейнерах который динамически исполняться на разных состав и нужно ну грубо говоря добавить балансировку новый хост у нас индекс класс 20 лет balancing он как раз одна из его частей про вызывает то что вы можете эти ops 3 мы динамически добавлять в добавлять сервера в up stream вот то есть получается вам не нужно делать рилот конфига engine.exe еще делался на лету а то есть api и как отлично холсте кита что до включили там включены активные холсте кита есть вообще говоря обычно ну позор секс когда он соединяется с бэндом если backend не отвечает то значит backend к нему 173 времени обращается то есть своеобразный холсте кто же здесь есть но страдают клиенты то есть если у вас там допустим 50 клиентов одновременно пошло на один backend а он лежит там допустим по таймауту отвалится там через десять секунд до или пять секунд по клиенты это увидит и только после этого их перебросят на другой up stream значит в в данных спаси у нас есть активные про активное тестирование брендов то есть backend и сами тестируются и клиенты на вот эти вот упавшие бэг-энде просто не посылают отлично спасибо и раз есть активный холсте кто может уже и запилили тогда красивую джейсоном образную страничку статус и которые можно парсить у нас да я съесть там мониторинг доступен в том селе джейсон он есть виде красивого кота миля его ты можешь чудесам получить отличное большим"
}
{
  "video_id": "kkRFMCCLULU",
  "channel": "HighLoadChannel",
  "title": "Как мы оптимизируем процессы в заказной разработке / Кирилл Ветчинкин (paysystem.tech)",
  "views": 2306,
  "duration": 2896,
  "published": "2019-05-15T05:30:26-07:00",
  "text": "коллеги всем за меня зовут vicini кирилл я skamp в кратце расскажу чем мы занимаемся компания как видно из его названия заниматься финансами технологий то есть мур заказ разрабатываем крупные большие системы для телекома для банков и так далее то есть это не заказная разработка каких-то там маленьких сайтиков липатников это большие серьезные системы связаны с деньгами я в этой компании архитектор руковожу разработкой и практику отжал микро сервисы и дпс соответственно с помощью этих всех подходов мы сегодня будем с вами срезать касты в какой-то некой потоковой разработки просто будет вообще доклад сначала мы поймем проблематику экономик вообще в принципе заказа на разработке потому что она но отличается продуктовый там немножко всё по-другому посмотрим на какие способы снижения издержек они могут быть как процесс на и так и технически процесс на мы снизим за счет всяких подходов типы линн и канбан технический за счет одного пса микро сервисов и прочих вещей потом посмотрим что получилось то есть у нас будет структуру проекта и мы будем постепенно многие его кусочки уменьшать за счет разных подходов ну и соответственно в конце будут вопросы давайте сначала в принципе далеко не все знакомы с тем что такое заказана разработка быть может у кого то скорее всего какие-то негативные впечатления это этого слова вот посмотрим как она выглядит в нашем случае решение под ключ то есть мы делаем систему от и до от идеи до реализации внедрения и поддержки то есть это управление проектом и аналитика разработка и контроль качества то бишь тестирования инфраструктуру то есть настройка всей системы чтобы она выехала на продакшн и на все другие здесь среды и соответственно после релизной поддержка и отличие как раз заказной разработке продуктов и что продуктовый какие проблемы вас есть какой-то один продукт и очень много людей если продукт успешной и вот как-то нужно этих людей организовать чтобы они продукт могли разрабатывать здесь история немножко другая проект идет один за одним и просто проектов много людей и как раз не так ты сильно много но проекта очень сильно похожи вот и проблема она именно в том что как раз проектов многое мы должны как бы оптимизировать никакие общей части между ними чтобы как раз не жаждите касты этим мы сегодня будем заниматься что хочет заказчик вот классический любой заказчик не обязательно войти в принципе он всегда хочет быстро он всегда хочет качественно он всегда хочет недорого ну как вы понимаете так бывает не всегда как это происходит обычно кто связывался с какой-то заказанной разработкой скорее всего ну быстро наверное да это гораздо есть во сне собственных команда вы что-то заказываете вам это быстро делают но потом в долгосрочной перспективе это решение не очень качественная а качеством сложно контролировать скорость может замедлиться недорого да это дешевле то опять же таки на раннем этапе чем содержать свою команду качественно ну в большинстве случаев нет то есть заработок происходит за счет того что просто выдается продукт с чуть с нежным качеством снаружи он выглядит в принципе как полноценный продукт это очень сложно следить и за счет этого как раз помещается the same дельта за счет которой мы можем заработать посредственно решение могут быть пилону заказчику и лишь бы сдать то есть лишь бы сдать этот проект и соответственно в конечном итоге есть мы будем проводить аналогию со у нас фабрика по выпеканию кода слова выпекания это некий пищевая промышленность поэтому нас будет некая налоги с пищевой промышленности будет примерно вот так вот то есть вот как написано быстро вкусные дорогам и тем не менее то палатка выглядит ну совершенно не так как на не написано существует так заказана разработка бывает но если там нативные пути заказчик все таки хочет чтобы ему вот что-то было типа ресторана чтобы было все очень круто что быстро но в ресторане вас быстро не обслужит потому что там вы захотите кит уникальное блюдо это будет сложно организовать поэтому он быстро нет недорого в ресторанах очень дорого если делается такой серьезный продукт для заказчика тоже это будет дорого но вы просто не сможет купить будет мега качественным возможно даже слишком качественно и никому не нужно то есть вы никогда такой продукт ну в заказной разработки не сможете продать потому что дешевле организовать свою команду чем сделать так но первый второй способ как вы понимаете нас не устраивает есть третий вариант который мы все знаем которые в принципе быстро да мы можем любую булочку купить за минуту может быть даже за секунду недорого недорого качественно качественно то есть все желания заказчика есть мы будем проводить аналогии допустит макдональда мы выполняем более того магда нас есть процесса еще измеряем этой стоимость того же биг мака она складывается из стоимости разных процессов который должен был созданиях это сбалансировано то есть люди эти процессы как бы оптимизирует их выстраивает определенным образом чтобы выбирать различные издержки и поскольку все выстроен в процессах это все предсказуемо и вот в чем разница между одним подходом и вторым вроде как бы тут раз булочка стоит дешево и здесь дешево но в чем разница разница в том что здесь либо вообще нет процессов либо неплохо работают а здесь просто компания пронизана процессами и когда мы говорим пройти нам нужно быть где-то в правой стороне построить процесса и соответственно суметь их оптимизировать в левую сторону лучше не тим это не очень хорошо здесь у нас другая история то есть мы и слева и справа обеспечиваем качество но слева у нас скорее проекта чем процесса то есть это уникальностью приходит в ресторан говорите мне стейк средней прожарки блюдо пожалуйста могло что-то придете вам так не скажут потому что здесь у нас скорее всего гибко но неэффективно то есть это гораздо медленнее они могут выпекать много учить их булочек здесь у нас не гибко мы приматы при этом эффективно и нам соответству же войти нужно найти некий опять же таки компромисс мы поняли что нам нужно и эффективные процессы но мы хотим еще чтобы раз благе пакость и как раз у нас есть эти практики которые нам позволяют быть гибкими это микро сервиса докер контейнеры всякие различные практики два пса таких про строчках скотт разные пакеты и так далее но при этом мы поняли то что процесса это достаточно эффективно и если мы их выстроим то это тот способ когда мы сможем понимать где у нас провалы в процессов и эти провалы соответственно устранять соответственно наш дальше дальше мой рассказ будет построен на оптимизации процессов мы посмотрим как мы выстроили процесс цепочку создания ценности и потом уже мы перейдем как мы с помощью различных технологий технически как бы моменты оптимизировали все вы знаете про то что такое лин это подход к управлению производственными предприятиями по сути его основная цель это снижение издержек то без устранения потерь и вот его стандартный цикл мы должны определить ценность затем понять как мы эту цену создаем обеспечить этот поток позволит клиенту вытягивает и соответственно постоянно повторяется цикл тем самым улучшая улучшая наши процесса сначала мы должны будем как раз следовать этому подходу определим ценность ценность вас уже частично известно мы хотим поставлять продукт заказчику в заданное время в определенной рыночной стоимости и заданным качеством то есть чтобы вася качество не страдала это как бы основная момент что мы не будем сегодня снижать качество качество у нас останется на постоянном такой же как и в продуктовый разработки мы будем снижать все другие издержки сцену что и разобрались теперь нам необходимо обеспечить поток создание ценности когда мы не внедрили канбан доску у нас вывела примерно вот так то есть у нас был фокус на скрам команду там все как бы метрики все собиралось вокруг людей которые тестировщики разработчики все что происходило вокруг она была вот как тут что то происходит как здесь написано было непонятно что там как там делается аналитика как это все делается это не измерялось не визуализировать вообще было непонятно то есть это было просто неизвестно а вот как раз в этих местах и возможно были у нас как раз провала что заменили соответственно наша новая цепочка создания ценности выглядит вот так то есть у нас разработка девки и abs это то есть разработка тестирования и поддержка как были в одном звене этой цепи так остались потому что они не последовательно это не очень хорошо той создавать функциональный колосс они работают параллельно но при этом мы выстроили процессы нарисовали доску который час мы посмотрим на следующем слайде где у нас визуализировано работа аналитиков и соответственно поставкам таким образом добавились новые как бы это этапа на доске и мы можем собирать различные метрики такие как the mid market with time сколько у нас задача правило в какой-то конкретной колонки и потом соответственно задать себе вопрос а почему у нас там задача пролежал в аналитике девять дней или почему мы и разработали а потом и за неделю не могли за доплыть в чем проблема что мы можем улучшить и так далее вот это реальная доска которая выстроилась то есть по сути доска который как создает ту самую ценность от идеи идея это backlog баттлоге это то что заказчик хочет то есть какие-то очень шли квесты какие-то вещи селектор колонка это то что вот эта колонка это то что им решил что он заказчик может голосовал аналитик может брать этого работу и вот анализа здесь одна большая колонка в которой по три под колонки это когда происходит аналитика мы сейчас этот процесс подробно разберем то что в нем были очень большие проблемы и как раз здесь у нас получилось их решить ну и потом самый последний колонка это груминг это огромный стандартная скрам мероприятие когда команда оценивать задачи я не буду говорить скрам потому что скрама другая экономика я говорю буду варить про торцом на разработку потому что все таки нам удобно разрабатывать итерации поэтому при этом все собрания которые присутствие с краями у нас они остались и они присутствуют это вторая часть доски не просто не все влезло тут она соответственно буфера это то что готова взяться в операцию и соответственно разработка quay и квест завершён и соответственно задача выполнена доставлен до продакшена муки мы определили цепочку создания ценности она нас теперь визуализируем ему мы понимаем где у нас какие задачи находятся где у нас простой где что но здесь есть такое слово потери как раз то чем мы сегодня будем заниматься как раз и будем акцентировать ваше внимание на потерях на том как их устранить в линн 7 видов потерь это перепроизводства когда мы делаем что-то лишнее лишние движения когда мы что-то производим но делаем что-то не самым оптимальным способом лишние перемещение это скорее больше производственная поскольку все это идет от производства от от заводов войти вряд ли это можно найти это та когда у нас допустим тележка по завода едет не по самой оптимальной траектории лишние запасы тогда у нас какой-то склад образуется и нам нужно платить за этот склад ах охранять этот склад и так далее в нашем случае это задачки от аналитиков которые не избыточно разработали мы это тоже рассмотрим избыточном работка простое ожидание брак вот как раз на эти семь видов потерь который существует ли мы сегодня будем ориентироваться и смотреть какие у нас были проблемы и как мы могли их зама пить и соответственно устранить то есть вот эти потери не никак не приводит к повышению то есть не проводит ток их затратам то есть продукт становится просто из этого дороже но они нам абсолютно не нужны от них надо избавляться про канбан мы с вами уже поговорили то есть команда sca вы видели как технологии будет использовать micro series 2 в частности сейчас я просто расту ассасин немножко затронем потому что то у всех есть не думаю что вам это интересно и соответственно обучением вот типовая структура продукта как выглядит продукт пропорции примерно соблюдены там плюс минус то есть любой продукт который мы делаем он состоит из самый массивный кусок это архитектура и соответственно чуть поменьше будут тесты затем инфраструктура для того чтоб все это собрать нужно аналитика у нас проекта бывает сложно это интеграции с банками интеграции слаженными apple pay my samsung pay me то есть там вот так прийти на груминг как и сказать я как заказчик хочу чтобы нажимать на кнопку была dota такое невозможно здесь нужно все-таки провести некий бред какой-то research чтобы команде принести уже более-менее какой-то обработаны задача вот поэтому есть еще документация есть я и сиди небольшой квадратик естественно все это то появится с коробки автоматом и есть процесс то есть я наши коммуникационные интеграции транзакционные издержки на управление проектом на встрече на демона груминга на стандарта это все вот здесь и естественно оценка оценка это любой проект который мы берем его и сейчас нужно оценить насколько мы его сделаем в принципе и вот сейчас мы будем эту схему как бы уменьшать для того чтобы вы какие-то пустые места сэкономить скажем так сделать их более оптимальными вот наша цепочка создания ценности я добавил здесь один кусочек называется присел это как раз та самая цен к она делается в самом начале проект еще до того как мы начинаем заниматься поэтому стоит немножко обособленно мы по ней поговорим отдельно в самом конце когда мы уже проведем некий оптимизации и посмотрим как это повлияло на присел и давайте начнем с аналитики в аналитике у нас были большие проблемы как раз она вас не участвовал ни в каких там на старом доски это было не представлен то есть это как то как то происходило было непонятно как когда построили компом доску стало понятно как это происходит вот и здесь почти мы еще заполнил все виды потерь непонимание то есть мы аналитики они зачастую у них не было понимание что такое vans арсен что-то по microcap сити тур и почему нас 15 bass ни одна база почему у нас эту шутку синхронно взаимодействия то есть в какой то момент когда мы все-таки современной системы разрабатываем рис который приходит с других компаний а у них не у всех так скажем так и их нужно немножко обучать и как раз вот самообучающейся организации они вот как раз про это то есть когда люди прямо на рабочем месте их скиллы растут за счет коммуникации с другими членами команды они в итоге генерирую ли брак то есть приносили команде просто но через квесты которые невозможно было делать аналитика впрок это тот момент как раз когда не думали что мы еще сделаем очень много аналитики очень много требований напишем а потом команда не может переживать столько требований команда потом разрабатывает какой-то один кусочек система приходит другое состояние и получается что-то аналитика которая сделана впрок она просто протухла потому что она базировалась на старом состояния системы сейчас уже другое состояние и приходилось переделывать поэтому нас получалось перепроизводства и соответственно лишние запасы которые портились поскольку не было доски было слишком мало то есть перед плинтов китай спринт кончился спринт начался и сколько у нас задач готова экспериментов было только где-то в голове у менеджер проектов аналитиков на доске что же это видно то есть сразу из задач не то видно что наверно надо что то сделать чтобы не появились и соответственно здесь простое ожидание и безуспешной груминге это следствие непонимания то есть когда на груминг приходит команда восемь человек это дорогие разработчики им приносят задачу и они говорят аналитику что ты и сделал плохо иди переделывай так делается два раза получается перемножаем часы на их стоимость и на количество дней получается что мы потеряли десятки тысяч рублей это неправильно и соответствие медленно работ заказчику когда тоже не подсвечивается некие проблемы когда мы могли там пару писем от про и заказчику и задачу как можно быстрее тот силит продакшен тем самым вас или тайма увеличился когда это не подсвечивается тебе по сути проблемы которые лежат под ковром когда на доске все видно что задача висит уже там не знаю неделю из ничего не происходит сразу же появляются вопросы то есть визуализация это очень классно как мы поступили то есть мы выстреле этот процесс carbon доску котором мы видели мы добавили review нужно было обучать людей показывать им что у нас теперь другая архитектура давать им фидбэк постоянно мы ходили не только как раньше у нас были стандарта и сконцентрированы на именно разработки и тестирования суна стендапа сконцентрированы на потоке создания ценности то есть мы просматриваем всю доску и задаем вопросы почему вот эта задача все еще не злилась право почему нам находится статуя boker почему на неделю пролежало в новом статусе так далее и получилось обучение на рабочем месте то есть мы людям даем фидбэк если они делают что-то не так они обучаются и соответственно за полтора месяца ситуации и справилась мы про этом чуть позже поговорим и у них по или стандарты документирования то есть работа это так что пьём на стендапе то есть это никак с кроме мы можем там росфото рацию задач убраться здесь пожалуйста хоть каждое утро выбрасывая но с одним ограничением что здесь ограничение в 6 задач то есть если здесь пусто пожалуйста выбросов если здесь заполнена то выбрасывать ничего нельзя потому что он сначала штат вытолкнуть тоски что потом что-то не появилась потом задачи берут в аналитику аналитик делают как раз аналитику здесь тоже есть ограничение нашей задачи то есть мы сейчас видим что здесь 6 задач больше сюда взять нельзя можно либо вытолкнуть 2-го груминг либо решить проблемы и тут соответственно получается так интересна история что люди за счет искусственного создания такого ограничения напряжение скажем так они вынуждены как-то крутится вертеться чтобы либо привести груминг с команды либо решить две проблемы и тогда уже пожалуйста можете брать другим к происходит review вкратце расскажу во первых здесь раньше были приходили историю на команде команда цель на какие-то маленькие кусочки они были закончены их можно было выключатель видеть за доплыть но это не был не была какая-то крупная фича то есть архитектор не мог видеть всей картины сейчас же store группируются фичи и как раз и команда ски она высокоуровневая на ней рассматривать именно высокий архитектурные задачи виде fitch в который вложено много разных историях мы отказались от текстовое описание задач мы используем confluence с плагином дрова и о это фактически описание микро сырости туре это очень хорошо заходит потому что у вас там идет фокус больше на коммуникации между разными приложениями обмена разными ивентами разными вызовами так далее какие запросы куда передают плюс можно поставить ссылки посылке это все кликабельно вы можете перейти интерактивно в разные стороны поэтому травой это очень хороший способ он бесплатный можно искал принцем использовать так и без confluence и а либо сеньор либо архитектор делать ревью и соответственно is a kid проблемам задачу ставит блогер пишет комментарии и аналитик делает пранки здесь очень важный момент что он никогда за него ничего не правит он ему объясняет в чем что было не так вот это понимает и сам исправляет с учетом того как он понял и вот здесь задача блокируется 2 момента пока они так не дойдет и какого-то финального состояния таким образом когда мы начали этот процесс ко мне прибежал самое главное аналитик взрослый мужик и которому я написал 75 замечаний вот и он был очень зол и сказал что процесс не работает 1 неделя была дикая боль вот но спустя полтора месяца у нас скорость увеличилась где-то процентов на 25 ничего работает он обучился теперь знаешь ласковым солнцем вот но с одним аналитиком случилось плохо его пришлось от него с ним расстаться потому что он не мог обучаться вот если все окей то заказчик задач приходит в дом и все замечательно вот мы видим как раз 2 заблокирована задача их нужно решать то есть либо команда 1 день там несколько день смотрит на доску либо в крайнем случае ты с утра нас на пи будет подсвечена и будет понятно вопрос задам почему же почему задачи блоки почему на исполнен из правил то и все проблемы они визуализирует очень удобно потом задачу хоть на груминг и так далее есть ограничение про метрики их достаточно много вот и если он говорит про какую-то визуализацию метры кто вот здесь допустим можно на этом графике накопительном достаточно интересно посмотреть его задача чтобы у нас работа протекала плавно то есть не было каких-то скачков и так далее вот здесь я вам говорил что мы все таки не отказались от это рациона разработки то есть у нас поток идет но при этом когда он находит разработки там все таки есть итерации и не мы их делали очень короткими недельными но при этом они есть если мы здесь видим некие ступеньки тут как раз те самые трассы которые начались и закончились быть можем дальше будем экспериментировать и избавимся от них по пока что команде просто дом на стиме работать поэтому мы не стали от них избавляться другой пример как раз про поиск как раз непонятных вещей потерь вот у нас пример задачи мы видим что она была аналитика проведена за 1 час 49 минут но при этом после этого задачи привлёк прижала около 9-10 дней просто с ней ничего не происходило это соответственно как раз тоже все измеряется состоянии задач в каждой колонке потом можно на ретроспективе посмотреть из-за чего так произошло и найти различные решение тому сам раньше это просто не замерял потому что непонятно это нигде не мирилась теперь это мериться весь процесс это видно то есть итог непонимание мы решили review плюс объяснения то есть мы обучаем людей аналитика впрок и to work in progress вот эти ограничения которые стояли сверху слишком мало мы видим просто на доске задачки безуспешной груминге мы соответственно не пускаем просто задачи которые низкого качества они там висят пока их не исправит и медленно раз был работа заканчиваем точно также ставится в блокер а потом на стендапе каждый день и обсуждает почему до сих пор заказчиком не было связи таким образом аналитику нам удалось сделать более компактный то есть люди обучились они начали более эффективно более лучше понимать систему соответственно более лучше работать меньше стало коммуникации между разработчиками имя как бы дали им то что им необходимо документации тон улучшилась появились некоторые подходы которые не понимают более того поскольку система микро сервис на в конференции есть такие возможности как фреймы то есть пишется документации под конкретный сервиса потом фреймами вставляется в какой-то общий цикл то есть получается я называет эти пустоты микро сервисной документации потому что можно писать много маленьких кусочков а потом их собрать в один сценарий и сам ваш оптимизация сам процесс то есть как и говорил то есть скорость увеличится где-то процентов на 25 потому что когда была непониманием она назад еще топтались буквально там полторы две недели и это было просто бесполезно абсалютно идем дальше теперь у нас разработка кей и abs разберем каждый кусочек еще раз повторюсь что ребята работает параллельно это не последовательная работа это в одной итерации соответственно все происходит я говорил что у нас проектов много и они похожи то есть по сути у нас всегда зачастую один тоже стоят технологий это скорее всего какая-то финансовая направленность вот и во всех проектах у нас есть логирование у всех проектов есть авторизации есть отправкой sms от пуша и так далее сиделось это все одно и то же в каждом проекте то это соответственн дублируем функционала то есть избыточный просто работой но и соответственно и мы это делаем постоянно каждый раз твое это совместно могут появиться ошибки решение то что какие-то фундаментальные вещи которые но от бизнес логики никак не зависит то есть по сути технически всякие вещи типа логов то есть логирование неких activitydate trace activity то есть связи соответственно micro series of any в мы детям и общий именно бизнес кусочки они соответственно микро сервисами для этого делаем и все это живет в докере то есть вот пример у таких вот пакетов технических у нас около 30 здесь влезла только часть то есть мы видим что это шифрование и дешифрование она у стандартная по определенному способов реализации протокола работа с фото п то есть логирование оснастки для д д д то есть это такие вещи которые мы никогда не меняется поэтому их удобно в пакета вынести и потом использовать между разными командами к нам а команда же не одна их много то есть одна команда кайта за перила какой-то пакет другие три команды это перес пользовали это очень эффективно там же уже вложено теста и так далее микросфер с другая история это реальный проект который завершился успешно это реально сервиса который в нем присутствует их достаточно много и вот я сейчас посетил красным цветом те сервисы которые полностью перес пользуем и то есть это те сервисы к которой не как безусловно данного процесс никак не affected их они могут быть выделена в абсолютно другой проект что собственно и происходит то есть отправку пушей сборщик логов планировщик отправка смс-ок два фактора авторизации просто авторизация снятие денег ска это вещи которые вот никак не завязано как red light интернет-проекта их у них свои репозитория свои тесты освоишься и сиди поэтому это тоже некой оптимизация таким образом за счет ноги от пакетов за счет используя micro series of мы вас появляется маленькие кусочки как лего конструкторы то есть мы из них можем их использовать в новых проектов поскольку вместе с ними сразу же идет соседи мы его уже настроили во второй раз не нужно настраивать поэтому себя сиди тоже уменьшается ну и тесты тесты тоже хранятся в репозитории тесты тоже у нас уже были написаны просто бери да использую здесь тоже у нас улучшением когда пишутся монолитная система зачастую у вас монолитный теста то есть система перри собралось все тесты пири-пири выполнились когда мы применяли красная архитектуру то здесь это не очень хороший способ а мы применяем во всех проектах именно микро сервис найти ту ру но при этом были монолитны теста то есть в одном сервисе поменяли точку запятую и потом ждете 75 минут когда вся систему перед тестируются это не очень хорошо поэтому простое ожидание то есть разработчик который внес это исправление должен 75 ему ждать мы как вы понимаете вопрос этот процесс начинает играть у него нет времени чтобы ожидать 75 минут и здесь ответственно мы убрали focus киев на разработчиков и добавили интеграционное тестирование именно в сами micro series с используем тест контейнер сам мой процесс контейнер сейчас более подробно поговорим что это за штука как она работает оно очень достаточно интересно сквозные тестом и систему как были так и остались ну и просто стало чуть меньше то есть добавились интеграционное тестирование то что делает разработчики там пишут код юнит-тесты интеграционные а сквозные на всю систему совместно делать и если разработчик поменял что-то в каком там сервису может просто пара сенсационно тесто чисто по нему а поскольку все с используем тест контейнер что он может это прогнать у себя на машине без поднятия какой-либо инфраструктуру снаружи потому что там все находится в докер как раз протез контейнер со микро сервиса живут у нас докеры вот так живет один миг раз и раз меня есть некие зависимости точно зависит от рыбе танки пожгли и от какого-то внешнего сервиса это его зависимости когда мы делаем так само тестирование на века будет входить базу вероника будем слушать какие то сообщения с ребята писать что-то в базу нам нужен наверно какой то стенд что где-то это работало и естественно еще нам интересно чтобы тесты были независимы друг от друга то есть на стенде из этого с действием то соответственно задать теста должны идти друг за другом для того чтобы не было сайта эффектом not с контейнер свобода немножко по-другому он всю эту историю поднимает в 3 контейнеров то есть и на каждый тест у нас поднимается инфраструктур тест проходит она уничтожается тест запускается оно создается уничтожается с таким образом у нас тестирование происходит каждый раз в чистой среде нам не нужны никакие стенда и соответственно это можно запускать как на машине разработчик также набил сервере и соответственно никаких сайт эффектов нет сейчас мы только ведем разработку в эту сторону но мы хотим просто эти тесты гонять параллельно то есть у нас получается получится в итоге я надеюсь горизонтально масштабируется 40 тестов то есть чем больше будет агентов том поскольку инфраструктур независима друг от друга то пожалуйста гоняют в параллель и соответственно вот так тесс его игр это собирается контейнер запускается интеграционный сил создается контейнер они запускаются если они все прошли то есть никакого стенда нету все делается в оперативной памяти если все интеграционные тесты прошли то советском тренер уже пушиться запускается уже на тестовом контре где ночью пройдут как раз сквозные тесты которые пишут кеем таким образом у нас время ожидания сузилось потому что мы во-первых запускаем тест и только конкретно кусочком во-вторых мы не понимаем не поднимаем общине q инфраструктуру на всего в контейнер сама стартует самоуничтожается ответственна за трудозатраты на теста тоже уменьшилось администрирование тут есть аналитик у нас была одна большая боль то вот эта вторая большая боль которая была как раз мужского проектов много здесь есть некий масштаб каждом проекте многие технологии очень похоже которые мы используем и вот ребята некоторые системы делали просто руками помогу много раз и это просто лишнее движение которое не нужно во вторых приходилось ждать ты спрашиваешь когда вы поднимите меня рыба танки у но они говорят ну поднимем там в течение дня и соответственно это просто было долго и от ожидания и соответственно если поднять он может уже система 16 графства так или иначе вас будет ошибка потому что все люди здесь мы уже применяли практикант врача скотт но в связи со моделями то есть мы используем инси был у нас вся инфраструктура находится в коде то есть мы позже раз поднимаем с помощью скрипта и соответственно весьма способов разных проектов то приходилось у копировать в разные проекты эти скрипты это не очень правильно поэтому лучше используется модуля как это выглядит у нас вот допустим есть три проекта первый проект 2 3 там 5 их достаточно много и в них в основном похоже очень технологии везде у нас поскольку мара докером везде нужен губернатор он нам везде нужна шина поскольку взаимодействие между сервисом вольт хранение секретов сборщик логов база данных по прокси для балансировки 2 проекте и в третьем у нас есть общие кусочки то есть общие технологии которые мы используем и нам неэффективных в репозитории раз копировать поэтому мы сделали под каждый проект уникальной репозитории сохранением скриптов для конкретного проекта этот к проект один проект 2 где написано кастом rolls это те уникальные role in sibl которые только для этого проектах нельзя переиспользовать но при этом есть общая инфраструктура такие вот как раз общее роли как по игре мы можем взять внедрите как со модель в эти проекты и соответственно с появится по игре нам нужно будет только настроить некие внешние перемены такие как адрес где и петр где-то будет развернуто и так далее вот принскрин реального проекта то есть где голубенькое мы видим что это сам модули которые были внедрены в него белые это кастомные роли который ну нельзя переиспользовать на самом деле здесь если покопаться то можно еще процентов где-то 10-15 нацедить вот но все равно мы видим что где-то 50 процентов это внедрено сам модули которые были уже написана до этого то есть таким образом структуру нас очень сильно сузилось таким образом что мы не пишем больше после один раз роль написали ебут потом мы просто перес пользу и много-много раз и документации теперь у нас поскольку документация скрипты которые у нас написано фактически есть частично документация более того гид файлы можно встраивать в компьютер виде модулей то есть вас есть какой-то и people on вы можете туда просто вставить с помощью встроенного объекта файлики зги то и там будет стопроцентно и как бы доверены точные данные потому что это скрипт из которых вы накатывать тестовый стенд и productions т.н. если там что-то поменялось то в комплексе вас сразу поменяется у вас не будет там 10 источников где один айпи адрес написано в скрипт написан другой ip адрес это тоже очень интересно и последнее это поставка которая здесь много я не буду говорить потому что я и сиди наверняка у всех у вас есть здесь если есть ручные операции естественно то вся и сиди нужен здесь у нас уже был поэтому здесь просто полностью автоматизированный процесс некий конвейер где человек убивает только версия того что он очень хочет накатить и куда он хочет накатить это уже было поэтому здесь какие-то новых оптимизации не произошло и прицел как раз мы дошли до конца мы провели оптимизацию в аналитике мы провели оптимизации в работы с кодом с тестами и как это может сказаться на оценки проектов потому что ошибка в оценке проектов это достаточно может быть фатальным для проекта когда вы выйдите за рамки бюджета и так далее нам задача нашего сокращать как раз эти риски как происходит оценка в целом приходит заказчик говорит вот мой документация где-то 70 листов какого-то абстрактного текстом вы это скажете меня за сколько вы это сделаете и какие даты вы примерно это сделаете и очень размытый скоб то есть там написано все общими фразами нужно разбить это как на те самые фича и потом многие фича тоже и оцените все понять сколько мы будем делать сколько это будет стоить и наша задача соответственно как можно больше сузить этот скоб так таким образом снизить эти риски какие обычно бывают подхода по оценке то есть оценка по аналогам то есть мы смотрим то что мы делали до этого и примерно там то есть без привлечения даже каких-то разработчик можно примерно прикинуть сколько мы будем разрабатывать данный функционал он достаточно дешевый но не очень точный потому что это будут может быть похожая задача но не то же самое а нам-то могут быть какие-то нюансы которые могут всплыть она будет стоить в два раза дороже второй момент это экспертная оценка когда мы привлекаем экспертов оно основано на опыте экспертов то есть они смотрят как и не допустим делали авторизацию своей жизнью и примерно прикинуть за сколько не будут делать авторизацию нас в допустим 2 фактора авторизация на сайте он дорогое но точные но здесь точно как бы аники есть нюансы и жалейте оптимист и пессимист а вот и многие оценивают пессимистический могут многие целей оптимистически здесь оценка тоже плавает и вот как раз то что мы сегодня потеряли мы по сути весь доклад выделяли некие типовые блоки типовые работы как в тестировании так в разработке кода так инфраструктуре и те которые они уже созданы есть micro сей раз уже создан как бы уже работает его нужно только запустить все тут затраты на его запускание насколько мы запускаем это достаточно знаем плюс у нас были многие от пакеты которые тоже внедрить логе в приложении мы сложим же есть ноги от пакет но оставим и все работаем это уже известно сколько у нас накатывается postgres мы тоже знаем то есть это уже созданы модули в ensemble и есть еще и реестр типовых работ то есть когда мы делаем разные проекты мы ведем некую статистику где какие-то типовые работ которые мы конечно не можем вампире спользовать разных проектов мы понимаем что вот это делаем в каждом проекте и примерно смотрим сколько времени мы на это тратим то есть некая получается параметрическая оценка которая тоже является типовой работой вот и после этого когда мы оцениваем вот этот большой скоб задач то мы можем некоторых задач посмотреть что инфраструктуру мы не будем оценим потому что мы и так знаем из чего она состоит и у нас это уже написано более менее эсэмэски пуше авторизацию логирование мы тоже не будем оценим потому что он служит уже написано мы знаем сколько это стоит а вот все остальное нужно будет оценить с помощью оценки по предыдущим работам либо с помощью экспертов вот таким образом мы все равно сузили скоб и соответственно с уже ли риски где мы можем ошибиться таким образом у нас при оценке таких задач очень высокая точность и мы их просто зачастую просто не оцениваем таким образом у нас получилась вот такая картинка в оценке у нас тоже чуть-чуть изменение потому что мы какие-то задачи не оцениваем точность возрастает это тоже большой плюс и вот фиолетовая подсветил то что нам удалось скостить за с помощью данных подходов и соответственно я сейчас уберу все то что нам придётся делать и фактически вот эта фиолетовая ну то что закрашены перед вам этот наша выгода то есть если так примерно посчитать площадь это где-то 15 20 процентов то что нам удалось сэкономить за счет данных технологий но здесь есть некоторые нюансы то есть если вы пойдете этим подходом он работает но на долгосрочную стратегическую перспективу то есть есть вы на на проекте на полтора проекта вас это будет скорее всего наоборот увеличение костов они их уменьшения то есть вот зелененькая линия это то как могло бы быть из мы бы это не дело не использовали то есть у нас сначала бы касты были бы ниже но потом когда проектов становилось больше больше больше они росли то есть допустим поскорее руками мы подняли достаточно быстро но после того как мы его начали поднимать в каждом проекте у нас тут затрат растут красная линия это как раз то про что мы сегодня говорили в самом начале нам нужно написать поработать с микро сервисом поработать senso было разобраться как это работает выделить все сам модуль создать git репозиторий это все затраты сверху и поэтому на начальном этапе трудозатраты растут но в какой-то момент как раз на масштабе когда проектов становится больше они идут друг за другом то соответственно у нас тренд меняется и у нас мы можем многие вещи переиспользовать и таким образом начать экономить на это у меня всё по этому готов ответить на ваш вопрос не поднимите руку кто спасибо за доклад вот там мы сэкономили на на архитектуре выделив общую вещи какие-то но они поддержка их и развития тоже влекут за собой какие-то накладные расходы вот общих вещей да то есть как но они да естественно если они развиваются не развивается но если мы допустим лучшим допустим пуше примера да да не улучшится сразу во всех проектах то есть поскольку это сервис мне выпустить самого версия и мы эту новую версию допустим поднимем во всех проектах то вам не нужен будет это восемь раз там в разных проектах поднимая но есть же опасны что-то сломать в каких-то других проектах есть поэтому у каждого проекта есть персональные сквозные теста у каждого сервиса есть собственно интеграционная сервис сам себя перед тестирует когда поднимаете версия каждая ночь проник прогонять поздно и тесты и уже мы смотрим как это сервис интегрировался с этой системой если он плохо с интегрированной мы в откатом то есть это обеспечивается именно большими покрытием до тестов много то есть у нас где-то сквозных тестов но около тысячи на крупным проектом спасибо здесь связка именно интеграционных и сквозных тестов они вместе на разных уровнях спасибо за доклад скажи пожалуйста вот у вас нет проблемы того что разработчики за счет переиспользовать и микро сервиса за счет перри использование библиотек все быстрее быстрее доставляет функционал а собственно intent с пишет одна команда клей и у них там скажем нет возможности масштабирования скорости доски им есть проблема не была ли идеи первых решать вопрос intent с тоф объединенными силами этом разработчиков и quay и если нет как вы решаете собсно масштабирование написание intent с с тестами скажу честно что с ними есть проблема на есть проблема не только у нас она у всех есть соответственно мы решили каким образом и частично забрали многие вещи такие более прикладные в интеграционные тесты интеграционное сказал что их пишут разработчики то есть мы какой-то часть скоpо забрали вот есть рубчики то есть у них тестов стало меньше не стали проще то есть они начинают там смотреть какие сообщение в очередь пришли так далее нечистот сценарий тестирует это первый момент второй момент да действительно многие компании сейчас отказывают вообще в принципе от тестировщиков и делают вот этот сквозное тестирование частью ответственности разных команд заразными краз с у нас пока такого нет у нас по качеству нас устраивает есть некоторые момент когда мы в них упираемся но это решаются в основном того что просто там мощность у них чуть больше чем у разработки вот но так в целом да идея шаринга ответственость между тестировщиками и разработчиками это очень хорошей практикой и и стоит использовать у нас пока наконец и 2 просто когда вы инвестируете сервис в изоляции допустим нужно там замок хоть какие-то там downstream зависимости и собственно кто поддерживает эти эмоции являются они там частью того проект который не могут или это кит отдельным библиотек с отдельным там жизнь цикл нет здесь это у нас мойки внешних систем то бишь каких-нибудь внешних систем и это соответственно отдельная репозитория которых нас в докер-контейнер зачастую как размытость ров щеках используем раздельно то есть они все используют и мы используем вот а если мы какой-то допустим по игре да допустим как внешний зависимость используем это соответственно хранится тоже в конкретном сервис не имею когда вас один сервис там использовать другой то есть например к использует пушин соответственно вы хотите вот протестировать какой-то там пищевой бизнес новый сервис изоляция от этих ушей вы поднимаете там сервис не с его зависимости ли вы в изоляции все-таки к тестеру себя как коня мы мы мы делаем в изоляции тестирования то есть моего мокрым потому что вам интересно протестировать как бы мы доходим до уровне ивентов то есть у нас выбросился event значит все как бы это контракт что там происходит с этим летом дальше нас не интересует нам эти существа vento приходят ивента уходят окей а вот этим оки как раз кто поддерживает там автор пуша или там человек который пишет на пищевые сервис моки поддерживает сами разработчики потому что находится выживает по истории вы же сервис вот внешне в зависимости какие-то у вас есть зависимости от системы других заказчиков допустим энтерпрайз airbus какого то банка вот ярая как это процесс вас часто по вашему лежит и и мы как раз тоже а парочки talked контейнеры делаем свою ее замочную реализацию она уже стартует как как отдельный контейнер 1 тыс контейнер с ее подсовывает это тоже поддержит и разработчики тестировщики там смотря кто первый напишет окей спасибо спасибо за доклад не зовут арсений и у меня вопрос по legacy раз нас заказана разработка частенько требуется передача полного кода готового продукта раз вас идет перри использование про каких либо компонентов соответственно кодовой базы не возникает ли legacy вопросы с передачей коды которые шарится между несколькими заказчиками но нет это все юридические все это прописано это все сразу обговаривается с передачи моим просто передаем все эти модули вместе с проектом то есть он получает по сути все вот эти вот пакета он получает все микро сервис который участливо его проект и второй вопрос догонку соответственно если вот допустим передали модуль авторизации и в нем на другой заказчика нашел баг который позволил ему взломать и тот же модуль заказчиков другу другого заказчика днем смотрите кодовая база передается на тот момент ему вообще в таком виде то есть кодовый база обычный придётся тогда когда вы разрываете отношения заказчику то есть пока вы с ним работаете вы не передаете кодовую базу потому что вы осуществляться развитие продуктов то есть постоянные доработки развития находится на вашей стране то есть передача кодовая база там бывает очень редко то есть в основном а начинал у нас и здесь как раз в этом плюс что есть мы находим могу модуль авторизации мы и правил можем эту бабу закрыть сразу близких местах то вот допустим часто очень бывают баги возникали с пакетом логирования поскольку он достаточно мощно сделан то есть у нас там сквозная in дефекации запросы между разными красавица можно всю цепочку собрать и так далее там асинхронное сообщение так далее там блокирование прямо над ним несколько лет трудились и в нем находится баги мы затем поднимаем версию потом просто поднимаем эту версию во всех приложениях у нас баги справляются сразу в нескольких приложениях в этом как раз плюс нам не нужна в каждое приложение ходите там эти баги править такой вопрос был не совсем в этом вопрос в том что если один заказчика нашел этот баг и использовал для взлома другого заказчик ну нет спасибо за интересный доклад скажите пожалуйста команды команда разработки и и они ссорятся между проектами или ширится персоналия они как бы по сути получается неньки и продуктовому искать команда то есть есть некий продукт q разрабатывает там соответственно матричная структура в которой входит допустим 20 ров щека там 3 разработчика например да там ли 8 разработчиков там четыре тестировщика вот и они не участвуют других проектов они участок в этом проекте то есть допускается шаринга ну ресурсу дано несколько проектов но не больше двух потому что надо бывает в одном проекте у нас как бы простой он потому что нам допустим что-то не согласовали по нему разработки втором работа она активно но когда у человека допустим три проекта его шарят по три проекта него просто начинаются или включение контекста мы все знаем что то не очень эффективно поэтому правило 2 проект от максимум продолжение еще один вопрос значит вы по сути выстреле процесс по путину продуктовые разработки конкретного проекта он уходит в опытную эксплуатацию и аналитик пропадает галактик пропадает полностью заказчика и не случается ли у вас так что период опыт эксплуатации при периоды работы кувас аналитика становится узким местом проектом но аналитик во первых на нашей стороне находится вот и во-вторых вот эта тема что я рассказывал про документацию то есть документации доходит до такого уровня что она фактически является точкой коммуникация разработчика аналитикой тестировщика потому что аналитики у создает разработчик по не разрабатывается тестировщик потом тестирует и код и саму документацию то есть он находит в документации того чего нет в ходе сочувствуем баги заводит аналитику говорит почему вот здесь ничего ты не написаны таким образом блока в очень хорошем состоянии всегда и даже если аналитику ходит по ней очень легко понять что происходит это первый момент во вторых у нас есть дома то есть мы едим и никуда не брали стандартно как в том храме до вас приходит поддержка там первой-второй линии когда makita новый фичерили зима не смотрят и пытаются понять что это за фичи и какую ценность мы доносим и есть к ним потом придет какой-то в холме запрос как им с этим работать вот есть обмен знаниями он через обучение идет через документацию и через дома и плюс еще есть некий внутренний митап и спасибо да еще один вопрос под по поводу ограничения work in progress если случается какие-то объективные блокеры которые ну нельзя разрешить не знаем кто то со старым заказчик ушел в отпуск или заболел от какой-то проблемы решить до здесь основное правило то что масса направленный поток тока в сторону создания ценности задачи в обратную сторону не двигаются вот как-то решается пытается то задача решить решит решить решить она блокеры висит допустим неделю и понимает что задача допусти закачка просто не нужно он сказал что я буду делать и в середине сказал что я передумал она просто выбрасывается boklok выбрасывается обратно в бак лук и вообще в принципе rejected то есть значит что по этой задачи она больше но никому не интересно это майки отказались от такого не бывает что вот то есть блокер снимется гарантированно через какой-то там через неделю или через 2 и эта задача нужно но вот оно объективно сейчас уже да но в таком случае если она нужна она снимется там через какой-то долгий промежуток времени он выбрасывается в backlog в статусе блокер то есть баттлоге они сверху живут и они написано что они заблокированы если нам вообще задачи нужно мы просто реджекты мы забываем про не по ней не какие метрики перестают считаться вот но назад мы в салон ничего не двигаем только backlog"
}
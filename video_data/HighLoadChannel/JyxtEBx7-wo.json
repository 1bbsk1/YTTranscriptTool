{
  "video_id": "JyxtEBx7-wo",
  "channel": "HighLoadChannel",
  "title": "Распределенные графовые СУБД — будущее для аналитики на Больших Данных? / Павел Велихов (TigerGraph)",
  "views": 1731,
  "duration": 3258,
  "published": "2024-04-17T01:11:22-07:00",
  "text": "Доброе утро санкт-петербург Давайте еще раз Доброе утро санкт-петербург Все кто в онлайне Я слышу как вы захлопали затопали и коленочками даже начали бить по столам великолепно мы продолжаем Погружение в Мир высочайших умственных Технологий это 20-23 Меня зовут Алексей образец я ваш стюардесса наш полет начнется через 30 секунд и я приглашаю на этого сцену первого спикера Напоминаю о том что спикеру мы в конце задаем вопросы можно вопросы писать в чатик зала в чатике зала Добавляйте пожалуйста особенно друзья Кто смотрит онлайн Конечно мы постараемся живую беседу сделать приоритетом если бы в онлайне Пишите в чатик и спикер либо ответит сразу либо ответит чатик потом будем общаться за лучший вопрос дарим книжку книжки Уже готовы следите за расписаниями чтобы быть в правильном зале Итак человек который по жизни любит экстремальный спорт и соревноваться с реализованными базами данных на этой сцене прямо для вас специально Сейчас горячий пирожок из Яндекса Павел велехов погнали Всем привет Спасибо что пришли в такую рань я открою сегодняшний день будем говорить сегодня распределенных графовд И вопрос такой будущее это для аналитики на больших данных мой ответ Да Действительно это новое слово для аналитики и за этим будущее можем подискутировать в конце доклада а себя представлю немножко сейчас ведущие разработчик Яндекс всю жизнь занимаюсь не так давно до этого а какой текущий подход к аналитике в реляционных и как-то выглядит в графовых базах а преимущество распределенных графов свободы и дальше Вот поговорим о том Будет ли замещение реляционных или появление гибридных систем и тут у меня спойл видно что я в тебе и у меня как раз план создавать гибридные реляционный графовые базы данных в будущем я думаю будущее именно за этим Хотя в индустрии так пополам поделены мнением Многие считают что нативные графовая база они очень даже жизнеспособная и под конец расскажу как начать осваивать начать осваивать графы базы и особенно вот на больших на больших сценариях на больших графах на больших данных Ну еще еще пару слов Да когда меня позвали в тайге Граф я подумал а что что они там могли такого придумать что что мы не умеем в реляционных вообще а потом оказалось что они они 30-40 джойнов делать без оптимизатора Ну эквивалент Граф Да и такие совершенно новые сценарии работы используют что вот прямо пришлось пришлось всё бросить и вступить в тайге Граф Итак что такое что такое Граф все знают естественно а-а просто расскажу что это самый универсальная Самая удобная структура данных У нас есть вершина есть рёбра для хранения да то есть если мы хотим нажимать данные мы должны знать какого типа оказывается также в практике очень редко мы можем использовать данные не зная их схему да то есть если вы сделали какой-то алгоритм машину обучения на их же бусте должны знать сколько у вас атрибутов Какого они типа А если вы делаете сложно аналитику Вы должны знать как его типа есть сценарий использования кстати про них сегодня будет позже доклад где проще работать вот таким как нос квел на графах когда мы ничего не знаем про схему Ну вот там процентов 90 использование 95 - это схема нам нужна она спасает а что такое аналитика на графах Но самое простое это просто мы бегаем по вершинам по ребрам графа вычисляем различные агрегаты это вообще очень похоже на то что происходит в SQL это как бы самое простое С чего мы начнем дальше мы посмотрим уже на более настоящую графа аналитику когда мы или глубоко бежим по графу или бежим на какое-то неопределённое количество шагов То есть то что уже скилл база данных не делают следующее уровень это использование графа алгоритмов для аналитики То есть если раньше графа аналитики был если раньше алгоритмы графов были вот удел избранных то есть надо строить какой-то а подсобную систему туда как-то грузить данные какие-то очень умные люди там что-то делают на графах то в графовой базе обычная аналитик который немножко освоил язык запросов Может начать применять графа алгоритмы это оказывается очень большой плюс и самое самое горячий пирожок На сегодняшний день эта машина обучение на графах машина обучение и так зажгло мира А ещё вместе с графами это вообще очень горячая тема сейчас Вот давайте начнем с традиционного подхода к аналитике Как это работает мы берем изначально графовые данные Да и здесь видна и Ар диаграмма которую все пользуются в реляционном моделировании То есть это сущность отношения Да И вот это ребра и вершины графа то есть вершины у нас человек продукт компания они связаны отношениями купил продал купил сделал то есть типичный графовая структура данных что мы с ней делаем в реляционном мире мы берем графовые данные распиливаем их на таблице для каждой сущности мы делаем таблицу для каждого отношения таблицу Потом мы начинаем запускать аналитический запросы в каждом запросе мы склеиваем обратно все эти данные используя SQL и очень дорогой оператор слияния Join то есть уже как-то странно после всех этих манипуляций мы группируем данные вычисляем агрегаты возвращаем результат почему это плохо Вот мы для нашего примера нам надо сделать 4 дорогих Join а собрать все данные вместе посчитать агрегаты Что такое Join в аналитической базе данных Join это очень плохой оператор Почему Потому что аналитическая база заточена на колоночное хранение у нас друг за другом идут данные они отлично ложатся в кэш процессора все быстро работает пока мы не дойдем до Джона мы доходим до Джона обычно это has Join И мы строим хеш- таблицу с одной стороны где совершенно в разные места в памяти ложатся бакеты у нас нарушается кэш line у нас процессор начинает ждать память и потом мы храним все левые отношения в памяти правое отношение мы процессе Мы тоже лазим постоянно в хэштей был в разные куски памяти порти кэш действительно очень дорогая неприятная операция А как это можно представить графовой базе данных который не существует в идеальной графовой базе у нас все лежит в памяти все отсортировано по ключам по айдишникам вершин и отношений и мы просто ходим по указателям то есть с персоналом Мы перешли на отношения бот перешли на продукт перешли на тот кто сделал продукт перешли на компанию само все что нужно сделали не используя дополнительной памяти и не создавая никаких промежуточных результатов Ну понятно что это это совсем Идеальный мир в таком виде хранить данные невозможно и СУБД Почти никто так не работает особенно массивно параллельные базы где у нас вершины рёбра лежат на разных машинах Что происходит на практике на практике Все равно мы храним вершинные ребрам храним отдельно для каждой вершины У нас есть список входящих исходящих важная штука что мы отдельно все эти списки храним они в одном месте как революционке и у нас немножко другой подход по переходу по ребрам в графе вместо того чтобы делать мы начинаем с какого-то множества изначальных вершин мы для каждого элемента это множество пробегаем по ребрам и формируем новое множество вершин вроде похоже на Join В чем разница да но разница оказывается очень серьезной в графе базе мы начинаем с какого-то множество вершин в реляционной базе мы уже начинаем с какой-то таблички дальше Мы перешли по ребру мы получили следующее множество вершин в графовой базе в реляционной базе мы добавили еще одну колоночку к нашему промежуточным результату получили еще дубликаты в нем И когда мы нормально так полазим по графу в конце у нас в графовой базе все равно останется небольшое множество а в реляционной базе мы накопим хорошую таблицу с большим количеством атрибутов и кучей дубликатов Именно поэтому графа база может спокойно делать 30-40 джойнов без оптимизатора когда реляционная мы сражаемся там с 12 13 уже все плохо а как насчет группировки агрегатов Ну тут немножко по-разному в разных базах данных графовых пока стандарта общего нет в тайге играх вообще мы отделили агрегацию группировку от самого запроса то есть мы отдельно оббегаем Граф и совершенно на стороне считаем агрегаты у нас используется аккумуляторы мы манипулируем ими в процессе выполнения запроса Давайте посмотрим на типичный запрос в gsql gsql - это Граф SQL язык запросов в тайге граф мы определяем два аккумулятора для кастомеров мы будем считать ревеню для каждого кастомера ревеню для каждого продукта и здесь мы видим как мы задаем фронт лосс Да очень похоже на SQL Единственное что здесь нету эту нет всех условий джойнов то есть мы просто говорим что нам нужен кастомер мы знаем что есть отношения бот мы по нему переходим в продукт нам не надо указывать ключи по которым мы будем соединять таблички Когда у нас большое количество джойнов и куча ключей в революционной базе там очень легко сделать небольшую ошибку не тот атрибут использовать получить декарту произведения середине и хранить базу данных а здесь такого вообще нет мы знаем какие у нас отношения нам не надо никаких включений надо и мы просто считаем ревеню и обно вляем аккумуляторы то есть вот одним запросом мы считаем сразу два агрегата в SQL такого невозможно как такой запрос выглядит в SQL Ну вот во-первых у нас получился вложенный запрос Ну ладно это не страшно а неприятно то что вот у нас любимый VR там по-разному можно записать по старинке записал где у нас а через end записаны все ключи Join of но опять же здесь можно пропустить Ключ Здесь можно неправильный атрибут указать как-то это поломать хотя мы точно знаем какие у нас отношения в базе данных То есть даже на простой аналитике графовая база на самом деле В некоторых случаях намного понятнее намного лучше выглядит чем SQL но есть ограничения вот как вы увидели графовая база Они как раз эффективные за счет того что они не собирают большой промежуточный результат пока мы лазим по графу А в некоторых сценариях нам приходится это делать если нам нужны все колонки с каждой таблички которую мы Джонни для агрегации то нам надо собирать большой промежуточный результат и поэтому чтобы все требования закрыть современной аналитики нужна какая-то гибридная Революционная графа и система чтобы мы могли и по старинке по традиционному делать а там где надо облазить большой Граф очень эффективно но перейдем дальше графы аналитика и тут такой пример отмывание денег Элис посылает 100 долларов Бобу 20 июня на следующий день Бог посылает 80 долларов джеку Вот они друг другу посылают в конце концов Элис получается свои 60 долларов еще другим путем там 15 и так далее То есть отмывается эти 100 долларов используя разные циклов график транзакций Наша задача понять что Эля с этим занимается посчитать сколько она отмывает денег то есть очень очень понятный пример для тех кто работает в банках а реляционке здесь вообще никак не помогают в графовой базе Ну мы можем вообще очень простое решение как бы сразу написать в одну строчку что мы произвольными произвольным длинным путем оббегаем Граф и смотрим Что User и Target вот этих отношений транзакции Они совпадают и просто просто то есть ищем всех клиентов у которых есть циклы транзакциях Но это конечно упрощенное решение настоящее решение немножко сложнее надо все-таки собрать все циклы для аналитики и проверить что транзакции ещё по времени друг за другом следует что там каждая следующая транзакция она случилась после Ну и наверное в короткое время после того как была совершена предыдущая поэтому настоящее решение можно посмотреть книги Граф Пауэр до аналитик графом она бесплатная сейчас потому что релиз можно взять почитать там есть полное решение а будет ссылка на на слайды будут доступны все эти ссылки можете потом посмотреть а также интересная штука такая небольшая но полезная штука это Визуальная аналитика если в реляционной базе Мы всегда получаем в результате какую-то таблицу то в графовой базе мы можем получить обратно Граф и посмотреть вообще на Граф как это выглядит То есть если мы ищем какой-то фрот мы можем посмотреть А вот действительно человек которому мы подозреваем и посмотрим на его связи полазим по графу здесь пример это актеры фильмы там во МВД Не совсем понятно что здесь смотреть Но вот картинка хорошая дальше следующим шагом идет использование графов алгоритмов как я уже сказал сложно а-а обычному аналитику сейчас использовать Граф и алгоритмы поэтому никто даже не пытается и даже не думает об этом в обычной жизни Ну вот сделал библиотеку из 50 алгоритмов это кратчайшие Путин похоже типа косинусу кластеризация всякие потоки в сети центральности это все просто берете применяйте к своим данным да И это будет в любой такой продвинутый графовой базе данных Ну и под конец вот про аналитику рассказывая машина обучение на графах я расскажу на примере конволюционной графа и нейросети звучит страшно на самом деле очень простая штука нам просто полезно использовать связи по графу для формирования признаков для eml это можно делать вручную революционную базу делая куча джойнов доставая данные вручную собирая графа нейросети они это и С математической точки зрения из э реализацией они это автоматизируют они делают для нас проще и пример такой с кредитным скоринга вот мы берём человека у него очень хороший индивидуальный скор получается то есть по его признакам У него хороший кредитная история у него там не знаю правильный адрес что что-то там ещё используют для кредитного скорингов в сегодняшнем мире Но мы потом смотрим например мы интегрировали данный Телеком и смотрим Что все его контакты это фруттеры наверное полезно учитывать эту информацию и как работает графование нейросеть У нас есть какой-то Таргет НОД для которого мы делаем предсказание Ну или имбетинг читаем или предсказания делаем мы собираем всех его соседей и от всех его соседей посылаем сообщения этому узлу там идет агрегация и применение как раз к инволюции и то же самое делаем для соседей его соседей до какой-то глубины то есть мы говорим у нас графа нейросеть там будет глубиной 3 мы определяем просто вот эти функции агрегации нелинейности и все И у нас Определенно нейросеть она работает нам ничего не надо мучиться причем здесь вообще тогда хорошая штука причем здесь графовая база данных вот в обычной базе если мы работаем Нам во-первых довольно сложно собрать все эти данные для нейросети А потом когда мы нейросеть обучим нам придется на стороне построить какой-то скоринговый движок Куда опять эти данные загонять там это применять и то есть мы продублируем все дата pipeline к нашей базе данных в графа база она достаточно мощная чтобы например в тайге графе на языке gsql можно описать нейросеть как Граф и скорость прямо используя язык запросов мы этим занимались и Это совершенно другое использование То есть вы не выходите из вашей базы данных а те механизм поставки данных в базу которые у вас были дублировать их не надо как только Вы получили новую информацию проспорили моментом базе данных и вернули результат то есть это вот это еще вот возможность все пытаются сделать в данном случае это действительно очень полезно потому что избегает большого количества проблем Ну и я хочу привести другие примеры из графа аналитики это больше бизнес слайд такой а не технический но как раз Тайгер Граф он очень хорошо сработал в плане продаж в плане маркетинга и создание нового рынка для графовой базы данных для массивная параллельных графа базы данных Первое - это detection для финансовых институтов а опять же там огромный огромный Граф у нас больших графы транзакций у клиента куча девайсов каких-то которые все привязаны к кредитным картам а и ты графы массивные большие и кроме графа базы данных Никто с ними не справляется а то же самое похоже пример про риски например кредитной историк тот же самый другие риски мониторинки а для финансовых институтов и вот такие Граф у них Львиная доля доходов как росла из финансовых организаций по ряду причин одна из причин потому что Деньги любят счета а любая любая технология которая помогает этому она очень быстро финтехом используется но есть и другие примеры Там просто посчитать кастом r360 customer journey собрать всю информацию про кастоммера опять же Это большой Граф с большим количеством разных отношений тоже тяжело работать с традиционными базами здесь система рекомендации то есть посчитать похожесть по косинусу между разными продуктами там посмотреть Кто на что похож А тут тоже тривиальный пример Да графовая база в которой есть Граф и алгоритмы и вот такая небольшая здесь будет но на самом деле очень интересная тема это с оплачей на аналитикс у нас был в тайге график проекции Guard Land Rover они делали анализ своего цепи поставки снабжения производства у них это занимало три недели просто посчитать риски и какой-то прогноз построить с графовой базы это сократилось время до 45 минут то есть это совершенно другой мир и начиная от самых простых примеров просто посмотреть что будет если какой-то опять же там югары Land Rover у них там Range Rover состоит из кажется 100.000 деталей то есть какой-то огромное количество куча поставщиков а посмотреть что будет если производитель колёс перестанет а-а производить колёса конкретные да как это отразится на производ стве автомобилей Какие запасные варианты даже такие простые вопросы решаются очень долго там был кейс что спросили Можем ли мы произвести 100 новых Рендж роверов потому что вот есть возможность их продать и заняло 3 недели опять же посчитать можем или нет здесь это можно уже сократить хотя бы до 405 минут и похоже похоже применение в энергетических компаниях там например гораздо Франц смотрел на Тайгер Граф Я не уверен они в конце концов купили или нет но а у них граф Граф трубопроводов у них Граф алгоритмы для предсказания стоимости газа и так далее Grid энергетический Грид самая большая китайская компания China стоит Tager Граф для управления энергетическим Кридом Ну и конечно оптимизация сети да то есть раутеров маршрутов тоже графовая чисто задача понятно что графовая база Очень полезная вот просто какие-то успехи МПП графобас в основном это конечно Тайгер графа опять же таки Граф он на больших графах получил самые красивые лого самых лучших клиентов но также и компании как не было тоже очень успешно действует в Китае очень интересные поднимают То есть это jp Morgan там Microsoft секс-боксом Land Rover Ford все начали начали работать с большими графами и массивно параллельными графами база данных а пока предстоит на самом деле очень много преодолеть если мы говорим что все сегодня графы базы завоевали мир это неправда Пока субэдэ ещё очень молодые значит полно еще багов еще есть проблемы нет стандартного языка запросов это ужасная тема потому что заставить аналитика учить язык под конкретную систему это ну просто невозможно но выходит стандарты стандарта обещали в этом году похоже все-таки не получится Наверное в следующем году будет стандарт ИЗО это та же организация которая стандартизировала то есть еще надежда что еще будет более-менее хороший Стандарт он довольно слабенький То есть например в случае пытался свои аккумуляторы вставить стандарты не получилось без них будет дополнять gql своими extensional и скорее всего другие базы данных тоже какие-то свои экстеншины сделают но хотя бы основой языка будет стандартная Био инструменты пока не работают с графами базами Ну и нужны новые биоинструменты пока их еще нету И пока не масштабируется вся эта история до петабайт как реляционная то есть десятки сотни терабайт тайге Граф выжимает дальше уже начинаются большие проблемы а и тут вообще возникает вопрос Действительно ли будущее за нативными графами базами или здесь опять Революционная база победят и Похоже что я вот склоняюсь ко второму что на самом деле во-первых для больших данных нужна гибридная штаб-система в Облаке То есть все уходят в облака А в облаках Мы видели это на примере Фродо вы нашли фрот и на основании аналитики которые нашла вы сразу начинаете блокировать пользователей сразу запускаете транзакцию которая зависит от аналитики Это должно быть все консистентно в рамках системы вы не можете все позволить принять решение на основе аналитики которые устарела То есть это должно быть вся система должна быть консистента плюс реляционной системы мало того что добились успехов уже в области и штаб но они построили целую экосистему То есть это надежность хранения данных правильная партиционирование мониторинг систему поставки данных очереди и так далее И все это придется повторять в нативной графовой базе ещё так как мы видели графом базам придется еще SQL в возможности все оставлять То есть это огромная работа И тут я думаю что проще начать тогда с другого конца взять хорошего штаб реляционную базу данных и добавить в неё графа движок И на самом деле это выглядит гораздо более простой задачей чем идти наоборот сделать очень классный графовый движок а потом добавлять всё остальное и как последний штрих здесь уже готовятся публикации стандарт расширения сквел пиджакью Property graph extensions это расширение стандарта SQL графами возможностями уже можно посмотреть там главный драйвер это стандарта Oracle они уже выпустили документацию уже можно смотреть как это выглядит Ну и в заключение хотел бы рассказать как начать осваивать графы базы на самом деле неофорджей самое известное Вот такая так сказать Одна машинная база которая не масштабируется но сама по себе база довольно хорошая у них очень классная образовательные материалы очень много материалов очень много всяких навесок на базе данных там инструментов вот в этом они лидируют очень серьезно но не масштабируется то есть смотря материалы надо понимать что с неофордже далеко не уедешь как только данных станет много все перестанет работать книжку эту Граф Пауэр аналитик советую посмотреть можно пойти на веб-сайт в тайге графа там очень много историй кастомеров там много всяких рассказов тоже интересно посмотреть из конкурентов Open Source на база данных китайская не было db опять же Тайгер Граф это закрытая К сожалению это американская компания с закрытыми источниками работает в американских облаках поэтому поиграться можно А реально применить в России наверное нет есть вот не было ДБ она послабее в аналитике но идёт в эту сторону но она Open Source и это китайская компания с ней гораздо проще работать также Алибаба недавно Open Source аналитическую платформу для больших графах Но это к базам данных вообще не имеет отношения это такая большая считалка реализована на М5 но поиграться с алгоритмами можно посмотреть как их применять Как как графы технологии применять к анализу данных Можно потом ждать когда появится база данных нормальное Ну и вот у тагиграфа есть бесплатная облачная версия можно зайти пока еще вроде можно зайти на любое облако там поставить себе облачную версию есть заготовленные уже база данных с которыми можно поиграться поизучать gsql по применять алгоритм посмотреть что из этого получается и очень хорошая конференция Граф плюс которая большое количество интересных спикеров как раз клиенты Tiger графа и даже там лешковичу выступал из стэнфорда то есть Так они довольно большой шумиху подняли вокруг графа искусственного интеллектом вот Итого мы посмотрели на преимущество графовых баз в традиционной аналитике там уже на простых примерах графовой базы показывают хорошие результаты посмотрели поглубже как более сложные запросы работают графы как Граф и алгоритм работы для анализа данных посмотрели для на новые возможности на машину увеличения и увидели что еще есть вот Визуальная аналитика То есть все вместе это мне кажется показывает что действительно будущее аналитики оно вот точно с графами в эту сторону идет здесь я доклад заканчиваю и готов обсуждать с вами вопросы так а я сам тогда Добрый день спасибо за доклад Вот вы работаете в Яндексе рассказывали про американскую и две китайских субдд А что у нас в России я работаю промсвязьбанке у нас самым есть задача которая Хорошо можно было бы решить на графовой базе посчитать компоненты связанности в графе чтобы выделить дубли клиентов что мы можем использовать у нас жесткое ограничение Open Source только до двухлетней давности либо что-то отечественное вот есть что-то у нас Да хороший вопрос А что значит чтобы он тоже двухлетней давности не совсем понял Окей то есть два года на убирание закладок понятно да Open Source довоенных версий Да к сожалению в России не очень у нас была компания Nitro db не знаю какой у них сейчас статус вот в Яндексе пока у нас такого официального плана нет графа поддерживает Но вот я за это очень сильно агитирую И надеюсь что мы в idb в какой-то момент добавим графа движок какое-то время займет а Пока Да пока надо что-то делать у меня продолжение этого вопроса когда вот по вашим оценкам можно будет выкинуть на фуджей и использовать udeb для работы надеюсь что получится Спасибо Следующий вопрос Здравствуйте спасибо большое за выступление Вопрос такой знаете ли вы если какие-нибудь работы или исследования в сторону metacraft подхода и Как вы считаете если будущее у Мета графов в графов Свободы Мета графа Что такое Микрофон мета-граф это по сути Граф где вершина и любая Связь может внутри себя содержать также интеграф не думал про это в обычном графе эта моделирует сложно то есть Спасибо будьте добры Здравствуйте баиров Тимур Тинькофф бизнес Вопрос такой вот я уже 6-7 лет слышал про Граф и про фрот-детекшн но до сих пор ни разу этого не видел у вас используется игра для froditection Ну у нас У кого я сейчас в idp в Яндексе в Яндексе я занимаюсь в idb Я не знаю что Яндекс использует тайгерфон одни из важнейших клиентов были Джейк и Морган Банк в Америке и кто ещё там голденс и Да в банку в Америку мы как раздешем делали награды Я просто много видел вот этих роликов не встречал поэтому Вопрос такой интересный но был доклад недавно карты мир как раз Они использовали графа тоже для антифроад наоборот вот дистрибьютор графовые базы И так называемый нативные нативные Фуджи А вот эти распределённые основы сделаны на широких колонках вот распределенный Априори медленнее за счет того что у них очень сложно кластеризацию сделать графа и соответственно тебя появляется сетевые запросы Но это вопрос они по идее должны быть Априори медленно но неоформление настолько медленно Что например на одном из лето игра в 10 раз быстрее даёт performan за счёт того что Тайгер у него ещё схемы нет и она не оптимизирована под конкретную схему да то есть Э ну на одном Может быть но смысл в том что тайге Раф расстрелённые я говорю что даже на одном из лето играв там 10 раз быстрее к сожалению ребята не из базы данных пришли одно из Ну больше обычного программировании и сделали неэффективную изначальную систему Сейчас может быть уже получше но вот когда мы последний раз сравнивались на многих запросах Ну в 10-20 сразу Тайги раз даже на одном быстрее работал в распределённое сравнение насколько определённые оформление работы Ну ну там есть бенчмарки можно залезть на сайт если вот ldbc - это бенчмарке атаки Граф можно посмотреть бенчмарке насколько прямо Ну конечно медленнее всё становится если мы уходим за рамки узла потому что у нас межзловые потенциальные каждый второй запрос уходит то есть каждый Ну то есть каждый из вопросов уходит в другой узел но не запрос это по-другому работает Как мы определились да то есть да да да да у каждый переход по ребру да да Всё спасибо большое Здравствуйте я как раз таки работаю в небольшом российском стартопе который занимается аналитикой сетей различных сетевых провайдеров некоторые связанности вот этих сетей построение различные аналитики мы как раз выступали недавно Вот и кажется что у нас возникла Вот такая задача как построение графов их версионирование во времени отображение некоторого состояния Мы пытались решать эту проблему хранением последней версии некоторых состояния графа вот в не были конкретно и хранение версии некоторых уже в алаб хранилище в виде клика вот не подскажите как может быть можно решать эту проблему по-другому потому что россиянирование граф Мне кажется довольно общая задача которую я вот не видел нормальной решённый это шикарный мастер-класс как пропечен с той стартап задавая вопросы а давайте подумаем Потому что я не могу сразу сказать да Хорошо спасибо большое Здравствуйте спасибо за доклад хотелось спросить мы в России мы используем не было как раз для определение и когда тестили так как фрот нам нужно определить вот момент перед заключением какой-то транзакции там я не знаю пополнение там денег вывод то ответ графы базы должен быть быстро соответственно но в 99 не было обеспечивать там 150-200 миллисекунд на ответ нормально при этом в нее еще заливается там тысячи этих и там Граф и трали-вали но не было есть такая там снизу такая на шлепочка Типа если вы хотите использовать аналитику ставьте крест на онлайне то есть всё как бы Либо вы делаете аналитику на графов Либо вы делаете вот это вот прямо оно совсем никак не скрещивается они просто не очень верят что они много денег сейчас могут поднять на аналитики и сфокусировались больше на LP теме а не знаю это похоже больше на на какой-то защитный их Тайги раз нормально совершенно то есть штаб схему проработал то есть там действительно можно и нормальный поток транзакций обеспечить я аналитику одновременно в реутами но не было надо ждать пока не всё-таки возьмутся более серьезно за аналитику можно тогда цифры какие-то которые Тайгер может выдать Ну вообще сейчас его можно использовать вот вставляя в пайплайн обработке вот прям онлайновой да да Опять же То есть у нас есть в тайгере есть такие клиенты Как банков Америка который в Real Time делают фронт detection с помощью этой базы Да а единственно что проблема с Тайги графом что Как его поставить и это американская есть нет такой проблемы очень рекомендую попробовать Спасибо друзья Смотрите мастер-класс по работе с микрофоном вы держите его перпендикулярно лицу на расстоянии вытянутого указательного пальца до носа Вот и дальше делать но тогда Голос звучит хорошо когда перпендикулярно вот а иначе там трансляции всё отваливается мы здесь как бы чуть-чуть вот а теперь вы стали пожалуйста Добрый день Кирилл безбородов белком вы меня прямо взбудоражили идеи граховых баз потому что у нас есть данные которые логически идеально укладываются в графовую значит парадигму другое дело что у нас например Так вот если на вскидку порядка миллиарда наверное вершин получится то есть сейчас существующее решение вряд ли прям да смогут его переварить сейчас это всё в инемории db живет и до Ну как бы продуктивен мы Понятно Что сейчас на что-то графовые переезжать не сможем когда теоретически сможем то есть существующие системы работает нормально с десятками терабайт данных да То есть в принципе можно можно экспериментировать и тогда у нас есть вопрос смена модели данных возможно то есть Перестройка Перестройка вершин на лету Но это зависит от Базы до автогере есть там автор алтер схема да То есть вы можете менять схему есть механизм иммиграции Похоже на то что происходит в реляционных Ну прямо вот опять можно обсудить банк никогда раньше не работал с графами базами интересно стало Какие кейсы применения Ну то есть у нас практически у всех данные лежатных глазах соответственно какая-то есть аналитика уже ведется там реляционных базах там каких-то еще то есть хочется понять как как вообще это продают То есть когда нужно это применить то есть вот у нас есть там например клиенты они там делают транзакции в принципе можно же взять выгрузить изоляционные базы куда-то и проанализировать Допустим можно же выгрузить в тот же рейдис в принципе графа же несложная структура данных да то есть там графы вершины что там соединяет выгрузили посчитали Да там если если даже очень много можешь применить какие-то алгоритмы там жирные да там по частям как-то разобрать Ну то есть зачем нам покупать какое-то Ну либо внедрять какое-то вот графовая база тоже можно самим написать код и тоже очень простая система опять же как только вылезете за пределы одной машины у вас начнётся большие проблемы Вот когда начнутся проблемы как только у вас не будет помещаться в памяти на одной машине ваша база Ну то есть если там больше 32 гигабайт то надо идти покупать что-то типа Tiger grap Ну или брать Ну не было Тайгер Правда или ждать Вот и вообще вот youск Это получается мы выгружаем из какой-то традиционной базы Ну либо какое-то там репликацию налаживаем да а потом считаем то есть Это изначально хранилищем данным не является не Почему мы говорим именно базах да то есть база Это не просто там где вы в память что-то делаете потом выкидываете база это поддержка транзакции это Надёжность данных это ну это полноценная полноценная вот современная база данных ведь это чтобы для чего это чтобы что-то посчитать правильно то есть там бизнес уже не нужно чтобы завести учётку по клиенту сохранить это в графовой базе изначально Нет ну тут ещё такая история когда-то игра приходила клиенты они говорили что вот смотрите именно в эту базу Вот теперь можете грузить обычно ваши данная графы которые где-то в стороне валялись и так далее То есть Они пытались как заместить реляционной базы графовой Я как раз больше за подход что давайте дождемся когда реляционные современные базы начнут уметь графы тогда будет гораздо всё веселее У нас вот здесь сейчас уголок финтеха в принципе если вы хотите с банкирами поговорить на эту тему дальше то Просто после выступления Приходите сюда давай 10 секунд Собственно как перформить графовая база с тем как то же самое в принципе можно сделать и на реляционной сокращение такие сравнения Конечно есть Да но если совсем нечестно сравнивать то там всё совсем ужасно то есть там можно посмотреть на сайте не было они показывают как там mysql пытается делать большое количество джойнов и всё очень плохо кончается А по сравнению с не было а можно пытаться оптимизировать лицом к ещё что-то но опять же да там Если вы делаете восемь-десять 12 20 джойнов то есть пробегайте по графу там по одним и тем же рёбрам а-а очень глубоко не ориенко сейчас нормально не Не сработает то есть скорее всего она просто даже не отработает запрос когда а-а графа база довольно Разумное время года результат включается оптимизатор который будет за вас Рио дарить он придумывает правильно порядок который окажется тоже ужасно завершайте Да спасибо за доклад у меня такой вопрос Какие форматы используются для хранения данных Потому что если с логикой плюс-минус понятно то вот как На физическом уровне это работает уже более интересно потому что мне кажется что здесь как раз таки могут еще возникнуть ограничения Ну и в связи с этим сразу второй вопрос Вот вы сказали данные хранятся в сортированном виде как происходит вставка и обновление данных Потому что если Граф например очень большой то получается необходимо полностью перестроение этого графа а не ну многие базы включая в idb и работают сортированными таблицами есть технологии лсм То есть когда вы у вас как бы дерево из сортированных кусочков вы там умеете их Иногда вы их можете иногда вы их не мёджите на лету Да когда идёт запрос То есть это отработанная технология нормально работает в сортированном виде можно хранить без лишних накладных расходов мерч был вопрос именно с вставкой то есть состав ставка вы вставляете там открываете новую табличку туда вставляете или у вас Дельта Дельта таблица где вы в памяти сортируете пока не накопится потом выкидываете на диск много много вариантов Да спасибо по форматам Не ну у нас бинарный формат хранения всего этого дела похоже на колоночные вот в тайге графия немножко это еще засекречена Поэтому я тут уже не знаю сколько можно глубоко говорить Понятно спасибо так а можете поднять руки очень много хороших вопросов Давайте подарим сейчас вот человек который верил свой стартапная книжка до конца друзья через 15 минут здесь следующий доклад от выкачки Павел тебе тоже супер памятный приз от конференции друзья дискуссионная зона у нас сегодня на улице на свежем воздухе прямо на выходе из зала вот здесь вот к шатру номер один поэтому все Кто записан на кулуары Кто приглашён в Лоры пожалуйста"
}
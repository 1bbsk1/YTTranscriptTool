{
  "video_id": "sGK0euYut6E",
  "channel": "HighLoadChannel",
  "title": "TechTalk \"Точка компромисса между бизнесом и производительностью АС\" / Антон Абрамов",
  "views": 239,
  "duration": 625,
  "published": "2024-04-10T06:01:46-07:00",
  "text": "Всем привет Сегодня с вами конференция highload п+ 2023 и сегодня с нами в студии Антон Абрамов технический директор Лидер стрима платформа CRM Газпромбанк Здравствуйте Антон привет Алексей начнём Мы наверное с обычного вопроса Где вы работаете И чем вы занимаетесь Я it Лидер платформы газпромбанке соответственно Что такое платформа это команда вокруг аэк маркетинга розницы которая занимается обеспечением производительности отказоустойчивости систем развивает параллельную разработку и предоставляет продуктовым командам сервис по доработке ИС в случае если у них нет своих ресурсов а CRM - это взаимодействие с клиентами CRM Да это система управления взаимодействиями с клиентами в нашем случае это аналитический CRM То есть это системы маркетинга Да все коммуникации с баннеры Вот это ВС мы и это я так понимаю с самого создания банка идёт это какие-то система внедрена с восемнадцатого года соответственно в восемнадцатом году у нас внедрили аналитический CRM для бачо вых массовых рассылок и где-то в девятнадцатом внедрили realtime триггерные коммуникации на какие-то входящие события Да например там вы взяли билет в театр мы это считали прислали вам скидку на такси разрабатывалось ва компании или это откуда не совсем это внедренные коробки их внедрят многих лет Он же являлся там единственным источником по их развитию и доработка и вот только С недавнего времени соответственно мы эту экспертизу перенимаем в банк и разрабатываем в параллель с вендем наращивая свою экспертизу Почему решили как раз развивать экспертизу у себя и развивать эти системы внутри во многом это на самом деле дешевле и часто это бывает более качественно Да потому что там мы и те непосредственно заинтересованные люди в хорошей качественной работе этой системы у вендора там помимо нас может быть также много других заказчиков на которые он распыляет свои ресурсы здесь же мы всё делаем внутри в тесном там взаимодействии с заказчиками в лице бизнеса и сами отвечаем за результат были какие-то проблемы ну Наверно у всех бывают проблемы при при разработке таких систем были какие-нибудь такие прям что-то вам запомнилось Ну вот из интересного в начале этого года мы активно пошли в дистанционное банковское обслуживание да то есть многие продукты многие банковские функции которые выполнялись или там продавались в отделениях ушли в ритам из-за этого очень сильно выросла нагрузка на маркетинг там как и по предложениям для клиентов так и просьба актуализировать например данные за счёт этого за пару месяцев буквально мы обогнали планируемый росты рост нагрузки на гос вперёд у нас случился резкий скачок увеличилось количество маркетинговых компаний Ну естественно это всё привело к проблемам в нагрузке чем бизнес был не очень доволен и в общем-то всячески были у нас с ними конфликты на этой почве это была как бы инициатива бизнеса и я так понимаю идти никто не спрашивал это была необходимость Да соответственно то есть Вектор там стратегия развития банка была направлена на это и ну фактически мы там догоняли рост бизнеса но который был просто неизбежен при текущей его стратегии как всё это разрешилось чем всё это закончилось в начале мы стали заливать всё железом то есть мы соответственно там ну понимали что в моменте какие-то программные оптимизации мы не сделаем стали масштабироваться железом и в параллель соответственно там прорабатывать различные программные оптимизации в какой-то момент наши ресурс на железо закончилось то есть ну там фактически Мы упёрлись в потолок возможных ядер выдаваемых в банке соответственно 64 ядра на базу это максимум что нам могут предложить там у коллеги инфраструктуры А у вас сво своя какая-то инфраструктура или не знаю облак нет у банков однозначно Ну соответственно это своя инфраструктура там с точки зрения информационной безопасности доступа к данным облачные технологии в банках используются крайне редко Да однозначно это какие-то соды с реальными серва ками собственно где это всё хранится а либо частное облако Вот соответственно есть Ну то есть у нас есть кусок инфы находящийся в частном банковском Облаке Да а вот дальше соответственно мы там ну параллельно развивали различные программные оптимизации увидели что точка Вот некое узкое место у нас это база данных в которую спускается огромное количество запросов от Ну компаний так как это соответственно отбор там сегментов Ну формирования предложений это всё трансформируется в селекты которые спускаются из приклада в базу вот там пару месяцев мы привели её в идеальное состояние индексы там позиционирование вот и на какое-то время нам это действительно помогло мы держали нашу текущую нагрузку но Темп роста продолжали расти и мы всё равно упёрлись в то что соответственно система стала плохо работать но перепробовал все варианты там с точки зрения по Мы пошли к бизнесу смотреть что происходит у них Угу генерирует нагрузку наст то есть выстраивая свои маркетинговые компании в конструкторе Да конструктор - это некий там набор селекто в БД от того как они это всё выстраивают напрямую зависит нагрузка то есть мы здесь можем например отобрать всех клиентов банка А дальше их как-то фильтровать А можем взять узкий сегмент и работать с ним да Ну соответственно то как они это всё выстраивают влияет на прямую на производительность Но пойдя к ним и начав совместно с ними анализировать происходящее Мы заметили много интересных вещей Например у нас в рамках одной какой-то типовой маркетинговой компании в которой мы там ну проверяем клиента на возможность предложить ему несколько продуктов спускается большое количество одинаковых селекто в базу Просто каждый из них в своей параллельной продуктовой ветке Угу соответственно это никому не нужная нагрузка что мы сделали Мы все эти селекты вынесли на уровень выше использовав их результат соответственно для всех продуктовых веточек тем самым там существенно сократив нагрузку на базу Вот но представив да что что таких у компаний сотни мы там очень существенно сократили нагрузку на базу это там позволяет нам в общем-то жить дальше не брать каждого пользователя и по каждому пользователю запускать запрос а сделать сверху какой-то сегмент выделения пользователей и потом уже по нему вот эти вот запросы гонять А ну то есть Э да соответственно не не фильтровать клиентов в параллельных ветках соответственно сделать это один раз и результат использовать уже во всех остальных э компаниях Ну вот вы сказали что у вас был была ситуация когда со стороны точки вернее со стороны it вы заглянули в глаза апокалипсису и почти ВС развалилось Есть ли какие-то рекомендации Как можно отследить вот этот момент не падение в бездну и как-то его предупредить или Да здесь хотя бы да здесь нужно два момента На мой взгляд первое мы нашу нагрузку должны учить учиться измерять потому что то что если мы если мы не можем это измерить мы не можем этим управлять для этого хоро бы иметь различ даж бороды на которой вся эта информация выводится чтобы это было всё наглядно и этим можно было как-то оперировать второе запрашивать у бизнеса прогнозы по росту нагрузки сверяя их там с тем что происходит в реальности Вот но имея собственно вот данные там со стороны системы и прогнозы от бизнеса мы можем экспертно предположить Ну посмотрев например на там на утилизацию железа время там выполнения операции чего-то ещё Сколько ещё мы проживём на текущем решении сделать некий экспертный прогноз и собственно дальше регулярно подсвечивать бизнесу когда мы подбираем к той точке за которой наша система просто перестанет держать нагрузку Вот на этом нужно держать фокус при этом здорово было бы явно подсвечивать В какие этапы мы можем оптимизировать там быстро на текущем решени а в каких нам полностью придётся переделывать архитектуру менять решения В общем делать какие-то глобальные изменения потому что обычно они делаются не в моменте стоят дорого для коллег из бизнеса это не всегда очевидно они могут ожидать Да например что что-то случилось Там минимальное время и мы починим Вот Но в какой-то момент этого минимального времени может не хватить и здорово когда реальность совпадает с их ожиданиями соответственно это исключает возможность ну конфликтов На мой взгляд Антон Спасибо большое за такой интересный тех толк встретимся тогда на конференции Спасибо большое с нами был Антон Абрамов и ваш ведущий Абашев Алексей"
}
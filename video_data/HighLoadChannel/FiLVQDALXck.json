{
  "video_id": "FiLVQDALXck",
  "channel": "HighLoadChannel",
  "title": "Современные базы данных. Как выбрать СУБД в 2023? / Олег Бондарь (Яндекс)",
  "views": 4190,
  "duration": 3135,
  "published": "2024-04-17T01:10:23-07:00",
  "text": "Всем привет Спасибо что пришли Меня зовут Олег Я много лет работаю в Яндексе до этого я еще больше лет занимался разработкой различных высоко нагруженных проектов все это время я в основном старался использовать или контрибьютити или мои команды контебителю опенсус Я очень люблю считаю что программа обеспечения должно быть доступно всем и всех должны быть одинаковые права и возможности и одно из своих наверное самых значимых одним из своих самых значимых достижений языка Я считаю то что я участвовал в выходе нашей распределенной системы баз данных с открытым исходным кодом и я занимаюсь как раз развитием это наша база данных вы бы это кажется всегда один из самых халивайных вопросов и как можно было бы поставить доклад можно было бы папайяну сравнивать не знаю пост My SQL база данных работающая с разными моделями данных или в целом системы разного класса Вот Но кажется это довольно скучно Я думаю что есть много обзоров и в целом скорее мы не про это что мне кажется действительно интересным это то почему баз данных вообще развиваются Казалось бы что может быть скучнее чем база данных что должно быть Вкуснее чем баз данных для пользователя баз данных должна быть какой-то магией которая примерно как самолет летает он взлетел приземлился вы переехали с баз данных всё то же самое вы ее поставили запустили подключились к ней записали прочитали Все должно работать но почему-то за последние там лет 25 мы видим какое-то колоссальную эволюцию появления совершенно новых продуктов разных и все Это для того чтобы для пользователя база данных продолжали оставаться максимально скучной Темой а для заработчиков которыми занимаются максимально интересный Именно поэтому я сегодня хочу подойти немножко по-другому Я в основном буду говорить про базы данных операционные для операционных нагрузок потому что аналитика это и хранение больших данных это отдельная огромная Тема а все вместить в такой небольшой тайм-сот не получается Поэтому в основном я поговорю база данных для операционных нарезок начну я с эволюционных все-таки ввиду какие-то понятия базы данных традиционно называются ой ОТП базами данных Да базами данных для транзакционных нарезок это те базы которые в основном обеспечивают работоспособность интерактивных приложений это То на чем обычно становится весь бизнес это база данных которые должны работать непрерывно и у них есть какой-то набор характеристик Это обычно очень много подключенных соединений подключенных пользователей высокая конкурентность доступа но доступ Обычно все-таки он характеризуется небольшим и по объему данных дочитанных и по объему данных записанных Но самое важное что эти данные должны быть консистентны и всегда актуальны аналитические системы в свою очередь какая-то противоположность То есть это небольшой набор конкурентных пользователей задача которая в аналитических системах выполняются легко можно если не хватает ресурсов вместо того чтобы их параллелить можно их запайпаинить выставить последовательно в целом для ряда систем это не так критично но данных много их надо обрабатывать их надо читать и самое важное что следствие из того что этих данных много состоит в том что любая операция она очень сильно утилизирует с это и сети и дисковая ива и память CPU поэтому чаще всего аналитические баз данных отселяют Отдельно Ну во-первых есть множество продуктов для этого Но даже если вы просто строите аналитику используя традиционное решение Вы становитесь данные из системы куда-то выгрузить и там уже с ними поработать отдельно в аналитической системе на рынке реляционных баз данных думаю что Совершенно очевидно сложились еще конца девяностых годов после того как вышли в Pan soice несколько решений это и пост и массива сейчас это ещё и возле самой И когда мы говорим что база данных должна быть скучными скучность заключается в том что она должна работать и соответственно А должно быть отказоустойчиво б интернет бум начала 2000-х привело к тому что Все получили возможность строить свои стартапы строить свои проекты используя пылесос продукта но денег немного Все только начинается продукты бесплатные А нагрузки поэтому растут да то есть вот это возможность работать с большим количеством пользователей не вкладываем много приводит к тому что нагрузки продолжают расти и возникают проблемы масштабельности и как же эволюционировали эволюцию за последние годы есть просто противоположный подход то есть подход рассказывает что были аляционные потом появились данных потом появились определенные А я хочу показать как эволюционирует одновременно все эти системы и к чему это приводит в итоге вчера И вообще оборудование достаточно ограничено по своей возможности Даже несмотря на то что за последние годы объем оперативной памяти существенно лучше но вопросы отказоустойчивости достаточно быстро были решены То есть если посмотреть на текущий момент на классический кластер постгресса Как пример Я думаю что примерно аналогичную схему можно нарисовать для любой другой традиционной базы данных то есть мастер обрабатывает входящую нагрузку на чтение на запись куда-то и плицирует свои данные чтение обычно происходит с реплик на чтения и за счет того что эти реплики могут быть синхронными асинхронными в случае с Яндекс используем вообще говоря аквариумные аппликация то есть из набора реплик значение выбирается какое-то количество до записей в которое операция не считается успешно завершенной то есть за счет использования воологов за счет наличия таких синхронных с какими-то Возможно с какими-то можно сказать что система получается от газоустойчивой надежной и все проблемы достаточно сильное шины остается вопрос масштабирования как выглядит упрощенная схема того как можно Ну первое Понятно берем и которые физически базу данных на котором физически база данных работает просто уводим любую другую нагрузку дальше выделяем роли баз данных на чтение на запись делим логические данные по их предназначение микросервисному то есть выделяем какие-то домены определенной области знаний и делим базу выносим базу тогда Но после того как достигли какого-то минимально возможного все с большой табличкой дальше эти данные надо в принципе во всех системах один из самых популярных наверное подходов то есть чего хочется Хочется взять несколько одинаковых серверов одинаково простых совершенно обычных какие-то части данных написать какой-то маршрутизацию запросов то есть определять На каком сейчас эти данные находятся и путем или переписывания запросов или выполнять запросы непосредственно к власти которая будет отвечать за этот шодирование и вот эту монетизацию можно реализовывать на стороне клиентского приложения но так как мы договорились что баз данных должны быть скучными это вообще говоря не скучно то есть выносить эту логику настоенную клиентского поражения не интересно не скучно и очень дорого и главное приводит к сложности к поддержанию кода поэтому конечно же скорее хочется выносить это всё на сторону какого-то промежуточного слоя которое магию делает заводчиком когда мы говорим в принципе про Вот это шагирование понятно что мы что мы хотим сделать Я даже не буду рассматривать наивное эти исследования когда мы хотим просто знать таблички расселить по разным серверам Ну это Просто элементарно не работает потому что табличка Даже несмотря на то что одна может э-э вырасти настолько что это будет происходить возможности по хранения и возможности по Я знаю оперативной памяти все поэтому мы таблички делим на части можно поделить табличку да то есть выделить из неё разные Столбцы расселить эти Столбцы по разным накопителям применять к этим столбцам особенно зная тип данных зная природу данных можно оптимально подобрать какие-то кодеки компрессии и это все равно недостаточно потому что как бы мы не побили на Столбцы табличку столбец она может быть довольно большой поэтому на помощь приходит горизонтальные операции табличек тоже есть много разных подходов можно по какому-то заранее предопределенному списку табличку побить можно использовать диапазоны ключей первичного ключа побить ее по диапазонам можно для того чтобы попытаться если ключ изначально считается неравномерным добиться какого-то каких-то производных столбцов и съедать данные по разным Ну вот типичная табличка побитая или по диапазону данных или похожу на разные части получаем разные части таблички и Селим их на разные что в этом случае произойдет с типичным приложением которое с базы данных работало то есть вот у нас был открызоустойчивый кластер мы к нему как-то коннектились что-то писали и вот этих отказоустойчивых костиров становится несколько но хорошо Если два на самом деле их может быть намного больше хочется получить какой-то свой который все сделает за нас свой этот есть понятно что это какая-то маршрутизация запросов чего мы хотим мы хотим при записи писать данные в правильный сайт при чтении читать их из правильного когда мы работаем с изменением схемы данных естественно хочется чтобы изменения схемы по консистентно На всех широтах власти то есть на всех костях всегда должна быть правильная одинаковая схема данных и хочется чтобы это и делал ну и плюс К тому конечно же иногда хочется еще делать запросы то есть Запрос который не включает данные которые лежат в разных городах естественно хочется прочитать всех шаров корректно в Яндекс облаке мы одно из таких решений сделали не так давно полностью с открытым исходным кодом если интересно по qr-коду доступна ссылочка на github это как раз такой маршрутизатор который поддерживает множество полезной функциональности для того чтобы работать с базы данных было максимально скучно То есть это pulling сессий пулин транзакций это ну естественно я показал на схеме очень упрощенно принципиальную схему конечно он включает себя множество для того чтобы схема была отказа устойчивой специальной координаты которые обеспечивает координацию транзакций но в целом это один из способов достижения того чтобы база данных продолжало Быть скучной и к ней можно было коннектиться через один and Point по-прежнему а вся магия была внутри таких за последние десятилетий появилась несколько Ну вот наверное самые популярные помимо это ещё цитрус для поиска Это вид тест для моих и получается что обычная база данных революционные они научились от каждой устойчивости б масштабирование они научились быть масштабельными но это не все модель данных которая изначально была исключительно революционной реляционных СУБД Растите за тавтология она также пойти опевала изменения потому что постепенно появляется множество других моделей постепенно стал очень популярная модель работы с Джейсоном и за последние 10 лет поддержка Джейсона например очень сильно получается что одновременно документной базы данных параллельно с этим если посмотреть на количество на официальной страничке видно что их там несколько сотен и они посвящены абсолютно разным областям То есть это аналитика это какие-то массивные параллельно обработки работа с абсолютно разными моделями данных То есть это может быть Times могут быть какие-то графовые базы и так далее почему так происходит потому что система которая реализует базовые примитивы работы сети жесткими дисками с конкурентным доступом Она фактически в мире систем хранения обработки данных реализует настолько большую часть всей необходимой функциональности что доработать какую-то непосредственно свою логику уже не так сложно и получается что обычное авиационная база данных пришли к платформенности то есть на базе одной базы данных можно поставить целую платформу пойдем дальше когда я показывал схему с масштабированием Я немножко с рукавил потому что конечно же один из самых простых способов доступны уже давно это кэш то есть помимо сложного шадирования помимо всех тех сложностей которые описывал закишировать данные самое простое что можно сделать когда мы говорим про кэш можно Понятно держать кэш в какой-то еще одной базе данных просто складывая туда какое-то предпочитает данных памяти И постепенно объемы оперативной памяти росли то есть допустим и держать базы с кэшем становилось Все проще чем больше объем этого кэша тем выше была на нем ответственность и тем сложнее было перечитать данные в случае когда с сервером с кэшем в памяти что-то происходит Ну потому что волатильный кэш который при перезагрузке обнуляется что делать загрузился Ну получается его надо Полностью заново перезаписывать когда мы говорим про терабайты или множество терабайт данных это становится уже недопустимо дорого поэтому внезапно Я смотрю на примере буквально двух из представителей масштабе потому что нагрузка которая не обрабатывают также ограничено а вертикальная масштабирование по-прежнему дорого или просто Физически невозможно они начали включать себя множество очень сложный функциональность также являясь фактически базовых примитивов начала появляться функциональность очередей начали появляться сложные структуры дальше больше In Me моя база данных перестали быть мемы и например с помощью такого же ваога начали переносить свое состояние на диск в частности для того чтобы синхронизироваться с остальными репликами а что происходит Дальше когда мы осматривали один из проектов которые использовал общаясь с коллегами мы поняли что они в каше хранят достаточно сложную структую Ну например если мы возьмем какую-нибудь базу объявлений в которой в кэше по регионам разделенные лежат например товарные остатки то получить какую-то базовую аналитику хотя бы Элементарно о том что в кэше сейчас есть и какое там количество и как вообще выглядит состояние кэша очень сложно если обращаться какие-либо из данных Совершенно очевидно что наличие интерфейса существенно упрощает такую задачу и вот в таких базах данных например появляется даже появляется встроенная в интерпретация то есть появляется возможность строить какую-то более сложную бизнес-логию пойдем дальше одновременно С развитием реляционных баз данных и кэша которые можно использовать с этими базами данных где-то в середине 2000-х годов пока еще не было очевидно что революционные Слобода смогут совершить какое-то переворот и проблема с масштабельностью были еще большими начал появляться новое течение начали появляться данных эти базы данных предоставляли высокую доступность и новые модели данных То есть это уже не реляционная структура а что-то другое это или слабая схема или схема но все это было не бесплатно естественно продукция которые делаются с нуля они не решают или не могут решить множество задач которые решают уже зрелые продукты десятилетиями зарабатывающиеся Да и работать с огромными объемами данных синхронизируемых между множеством реплик не так просто в традиционной парадигме поэтому мы получаем базы данных у которых нет консистентности это предоставляют по умолчанию консистентность конечном итоге вся проблематика работает транзакциями вся проблематика работы с распределенными джонами ложится на заводчика что еще хуже практически у всех представителей этого мира не было стандартного API То есть каждый изобретал свой это были какие-то была работа документами или множество аналогичных всё это привело к тому что в целом работа с такими базами данных она становилась не так чтобы очень скучной потому что обеспечивать самостоятельно на стороне клиентского приложения работу с колл-шаговыми транзакциями в общем-то задача не из простых и чаще это не та область в которой специализируется разработчик который делает свой продукт То есть ему скорее всего у него kpi совершенно другие ему надо заниматься своим продуктом появилось множество представителей как среди баз данных первоначально ориентированных на хранение данных на диске так и соединены решений это были и базы ключ значения и Чуть более сложные документы и базы данных Я думаю ставшие наиболее популярными но спустя примерно 10 лет эволюции стало понятно что оставаться в таком состоянии в котором они были невозможно Ну потому что сложность еще большая и надо что-то С этим делать и вот с 2018 года монго анонсирует появление сначала то есть мир начинает меняться одновременно с этим один из начальников новой SQL одна из наиболее популярных баз данных Дай нам и дебет амазона также анонсирует появление Сколь диалекта для доступа к своей документной модели или Киева или модели все это безусловно двигается другим течением как это скажу Чуть позже это дистрибьютон сиквел или newsical база данных смотря на которые технология понимает что она не может останавливаться ей необходимо эволюционировать и доходит все до того что в манге появляются уже не просто каждый документные транзакции но также еще стимулировало традиционный мир И что появилось параллельно параллельно появился совершенно другой мир изначально он назывался статьи в научном журнале 2011 года дальше это течение продолжило развиваться основная характерная особенность этого течения в том что весь код то есть этих решений был написан с нуля то есть чаще это не фойки каких-то существующих уже решений таких как mysql Или постгаз это полностью написано с нуля решения их основная задача была предоставлять привычную эволюционную модель предоставляйте сколин интерфейс потому что это привычно и удобно одновременно с этим обеспечивает все те же свойства которые были характерны для решения то есть это отказы устойчивость это практически неограниченное масштабельность и вся сложность системы полностью скрытая от пользователя и тут уже Мы видим очень похожие эволюцию и революционных базах данных которые начинают обеспечивать прозрачное масштабирование на тот момент с какими в консистентности масштабирование систем также что духами в консистентности и вот новый класс систем который закрывает последнюю проблему Ну или призвана ее закрыть то есть отказоустойчивость масштабируемость строгой консистентность для таких систем изначально были предполагались архитектура решает нас если вернуться немножко к теории что это за архитектура вот если взять классический сервер возгласа или моя сколля это То есть это сервер на котором входной машины диски память Не получившая особого распространения технологии и подход потому что требует дорогостоящего оборудования диск понятно мы беремся и Соединяем их с отдельным хранилищем которое где-то находится доступна по сети но чаще Мы хотим архитектуешь то есть это совершенно стандартные сервера в отличие от например технологии и мы стремимся к тому чтобы все технологии были построены на обычных серверах потому что это должно быть доступно Это должно быть взаимозаменяемым со временем подход только что Только что одна стенка архитектуем он немножко отошел Потому что если посмотреть на существующие реалии то на текущий момент наверное в облаках один из самых дешевых видов стоит то что считается боевой является sty если взять и хранить данные в ste А на компьютере выполнять такое вычисления получается что вот мы получаем такую современную архитектуру которая также является одной из возможных в чем были проблемы технологии уже больше 10 лет и начиналось она точно также как то есть были допущены ровно те же ошибки Так как весь код писался с нуля большинство технологий использовали и естественно как только технология предоставляет при Тайное пи она уже перестает быть очень скучной то есть людям которые ее используют приходится изучать что-то новое они не очень этого хотят но сейчас за последние несколько лет это сильно изменилось и практически все базы данных нового поколения начинают поддерживать совместимость с теми или иными привычными революционными Свобода есть большое количество китайских субдд которые очень сильно ориентированы на mysql есть цбд который ориентированы на поддержку например Мы тоже идем в сторону поддержки еще одна из проблем из-за которой эти базы данных не получали долгое время нормального распространения заключалось в том что все эти базы данных точнее большинство этих баз данных базами данных с закрытым исходным кодом с учетом того что они предоставлялись еще облачной модели то есть часть из них например такая как Google не была доступна нигде кроме одного облака популярность таких систем популярности таким системам получалось достичь не очень хорошо и приведу для примера мы столкнулись ровно с той же проблемой привлечь людей к использованию или к привлечь комьюнити к закрытому продукту очень сложно и Одна из таких баз данных yogabyte которая Достаточно давно начала свое развитие в 2019 году опубликовал перешла на полностью открытую модель на полностью открытую лицензию и год назад мы точно также решили полностью открыть свой код и опубликовать его под лицензия почти 2.0 но это не все после того как появились базы данных которые предоставляют школьные интерфейс которые могут работать с большими нагрузками людям стало очень сложно понимать Почему собственно У меня есть база данных которая хранятся петабайты которые я могу выполнять миллиона запросов в секунду и с которой я не могу делать то что хочу А чего я хочу я хочу с одной стороны в такой базе данных выполнять транзакционную нагрузку а с другой стороны я хочу на тех же данных построить какую-то аналитику и так как мы говорим про очень большие объемы данных возникает следующая проблема для того чтобы эту аналитик устроить в какой-то другой системе таких систем очень часто может быть не одна потому что разные аналитические системы по-разному работают с разными датасетами и зачастую Приходится их строить несколько получается очень сложный ландшафт это копирование данных Это очень дорого и в целом опять же перестает быть скучным то есть надо держать кучу специалистов которые поддерживают очень сложный ландшафт в котором происходит множественное копирование данных поэтому практически все решения в области распределенных СУБД из новой классификации идут гибридным продуктам гибридная транзакционная аналитическая обработка Если еще лет пять назад считался чем-то вымышленным и совершенно не нужным то на текущий момент практически все решения из нового поколения баз данных или стремятся или поддерживают одновременно и посторочные и по колоночное хранение и возможность выполнять запросы разного характера то есть возможность выполнить аналитический запрос никак не аффекте существующую транзакционную нагрузку я рассказал про эволюцию наиболее заинтересовавших меня классов баз данных И на чем я бы хотел закончить во-первых Я очень рад тому что популярность продуктов с открытым исходным кодом она все возрастает и это график с db engines на котором видно что за последние пару лет популярность баз данных становится все больше все существующие продукты точнее все новые продукты которые выходят на рынок баз данных понимают что без открытия своего исходного кода привлечь людей привлечь комьюнити и популяризоваться невозможно многие зрелые продукты открывают свой Исходный код и это делает базы данных доступными для всех база данных амбиции разработчиков с убд не дают останавливаться на том чтобы реализовывать только какую-то ограниченную функциональность и мы видим что фактически все базы данных идут и в аналитику и в поддержку топиков очередей даже такая не характерная область как например графовой базы данных может быть реализована в рамках текущей платформы потому что это Малая часть той функциональности которой по-твоему в себе несет практически все базы данных становятся мультимодальными то есть никто не ограничивается больше строго революционной моделью или строго документной все пытаются прийти к мультимодельной платформы если говорить прогнозы которые я читаю многие годы от всех ведущих аналитических агентств то существующий рост интеграции баз данных облака превосходят прогнозы которые давали например в 17 18 году облака сильно упрощают использование они делают практически любые базы данных абсолютно скучными потому что все вопросы касающиеся отказоустойчивости масштабируемости облако берет на себя ну и делает это фактически доступным по кнопке что еще максимально Полезно если раньше в Open Source самые активные конторы это были какие-то крупные интервью с компании то сейчас облака аккумулируют у себя экспертизу очень сильно и становится такими же контрибьюторами и мы получаем очень большой рынок который облака привели к тому что появились новые совершенно иные модели предоставления услуги появилась модель которая полностью абстрагирует пользователя понятия То есть можно выполнить запрос заплатить только за использование ресурсы в момент выполнения и больше ни о чем не думать и фактически все СУБД которые сейчас в облаках присутствуют с каждым годом расширяют и вариативность вот этих серверов моделей И все Больше прорабатывают безопасности их использования чтобы ни в коем случае У пользователя который такую модель выбирает не возникло проблемы с использованием по неосторожности что касается выбора самих баз данных я уверен что все здесь собравшиеся и так отлично разбираются в своих базах данных и в тех моделях данных которые им надо использовать и которые они уже используют которые привычно Мне кажется что в основном базы данных должны быть и в этом случае совершенно безопасно использовать их в облаках если говорить новое и достаточно близкое мне течение по не Усик или базы данных то они прошли очень долгий путь и уже стали из какой-то новинки никому неизвестной совершенно заявом продуктам они становятся все более привычными и все более легкими в использовании за счет того что поддерживают стандартный интерфейсы они стремятся к тому чтобы быть одновременно и аналитическими и транзакционными базами данных Но конечно всегда надо понимать что это продукция которая пишется с нуля и за какой-то набор ключевых свойств которые им присутствие которое им присуще вы чем-то расплачиваетесь в данном случае это конечно же урезанный набор функциональности по сравнению с традиционными шаббаде например в завершении Я хотел сказать что спасёт мир становится все лучше и использовать их я повторюсь становится все безопаснее когда они представлены в облаках все легче Но если на текущий год такой доклад и обзор было сделать еще достаточно просто потому что пересечение было не Такое сильное то дальше все будет намного сложнее потому что кажется все эти платформы начнут копировать функциональность начнут повторять друг друга и тогда уже мы действительно столкнемся с настоящей битвой екадзун с бенчмаркетингом и так далее Спасибо большое за внимание Спасибо большое Вот на этом твоя стажерская программа закончена ты можешь выходить на работу Спасибо стажер из Яндекса вот так выступает друзья не знаю что мы будем делать с вопросами но Давайте попробуем Поднимите руки пожалуйста вот пожалуйста раз потом два Потом три Добрый день Олег спасибо за доклад у меня такой вопрос по гибридным базам данных вы говорили что еще недавно это было какая-то дичь почти никому не известная Как быть 40 вполне прекрасно живет и аналитику И транзакционку да он был изначально но в принципе Да в принципе он аналитический запросы Вполне себе неплохо переваривает Особенно если это всё так я совершенно так не так радужно как вы описываете то есть Разумеется Ну всегда есть нюансы Да смасштабируемостью вот я акцентирую свой доклад исключительно на продукты с открытым исходным кодом Я понял спасибо с удовольствием обсужу да скажи где тебя в кулуарах искать Скажи на стенде мы начнем Клары сразу на выходе из зала либо вот некоторые начинают здесь на улице Да пожалуйста Привет Спасибо за доклад у меня такой вопрос прозвучало то что они умеют и консистентность и доступность и шортирование в общем все на свете но есть вроде как теорема которая гласит что чем-то нужно пожертвовать вопрос мы жертвуем или всё либо не умеет такой системы чем-то пожертвовать сейчас либо другим чем-то доступностью или консистентностью Спасибо все продукты такого класса Ну вот это да это традиционный вопрос и традиционный Мне кажется missent epitation теоремы теоремы Да никто не говорит что есть системы которые всегда доступны всегда строго консистентные Ну и вообще я специально убрал когда готовил доклад слайдов получалось многовато и я вот хлеванный холевая на капчая ему убрал у которой более корректная интерпретация все-таки не Капа PC и оси Да потому что мы никогда не говорим о том что система всегда доступна или Да абсолютно Такая же история Ну в нашем случае мы не жертвуем консистентность то есть мы предпочитаем подход Да и это очень помогает это дает систему сделать скучной вместо того чтобы пытаться потом понять что произошло и почему у меня данный разъехались система должна корректно ответить что она недоступна Ну и еще раз потише неизбежен Спасибо Да но на самом деле у меня был вопрос изначально который практически сейчас ответили Почему у вас серебряная пуля получилась но здесь у меня тогда второй вопрос Вот вы там в конце говорили что все базы вбирают в себя все больше больше и кажется так что в конце получится опять такой огромный комбайн который будет уметь всё и всё это будет вам иметь кое-как и потом покатится опять построение отдельных решений которые может быть уметь будут не так много но уметь это будет делать хорошо и лучше чем вот этот Мега комбайн который строится я именно на этом закончил своё выступление Да я думаю что всё идёт комбайном Спасибо так прошу отличный доклад спасибо разложено все практически по шардам А хотелось бы поинтересоваться в itb позиционируется именно как Open Source или нет потому что на слайдах Мы видели как роуч у которого формально Исходный код тоже открыт но есть закрытая часть а то что касается в idb Как вы её позиционируете потому что с одной стороны у вас есть Яндекс облако и если пилить в idb его году Яндекс готов в принципе не выгодно открывать его функционал Но с другой стороны вы говорите О том что хотите расти опенсорском комьюнити если здесь конфликт интересов и как вы его решаете конфликты никакого нет Мне кажется 90-х новая технологическая революция которая произошла и популяризацию она очень сильно изменила вещи вещи понашел с практически которые мы наблюдаем ну за исключением каких-то нюансов большая часть продуктов которые мы наблюдаем поддерживаются зарабатываются очень крупными корпорациями которые видят массу преимуществ в том чтобы а делать эти решения доступными всему миру потому что только так можно На огромном количестве контрибьюторов На огромном количестве людей сделать систему более стабильной найти миллионом глаз множество проблем больше того ну нельзя исключать того что нам надо людей привлекать работать над нашей системой Даже когда ты людей привлекаешь работать в штат им всегда интереснее понимать чем они работают то есть они видят продукт они могут с ним познакомиться задолго до того как выходить к тебе и принять решение им вообще интересно или нет Поэтому у нас полностью открытая лицензия мы когда выбирали мы были почти она максимально она разрешает использовать вот как угодно потом он же не только в Облаке используется и во множестве сервисов Яндекса тебе используется в Облаке как несколько слоев но открыто Исходный код позволяет нам а помимо использования внутри растить использование снаружи и привлекать комьюнити А без комьюнити без популяризации без того чтобы продукт стал популяренным и комоддите у него нет в современном мире у продуктов закрытым исходным кодом кажется уже нет шансов Спасибо быстро два вопроса Значит я осознанно не даю микрофон ребятам в таких же футболках Они здесь чтобы отвечать на вопросы они задавать вот поэтому ищите спокойно смело в тех же кулуарах пожалуйста раз и потом два Добрый день Спасибо большое за доклад А у меня вопрос касательно гибридных баз для гибридных нагрузок вот сейчас обычно гибридная нагрузка так организовывается то есть какая-то реабилитационная база типа мускуле или позже и параллельно идет Синг в какую-нибудь аналитическую базу вроде Клик хауса и вот интересно как вы считаете какой наиболее перспективный Вектор развития Таких вот систем то есть это будет либо какое-то Ну пара суд Ну типа СУБД с каким-то коробочным идеалом Либо это будет какой-то дописанный движок для аналитической или транзакционные субдд которые позволяют по-другому странная Ну то есть например чтобы у таблицы одна партиция самая последняя была строковым хранении А все остальные в колоночном это все ну выполнялось одно и той же BDS каким-нибудь планировщиком задач то есть вот Как вам кажется Какая именно архитектурная Ну а какой архитектурное решение станет наиболее удачным для таких СУБД Спасибо я сейчас себя буду бить по рукам чтобы не фантазировать далеко и поэтому буду чтобы вообще никак не фантазировать буду отвечать какими-то нашими планами текущими как мы например видим свою систему на протяжении там ближайшего полугода просто чтобы не размазываться вот туда в светлое будущее которое Непонятно вообще каким станет На мой взгляд система должна быть одна Ну потому что как только их становится не одна Это намного сложнее сопровождении это просто разные квалификация разных людей все становится не скучно очень сложно плюс когда мы копируем данные из одной системы в другую в каждой систем в каждой системы должны на уровне дисковые подсистемы обеспечивать отказоустойчивость хранение то есть мы данные копируем не два раза а мы в первом случае храним как минимум в трех копиях и во втором в трех то есть мы данные копируем 6 раз уже Да поэтому На мой взгляд из реальных текущих подходов которые есть у существующих продуктов и вот которые мы планируем И реализуем это одна система в которой есть и построечные по колоночное хранение это действительно могут быть как вы описали между которыми данными прицеливаются это могут быть две рядом стоящие таблицы между которыми данный автоматическое запросов и оптимизация действительно должен анализировать на основе стоимостной оптимизации еще какой-нибудь магии как выполнить запрос если запрос аналитический выполнять его типах то есть должна быть гарантия должны быть изолированы потому что аналитический запрос очень тяжелый но он может зафудить всю сеть выжать все дисковое ИО и надо изолировать систему от отказа от того что кто-то решил по джоинить несколько петабайт друг с другом поэтому оно должно выполняться медленнее в планах с пониженным приоритетом это в принципе нормально реализуемо но Вам их одной системы это ну непростая задача Но реализуемая вот я вижу система так Олег финальный вопрос в микрофон У меня тоже такой вопрос много говорили про швейцарский но нож про магию которая внутри умеет много всего но так они придём к тому что это магия превратится в такое что непонятно что где сломалась как это чинить И сломалась ли вообще Мне кажется что экспертиза людей она же никуда не девается со стороны пользователя допустим тем же Яндекс условно произошла какая-то ошибка Как происходит эту ошибку найти и вообще понять это я дурак или мне идти Хороший вопрос Дело в том что Несмотря на то что используемый вами продукт например сейчас да Если не является вот не подлежит этой классификации нового поколения А этот традиционная база данных Она же она тоже не менее она на порядок более сложная потому что вот эти продукты новые у них кодовая база Несмотря то что большая Она функциональности содержит на порядке меньше Поэтому я думаю что а опенсориз и комьюнити которому интересно и которые потом подключается и люди которым интересно все это следовать и б эти системы не становятся сложнее чем традиционные То есть у вас проблем связанных с консистентностью в обычной синхронизируемой системе одна Северной может быть намного больше просто противопоставление такое магии Черных ящиков такой более прозрачным системам которую ты пошел я что-то увидел там сложно сложнее уже представить Это уже такой хороший запрос на кулуары более прозрачная там где у тебя люди алгоритмов проходят обязательно прежде устроиться на работу подарить кому-нибудь книжку Это был Олег спасибо спасибо"
}
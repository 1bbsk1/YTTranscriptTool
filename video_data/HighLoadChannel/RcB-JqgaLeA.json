{
  "video_id": "RcB-JqgaLeA",
  "channel": "HighLoadChannel",
  "title": "Browser Fingerprint - анонимная идентификация браузеров / Валентин Васильев",
  "views": 5736,
  "duration": 2658,
  "published": "2017-07-23T05:33:57-07:00",
  "text": "Всем привет Меня зовут Тема моего доклада интеграция с 1С браузер fingerprints анонимная идентификация браузеров я расскажу постараюсь рассказать всё про это чтобы вам было понятно что это такое Как это работает зачем это нужно почему это хорошо и почему это плохо пару слоне известен как сокращение моего имени и фамилии Валентин Васильев работаю в компании mascom мы делаем поисковый движок для промышленного оборудования маленький и очень вертикальный пишу на JavaScript немного в основном пишу на ru Java и в свободное время изучаю язык ust Итак что же такое браузер fingerprint или идентификация браузеров очень простая формулировка это присвоение идентификатора формулировка простая Но идея очень сложная не то что сложная но интересная для чего она используется для чего мы хотим присвоить браузеру идентификатор Мы хотим учитывать наших пользователей мы не хотим мы хотим знать пришёл ли пользователь к нам в первый раз пришёл он во второй раз или в третий если пользователь пришёл во второй раз мы хотим знать на какие страницы он заходил что он до этого делал с анонимными пользователями это невозможно Если у вас есть система учётной записи логинится мы всё про него Знаем мы знаем его учётную запись его персональные данные мы можем привязать любые действия к Этому пользователю Здесь всё просто в случае с анонимными пользователями всё становится гораздо сложнее второй сценарий персональная реклама это сейчас везде Мы заходим и тут нам показывают рекламу каких-нибудь пирожков которые мы хотели купить ещё вчера как это делается это делается через идентификацию пользователей третий сценарий внутренняя аналитика Если вы используете помимо Google analytics или Яндекс вы используете собственную самописец заходил Какие ссылки он щёлкал и так далее и построить на основе этого целую картину как карту действий пользователя всё это достигается при помощи этой техники браузер fprint почему бы для этой цели не использовать просто http ку ведь это очень просто все это умеют делать работает Это вы все знаете как пользователь приходит на ваш сайт мы читаем его ки если там есть какой-то идентификатор значит он у нас уже был и мы знаем кто он такой Мы выполняем всю всю нашу аналитику трекинг и так далее в привязке к Этому пользователю если там идентификатора нет значит пользователь пришёл к нам впервые мы генерируем идентификатор уникальный guid uid что угодно бинарную строку какую-то записываем это в ки и потом когда пользователь прит в следующий раз мы этот ку прочитаем и пойм что этот пользователь нам прил во второй третий последующие разы у ку есть один большой недостаток его можно очистить любой даже технически не подкованный пользователь знает как очищать ку он нажимает настройки заходит и очищает всё пользователь становится опять для вас анонимным вы не знаете кто он такой все современные браузеры латре когда поре ваш сайт в этом режиме он не оставляет никаких следов В следующий раз когда он зайдёт в режиме инкогнито Вы опять же не знаете кто он такой был ли он у вас до этого то есть в режиме инкогнито H работать не будут настоящее время в связи с популярностью таких персонажей как СН и так далее многие предпочитают разные режимы приватности анонимности в интернете которые режи плагины и так далее что угодно всё это препятствует трекингу и идентификации в интернете многие пользователи этим пользуются даже не понимая зачем просто устанавливают потому что может быть это модно и они становятся опять же для вас анонимными http ки работать в этом случае не будут как программисты пытались решать эту проблему и пытаются наиболее успешным проектом в этой сфере сохранение информации в ки так чтобы невозможно было её удалить на мой взгляд является проект EV Cook или persistent Cook неудаляемый ку рудно удаляемые Cook суть его заключается в том что EV Cookie не просто хранит информацию в одном хранилище таком как http Cookie он использует все доступные хранилища современных браузеров и хранит вашу информацию например идентификатор там начинает он а использовать http cookies записывает идентификатор туда затем если в браузере доступен фш он использует Local shed objects для записи этой информации в так называемый Flash cookies Flash cookies До недавнего времени не очищали Когда вы очищали ки лишь в последней версии Google Chrome умеют очищать ки шку Когда вы очищаете обычные ки то есть до недавнего времени flook были практически неудаляемые страница на сайте макро Куда нужно было зайти нажать кнопку Да я хочу очистить Flash cookies и тогда они очищаются без этой страницы очистить было невозможно далее EV использу по-другому они называются isol это специально место на жёстком диске компьютера пользователя куда пишется ки информация найти это место невозможно если вы не знаете точный путь оно прячется где-то в документах и сеттинга если на Windows глубоко в недрах компьютера и эти данные удалить при помощи очистки ки невозможно дальше EV Cook использует такую инновационную технику как png cookies суть заключается в том что браузер отдаёт картинку в которой в байты этой картинки закодирована информацию которую вы хотите например идентификатор эта картинка отдаётся с директивой кэширования навсегда допустим на следующие 50 лет браузер кэширует эту картинку а затем при последующем посещении пользователям а при помощи canvas API считываются байты из этой картинки и восстанавливается та информация которую вы хотели сохранить в ки таким образом даже если пользователь очистил ки а я прошу прощения даже если пользователь очистил ку эта картинка с закодированным ook png по-прежнему будет находиться в кэше браузера и canvas API сможет её считать при последующем посещении evak использует все доступные хранилища браузера современный html5 standart Session storage Local storage Index db и другие также используется Head это http заголовок в котором он очень короткий Но в нём можно закодировать какую-то информацию и если установлен Java то используется Java persist API то есть действительно очень умный плагин который может сохранять ваши данные Практически везде для обычного пользователя который не знает всего этого удалить эти кукиш нужно посетить 6 78 мест на жёстком диске проделать ряд манипуляций для того чтобы только их очистить вот поэтому обычный пользователь когда посещает сайт который использует эки он наверняка не будет анонимным Но несмотря на всё это э Cook не работает в инкогнито режиме как только вы зашли в инкогнито режим никакие данные не сохраняются на Дис ди потому что это основополагающая суть инкогнито режима Вы должны быть анонимными а EV kooki использует хранение на жёстком диске которые в этом режиме не работает а fingerprint JS это библиотечка маленькая которую я написал и которая пытается решить эти проблемы э она пытается их решить Я сейчас расскажу как она это делает и что из этого Получилось написал Я в 2012 году я тогда работал в компании купон rubi разработчиком и у меня была задача сделать систему аналитики такую чтобы учитывать не просто залоги их пользователей те пользователей которые есть у нас в системе а также анонимных пользователей конкретно на сайте купон было много анонимных пользователей Потому что люди часто приходили из не посмотреть какие-то купоны скидки предложения у них ни у кого не было учётной записи и поэтому система трекинга система отслеживание посещаемых страниц нажатии кнопок всё это не работало потому что пользователи были анонимны fingerprint JS вообще не использует ook никакая информация не сохраняется на жёстком диске компьютера браузера Где установлен браузер работает в инкогнито режиме потому что в принципе не использует хранение на жёстком диске не имеет зависимостей работает даже без jy и размер 1,2 КБ запо Да на данный момент используется в таких компаниях как Google в Китае его е называют сайт президента США сайт размещения виджетов и так далее То есть библиотека стала очень быстро очень популярная она используется примерно на 6-7 про всех сайтов самых посещаемых в интернете в данный момент как она работает расскажу детально суть её в том что а код который код этой библиотеки он опрашивает браузер пользователя на предмет всех специфичных и уникальных настроек и данных для этого браузера и для этой системы для компьютера эти данные объединяются в огромную строку или строку и затем они э Затем они подаются на вход функции хэширования и функция хэширования берёт эти данные и превращается в компактный и красивый идентификатор как детально это работает расскажу сначала считывается User Agent навигатора допустим Ну вот тут он обрезан вы его видите А это присоединяется к строке к итоговой строке отпечатка считывается язык браузера Какой у вас язык английский русский португальский и так далее тоже присоединяется к строке отпечатка считывается получается а часовой пояс Это количество минут от UTC -180 - это -6 получается Москва далее а получается высота Ну размер экрана массив Прошу прощения глубина цвета экрана 24 и затем происходит получение всех поддерживаемых html5 технологий то есть каждого браузера поддержка отличается вот fingerprint JS пытается определить какие поддерживаются Какие Нет и для каждой технологии результат опроса наличия этой технологии степень е поддержки прибавляется к итоговой функции отпечатка S Stage Local Stage ind db Open Database и другие всевозможные опрашивают данные специфичные для пользователя и для платформы такие как настройка очень иронично что настройка используется как раз таки для трекинга CPU класс процессора платформа и другие данные здесь у вас может возникнуть закономерный вопрос Ведь у очень многих пользователей вот эти данные они одинаковые допустим пользователь живёт в Москве у него будет одинаковый язык последний хром у него будет всё практически одинаковое все эти строки которые были получены на данном этапе они будут одинаковые как это поможет идентифицировать пользователя есть ещё два способа о которых расскажу которые именно добавляют уникальности первый - это информация о плагинах код опрашивает наличие всех установленных плагинов в системе для каждого плагина вы здесь видите получается его описание и название а также что очень важно список всех мультимедиа типов или майм типов которые поддерживают этот плагин вся эта информация объединяется в огромный массив строк и этот массив тоже конкатенировать пов тоже будет свой следующее а к строке отпечатка прибавляется так называемый canvas fingerprint это ещё одна техника которая позволяет повысить точность суть её заключается в том что на скрытом вас элементе рисуется при помощь текста рисуется определённый текст с определёнными наложенными на него эффектами и затем полученная изображение реализуется в байтовый массив И преображается преобразовывается в 64 при помощи вызова canva URL у вас тут возникает вопрос как это тоже помогает идентифицировать т для меня исследование которое я нашёл оно говорит о том что прорисовка шрифтов в частности в KV API она очень платформа зависима внешне идентичные одинаковые изображения нарисованы в разных браузерах они будут преобразованы в разных байтовый массив почему это зависит от процессора видеокарты драйверов видеокарты системных библиотек таких как DirectX и других систем отрисовки шрифтов теней всё это на каждом компьютере может быть своё поэтому результирующий байтовый массив будет отличаться практически на каждом компьютере где будет зная аппаратная и программная начинка и вот эта длинная строка полученная при сериализации она будет присоединена к итоговому отпечатку и мы получим огромную строку строку вот тут показано Как это работает мы получаем все все эти данные потом мы передаём их функцию хэширования используется 2 и на выходе мы получаем тно число это есть ваш идентификатор таким образом ког пользователь заходит наш сайт ему присваивается номер этот номер вы считывает как хотите вы базируется были у меня уникальность составляла около 90% 9091 вот так в общем библиотеку стало использовать много людей и компаний и с течением времени выявил ряд недостатков То есть она не Не идеально у неё есть недостатки самый главный недостаток то что точность идентификации только 90% но есть и другие недостатки первое юрген у современных браузеров Ген меняется очень часто каждые 2 месяца выходит версия Google Chrome User Agent будет меняться потому что та версия Google Хрома которая зашита в User Agent она будет отличаться А это означает что User Agent будет влиять на итоговый отпечаток если выходит новый браузер итоговый отпечаток изменится потому что с точки зрения fingerprint JS А это уже будет новый пользователь второе iPhone iPad и другие продукты Apple Дело в том что они очень униформе одинаковы с точки зрения аппаратной реализации у них у всех одинаковый процессор если мы возьмём конечно отдельную взятую модель допустим iPhone 5S к примеру iPhone 5S у него будет у всех iPhone 5S будет одинаковый процессор одинаковый графический ускоритель одинаковые системные библиотеки Это означает что и плагины там будут одинаковы если на самом деле их там нет Это означает что тот байтовый массив полученный с KV fingerprint он будет одинаков для всех версий iPhone 5S а это значит что точность идентификации для продуктов Apple будет ниже expl и Китай тоже не подозрений потом я узнал что используется в Китае оказывается очень много старых версий Internet Explorer и для того чтобы получить список плагинов о которых о технике получения информации плагина который я говорил выше для того чтобы получить список плагинов нужно иметь название всех плагинов заранее Почему Потому что для того чтобы проверить есть плагин или нет в икре просто невозможно вызвать допустим натор это не будет работать нужно взять ИЖ пытаться инстанции как activex объект если инстан если он создался то значит всё хорошо если выброшена ошибка значит того плагина в интернет эксплорере не установлены вот список плагинов у меня был для Итернет эксплорера но он был коротким порядка десяти плагинов у меня не было определения тех плагинов которые популярны в Китае таких как QQ BYD и других они Alibaba там очень много плагинов которые используются только там вот эти плагины я не проверял и соответственно список плагинов для Китая конкретно был меньше другой недостаток первой версии - это отсутствие интеграции с флеше и silverlight почему это плохо я расскажу позже ну просто Вы должны знать что интеграция с этими плагинами позволяет улучшить качество фингерпринт И последнее но достаточно серьёзная вещь которая недавно обрушилась на fingerprint JS это то что начиная с версии 42 Google Chrome просто перестал Активировать все те плагины которые работают через npapi NP API - это очень старый API для Инста но он бы разработан ещ компание netscape он так и называется ncap PL API так вот все плагины которые работают опираются на этот протокол на этот API они перестали загружаться и поэтому ни silverlight не Java А эти два плагина наиболее популярных которые работают через npi они не отображаются в fingerprint JS они никак никоим образом не определяются список их ма типов тоже не отображается Это значит что в chome 42 и старше точность ниже за счёт вот этой проблемы поэтому проанализировав всё это сейчас я тоже использую ННН Я пришёл к выводу что пора разрабатывать новую библиотеку которая будет лишена или практически лишена всех существующих недостатков я начал делать совсем недавно буквально пару месяцев назад разработка ведётся на гитхабе как она решает существующие проблемы самое главное используется в фазе рования и и некое рование Тае рование не меняется даже если в обычном хэширования хотя бы один байт входящей информации выходящая строка тоже изменится причём кардинальным образом фазе хэширования этого не происходит у фазе хэширования есть такой порог чувствительности когда определённая определённый процент входящих данных может измениться что не повлияет на исходящий отпечаток допустим если поменялась в юзер Агенте только версия браузера это случается очень часто допустим в Хроме то результирующий отпечаток будет одинаковым потому что версия составляет только допустим 3 или 5% об общей длины юзера Агента второе а fingerprint js2 используется определение установленных шрифтов все шрифты которые установлены в системе как это полезно Если вы поставили программу допустим Аби PDF вы добавляете в систему шрифты Если вы поставили Microsoft Office вы добавляете в систему шрифты Если вы поставили какой-нибудь Quick Office который имеет собственные шрифты Вы опять же добавляете в систему шрифты и поэтому у вас может быть два абсолютно одинаковых компьютера но на одном установлен офис а на другом Нет это значит что на первом где нет офиса будет 320 доступных шрифтов А где есть офис будет 1700 шрифтов и значит что вы сможете получить все шрифты которые есть на этом компьютере опять же и для итогового отпечатка это будет два разных отпечатка потому что шрифты разные по умолчанию используется ш маленький с файл размер 916 байт он получает список всех установленных шрифтов Прим платформа зависимом порядке так как они доступны в системе так Они и будут возвращены флеш не установлен используется такая техника она называется Site Channel technique она а впервые была опубликована на сайте lolit torg Возможно вы о не знаете это определение наличия шрифта при помощи JavaScript Only как это делается здесь на этой гифке примерно видно для каждого шрифта референтного э тот который задан по умолчанию в браузере в системе измеряется его ширина и высота и этот э этот массив сохраняется ширины высоты затем к скрытому тексту текст кстати огромный допустим 72 пикселя к нему применяется другой шрифт если этот шрифт есть в системе текст изменит свои габариты правильно и код который измеряет высоту и ширину он получит новый массив с высотой и шириной если он отличается от референтного того что который был получен при опросе дефолтной шрифта значит этот шрифт установлен если не отличается этого шрифта значит нет очень простая идея но она работает на данный момент этот код может достоверно определить около 500 шрифтов без использования фш и соответственно тот компьютер где есть допустим Microsoft Office и тут где нет Microsoft Office они будут по-разному определены fingerprint gs2 за счёт вот этой техники третье отличие webgl fingerprinting это развитие идеи canvas fingerprint суть его заключается в том же самом рисуется вместо как в случае canvas fingerprint рисуется текст со шрифтом здесь же рисуется 3D треугольник на слайде не очень хорошо видно но это 3D а он рисуется на него накладываются эффекты Градиент зная анизотропная фильтрация и так далее и Затем он преобразуется в байтовый массив у результирующий байтовый массив как и в случае скен с финг прин будет разный на многих компьютерах потом к этому байтом массиву ещё добавляется информация о платформа зависимых Константа которые определены webgl То есть у webgl есть набор констант которые должны быть обязательно в реализации это глубина цвета максимальный размер текстуры этих констант очень много их десятки вот этот код опрашивает все эти константы и Понятное дело что на девайсе эти константы будут отличаться там глубина цвета может быть другой чем на Windows или чем на Linux и он опрашивает все эти константы всё это опять же складывается в огромный массив И всё это добавляется к сериализовать угольника который нарисован при помощи аппаратных эффектов тут тоже такой вопрос как это помогает идентифицировать 3D графика она очень платформа зависима версия драйверов как я уже говорил версия видеокарты стандарт Open в системе всё это будет влиять на е версия шейного языка поддерживаемая видеокарта всё это будет влиять на то как внутри будет нарисовано нарисовано Это изображение 3D изображение соответственно когда оно будет преобразовано в байтовый массив оно будет разное на многих компьютерах Почему Web fingerprint важно важен потому что iOS 81 поддерживает webgl это помогает идентифицировать iOS девайсы проблеме которых идентификации которых я упоминал вот повышает точность фингер принти Что Ещё предстоит реализовать как я говорил уже библиотека находится в разработке и не все вещи которые я хотел бы в ней сделать они ещё сделаны вокруг неё есть уже небольшое сообщество разработчиков Я кстати Приглашаю всех желающих участвовать в разработке она очень интересная Мы очень неформальная каждый предлагает идеи Там как бы достаточно Интересно что предстоит ещё реализовать web rtc fingerprint web rtc это стандарт p2p коммуникации через аудио потоки Ну или по-русски там как это сказать это стандарт аудио коммуникации в современных браузерах Он позволяет делать аудио звонки и так далее он поддерживается Firefox и будет скоро поддерживаться других браузерах так вот реализация webrtc стандарта она тоже платформа зависимая она будет зависеть от той видеокарты которая установлена в системе от драйверов на звук и так далее поэтому Измеряя разные уровни латентности разные уровни поддержки и констант которые зашиты в этом формате можно получить разные итоговые отпечатки вот для разных компьютеров будет использоваться больше плагинов для интернет эксплорера будут использованы те плагины которые популярны в разных странах в Китае там в Индии и так далее То есть растущие информационные рынки в первой версии недостаточно внимания Было уделено этой проблеме во второй версии это будет решено больше информации будет собираться об операционной системы как я это буду делать как мы это будем делать пользоваться интеграции с Flash и silverlight Flash позволяет получать информацию системе такую как версию ядра там Patch level ядра Silver Light если на Windows позволяет получить версию Windows Build номер Windows всё это доступно через silverlight пару слов о silverlight Почему интеграция silverlight тоже достаточно важна может быть в России silverlight plin не очень популярен но в США например есть сервис стримингового видео netflix который транслирует видео и они используют помимо знаю точно что они используют silverlight а ввиду того что silverlight поддерживает drm это система ограничения цифровых прав на на контент вот так как netflix часто показывает разные свежие голливудские фильмы они используют silverlight для того чтобы это видео не расходилась по интернету Поэтому в США у многих десктопных пользователей интернета те которые используют десктоп у них установлен сила плагин который кстати доступен и на Маке тоже помимо Windows вот будет реализовано определение наличия нескольких мониторов если мы Запроси размеры ширину и высоту экрана через JavaScript мы получим просто два числа это ширина и высота экрана если мы же сделаем тоже самое через ш AP Action Script IP мы получим массив массивов А это значит если установлено несколько мониторов где каждый подмассив это будет размер экрана каждого монитора если разработчик сидит за пятью мониторами мы получим массив массивов из пяти элементов Таким образом мы узнаем что человек сидит за пятью мониторами а не мониторами основным монитором который бы вернул JavaScript вот все эти данные в совокупности они позволят на данный момент а получить точность определения порядка 94 95% но как вы понимаете э это недостаточное количество недостаточная точность идентификации тут встаёт вопрос Каким образом можно это улучшить Можно ли это улучшить Я считаю что можно Цель этого проекта достичь стопроцентной идентификации так чтобы можно было опираться на fingerprint в 100% случаях и гарантированно сказать Да этот пользователь нам приходил Да я всё о нём знаю Несмотря на то что он использует инкогнито мо Тор сеть неважно вот всё это будет определено А что ещё Что ещё хочу добавить А в принципе проект интересный Вот и я достаточно быстро говорил так как это мой первый доклад Прошу прощения за это задавайте вопросы если они у вас есть Как ска а глав глав Как избежать Как избежать fingerprint JS как А это сложный вопрос вопрос лучше пользоваться телефоном который в народе называется Nokia фонарик точно не будет работать других способов Я пока не знаю честно А вопрос В итоге вот в итоге я здесь Я здесь вот я да А на вот возьмём самый простой случай два Айфона одинаково купленных можете получается теперь вот в будущем в хорошем отличить Если да то по каким параметрам сейчас нет это сейчас нет в будущем в будущем в прекрасном будущем по каким параметрам есть планы или нету чем только только если у на этих телефонах установлены разные версии программ которые устанавливали дополнительные шрифты вот если один пользователь поставил какую-то версию офиса а второй не поставил А многие пользователи на Айфоне Да ставят допустим Microsoft а кто-то поставил о а кто-то поставил там акро ои вот эти три версии офиса установят разные шрифты вместе с собой и их наличие и будет определено скриптом и сразу понятно Спасибо за ответ второй вопрос в догонку А есть ли вообще исследованиях что это за такие пользователи которые удаляют ки Мне кажется Моя мама не будет удалять ки ей это не нужно она об этом даже не думает знаете смыс их трекать потому скорее всего этоже ис для продаж это какие-то Гиги которым это очень специфичная аудитория Я согласен да многие пользователи не удаляют ки но многие пользователи не программисты не технические какие-то специалисты удаляют ку я точно знаю что моя жена удаляет ку я не знаю зачем она это делает но она удаляет ку вот под вопрос этого ет неко вопросов не хотят чтобы их трека Ну прям все душой не хотят там у меня ну четыре плагина стоит с разным функционалом зачем их тогда трекать Ну вот прям это как сделали сделали стандарт трек и всё равно трека Даже Google забивает на это хотя он вроде как пуши Это этический вопрос я считаю что трекать нужно и можно потому что мы трекам не пользователей мы трекам только браузера если пользователь хочет быть анонимным он переходит на другой браузер он если он хохочет казаться разным пользователем понятно что большинство пользователей об этом даже не подозревают они даже не знают что их трекать но этот вопрос мне задавали он сложный ответить только на него На него Могу только так что этот скрипт трека ет в браузере он не трекать пользователей он не привязывается никак к вашей персонале к тому кто вы есть он только привязывается к тому что знает что у этого браузера есть Вот этот номер и всё поэтому Ну можно же персональ определить Ну люди ходят там по определённым сайтам можно собрать портрет там вот есть он зашёл в Фейсбук а заш а там на порнохаб Опаньки типа мы теперь знаем так и делается есть даже компании которые продают базы фингерпринтов вы покупаете эту базу и когда к вам заходит пользователь даже в первый раз Вы извлекает его идентификатор из базы знаете полностью всю его историю посещения за последний год допустим так сейчас на самом деле мне очень интересно вопрос безопасности вебе Ну начнём с того что Современный Firefox во-первых по-моему и Safari не запускает большинство плагинов которые то есть и это и во-первых он список отдаёт Я не знаю не отдаёт есть две ступени есть такая штука Как Ну да Ну никто не кли я не клика Да вы не кликайте многие люди кликают раз если плагин уже активирован это да Но даже если к не работает можно ое идт что Ну вот я посмотрел 78 Ну 70% всего завязано на ш получается Ну нет не 7080 кстати больше всего даёт энтропии или точности определения вас fprint на данный момент это рисование шрифта на канвасе да ну это наверное потом спрашивал про вас есть современных браузерах уже вернее принят стандарт по рму др РМ на стороне браузера То есть drm как я понимаю дм позволяет идентифицировать пользователя что ну платил не платил он или откуда ушёл контент вы изучали этот вопрос по поводу нового стандарта и нет чала не сталкивался с м стандартным Нет ну ладно то жани Здравствуйте спасибо спасибо за доклад короткий вопрос учитывается ли такие может быть через фан может быть ещё как-то такие вот факторы мимолётные то есть вот ва было два монитора или это там не реализовано про монитора один монитор Я просто вот набке работаю один монитор вырубил у меня уже другой фнн я там мобильни ве вот так вот да сменилась сменились разрешения то есть что Что произойдёт меня я уйду с того фингер принта или всё-таки это как-то вот есть некий зазор для в первой версии Да во второй нет потому что Представьте насколько меньше вот эти два числа которые определяют там ориентацию вашего экрана насколько они меньше по сравнению с допустим с fingerprint строкой он может составлять процента поэтому е изменения не повлияет никак на итоговый фн Print во второй версии Нет Во первой Да потому что используется стандартная не криптографическое хеширование ёма H2 понял спасибо Ну у меня есть два комментария и один вопрос комментарий там говорили про то как часто чистят ки Ну когда я этим вопросом занимался я статьи всякие читал и там говорили про исследования comscore кажется проводила компания что ну на Большой выборке Что за 3 месяца там порядка 40% пользователей чистят ки Ну то есть как бы это большое число да потом как я понимаю на мобилках работают хорошо активные методы то есть ну типа куков и прочего потому что там настроек меньше люди Ну меньше Ну что-то могут почистить поэтому активные методы хорошо работают а вопрос про фази хн Я просто вот вашей библиотекой пользовался тоже задумался об этом вопросе быстро как бы его решить не смог потому что ну если чисто брать строковый Там же есть проблема весов как бы ну то есть было допустим пять плагинов он один убрал получается у вас Ну очень большой вес имеет эта штука а другие записи они как бы вообще не меняются и как бы их можно не учитывать вопрос Как вы предлагаете это решать Да это решается Так что хэш вычисляется не со всей информации сразу он вычисляется с каждого отдельного фази хш имеется вычисляется с каждого отдельного ко Като веса Да какие-то веса для определённых параметров веса параметров уже на момент вычисления но мы вычисляем допустим не со всей информации с итоговой строки а допустим только с информации о плагинах или только с информацие с юзер агента для юзер Агента у нас порок чувствительности допустим 5% для плагинов 30% для canvas 0% потому что вас если меняется то полностью а потом уже когда мы получили вот эти под хэши мы объединяем их в Единый хэш при помощи обычного хэширования таким такого как илиш Спасибо У меня вопрос касательно weg если драйверы на компе обновить разве оно не будет чуть-чуть по-другому рисоваться будет я про это и говорил что как раз вот от версии драйверов будет зависеть итоговый байтовый массив Ну получается Каждый раз когда ты будешь обновлять там например NVIDIA обновляет у меня драйвера каждый месяц каждые полтора я буду каждый раз новым пользователем сейчас это так но сразу хочу сказать что библиотека ещё в разработке и у меня практически нет именно вторая версия практически нет данных о реальном использовании в продакшене использует очень Малое количество компаний сейчас потому что она сарая в ней есть известные баги связанные с зумирование поэтому я просто не знаю как часто будет обновляться допустим вот вы говорите Раз в месяц виде обновляет драйвер А у меня допустим драйвер обновляется раз в 2 года Ну я не знаю почему не чаще Я думаю Поэтому будет э информация на неё будет обращено внимание мы будем мерить смотреть если Действительно это будет обновляться так часто как допустим User Agent будет тоже использована в фазе хеширования конкретно для webgl отпечатка вот со собственным порогом чувствительности изменения входящих данных Понятно А ещё маленький вопрос мне казалось что в США вообще запрещено собирать статистику о пользователях Ну куда они ходят там вот это мне кажется там даже какие-то разбирательства по этому поводу были как они это используют тогда в кис Да действительно Я могу вам рассказать что когда вы Заходите на сайт который находится в Евросоюзе обязательное условие - это то что сайт показывает вот такую какую-то видимую очень табличку там попп какую-то модал где написано мы используем ки Вы согласны Да согласны вы все наверняка видели это Это потому что требует закон ещё могу рассказать про то что компания они дают возможность хостить маленькие такие кнопочки шаринга в социальных сетях лайки и так далее они популярны очень Они использовали fingerprint J я не знал про это потом когда Выяснилось что они используют fingerprint JS это мне уже потом рассказали Был скандал связанный с этой компанией и они по-быстрому убрали написали публичное извинение действительно этическая проблема существует действительно трекать без разрешения пользователя невозможно Но мы же не только США рассматриваем Мы же весь мир рассматриваем у меня пара вопросов Так так я здесь Спасибо первый вопрос Сколько по времени занимает вычисление вот этого хэша так в первой версии порядка 30 миллисекунд во второй версии всё зависит от того какие параметры вы включили если включили всё абсолютно и Флеш и silverlight вот всё 700 миллисекунд на десктопе порядка полторы секунды на мобильном девайсе считаете Это нормальное время полторы секунды и довольно высокая Я так понимаю будет нагрузка на Процессор при вычислении НУ нагрузка на процессор JavaScript быстрый действительно быстрый поэтому вычислить со строки где 100 байт информации хэш это очень быстро сейчас первая версия очень быстро 30 м секунд как я сказал если скорость второй версии не устраивает Вы что-то можете отключить допустим поменять фш определение шрифтов на JavaScript определение шрифтов скорость упадёт вдвое сразу потому что не будет загружаться вообще вот этот API для передачи информации из Flash в JavaScript Если по-прежнему для вас это слишком слишком Ну много значит fingerprint JS со всем набором функций определения вам не подходит вы отключайте половину из них делайте его быстрым отключайте то только Извините оставляете только чистый JavaScript API и используете fingerprint js2 в комбинации с другими методами идентификации EV kuki плюс fingerprint JS IP адрес Всё зависит от вашего сценария depend правильно IP adress п fingerprint JS или даже просто http cookies п fingerprint JS если вас это скорость устраивает человек статистически Вы знаете что на вашей лендинг странице человек проводит 5 секунд минимум Да 95% пользователей заходит и смотрит на неё значит для вас полторы секунды на мобильном устройстве не проблема всё зависит конкретно от вашего использования библиотека конфигурируется сторонние плагины и сразу скорость идентификации возрастает в Ну может быть в половину в 6 в 8 в 10 раз и вы используете дополнительные методы для идентификации Спасибо И второй вопрос Вот вы говорили что точность порядка 90% составляет а это в какой временной промежуток было исследование проведено То есть это там за день 90% или за год Это около 4 месяцев и несколько миллионов пользователей То есть за 4 месяца у пользователей практически ничего не изменяется на компьютерах вы хотите сказать у одного пользователя было 25 разных отпечатков у большинства пользователей один отпечаток Да у очень многих пользователей всё остаётся неизменным у очень многих Спасибо пожалуйста Спасибо за доклад И спасибо за проделанную работу у меня есть вопрос я здесь Я здесь у меня было три вопроса Но пока я стоял их остался только один и этот вопрос заключён в том как в инкогнито режиме Когда вы получаете хэш Как вы потом ну Каким транспортом доставляете эту информацию на сервер для дальнейшего хранения и обработки то есть Есть ли какой-то какая-то функция API вашей библиотеке которая позволяет это делать Может там Long по может создание Там какой трекинговой картин или вы это оставляете на разработчиков которые используют Хороший вопрос Ну на самом деле философия ННН как философия я ничего с этим не делаю Как как вы будете доставлять это полностью решать вам Я могу рассказать как я это делаю Раньше я делал обычный jquery потом jy я не использую Сейчас сейчас я делаю Это создаю врите делаю ему и грузится пустой с сервера где все параметры те которые я хочу трекать это будет всё о пользователя плюс fingerprint А вот вопрос из реальной жизни закупается ряд планшетов одной модели на них устанавливается Windows из образа одинаковый вы не проводили исследования Будет ли чем-нибудь отличаться отпечатки вот если из коробки нет ВС будет одинаково одинаковый браузер ВС будет Одина но с течение времени ВС равно выв разные шаблоны использования компьютера когда будет добавлено что-то Чего нет на других компьютеров и нач начнёт накапливаться расхождение это в первую очередь шрифты это разные версии драйверов у кого-то кто-то взял ноутбук домой там на выходные продел драйвера кто-то не взял и так далее и так далее с течением времени расхождение появится из коробки нет fprint будет одинаковый у всех это избежать невозможно поэтому сразу хочу ещё добавить я это может быть не очень детально про это рассказал но fingerprint JS - это не гарантированная идентификация это просто помощник который Вам помогает идентифицировать помогает с вероятностью девять из десяти вот даже когда пользователи этого не хотят э и э это когда вы можете это использовать если цена ошибки идентификация не высока Если вы покажете там допустим список товаров рядом со станцией метро ориентируясь на данные по финту но fingerprint ошибся Ничего страшного Если вы покажете случайно женские духи мужчине Я думаю Он поймёт вот поэтому если цена ошибки не высока пожалуйста Используйте если вам нужна гарантированная идентификация Используйте в комбинации с чем-либо допустим с эки есть такая компания в США Она недавно возникла она как раз занимается продажей профилей другим компаниям для таргетинг рекламы она называется augur вот они как раз используют EV cuki плюс пнн очень очень надёжная комбинация Спасибо подоль Маслов огонь для всех параноиков у Гугла больше тысячи характеристик по которым они вас определяют У ла больше сотни уже наверно Вот спасибо за доклад у меня такой вопрос я конечно не ожидаю что в Google тнсе завтрашнего дня fint станет на первом месте но в случае если это появляется огласка то есть это становится общеизвестным и пытаются с этим бороться то есть появляются какие-то плагины которые попытаются там асинхронно перехватить подменить эти данные планируете както смм про fingerprint JS писали разные американские издания такие как mash Up про паблика и так далее они говорили о том что конец приватности что мы должны что-то с этим делать появлялись плагины для Firefox которые борются с этим но информация об этих плагинах как раз таки помогает идентифицировать эти браузеры фальсифицировать фальсификацию как бы можно не опасаться можно фальсифицировать но это просто будет другой идентификатор но он будет по-прежнему точный Спасибо пожалуйста и Да у нас пора заканчивать очень много вопросов Вы можете выловить Валентина Я думаю в кулуарах и всё ему ещё задать Давайте ещё раз поблагодарим"
}
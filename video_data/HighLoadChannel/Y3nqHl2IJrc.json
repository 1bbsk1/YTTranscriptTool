{
  "video_id": "Y3nqHl2IJrc",
  "channel": "HighLoadChannel",
  "title": "Приемы повышения точности геолокации телефонов на сети мобильного оператора / Артем Каледин",
  "views": 421,
  "duration": 3018,
  "published": "2023-10-06T07:18:56-07:00",
  "text": "Здравствуйте коллеги я рад что вы пришли на мой доклад накануне Я думал как его начать и вспомнил что почти в этих же числах ровно год назад Я выступал на другой конференции она тоже была пройти но там больше было дата Санс собственно я именно оттуда и я сегодня представляю сердце алгоритмов и на главной сцене и в целом на хайлоуин Я рад что в этом году мы уже выступаем в оффлайне и все мероприятия уже возвращаются в залы мы можем пообщаться потом встретиться поговорить и обсудить то чем мы занимаемся Кстати меня зовут Коллегин Артем я уже пять лет в анализе данных сейчас я работаю в Билайне раньше эта компания называлась вымпелком сейчас Билайн но в целом цвета остаются И мы продолжаем расти Если говорить о себе Я закончил в МК МГУ и также прошел первый набор академии больших данных Mate помимо опыта в телекомах Я работал геоданные в банках делал сервисы для такси курьеров и работал естественно стартапе Привет сегодня мы поговорим про довольно насущную для бизнесов И в частности телекомов тему это анализ передвижения пользователей сегодня компании собирающие подобные геоданные могут решать не только типовые операционные задачи но и создавать социально и жизненно значимые сервисы помогающие в решении задач как планирование сетей дорог так и в поиске спасения людей план сегодняшнего доклада представлен на слайде фундаментальные задачи для использования подобных данных является поиск местоположения пользователя заданной точностью первый логичный вопрос Зачем нам вообще решать эту задачу В первую очередь это поиск абонентов на территории эти данные нам помогают оптимизировать радио сеть и строить новые базовые станции другой широко распространенный кейс это агрегация данных для поиска точек притяжение где абоненты проводят максимальное время довольно известная История это витрина дом работа собственно Где мы находимся в дневные часы и ночные такая информация нам помогает оптимальнее планировать размещение наружной рекламы и офисов продаж мы можем выделить топ локации абонентов нужный нам аудитории также для домашнего интернета Мы можем анализировать Новые дома и принимать решение где много наших абонентов и проводить туда сеть шпд Если говорить о внешнем монетизации то для наших любимых B2B клиентов Мы также изучаем тренды поведения Конечно сначала мы эти данные обезличиваем Я агрегируем до уровня исследуемой территории ничего от нас никуда не уходит также у нас есть открытое решение которое вы можете попробовать у себя в работе первые две недели это даже бесплатно это Билайн геоаналитика в целом как у любого большого бизнеса который работает с геоданными мы предоставляем эти услуги на внешних подрядчиков помимо внутреннего бизнеса мы решаем и социальные задачи для гео основной является поиск местоположения пропавших людей мы это делаем Уже довольно давно где-то с 2012 года нашим основным партнером является поисково-спасательный отряд Лиза Аллен и за последние несколько лет мы нашли более 100 человек с помощью нашей нейросети которая отсматривает фотографии и помогает в этой рутинной работе помимо этого мы также внедрили платформу Билайн поиск который отправляет смс-сообщение людям которые были свидетелем пропажи человека то есть если вы недавно с этим человеком коммуницировали или пересекались мы вам отправим сообщение и скажем что твой друг Василий Петя пропал Может быть ты знаешь где он также в этом году был запущен Пилот с X5 в частности на экранах магазинах Пятерочка в Москве выводится ориентировки пропавших людей если эти люди пропали в этом районе на самом деле если вы не видите каких-то ноток пересечения с вашим бизнесом это не значит что пора уже вставать и уходить с моего доклада вроде никто не ушел в любом крупном и среднем бизнесе есть подобные геоданные даже если они не генерятся в реальном времени если говорить ритейлерах или маркетплейсах это заказов конкретные пункты выдачи и посещение магазинов эти данные вы можете использовать для каннибализации анализа конкуренции аудитории объекта если говорить про банки это входы в мобильные приложения и покупки на пост терминалах мы видим транзакционную активность точнее банки видят и по ним могут сегментировать клиентов выделять высокодоходные места также для бизнеса такси и курьеров есть информация о местах подачи заказов то куда люди направляются эту информацию они также используют для того чтобы рассчитывать коэффициенты повышенного спроса и для анализа числа Паши которые нужно выводить на линию как я сказал до этого у нас тоже нет доступа к GPS данным но у нас есть базовые станции на самом деле базовая станция простыми словами это комплекс антенн который принимает и передает сигналы телефона к телефону они раскиданы на каждом углу Но если быть точнее на каждом столбе у них есть два основных параметра это высота крепления для того чтобы охватывать наиболее эффективную зону покрытия чтобы вы даже находясь на трассе или сидя у себя дома могли серфить в интернете или звонить своим друзьям коллегам и родственникам и конечно базовых станций должно быть много чтобы крупных мегаполисах никто не жаловался на скорость передачи информации Поэтому нам нужна высокая пропускная способность Если какие базовые станции вообще бывают они бывают трех типов если как я сказал говорить о каких-то высокоскоростных трассах нам нужны макросоты которые закрывают десятки километров событий также они ставятся на Дачной и загородной местности чтобы у всех тоже был Интернет если говорить про внутренние помещения когда же Крокус здесь установлены фемто соты которые являются своеобразным передатчиком или маршрутизатором сети ваших звонков на основные базовые станции если разбирать конкретную базовую станцию есть несколько параметров которые нам также понадобятся позже лак это логическое объединение группы сот Если вы хотите кому-то позвонить Тем более если хотят позвонить Вам базовые станции даже в своей на более верхнем уровне должны знать где вы примерно находитесь чтобы сигнал до вас прошел также каждая базовая станция делится на ячейки или соты это отдельные сектора базовых станций которые направлены в определенную зону То есть у них есть своя зона свечения и также радиус покрытия и из-за преломления и перенагрузок можно выделить как теоретическое покрытие базовой станции так и фактически для того чтобы для того чем мы все здесь сегодня занимаемся нам нужна валидация GPS треки GPS треков по абонентов у нас нету но у нас есть свои GPS треки по нашим внутренним сотрудникам и по Drive тестом это такие машинки которые ездят по разным городам и оценивают постоянный генератор трафик и оценивают насколько хорошее у нас покрытие сети на самом деле пока мы не перешли к основной части хочется сказать что гео сегодня это действительно круто почти любой большой и средний бизнес сегодня пытается получить дополнительный вылью именно из геоданных из их объема из-за того что они частично открыты и их деперсонализированности и агрегационной способности мы пытаемся анализировать тренды перейдем к решению Наверняка вы слышали такой термин как триангуляция Когда происходит звонок или другой любое действие у нас абонент получает связь связь А мы на базовой станции получаем набор событий лак SL как было сказано Ранее по лаку и соло У нас есть какая-то зона покрытия то есть мы уже знаем что он находится в окрестности этой базовой станции если он находится в окрестности базовой станции ТО в динамике мы можем знать несколько базовых станций или воспользоваться каким-нибудь справочником соседства тогда мы уже для уточнения местоположения можем использовать не просто радиус свечения а Симплекс нескольких базовых станций то есть ту самую триангуляцию Казалось бы вот Готовое решение Зачем я здесь вышел что-то рассказываю взяли несколько базовых станций в динамике соединили получили треугольничек взяли центр всё готово расходимся на самом деле это не так есть несколько вопросов на которые мы сегодня не ответим но вы можете подумать о них на досуге является ли расстояние от базовой станции до телефона кратчайший если кто замеряет это расстояние аппарат или Базовая станция Какова точность полученных данных действительно при совершении действия Базовая станция замеряет расстояние чтобы понять где устройство находится и максимально эффективно с ним обмениваться Но кто говорит что это расстояние кратчайшее из-за отражений преломлений время считается фактическое а на деле абонент может находиться совершенно в другом месте также у нас просто может быть высокая погрешность из-за того что мы не видим какие именно абоненты находятся на подконтрольной территории мы это видим только на уровень выше ещё раз повторим какие у нас есть данные и зададимся вопросом как бы вы решали эту задачу У нас сейчас будет небольшой интерактивчик можете навести свои устройства на экран у вас откроется наша табличка Где вы можете что-то нам написать а я это прочитаю или мы сразу пойдем дальше кто придумает самое оригинальное или наоборот интересное решение Мы конечно конечно же вас поощрим в конце нашего доклада Кто смотрит онлайн Я думаю вы тоже видите слайд и можете открыть нашу доку буквально у нас пара минут на эту активность и мы пойдем дальше пока вижу что никто ничего не пишет но надеюсь что ссылка то или у нас все сломалось опять же у нас тут как я понимаю камерная Атмосфера Если кто-то хочет сказать голосом поднимайте руку я думаю вас тоже услышат либо просто повторю за вами вашу идею Ну либо не повторю Если ей не будет вижу что кто-то в табличку зашел значит ссылка Рабочая нам нужно более точно позиционировать абонента То есть у нас есть информация с базовых станций Я вот сейчас вернусь на прошлый слайд у нас есть вот эти данные и вопрос в том как определить где собственно абонент находится Как улучшить то местоположение коллеги предлагают сделать еще больше базовых станций чтобы они висели уже не на каждом столбе А по паре и дублировались в каждом помещении с 10 до Спасибо я продублирую тех кто не слышал Есть предложение выбрать якорные объекты например банкоматы и рядом с ним или прямо внутри поставить небольшую фемто 100 чтобы мы знали кто из коллег вместо того чтобы работать ходят а как wi-fi ловец делать данный принимается еще в таблице нам написали что брать wi-fi это хорошая идея кластеризация точек тоже супер Сегодня мы об этом поговорим комментарий Ильи про добавить разметку я не очень понял но думаю еще услышим дальнейшие комментарии какой да Но мы же не всегда знаем как именно он распространяется то есть для этого нужны замеры как раз мы используем фактически перемещения Так у нас время К сожалению ограничено мы сможем это обсудить позднее поэтому я расскажу Собственно как мы решали эту задачу Всем спасибо за ваши идеи на слайде представлен пример реального трека нашей машинки и базовых станции на которых она отобразилась первая простейшее решение которое мы можем сделать это взять каждую координату базовой станции как итоговую локацию абонента кажется что При таком подходе мы уверены что расстояние фактического расположения пользователя до прогнозируемой точки не может превышать радиус действия базовой станции но как даже видно на слайде из хаотических переключений между базовыми станциями мы можем получить довольно большую ошибку по расстоянию поэтому для того чтобы работать не с моментальными событиями мы переходим мы дискретизируем пространство и начинаем работать с окнами 3 5 и 10 минут перед тем как пойти дальше мы ведем то как считаем метрики Здесь тоже не стоит надолго останавливаться мы просто берем прогнозируемую координату в этом окне и сравниваем с усредненной или медианной GPS нашей машинке или разъездного сотрудника и сравниваем эти два значения по ховерсинусу довольно стандартный для геопространственной аналитики формуле тоже простой подход возьмем и усредним координаты базовых станций которые у нас есть в заданном окне основная проблема которую мы сталкиваемся это конечно выброс о них мы поговорим позднее но видим что решение Вполне себе нормально работает на этом слайде и дальше мы будем подсвечивать конкретные методы которые мы описываем то есть зелененьким сейчас появились координаты усреднения координат дальше мы примем значение метрики этого метода и посмотрим как другие методы смогут его улучшить Конечно мы можем брать информацию по времени чем позже случилось событие тем в рамках окна оно нам интереснее поэтому мы можем добавить либо эмпирические веса вида один на Т либо логарифм либо отдать на откуп линейным моделям Можно оптимизироваться как по евклиду так и по ховерсинусу разницу мы большую не получили видим что в ряде методов этот подход также работает лучше все это конечно Здорово Но все равно остаются моменты Где ошибка далека точнее она далека от идеала но близка к тем базовым станциям которые мы смотрим по абоненту мы можем добавить количественный фактор как в позапрошлом методе то есть читать сколько раз это Базовая станция засветилась в рамках нашего окна Либо мы можем считать время которое абонент провел на этой базовой станции кардинально другой подход это метод чем-то похожий на витрину дом работа если в той витрине мы пытаемся определить базовые станции и их наборы по частоте пребывания то здесь мы выбираем базовую станцию которая наименее удалена от других базовых станций и берем ее координату за итоговый прогноз видим что в части методов это также работает неплохо при небольшом окне мы можем также бороться с запаздыванием То есть у нас данные на базовой станции могут приходить либо раньше либо позже на GPS треке мы их видим с другой погрешностью поэтому можем брать прошлое значение и следующее по окнам и натравливать линейные модели уже на них также мы пробовали обучать бустинги Но для такого типа данных и линейные модели себя не очень хорошо показывают что говорить о более сложных закономерностях на слайде приведено сравнение этих базовых методов Да мы пока не учитываем выбросы и это действительно сказывается на этих значениях об этом мы тоже поговорим чуть позднее из тех данных которые мы используем но не подсветили в прошлом разделе это свечение как было сказано ранее освещение это то куда собственно светит наша Базовая станция где абонент может находиться теоретически или фактически в первом подходе мы просто смотрим свечение базовых станций и пытаемся их пересечь видим что результат может быть Не удовлетворителен эта зона будет слишком маленькая особенно если машинка передвигается и в рамках даже пары минут она может засветиться на десятке базовых станций поэтому Идем дальше проверенные старые методы из прошлого подхода Просто берем центроиды разных геометрии которые мы брали теоретических и фактических и усредняем эти значения видим что в ряде методов это также хорошо и неплохо себя показывает для топовой базовой станции пока мы не занимались чем-то сверхъестественным будем считать это за наши бэйзлайны едем дальше у нас Мы работаем с геоданными У нас есть дорожные графы дорожные графы это как и гео очень круто во-первых они есть открытые мы используем подложку Hero также сравниваем см и обогащаем внутренними данными с нужной нам информацию кто-то использует данные из графопера сейчас Это не так важно основная идея в том что мы можем брать под множество дорожной сетки и проецировать ноды базовые станции на ноды и выделять либо центральную ноду в этом куске графа либо пытаться восстанавливать маршруты маршруты это то к чему Мы пытаемся прийти Особенно для перемещающихся абонентов здесь мы тоже предлагаем довольно очевидное решение мы просто проецируем свечение и базовые станции на вершины графа и по ребрам пытаемся жадно найти нужную нам дорогу То есть если у нас есть вершины вершины которые Базовая станция 1 2 и 3 который мы спроецировали на наш дорожный Граф Мы видим что из Один в два путь короче чем в 3 поэтому идем так четвертая Базовая станция у нас находится где-то через водоем и мы его игнорируем и сразу идем в пятую вершину причем такой подход действительно себя показывает лучше лучше он показывает себя по той же метрике но теперь мы сравниваем маршруты и используем меру джакарда то есть там где у нас маршруты идеально совпал мы это засчитываем и ставим себе плюсик в карму где у нас не совпало считаем опять же окно усредняем значение и сравниваем с оригинальным в этом окне получается значение лучше но все равно далеко от идеала дальше мы поговорим про то как бороться с выбросами потому что все это конечно Здорово Но от ошибок мы не застрахованы первая проблема с которой мы сталкиваемся это сам GPS трек Когда вы едете по трешке или по Садовому у вас наверняка бывают моменты когда вы куда-то перелетаете или пропадаете навигатор начинает ругаться показывает что вы летите со скоростью света и сейчас оштрафует и больше на машине не поездите тут довольно простое решение берем предыдущее следующее значение и усредняя либо берем фильтр калмана старая но довольно надежное решение если говорить про сдвиги то в рамках одного маршрута абонент может Как запаздывать так и опережать конечно в первую очередь это проблема самой синхронизацией то есть если сверху мы видим опережение и часть очень круто относятся к следующему участку то в Нижней картинке у нас наоборот часть зоны отображается только на следующем окне из-за этого у нас опять же сбиваются и метрики и веса нужно что-то с этим делать но пока мы поговорим про выбросы на самом деле их можно разделить на два типа очевидные и неочевидные когда мы едем например по МКАДу Мы видим что нас засветилась базовая станция в середине Москвы и Абонент на нее перепрыгивает И мы ее просто Можем отсечь даже никуда не обращаясь когда Базовая станция засвечивается где-то рядом в окрестности местоположение абонента Так мы сделать не можем мы же у нас же есть много других данных поэтому мы можем составить справочник соседства базовых станций опять же мы можем составить просто по воздуху посмотреть для каждой базовой станции соседней сказать что наверное на эти он может переключиться просто потому что они находятся рядом Либо мы можем взять наши данные по конкретной базовой станции посмотреть динамики куда собственно люди перемещаются или они пропадают если они пропадают то мы тоже можем брать возможные следующие интервалы времени смотреть где они снова возникают также можем работать по методу аналогичному топу базовой станции и отсекать уже не одну BS а N базовых станций и работать с ними но возникает логичный вопрос как это число базовых станций подобрать либо экспертно Либо мы можем снова сослаться на данные и посмотреть что у нас есть вообще в городе то есть в каждом районе мы знаем примерно ошибку где-то у нас высокоскоростные трассы где-то у нас Сити откуда люди перелетают в аэропорт и зная эту ошибку мы можем отсечь нужные нам значения и сказать что здесь мы берем 5 базовых станций там 10 либо берем те базовые станции которые находятся на расстоянии не больше чем N для остальных базовых станций также Более сложный дорогой подход это построение изохрона то есть мы берем какую-то центральную локацию которую мы спрогнозировали ранее предложенными методами и из нее строим изохрану по нашему дорожному графу если у нас например окно 5 минут мы берем 7 минут смотрим До куда вообще машинка могла доехать и отсекаем эту зону и рассматриваем ее как потенциальную для местонахождения абонента дальше мы поговорим чуть подробнее про графовые методы потому что они у нас показали себя лучше всего но при этом они немного дороги для масштабирования если у нас десятки миллионов абонентов каждый каждую секунду что-то происходит каждая Базовая станция все время обслуживает десятки сотни тысяч абонентов и генерит данные поэтому графы мы в Production засунуть не можем на самом деле у каждого абонента есть вполне конкретные места где он проводит время это дом его работа по выходным или по вечерам он ездит к своим друзьям либо к родственникам обычно поэтому абонента можно выделить точки притяжения которые имеют два две основных характеристики это регулярность нахождения в ней и продолжительность нахождения ее окрестности на самом деле из этих предположений мы можем выделить у каждого абонента два состояния стей и мув если в первом абонент находится в состоянии покоя Да он может переключаться между соседними базовыми станциями то в состоянии движения он как ни странно перемещается но Цель этого перемещения достичь следующую точку притяжения понятно что некоторые точки притяжения могут быть разными Как получить новый паспорт съездить в другой город там пойти погулять в новой для себя локации но все равно из динамики мы можем найти основные точки притяжения для каждого абонента и работать уже с ними первый логичный вопрос как определить на чем абонент перемещается конечно в простейшем подходе мы можем в рамках окна взять две крайние наиболее удаленные друг от друга базовые станции и посмотреть сколько времени нужно чтобы добраться из первой зоны во вторую если перемещение быстрое конечно не гарантирует что это именно автомобиль Особенно с московскими И не только московскими пробками но в то же время мы можем использовать и другую информацию например мы знаем какие базовые станции стоят в метро и если абонент светится на базовых на этих базовых станциях мы знаем что эту часть маршрута он перемещался именно на этом виде транспорта также в отсечении автомобилей и другого транспорта нам может помочь сегментация базовых станций это и эндор базовые свечения и макро базовой станции которые стоят на больших трассах и информация с самих Best как часто они переключаются наиболее сложным вопросом который мы столкнулись и пока не решили Это отделение маршрутов общественного транспорта и личного авто Но кажется здесь нам как раз пригодятся маршруты сода и других общественных предприятий что на самом деле происходит с перемещениями если про стей мы не скажем ничего нового по аналогии с прошлым разделом то в Move дела обстоят намного интереснее если мы рассматриваем абонента который едет из области в город с утра в будни наверное все-таки перемещается на свою любимую или не очень работу и мы знаем где находится его точка Б точка Пункт назначения его точка притяжения и мы можем восстанавливать этот маршрут либо анализировать едет он действительно туда или у него есть новая промежуточная точка Куда он начал заезжать может быть в детский сад начал ребенка водить наступила осень также за счет справочника соседства мы можем на самом деле предсказывать следующие базовые станции и прогнозировать куда собственно абонент переключается перемещается и переключается по базовым станциям то есть мы можем использовать Марковские цепи и прогнозировать но это не тема сегодняшнего доклада главный мысль этой части в том что у каждого местоположения пользователей и точки на карте есть степени Свободы куда он может перемещаться и обычно эти точки совпадают с его центрами притяжения вернемся к графу как я сказал ранее графы для нас слишком дорого у нас слишком много данных и мы не можем с ними нормально работать но нам не так важно в каком именно месте человек находится нам важно анализировать тренды и человека в потоке поэтому мы можем упростить структуру графа дорожный Граф из себя Что представляет вершины И ребра ребра обычно ломаные изогнутые не пойми какие как показано на картинке нам важно как В целом он перемещается поэтому мы можем перейти от вот этой красной ломаной к центроидам гексагонов и восстанавливать маршрут уже по ним что мы Для этого делаем если мы определились с тем на чем перемещается Абонент в нашем случае на авто мы можем отсечь все гексагоны которые не являются дорожными на самом деле мы можем смотреть и не все дороги каждый подъезд к дому нам не очень-то и интересен берем основные автомагистрали и центральные улицы дальше рассматриваем свечение базовых станций это нам поможет и для течения неинтересных зон и для восстановления нашего подграфа с которой мы будем работать в рамках этого окна основной плюс в том что этот подграб мы можем где-то сохранить для заданных комбинации базовой базовых станций и работать уже с ним При таком подходе у нас в рамках одного окна остается порядка 10-20 вершин А в рамках района такое число насчитывать не больше 100 опять же Это зависит от той сетки с которой вы будете работать мы проецируем дорожные вершины графа на центроиды гексов и Соединяем соседние гексы если они являются дорожными Это в самом простейшем случае поговорим чуть Подробнее Как это работает схематично У нас есть дорожный Граф он отмечен синим цветом у нас есть гексагончики которые замещают нашу плоскость подсветим два из них и посмотрим как мы их можем соединить понятно что если у нас есть дорожные кексы мы их можем просто соединить каждый с каждым пройдясь по окрестности для этого тоже есть стандартные методы библиотеки от убера мы можем смотреть и на дорожный Граф и уже отсекать Некоторые из ребер как красный с нижним черным более сложном варианте мы можем построить ориентированный Взвешенный граф об этом мы поговорим чуть подробнее соответственно у нас есть конкретная конкретно гексагончик в нем Может быть как одна вершинка так и несколько мы рассматриваем все вершины этого гексагона берем соседний если в нем вершины есть все хорошо взяли под Граф из этих двух вершин И посчитали все возможные пути усреднили получили какую-то метрику по которой мы можем итерироваться уже между двумя соседними вершинами с каким-то весом то здесь мы уже можем использовать конкретную захрону если часто так бывает что и всм и в других графах соседний вершине в соседнем гексе вершин нету для этого мы тоже используем стандартные методы создаем промежуточные точки и тренируемся по ним и получаем новую структуру то есть сверху наверное все таки мелко но показано Как выглядит оригинальный Граф и снизу справа показаны более простое приближение где мы Соединяем каждый гексагон с соседними просто по центроидом а слева конкретный Московский район который у нас пересчитан и уже можно использовать время здесь ошибка считается по-другому если раньше мы использовали просто ховерсинус по окну или меру джакарда то здесь мы работаем Почти по точечно если быть точным по гексагонально если гексагона совпали все хорошо ошибка порядка 70-100 метров зависит от того Какую сетку вы используете если у нас произошло какое-то какой-то выброс либо вспышка на другой базовой станции мы пошли не в ту степь то мы считаем насколько гексагонов мы отдалились и домножаем это число на ту же константу получаем итоговое значение то есть этот подход работает ощутимо быстрее чем обычные графы и мы добились нашей поставленной цели мы примерно знаем куда он двигается наш любимый абонент знаем его точки притяжения и можем анализировать наши транспортные человека потоки У нас есть мы не останавливаемся на достигнутом эта задача продолжать свое течение Я надеюсь что когда-нибудь мы расскажем и про то как эти данные собираются как они у нас обрабатываются сейчас над этим тоже идет активная работа получаем новые источники но всех тайн раскрывать не будем мы хотим более детально учитывать информацию самих базовых станций куда они светят куда собственно люди перемещаются также подтянем в ременные факторы потому что дорожные картины мира с утра днём и вечером это абсолютно разные вещи также мы продолжаем эту историю оптимизировать сейчас эту историю у нас бегает в Реал тайме с пятиминутным окном и в целом парк справляется но мы понимаем что можно лучше и быстрее что мы использовали стек у нас довольно стандартный питон на котором мы пробовали и графовые эвристики и начальные безлайны потом Автоматизированная версия бегает нас парке мы используем кастомный udeft и либо от H3 для визуализации используем фолиум usm и smx у меня минута мы как раз уложились коротко пробежимся о чем мы говорили эти полчаса то как работать с нерегулярными событиями что в любом бизнесе крупным или средним такие Данные есть это вспышка в нашем случае это вспышки базовых станций дальше мы поговорили Как из этих данных удалять выбросы и выделять основную информацию как строить маршруты по таким цепочкам почему это дорого и бывает неэффективно как Мы это можем оптимизировать улучшить и куда-нибудь запихнуть Спасибо Буду рад ответить на ваши вопросы и заодно посмотрю может быть в доке кто-то еще что-то написал но видимо нет Артем Спасибо большое друзья Задайте вопросы поднимите ручки вот Раз два три Вот первый вопрос пожалуйста Привет Спасибо за доклад было очень интересно у меня в голове Такой вопрос родился то есть применяли модель шестигранальную правильно Почему именно шестигранник Почему не треугольник или что-то другое чтобы за фигура чтобы запастись Спасибо на самом деле мы пробовали разные сетки То есть у нас есть обычные прямоугольная Она работает неплохо но гексагонок как-то исторически сложилось Нам нравится больше во-первых Потому что почему вообще гексагона хорошая история потому что каждый гексагон Да любого соседнего равно удален и нет такой проблемы как с теми же прямоугольниками что мы можем пойти по диагонали и тогда у нас расстояние уже начнут меняться и метрику нужно будет точечно рассчитывать для каждого значения также из-за того что есть встроенные и Спарк и питон либо тубера которая в целом хорошо работает и масштабируется ответил Так у нас В центральной части есть да и у нас как минимум три приза мы должны отдать Да привет У меня наверное два вопроса Первый наверное такой общий Какая конечная цель вот этой аналитики по вычислению наших траекторий И второй вопрос Ну наверное опять же предположим восстановили траекторию пользователя неважно с миллиметровой точности чем это нам полезно да Вопрос понял По моему это было самом начале Может быть вы к нам чуть позже подключились но Первое это оптимизация сети то есть мы хотим знать где нам надо развивать нашу сеть потому что там не хватает базовых станций Следующая история это как раз анализ точки притяжения абонентов потому что ну простым примером является витрина дом работа по которой мы как раз ориентируемся в каких местах абонентов много в каких мало И соответственно как-то это монетизируем ну простой пример это сеть шпд если сейчас новый тарифы Кто знает У нас идут сразу пакетные то есть там есть и домашний интернет если ваш дом подключен к шпд то он вам доступен бесплатно в рамках пакета то есть мы знаем что в этом доме много наших абонентов либо в этом районе мы начинаем там проводить сеть нового доступа нового уровня и по B2B историям тоже вполне понятная История это топ концентрация целевой аудитории то есть мы знаем что где-то находится условные собачники и будем там рекомендовать какому-то магазину открыть свою точку Спасибо за доклад Никита так мне тоже наверное два вопросика первый вопрос Это вы проверяете модельки своей только с помощью машинок которые с GPS ездят или ещё как-то точность моделей больше ничего не Используйте нет используем второй вопрос сразу или нет такого у нас нет У нас есть разъездные сотрудники То есть те же Кто устанавливает базовые станции еще есть приложение по которым ездят те же шпдшники подключают интернет чтобы контролировать то что они работают они отлынивают у нас есть эта информация плюс еще сотрудники свои да да то есть сотрудников много валидирующих пешеходы которые Ну да да то есть мы рассказали более подробно про машинки но в то же время у нас есть и другие вспышки в частности внутренние сотрудники у которых есть нужные нам приложения И этого достаточно для проверки модели но пока мы работаем с тем что есть дальше Надеемся будут какие-то коллаборации например со службами курьерской доставки Приходите к нам Мы готовы с вами общаться И второй вопрос по поводу разделения личной автотранспорт либо общественный транспорт вы не смотрели в сторону одновременно перемещающихся точек Ну то есть машине может ехать допустим там четыре человека от точки А точку б а в автобусе там допустим 40 человек было бы отлично если бы у нас была такая идеальная точность но мы все-таки работаем с другим порядком измерений и мы можем в целом смотреть динамику что вот на этой базовой станции X абонентов Сколько из них переключилось по направлению например в центр из этой массы Какая часть у нас находится в каком-то плавающем состоянии между несколькими базовыми станциями которые являются состоянием покоя и мы скорее можем восстановить примерное распределение того как они едут как люди эти переключаются то есть до конкретной машины сколько там Человек сидит Это уже следующий точки абонента но все равно я говорю это То есть это погрешность там 10-30 метров у нас она всё-таки за 100 Спасибо классная Но это нам нужны навигаторские данные вот как пользователь Яндекс навигатора Например я знаю что очень часто по дороге в аэропорт есть пробка Но это нифига не пробка это просто таксисты чилит где-то у кафешки просто с включенными навигаторами Да система думает что там пробочка образовалась вот пожалуйста Да да спасибо большое за доклад Но все-таки вот про точность интересно Вы наверное все-таки Ну смотрели отдельно по каким-то там абонентам движению Какая у вас ориентировочная точность нахождение получается там в зоне плотной застройки Ну и где-то там за городом Ну хотя бы ориентировочные у меня была красивая картинка я предлагаю всем в качестве домашнего задания восстановить наш хедер этой картинки Чтобы понять какая у нас примерная погрешность К сожалению мне не разрешили Циферки называть прямой поэтому мы все вот так вот закодировали так это чуть дальше идет ну То есть это и не километр но и не 10 метров назовем это так это Если в целом смотреть если по районам то я говорю можно раскодировать вот эту картинку либо обсудить В кулуарах это просто молодой человек из МТС что это коллеги Да добрый день спасибо за доклад подскажите а касательно самих абонентов что-то какие-то инсайты появились то есть по их передвижениям понять например пол или возраст не знаю там дети студенты доход или вы только прогнозировали потоки как бы пока мы больше фундаментальной истории занимаемся потому что у нас есть и новые данные старые с помощью которых мы это делаем понятно что соцсем как и у телекомов и банков можно выделить немножко из другого из другой информации Ну как минимум если Симка оформлена мы знаем На кого она оформлена это но часто бывает что это другой человек само собой но все равно мы можем опять же по локациям понять я могу сослаться на две истории которые я слышал от коллег не внутри Билайна у ВТБ есть велобайки которые показывали как они перемещаются там был наглядный кейс как люди Берут у станции метро Университет и едут в МГУ понятно кто эти люди А по поводу того кто Где обитает тоже недавно не скажу у кого но можно при желании найти вышла статья Что есть женские улицы в Москве есть мужские и они детально разбирают Кто где более активно перемещается можно посмотреть тоже интересно хорошо Спасибо но историю с данными можно развивать вечно То есть например Зачем с беру самокат Да чтобы знать где сколько людей какие у них средние ценники на там условно насколько плюс 20 рублей человек может покупать белый хлебушек хорошо вон там вдалеке Давайте финальный вопрос и пока раздача слонов и пауза Спасибо большое Скажи пожалуйста ты сказал что в итоге Линейная модель не зашла с учетом координат И какой финальное решение если все-таки использовать ML как какая модель вопрос понял Смотри эмаль пока является просто голосовалкой то есть Я показывал много разных методов каждый из них где-то работает лучше вопрос Какой Выбирать из этих методов в конкретном районе здесь мы уже как раз а я об этом сегодня не говорил но здесь мы уже конкретно подключаем eml и решаем мульти класс То есть если просто брать голосовалку и усреднение между этими методами Это где-то хорошо где-то плохо но лучше это работает с запаздыванием то есть мы сглаживаем за прошлое следующее окно вот эти три значения кормим линейки она нам говорит и получаем устойчивое решение а для следующего этапа мы уже используем голосование которое уже накладываем на H3 сетку по которой восстанавливаем маршруты если абонент двигается То есть если в двух словах итоговые решения определяем координату как можно лучше если покой останавливаемся если движение берем динамику восстанавливаем маршрут да скажи мне как дата сайнтисты дата сайантисту Да у тебя ML есть кому кому подарим Нам нужно три три ваших приза вручить или даже местами приза Я думаю надо отдать коллегам однозначно коллегам по цеху так раз последний вопрос мне понравился последний вопрос а хитро 2 это просто коллегу надо отметить Да есть коллеги по отрасли коллеги по оружию Да и наверное историю про навигатор и сколько человек в машине и автобусе Не уходите да это на втором ряду то есть вот коллега там да всем спасибо за вопросы Да тебе спасибо за выступление тебе тоже полагается памятный приз спасибо от хайлу Да спасибо большое"
}
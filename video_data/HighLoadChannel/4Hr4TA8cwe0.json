{
  "video_id": "4Hr4TA8cwe0",
  "channel": "HighLoadChannel",
  "title": "Яндекс.Облако: сложный выбор между time-to-market и управляемостью продукта / Ян Лещинский (Яндекс)",
  "views": 777,
  "duration": 1994,
  "published": "2019-05-15T04:04:41-07:00",
  "text": "добрый день меня зовут я лещинский я руковожу индекс облаком я вам сегодня расскажу о том как мы его строили доклад мой ну наверно к сожалению не очень технологический не уверен будет вам интересно или нет я его постараюсь сделать коротким и оставить во время задавать вопросы наверное технологические вопросы это будет то что вам интересно ну давайте я для начала расскажу меня такой был вопрос к себе а почему меня должны слушать я не буду рассказывать много про интересные технологии буду рассказывать просто как мы делали наш продукт это не первый продукт который я делаю я windows не достаточно долго и пару раздел что-то интересное а первое это авто пайлот в microsoft который был платформа для большого количества сервисов для поиска для бинга и потом аврора в дпс это один из самых быстрорастущих сервисов вы двс когда-то был самый быстрорастущий вот докладной называется опыт построения облачной платформы и вот когда говорят о таких вещах обычно знаете все принято структурировать в трех частях мы сначала говорим про виденье потом про стратегию потом при реализации я решил что это будет несколько трафарет на и мы поговорим немножко по-другому я вам сначала расскажу о чем я думал когда приехал в россию я приехал в россию для того чтобы построить облака вот какие вопросы я задавал себе получится или не получится потом расскажу как мы это все планировали ну потом еще пару слов все-таки про реализацию и так первый вопрос строй стоит ли строить облака в россии но давайте поговорим о том стоит ли строить облака или нет вообще нужны ли нам облака публичные или не нужны кажется что мне на этот вопрос не нужно отвечать и достаточно давно этим занимаюсь вот но все-таки стоит сказать почему нам нужны и облака вот что облака делает для нас с вами и если это все сократить до одного предложения то они прежде всего снижает порог входа совсем недавно только самые большие компании могли себе позволить бы я и высокие технологии масштабируемой инфраструктуры а сейчас маленький стартап может взять эрин тонуть супер компьютер не запустить на нем машины интеллект и он будет более менее там же самое главное чтобы идеи были мне кажется вот это для чего нам нужны облака вот самый главный вопрос для меня был а получится или не получится и чтобы ответить на этот вопрос я начал сравнивать индекс с теми компаниями в которых это получилось и вот какие как обычно при главные вещи я сравнивал 1 это высоко развита инфраструктура для того чтобы построить облака нужно прежде всего уметь строить железо уметь строить центр увеличивать и так далее и то что я увидел в яндексе то что в яндексе и компьютеры разрабатывается самостоятельно и дата-центры разрабатывается самостоятельно но вот допустим индекс свои dt центры не охлаждает он научился их строй так чтобы они оказались просто вентиляторами вот здесь был check mark дальше технологии и сервис и будет ли мне будет ли у меня какая-то поддержка будет ли что то на чем сложно построить облака и здесь тоже результат был положительным посмотрел на экосистему яндекса и увидел в ней поиск картинки видео самодвижущиеся авто алису и так далее то есть это выглядело убедительно ну и последнее это по разработке и познакомившись с людьми там я увидел что да у меня есть команда смогу собрать команду которая это сможет сделать с одной стороны но с другой стороны и снаружи смогу привлечь людей которые смогут мне помочь вот и базируясь на этом я решил что продукт у нас получится ну и после того как я принял решение что до будем это делать возникает вопрос о чем нужно позаботиться в самом начале ну и тут как обычно да есть три главные вещи первая это первый эта команда и мы живём в то время вот когда команда те люди которые вместе с вами это строит это по сути дела самое главное это то за что каждый из нас борется побеждаете час тот человек у которого самая сильная команда самая умная сама интеллектуальная и так далее и вот эту команду надо собрать ну и по этому поводу у меня можно сказать есть философия не знаю сказал эту фразу стив джобс или кто-то другой но мне кажется это очень правильно почему нужно работать и набирать самых лучших почему нужно не бояться нанимать людей умнее себя ну во первых потому что с такими людьми интересно с ними интересно вместе жить с ними интересно вместе работать это это фан но во вторых математика да каждый раз если мы на него не нанимаем человека который лучше чем середина командой то вся команда становится слабее это значит с каждым новым человеком нужно сделать так чтобы вся команда вместе стала сильнее и к этому нужно очень очень серьезно относиться вот когда мы говорим она становится сильнее вот о чём мы хотим сказать ну конечно мы хотим сказать о высоком профессионализме без этого ничего нельзя ничего нельзя сделать но и это не единственная хочется набрать команду кота такую команду так чтобы за каждым человеком в этой команде люди хотели идти ведь такие лидеры лидеры это те за кем люди идут и поэтому они должны и уметь вести за собой и они должны стремиться к результату стремиться к тому чтобы добиться результата настойчивости ответственности ну и так далее там сами знаете эту пакет общие фразы дальше идут возвращаясь к профессионализму его тоже стоит оценивать и мне кажется что здесь важно набирать людей не за знания за их потенциал потому что мы живем в очень динамичном мире все быстро меняется знание устаревает нужно набирать людей которые стремятся стремятся в будущее вот есть еще один кажется очень важный я очень важный принцип это то что я зависимости от того как вы будете стараться все равно будет какое-то количество людей вашей команде которые будут худшими и во многом это стечение обстоятельств и они обычно еще менее счастливы с вами чем вы с ними и не смотря на то что вам нужны рабочие руки мое мнение что этим людям нужно до чуть и им нужно дать уйти и попытать счастья в другом в другом месте ну и последнее и мне кажется самое главное это то что нужно любить свое дело это вот так так просто как это это наверное даже немного смешно и нужно добиваться не только чтобы вы любили свое дело нужно врываться то все у вас в команде любили свое дело но всё тут с наименее технологической частью мы покончили и сейчас мы перейдем чему-то наверное чуть более интересному ну давайте следующий этап это будет архитектура я наверное не буду рассказывать все про архитектуру и дык су облака это будет слишком долго и может быть даже не интересно я расскажу про некоторые принципы построения архитектуры который я считаю для нас были фундаментальными ну и хочу там выставить их на ваше ваше обозрение может быть про дискутировать это первое это гипер конвергентная инфраструктура а гипер конвергентная инфраструктура означает что вся инфраструктура облака как можно более гомогенном и все элементы нашей инфраструктуры все свои физические ресурсы отдают в общее пулы то есть все наши сервера отдают свои процессора и памяти сервис виртуальных машин а все свои средства хранения данных виртуализированных сторож системе и вот поверх этой более-менее гомогенной инфраструктуры мы и строим наше облако вот эту вот гомогенную инфраструктуру гиперконвергентное рассказано на базе и мы и строим наш пирс и следующее это по сути дела продолжение первого принципа это сел хостинг он для нас он означает то что все сервисы яндекс облака построенный поверх нашей собственной инфраструктурой нам не нужно выделять отдельные сервера ни для каких сервисов яндекса блоков мы по сути дела и являемся первыми потребителями 1 потребителем индекс облаков и это нам позволяет и попробовать нашу инфраструктуру первыми это нам позволяет сделать автоматический but в трипе который автоматический boots 3 нам дает то что мы можем поднять тестовый кластер быстро и очень небольшим количеством машин это нам дает то что мы можем раскрыть инициализировать индекс облака в новом дата-центре тоже автоматически и очень и очень быстро с другой стороны это нам дается в тесте ну поскольку все наши сервисы тоже бегут поверх облака они его тестируют они первыми видят то что там неправильно вот и ну и последнее это то что нам позволяет легко масштабироваться до мне нужно каждый из сервисов масштабировать каждый сервисом масштабировать индивидуально все наши сервисы спокойно масштабируется используя нашу собственную инфраструктуру если вам это интересно то завтра в 13:00 вот в этой же комнате будет доклад на эту тему называется он решение проблем автомасштабирование в яндекс облаке prada запомнил вот это сел хостинг и последняя это несколько более узкий принцип но мне кажется очень важной ну я долго работал с тораджи кажется стороны это очень сложно мне всегда казалось что это одна из самых самых сложных самых сложных вещей с которыми нам приходится иметь дело построить durable хай левел ibookstore очистим у очень сложно а сделать ее безопасное масштабе рано еще сложнее и не хочется чтобы каждый из наших нам не хотелось чтобы каждый из наших сервисов эту задачу решал самостоятельно поэтому вместо этого мы решили что все они будут базироваться на одном и том же сервисе на одном и том же сервисе метаданных они будут его потреблять как сервис он построен на яндекс да это боюсь я немножко попозже об этом вам еще расскажу ну вот и все то есть вот такие три принципа мы положили в основу нашей системы гипер конвергентная инфраструктура цел в хосте единое хранилище метаданных следующий очень важный вопрос это технологий на каких технологиях мы будем строить индекс облака и это был не праздный вопрос для нас потому что он всегда был выбор мы могли брать технологии из is open source а могли брать технологии которые были разработаны и внутри яндекса мы могли что-то разрабатывать сами по себе и в самом начале перед нами стал вопрос об instek яндекс яндекс развернул и продолжает эксплуатировать одно из самых больших инсталляции окон sdk в мире это более 5000 постов и соответственно openstack или нет вопрос перед нами встал самым первым и несмотря на богатый опыт работы с open стеком ответ на этот вопрос был отрицательным а почему 1 потому что openstack все-таки разработан для частных облаков они для публичных и вопросы масштабирования безопасности там решены неадекватно и это бы нас больно укусил а второе это то что openstack несовместим с гипер конвергентной инфраструктурой а нам бы все таки хотелось бы строить облака на базе и и ну это вот нашим я считаю что даже экономика будет намного лучше если мы будем использовать такую инфраструктуру ну и последняя конечно openstack бы нас в начале ускорил но вот наш опыт показал что его и поддержка и модификация достаточно сложны и мы решили что в дальнейшем он нас она заметит вот и поэтому мы решили наш компьютер нашу инфраструктуру но прежде всего компьютер разрабатывать сами ну вы использовали кевин естественно это гипервизор который использует более менее все а всю остальную часть компьютер написали сами следующий вопрос это было сеть какой будет наш собственный парк и здесь мы приняли противоположное решение поскольку внутри яндекса собственной разработки виртуальной сети не было писать все самого начала бы точно вот это точно был бы на слом пол вот в этом и бы угробили большее количество своих ресурсов поэтому здесь мы обратились компенсацию мы сравнили обезьяны up in control решили что opencart trail подойдет нам лучше он лучше совместим с физическая и сетевой инфраструктурой яндекса и поэтому на этом это был наш выбор следующее это software softwear defines the rich тут я опять расскажу вот про яндекс дай the bass которую который я упомянул раньше это проект который разрабатывался в яндексе в течение последних пяти лет и это это масштабируемая new сиквел база данных доска на распределенная транзакционные ее можно сравнить со сканером если вы с ним знакомы еще одним преимуществом этой базы данных было то что у нее есть нижний уровень blocks to reach который достаточно хорошо отделяем и на базе вот этого нижнего уровня мы построили наш mbs network блок стоит это был недостающий компонент который мы разработали как раз для яндекс облака а вот поверх самой войти п мы во-первых не построенный во первых мы ее использовали как сервис метаданных для всех сервисов облака а кроме того на базе и и мы построили большое количество других решений с трисс совместимый объект stor это мисочки у которой с киви совместимая наши там сервис перформанс каун трав тоже построен на базе того же самого с этим все и праведно слайд озаглавил это немножко о другом и а вот первый сервис первый сервис это была наша собственная разработка а кроме того мы хотели предоставить нашим разработчикам возможность пользоваться всеми семьи знакомыми и популярными средствами хранения обработке данной и хотели предоставить их как менеджер ресурс до этого в яндексе уже был разработан а такая система сервис по sgs ii за сервис и на базе это разработка в яндексе достаточно популярная допустим почта ее используют и другие сервисы и вот на базе этой используя эту систему как платформу как зонтик мы разработали мы разработали на базе этой системой мы разработали платформу на которой собираемся предоставить пользователям большой набор различных open source и коммерческих баз данных средств хранения данных на выходе у нас будет под gres мерить прогресс сменить манго иметь клик house а дальше мы хотим добавить мой сиквел редис ходу сиквел сервер кафка аду и так власти ксир чьи так далее то есть хотим продолжать развивать в развивать эту эту экосистему я хотел сказать что мы не только потребляем опыт source но и отдаем продукты во лбу source то есть вот клик house это аналитическая база данных которая разработана индексом i open source яндекса а если вы хотите узнать об этом чуть чуть более глубоко завтра тоже здесь 1400 володя бородин он где то есть в этом зале будет больше и больше рассказывать про вот этот сервис вот ну кроме того еще одно решение тут это конечно достаточно очевидное решение все наши сервисы искусственного интеллекта они конечно построенный на тех сервисов которые уже разработаны уже разработаны индексом те сервисы которые вам знакомы и это спички вид росла и есть уже сейчас он дальнейшем мы добавим и зрение ну идеологии всякие различные и другие визуальные лингвистические сервисы вот ну что теперь немножко реализации я конечно не буду вам морочить голову повторяя цитаты из книжек по делу я просто хочу обратить внимание на какое-то количество элементов в нашей разработки нашей реализации которые мне показались удачными которые позволили нам вот сделать кажется хороший сервис во время 1 это так фу день это для нас о том что мы пошли дальше чем сел счастью мы не только все наши сервисы и строим на базе облака все нас и средства разработки все средства тестирования нас релиз pipeline тоже построенный на базе нашей собственной системой то есть мы всегда являемся первыми пользователем нашей системы вот нам между нами и пользователями домена не нужно не нужно какой-то человек с ними разговаривал приходил и говорил что что-то не работает не сразу видим что сразу видим что все не работает следующее это континент и грищенко кинешь deployment и тут ну наверное да вам не нужно об этом говорить я недавно был на конференции где выяснилось что всего 10 процентов участников использует это думает что здесь на большее я просто не буду углубляться и последнее и тоже очень важное это вовлечение пользователем пользователи это то что мы дали доступ к нашей системы очень-очень рано как только она более-менее поднялась и в результате в результате technical preview которая мы устроили где-то для 50 компании которые которые согласились вместе с нами участвовать в разработке облака мы получили вот такой вот по такой вот фидбэк но мы какие-то вещи мы какие-то вещи имплементировать и сейчас и они уже есть в облаке которые мы думали отложить какие-то новые вещи которые допустим поддержку губернии this или лот бернс р который я под нашим планам должны были по ибица не сразу появится в конце этого года или в начале следующего года это просто был вот напрямую нам пользователь говорили что ну без этого просто невозможно вашим облаком пользоваться незаконченной это продукт и не хочу сказать что все у нас я не хочу сказать что раз я не хочу сказать что все у нас происходило идеально и мы все продумали и просто одну плыли над водой нет ну допустим вот наши и пиа и в облаке мы переделывали трижды не удавалось нам все сделать сразу или вот наш континент и kreation континиус deployment pipeline который был разработан на базе нашего собственного облака время от времени обломался при том когда вот мы делали новую интеграции выяснялось все мы поломали deployment игла и поломали его теперь все сначала сначала переделывать я уже не говорю о тех людях которые занимались нашей документации ей или юзер интерфейса в нашей консоли ну представляете себе так как заработать на этой системе которая все время вот так вот колышется все времени падает и так далее но в общем в конце концов кажется мы все это делали и кажется что вот те вещи которые мы сделали наверное другие какие-то ошибки но кажется что те вещи которыми я с вами поделился были правильными и нам удалось в течение двенадцати месяцев сделать достаточно большой продукт всем спасибо большое я готова ответить на ваши вопросы слушалась mystory давайте просто здравствуйте алексей ученики опция спасибо большое за доклад вы упомянули попросить как построили сеть но панка выбирали решение job in control и все прочее вопросов у меня два первый вопрос используйте ли вы up in control поверх white box of или поверх вендоров но венгерских коробками цвет и второй вопрос насколько вам пришлось написать переписать окон control чтобы он заработал продаж не спасибо же все слышали вопрос мы не используем windows windows key и коробки мы более-менее используем только комод этих отбор и то есть у нас все вещи которые я у нас есть ряд компонентов которые мы сами написали этот компонент называется это вот раутер который джунипер продает у нас есть он в софтвер на видя этот этот компонент мы сами написали потому что кажется что в этом нужно вкладывать в этом за вкладывает ресурсы и насколько нам пришлось переделывать up in control для того чтобы вывести продакшн это не одноразовый процесс мы продолжаем это делать это же как обычно как все остальные сервисы up in control тоже написан для приватных облаков гель для публичных и поэтому вопрос если вы берете там тоже есть и мы их решаем постоянной основе то есть для нас control это начальная точка мы собираемся его развивать то есть мы часть консорциума мы собираемся и его развивать и все наши изменения отдавать в open source мы бы взяли и мы будем точно это отдавать назад спасибо еще вопросы раз спасибо за такое скручиваю раз спасибо за доклад у меня вопрос практически в начале было изображение тех клаудов которые были до того как вы начали разрабатывать свой таким характеристикам вы круче а по каким бы стоять спасибо по каким мы круче а мы пока еще наверное не по каким ни крути давайте быть честными мы все-таки строить кладу это все равно в одной отдельно взятой стране или во всем мире а мы приблизительно до 10 лет отстаём но зато то есть в этом смысле мы пока не круче но зато у нас есть первоначальный опыт остальных клаудов которые я солиду нас и мы не собираемся повторять всех их ошибок и это первое а второй я по личному опыту я много раз это говорил публично уже и буду продолжать говорить несмотря на то что многие надо мной смеются что концентрация хороших инженеров в яндексе намного лучше чем в дпс поэтому я верю что мы в конечном счете сделаем более хороший еще интересно вот вы упомянули пять лет уже яндекс разрабатывает new square базу данных намерен сейчас уже много достаточно предложению концертных почему именно яндекс стал это делать что уникально он попытается привнести ну тут я с вами не соглашусь нету ни одного концерта в этой области нету ну это все несерьезно серьезные серьезные предложения нас доги даже у microsoft есть ли честно серьезного предложения нет космос ди пиана в этом смысле несерьезное серьезное предложение только одно это spinner и она совсем не опасна и я не думаю что google его когда-то будет открывать в open source я не могу сказать что мы собираемся на данный момент открывать в open source индекс дейта боясь ну во многом потому что это молчите данное решение его о партнерстве в это очень сложный процесс но в принципе тут ничего похожего нет нам же нужно не просто вот если речь идет о базах данных которые пользователь может поднять себе в сингл теннант режиме это одно и мы будем их предоставлять а тут мы хотим сделать базу данных который я будет mesh in critical это именно то это именно главная вещь когда google говорит pro spinner он говорит что это мишин критиков база данных это так который можно потреблять как сервис этот of который не нужно заботиться и и не авила был идти не терпела че тут мало мало что есть но есть тайного и добьюсь но там нету по распределенной транзакций это толику далеко не ту спасибо за вопросы спасибо за доклад а мне вопрос внутренние сервисы внутренние команды внутренние ресурсы они переезжают на облака выговорили до внутренней потребитель у нас есть у нас есть внутри они не все ну давайте я тут буду спасибо вопрос был бы внутренней потребители яндексе приезжать в облака или нет и это как всегда решается он кейс байки b cis потому что ну давайте говорить там честно индекс bpr контейнеров больше всего поезд живет power контейнеров естественно виртуальные машины имеют и ворчат и перевозить поиск в облака нету никакого смысла ну потому что поиск это десятки тысяч машин там вот возможность этой elasticity клауда поиска не очень нужна более маленькие сервисы будут переезжать переезжают и будут переезжать в облака то есть это зависит от конкретных сценариев спасибо здравствуйте я расскажите пожалуйста подробнее как вы собрали эффективную команду и как вы их мотивировали спасибо как я собрал команду ну это самая я вот вам про принцип говорил да придержи по это ну это наверное очень сложно правда вот так вот про сказать я могу вам и потом если я буду рассказывать от наверное будет выглядеть еще более смешно я считаю что нужно как мотивировать людей нужно мотивировать личным примером знаете в израильской команде обижай скай армии нету такого приказа вперед есть только приказ за мной я считаю что вот так и нужно мотивировать людей еще вопросы а вы скажете я потом баку повторить добрый день алексей спасибо за клад меня такой вопрос собираетесь ли вы сертифицироваться сортируется ваше решение для хранения персональных обязательных когда какие строки ну широкий а так вот как сейчас смену короткие сроки короткие сроки по возможности будем сертифицироваться для естественного все мы начали этот процесс найти такой длительный процесс я не очень его погружён какие конкурентные бриз с да да да но конкурентных преимуществах gps у нас будет много они будут сначала не очень технологические но мы не можем сразу знаете в дпс сервиса больше чем у меня людей его хоть я и говорю что у меня концентрация людей в яндексе об лучше чем white объясню их там много очень много я там работал и люди там за всем неплохие там очень много очень толковых инженеров но они там и мы здесь и добьюсь не вкладывает ничего не в развитии нашей экосистемы не в поддержку здесь небо вот то чтобы работать с индивидуальными компаниями и делать так чтобы они могли построить решение на базе облака они это не делают а мы будем делать и поэтому мы точно будем более популярными еще вопросы все спасибо большое я еще здесь буду если хотите можете задавать вопросы не взял спасибо"
}
{
  "video_id": "gN-MLf24524",
  "channel": "HighLoadChannel",
  "title": "PostCSS: будущее после Sass и Less / Андрей Ситник (Злые марсиане)",
  "views": 5863,
  "duration": 1415,
  "published": "2017-03-30T23:39:10-07:00",
  "text": "она очень хорошо когда вас привязь но если у вас есть какая-то логика та работа с массивами так далее это помещается в ад и именно поэтому появился пост css для решения всех этих проблем но пост секс был не первым дело в том что в три года назад это четырнадцатом году переехал в halo щука с вами ставится чувак написал половину но там мне не можете использовать прыгнуть на ноги не используйте вы модули и вот в тот момент три года назад он разрабатывал ставилась но какой-то момент понял что вот вся архитектура процессоров она кончилась у нельзя дальше расширять он столкнулся с этим всеми проблемами и понял что эти проблемы архитектурные именно поэтому он покинул проект ставился начал свой проект и в 2013 году он его полностью анонсировал это прокурор вот в этой статье модульный цсп processing как раз тогда я искал какой-то инструмент для того чтобы сделать авто про фиксер и когда я почитал статьи был поражён потому что то был действительно революционный подход он менял все и поэтому первая версия вто про фиксера базировались на горке но к сожалению вор был такой как бы прав концепт это было такое первое поколение что вообще такое что это работает поэтому конечно же мы жестко ford 0 и его переманили всех разработчиков устроили маленьку революцию и сделали пост css пост css это второе поколение модульного процессора так что этот коэн наконец-то можно поправить с мясом оссусе что такое пост css пост с это модульный препроцессор в ядре которого очень простое ядро состоит из двух вещей первый этап орсер парсер на вход принимает css строку и на выход выдает такое дерево объектов дело скифских ну а с т относились к из дерева и стринги fair не знает это привести к сожалению остенде фар он делает обратную вещь он на вход получает вон та абстрактное дерева в виде объектов и на выход выдает новый css но по умолчанию вот ядро пост с с она очень удобно очень полезного не делает ничего а она вот берет парсит ваш css а потом обратно превышает его строку esprit помешает так что ускоряется в байт в байт даже пробельные символы поэтому вся магия находится вот в этих плагинах что такое plugin плакетка функция обычная вас готовая функция которая на вход принимает в то а если дерево проходятся каким-то узлам что-то ищет что-то меня есть что-то добавляет и вот измененное дерево возвращает обратно и вот измененная дерево идет следующий плагины такая цепочка получается а в конце вон тот магически стринги fire который бьет от это измененное дерева и сохраняет его в новую строку и генерируют карты кода но sourcemod ну он либо генерирует новые либо обновляет старые ну как говорил торвальдс покажите мне код потому что мы все программисты код это важно как-то выглядит пост с с это and m библиотека мы грузим using м далее мы создаем instance создаем объект процессора и передаем эти плагины которые были на прошлом шаге и все мы берем и вот через этот процессор прогоняем наш css и получаем результат с помощью promise о котором вам рассказывали сегодня утром все вот-вот весь процессор ну это легко интересный пример а вот пример плагина будет интересная потому что там сок и сок помните я рассказывал про то что в процессорах нельзя сделать полиэфир для идите измерения давайте напишем его на пост с с прямо сейчас ну значит плагин эта функция которой на вход принимает css нот на вход понимает дерево объектов но он будет переменной css далее в этого дерева есть таким волшебные функций чтобы вам было удобно программировать есть итератор по всем свойствам но внутренную рекурсивной и вот мы берем и проходимся по всем свойствам ты кстати заметьте с5 и с6 потому что есть пять ужасный язык не половина слайды вот значит мы тренируемся по всем свойствам и берем ищем свойствах значение р м и заменяем его на пиксели все закрываем скобочки потому что нас сожалению не кучу скрипт вот это весь код который нужно написать чтобы сделать такой базовый полифилы для рима значит давайте еще раз в чем разница как вы все нужно знать кого бить и кого нет зажимы точный критерий где препроцессор где пост-процессор препроцессора он монолитный все функции встроена в ведро переменные примеси все это там внутри весь синтаксис а вторая вещь у вас код прямо вскрик в шаблоне вас полноценный полноценный язык программирования там в пост css наоборот с css все виде плагинов ядро не делает ничего а второй момент у вас код и стиле отдельно вот памяти когда вы писали плагин это был отдельный файл и получается что у вас код в нормальном языке программирования роснефти access отдельно в css и и почему это так важно потому что эти плагины реализуют у магическую вещь эволюции вот вам приходит к это безумная идея и ваши друзья над вами смеются вы берете и реализуете ее виде плагина какой тампер новый метод оптимизации и публикуете его на твоём служении продолжают меняться потому что ходить is gonna ходить но как минимум некоторые люди понимают это начинают это использовать начинают это проверять и в них получаются их больше грудь на работу этих над вами smells увольняют и через некоторое время остается так что большинства пользователь пользуется вашим плагином не потому что идея красивая потому что она реально работает на практике и когда у нас есть популярность можем прийти вы же в 3 c либо написать или черновик либо попросить кого-то другого сделать спецификацию потому что делать спецификацию когда у нас нет у кого-то реального практического применения нет практики никто не знает работать лето либо нет никто не будет но если у вас есть популярность вы пишете спецификацию идете нас новый круг снова унижение усова новый плагин и подобное но это была теория современно наука говорит очень правильную вещь теория не значит ничего без практики любая идея есть носитель на работает у нас будет реальный потечь результат у нас будет что-то если процесс сработает значит он будет лучше и процессор начнут будет какой-то что-то живое что могут потрогать давайте посмотрим если это ну первое само собой в пост css есть переменная это несложно есть вложенность тоже несложно сам пирс андам как все любят потому что бы само собой с примесью не все достичь и другой но такое же но вот еще молочный момента все это сделало виде плагинов и переменные и вложенность и примеси например для переменных есть два плагина один плагин реализует старый добрый со стиль 1 реализуют синтаксис смотрится nude который с с кастом попретесь но второй важный момент это то что он невероятно маленьких например вложенность это всего лишь 60 строк обычного джаваскрипт кода вы можете взять и исправить это а если я откажусь это понятие могут взять и фыркнуть совершенно не проблема в и за день можете сделать другую вложенность но пост с это не про то что делать работа со со модуль на потому что ну тоже не так круто модульности модульность hookers главный вопрос а можно ли сделать больше можно ему и сделать это совершенно новую магию и вот of the prophecy главный пример то просто пишите обычный css авто прессом ну у него есть база данных canales он сам находите свойства которым нужно добавить которым нужны именно сейчас префиксы добавляет их при этом делаю всякую очень сложную магию ну автопрофи circa мы все знают думаю более интересный пример css никс кто использует богов или trassir ну что писатели 6 кости маловато используется очень хорошая вещь то есть быть у вас купите прямо сейчас можно использовать тот java script который еще не в браузерах будущий и у вас есть компе а то которая копирует их текущей было бы круто сделать это все в css фото 1 из 4 там куча новых вкусных вещей например вот и можно объявить свой дополнительный селектор кастомный ваш личный и использовать его его для этого у нас есть css next css snacks этого транспордер вы пишете cs4 прямо сейчас она компилируется в в css3 итак вопрос о том что невозможно сделать насос кроме в кастомных селекторов у вас на примере перемены попытается которых я уже говорил есть автоматизированная функция работа с цветом и в том числе и всякие очень удобные сокращения прямо сейчас можете прийти добавить но вот так будь страшная история китай огромный рынок много денег все дела но там творится ужас там до сих пор популярен c я 7 8 и даже 6 это ужасно а деньги хочется поэтому например китайская компания alibaba она написала плагин css грейс это как css никс только наоборот он и не из хорошего делает средний кот а он наоборот из среднего делает плохой код она проходиться по вашему css и находите свойства которые не будут работе вашими е и заменяет их на хаки это немножко похоже на примеси но почему это круто я почему-то не важно что это невозможно нас асия потому что с примесями вам нужно помнить что где нужно написать примесь вы должны помнить что opacity не поддерживается а тут вы просто пишете и не думайте об этом оба за вас думают китайцы миллиард китайцев в кроме того новым в центре магии со свойствами можно делать магию с коллекторами вот есть жуткий хак как-то говорил не нужно произносить хватить и ку-ку ирис но у cars главный факт это вот например было бы круто сказать что вот если у нас четыре элемента в родители то давай мы сделаем ширину 25 процентов а если 5 до 20 и это можно сделать прямо сейчас как жуткий вы вручную писать не будете но с помощью этого плагина для пост css он добавляет вам дополнительный селектор или вот другая вещь то есть это все было про то как писать код этапа то как делать код ну чтобы ваш загрузился быстрее вот есть спрайт а есть ps4 кодирование онлайн картинок и у них и свои плюсы и минусы вот было крутым объединить их вот блин ли не у вас разрастается ваша css и получается что против заходит на сайт паком картинки не загрузят за en la nina в css он вообще ничего не увидит это плохо вот круто если будут начали загрузился дизайна потом картинки и вот для этого есть волшебный плагин написан русским дата покер он проходит по вашему css и находит все картинки за и раненые и выносит их в отдельный файл поэтому обнаруживают что два селектора используют разные одинок одну и ту же картинку я обвиняюсь эти селекторы и в итоге когда польза заходит на сайт он быстренько грузит маленький css дизайном а потом долго грузится с картинками удобно то есть добавлять один плагин прямо сейчас ваш сайт становится быстрее а вот интересный момент кто поддерживает ее 9 кто поддерживает людей у которых цветовая слепота проблема в том что людей которых не видят цвета их пять процентов а пользователи и есть старых меньше и это очень важно поддерживать вот нужно понимать что это не черно-белое зрение да то есть все эти шутки про светофор это не про цветовую слепоту вот например вот так и будет здоровый человек а вот так человек из удовольствий пота и увидите что кнопками хуже заметно это же тестировать и с помощью после святости ровать легко то есть плагин выводы во время разработки например делайте обычный бьют и еще один build добавлять плагин этот плагин проходиться по всем цветам вашего css и заменяет их на цвета который видит человек с различными типами цветовой слепоты конечно же есть более удобные инструменты но мы же понимаем что если вы не используете более удобное время это значит они вам не подходят а вот с помощью этого можете проверять сайт для здесь цветовой слепотой вот используя вот эти все простые инструменты на либо вот еще интересный момент что после секс может использовать не только чтобы изменять ваш css но для того чтоб его проверять вот например twitter-а используют пост css для своего лимпера своего бима но это не очень клёвый линдер потому что он простой ну как все винтер который может быть вы уже используете а вот если крутой литр это дуа юз обработка the pressure током вас руками линейка бед по пальцам он хранит в себе к на юз ну база данных к на юз пробегается по вашему css и находят что например чувак вот ты мне сказал что ты их ешь поддерживать а вот users to locate не поддерживается и я ты точно уверен что и ты вы должен был написать это очень удобная вещь но вот это мой самый любимый плагин так выгляди кипения на иврите почему потому что евреи и арабы пишут в другую сторону это очень старое письмо а дело в том что вот к этому почему будущее вон там будущее вон там потому что мы пишем вот так а если вы пишем другую сторону то будущее в нашей голове будет вон там и поэтому прогресс бар для евреев и арабов должен идти в другую сторону и это касается не только прогрессбар это вообще письмах влияет на восприятие пространства и вот что будет если возьмете гила в рабство и заставит verso тем сайте вы же не будете поддерживать две версии стилей одну для запада аудитория другую для арабской и вот поэтому парни сардана он вроде него гири слава богу он написал плагин который прогоняет но вы проходящий через него css и он на ход он заменяет лет нора it right на лифт он заменяет прядок martynov и вот вот такую штуку он генерирует сам на вход обычно википедия на выходе википедии отзеркаленная это мой самый любимый плагин который покажет что невозможно на css на ассасин сейчас я вам рассказал только про те плагин который прям совсем невозможно нас оси чтобы шокировать на самом деле у вас очень много разных плагинов которые надо были полезны просто не настолько круто выглядят а я потом дам ссылку на презентацию и вы сможете на зайти на наш гид hyip смотреть все плагины там много интересного много всякого физического сахара оптимизации расширений языка поддержки старых браузеров и поддержки будущих браузеров но вот есть очень сложно вопрос я показал вещи которые можно сделать пост css который невозможно нас оси после нас может быть гораздо больше это невероятно более мощный инструмент но возникает вопрос а может ли более мощность уметь быть быстрее потому что ripsaw сделали невероятную вещь вот с помощью оптимизация на синий очень быстр и можно ли переплюнуть результате писаться это главный пример почему пост почему модульной архитектуры так круто и так важно потому что модульная архитектура и очень легко оптимизировать у нас куча маленьких модулей можем понять что вот наш тормозить этот модуль взять и его оптимизировать и поэтому пост css написан на java script в четыре раза быстрее чем lips as написанный на psy + + итак вопрос о том когда бы кандер бы говорить вам о том что давайте переключимся на си это быстрее нет ни быстрее то есть давайте еще раз какие преимущества пост css почему она лучше чем счас 1 она гораздо быстрее то есть даже если вы довольны скоростью ribs оса используя после средства можете сделать больше вещей вы можете делать куда более сложной оптимизация это огромное пространство 2 wi-fi там модульность вы можете взять и for так проект вы можете взять использовать разные идея а третья вещь самое важное что пусть css больше чем счас вы можете на пост сайт сделать любую фичу которой есть сосина соси вы не можете сделать большинство фич которые есть пост соси не обманул вас в название доклада говорилось что поставит это будущее после sasa на самом деле это настоящая у нас уже прямо сейчас больше полу миллионов загрузок в месяц скана usa огромная аудитория поэтому если вы боитесь по поводу продакшен ради не бойтесь у нас действительно мы проверяем пост css на огромной аудитория у нас очень большие компании пользуются нами по ул irish говорил что of the pressures пост css используется в гугле to a bow это крупнейший интернет-магазин китая они просто используют пост css разные плагин у них и пишет wordpress используют два плагина авто при фиксировала css для арабской версия it with twitter он не просто использует пусть css а не какой-то момент просто взяли и выкинули вес у них используя только пост-процессоры только вот этот способ подхода кроме того пост с становится трендом вот например aristo part написала интересную статью по с процессорах о том что как пост-процессоры после спасет нас от темной стороны процессоров и вот например переписчики в нас лагерь up and freight разработчики автор книги счас для дизайнеров написал книгу написал статью о том как он расставаться со сами приходил на пост css но самый клёвый твит это конечно же bootstrap bootstrap написали что они настолько вдохновлён и css никс там и это так понравилось что быстро 5 скорее всего будет на пост css сейчас он алисия потом он будет нас оси об астане по собираются выкидывайте приходиться пост css то есть что я хочу чтобы вы сделали когда пришли на этих выходных домой первый момент если вы делаете какой-то интересный инструмент для обработки css подумать о том чтобы использовать пост css после созданы гораздо лучше врага кс это понятно потому что hex попасная потому что лига xp они изменяют вам карты кода и подобные вещи второй момент препроцессоры вот например еще один перебежчик нас лагерь разработчика гарридо ну все touch новых примеси для реализации сетки lost который писал макеев в очень интересном твиттере веб-стандартов он перешел на постпроцессоры ему так понравилась почему потому что раньше нужно поддерживать три версии одну для стайлса одну для леса другую для sas это очень было нудно и тут он понял зачем это делать он просто возьмет как out of the prefix я видел что поднимали руки кто пользуется то первыми те кто на сайте те кто на весь потому что без разницы это же самое ему он взял записью пуст с с его могут использоваться as пользователь с пользователя если вы делаете сайты делать инструмент и не используйте после css добавьте autopsy прямо сейчас это очень важно почему потому что google рекомендует только единственный инструмент для работы с префиксами это только после себя сами инструменты гораздо хуже и есть много причин почему второй момент если вы уже используете пост css на 5 для авто предка сара смотрите на другие плагины я советую начать конечно же с с next потому что реально клевый реально ну возможно cs4 сейчас но кроме этого посмотрите список плагиата века что-то понравится и вот третий четвертый момент если вы начинаете новый проект я не рекомендую выкидывать счас прямо сейчас потому что после сможет работать хорошо и после sasa зачем его выкидывать ночь вы начинаете новый проект подумайте а зачем вам делать переменные вложенностей примеси на при процессорах пост с тоже это имеет если вы используете of the pressure зачем вам просить файл дважды просто добавьте переменные вложенности примеси в плену в паз css pride вашем авто профессором потому что ну дайте же она она не по программирование тени проход потому что по-хорошему адскую можно было сделано телеграме почему эти появилось сейчас потому что мы сейчас нахожусь в том времени когда мы не можем решить задачей стоящей перед нами все задачи которым лишаемся сложнее чем мы не помешаю наш ум в этом идея эти айти эта борьба со сложностью а что проще два инструмента или один пометок один вопрос и после с такими вид хобби и так с капустой с css здесь лежит презентация это в кант паблик вконтакте люди выходят новости пост css а это сайт вы их на сеанс таким клевым логов вопросы а падать микрофон круто хотел спросить вот для оптимизации там с 64 на многих через оптимизации связано это очень круто и там очень полезно но не превратится ли это все в анархии будут создавать свои свойства которые потом будут конвертировать какие-то новые классы и так далее а не будет ли потом такая хорош иерархия в ходе мы называем это плагин hal плагин hal в пологий сделал целом да это хороший момент это главное начнет вопрос а идея следующая у нас уже есть решение первый вопрос то есть будет ли тс-с-с понятно потому что ну намешано разные плагин не понимаю что будет использоваться какие богин используются для этого css а первый момент это в том что у нас есть еще интересный проект пост css контекст плагин это эта штука как вот как в группе есть плагин которые делают работу а есть плагин который управляют другими плагинами в человечестве тоже то же самое в пост css плагин который добавляет волшебную и трус контекст и ты говоришь что вот медиа выражение миди выражение собачьи правило директиву задаешь директиву и указываешь какие плагины нужно применить он только внутри этой директивы то есть ты делаешь явно как вампир с макросами кроме этого мы вот смотрим на гульд мы очень боялись что вот куча плагинов каких выбирать как ими управлять нибудь и конфликтов страшно ведь но мы посмотрели мы сейчас смотрим как живет касс общества к система гуль по и она работает то есть проблема есть но в реальности мы прямо видим что такой проблемы нету она где-то очень далеко гольф работает я хочу немножко себе дополнить вы-вы-вы говорить про там кастомные свойство этот плагин хило так далее вы видели хоть раз утконоса страшно нелепые животным это было был шаг в эволюции в полете отплатят все-все-все самый страшный отомрет до на самом деле нет есть посмотреть на которых сделан биология вопросом уже снитесь прежде всего спасибо за отличный доклад на вопрос по бенчмаркинг вот бенчмаркинг скорость работы и пост css вот эта скорость работы это все та же самое что умеет делать лепса все правильно да ну я забыл сказать потому что само собой ядро после делать нечего делать и чего не может очень быстро да вы в бенчмарке там была ссылка есть внизу можете посмотреть проверить меня мы партии bootstrap а после bootstrap пойдет 100 миксина в 100 переменных 100 вложенностей и вот это время которая портится вот это все это файл еще вопросы заходите на этот увидите меня на конференции спасибо"
}
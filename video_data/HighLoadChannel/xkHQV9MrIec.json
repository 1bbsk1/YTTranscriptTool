{
  "video_id": "xkHQV9MrIec",
  "channel": "HighLoadChannel",
  "title": "Облака в России и реализация в них решений из западной DevOps-культуры / Сергей Спорышев (ITSumma)",
  "views": 430,
  "duration": 2703,
  "published": "2023-01-19T06:56:45-08:00",
  "text": "для тех с кем мы не знакомы меня зовут серега я уже более 10 лет разработчик ну в последнее время уже нет сейчас я ушел немножко в devops работаю в компании эти сумма руковожу направлением deaf собственно говоря и для тех кто не знает мы занимаемся диап сопровождением крупных высоко высоконагруженных проектов в мониторингом технической поддержкой 24 на 7 различными архитектурными работами и вот на этой картинке вы в принципе можете увидеть куда можно после наш моего доклада сходить с моего ноутбука пасха и посмотреть что там происходит но давайте все-таки докладов предыстория у этого доклада сложилась из двух таких мелких предысторий 1 ее называю исторически так сложилось исторически так сложилось что amazon он же и ws стал таким неким промышленным стандартом на рынке облачных услуг по всему миру как с точки зрения решение предоставляемых этим провайдером так с точки зрения различных архитектурных патронов которые мы можем решить ровно в рамках этого облака но у нас мир немножко меняется и начиная например того же самого 2014 года когда курс валют начал немножко изменяться затем мы не помню уже каком-то году встретились знаменитым 150 орым законом в заперта хранение персональных данных который обязал нас хранить данные русских пользователей внутри нашей страны ну и с последующими другими другими событиями все мы все большей и большей приход приходим к необходимости а находить решение для решения наших каких-то задач на нашем отечественном рынке то есть мы уже по каким-то определенным условиям не можем работать зарубежных облаках 2 предыстория это мой личный опыт около 2 наверное двух с половиной лет назад в рамках эксперимента мы с моей командой в которую также входил наш коллега евгений потапов которые к сожалению не может сегодня присутствовать у него не получилось приехать в рамках эксперимента мы решили попробовать себя как devops команда которая будет работать нас наших зарубежных клиентов то есть именно мы писали pipeline и мы поднимали кубер notice и и так далее что мы там увидели в противовес тем реалиям рынка с которым мы работали тогда в этой зарубежной компании мы столкнулись с тем что на 1 процент каких то он примет решений которые мы там считаем сами настраиваем сами менеджером сами 99 процентов это облачные сервисы менеджер сервиса тонн тот же самый менеджер губер нити с менеджер базы данных все остальное плюсом полностью сто процентов архитектура инфраструктуры этих клиентов была покрыта лаком то есть все менеджер остера формам либо полу me a и для поднятия какого-то нового проекта нового кластер и всего остального не приходилось в веб-консоли провайдера делать практически ни одного ручного движения то есть все настраивалась то есть все конфигурировать после нажатия enter на тера форма play и именно при работе с этими клиентами лично я впервые настолько глубоко погрузился в облачные провайдеры то есть тот же самый amazon с гуглом первый раз именно настолько глубоко познакомился с какими-то сторонними тоже облачными сервисами типа манга дабы атласа и так далее и в результате работы именно с этим клиентом уже на том наследии которая была перед нами был проработан такой кейс что все в проекты любой абсолютно сложности будто это какой-то визитка либо это огромный интернет-портал по своим архитектурным особенностям по способам деплоя сводился какой-то максимально простой утилитарной и универсальной схеме и поднятия на прем нового окружения нового проекта и так далее занимала максим у нас один день так вот как после этого жить в россии то есть когда мы я собственно говоря лично я закончил работать с этим клиентом я задался вопросом а можно ли это все повторить у нас готовы ли наши наши отечественные провайдеры предоставить нам тот набор услуг которой мы пользовались этим клиентом могут ли они его решить все вот эти необходимые нам задачи от из коробки и чтобы ответить на этот вопрос первое что я сделал это его немножко конкретизировал и спросил а что нам реально необходимо и что могут нам предоставить наши облачные провайдеры так вот вспоминаю и да пора дисклеймер of во-первых данный доклад не является ни в коем случае не рекламой он не проплачен любые совпадения с реальностью это всего лишь совпадение с реальностью если что-то не совпадает с реальностью это всего лишь несовпадения с реальностью дальше облачных провайдеров у нас все таки много сравнить все ну скажем так рук у меня немножко не хватит и поэтому случайным образом а это был реально случайно его доставании из шляпы фантиков мы выбрали четыре провайдера это индекс клауд сбер клауд века он же mail и select all и дисклеймер номер 3 возможно что-то я в докладе не учел возможно какая-то информация будет чуть чуть не актуально потому что до классу снова начал подготавливаться около года назад плюсом у нас было два переноса конференции где то что там могло конечно устареть но перед выступлением я постарался максимально все актуализировать и второй такой тезис когда я буду говорить слово тира форм провайдер я буду именно иметь в виду название нашего облака например там сбер клауд тира форм провайдер то есть неё конспект ничего ничего друг ни что другое так вот что же нам необходимо от наших облаков первое как бывший разработчик что я хочу увидеть от облака это ту какую среду и выполнение наших проектов наших приложений она может предоставить то есть во первых это виртуальные машины то есть все мы помним разворачивание того же самого кубера на virtual как на железе на всем остальном но виртуалке это прям то что нам нужно в самую самую даже нулевую очередь не в первую мы же немножко современном мире и следующее что нам нужно это какая-то среда для запуска катыни резервных приложений но еще не кубер нить из например если взять аналог то амазона есть насколько я помню называется elastic контейнер сервис это еще не эко с это еще и cs то есть это просто среда где можем запустить наш контейнер под дать ему какое-то другое окружение только базу данных все остальное проверить как наше приложение работает ну конечно же мы живем уже в двадцать втором году и кубер нити с мостков то есть это то чем практически к чему-то стремится вся наша индустрия это deploy в куб это поднять различных окружений там в два клика все остальное автомасштабирование все все все все все плюшки кубер нить из и которые я не могу перечислить тому что их в принципе очень много и не мало важный такой еще один срез это сервер last есть это без серверное вычисления то же самое amazon для мда и все остальное давайте посмотрим что у нас есть первый кандидат на сравнении это у нас индекс здесь у нас будет такая сравнительная табличка первое это скажем так сервис который предоставляет нам облака второе это наличие именно того самого ресурсов тира форум провайдера про которая говорил ранее конечно же я больше люблю палубе нокеро форм как бы это сейчас нас на наиболее популярные инструментами но в нашей среде палубе не настолько распространен поэтому будем сравнивать именно на основе тира форма первое что нам дает индекс это компьютер клауд сервис также с галушками это виртуальные машины он точно он хорошо представлен задокументирован в терра форм провайдере индекса вам очень легко пользоваться буквально ведь этим занимались мы с тобой вчера вчера я достаточно успешно все хорошо работает дальше индекс нам предоставляет сервис контейнер это именно та вот эта среда исполнение отдельных контейнеров мне кубер нетесова также описано хорошо кира форма понятно у яндекса нас есть менеджер обернитесь то есть как у берни this service так называемый точно также описан тира формам об этом мы кстати поговорим чуть позднее еще более детально понятно что для работы что скан просто с контейнер с контейнер на средой что для кубер нити со нам нужно реджис 3 она точно также описано тира формам и есть у нас у яндекса клауд functions это аналог амазона скарлянды и он точно так же представлен тира формам максимально подробно идем дальше сбер у нас также у сбера есть elastic лаут сервер точно так же есть возможность запуска это с галушками для каких-то вычислений он представлен тира формам успешно клауд контейнеры engine это тот же самый менеджер каберне this у нас у тира форма описан все хорошо работает идем дальше но к сожалению реджис 3 для куба провайдера ой ресурсов тира форме нет то есть как сервис он есть и можно пользоваться но через тира форм оплаты вы его не поднимете фанкшн граф это тот же самый аналог лямды точно также представлен тира формам идем дальше и также еще один момент у сбера я нашел такой интересный сервис называется сервис стечь это аналог например амазона во всю листик бен столб сервис у гугла называется об engine это сервис для такого скажем так запуска любого рода приложений когда ты просто загружаешь туда код и не думаешь как и как и где она будет исполняться то есть скорее всего нас точно так же запускает отдельные контейнеры с нужным вам образом и очень полезно это использовать когда вам нужно быстро что-то протестировать вашем приложении вы не хотите там писать эту всю обвязку как это должно сзади плавится вы просто взяли код приложения загрузили она исполняется идем дальше вы кошечка час немножко картинка будет меняться в и к нам точно так же в аккаунт же мтс предоставляет нам клауд сервисы клауда плотно виртуальной машины как просто так и с видеокартами но к сожалению штатном провайдере в кашки тира форма под это под это нет дальше клауд контейнер с интегрированным себя registry это наш менеджер обернитесь в провайдере он хорошо описан поднимается но об этом чуть позже к сожалению увы кошечки я не нашел какой-либо среды для запуска без серверных этих вычислений без для модель создана соответственно здесь украсть кратенько что этого нету тира форма соответственно тоже нет select all первое клауд сервис точно так же с видеокартами наши виртуальные машины предоставляются все отлично все работает но к сожалению штатном провайдере нету именно потера форма под это дело дальше менеджер обернитесь предоставляется select олам отлично есть тира формы все работает точно также интегрированная внутри реджис 3 есть сервис но к сожалению про провайдеры ресурсов под это дело нету и такой очень хороший плюсик в сторону select тела есть такая услуга как клауд маг это виртуальные серверы с mac осью которые нужны там для билда и устных приложений макось его приложений которые не так давно в принципе появились в амазоне и вот очень радует что к нам это в россию тоже завезли в теле кто вам респект но как видим тира форму кода это дело тоже нету и так со средой в исполнении мы разобрались переходим дальше следующее что нам нужно для нашей инфраструктуры для наших проектов это все что связано сетью с безопасностью с балансировкой нагрузкой нагрузки и так далее то есть что мы сюда включаем во первых это наши выпуски то есть это первое что нам нужно от нашего облачного провайдера второе это работа ssd с записями также нам нужна какая-то c днк то есть content delivery network system для доставки быстрого контента до конечных пользователей работа с сальцем сертификатами маст хэв то что должно быть у любого провайдера потому что ну 2022 году пока ттп запускать можем только мы игрушку на нашем стенде окей так же если мы работаем с какими-то теми же самыми отдельными контейнерами либо slim доме нам нужен какой-то эпики твой для обработки входящих запросов для различных правил аутентификации и авторизации так далее обязательно нам нужно было какой-то балансировщик то есть это может быть балансировщик нагрузки как на уровне сети так и на уровне applications были и какие-то инструменты для безопасности то есть всем понятно мы можем за деплоить какой угодно проект но никто из нас не застрахован от ддоса никто не застрахован на каких-то уязвимостей в тех же самых докер образах которые друг друга что будут уже очень много времени так вот что у нас есть то есть вопрос задали теперь отвечаем по сетям и точно точно также первый у нас будет по очереди индекс вы потешки индекс это предоставляет все максимально подробно расписано в терра форме очень очень очень много различных ресурсов для там определения правила маршрутизации для таких битрейта всего остального клауд cdn клаус один у яндекса очень хорошо описан все работает максимально корректно но будет потом небольшой нюансик точно так же все отлично представлена в терра форм провайдере для dts of у нас у яндекса есть услуга клауд dns точно также отлично описано в терра форме и есть у яндекса предоставляет нам два балансировщика один здесь походу опечатку то есть бы это над workload balancing где нужно будет а л б applications балансе кто из нас есть два балансировщика один на уровне сети другой на уровне работы нашего приложения точно также описан тира форма также индекс нам предоставляет и беги твой для взаимодействия между конечным нашим пользователям и нашим приложением точно также описано все в терра форме есть у нас менеджер цель сертификатов но для этого нет ресурсов тира форме про это будет прям отдельная история как мы с этим немножко под под кололись и индекс в общем предоставляет нам услугу по так называемой доз protection тира форм она не представлена но в принципе нам инструменты по безопасности и не надо конфигурировать то есть оформить в принципе не нужен но крестики здесь поставил просто табличка была красивая переходим к сберу точно так же у нас есть сервис для построения виртуальных сетей описан хорошо кира формам у нас есть сервис для работы с даны с записями точно так же все описано в терра форме но к сожалению cdn сейчас в сбере до сих пор находится в статусе превью соответственно тира форму под это дело нету но и как бы опробовать его на каких-то реальных нагрузках у нас просто но мы решили этого не делать просто по дождемся когда он выйдет из статуса превью и там уже мне кажется можно тестировать точно также есть возникла balancing для балансировки нагрузки на наши сервисы есть нас над gate вы есть api guide вы то есть как все наши защитить как построить коммуникацию с конечным пользователям и большой спектр по безопасности это и web applications firewall это дтп security service контейнер гонцы контейнер карт сервис то есть инструмент который анализирует нам за уязвимости в наших контейнерных образах максимально широкий спектр у сервиса в по безопасности на эту то есть правда не так же не описано тира формам нос беру здесь ставится очень большой плюсик за такой широкий спектр сервисов идем дальше в окошечко для построения сети у нас всего два века предоставляет услугу клауд над works то есть туда входят и vpn и private dns различные firewall и но к сожалению все это невозможно сконфигурировать их штатным провайдером дальше точно так же увы к есть сервис для cd на тоже не конфигурируются тира формам есть сервис для балансировки нагрузки точно также без тира форма и точно так же нам в вэкашка предоставляет сервис как для выкликать applications firewall так и anti ddos сервис ну его как бы как мы поняли конфигурировать тира формам принципе и не нужны идем дальше select all первое точно также virtual вправят клауд select all нам предоставляет все максимально хорошо описано в терра форме все ресурсы под это дело есть все конфигурируется easy cd cd ну select a la есть работает максимально хорошо ну что это насколько мне память не изменяет один из первых cdma в принципе появившимся на русском рынке но к сожалению конфигурировать его приходится либо ручками либо через базу конспект провайдер но вот терраформер под это дело был очень было полезно завести дальше есть различные сервисы по балансировке нагрузки точно точно так же они не представлены тира формам и есть инструмент для работы с дань с записями в терра форум он он описан все конфигурируется все хорошо ну или точно так же как и все остальные провайдеры силе кто нам предоставляют точно точно такой же полный пакет по безопасности это в плек application firewall ddos protection точно также насколько я помню там есть this service pack нахождения уязвимости в наших образах и так далее но кира форму на как бы не описан но и не нужно и такой 3 срез третий вопрос что нам необходимо наиболее широкий это все что связано с хранением данных то есть базы данных объектное хранилище еду и все все все все все что у нас есть что нам нужно войти давайте пробежимся по списку 1 и наверное главное с чем сталкивался любой разработчик это какой-либо объект на и хранилище с 3 совместимая то есть тут где мы будем загружать какие-то пользовательские данные хранить статический контент который мы хотим как бы раздавать из облака и так далее дальше нам нужна база данных то есть какой-то сервис для реляционной базы данных это мускул это под gres возможно где-то нам sql server нужен и так далее идем дальше а документа ориентированные база данных то есть это mongo db что там еще бывает даже не вспомню то есть нам нужна какая-то манга для хранения документов поисковая система то есть аналог elastic search a time series db для хранения каких-то метрик статистических данных и так далее и какой-то сервис база данных который нам предоставляет модельки и вылью хранится в памяти то есть аналог это либо редис либо монтаж давайте просмотрим что у нас есть начинаем опять же точно так же с яндекса первое то есть с 3 аналог индекс нам предоставляет объект сторож он отлично описан тира формам все хорошо следующий такой широкой названный сервис то есть он не поделен на какие-то отдельная база данных индекс предоставляет нам менеджер service for мой sql postgresql sql server и здесь как бы я три галочки поставил что все эти сервисы одинаково описано тира формам просто они названы таким большим сервисом ну пускай она так даже красиво смотрится точно также индекс нам предоставляет и хорошо описан тира формам сервис для манги есть сервис для редиса описан тира форму точно также хорошо успешно есть в статусе new но уже доступен для использования нам поисковый какой-то движок на основе ластик search а ну и конечно же индекс нам предоставляет менеджер клик house потому что ну как бы без него никак и точно так же все это тебе вчера фармить и терраформирован а ok дальше сбер клауд точно так же у нас есть объект storage service для то x3 совместимое хранилища она описана тира формам есть сервисы для реляционных баз данных и точно так же как и у яндекса это mais quel этапа сгрыз и тоскует сервер виндовый также сбер нам предоставляет документ ds у них так этот сервис называется это та же самая манга есть клауд search service которого под скажем под капотом находится elastic и distributed кэш сервис это наши либо это на ваш выбор это либо редис либо мамка что есть кэш это просто в оперативной памяти ради сад еще с выгрузкой на диске все сервисы отлично описаны тира формам отлично поднимается начинаем идти в сторону где меньше зелёных кнопочек вы кошечка предоставляет над менеджер mais quel описано тира формам менеджер по сгрыз описано тира формам есть клауд стара 4 из 3-х совместимое хранилища но тира форма но к сожалению не описано есть менеджер он gdb сервис менеджер редис сервис менеджер клик house сервис то есть все эти три сервиса к сожалени писаны тира формам но в принципе тот запас сейчас немножко надо отвернемся тост тот запас требований которые мы предъявили к облаку практически исполнен сожалению нету ps какой-то системы для организации организации поиска то есть ничего elastix с вами совместимо пока там нет и select all понятно предоставляются нам объектное хранилище ис-3 совместимое но к сожалению тира форму она не конфигурируется и pussy lick то есть такой большой комплексный сервис он называется database as a service который себя включает ему и мускул по сгорю редис time series базу данных и он как бы и описан тира форма но на мой взгляд универсально описать настолько разные инструменты одним провайдером не является совсем корректным решением поэтому я поставил сюда и плюсик и минусик то есть у нас есть таких 2 2 услуги от цели cтало так вот сейчас мы разобрали скажем так теоретическую часть моего доклада посмотрели что у нас есть а теперь начинается экспериментальная часть доклада типичный проект с которым нам приходилось работать выглядел нас таким образом то есть во первых это бэкон приложение это stateless приложение а фишка в основном это был с джесс которая-де плавилась в каберне this и там крутилась дальше фронтовые приложение то есть до либо front фронт сайта либо какая-то админка это элементарный шея сингл пейдж апликэйшен приложение написано о том же on an gullari на том же реакции что там еще view бывает то есть все все иди плавилась она по следующей схеме мы брали с триш ный пакет настраивали его в в режиме как он в веб-сайт static хостинга то есть это такой скажем так примитивнейшей нужен с который раздает готовый бан был applications и поверх него навешивается клауд фронт это cdn от амазона для скажем так распределенной доставки этого приложения до конечных пользователей для кэширования данных для всего всего всего что он представляется д н и уже поверх этого клад фонд дистрибьюшен а у нас на вешалась dns синаем запись которая собственно игра связывало конечный домен спинка с конкретным on point там в облачной системе дальше для загрузки пользовательского контента точно также используется с кришной bucket точно так же если нам нужно контент раздавать для пользователей мы поверх обвес обвисшего мы тот cdn системой и здесь со звездочкой есть два пункта это предстоят is a natural и кто не знаком с что такое при саяны to say натурных так ну практически все знакомы но все равно давайте расскажу присоединиться и натуры нам необходимы для скажем так разграничение доступа до конечного объекта в нашем хранилище то есть пресса не труды это для баки to say натуры это для cdn системы элементарный пример например вызов ваши пользователи загружают в проект какие-то конфиденциальные данные то есть например не знаю там скриншот своего паспорта скриншот там автомобильного полиса страхования и понятно что доступ к этому файлу ис-3 хранилище должен быть только наш пользователи либо какие-то еще пользователь которым есть доступ для работы с этим файлом так вот с помощью предстоят это на уровне баки то и сайна торгов на уровне cd нам мы можем генерировать так называемые policy с ограничением там время жизни ссылки и тогда поля то есть мы отрисовали где-то файлик ссылка на него живет там минут пять и в прямо полисе в полисе по этой ссылке указано каким пользователям и разрешен доступ к этому файлу соответственно если у нас ссылка протухла если полисе подменено и все все все все сила все остальное конечный пользователь этот файл не получит и точно также периодически нам приходилось использовать amazon узкую ленту для очень сложных систем роутинга то есть например у нас есть фронт нашего сайта например тест точка ком и и пользователи загружают какой-то контент в отдельные страшный bucket и под для него мы можем сделать доступ по домену cd and cdn . тест точка ком но в некоторых случаев нам приходилось дружить оба этих хранилищ то есть с одной стороны the bucket который раздает статичный веб-сайт с другой стороны пакет который раздает конкретные уже пользовательские файлы на уровне одного домена и здесь нам приходила напомним на помощь лямда на уровне которой мы разграничиваем url и и отправляли их различные бы север и на уровне нашего дистрибьюшен какая-то сложная формулировка получилось но ничего идем дальше но и для хранения данных нам 95 процентов случаев необходимо было использовать менеджер менеджер по сгорю и для хранения там сессии пользовательских токенов в том к шее мы использовали редис доход если посмотреть на схему выглядело это примерно так то есть у нас есть три таких скажем так архитектурных решений этой с одной стороны это у нас backend который приложение которое крутится в кубе ли раздается амазона мы так далее у нас есть пользовательский контент и наше фронтовые приложение и принципе список необходимых технологий вы можете видеть сейчас на экране так вот давайте попробуем это все реализовать сейчас будет интересно то есть начинаем с более простой с простого приложение с нашего фронта и плюсом где дополнительно наши загрузки пользовательского контента то есть ещё раз уточним что нам необходимо для тепло и франта нам нужен bucket который умеет раздавать статичные веб-сайты нам нужен cdn который будет раздавать контент из этого bakida конечным пользователям и нам нужны специальные цены туры для защиты какой-то какой-либо информации вот сейчас у нас будет вот такая вот интересная табличка то есть здесь у нас три четыре необходимости я перечислил индекс клауд в яндексе доступен нам устричный веб-сайт static хостинг а яндексе досуг доступны пристают url и для защиты конкретных файлов точно так же с помощью индекса получилось реализовать связку между устричным баки там и cdn системой поверх этого навешал dns синим запись но к сожалению у яндекса мы не нашли возможность реализации сайна торгов на уровне cdn сервиса какие еще у нас есть тут подводные камни во первых как я уже чуть ранее говорил у яндекса нету провайдера для managing сосали сертификатов но когда вы будете деплоить ваш cd and service там будет прямо отдельный блок по сертификату то есть вы указываете класс сертификаты например лиц encrypt вы указывать нам еще дополнительные параметры и все отлично применяется то есть тира форум проходит но выпуск сертификата прихоть пришлось подталкивать руками то есть хоть я и указывал да мне я хочу вот такой сертификат для такого домена такого класса она залипала приходилось идти в консоль выпускать этот сертификат при этом не проходя процент процедуру подтверждения домена и после этого все завелось и также у яндекса мы столкнулись такой ну скажем так бедой время настроек то есть эти к шее которые нам этот cd and distribution генерирует даже при указании этот эльф минимального в 60 секунд то есть это 1 минута изменений периодически приходилось ждать около минут 15 и поэтому было даже не понятно то есть это либо мы что-то сконфигурировали неправильно либо нужно просто ждать то есть вроде все сконфигурирована но сайт не отдается проходит 15 минут сайт заводится то есть при перед этим ты при этом делаешь три раза тира форума об elite 3 раза тира форма play обратно возвращается с тем же самым настройкам который ты сзади play all ты видишь сайт и потом вот эти три шага которые мы нечайно ломали они опять откатывали вот раскатывалось обратно то есть вот именно здесь возникла такая вот непонятность и последнее что этой связке у яндекса немножко не очевидно хотя на второй раз перечитав документацию я увидел это большим отдельным абзацам что для соединения связки cdn дистрибьюшен а и страшного баки то необходимо указать заголовок хост с которым cdn будет обращаться к багету например в том же самом озоне в том же самом гугле кто мы реализуем такую связку этого делать из коробки не надо то есть система понимает что этот bucket будет ходить ой этот дистрибьюшен будет ходить в этот пакет дальше сбер клауд здесь мы видим чуть картинку похуже да у нас узбек лауда можно настроить и страшный bucket можно указать все правила для веб-страниц static хостинга то есть это там индекса страница ошибочная страница правило роутинга но к сожалению все у нас остальное по минусам то есть присодиниться урлов я там не нашел как я уже говорил cdn мы нет мы не проверяли потому что он находится только в стадии preview ну и соответственно seine at улов на cd и не там тоже нет идём дальше ну и собсно говоря какие подводные камни во первых это отсутствие сейчас cd на уже как готовый сервис и отсутствие работы списаны натуралами то есть да мы можем реализовать какую-то загрузку файлов но к сожалению все пользователи будут иметь доступ ко всем файлам и соответственно придется это регулировать на уровне там вашего приложения и вписать много много кода наиболее интересный кейс потеплее фронта у нас сложился с вытяжкой да у нас мы смогли сконфигурировать страшный bucket указать все необходимые параметры ну к сожалению руками потому что телефон провайдера под это дело нет получилось создать cdn дистрибьюшен который будет связывать наш бесстрашный bucket и cdn и уже конечного пользователя получилось навешать синим чтобы к нашему дистрибьюшен у повешен нормальный доменный адрес но к сожалению но не заработала то есть чтобы я не делал как бы я настройки не менял я видел типичную с 3 like ошибку про access denied то есть когда мы пытаемся обратиться либо к корню либо к index.htm или ось равно получал ошибку access the night перепроверил на 5-10 раз все параметры подключения но к сожалению как бы как она access de nile атака на меня их созревает до сих пор и select all у select a la как как я уже горю к сожалению нету и на телефон провайдеров для автоматизированного тепло я вот таких вот такого рода связки но есть отличная документация с примерами как это все настроить в консоли ручками то есть как создать bucket какие настройки указать также есть возможность генерировать преса и натуралы есть отлично как будто все конфигурируется в двумя кнопками сопоставления cdn бсдм дистрибьюшен а и баки то но к сожалению сами натуралов на уровне cd на нету поэтому ну здесь у черной поставил крестик но все отлично заработало то есть за документацию силе кто кстати вот вот в этом в этом случае select all в документацию огромный респект в cant back and немножко по интереснее то есть фронтовая с кем она более менее понятно но такая нетипичная для нас с брендом наоборот но все был более менее уже привыкли к этому паттерну в нашем кабинете сам нашим api то есть давайте посмотрим что нам необходимо для реализации бэкон схемы то есть во первых нам нужен кубер notice кластер нам нужно какое-то реджис 3 где мы будем хранить наши образы нам нужно настроить сетевой взаимодействие между класть стран между реджис 3 между базами данных то есть нам нужно обожгли редис и давайте все это конфигурировать здесь я дал немножко когда мы делали экспериментальный проект команд командир с которым эта готовили чуть чуть больше свободы и разрешил использовать не только тира форм провайдер от собственно провайдера но и open стыковой провайдер давайте посмотрим что здесь получилось индекс клауд все зелененькая то есть мы смогли поднять кубер смогли поднять для него реджис 3 поднять после спада гастеры dice все это связать или сетями и все завелось идеально все работает все какие-то дополнительные сервисы сзади плейлистом например ingress assert манагер все завелось из все сконфигурировано с помощью одного провайдера то есть исходники если что мог потом даже показать дальше сбер клауд опять видим все зелененькая то есть мы у нас нам удалось поднять кубер связать его сетями с базами данных поднять registry все за тепло ведь все показать и точно так же как у яндекса я даже текст в этом слайде не меняла просто скопировал все все работает идеально все завелось все штатным право провайдером тира форма в к точно так же получилось поднять кубер с registry которая у них интегрирован получилось поднять по сгорю получилось поднять редис но условия здесь полтаве способ решения здесь немножко похуже штатным провайдером предоставляем вы qashqai получилось поднять только куб и базу данных подружить всю эту еще штук у сакан стать провайдером тоже особо как бы не получилось если что потом могу связать с человеком который прям это делал который страдал с этим неделю но к сожалению им пришлось часть инфраструктуры до конфигурировать руками тестом и сетевые взаимодействия и небольшой минус что в документации по провайдеру в кошечки и в принципе в документации по вот этой части нашего среза много неработающих примеров либо они уже просто устаревшие поэтому здесь такой небольшой минусик и все ли кто то есть опять же усили cтало мы видим все зелененькая мы все подняли правда с помощью связки как штатного провайдера и он стык провайдера единственная проблема была на уровне дружине и их между собой потому что часть ресурсов требовала зависимостях наличие ресурсов созданным другим провайдером но что то можно там актер тот же самый регион и bucket создать руками и соответственно с помощью двух провайдеров в одном модуле вся схема поднялась ну и собсно град документация select a la как я уже говорил хорошенько и все отлично и давайте придем к выводам то есть первый вывод почетное первое место в сравнительном анализе я по своей воле и вручил yandex потому что на мой взгляд она получила бы большинство плюсов моим анализе второй вывод такой позитивный наши облака несмотря на на все уже могут очень многое они предоставляют практически весь необходимый спектр услуг который нужен 9 99 процентов случае для работы любого проекта и это на мой взгляд хорошо ну и давайте ответим на два вопроса которая задавал себе получилось ли у нас реализовать те же самые схемы который мы применяли в том же самом в тех же самых штатах ответ да ну кроме неработающего front она в кашки то есть все реализовано все поднялось получилось ли это сделать тем же самым способом то есть с минимумом движений ручками веб-консоли к сожалению нет но я думаю мы в развитии мы все равно никогда не остановимся и уже через год это будет исправлено и мы намного больше приблизимся к максимальном автоматом автоматизации в этом в этой сфере ну и такие мелкие выводы тира форм это конечно круто это нужно я так это не панацея поэтому мой такой позыв просьба к тем провайдером как тем ресурсом тира форумов ским которые я юзал пожалуйста напишите их я хочу им пользоваться я не хочу говорятся с окон стеком я всего лишь программист которого научились нажимать кубик отеля play и там сильно в это углубляться у меня просто не не хватит мозгов второй интересный вывод я не мог им не поделиться здесь это относится и к сверкала воду и к индексу когда читаешь ваши примеры особенно в документации периодически видно что они одинаковые причем они еще от какого-то 3 провайдеры к сожалению не помню его название то есть там прямо именно ресурсов не этом индекс там road собой что-то там а какой то вот провайдер road сам нет ну очень интересно не мог с этим не поделиться мы припас при последний вывод я надеюсь мы с вами не прощаемся потому что я попытался очень очень бегло пройтись по облакам а понятно что облака это настолько глубокое как бы сфера то есть чтобы я хотел рассмотреть еще в дальнейшем то есть это предоставляем и инструменты администрирования те же самые системы для мониторинга для работы с влогами для организации бэкапов миграции какие-то инструменты для и именно дев abs процессов плюсом хотелось бы рассмотреть в сервисы для работы нам с аналитикой данных для очередей для без серверов вычисления потому что здесь получится сожалению на практике их применить попробовать повторить не получилось для машин лёрн гаи можно этот список продолжать бесконечно но на этом я покажу свою фотографию укажу свои контактные данные по которым со мной можно связаться максимально лучше писать мне в тележку с хэштегом l 20 25 точно в потоке сообщений вас не про не пропущу спасибо за внимание и жду ваших вопросов огненный доклад получился сергеевич и такое саспенс и тут много разработчиков вот этих облаков час в зале поднимите пожалуйста пожалуйста вы все таки сидели а ещё у других облаков покороче обычно можно я выхожу из сразу я сразу отвечу на твой вопрос в сентябре на не помню на конференции мы очень много на автопати беседовали с ильёй вашим кабарды боровой и он говорю блин а она всё не сравнишь нему сказал там чуть-чуть и бог хочет возродить говорит лучше пока не надо но это вы это было чуть меньше про назад а ну есть повод для текстовая часть я думаю что некоторые разработчики ну я про себя по крайней мере у я сидел и боялся вдруг сейчас chante за того что делаю я отвалится и я такой покраснение не знаю как дальше вопросы задавать но вообще время вопросов давайте задавать вопросы вот придадим человека микрофон сергей спасибо за доклад очень интересный я бы хотел уточнить а два момента первый момент облака большие глобальные облака они в том числе регионами до выделяются то есть возможностью приземлить свои приложения на комната пользователю почему не сравнили вот этот очень хороший вопрос мы она просто чуть-чуть не влезло то есть я хотел именно оценить это инструментально то есть какие именно сервисы предоставляет а уже во второй ну как бы в дальнейшем оценить по уже немножко техническими таким нюансов тепла то что мы работа с дисками то есть те же самые ride free ride free отмене все остальное именно риге регионы но насколько час ходу скажу точно знаю vasily кто во много регионов я последний раз когда с вами встречался мы с вами вместе отмечали открытия в новосибирской зоны у яндекса с регионами в принципе более меня все норм но как бы здесь она немножко чуть-чуть концепцию не влезло сравнения но вопрос уточнение очень хорошая да спасибо второй вопрос я понимаю что доклад готовился год назад это было еще в духе вот этой вот дальше о последних событиях ключевой момент вашего рассказывает о таро форум hаши карп проявили себя в связи с последними событиями как ненадежный политический мотивированный партнер так вот какие перспективы отказаться от хэши карпа в ближайшее время и нужно ли я ожидал этот вопрос и я вспомнил очень классную картинку там такая цитата я родился слишком поздно чтобы быть морским пиратам и слишком рано чтобы быть космическим пиратам пока пока так спасибо груз был я кстати хотел сказать что сергея еще говорил что у него есть какие-то а для за лучше а кстати которые мне понравятся как как здесь зале так уже на обсуждение после подходить нам на стенд но все так же люди создали хороший вопрос обязательно заходите еще в кулуары потом в которых там выбираем лучше сергей большое спасибо за доклад вопрос следующий когда делал обзор вот этих различных облаков и насколько там легко разворачивается тип его инфраструктура какое впечатление сложилось о пилингах этих облаков на о чем а пилингах как они ну где что хорошо и что плохо и насколько неадекватны но там уже в эту сумму вот тоже я ожидал вопрос именно про биллинг про стоимость и намеренно это опустил потому что я очень не люблю разговаривать про деньги в принципе вот вот прям вот прям не люблю но здесь как бы есть момент я закину просто д теста в 500 рублей на вы кошечку они через два часа мне перезвонили спросили вот так вы и видим заинтересует типа вот мы можем предоставить это бесплатный легкой ребят когда докладывая через два дня этого облака сверну но именно с биллингом сожалению я не поработал вот как то так давайте перейдём к следующему вопросу наверно нам надо еще один вопрос задать и переместиться в кулуары что времени многом а вот человек гардероб спасибо за доклад анализировалась как-то отказоустойчивость этих облачных решений потому что у того же амазона уже даже в прошлом году были прецеденты когда он просто ложился не обеспечивал свои гарантией потом говорил но хотите садитесь с нами у нас огромный штат юристов что будет с нашими облаками в подобных сломать при должной сноровке можно хоть что это просто вопрос времени но в принципе здесь даже это было не в процессе сравнения именно в подготовке доклада из нашего именно опыт и работы наиболее отказа устойчивым с одной страны является индексов и облака мы просто потому что она как бы старается по максимуму часа реализовать все что она хочет за по заинтересовать пользователя а с другой стороны такой более надежный с такую же исторически проверенный временем на мой взгляд отказоустойчивость тоже исходя из нашего опыта можно именно идти в select all потому что ну просто ребята на этом рынке уже гораздо дольше"
}
{
  "video_id": "Goxs6QEoWWA",
  "channel": "HighLoadChannel",
  "title": "Виртуализированный highload NFV / Александр Шалимов (ЦПИКС)",
  "views": 301,
  "duration": 2805,
  "published": "2017-04-10T07:28:01-07:00",
  "text": "меня зовут шалимов александр я представляю поездка организации 1 это центр прикладных исследований кассир сетей прискакала а и 2 тэнгу а в одной я веду такие практически научные исследования в другое и ну другой преподаю сегодня расскажу о теме который называется на торг function виртуализация или виртуоза сетевых функций и вообще как мы ее можем использовать не только для телеком-операторов но и для но и для хай-лоу приложений начнем откуда вообще это пошло сама тема интересна и уникальна тем что она появилась не от людей которые производят какие-то решения там каких-нибудь вендоров от людей которым это нужно как минимум это все образовалось еще в 2010 году когда группе телеком-операторов поняла что другая как они живут дальше так больше жить нельзя что конкретно мне нравилось инфраструктура сетевого оператора telekom оператор как правило состоит из проприетарного дорогого железного оборудования обновлять его нужно его нужно поддерживать его сложно обновлять она это все требуется много времени вот новых сервисов занимает порядка двух лет проблема в том что все это пошло из европы европе очень много различных телеком-операторов больше чем нас в россии именно там который продает как проводной так беспроводной доступ им нужно как то конкурировать пользователь уже разбиты по каждому оператором соответственно из-за конкурента они не могут все вместе поднять как понять как поднять цену услуг соответствием нужно как-то пытаться в этой ситуации понять здесь свои расходы и главным образом это можно повысить за счет вот тех вещей которые сказала дорогое оборудование как-то его переиспользовать вводить новые сервисы за которые выливают платить намного быстрее так пришла технологий который называется на seo нас первую была озвучена 2012 году в октябре взять время она заросла есть каждый год она росла количество людей в не вовлеченных просто на порядок а в чем заключается идея если мы посмотрим на сетевой сервис какой то он обычно работает на проприетарным железе а это это влечет за собой высокую стоимость сложно его обновлять сложный во транспортировать если вам нужно купить новый или быстрого привести это пока там логистика пройдет можно несколько месяцев только ждать пока вам вместе тайване привезут новое оборудование а идея заключается в том что давайте все вот эти сетевые сервисы будет реализовывать не аппарат магнитно проприетарным железе а программным обычным традиционным оборудование и в этом основная суть основная суть там что мы отказываемся проприетарного железо используем стандартные серверах ньютоновский сервера которые любой может купить неважно человека производитель кто в итоге собирает важно что это не проприетарное железо а всем доступна то что называется коммунити сервера и они запускаете эти приложения печем что важно важно что это не просто приложения и софт который работает на чисто операционной системе и вещью давайте запускать на виртуальных машин и то есть теперь у нас сетевой сервис он работ на виртуальной машине такой вот получается квадрате которую некая выполняя свои стиль функция и сейчас суть в том что бы этот квадратик можете копировать а зависимости от увеличить нагрузки или принести мигрировать на другой сервис то есть теперь уже не нужно ждать три месяца как долю релизу стелла оборудования в нужной вам . вы просто туда перегружайте много virtual machine которого полнеет эти функции здесь в общем то все что я уже сказал единственное что почему это было невозможно раньше все таки сетевой сервис он тема сетевой что на него требует высокой производительности носить его производительность для виртуальных машин ну про это очень-то сложно сказать так и просто про софт который запускается на серверах то есть вы очень сложно обеспечить на виртуальной машине обработка трафика со скоростью 10 gallery а соответственно с этим нужно как-то бороться играйте будет в основном мой доклад из тех еще преимуществ которые я забыл сказать но они отмечено слайде это объединение сервисов группы идея в том что помимо как x и которые я называл том что вы уменьшаете стоимость именно свой сервис сочувствовать традиционного жилья за счет использования софта который может быть любым вендором создан разработчикам программа вас течений но еще и за счет того что всеми этими теоретически проще управлять не проще управлять проще конфигурировать мы например вам важно чтобы трафик который входит вашу сеть ну или ваш цвет ворота и данных сначала прошел a firewall потом прошел балансировку нагрузки а потом прошел ваши уже какие-то разные разложился по вашим баками соответственно все это обычно люди настраивают руками здесь вы можете использовать то что называется там измены или круг говоря удаленное конфигурирование можете настроить цепочку как должен проходить тот или иной трафик или поток через какие сетевые сервисы примера я вам еще покажу а это пример не того к чему это быстрее культе почему это дешевле как вообще тайцы почему оператор эти контра трое на это смотрят на пример мы рассмотрим сервис который называется образ это или комбинация поиски сессия 50-ти а только об участи в интернет ваши записи или ваш моделью настроиться папе теперь обращаются к нему для того что проверить можете ли вы получить доступ в интернет целиком оператор считает выгоду с учетом на 1 мегабит то есть стоимость на 1 мегабит и на один клиент друзья что один клиент потребляет 1 гигабит трафика и они хотят понять сколько же это стоит а если мы посмотрим стоимость существующих решений это верно не только для brass 1 для других сервисов это примерно 1 доллар на подключение а вы читаете это как вы берете какой-то устройство сетевое который может обработать 10 га ли она стоит там 10 тысяч долларов сейчас на рынке соответственно уделить одном другой получается что один габи трафика стоит 1 доллар если же технологии которые мы занимаемся которые разрабатывают сейчас и активно предлагать и императорами вы можете на одном сервере стандартным сервере обработать 50 гигабит трафика без каких-либо но очень сложностями причем это еще нижней грани сейчас уже есть сервера который по ним стоит не 5000 долларов когтей сказано там 10-20 лет вы можете до 300 мегабит раз обрабатывать в общем любом случае если все одно опять поделить на другой получается вам нужно 10 центов на пену на одного клиента то есть порядок и этот порядок с учетом огромного количества оборудования очень важно для операторов если же посмотреть на другой то что вызвало сиджи нации трансляция адресов а этом уже общались с российским операторам который вот помоги нам оценить конкретных не и задержки если вы используете то есть еще над чем сложно набрасываем через неё постоянно проходит пакеты то есть это нужно уже по умолчанию нужна высокая производительность клиенты должны быстро пойдут в интернет и адресовать транслироваться обратный трафик входить быстро есть вы используете чисто аппаратные решения то то где то на но клиент получается 16 долларов если вы используете аппаратные приз программное решение 4 доллара если вы используете у тебя уже те сервера и технолог который предлагает им то вы можете уже скрасить эту до 2 долларов то есть выгода очевидна поэтому всем людям это интересно как это выглядит у телекома операторов как они как вообще должна образоваться сеть целиком оператор для того чтобы вся эта технология работу как я уже сказал все эти операторов с лево клиента и по сведения различного уровня свечи агрегации доступа на всех них на различных уровнях есть какие-то сетевые сервисы там firewall анализатора трафика фн от акселераторы трафик которые распределять зависимости от типа трафика по каналам а все это приторно железа как я уже сказал все в нашем случае заменяется на традиционной сервера то есть у на данный момент у каждого каждый целиком императору себе допустим районе в контрольном центре должен поставить центр водки данных то есть несколько серверов с несколько стоек сервер некоторых стандартных сирот на которых уже должны быть запущены виртуальный машин которые выполнять ее сетевой функции пасть это стандартные традиционно виртуальной машины запущены на традиционный сервера как я уже сказал это только мы уменьшаем затраты хотя бы еще этим уметь красиво и удобно управлять у нас должно быть какое-то средство по управления виртуальными машинами у нас должна быть то чем то что будет управлять трафиком для того чтобы наши наши наши пакеты для конкретного клиента проходил сели за на виртуальной функции балансировка нагрузки firewall для того чтобы это все быстро работал еще вот важно само по себе для тех виртуальных функций то есть чтобы вы могли удаленном круга пользователей или тиньков кадр мог сказать теперь в эту точку загрузи пожалуйста такой виртуальной машины все работает это премьер живой пример от компании entity они первые кто уже развернули и активный способ предлагают технологию в чем идея в 2011 году кажется было было землетрясение на японии когда началась она трясение потом цунами и в итоге ночью по островов и очень ядерной станции очень большая беда в этот момент все те люди хотят звонить своим родственникам поэтому требования к айпи ресурсам сильно возрастает то есть вот здесь вот сервера которая выделена под обработку white & трафик а не выяснила что они могли обработать только 5 процентов свою всех звонков при этом что самое но с одной стороны страшно это то что youtube смотреть видео посмотреть телевизор могли все кто угодно много звонится нет то есть из за чего проблемы из-за статического статического выделения ресурсов один другой единичка выделено на обработку вояки трафика больше 30 ресурсов выделено обработку видеотрафика если бы они могли тот момент динамически перри балансирует зависимости от увеличивая нагрузки и в например выделять для байки трафика больше количество ресурсов то на тех же самых ресурсов которые у них тот момент были они могли бы обработать уже не 5 а 25 процент страхи и в этом есть основная идея это эта технология добавление динамического управления масштабирование без свойствах вас ресурс теперь дыши зависимости увеличить нагрузки увеличилась нагрузка количестве рту альных машину выполнять стоимость его функций увеличивается количество ресурсов количество нагрузка уменьшается количество ресурсов можно отключить отвечать не используемый ресурс а сейчас уже с помощью этой технологии вообще на entity само по себе интересно а то что они в то что не умеет делать они умеют зависимости на телефон и они ставят свою прошивку для андроидов которые пакета восходящий огне на диске сессии они вставляют то приложение которое проделал проделал этот 10 поток и поэтому 10 потоку на вот этих серверах уже происходит зависимости от балансировании трафике независимости от клиента или от той локации которых туда чистого зависимости от того приложение которое породило этот трафик это в принципе рода это был невозможным другой пример где эта технология где эта технология применима это то что называется virtual степи или virtual card над мемасиками идея в том что клиенты из некоторых коробочками которые железной коробочками которые запущены некоторые но обычно alex 86 коробочку который обычно такие листе риса это может быть тот же самый когда там мтс ставит ваш вай фай модем и то есть себе a virtual сепеда когда счастье в их функции выполнена волоки запускается облаке то есть клиент хочет я хочу контроль для доступа мои дети нет отдельно заданное количество сайтов я просто захожу на сайт целиком оператор от ростелекома ставлю галочку о том что я хочу чтобы происходил ограничение доступа в такое-то время в этот момент загружается на с в облаке сгружать виртуале машина проводящий анализ пакетов доступа и очень доступно и и все ваш ваш сервис запущен работает в этом есть смысл потому что раньше для этого опять таки для вас руками настраивали пограничных коммутаторах в том что все пакеты пакет такие рецессии запрещены а теперь более техническим деталям как это работает и за счет чего мы можем достичь высокую производительность все те примеры которые привел можно свести к следующим следующий организации а по факту нас есть один сервер на котором запущено н виртуальных машин выполняющих те или иные сетевые функции для того чтобы для того чтобы они имели все доступ в интернет и для того что мере доступа все эти для того чтобы можно было балансировать между ними трафик или говорит что составлять какие-то цепочки прохода трафика на должен быть вектор программный коммутатор который выключены все виртуальные машины это программный коммутатор уже через свой стэк linux через аппаратуры мне доступ в сеть и проблема как раз таки здесь том как обеспечить высокий доступ к сетевому адаптеру как обработать большое количество пакетов надо то есть виртуальных машин если на это смотреть среди турун точки зрения то есть три узких мест и одно узкое место это сам сетевой stick linux второе узкое место программный коммутатор он может не очень быстро балансировать пакета зависимости от таблиц коммутации сам виртуальной машины на них пакет очень сложно запустить с большой скоростью и так сетевой стояк linux что мы знает про него это известно о том что в принципе медленный он универсальный за счет и за счет этого у меня очень много копирований пакетов между каждым уровнем за счет этой универсальности большого к 1 перила церне он медленно его максимально простая способность на данный момент это где-то 300 тысяч пакетов секунду пакетами с виду маленьких пакетов потому что сам сложность способной к мутации трепись пакетов ну никак вам не дает 10 где вид это это только способ доставить пакет от сетевой карты на users с linux резерв с операционной системы ток 300 тысяч пакетов пока 10 гигабит их привести идет речь то есть если так быстро не 10 гигабит это 15 миллионов пакетов в секунду но не как не 300000 а второе вторая проблема the sun виртуальный коммутатор здесь вы провели носом распространенная себя об этом скажу виртуальный хуторе до момента топа новых встреч здесь мы хотели проверить насколько быстро он работает то есть мы хотели пересылать трафик сена общество pourtant работ физически порт через программный коммутатор что мы поняли в том что максимально опускной способность 1 свеча за счет того что он работает а часть он работает ядре linux он может пропустить не более одного миллиона пакета в секунду то есть какой урок о том что если мы что-то опускаем ядро операционной системы мы можем обработать 1 миллион под пакетов в секунду но не больше нота в один поток здесь как раз таки это отмечено то есть вот это число это один миллион пакетов в секунду вузах видите тут какой-то причине с увеличение количества собственности на вершина 5 риссов скорость выросла там до 10 гибель почему это произошло это произошло за счет того что на большинство сетевых картах в большинстве сетевых картах есть возможность автоматического распараллеливания по очередям то есть пришел пакет вы раскладываете есть очередей потоки хэшируется зависимости вот там своего своих заголовках раскладывается по различным очередям каждой очередь может обрабатываться независимо к ядерным процессором поэтому в зависимости от в данном случае dota 128 source адреса все общем то растет и до чего может эротический вид но это по факту если задействованы все я да процессор от не очень хорошо то есть цель у нас на одном ядре уметь обработать 10 гель и дальше хуже теперь давайте посмотрим как надо ставить как нам доставить пакет и от физического адаптеры на виртуальную машину опять таки теперь мы хотим протестировать опять выход физики на физику но с проходом через виртуальную машину пакет выходит проходит через опытный switch попадают на виртуальный физический интерфейс дальше попадает уже на виртуальную машину так быстро пересылать по соседним трофей сс и дальше выходим и здесь замеряем здесь обнаружилось два интересных моменты 100 если опять таки запускать на виртуальной машине виртуальный коммутаторы в ядре linux то производительность сильно падает то есть порядковой предварительно 120 тысяч пакетов в секунду то есть это было 300 тысяч теперь у нас на виртуальной машине можем 20 тысяч пакетов пасеку набралось но выяснилось что если запускать вот такой вредный квн если вы хотите выпускать что-то виртуальной машине то это нужно делать визир спейси в этом случае к в м он не страдает то есть потери пакетов в этом случае все происходит из отложенных прерываний кафка время все сетевые системы обращения драббла создают перерыва некоторые процессы должны обрабатывать первую очередь как только их много становится вся система в целом тормозит поэтому если мы запустим этот о понго switch дизер спейси то мы можем обработать порядка двухсот тысяч пакетов секунды то есть от 300 мы попадаем на 200 и это все что можно получить это все что вы можете получить запуская на амазоне сервис если вы используем если вы запускаете штатные nginx и так далее то есть все что вы можете получить на виртуальной машине это 200 тысяч пакетов секунды а потом когда вернёмся теперь давайте рассмотрим что же предлагаем мы мним и а то что принципе люди используют вместо каждого из этих компонентов рассмотрим альтернативу который позволяет нам достаточно быстро производить обработку пакеты в первую очередь intel считается был самым главным менеджером а эта технология именно в запуске что-то виртуальных машинах с за последние четыре года они добавили то есть они уже у себя внутри понимали что они соревноваться с проприетарным железном оборудование по обработке трафика поэтому они уже в свои свои сервера стандартных 1 добавляли некоторые новые там ускорители такой обработки например 2 поколение процессоров назад sandy bridge добавилась возможность по умолчанию пакет который считывается сетевой карты по умолчанию кладется как в память так и сетевой кэш процессора в 3 уровне в кэш третьего уровня до ядра процессора поэтому он может обрабатывать пакеты на могу стрелять ему не нужно ждать пока ты загрузишь от из памяти по пакету уже есть вот они и него лежат в кэш среди прочего они абсолютно те которые назвал синтол dp детей которые по факту с одной стороны самое главное ее отличие в том что мы эту новые драйвера для стива корчака энтого то есть умолчанию драйвер работает как пришел пакет совершилось прерывание проснулся процессор процессор обратился к с карточки к ее памяти оттуда забрал пакет я обработала здесь же для мира работают иначе это называется по уму от режиме то есть они всегда крутятся то есть целиком ядро отдается под то что она без конца опрашивает карточку запрашивать туда пакет и без какого-либо ожидания то есть появился пакет мы его забрали появился пакет моего забрали тоже называется активный цикл ожиданий от никаких прерываний то есть мы жертвы ядрам процессора но при этом позволяет она позволяет очень быстро обрабатывать пакеты среди прочего есть очень много различных кастомизацией и кастомизация правильных настроек при запуске windows ких серверов например это автоматическое выделение локация под под память большого размера по умолчанию вас там под память выделяется страницы по 2 килобайта это плохо потому что только вы качаете пакет очень быстро странице забивается очень быстро начинается с локинг бесконечно перемещение страниц поэтому по умолчанию включается режим как да то что за этих вещей что то что большие большие страницы о двух мегабайт до 1 гигабайт мы всегда используем на гигабайт твой странице за счет этого не происходит никаких лишних обращений к менеджер виртуальной памяти и никаких трансляции лишних трансляций среди прочего сам по себе diptyque в нем очень много различных библиотек функцией бегать я по обработки пакетов причем эти все функции они оптимизированы под сапу векторные команды подветренные инструкции по этому примеру в обращении или создания хэш-таблицы вычислениях сша уже заранее закодировано но намного быстрее чем если бы у вас вы использовать стандартные linux совские библиотеки что еще ну да то что сказал деление целых ели процессора по задачу по факту и детей при запуске создает песет который сам бандит конкретному процессору и к нему приобрести выпил отключать нести ни прерывания чтобы карточки поняла что когда у нас этого порта приходят пакеты нужного класть именно в кэше этот капель этого игра сама по себе эта технология она позволяет дивизий сам себе он позволяет очень быстро обрадовать пакеты уже конкретно вы запускаете какое-то приложение на на гостевой наш хостел в операционной системе linux вы можете уже обрабатывать пакеты со скоростью портах 10 горит причем даже мелкие пакеты вы можете держать это очень хорошо и быстро есть это не триста тысяч пакетов это уже 15 миллионов пакетов с на одном ядре ограничение здесь возникает только 50 шине в том количестве traffic of которые вы можете правильно то есть у нас получалось на дешевых серверах где то прогнать порядка 60 легален трафика через бёдра процессор а дальше дальше мы хотим уметь все эти пакеты которые приходят можно быстро сочетать карточки нам нужно их уметь быстро обработать врачом так их правильно мотивировать на конкретно виртуальную машину какие-то еще действия переписать не переписать на месте по его стек или там завернуть гарет анны самый популярный устранила сейчас виртуальные коммутаторы топан высвечивал среди прочего используется сейчас в амбаре в амбаре купила ком компании на сиро который занимался разработкой программным коммутатором и все то есть они его оптимизировали сейчас этот же коммерческой версии используется продуктах в сферу но есть его соответственно версий которые там у меня не поддерживается а соответственно что люди делают точнее то что мы делали совместно с центром мы пытались переписать окон в качестве что там биотек по обработке графика по на физическом теле стоит из двух частей она это я верну часть которая просто согласно правилам коммутации пересылать пакет самого борта на другой и некоторые конфигурационной а часть которая про взаимодействует с контроллерами удаленного доступа на лена и управления для того чтобы получить высокую до высокую способность нам нужно переписать вот эту вот часть на другую на новый для всех утеплитель чтобы она высокая быстро брат брала покидать его карточки их обрабатывал разговаривать и мы не занимались проект сейчас находится в открытом доступе его очень сильно развивается поддерживается уже отдельные пола и вы на данный момент уже можете обрабатывать порядка так 10 миллионов пакета в секунду на одну ядро вот эти числа конкретного увидеть а теперь дальше дальше то есть мы теперь мы были на седьмом стыке мы умеем умеем работать действенных пакетов теперь мы дошли до а их быстрого расследования по очередям по виртуальным картам теперь нужно быстро обрабатывать их на виртуальной машине а тот же diptyque он предоставляет несколько механизмов работы с виртуальной машины в частности ставим на виртуальной машине у нас работать некоторые сервисы какое-то приложение которые должны обрабатывать с пакетом по умолчанию есть два режима есть переписка бир-тавиль rover то есть по факту это к время под стандартную панель интерфейса my реализован реализован доступ напрямую через апанасевич через оптимизирована по новой встречи всем карточкам этом на абсолютно прозрачна для виртуальных машин для приложений которые работать на виртуальных машинах то есть вы можете взять просто любой свои приложения мастеров нагрузки a firewall запустить его на виртуальной машины с каких либо изменений в этом случае понятно вы получите производительность как она была и было раньше за счет того что здесь в используется стандартное сетевое стек linux которой как уже было сказано то здесь вы получаете только 300 тысяч пакетов секунд все равно больше чему можно было получить до этого там 200 тыс а если люси режим это разделяемой памяти это когда ваша нота требует сильно модификации вашего приложения приложение должно знать что она работает в окружении 9 керри в этом случае оно имеет прямой доступ через разделяем на память память и модифицированного свеча то что было рассказано о прошлом этого здесь вот нарисован то есть отсюда есть то есть это по факту одна и та же память которую приложение имеет доступ в этом случае производительность все максимально то есть вы опять таки можете на виртуальной машине обработать эти 15 миллионов пакетов обработать 10 для лиц хорошего в принципе невозможно и самое главное что раньше это было невозможно есть еще альтернативный вариант которых на на виртуальной машине это уже конкретно непрозрачно то есть если у вас приложение написано на том же самом деле детей вы можете запустить его как на виртуальный можете также на виртуальной машине у вас будет высокий у такой средний доступ по средней доступа по обработке сетевого трафика вы при этом плюс-минус прозрачным то есть от процессе только для приложений написанных вот на это в этой без помощи библиотеки теперь к числам но это все в целом так выглядит то есть у нас есть некоторые наш переписанной модуль подработки пакетов у нас есть доступ от виртуальной машине через него к виртуальному мы можем конфигурировать управлять эти на виртуальном коммутаторы с помощью технологии то что вас топ аирфлоу isdn и прочих то что мы получаем это по пересылке графика с одного борта на апорт с помощью для биде кейт причем это еще старый этих детей которые пол годовалой давности а мы можем обрабатывать то есть это это максимум теоретический максимум это 15 миллионов пакетом 14 8 миллионов пакет который мы могли бы обработать это число которое может обработать с вич или любое другое приложение которая запущена ведре если вы запускаете что-то everspace это даже меньше то 03 соответственно с помощью тебе детей вы можете именно того diptyque может обработать 5 миллионов пакетах секунды а что на средних пакетов уже достигает . где вы можете обработать весь максимальный трафик или 200 где вид это тоже самым мегабитах то есть теперь у нас есть теоретический максимум 10 мегабит махать таки где-то нас реального размера пакетов могу получить доступ а здесь указано то как вы можете обрабатывать что-то на виртуальной машине с какой скорости эти все режимы которые перечислил через shared memory вот то что я говорил самый быстрый режим он позволяет вам обрабатывать это 5 миллионов пакетов в секунду то же самое мегалитах таким образом это с теоретической технической точки зрения книжки часть карты на этом закончен идея в том что как можно получить высокий доступ к виртуальной машине от виртуальной машине к сетевому трафику как можно быстро обрабатывать сетевой трафик дальше уже возникает вопрос регистрации всех этих виртуальных машин перекидывания кс-1 с одного сервера на другой балансировка между ними важно что 9 кейт corby ни одна технологий для каждого любишь то есть она принципе никогда просто широко распространенной есть более не проприетарной технологии называется на cmos она у как раз 2 3 bsd собственно должна появился раньше это потом уже apple решил что давайте попробуем то же самое сделать для наших серверов с учетом аппаратура вот здесь например пример о том как люди делают то же самое с помощью мне тоже со мной папе реализовали услуг скоростного 1 от как бы замена а не замена конкурентом kings здесь пример все тоже вся та же самая суть которая говорил прямой доступ к драйверу карточки альтернативности вой стек который напрямую отрабатывает пакеты кто это почти только части пакета есть свой пир приторность и стоит машина и уже который балансирует по играм к обработке трафика соответственно причем это над матка это не тебе дикий люди говорят о том что ну вот как видите то есть нижние две линии тайминг слыша это вот этот сын storm то есть он примерно на мелких степи запросах он где-то в 10 раз больше 10 раз быстрее то же самое по задержке по задержке не тоже самое но на таких-то на среднего размера пакета больших пакетах с задержка вырастает ой задержку мешается они даже так презентовали мне свою работу летом они из на антигуа богом создали эта платформа по краудфандингу когда в каждый может туда обогнул то есть участвовать запасе какие-то деньги профинансируют это деньги в этот проект а соответственно не собирали но небольшой сумка 10000 долларов в итоге они и собрали срок даже больше и сейчас не представил себя как высоко а высокая плану то есть платформа клауд для размещения облаков о для размещения для размещения серверов по степи сидоров ну то есть в открытом доступе там даже есть какой-то демов по сейчас что еще как еще есть примеры где-то технология можно применимо для в холодильник одна из тех одна из групп приложений которые для нас интересно это те где мы можем обеспечить где нам нужно не сказать задержку несколько латентность на обработку каждого пакета одного из тех что нам интересны это с чем имеем сейчас с чем работает это без рекламная биржа где нам нужно быстро принимать решения быстро там ставить ставки прикид решений другой в другой проект с командой great game это и memory базы данных и возможность быстрого доступа то есть это распределенной базы данных нужно быстро пакет пакет с при синхронизации доставить в быстрого рода оставить в оперативную память но есть еще другие возможности пакетами сервисы некоторых многих для же сидим провайдеров их не не удовлетворяет текущие возможности стандартных окон сложных блокировщик нагрузки либо они там про клитор никак кемпа дорогие либо это певец которые очень опять-таки как уже видели может работать по максимуму 5000 пакеты в секундах 3 ст 300 тысяч пакетов секунду при этом количество новых сессия это меньше с помощью таких вот средств ваших страстно обработки пакетов можно достичь где-то блокировки по степи да то есть 4 по 7 со скоростью 1 1 миллиона соединение в секунду а дальше было заявлено о том что я расскажу как это все принципе тестировался оператора то есть эта история о том как в принципе все в россии не то есть в россии все что новая как бы не очень хорошо то есть люди привыкли к чему-то старому поэтому гораздо выгоднее купить какую-нибудь cisco потому что если cisco оборудование cisco где-то отключится и какая-нибудь воркута и теряет доступ интернет и никого не накажет то что сустава заплатили много денег если вы купили какой-то там костанае решение но творилось у вас уже могут позволить поэтому за покупку чего-то дорогого учить будем праздник в общем в итоге с чем мы столкнулись когда показывали возможности этой технологии на показывали вот у вас огромные железки алкатель cisco и 5 джунипер ericsson они говорят уже давным давно работают на рынке посадить какие они большие красивые там внутри есть специальные железы нам говоришь как специальные железо которое имеет оправдывать пакет она заточена под то есть вы стоите никогда не справитесь но если походить вокруг этого оборудован уверен что внутри те же самые стандартные сервера есть ничего больше не сделаете то есть есть по приторные железки но это для постинга там пакеты для того чтобы тот пакет и пересылать но потом на другой можно без права никаких ускорители но по факту для стандарта все для стандартных какой-то обработки пакетов типа там трансляции адресов это по факту опять-таки кучи каких-то небольших серверов для процессоров которые вставлен какой-то был play то по факту ничего все слова очень не говорил все тесты скорости соответственно те же самые просто за счет до чего за счет чего место получает кусоки доступ к за счет того что там очень много о таком найти вероятность землей пакетов хоккей соответственно каждая такая же лесочкой uid может обработать имен пакетных просто очень много и там хитрые дорогие был строчки уже которые проприетарных которая занимается распределением нагрузки по потере то есть первое что хотелось а эта технология показать это о том что ну в принципе тут даже не важно было не интересовало том что мы можем что-то пускать в виртуальных машин и они верили что он притонам сервере что-то можно в принципе обработать быстро что можно получить производительность сопоставим с этими железками поэтому вначале мы просто запускали программ на обычных на обычных серверах и их интересовал только цена то есть ну мы показали в том что мы на одном сервере можем обработать намного больше чем может вот это вот там где то половина этого дорогущий железки а дальше уже начались интересные вещи они уже стали интересоваться тема в принципе а что же это все-таки что-то мне врете то есть он обычно мусор те вы можете обработать чуть много пакетов и что же дальше а дальше уже начинается на что же мы до этого говорили теперь мы что-то можем работать на виртуальных машинах дальше мы что-то можем а мигрировать с одной машины другу где-то какие-то сервисы поднимать и опускать и они наносили об этом задумываться о том что хорошо у нас есть челябинск предполагается что есть 1 гигабит доступа зачем нам ставить дорогущую цирку которая там у себя работой у нас там не все равно тому плану не горит 110 гривен за чем оставить рабочую же месту которая может это будет и утилизация где там процентов 5 ну какой смысл почему я переплачивать деньги здесь же бой с учетом актуальных машины можете выделить прямо сказать то есть вы легко балансировать вы выделяете виртуальной машине 10 5 равно использовать 10 игр для обработки пакет выделяется е5 ядерно скорость 5 игр для обработки пакетов тем самым вы и причем тритона серию поставили один сервер на него запустили эту породу запустили эту программу она там самого масштабировал оси использовать все возможный ресурс кроме того из интересного возможно быстрого изменения то есть когда что то идет не так славы и администраторы реализовать российского 1 1 звонит в китайском офис там было что-то обсуждает находя конфигурация взяв опять-таки все даже если есть ошибки меняются очень быстро новая прошивка не надо там все оборудует же что-то настраивать немного все такого заключения то эволюция steel сервисов раньше это было при приторная железно сейчас после этого это перешло на запуск программ на обычных серверах обратно есть программа аппаратное решение теперь сейчас о чем говорит это виртуальное решения когда вы на виртуальной машине можете быстро обработать трафик что получаете гибкость масштабируется производительность возможность использования возможно применение для различных a lot highload решения холоп задач очень было бы как фидбэка учить те решения которые в первую очередь интересовали вас для того чтобы попробовать их ускорить спасибо буду сменой в страсти меня зовут геннадий спасибо за доклад разминая ваш слайд про 15 как бы максимум до и затем когда мы выходим на уровень виртуальной машины там вас максимум вот решение которое до 5 кей здесь да и здесь используется уже с учетом 9 кефир но получалось 5 а почему в три раза казалось бы там небольшая 5 миллионов вы говорили на максимум получалось да хотя максимум 15 почему в три раза где вот эти где теряются эти 10 еще по селу как правило теряется в самом кого ими то есть там как было то есть там есть у нас нет виртуальной машины 5 миллионов пакетов в секунду мы могли обработать поставил виртуально машину все равно 5 то есть во первых проблемы в к время второй была проблема в том что в дипе дикий на тот момент очень плохо работали хэши плохо вычислялись то есть для каждого пакета нужно было вычислить число чтобы понять куда его нужно перенаправить а сейчас уже больше десяти то есть мы уже сейчас могу вот получаем на новых серверах особенно на серверах которого так что вышли эта хаоса в котором вообще сильно оптимизированы под эти задачи мы можем обработать вообще 15 миллионов прямо вообще без каких-либо потерь до скажите каким оператором выходили вот с этими предложениями своими я могу вам наверное то есть мы это обсуждали общем решили чувство если что в кулуарах могу вам ответят это дает более общий вопрос вот не секрет что переход проприетарного железа на плоский сервера происходит следующим образом некоторые процессы которые там крутились да но чуть-чуть модернизируются с учетом того что здесь уже обычный сетевой карты и так далее и так далее и просто запускаются виртуальных машинах в то же время на сколько я понял ваш доклад чтобы при помощи этого детей а достичь максимальной производительности нужно переписывать уровень работы с сетью там насколько я понял используя специальная сетевую специальная api который де представляет вот ладно если это написано на си плюс плюс и так далее тут еще более менее понятно вот этот плеер можно переписать но не секрет что многое допустим работает на джаве и здесь java вполне себе може масштабируется путем запуска нескольких джемов внутри и балансировки нагрузки между ними и это можно делать внутри одной в ямке но как здесь быть как вот есть ли какие-нибудь рецепты как dippy детей сюда задействовать есть много проектов которые переписывают целиком сетевой стек нади то есть вы по факту то будет прозрачным для ваши живые машины кто это это делает одно направление второе направление это прям желаем переписывает спаде этот отдельно есть кастомные проекты в основном это вот ericsson так происходит и у есть в россии компания которая снегом сработает свои бы сейчас разрабатывает да да да вот у них есть такие же профи да но либо не либо кто-то из них никита есть вот где-то на этой связке я могу посмотреть я ну то есть это как бы все такие проприетарной рассылки поэтому могу посмотреть еще последний вопрос скажите вы вот я не вашего кому ходили-ходили непосредственно вот исключительно показывая свой вот этот рывок или показывали показывали еще и как бы какое-то системное решение использующая главное на член систем например опыт т.к. lego city а если если какой-то из них то какой именно и чем в eg и какой management system вы использовали для организации sdn если использовались со второй дефолт митлаг а мы нет мы входили то сейчас интересует и openstack isdn rapinfo вы все вместе то есть это то что попытался к этому пришли изначально чтобы показать люди в принципе даже не верили о том что это возможно что можно что-то быстро обрабатывать на обычных серверах то есть начала мы приходили просто показывает что мы можем на быть без привязки к вендору гендерному оборудованию производить обработку пакетов быстро этого то что то что мы пытались доказать что в принципе возможно сейчас уже есть его конспект мы сработаем сотен стеком к капусте просто любого пункта контроллер на свой который уложен на гитхабе для того чтобы там все цепочки завести вот собственно так"
}
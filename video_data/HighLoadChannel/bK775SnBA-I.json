{
  "video_id": "bK775SnBA-I",
  "channel": "HighLoadChannel",
  "title": "Уроки из проекта с коммитом 2001 года / Василий Романов (Облако Mail ru, VK)",
  "views": 4203,
  "duration": 2941,
  "published": "2024-04-17T01:10:26-07:00",
  "text": "известный евангелист голанга Возможно вы видели его курс а если не видели смотрите Вася тебе слово прием прием Все коллеги Всем здравствуйте всех раз здесь видеть расскажу сегодня про про микросервисы если кто-то смотрел доклад Данила Подольского в принципе у меня идейное продолжение А может быть у него моё Давайте пройдемся в двух словах о себе Я долго работал фрилансером повидал там всякое разное Я в почте mail.ru 2013 года уже практически 10 лет я управляю людьми с 14 года я обучали Ей 17 года возможно как раз таки про это обучение Вы знаете я в общем-то уже тертый Калач Я повидал некоторые разные не буду говорить вот про что Так ладно про сложность Обратите внимание как это рисует во всяких систем дизайн интервью как это на самом деле и про эволюцию про то как система развивается что в ней постепенно появляется со временем что появляется там достаточно много и эволюция системы это очень большая интересная штука начнем с колода почта mail.ru облаком большой старый проект камней 2001 года на самом деле я собрал с 2000 и когда люди приходят к нам они хотят рисовать на доске вот на такую архитектуру твиттера строить там стрелочки квадратики вырисовывать люди хотят писать сложные запросы прям сердечко бьется от этого все очень хотят работать отказоустойчивостью с распределенными системами хотят чтобы еще всякие разные чтобы можно было вот так вот Дотянуться до чего-то интересного в вашей системе И еще у нас есть крутые А вот труды люди писать не хотят И сейчас я попробую вам рассказать как с этим быть на что пристроить Ваше внимание Но для начала поговорим про крутые крутые мы уже писали круто писать не интересно круты нас не развивает эта грусть печаль тоска уныние не хочу писать крутые хочу писать микро сервисы я же сильно программистами нужно развиваться поэтому Давайте попробуем себя как-то поразвлечь и построить какую-то крутую микросердную архитектуру вот какой-то базу чтобы и возьмем наш скучный Монолит с крутами где ничего интересного не проходит нужно просто писать бизнес логику запрос какие-то в базу данных и начнем из него строить микросервис выделим один микросервис может быть припишем его на другом языке выделив второй микросервис тоже перепишем в на какой-нибудь другом языке и полетим И теперь у нас клёвая система там прикольно все делать прям душа радуется прям Полет фантазии но очень быстро выясняется Что для того чтобы нормально эксплуатировать микросервную архитектуру нам нужно еще строить обсировать билете там очень много интересных задач мы их все сами себе создаём и поэтому нам нужны нужен мониторинг нам нужны логи нам нужен трейсинг нам нужны алерты обязательно нужно пройти Три Квеста диск сквозь весь наш продукт не забыть нигде потерять потому что иначе весь наш распределённый трейсинг развалится и тут прекрасную Джаггер архитектуру которую мы строили всё пойдёт крахом Ну естественно это всё тянется с собой еще многие других интересных задач потому что нам нужно понять нам нужно поднять графа Но нам нужно поднять какой-нибудь стек для логов нам нужно поднять Джаггер естественно это все нужно замониторить это всё не бесплатно это все тоже нужно поднимать обменить и мониторинг графа не самой себя так же как само себя это тоже нужно сделать у нас уже много вещей разных которыми нужно позаниматься не писать эти скучные скучные грустные крутые от которых грусть тоска менеджер какие-то Еще ходят дизайны приносят рисуют Давайте развлекаться дальше нас еще столько всего интересного Пойдемте в распределенные системы сёркнут брейкер балансеры сервис mash обязательно отказ устойчивость обязательно чтобы у нас было минимум три дата-центра лучше 5 базы у нас конечно же тоже должны быть за мониторины за файловерены и все эти балансеры тоже должны быть за мониторе на зафиловины потому что вдруг если мы проводим какой-нибудь называется сети и где-то мы забыли открытие целичку то нам должен высветиться Алерт обязательно Алерт больше Telegram или там куда мы пишем эти алерты внутри у нас каким-то эсэмэски были с тех пор полный толерантность к любым приходящим смскам в любое время дня и ночи потому что Ну я привык не просыпаться от них Ну и когда мы уже построили распределенную систему всякие там пакессы рафты все такое Ну нам нужно идти дальше мы не можем останавливаться на половине мы не можем вот уходить в сторону тепло нам нужны Нам нужен Stage preprod канареечный тепло им это обязательно кубернетос потому что доктор композам уже не круто диплоиться Не говоря уже про rpm-ки кто-нибудь пробовал проект который использует Boost рпнками и там меняется версия один два вы знаете о чем я говорю вот поэтому пользуемся всеми современными штуками но не забывайте цель нужно прописывать у нас появляется безопаснее губернатор нужно мониторить ому нужно мониторить количество кодов нужно мониторить шумных соседей нужно мониторить сервис внутри Купера тоже нужно мониторить это дает нам еще шифрование внутри трафика которым тоже заниматься который у нас CPU вот естественно кластер должен быть распределенной лучше несколько кластеров чтобы ну как-то по-взрослому все было мы же Нам же нужно не круты писать потом в какой-то момент это все начинает разваливаться начинается различные пожары нам нужно писать распределенные транзакции в следующем станете Сейчас подожди у нас появляется какая-нибудь единая точка отказа который нужно заниматься у нас появляется тайм-аут и циклический тайм-ауты очень важный интересный вопрос который нужно обработать У нас вот на одну часть запроса другим что остаётся мы должны его как-то уменьшать контекстный тайм-аут и выделены таймаута В общем все это такое нам нужно позаботиться о том как делать ветра и о том чтобы у нас не было каскадных литров которые дополнительно сложит всю нашу систему нам нужно убедиться что весь нас работает что мы успешно восстанавливаемся из бэкапов причем обратить внимание реплики это не Backup кто использует реплики Хорошо хорошо коллеги спасибо потому что реплика это не Backup Если вы напишите дроп Table она дропнется на всех репликах вот всеми этими вещами нужно заниматься потом к вам приходит человек из двх с какими-то больным ходу пам И просит тебя данные я не пущу тебя в базу нет как только мы накормили наших двкшников начали через кавку писать в ходу я Вот пытался сделать как-нибудь так подставить чтобы не выглядел неприлично по отношению к слову а она мне просто Либо в одну сторону либо в другую Шла вот у нас появляется Хайфа по еще Air Flow Spark много различных других интересных систем и мы начинаем считать очень много странных разных реплик потому что бизнес у нас уже большой наконец-таки он добился от нас чего-то что бизнес хочет чего-то что бизнесу интересно и мы считаем обязательно просеками насколько вы готовы порекомендовать нашу компанию мы считаем стоимость привлечения пользователя Точнее не мы вот вот он он найдет нам что-нибудь интересное мы считаем спэнд потому что мы ставим цели нам нужно работать над вовлечением пользователем нам нас становится очень важна потому что мы хотим понимать пользователям нравится делать то что мы делаем или нет э-э Нам очень чёрный рейд отток пользователей это уже не нам интересен это уже бизнес интересен наконец-таки Мы дошли до того что не связано с крутами что делать очень интересно всяким отрядился петабайты данных или хаосы как бы странные запросы обработка всего это у нас парке еще Live tem value сколько нам пользователь приносит денег тут у меня впервые звучит слово деньги за то время пока он у нас живет ну и наконец хочется получить что-то обратно от аналитики так еще всё Ладно аналитика тоже приносит свои результаты потому что на каком-то этапе мы начинаем не просто слать данные в сторону аналитики мы еще и получаем какой-то цикл обратной связи потому что нам нужно строить абы тесты абы тесты Это не просто сделать две кнопочки это выделить аудиторию это посмотреть как эта аудитория ведет себя на гипотезу как эта гипотеза ведет себя на Большом промежутке времени на разных аудитории яхт на разных кластерах пользователей то есть Нам нужно в идеале взять не просто рандомных а более-менее похожих пользователей у которых более-менее похожий Flow работы потому что если говорить про почту есть люди которые по работе переписываются есть люди которые там просто уведомления получают это как совсем-совсем простой пример поэтому нас сразу же появляется система в которой мы говорим Да я хочу сделать тест но все аналитику все метрики все результата но еще должно читать соответственно постановки гипотезы фича флаги на Большом объеме Когда у вас уже миллионы пользователей вам уже не недостаточно просто говорить включены функционал вы хотите хотите выкатывать постепенно На пользователей это не то же самое что коноречный дипломинты когда вы весь катите это именно про включение например нового дизайна часть пользователей не на всех чтобы он еще остался это все тоже требует большой большой работы больших систем больших qps тарантулов хранила кризисов ходупов Для этого нам еще очень полезно будет различные сегрегация таргетинг нам бы хотелось пользователи возвращать поэтому Нам нужен таргетинг чтобы выстроить коммуникацию удержание и друг Давайте скидка и чувак У тебя брошенная корзина захочешь ли ты зайти в наш Stories Если кто-то когда-нибудь не пользоваться Инстаграмом Вы знаете что вам приходит просто миллион коммуникаций различных о том что кто-то пошарил там новые риэлс кто-то кого-то добавил друзья абсолютно нерелевантное к вам но чтобы вы зашли обратно в приложении и смотрели на realls Простите отвлекусь на 5 минут у меня тут много рис пришел поэтому очень важно обратная связь аналитики и самое важное вопрос который всего возникает А зачем мы всем этим занимались это один из ключевых вопросов в построении микросервисов и в играх тех на песочнице мы этим занимались потому что мы решали задачу бизнеса или потому что мы хотели себя развлечь потому что нам скучно далеко не всегда отвечаем что это задача бизнеса очень часто это делается для того чтобы просто сделать и нам самим было прикольно чтобы было были проблемы с которыми нам приходится героически сражаться если говорить про hellot и бизнес в бизнесе в больших проектах есть очень много вещей которые интересны бизнесу Много людей много фич различного функционала много обтестов результатов этих обтестов kpi на успешные успешные тесты опять-таки аналитика с результатами обратной связи есть много того Чем занимаемся мы когда там скучно не всегда не всегда поэтому еще поговорим Есть этап Когда нам придется этим заниматься но в общем и целом бизнесу это не всегда интересно потому что бизнесу как бы ну крутое как бы а бэшка и график денег и если посмотреть бизнес интересно то что приносит деньги а то что деньги не приносят для бизнеса это затраты очень важный момент очень важный момент который стоит учитывать вообще в развитии в росте В дизайне в эволюции системы когда бизнес готов пойти на эти затраты он тогда он готов пойти на увеличение темпаркет Когда нам нужно прокинуть параметр сквозь микросервисов важный момент внедрение микросервис архитектуры губернатоса многих других сложных прикольных интересных штуках которых сердце раскрывается просто и мы хотим это сразу же тащить это все не бесплатно это дает свою выгоду дает Профит от внедрения но на разных этапах жизни проекта этот Профит разный а стоимость внедрения микросервисов губернатоса оно более-менее постоянное Почему Профит от внедрения может быть ниже потому что внедрение губернатоса микросервисов до этого много других очень интересно задач про которые рассказывал на предыдущем слайде у вас увеличит затраты на эту структуру Мне кажется есть но запомните этот трафик мы с вами поговорим про точку которая в середине графика А когда же уже пора Ну и для того чтобы ответить на вопрос когда же Пора наконец заниматься всем этим прикольными штуками даже Пора наконец расти как программисты становиться сильными программистами И таскать компы на конференциях например ящики Зачем нужны микросервисы на каком этапе нужны микросервисы очень распространенная убеждение Мысль о том что микросервиса нам нужны для того чтобы масштабировать наш продукт для того чтобы масштабировать нагрузку на наш продукт это неправильно на определенном этапе да Но в основном нет Монолит прекрасно масштабируется Монолит прекрасно держит нагрузку в первую очередь микросервис это инструмент масштабирования команды Когда у вас становится уже не пять человек не 10 человек хотя бы 20 Когда Вы начинаете адвокацию руками потому что у кого-то багов коде откатили весь релиз и спринтом который она работала команда две команды три команды он идет останавливается я специально не ставил картинку на предыдущий слайд сейчас ее включил микросервисы не бесплатно увеличение сложности проекта инфраструктурного налога он не всегда вместе дальше попробуем говорить когда он вместе хорошая новость с эффекторы must Grow фабрика всегда должна расти Я очень много использую скриншоты из игры факторию 100 часов минимум Будьте осторожны Если у вас есть какая-то жизнь кроме работы факторию в целом очень хорошо отражает этапы эволюции проекта Поиграйте 100 часов и Нужно несколько раз перестраивать фабрику тогда вы поймете про что я говорю потому что очень очень похоже на то Как развивается проект вам придется перестраивать вашу систему точнее три факторить и на определенном этапе вам понадобится микросервисы для тех кто очень хочет И сейчас возможно со мной не согласен что не надо не нужно их использовать что блин берите ребят Монолит Монолит хороший у вас воздает этап Славы когда-нибудь этим занимаетесь и будете строить такие прикольные штуки Это безотходное производство Если не ошибаюсь флюорита плагин Space exploration это не пушка это фабрика элемент У меня таких три вот полностью обеспечивает меня в том числе горючим материалом и там еще пушки есть которые мне всё на Орбиту стреляют вот рано или поздно вам придется заниматься таким но есть плохие новости потому что вы можете не дожить до рефакторинга наплыва клиентов у вас не будет это участь которая постигает все стартапы И это ключевой момент вам рано или поздно придется заниматься рефакторинным системы Но это должно быть своевременным потому что если вы начнете строить микросервную архитектуры тогда когда у вас нету команды которая может там работать у вас будут проблемы Но чтобы не быть голословным если кто получал рассылку если кто-то ее помнит там где был мой доклад моих коллег и забита И откуда-то еще я не рассказывают как они перестраивают монолит и там заканчивается перестраивать Авито не уже существует не первый год там несколько тысяч разработчиков дальше будут использована их тезисах если говорить про мои примеры почта mail.ru ей уже вот уже Четвертак мы уже не просто совершеннолетние это вот самый Комет про который я говорил в этом комите заканчи уже работающая система То есть это не не начало не начало почты там первого и сишка Вот за это время за эти 23 года который прошли с этого комета мы раза четыре перестраивали Ну потому что мы начинали тогда когда в принципе понятия не было но появилось примерно в тот момент когда почта mail.ru в принципе В девяносто восьмом году появилась Мэри факторы пять раз опять-таки нам это бесконечный процесс мы всё время этим занимаемся тогда когда Мы начинали делать сторож не было SSD Мы не упирались в лимиты по и опсом на HD дисках в процессорах было два процента по одному ядру тех проблем которые у нас которые нам приходится решать сейчас их просто не существовало в принципе еще не было а если говорить про облако которым я сейчас занимаюсь у нас пошла итерация трех версий API Сначала это был первым обычный мод мотопатч Вот первый точнее внутри патча он хорошо работал но потом нагрузка росла проект становится все более популярным это было переписано на асинхронный перл но было синхронно так себе дела с наймом людей поэтому все это было переписано на галак У нас сейчас находится в работе вторая версия сторожа И еще мы переписываем наш биллинг в результате немножко стежки чуть-чуть ложечки в основном кошка кошка кошка много кошки естественно мы несколько раз много раз перестраивали наш фронт Я за то время которое я нахожусь в проекте Я насчитал пять перестроений и Возможно скоро будет еще одно что это бесконечный процесс во всех крупных компаниях рефакторе новый этап технологического развития в принципе индустрии закономерный этап так поэтому что плохого может случиться если мы вот возьмем начнем крутить микросервисы не своевременно если у нас хороший Монолит про который рассказывал Даниил в докладе рекомендую посмотреть что плохого может случиться Ну как всегда мы хотели как лучше получилось как всегда не стоит торопиться потому что не своевременное переключение на микросердную архитектуру дает нам распределенные Монолит Ну потому что потому что вот так это устроено мы увеличиваем томаркет распределенный Монолит требует нам перевыгодки всего проекта и в результате получается что мы решаем проблемы проекта а не продукта Я очень хорошо помню этот фраза Я получил студентов у которых было все микросервис ладор борт в игре профиль аватарки игры не было герой вот поэтому часто решение проблем проекта не продукт продуктов другие проблемы другие задачи он озабочен другими вещами и о проблемы проекта техно-песочница это сложность ради решения другой сложности это мы не создаем бизнес ценность и все эти проблемы Мы создали опять-таки сами себе мы сами себе создаем проблемы которые потом героически решаем если начинаем играться в тех на песочницу И вот вопрос Когда же уже наконец-таки пора где вот эта точка в центральном графике Когда вы от внедрения микросервисов или трение губернатоса начинает перевешивать затраты на внедрение всего этого такая точка есть я достаточно неплохо по возможности выделяю это когда у вас большая команда большая это значит не два человека хотя бы там от 20 которые уже внутри себя начинается организовываться в под команды Мы все знаем количество людей в подчинении 5-7 человек вот под Лиды и так далее так далее И вот команда под команда какая-то группа людей может долго и автономно работать в рамках одного домена в рамках одной предметной области допустим авторизация если допустим часть которая занимается непосредственно пешкой чтение почты и для того чтобы вам проводить изменения в вашей предметной зоне вам не нужно привыкать половину проекта вам не нужно пробрасывать чекбокс через три системы протобаф grpc свагер SQL Вы можете просто это делать внутри себя и автономно у вас более-менее устоявшийся функционал надо понимать что на ранних этапах проекта когда он еще не зарабатывает деньги когда он еще не пошел когда он не начал зарабатывать деньги у него могут быть может быть Пилот Когда вы идете в другую сторону совсем и начинаете делать что-то другое может писать на другом языке если мы будем пытаться построить архитектуры без продукта мы не будем понимать зачем это делаем и очень важный момент нам нужно понимать какую задачу мы решаем увеличивая сложность нашу нашего проекта то есть какую другую сложность мы Мы хотим нивелировать упростить решить какой сложностью мы хотим поработать внедряя ту сложность которую надо дает микросервисы и cubernets и все остальное Вот то есть вы должны понимать что мы действительно лишаем какую-то задачу бизнеса а не пытаемся развеять свою скуку внедряя прикольные новые технологии сколько есть круты писать скучно крутые все время нужно писать вся наша работа коллеги Можете уже смириться с этим я сейчас говорю про разработку состоит в описании курдов даже если это распределенные труды это все равно крутые наша цель в итоге состоит в том что мы перекладываем байтики из базы уже сончек и же сончиков база данных в этом вся суть нашей работы с этим придется смириться от этого это всегда есть всегда будет и да крутые писать скучно и если чтобы как-то бороться Обратите внимание Я сейчас говорю про проблема которая была на предыдущем слайде мы думаем какую проблему решаем вот если мы решаем проблемы нашей скуки Но желание как-то развлечься поиграться с прикольным интересными вещами мы строим техно-песочницу мы строим космолет чтобы полететь в соседнюю комнату Хотя это на самом деле обычный крут тут не нужны микросервисы тут не нужен отдельный сервис тут не нужно отдельная база данных таблица просто еще одна пешка еще один крут но счастью есть бизнес и если делать продуктовые фичи если переключить свое внимание то фокус уже будет не на том что мы делаем крутые ранее говорила бизнесу много не надо бизнесу с одной стороны много не нужно ему нужны крутые ему нужны нужно аналитика с коробкой вот эти вот прикольные штуки вот это все нужно бизнесу Но если посмотреть на историю развития индустрии бизнесу нужно все больше если раньше у нас были гостевые книги которые использовались стандартными формами там не было ни Аякса ничего две кнопочки все вам дальше уже вы работаете с человеком то постепенно постепенно сложность проектов возникает теперь нам уже нужно всплывающее окошко там довольно ли вы нами вам нужно сразу чат с оператором вам нужна информация о брошенных корзинах вам нужно логистика доставка аяксы и все тренды развития языков программирования это все было продиктовано бизнесом языке становились популярными Не потому что программисты хотели делать чего-то прикольного здесь нету хаскиля brainfo и те языки не решают проблем бизнеса но переход от написания сижавин насечки на голода чистой сишки к перлу это была революция потому что в этот момент интернет стал очень сильно очень быстро развиваться первых 90 был королем все писалось на перли и начали тоже потом эстафету поднял PHP на нем было писать еще прошло проще питон за счет своей читабельности за счет хорошей библиотеки и за счет Джанго год тоже пришел в бизнес не просто так го решает проблему увеличивающейся нагрузки и многопоточного программирования что делать это руками на насечки на плюсах это в целом достаточно больно то же самое с инструментами все cms давали нам готовый функционал чтобы сделать бизнес в быстро не писать это все с нуля чтобы у вас уже было управление пользователем вам нужно наполнить это контентом сделать свою формочку и вот все вам уже уходит вагон цемента то же самое с фреймворками в какой-то момент был на фреймворке все популярные тоже позволяют вам не заниматься самовыражением и чем еще и играться в Техно песочнице а позволяет более-менее стандартными средствами решать создавать чтобы другой человек потом это мог поддерживать бизнес очень важна поддерживаемость ваших кода потому что с вами неизвестно Что может случиться ему нужно чтобы он мог нанять другого человека и его адаптация в этом коде был бы относительно безболезненно то же самое с инструментами повторюсь люди которые пытались обновить Через рпм очки версии какие-то пакетов которые используют Hell которая одно тянет за собой другое Я пытался собрать под первым не повторяйте вот докер решил вопрос диплоя бизнес выгодно чтобы программисты не занимались к влиянием вот в этом вот всем а просто вот докер губернатос Решил проблему больших серверов нагрузки это все было бизнес проблема сейчас фактически стандарт хранения данных в больших системах кто не использует S3 1 2 3 4 кто пишет один два я тоже пишу 3 стал фактически это инструмент решения бизнес задач что бизнесу невыгодно покупать дорогие NFS стойки железо и вообще использовать облако а также паттерны проектирования System Design Вот мы сейчас здесь мы сейчас как раз на этапе систем дизайна эта штука сильно вошла в моду там кстати продается книжка на стенде Питера очень рекомендую купить система дизайн Это один из самых важных Мета навыков в современном мире я всегда показываю своим студентам эту книжку говорю ребят Если вы поймете Вот это в целом почитайте это даст положительный буст ваши карьере потому что система дизайн прокачивает навык Как это работает именно этот навык смотрят на собесах так же как алгоритмы проверяют навык не составление алгоритмов а навыки перекладывания бантиков потом вам нужно будет это когда вы будете жесционное пригласить в базу данных во время разработки бизнес это не фишечка и это сильно больше но без понимания целого которое даёт система дизайн который даёт вам понимание как всё это работает суммарно вы не сможете подняться над трудами Ваша работа все время будет заключаться в том что вы добавляете роуты добавляете поля в базу данных добавляете поля в свагер доку вы не будете делать бизнес с целью для создания бизнеса Или надо понимать как оно работает целиком Ну что нужно понимать продукт что там что там записка как вообще говоря интерфейс выглядит а если вы этого делать не сможете вы будете все время сидеть тех на песочнице и скучать и заниматься микросервисом там где это не нужно поэтому техно ориентированность техноориентированность это это не самый не то направление Куда нужно девать внимание потому что скукать непонимание какую ценность несет Ваша работа какой бизнес вэлью вы создаете это побуждает играться в песочнице Ребята давайте уже взрослеть Я понимаю что первые 40 лет в жизни мальчика самые сложные но Давайте переключать фокус внимания на что-то еще что-то дальше И что делать это переключить фокус внимания ориентированности на бизнес ориентированность это очень полезное упражнение потому что мы перестаем писать крутые Ну то есть мы как бы все время все равно их пишем даже если это распределенные труды в распределенном монолите мы не строим этот самый распределенный Монолит мы не создаем проблемы которые приходится нам решать но мы начинаем создавать бизнес ценности мы начинаем делать продукт мы начинаем решать задачи роста этого продукта Они то как бы блин тут с ретраймерами разобраться эти все придется заниматься попозже когда ты действительно будет задача бизнеса Когда у вас действительно будет пять дата-центров и вам нужно выдерживать выход двух из пяти Ну и собственно Привет Ребят я бизнес Давайте создавать бизнес ценность Давайте прекращать создавать новый роутер Давайте прекращать таблички Давайте прекращать писать микросервисы пойдем создавать бизнес ценность а потом а потом пойдем делать микросервисы решать все вот эти вот прикольные штуки с куберометрами и так далее этим придется заниматься но попозже у меня в общем-то все какие у вас есть вопросы да значит Максим Озон Вопрос такой Мы проговорили про стоимость микросервисов что есть точка Когда мы их должны начинать внедрять И вот можно вопрос про все-таки архитектуру кода и паттерны допустим бизнес ставит задачу сделать галочку там мне нравится Я могу решить эту задачу написав в одном файлике Ну нагона например инцест в базу данных могу решить эту задачу взяв стендарт layout и написав там интерфейс над интерфейсом над сервисом что в будущем позволит отдать написание кругов Ну например там людей людям вообще там без технического образования А вот если вот эта точка Когда я должен использовать какие-то паттерные там проектирования и когда я должен писать в одном файлике отдавать на завтра на утро бизнеса не стройка самолёт для того чтобы полететь соседнюю комнату смотри если твоя задача решается написанием одной строчки кода в одном месте и ты это сделаешь за день с учетом всей выкладкой надо делать так Потому что если ты будешь вместо того чтобы выполнение разовой задачи потратишь полгода на написание универсальной суперсложной системы которая позволит людям без технического бэкграунта это делать скорее всего тебе нужно будет нанимать людей сравнимость твоей квалификацией для того чтобы они могли понимать как это вся сложная система работает Просто по сути превратится в код вопрос вопрос Сколько у тебя таких чебоксов если у тебя таких баксов 150 Да можно начинать заниматься такой системой если такой чекбокс один в квартал напиши ты его руками Тогда вопрос откуда появился Ну то есть я могу его прямо вот из GTA скопировать и написать на нём эту галочку Откуда появился смотри тут хорошо заходит доклад как раз Данила Подольского который рассказывает как все-таки писать более-менее адекватные Монолит чтобы потом распилить его на микросервисы потом распилить хорошо спасибо не надо строить архитектуру радио архитектуры понимание что завтра нам нужно рефакторить поэтому Ребят давайте не будем писать говнокодить Простите пожалуйста по правде Это правильный подход делать архитектуру на тему того что завтра мне понадобится это оно не понадобится 3 потратил на это полгода вместо того чтобы что-то полезное Это неправильный подход Привет коллеги Давайте следующий вопрос Вася Спасибо за доклад Где где тут Да смотри вдогонку предыдущим вопросу А у нас же получается что классно мы поняли что звездолёты строит сегодня не надо сегодня надо построить велосипед А в какой момент нам нужно понять что нам нужно вешать не турбовинтовую тягу на наш велосипед А все-таки Начать его превращать звездолёт и велосипеды звездолёты не превращается велосипеды превращается в мотоциклы мотоциклы превращается в машины машины превращаются вот может быть после машин пойдёт какой-нибудь одна винтовой самолёт лёгкий потом будет тяжёлый самолёт После этого у нас было ракеты и затем у нас будут космолёты не за велосипедов мы должны пройти еще большой путь Как нам этот путь идти сейчас мы строим велосипеды Нам же получается все равно подумать как мы потом эти велосипеды превратим звездолёт возвращает нас снова что А все-таки надо подумать про там не послезавтра что будет через год опять начинается вот эта гонка с самим собой По поводу идеальной архитектуры Попробуй построить модульный Монолит попробуй не делать Join и внутри таблицы и в целом у тебя получится примерно та же самая микросервисная архитектура Но между сетевых запросов у тебя будет просто вызовы функции Окей валидно спасибо коллеги Следующий вопрос я вижу Вот здесь и вон там ещё один человек и вот здесь человек да да большая за доклад у меня такой вопрос появился при устройстве в какую-то компанию обычно проверяют именно технические навыки то как ты можешь что-то техническое построить вы предлагаете переориентироваться С тех задач на бизнес-задачу но при собеседовании интерьеров интересуют как ты решаешь тех задачи Вот в первую очередь и для того чтобы переключиться на бизнес получается уже нужно уметь хорошо решать тех на задачи То есть как молодому специалисту научиться их решать если нельзя ковыряться в тех на песочнице это инструмент их нужно решать в этом состоит наша работа как программистов как разработчиков аналитиков мэльщиков девопсов и садминов и так далее наш вклад в бизнес это все-таки техника но у нас должен быть правильный фокус внимания что у нас техника ради продукта а не техника радиотехники вопрос доклад не про то что надо типа забить на технику про то что надо уместно эти навыки использовать Но их же сначала нужно где-то получить так отлично идем мы получаем пишем прекрасные монолиты спагетти кот распределенные монолиты как получится то есть все равно не ломаю не ломаю ладно Не бейте тебе все равно придется заниматься всем тем же самым что я рассказывал тебе все равно придется дети микросервис архитектуры и так далее ты будешь этим заниматься на определенном этапе развития Но если там пиши круто дальше если ты упрешься команда просто будет руками толкаться нужно значит двигаться дальше то есть все должно развиваться эволюционно Правильно ли тогда я понял что для каждой задачи нужно делать минимально как это минимально необходимую сложность да Все понял Спасибо большое коллеги У нас очень много вопросов Я знаю вон там он там были люди и с удовольствием со всеми прощаюсь потом в кулуарах коллеги Давайте два вопроса еще вопросов тайминги Хорошо давайте Привет Спасибо за доклад вопрос Следующий Как вы Решаете проблемы на уровне менеджмента то есть в схеме которые написал довольно быстро будет копиться этих долг вот наступает момент когда надо все три факторить ты приходишь бизнес и говоришь Дай мне пожалуйста вот горсточку все это от рефакторе сделать Классно Как вот вы решаете вот эти ситуации что обосновать людям Дайте мне поставить вообще производственных фич на паузу и заниматься в терминах денег в терминах ценностей и так далее если мы говорим чувак вот мы все сделаем но завтра тебе завтра релизы у нас будет катиться не дважды в неделю один раз в месяц бизнес почешут почешут голову то скажет ребята Делайте что вам нужно но я хочу по-прежнему катиться два раза в неделю в терминах в терминах создание value скорости создания value бизнес очень хорошо понимает а в реальной жизни насколько хорошо это работает Насколько быстро бизнес это замечает что кажется что обычно это не так Попробуй выкатить релиз раз в месяц очень быстро заметит и очень больно заметишь коллеги Давайте заключительный вопрос вопрос связанные вещи вот я собственно говоря построена какая-то архитектура она выполняет свои минимальные вещи потом мы говорим Да мы легко там велосипед приделаем дальше мотоцикл дальше дальше если есть связанные вещи которые потом тяжело отлепить типа API для сторонних людей или там хранение данных какое-то прекрасное там переделаем велосипедного только придётся там всё хранение данных переделать не знаю миграция данных займет в три раза больше например чем переделка архитектуры вот такие вещи как предусматривать Вот наверное скорее философские Ну смотрите общий ответ ребят Ну надо иметь все-таки баланс надо понимать что там будет хотя бы завтра не нужно смотреть на что будет через месяц надо хотя бы думать что ну понимать что завтра у нас там будут проблемы Вот мы сейчас переписываем я переписывал почту на Go Ну типа Ребят я 40 собесов провел как бы чтобы одного Джуна найти после Я пошел делать курс как бы я понимаю что будет завтра Сейчас мы переписываем билинг потому что мы понимаем что Через пару лет мы просто у него уберемся мы превентивно над этим работаем но то есть как бы не нужно совсем уже так крайности доводить ситуацию Когда у нас все начинает разваливаться людей нету база данных завтра закончится Ну как бы надо немножко ориентироваться это тут как раз система дизайн Помогает очень понять А что вообще происходит А где мы куда завтрашний день смотреть надо совсем в Далекое будущее в далекую далекую Галактику Star Wars смотреть не надо коллеги Это был последний вопрос мне нужно выбрать доклад и лучший вопрос так Кто рассказывал я к сожалению не вижу за это прекрасно светящей лампы Кто спрашивал про велосипед и самолет вот тому человеку я этот да Вася Спасибо большое тебе за доклад и у нас есть еще один да и коллеги коллеги У нас есть еще один момент очень важный а именно Вась у нас для тебя есть подарочек как для докладчика"
}
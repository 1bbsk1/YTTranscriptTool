{
  "video_id": "roQ412wIDBQ",
  "channel": "HighLoadChannel",
  "title": "Реализация бессерверного бэкенда мобильного приложения на базе AWS / К.Потехин, В.Сочинский",
  "views": 767,
  "duration": 2239,
  "published": "2017-06-02T10:22:52-07:00",
  "text": "так мы готовы начать 3 доклад последний перед обедом которого все ждут и вообще сейчас поговорим о том каково это быть full stack мобильным разработчикам что для этого нужно и как теперь быть вообще full стойкам без парса и зачем нам тут может помочь им озон всем привет я василий сочинский city is done рад что вы пришли на доклад тема доклада посвящена созданию by серверного бэг-энда и я хочу начать с того что я объясню почему этот доклад оказался в epson а не в бок индия основное преимущество без серверных архитектур заключается в том что они снимают большой объем головной боли с бэк-энд разработчиков и на самом деле они снимают такой объем который позволяет говорить о пакет разработки как разработки на готовую платформу типа ios или android порог понижается настолько что любой мобильный разработчик может фактически уже делать полноценный backend и здесь можно уже говорить собственно full stack мобайл development собственно чем мы будем говорить мы начнем с того что расскажем про проблемы и тенденции в разработке викендов немножко overview истории сделаем после этого основная часть доклада будет заключаться в том что мы пройдемся по созданию мы непосредственно созданию приложения на этой архитектуре и потом расскажу расскажем про нашего опыта перехода на эту архитектуру выйдет н и ответим на ваши вопросы сейчас сложно представить мобильное приложение которое имело бы какой-то смысл без интернета и бэг-энда и как правил разработки бэкенда занимается отдельная команда разработчиков и часто это происходит не потому что мобильные разработчики не могут закончить необходимый функционал а потому что при разработке в бэг-энда возникает множество побочных задачи которые приводят к дополнительным издержкам как временным так и материальным и это является своеобразным порогом входа для этой бэк-энд разработке соответственно вот эти побочные задачи приводят к ограничениям на выбор технологией к дополнительным концерном при написании кода код должен быть масштабируемым отказоустойчивые все дела мобильные разработчики не привыкли об этом думать и это хорошо тренды которые прослеживаются последнее время как раз занимаются тем что снимают вот эту головную боль и побочные задачи с бэк-энд разработке и давайте посмотрим что мы хотим видеть вообще от как выглядит идеальный bag and для мобильного разработчика и для бизнеса с точки зрения разработки он во первых должен быть удобным для разработки то есть мы хотим делать то минимум лишних действий мы хотим чтобы он был простым в администрирование и разумеется он должен автоматически масштабироваться быть безопасным и будет классно если он еще и будет дешевым точнее говоря не то чтобы дешевым а вы будете платить только за непосредственное время выполнения вашего кода то есть за простое мы не платим эти тренды уже существуют долгое время без фирменным технологиям жилье планомерно в древности люди использовали вообще железы которые у них там дома находится ли в университетах потом начали строить дата центры в которых вы можете арендовать железа затем появились виртуальной машины когда вы арендуете уже виртуальной машиной непосредственно же резать снимает часть небольшую головной боли потом появились контейнеры когда вы уже фактически отходите этот от администрирования операционные системы и сейчас буквально полтора год назад amazon сделал значительный шаг представив сервис лямда который фактически позволяет вам просто загружать кот без вообще какого либо без какого либо контроля железо на котором он выполняется то есть завил код и код погнал пришел миллион запросы в один день система сама про масштабировать под это и это фактически та самая технология которая позволяет говорить именно в этот момент мы можем начинать говорить о разработке не не серверные разработки не бэк-энд разработке а разработки под фактически платформу такой же как android android ios я хочу еще вкратце рассказать что такое приложение возможно некоторые знают на практике любое приложение состоит из трех составляющих это функции бизнес-логика это данные и какие-то триггеры которые говорят нам о том что определенный бизнес-логику необходимо выполнить с данными ну самый простой пример это xl у вас есть данные в ячейках и есть формулы которые автоматически берут данный язычок и результат запихать какую-то другую ячейку когда вы меняете какое-то значение функция получает уведомление о том что значение изменилось и ей надо пересчитать свой результат ну и соответственно если мы можем реализовать вот три этих компонента на в рамках какой-то системы можно говорить о том что эта система позволяет заниматься полноценные разработки и такой системой первыми кто сделал возможным и серверную разработку полноценную это amazon спа за реализм вот этот сервис лямда именно именно поэтому доклад называется разработка на вас потому что в google cloud или вижу это делать пока что невозможно соответственно сейчас мы переходим непосредственно потому что мы разберем создании приложения это будет приложение для чтения блогов типы medium и я думаю многие знают медиум те кто не знает это слушал блогинга то есть там есть лента постов их можно лайкать их можно жарить можно естественно их создавать там есть система рекомендаций контента и мы постепенно пройдемся по технологиям которые будут использовать для создания на этом я передаю микрофон кириллу благодарю василий не так основой нашего приложения является персонализированная лента постов для того чтобы реализовать себя нам потребуется авторизовать пользователя после чего мы должны достать из база данных список его предпочтение того что ему нравится и после этого вернуть полученный результат клиенту с учетом этих рекомендаций для авторизации мы будем использовать обрезка огни то этот сервис полностью решает задачу аутентификации начиная от валидации credan шел с который ввел пользователь или они пришли остальной сети и заканчивая обновлением токина в подписью запросов и собственно выставлением прав доступа к системе кроме того с помощью как не то можно организовать гостевой доступ к системе причем вы можете ограничить права которыми обладают авторы за авторизованы и не авторизованные пользователи и наконец как нет а также позволяет организовать синхронизацию данных между устройствами клиента это в основном простые данные типа профиля там имя фамилию mail или настроек приложения там получается push-уведомление не получать сколько и так далее а вас лямда это как vasily сказал это ядро этого решения это платформа которая позволяет исполнять кот без выделения серверов все что вам нужно вы просто загружаете куат функция и восстанавливается триггер который будет ее вызывать a trigger может быть обычный учитель цепи запрос как это будет в нашем случае им также могут быть таймера и в данном случае получается что-то не что то это получается крон версия либо могут быть триггеры которые срабатывают в тот момент когда происходит событие в других сервисах амазона об этом мы поговорим чуть позже в настоящий момент линда поддерживает java java script и python но в целом они достаточно активно развиваются и можно ожидать что в ближайшее время будут появляться и другие языки очень важным моментом является то что администрированием пола и железо занимается amazon поэтому от вас требуется только написание бизнес-логики то что делает разработку очень похожий на разработку под мобильной платформы что вы очень хорошо должно уметь и кроме того как василий уже сказал лиам до автоматически масштабируется чем больше приходит запросов на конкретную функцию тем больше мощностей под нее выделяется и самое интересное это то что вы платите только за фактическую работу то есть моменты простоев вы не платите вообще ничего чем больше функция используется тем больше вы будете платить и это верно в обе стороны и наконец в качестве базы данных мы будем использовать дай нам тебе это облачная но эскель базы данных о которой также полностью администрировать сама зонам вы можете через web интерфейс либо создавать структуру таблиц но основные поля которые остальные будут записываться поскольку этнос гель либо можно это делать с помощью автоматизированных скриптов о том о чем я тоже чуть позже скажу дай нам тебе поддерживает триггеры то есть момент когда создается или удаляется запись вы можете вызывать опять же допустим лямда и как-то реагировать на эту ситуацию все взаимодействие с дай нам тебе осуществляется через стандартный ssd-к с которым вы работаете на мобильной платформе и там нет ничего тривиального все просто и понятно и оплата производится тоже по факту за количество операций чтения записи в секунду и за объем данных которыми вы оперируете а давайте взглянем на то что у нас получилось на первом шаге соответственно у нас есть приложении пользователь его открывает авторизуется удобным способом например через facebook а как нет у верифицировать talking который пришел от социальные сети и открывает доступ к системе а дальше запрос идет в эту функцию где производится какая-то бизнес логика и допустим мы решили получить пользователи мы делаем запрос дай нам а д б из лямда данном языке возвращает результат и соответственно там да он возвращается обратно на клиент и давайте сейчас несколько моментов посмотрим как то в коде может быть реализована в первую очередь на стороне клиента мы получаем доступ к vs я-то как раз делается через огни то и этого первый раздел там все вообще в везде реально тривиально во втором моменте мы создаем клиент для того чтобы использовать как нет sing менеджер с помощью которого мы будем обмениваться простыми данными типа емейла телефоны или имени и собственно третий пример это каким образом мы получаем информацию с datasette и каким образом мы ее туда добавляем все достаточно понятно на этом слайде небольшой пример того как уже на стороне лямда мы можем обращаться к дай нам дебит конкретно в этом случае это java script а тут две функции мы описали это создание юзера и его получение из таблицы ну вот тут как раз видно немножко этого и 5 тут что из детей смысле тут тоже все просто и понятно и наконец то каким образом мы управляем правами доступа к системе это джейсон файл мы создаем роль в амазоне который прописываем полисе и соответственно в полисе мы говорим что такой группе пользователей мы хотим дать доступ конкретно в этом случае когда и нам и забей на таблицы users и пост и у них будет права на запись получения обновления информации мы даем полный доступ на синхронизацию с как не то и даем право на то чтобы вызывать все лямбда функции ну чтобы мы могли из приложений их вызывать отлично у нас полностью готов первый шаг но есть один существенный недостаток а прежде всего это с архитектурной точки зрения заключается в том что мы делаем прямые запросик лямда функциям и это не очень хорошо архитектурно поскольку клиент строгой завязан на реализацию если мы в какой-то момент захотим использовать либо какие то другие методы либо перейти вообще на другой сервис нам будет сложно это сделать потому что ну прям до функция мы обращаемся только через из детей и второй момент это что лямда не поддерживает кэширование данных и соответственно запросы каждый раз идут в базе данных как-то обсчитывается и возвращаясь к клиенту и это работает дольше и соответственно дороже можем ли мы решить эту проблему мы можем решить прошлого осенью amazon представила сервис и перигей твой который как раз и нужна для того чтобы создать и мониторить поддерживать теперь опять gate вы поддерживает кэширование запросов соответственно они будут быстрее исполняться кроме того очень важная составляющая является то что и перигей твое умеет генерить из детей для клиентов соответственно у вас получился какой-то e5 вы там в несколько кликов в милицию с детей заливает всего на устройство это может быть с android java script и там по моему что то еще есть и у вас есть готовая уже интерфейс для работы с опушкой котором есть все аргументы которые необходимы и есть шат шаблоны ответов которые нужно просто ну использовать где это необходимо кроме того связка и перигей твой линда позволяет организовать version насти окружения и это тоже очень положительно сказывается на разработке делает ее более гибкой быстрый ну и вообще сложно представить себе в современном мире работу без окружение и version насти еще одним плюсом является то что gate в интегрированной среде амазона и соответственно также ускоряет время выполнения запросов поскольку каждый раз запрос обрабатывается ближайший edge надо использовать суде но геологически собственно геологически географически и ну все получается быстрее и самое последнее мы пока на самом деле этим не пользовались потому что мы смогли разрабатывали но вообще они недавно тоже представили поддержку качественной аутентификация если у вас есть уже готовое решение готовый продукт вы не можете его переписать с нуля или там не хотите что логично параллельно поддерживает две версии бэг-энда вы можете кама зона провязать вашу существующую схему авторизация аутентификации пользователя и без каких-либо костылей уже использовать сервис amazon и дальше давайте ещё раз взглянем на схему получается что все точно также единственно перед лямда у нас появился gateway который теперь принимает запросы и перенаправляет их уже блям да замечательно теперь первый шаг полноценных готов вторым второй составляющей нашего приложения конечно же является работа с медиаконтентом потому что ну в наше время сложно представить что ты пишешь посты ты читаешь и там нет картинок гифок для чего такого для нас также очень важно является то что мы хотим перед тем как показывать контент клиенту мы хотим его модерировать и обрабатывать для того чтобы но там отсечь какие-то плохие изображения ли что-то такое либо просто оптимизировать качество размер и так далее естественно нам важно чтобы это работало быстро и надежно потому что в противном случае это будет сильно портить x ну и юзер экспириенс приложение и для решения этой проблемы задачи мы будем использовать s3 скорее всего большинство из вас его знают это один из первых общедоступных сервисов амазона это облачное хранилище данных файлов и но основой на то что amazon делает большой упор это то что они обеспечивают там заоблачную степень надежности хранения данных на уровне 11 девяток как повелось в с3 поддерживаются триггеры таким образом допустим когда из клиента с приложение заливается новый файл например гифка мы можем вызывать лямда функцию и в этот момент допустим конвертировать гифку в mp4 для того чтобы она получилась но меньше места будет занимать и меньше оперативки потреблять и соответственно все будет работать более плавно и и также хочу сказать что в с3 поддерживается несколько классов хранилищ данных что позволяет экономить опять же на хранилище это устроено таким образом что если у вас накопились какие-то файлы которым не нужен мгновенный доступ то есть вы готовы там на допустим минутную задержку это не актуально постам на это может быть каким-то архивом вы можете настроить таким образом что эти файлы будут автоматически мигрировали в другой класс и соответственно стоимость хранения будет значительно ниже добавили s3 теперь у нас получается что пользователь создает пост загружает в него картинку она напрямую отправляется в истре но в этот момент мы дергаем лям ds3 она как-то процессе ца и при необходимости заливается обратно и мой соответственно показываем пользователи уже только но обработанный от моделированы контент хорошо опять же несколько строк которые показывают что работа с ac3 достаточно простая то есть мы получаем сначала доступ после этого загружаем файл потом его скачиваем ну и не живот приведен пример того как мы можем отслеживать прогресс этого ну ничем не отличается от большинства обычных системных операций и так мы реализовали уже практически весь функционал приложения с точки зрения клиента но нам еще важно сделать систему аналитики и рекомендации потому что это то что существенно отличает нас от конкурентов для того чтобы реализовать систему рекомендаций нам нужно анализировать активность пользователей активность мы будем анализировать посредством того что будем записывать все ивенты которые вообще в приложении происходит то есть пользователь открыл статью вызвал текст нажала лайк и подписался на какого-то человека вот все это мы хотим отправлять и сохранять я как-то анализировать причем важно что конкретно в этом случае нам не нужно онлайн соединение а то есть мы можем с небольшой задержкой это обрабатывать или например если у человека нет в этот момент подключения к серверу нам нужно закрашивать то что вам какие-то действия произвел и потом при следующем подключении их отправить нам важно чтобы канал по которым мы будем передавать данные обладал большой пропускной способностью ну потому что мы рассчитываем что есть много пользователей значит будет много событий и естественно нужно обрабатывать приходящие винты по каким либо по каким-то правилам и результатом определенных обработок может быть то что мы захотим клиенту сообщить там через email через push о том что что то произошло зайди посмотри себе может быть интересно и собственно для решения этой задачи мы будем использовать kinesis это сервис для приема и обработки потоковых данных который обладает очень высокой пропускной способностью там десятки на самом деле даже сотни тысяч записей в секунду это делать таким образом что вы создаете с 3 ustream и есть in point него подписывается приложение и соответственно но в него пушат какие-то данные если нет интернета это все делается через детей amazon если нет интернета а то соответственно данные локально кэшируется как только подключение появляется они тут же все скопом отправляются на в kinesis но и сейчас у них есть пометка о том когда они были созданы поэтому вы можете все равно не теряя очереди событиях обрабатывать чем больше у вас нагрузка тем больше шансов нужно под этот стрим но платите вы опять же только за реальное количество шагов то есть если нагрузка совсем небольшая вы не будете платить как за полноценный там какой-то сервер для уведомлений мы будем использовать снс ответ на самом деле абсолютно обычный сервис то есть он позволяет отправлять push-уведомления и mail и в пхукет если вы работаете со штатами он так же умеет отправлять смс-ки на их местные номера с помощью него можно отправлять как на конкретное устройство так на группы пользователей сообщения для этого нужно просто создать топик на который подписываем этих пользователей и соответственно как только мы в него что-то пушем это сообщение сразу рассылается всем подписанным на топе к юзерам и наконец в нем есть какая ожидаемая анализ и к о том какие сообщения отправлены какие открыты какие не открыты и это достаточно удобно при анализе компании есть вы допустим делается там как-то связано с маркетингом ok давайте посмотрим что у нас в итоге получилось как я уже сказал ивенты отправляются допустим пользователь нажал ему понравилась статья у ножа лайк мы отправили это в kinesis kinesis перенаправил иван сразу климта причем можно делать так что вы сразу несколько листов создается и соответственно у вас один грубо говоря он не выполняет никакой логики он просто сохраняет ивент в таблицу жду чтобы потом что от могли с ним сделать и отправляет его в какую-то стороннюю систему аналитики там next in all что-нибудь такого плана а второй он уже занимается более серьезным процессингом то есть он смотрит что сын пришел анализирует контекст в котором он пришел и соответственно может там либо отправить push-уведомления либо может быть обновить при компьютер view для ленты постов ну тут собственно вы ничем не ограничены ну и соответственно если нужно отправить push-уведомления мы просто дергаем снс и она отправляет его на устройство или на email как будет указано что у нас в итоге получилось что мы сделали все составляющие нашего приложения без выделения единого сервера и ну funk soul при этом абсолютно никак не пострадал цели достигнуты очень хорошо но давайте все-таки пройдемся является ли этот бренд удобно для разработки да потому что он действительно очень сильно похож на разработку под мобильные платформы он очень простой в администрировании потому что администрирование практически никакого нет то есть вам все равно нужно думать о безопасности кода естественно но вы отсекаете целый инфраструктурный пласт большой и все что связанно с по потому что это решает amazon ну а им можно точно доверять он быстро масштабируется потому что практически все сервисы масштабируется автоматически там где нет ну этого из коробки масштабирование сводится к тому что вы просто заходите в админку и там увеличивается количество допустим операции чтения записи в секунд в данном гибель хотя даже это можно решить он надежный безопасный опять же в основном из за того что вы сосредоточенной на коде а все остальные вопросы за вас решаются и он дешевый особенно на начальных этапах проекта backend вообще может на самом деле ничего не стоит потому что amazon есть там 12 месяцев типа триал и ну если у вас не очень большая разработкой с не очень большое приложение но будет в год вообще без по существовать дальше пока будут нагрузки расти стоимость будет увеличиваться но все равно она будет ощутимо ниже в большинстве случаев есть кейсы когда это не совсем так чем поддержка своего полноценного там все ровно ваканда круто и еще пару моментов которые хотел сказать на самом деле тоже больше переход к митапа просто я набросаю то мы можем более подробно пообщаться я сейчас рассказал о том как ну в целом реализовать бизнес-логику на помимо этого но есть несколько вещей которые же такие чисто технически например как можно вести логи и мониторинг вот всего того чтобы написали для этого amazon есть тоже сервис cloudwatch на самом деле вот все было бы хорошо если бы не cloudwatch потому что с ним сложно работать и но он как-то срамота общается но все равно для некоторых вещей его очень удобно использовать потом как я говорил допустим данном тебе нужно руками прописывать количество операций чтения записи в секунду иногда можно не успеть и там тогда будут противиться запрос и нам это не интересно поэтому мы написали ну такой небольшой плагин который позволяет автоматически отслеживать нагрузки и прямо вверх вниз поднимать пропускную способность как то необходимо кроме того есть замечательный фреймворка сервис который называется суть которого в том что он весь процесс разработки очень удобно организует с вместо того чтобы атомарного автономно писателям до функцию потом создавать дай нам а д б потом создавать on point в гаити пояс это вот он все позволяет делать это намного быстрее из консоли и сокрушить с окружением и тоже работать в общем с того момента как мы перешли на этот фреймворк очень и качественной и по скорости улучшилась разработка но об этом долго рассказывать поэтому это тоже нам этапе и наконец клауд formats in the service который позволяет создавать вообще управлять инфраструктурой вашей с помощью шаблонов то есть вместо того чтобы там ну допустим он причем ко всему amazon даже если у вас есть инстансы вы можете их там не руками подниматься вот делать это через это но точно так же это актуальный для дай нам деби функции для стримов в генезисе поэтому его использование тоже как бы значительно качественно улучшает подход проекту ну и дальше на шею василия чтобы он завершил спасибо спасибо кирилл из этого вышло новое приложение up and в январе и она полностью построена на фреймворке который мы сейчас описывали то есть мы сделали полностью без серверный backend мы отказались от системных администраторов будто что они просто становятся не нужны потому что разработчики могут делать все необходимые администрирования и поддержку экономя на инфраструктуре у нас сейчас 60 процентов но мы еще видим где-то можно под оптимизировать и во многих других случаях это будет намного больше мы начали быстрее разрабатывать потому что исчезли обращения там где образом типу измените нам конфигурацию пожгли save что такое это все делают сами разработчики а тем не менее для некоторых задач сервера все же подходит больше то есть какой-то машин лирник вы на линде не будете запускать но генерить но использовать какой-нибудь при компьютер view являемся очень удобно соответственно к этому всему мы пришли не сразу мы на самом деле мы у нас сейчас есть браузерное расширение приложение up paint и даже с ботами мы что-то делали на этом примем варки началось все с того что мы решили а что если использовать вот эти сервисы мы начали с динамо деби когда разрабатывали расширение нам понравилось мы начали смотреть какие у них еще и сервисы потом поняли что вот эта комбинация лямда дай нам а д б и kinesis позволяет ну она выглядит как достаточно полноценный фреймворк мы эту гипотезу проверили получилось что действительно на нем можно сделать все эти три главные компоненты бизнес-логика база данных и триггера мы успешно это сделали в расширение и решили что будем делать приложению это был эксперимент но он оказался удачным и на самом деле мы очень рады потому что мы не знаем что это так хорошо вернется на самом деле вот в терминах майнце то и подхода к разработке нам естественно пришлось пройти через некий период переходный период но потому что когда мы когда ты начинаешь работать с брендом как с платформой у тебя появляются какие-то ограничения которым ты не привык что ты там не можешь произвольно выбрать базу данных которые ты хочешь использовать но в итоге мы считаем что это хороший переход потому что он позволил нам сфокусироваться на том что приносит нам собственно деньги это сам продукт то есть мы сейчас гораздо меньше времени тратим на побочные задачи и фокусируемся на продукте принимая некоторые ограничения которое дает платформы я думаю это все спасибо мы готовы есть у нас есть время ответить на ваши вопросы и от спасибо за доклад а вот мне два вопроса первое это когда вы выбирали с вот как серное решение вообще закладывались нарезки что говорится в самом там может возможно придется съехать там как instagram допустим недавно и вообще насколько это то есть понятно что это будет очень сложно вот а второе это вот там есть закон о защите персональных данных там в россии что нужно российских серверах и очень хорошо знает тему но есть какие то опасения по поводу такого но серверов россии нет первый вопрос очень хороший второй не очень первый вопрос про то что если что-то случится с амазона ну тут тут тут можно достаточно долго спорить но если реалистично оценивает то срок жизни амазона предполагаемую намного больше чем срок жизни многих стартапов но это реалистично потому что ну вот шумный от flex допустим полностью абсолютно полностью то есть они там недавно была громкая статья что netflix отказался от последнего своего дата-центра то есть насколько надежна и звучит платформа на который крутится netflix куча рекламных сеток сам amazon да кстати т.е. сам озон это главное главный заказчик amazon web services то есть я думаю и никакая реалистичная оценка не скажет вам что это не надежно но теоретически можно поболтать на тему как какой-то степени он решает эту проблему ночь она он в основном использую с конечно не для того чтобы сделать себе такой fall back но в крайнем случае если что-то случится то там ну kinesis мы правда лишаемся но apes к вся будет рабочий единственное и придется то есть поскольку мы допустим на на джесс в основном все пишем то можно будет поднять сервер и на него загрузить все эти функции они будут работать адекватно с генезисом ну то есть это не такая как бы сложная вещь чтобы заменить там все в одном месте отправляется поэтому это возможно но в целом мысль василий верно в том смысле что мы скорее можем предположить что там вообще с интернетом что-то такое серьезное случится чем то что amazon в какой-то момент решит закрыть но эта часть бизнеса а по поводу персональных данных туда хороший вопрос во время презентации сказал что можно использовать триггеров дай нам себе в тот момент когда что-то приходит но соответственно можно просто записывать на какой-то ну напрямую в базу данных или через какую-то фишку на сервера который находится в россии но конкретно мы пока то есть у нас нет таких персон то есть все что мы храним от в основном данные об авторизации на это не является персональными данными там ключ от фейсбука что такого плана так что конкретно сейчас мы с этим не сталкивались но в целом это точно можно решить другое про что тогда придется какие-то компромиссы находить вот но мы к счастью пока с этим не столкнулись могу дополнить что амазона в каждом регионе в котором они присутствуют несколько дата-центров и они полностью засекречены здравствуйте спасибо за доклад есть два вопроса то есть по стоимости работы то есть как стоимость падает на проекта с хорошей посещаемостью то есть там и 300 до 400 пользователей в день и второй вопрос ты сейчас google активно продвигает свой файл bass как они в сравнении на проектах с высокой нагруженность you это хороший вопрос супер высокой нагруженности мы не знаем но я думаю если у вас очень нагруженный проект то вам имеет смысл общаться уже с amazon нам напрямую потому что для netflix а например они сильно снижают цены для are being я не очевидно снижают цены это на самом деле будет достаточно сильно зависеть от того какая логика у вас приложение то есть если много длительных вычислений это для этого линда не подойдет мы один раз как-то но когда было особое к сайту по поводу того что на все это перешли вот как раз про картинки что рассказывал мы решили там конвертнуть несколько миллионов гифок в mp4 на ганзе и соответственно загрузили туда бинарник ffm бег и сделали что из-за стриту да все пошло все can вернулась но в итоге это прилично стоило потому что как бы являемся вы платите за количество времени сколько работает функция за объемом оперативной памяти соответственно оперативки там нужно было много одно относительно в ленте от 128 до полутора гигов можно выделять то есть в целом это но для решения для работы одной функции почти всегда достаточно но в итоге это в общем там стоило несколько сотен долларов что не страшно но как бы потом мы остановили этот процесс и здесь записали тот же самый код на и сид уинстон с которой там стоит 10 долларов в месяц и там за примерно те же сроки все то же самое уже делаем на все это нормально соответственно если у вас основная работа это запрос к базе данных и получение какой-то небольшой processing это вряд ли будет стоить очень дорого при том что в данном типе в основном платите за количество чтения записи то есть хранилище там не очень много стоит но вот как раз это называется у них фрукт capacity но вы можете но это как бы по стране с обычной базы данных в каких-то случаях может быть дороже но в целом ну плюс-минус также на это можно сильно удешевить если у них есть резерв то есть вы говорите что окей я покупаю договариваюсь на год чтобы использовать дай нам а тебе и про через интерфейс делается и говорить что вот мне нужно столько capacity оплачиваете какую-то сумму вперед и потом это было дешевле вот если вы на год это будет экономия там больше 50 процентов если на три года экономии порядка 75 то есть это не какой-то индивидуальный договор это просто но любой так может делать это сильно снизит стоимость в любом случае лямда скорее всего будет точно дешевле чем инстанса если опять же она работает не по тону в среднем где-нибудь да не знаю секунды или 500 миллисекунд это оптимальное время тут вас точно вряд ли это будет дорого firebase это хороший вопрос потому что когда мы начинали делать примерно год назад fireboy за не было смотрите мое мнение здесь такое что они идут примерно к одной и той же точки но идут с разных сторон amazon идет со стороны того что у него есть полный набор отдельных сервисов из которых вы можете собрать вот фреймворке типа того что мы описали и получите такой вот в принципе готовые решения для разработки но если вам необходимы что-то кастомное сделать сто amazon и есть много сервисов которые органично впишется в эту фреймворк у fireboy за ситуация обратная они начинают как такой супер готовое решение которое буквально вот за регистре и начинаешь использовать но и и сейчас не добавляют решают функционал соответственно скорее всего в какой-то момент amazon придет к тому что он сделает там одной кнопкой deploy всех вот этих сервисов которые мы говорили а firebase сделает портфолио сервисов которые позволяют любое решение делать я думаю как то так ну всё ребят спасибо"
}
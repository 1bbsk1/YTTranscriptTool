{
  "video_id": "0A1r4OYDUHA",
  "channel": "HighLoadChannel",
  "title": "Трансляция HighLoad++ Весна 2021, 17.05, зал 8",
  "views": 494,
  "duration": 33282,
  "published": "2021-10-04T02:49:40-07:00",
  "text": "я подождите вот так хорошо сказал хорошо сказал один клик далее я не буду затягивать дома я попаду я попаду по пуду всех у вас есть этим очень удобно пользоваться не надо повертеть по графику переворачивает из точки 1 встретил пару раз обратите внимание пожалуйста у нас есть 3 и расписаний расписание в залах завод всего 8 них записываются доклада это будет следующий следующий есть расписание выставки у нас огромная выставка это тоже по-моему самое большое количество партнеров которые у нас есть за последние годы есть отдельное расписание дыма выставки где партнеры будут разыгрывать призы где вечером будет хабар награждение компания пробует награждать за лучшие блоги обещают концерт обещаю сюрприз и вечерняя программа и и вы можете посмотреть в брошюре выдается в зоне раздатки вот в конце брошюре также есть оглавление вообще брошюры такая толстенькая книжечка в которой написано много чего о докладах и в том числе как выглядит спикер чтобы подойти к нему и задать ему вопрос какой нибудь мы сделали оглавление он и имени и по секциям доклады собственно мы находимся в зале 1 и по кругу пошли зал и все доклады записываются бухгалтерия у нас получается справа от входа был выставку около 5 до так же вы можете увидеть кофе-брейк кофе-брейк у нас постоянный уже работает можно пить означать что в любое время можно прийти там будет кофе и немножечко перекусить а сейчас вот наша гордость это гибридные конференции да мы попытались сделать так чтобы перемешать online so fly нам то есть у нас здесь будут перед каждыми докладами будут онлайн вставки для нас для оффлайновых ребят а оффлайновые ребята могут прийти к нам сюда в зал почти ножками а то есть они могут задать вопрос мы его увидим мы потом после каждого доклада выходим цифровые кулуары да то есть это специально оборудованное место куда тоже можно подключиться можно подключиться из онлайна и увидеть как мы стоим вокруг докладчика задаем ему какие то вопросы вы это попробовали это выглядит очень прикольно попробуйте сами как-нибудь накрыть из наших конференций в онлайне зайти то есть ты стоишь в кулуарах ты видишь кулуары вот там камера специальная которая видит фокусироваться на том каток сейчас говорит но все это выглядит очень прикольно ты начинаешь задавать вопрос тебя в кулуарах слышат тебя слышат видят и отвечают а те кто нас смотрит онлайн это я в камеру обращаясь обратите внимание у каждого зала снизу есть две кнопки задать вопрос спикеру в эфире это значит вы попадете на экран сюда прежде чем пройдете фейс-контроль наших помощников и 2 подключиться в дискуссионную зону то есть после того как спикер закончит отвечать на вопросы на сцене он пойдет в цифровые кулуары старая дискуссионная зона и там зум конференции оффлайн онлайн сможете пообщаться онлайн ребята не стесняйтесь и теперь нашего будущего теперь так будет всегда да то есть мы это сейчас внедрили через какое-то время ты внедрят с остальные организаторы вот так теперь будет принес как научитесь использовать возможности онлайна более полноценно нас смотрит две с половиной тысячи человек на дважды рекламки три с половиной тысячи в онлайне а здесь 1900 и 2000 онлайн дальше обеды у вас в бейджик в кармашке сзади должно было быть два талончика если вдруг нет обратитесь на стойку регистрации кормим из 12 15 до 16 талончики можно менять кормим на втором этаже просто подойти к лифту мы на четвертом спуститься на два этажа вниз прямо под нами спускаетесь литвы открывается и вы в центре а импровизированную не знаю какое столом да если что на территории крокус экспо если вы хотите вдруг множество кафешек о том же втором этаже талончики с обедами можно менять время можно менять приходите на регистрацию меняйте на любой другой или в чате конференции устраивается торги обратите внимание наш хештег наш чат где можно общаться наш канал наш канал пожалуйста на него подпишитесь мы туда будем писать если вдруг что-то отменится если что-то перенесется или какие-нибудь другие организационные новости и чат и возле плееров но это больше для онлайн участников партнеры я говорила их много большое спасибо нашим партнерам и сейчас некоторых из них мы хотим пригласить на сцену чтобы они рассказали чего нас ждет мы же видели этот мини город который построен очень быстро поднимайтесь пожалуйста спасибо на самом деле на самом деле реально большое спасибо потому что мы выжили как команда как компания как конференции вообще благодаря им то что был период когда нам он никто все остановилось деятельность нам сообщает о том что ребята а теперь вы закрыты теперь у вас нет и вы ничего больше не делаете ничего не умеете и ну смысле ничего это быть никому не нужны и продавать вам ничего нельзя и только благодаря партнерам вот этим вот это это представители только друзей четверть тех кто нас поддержал за этот год поэтому им реально бесконечно благодарны какого-то смысла жизнью спасибо всем привет он настроение ребят татьяна сверкай компания select all безумно рада наконец-то видеть живых людей очень соскучились пожалуйста приходите на наш стенд давайте общаться давайте обсуждать все что было ненавидеть онлайн-площадки и обязательно участвовать в нашем квесты будут классные призы и ждем всем привет я наверное присоединюсь тоже уже сказанному очень всех оффлайне потому что от онлайна действительно очень сильно устаешь я желаю всем и каждому сегодня для себя и сегодня и завтра на самом деле знать что-то новое обязательно послушать спикеров и поиграть наверное большинство игрушек которые делают команды компании партнеров но и конечно же приходите на наш стенд тоже там тоже есть игрушки и в общем-то очень даже интересно но глобально наверное хочешь сказать что за эти два дня мне кажется 1 не побоюсь он по flying конференции за последние полтора года найдите что-то свое и унесите его домой и дальше рассказывая друзьям коллегам и обязательно посещая такие мероприятия в будущем меня все спасибо спасибо еще же доброе утро всем черно-белый тандем дует языком бей меня зовут настя сшиваю и чар директор компании комбайну моя нам привез на речь будет очень короткой и в основном опять связано со словами благодарности во-первых большое спасибо кончика за то что дали нам возможность побыть генеральным партнером такой крутой и всеми любимый конференции себя это вам спасибо за доверие в первый раз генерального партнера придумали и тут и тут вы большое вам спасибо ответственность чейни и очень было любопытные сложные что все получится безусловно большое спасибо всем нам за терпение всем вам за то что мы дождались и оффлайн невского формата за то что награждались живую конференцию живых выступили выступления ну я буду не я если благодарю нашу dream team и компании за подготовку конференции за ваши выступления горжусь вами помашу вам там на стенде и конечно же одному из выступающих тебе особенно удачи удачи всем выступающим сегодня легкой аудитории нам да друзья всем реально очень рад всех видеть в живую наконец-то и огромное спасибо программному комитету за то что отобрал больше сотни крутейших докладов не деннис тандеме едиными и конференция это не только общение это еще и самый крутейший доклады самое крутейшее спикера поэтому ходить и слушайте впитываете новые знания и уходите более лучшими самими собой ура всем привет всем привет меня зовут максим я представлюсь этим увел и у меня сразу вопросик такая кто сегодня на конференцию fly нам смог добраться нашим сервисом поднимите руки есть люди ну не очень много да спасибо вам спасибо за offline спасибо организаторам вообще что интересно city mobile ассоциируется у многих просто с такси у нас намного намного больше работаем и всевозможные интеграции делаем по мобильной доступности и по по настоящей такой городской мобильности поэтому классно что все здесь спасибо всем приходите к нам на стенд приходите пообщаться голосом поиграть рассказать про себя послушать про нас всем спасибо да всем огромное спасибо меня зовут стас образовательная платформа skillbox мы здесь для того чтобы помочь вам развить ваш личный бренд чтобы помочь собрать команду мечты и если у вас есть ваши проектов которые требуются молодые специалисты это к нам приходите на наш стенд спасибо организаторам спасибо вам всем а еще сегодня вечером skillbox наливает всем привет меня зовут алексей я представляю integrity solutions мы разрабатываем высоконагруженные сервис продукты на базе некоторые платформы о которой мы поговорим лучше на стенде с вами мы очень ждём и не будет приятно наверное большинством из вас пообщаться поговорить узнать кто вы и узнаете что вас там ждет тоже при при хождении к нам вот то что я уверен сегодня будет очень интересное для вас конференция то что отличного настроя успехов и вынести здесь как можно больше и контента который позволит вам стать лучше спасибо всем привет я повел я представляю mail.ru и представляет не только тарантул который меня на спине но еще и mail.ru клауд solutions стандартно у нас есть стенд у нас есть мелочь вы знаете что делать давайте просто послушаем классные доклады мы уже достаточно затянули и кстати первый доклад наши он будет здесь не уходите доброе утро всем верны штерна лице digital наш стенд находится перед этим выходом из этого зала перед входом в этот зал мы занимаемся ускорением изменений в командах в людях и культуре организации если вы встречаетесь своей трудовой деятельности с токсичностью с сопротивлением ригидностью со всякими такими вещами ну что жизнь то все равно продолжает идти вперед добро пожаловать к нам и нон-стоп два дня решаем поднимаем эти темы и решаем ваши кейсы всем инсайтов всем обмен энергии и новых знаний диск десант культуры на нашем в нашем технологической технологическом мире большое спасибо еще раз благодарю вас и спасибо спасибо большое ну что поехали мы рассказали о том как пользоваться конференцией и последнее что нам остается сделать это ещё раз выполнить традицию представить нашего бессменного ведущего лёша образца алексей 200 пришло время когда у нас масочки под цвет обуви немножко можете поаплодировать чуть-чуть взбодримся а сейчас я бы хотел представить нашего первого докладчика это александр сербул из компании 1с битрикс он знает все leaning и сейчас он хочет вам рассказать про язык раз что это такое почему он такой крутой по сравнивать его с разными другими языками и собственно под ваши аплодисменты александр sirbu встречайте дорогие добрый день очень соскучился по живому общению спасибо олегу бунину за такое зажигательно начала конференции ну я тоже хочу поделиться эмоциями улыбнуться и жду много вопросов все же очень буду рассказывать это опыт нашей компании это мой личный опыт это многолетняя работа с кодом чем я занимаюсь ну я занимаюсь помимо там всяких высоко на нужных проектов я пишу код хотя я менеджер давно я ежедневно пишу достаточно много кода уже на протяжении наверное больше 10 лет и много читаю и я хочу поделиться пониманием вообще где язык раст для чего вы создали стоит ли выучить я когда-то начинал в нулевых сми по разработке мне нужны были деньги я начал делать сайты я никогда не писал на плюсах хотя последние годы это мое любимое язык программирования не занимаюсь водно время на работе на плюсах у мы не пишем вот и мой доклад предназначен ребятам которые в большинстве случаев которые зашли например в разработку из через скриптинг например через питон через php через javascript in стало скучно прошло 23 года ты понимаешь что скриптинг в принципе ты уже понял что это такое то там там был там побывал и они хотят развиваться и я хочу рассказать про 1 где он вообще в этой вот всей вселенной языков и стоит ли им заниматься но чтобы это понять я начну немножко раньше я начну с предыстории важно понимать и заглянуть назад не на 10 даже лет лет на 50 и мы почувствуем потому что когда занимался расколем много лет назад мне казалось это самый сложный программирование потом после печки мозги атрофируются по моему мнению питон 3 скрипт он как бы тебя развивает три года а потом атрофируется у тебя теряется как бы ясность ума тебя все можно а вот ханский ли он тебя начинают очень сильным может как бы массировать тебе мозг так вот после того после того как я был знаком с ростом хаски оказался вообще детским детским садом то есть математика для начинающих поэтому у роста очень крутую кривая вхождение но я хочу простыми словами сеток рассказать для чего он как с ним надо значит работы и что вы можете добиться с помощью эта музыка ну то есть я считаю что все всегда можно выразить простыми словами человеческим языком за кружкой пива за чашкой кофе обнимая девушку за талию не надо никогда говорить сложно вот почитайте книги профессоров математика одной из оправе некоторыми увлекаюсь почитайте хороших книг по математике они написаны просто человеческим языком вспомните чему нас учили в институте конспекты конспекты какие толстые дедушки читаю зачистка аспект не записывай бред все все знания можно передать просто сексуально ясно я попытаюсь так передать насчет сначала мы разберемся что виза как программирование происходит сейчас это мое мнение вот и можете меня закидать помидорами но нет я вам говорю я больше десяти лет интенсивно программирую вот и 12 лет на самом деле пишу код но это моё хобби я считаю что как бы ну я родился писал код в общем чтоб что произошло чтобы понять что происходит программирование надо понять что такое математика математика это способ которым мы мыслим это творческое выражение и плюс к логические законы которые мы пытаемся найти вот в нашем мышлении то логической абсолютно наука программирование стоуна на математике и в математике все хорошо кроме того можно придумать свой язык можно придумать свою философию я считаю так что математика базируется на аксиомах мы верим что параллель убраны не пресекаются а доказать не можем математика базируется на аксиомах мы до сих пор не можем аксиоматические доказать арифметика что работает мне дальше будет эта теорема о неполноте геделя то есть он показал что даже язык mathematical дырявой таким образом в программе нам все хорошо но программирование мы видим с вами очень много подходов очень много философии то есть процедурные заки там появились там потом появились объектные языки но там скрывая сложность функциональный примерно в это же время появились и сейчас скриптинг появился лет десять уже может даже больше это все идет но в этой абстракции в которой мы живем в программировании нужно понимать что там всегда были костыли косяки даже в модели в архитектуре фон неймана по сути она не базируется все компьютеры современные у нас уже даже в ней даже мне и узкое место контроллер памяти и даже и даже программирую на самом низком уровне вы не всегда можете просчитать что у вас со скоростью где у вас кэш вы постоянно будете с виртуальной вот это адресов страниц он не будет понимать что происходит то есть сама абстракция с которым работам оно уже само по себе немножко неполноценно я почему об этом заказу потому что везде какой бы язык не взяли там какую-то будет косяк какой-то but костей которую лучше преодолевать ну поэтому в архиве фон неймана контроллер памяти вот работа процесс по мячу это касты которая сейчас тормозит развитие сейчас появляются другие там пытаются как бы зафиксировать но тем не менее как бы надо понимать что ничего страшного нет дальше машина тьюринга сучок урезанный вычислитель по сути это то в чем и своим программируем мы у нас есть память у вас есть процессом так вот машина тьюринга это бензопила которое можно отпилить себе части тела дело в том что можно писать программы но в этом случае все будет работать ну но проблема в том что у нас есть память и мы забываем то чтобы написали теорема мне получить у даля говорит о том что не только она и hold проблем в программировании в капитал создает о том что мы не можем доказать что программа работает не можем то есть баги они изначально вшиты программирования и машины тьюринга на ней можно работать можно переждать задачи но можно очень легко ошибаться и ошибки могут были фатальными ну вот я уже говорил а теперь вы гадали плоте простыми словами теорем о том что мы не можем даже арифметику доказать строго не говоря уже мы не можем писать строгий надежный код я специально бы там говорю потому что раз создан специально для того чтобы мы могли чтобы у нас количество ошибок сократилось и ханский для этого сразу то есть понимаем да что я не буду чего рассказать эту теорему почитаете но вот эта проблема что мы думаем что мы homo sapiens а на самом деле у нас проблемы с памятью девушка прошла и мы забыли откуда отвлеклись вернулись и и баку же это же сам этом заболели там или там не знаю там покурили пошли кошка пили там просто вспомнили и у нас баги в кулак попадают это хорошо что вы человек допустим аккуратно и быть вычитывать и своего я вычитаю код три раза три раза вычел и код после написания перед камином внимательно все в голове прокручиваю бывают люди два раза вычета было ни разу не учитывает и вот вы работаете с такими коллегами и вот это все попадает mouth of production и и там начинается кошмар отвечают руководители поэтому ну я представляю армен год скриптинг это печки это javascript это питон это языки в которых очень легко стартануть это языки ну в которых ну в принципе то можно их выучить по дороге на собеседовании это это не то что это плохие языки это языке создан профессионалами но эти языки подразумевают я считаю так что они подразумевают что у вас есть опыт других языках программирования вы пишете аккуратно вы не будете заниматься идиотизмом а что сейчас происходит мы видим что приходят люди прошли курсы начинают ходить а у них гуманитарный склад ума они не решают сложно они просто зачем делать просто если можно сложно это же самоубийство и вот современный код и такие кубики кубики скриптинг сайт это питон php javascript и особенно javascript вот это все но есть другая другой бы вот направление это люди которые пишут на классических языках которых кривая ухо жене выше плюс плюс это годы это java код link но можно называть и сюда это вот эти звуки а не требует что ты учился ты книжки должен прочитать у должен там несколько месяцев проектах поработать суровых они не прощают ошибок часто и вот здесь тоже мы видим что много программа же написано вопрос и так далее и вот эти вавилонские башни то есть куча людей выползти что-то пишут это уже не надо отжала spring например да да там половина выкинуть можно нет они пишут пишут пишут фреймворке вот эти фигурки опасны тем что вы то ли в них разберетесь у меня один прибор как тот же java spring и несколько лет его смотрел там когда использую но нужно очень много времени топтать а прикрыть люди берут на гитхабе is free ворда кусок вставляют и у них работы за платочек получил уволился вы потом отвечаете за эти потроха который оставил зайти страшно зависимости вавилонской башни вот и вот человечество поняло что это как бы начало происходить это 70 годы 60 и 70 и начали управлять сложностью то есть появилась инкапсуляции функции класс и попытались засунуть это все сложно и вот это вот растворение в абстракции но вопросы текут таким образом человека пыталась бороться с этим их сейчас продолжать бороться тестами было такое направление но есть сейчас давно не взлетела на мой взгляд это функциональное программирование она пытается взлететь я очень люблю ну в компаниях в нем вы найдете может быть и 103 5 может быть 3302 разработчика который вообще эти увлекаются вот хаски например он прекрасен но где вы встретите его вы встретите его где-то вот потому что во первых он требует математического мышления культуры математическую вышине во вторых на нем как программа плохо читается в отличие от бетона тем не менее вот сортировка на хаскеле может быть было написать сексуальным дальше дейкстра но ты известный ученый он подчеркивал что программирование для умных программирования с ребята мать имущества дома надо учиться надо стараться это не просто копипаст вот а сейчас тенденция такая что нас постоянно отвлекают или соцсети эти там строки для взрослых эти онлайн игры вообще игры вот мы отвлекаемся сильно и мы ошибаемся я для чего эти слайды вставил мы постоянно постоянно ошибаемся мы будем ошибаться дальше а тем более если люди хоть не хотят учиться если как бы языки программирования создаются методом борьбы корпорации друг с другом вот и сейчас например ну понятно да вот вы сами знаете вы приходите а там начинают с питоном сравнивать и говорят типа что лучше там или там жалости sharp и вы видите что эти языки они очень похожи то есть проблема кутикулы coca-cola ну это же на самом деле почти одно и то же но по вкусу бы нет же там такая религия сейчас это мы видим в технологиях и это сильно сбивает и заставляет ошибаться то есть войны фреймворков идут вот это вот вот это все идет об этом хорошо сказал хемминг femen сказал ученый известны он сказал что он хорошо сказал что до математики пытаются ученые они пытаются подниматься друг на друга старый а в компьютер сайте в нашем с вами инженером сообществе листа на эту беду на ноги там например там джалла взяли гол а ну почти тоже самое но чуть чуть поменяли там печь при питон руби и до javascript это же все дико копипаст идеи и дальше будет наверное хуже и вот я веду к росту почему он появился вот и но сейчас-то вот ну тоже в компаниях там приходите на работу вы попадаете например мин microsoft все sharp си плюс плюс возможно джалла дал чудо дэн сишарп приходит jal да какой там это soft vendor логово джалла с принтом котлин у нас же это религиозные секты ну как бы кавычках мы туда попадаем с вами или вы проходите нумизматам frontend ту я даже боюсь вы туда приходить я уважаю fronted но я я понимаю там там программистов мало или веб-разработка да и там тоже программистов настоящих мало и вот эти вот такие формируются такие в общем такие вот ну вот наслоение как бы его в итоге в общем все свободно конечно это шутка а теперь за дело теперь за дело где раз значит час его размещу значит смотрите что почему скрепим взлетел почему с девяностых пищи питон javascript сейчас они прямо прямо вот я в основном пишу пройти на питоне часть на php иногда на джаве иногда нарасти почему питон да потому что языке питон читается его можно понять открываешь и видишь не какие-то иероглифы обнажая вот так вот 23 годам а ты сидишь как у тебя в голову помещается и вот эти языки они взлетели потому что они выразительные они позволяют увидеть понять и решить задачу в пять строк и вот где-то функциональный хаскел а вот эти вода эрланге то есть они у нас есть но они не такие выразительные хотя тоже кратки уровне золото классика и вот раз я выставлю выразительным языком то есть он где-то между то есть если у вас есть background скриптинга вы можете быстро перейти на 1 потому что вы можете также вот у нас получается на нем также быстро писать как например на печке на питоне и но не совсем так ну почти с такой скоростью и при этом многофункциональна то есть много идей вот почему у роста критика жди трудно потому что помимо например программе раз много взял из функциональной например ну я прям вижу хаски там внутри я куда не посмотри вижу хаски в расти хотя они разные но вот функция на чем он взял взял лучшее и поэтому если у вас нет бы гроул и функциональные вам будет трудно но тем ни менее функциональна тоже может быть в россии поэтому раз я ставлю я оставлю туда он более выразительным плюс ну понятно 2 типов там нет null автором и так далее вырасти вещи использованы которые например вот здесь встретишь например вот без типа данных вот где они ржавик не туда вот они где то там есть совсем чуть-чуть борт поттер наводчик это мода там это уже есть то есть в язык вроде низкого уровня вырос как си плюс плюс как замена сюприз нужно при этом такие очень крутые вещи есть вот и при этом подход zero cost of trance подход сразу спортсменов лечим слать мой язык ваши баги это страуструп то есть если в си плюс плюс zero cost абстракция достигаются тем что на власть перекладывать ответственность то есть вот вам пожалуйста си плюс плюс там можно оставить себе ногу голову у вас там куча мне этого проведения определенного проблема си плюс плюс том что компилятор сделал так что потому что это было легко писать все проблемы на вас у вас нет памяти защищена вы можете не за этом разминалась не придет на проведение программ может крыться в любой момент а в россии этого нет и премьер cost of trance и вот дальше ну в общем раз очень выразительная считаю и в нем хорошим зорге макро язык именно поэтому он выразительно и упаси при сносе он сказал что вода хороший язык это язык я им занимаюсь свобода время но язык уродливый по причине того что он дырявый в нем вот ощущение что курили какую-то тяжело наркоте когда его проектировали он весь на дырках вам надо постоянно эти дырки обходить хотя он может вам защитить раз защищает вас от этих дырок оси плюс нет я не понимаю почему исторически сложилось дальше управлением по мячу как мы знаем с вами все кто не знаю там например ну вот на питоне там большие проекта делать на печке и ява скрипте этом не знаю но тут же с все сталкиваться с тем что эти языки начинают тормозить у вас запускается проект год-два-три у вас не питу javascript не буду держать нагрузку это правда я ли я вам говорю у нас компаниям и на печке делаем продукт и вот этих части переписываться со временем это но не всем но зачем переписывается конечно томасом все sharp джалла котлин но эти все языки и у них сборщик мусора сборщик мусора кастри который предложил или вот в десятилетие назад и он позволяет конечно решать проблемы у вас постоянно какой-то процесс который чистит мусор это же дурь какая-то постоянно включенный пылесос dyson свистящий понимаете вы хотите а вот а вот справа там языки спр ими управляем памятью вы управляете по мячу но если что-то сделать и не так вас просто данный просто посыпятся у вас будет мусор у вас место денег а потом уже будет клиенту и вы об этом не узнаете или какая-то дырка безопасности так вот раз он он стоит на управление памяти ближе вот прямо управлений туда он очень эффективно управлять памятью но при этом безопасную то есть это очень важно понять в 1 tiny сборщика мусора нет такой категории врасти компилятор вставляет сборку гусара когда вы пишете код в этом его вот это харизма божественно в этом была расизм роста он управлять памятью сам точнее при компиляции вставляются вот эти операции по службе памяти на мне туда постоянно процесс сборки мусора даже в голландии сборщик мусора колонки допилят это сборщик мусора лет через 20 до уровня джавы вы понимаете то есть вот это вот костылина то что сборщик мусора за собой обратить его нет и поэтому безопасный но чтобы правильно понять раз правильно пользоваться им вам придется то есть вы будете писать на нем но вам придётся поменять бог потому что впервые я дума за 50 лет язык программирования ввёл концепции которых никто не слышал владение объектами афины типу данных передача заимствовали borrowing и вот lifetime это только в россии нет можете это это было там где то до это было но вне языка с которыми мы обычно работаем такого нет и вырасти вы как бы учить и вот эти парадигмы и тогда вы можете на нем эффективно работать то есть вот это вот если вы это поняли дальше все просто как его быстро понять сейчас расскажу значит первое нельзя напрямую никогда сравню языки программирования есть язык вайбер либо это философия это язык + философия питон слабо типизированный сопли и плюс философия я снова кода чистого кода документируем авапа пеппа зим вот это вместе дает результат если просто питон нет не будет так так и везде поэтому чтоб они траст необходимо понять его философия которая уже рассказал спасибо и плюс еще сами язык а просто взять язык если вы будете вы не поймете поэтому это разные философии раз вот есть книга разбег simple я личную прошел три раза вы просто берем не знаю делюсь опытом берете решебник и начинаете решать задачки у вас как вот программера вслепую начинаете писать код пальцами не надо думать надо делать у вас запоминается спинной мозг задачки сделали сделали сделали просто очень хороший w проходишь раз звук еще есть это книги хорошо сделанные по основные возможным языка но если вам все-таки как бы их недостаточно вы хотите чего-то такого по вкусненького клубнички до роста на миг он вот эта штука это небезопасно раз она трудная и я с ходу не осилил но потом усиливаться временем в общем главное выставить непривычный для понимания вещи афины типы данных алгебры скидку данных если у вас опыт социального программирования он вам поможет вот и начинайте святого не бойтесь не бойтесь начинайте делать значит первое что понять это владение владение афины типы данных если объект отвечает за память если я его копирую другой бит я уже в этом объекте как бы ну или копирую переношу то есть другой объект отвечает за память я не могу потому объект обратиться этого нет вообще про визы к промеров текущих это только в россии ну ничего страшного тут нет вы просто привыкаете к этому и вы боретесь компилятором и все то есть вы просто привыкните правомерности это борьба с компилятором вы как бы пытались ему объяснить что вы хотите он вам говорит что это опасно и вот ну так же владение можно сделать если там разрешить специально там это делается за им сегодня это вот все плюс например страшно есть дура эта передача вот этих вот ссылок там уф semantic и так далее то можно легко ошибиться компилятор не защищает вас ничего пытать заседал дравы вот в россии сделано так что вы можете передавать данные посылке это заимствование но при этом компилятор вот внимание сейчас мы слушайте внимательно раздает абсолютную гарантию вот в вашем коде безопасности работы с памятью безопасности работы ссылками используя его у вас не будет проблем и дважды не освободить указатель но если вы используете обычный раз не менее неопасным дальше расскажу поэтому заимствование сделан специально для этого поэтому вот эта вот вся идея с эфирным типе данных и заимствованы она врасти проникает в библиотеке сама идея простая компьютер следит за видимостью объектов за тем кто владеет памятью в которой объект ну а и b если бы уже не могу затем просто не даст и вот вот это все но это как сказать это очень революционной концепции программирования вот они проникли библиотеки их засунули в сеть мьютекс и работа там эти все блокировки вы если предстали ножами например на любом языке многопоточный код вы знаете что многопоточный код может со временем начать до 2 часа и у атли и это невозможно не способов математических отследить это потому что вы сами себе ну как бы у вас такие начало и arremato дальней палате обрасти у вас такого не будет потому что он как в притоне трой вот этот вот контекста кого он вам не дает он до сделать так чтобы вы всегда освобождали при облаве ровки это важно то есть это все библиотеки папа у него проникает и но сначала кажется что сложно programmed нарасти объясняю начинайте писать код начинаете вы поймете и 10 языка еще раз основная суть этого языка компилятор умный по кассе плюс плюс он умный он вас защищает от ошибок вот то что рассказал про память это только часть он вообще сделан там например переполнением отслеживать чтобы не было в коде то есть вот эти дырки си плюс плюс ну и всякие умных убирает и ваша задача вы понимаете что у вас правильно компилятор строгий вы просто чате с ним бороться пишите как на печке как на питоне как на землю злюсь и это можно понять не надо пытаться разобраться как он работать ну просто с ним боретесь потом вы разгоняетесь то есть где то надо недели две на разгон и потом во все хорошо все хорошо все хорошо все хорошо вот но есть вещи допустим которые мне до сих пор я понимаю как они работают но они не кажутся от переувлажнения но я верю я знаю что компилятор роста он правильный он это сделал специально это математическая модель время жизни ссылок переменных но чтобы у вас там ссылка какая-то не закончилась и выдать иначе не пользовался ли это сделала и поэтому даже сюда не понятно вы гуглите смотрите и обходите то есть вот эти вещи они сложные считают сделал не очень красиво ну так как философия поменялось вы доверяете компилятору который защищает вас от всяких косяков низкого уровня вы просто бы это привыкать вот пример сложных lifetime я примерно привел в с ними столкнулись если star 1100 то есть ничего что тут нет но такое может быть если столкнетесь с этим я вам рассказал не бойтесь и так царством очень легко начнет работать ну по сути как будто вы с питоном начинайте работать и листам javascript он есть плагин для intel intel edge раз плагин скачивается среда даже для windows вообще элементарно сборка бинарник а ну как вот си плюс плюс ну только как си плюс плюс на только у вас никаких улик как все плюс такой не будет компилятор засада защищают то есть если вы хотели изучить системы язык программирования быстрый которые будут скоро си плюс плюс и который в котором не надо знать этих деталей там эти инициализации 20 видов лсд мы курим и придумают я зык программе такого вырасти нет там все строго по этому пример кода раз читаемые бинарные в комплект это бинарник без сборщика муза без сборщика мусора это как си плюс плюс бинарный код установили библиотека раз она ничего сказать она достаточно маленькая то есть люди не как в джавитом раздуваясь этом большой делать нет она маленькая но очень хочу протестировано считается что и можно доверять она не красится верим в это если каждый ученик поэтому она маленькая но тем не менее как бы она работает надежно берете используйте если вам чего-то не хватает а нам это не хватало есть крыса репозитории и кстати по опыту скажу достаточно развитой то есть мы нашли в карты всего всё что нам нужно было для проектов битриксе для правки по усыновлению это на самом деле удивительно потому что когда я programmer на джаве для меня на самом деле часто проблемы найти работающие решения на питоне я нахожу она желала его забросили или что вообще убирает и не только джалла касается вырасти живу и репозитории у таких проектов смотрите я думаю вы даете то решили регулярное выражение что клад классе когда у вас есть турчин у вас есть ну как вы прописываете проект принципе запись питоне блок для фиксации зависимости build релиз там были счастливы с оптимизации компилируете вот и обновлять эту среду ну то есть работа с проектом как будто вы пишете на питоне либо на скрипке с раз там очень удобно и вот что мне понравилось очень авто тестирование встроена в этот в этот вот улучает то есть у вас сразу сделано все что вы писали тесты коду кто пишет с ты куда поднимите руки обязательно доход половина зала теста нужно писать разрешает вам не разрешает вам вам пуфиком обязательно пишите тесты кода вы никогда не сделаете стопроцентно покрыть это очень дорого но базовые дымные тесты коды к функциям должны быть у вас всегда должен быть только кода и примерно столько же тестов это правило это правило которое позволит вам не сойти с ума в день релиза вот скриптинга это не принято почему-то фига крови в продаже это не правильно если нужно писать но по они найдут простые и возрасте они уже изначально идут они встроены вот а сколько у меня времени на доклад еще можете посмотреть сколько времени у меня пять минут в общем по поводу функции просто в расте можно делать вещи которые опасны но они как условно опасные там вот я здесь причина что но эти вещи все они тоже они как бы сказать ну они не такие опасные плюс тем не менее можно там оставить себе голову врасти это отдельная тема не буду про них рассказывать какие-то вещи какие-то гибки вы тоже можете сделать там и того пишешь как будто скриптинг у тебя на расти как на печке работает быстро by сборщика мусора очень хорошо ну канатика про ваш проект вот катенька вот у меня осталась во время да значит очень кратенько значит у нас проект мы открыли push push и набитых за 4 на устройство клиентов их там десятки тысяч клиентов можно отправлять apple можно отвлечь google уже изначально мы сделали сервер который собирал заявки на отправку пущено на мобильные телефоны у нас есть битрикс24 там сотни тысяч компаний и там несколько десятков сотен тысяч пленных праздником пойду понимаете нагрузку мы делали пушек изначально вот это был сервер и он отправлял туда туда мы собирали все заявки отправляют apple но на самом деле просто у apple есть бинарный протокол а сейчас мы перешли на шею тебе 20 просто какой-то протокол там сетевой у гугла тоже есть протокол ну другой там просторно направлять мы это все собираем в пакет в ps4 и потом кидаем на наш сервер его соединяется отправляя там секунду там тысячи десятки тысяч раз уж и в секунду летает изначально мы стартанули вот так у нас был причал . мы все кидали watch this quest amazon дальше то все портишь при и потом отправлялась но со временем это печки вы понимаете да у вас за несколько лет вот это фирма серверов выросла с одной машины там порядка 8 6 машину очень мощный было это все гудело в этой печки и мы решили все таки как бы сказать ну подойти к этому с с любовью и переписать на 1 в итоге мы писали и в итоге у нас один сервер слабо нагружено держит все что там на 6 восьмикратного мощных работал вот вам разница питон php и javascript у раз ты сам проект обычный простой та самая про писем зависимости все нашли в коров карга в библиотеке немножко покрутили немножко это для сети взяли асинхронный блокировщик утопил тоже вырасти есть вот вообще проблем никаких не было прописали зависимости вот справа код два файлика но несколько файликов с тестами тесты сразу коду написали их там несколько десятков вот в самом языке многофункционален и вкусный zero cost of trance этом итератором диапазона определился то есть от токио это сетевая библиотека для роста в ней мы видим с вами сейчас я покажу в общем первое авто библейский подав на расти это структур ки вложены друг друга очень удобно потом их разбираешь и знаешь что откуда достать вот-вот of matching это нужен для того чтобы эти структуры разбирать близкими данных об этом матче они работают связке друг другом очень это позволяет вам очень строго программировать без каких ну love i think i дури дальше ну вот поттер мальчик идёт мы берем структуру разбираем достаем какое-то поле очень много тма логического подхода потом может это вычитка можете вычислить и не вы числилось там перехватываем там обрабатываем там он rapa nui very happy например в токио реализовано вот именно так что вы цепочка пытаясь вы видите функционально пошла то есть низком уровне язык который должен за месяц плюс при этом у него кучу как заначено очень строгой вот-вот работа с сетью как будто 2 хаскеле пишите мама придет заканчиваю вот из красиво вот функция searchers фильтр да и какая долям . то есть вот эта штука зеркало структур акции она распада семьи очень эффективна как будто вы бы это писали это к очень круто и хорошо украсьте хорошего нет развитого но он и не нужен считается не нужен это потом matching адрес типа данных в принципе достаточно вот мощный калькулятор афины и типы и все и вы делаете проект вот можно было на но диджей сделать можно было нужно но надо тормозит принципе минутка мы проверяли питон понятно рассказал гауланд хороший язык интересный но потенциал очень достаточно убогий giovannetti да хорошо но нужно люди для этого хаски это сказывалось и плюс пятна вот но к сожалению последний слайд у меня к сожалению какая проблема с моста все-таки не все хотят учиться и многие скатываю смогу long glan гораздо проще и вот у нас получилось что нам расти мы делаем но многие все таки пошли и начали забота нога lange поэтому если вы будете внедрять расту себе помните что всё-таки не всем по зубам и разработчики буду стремиться все хотят учиться короче и у вас может расточительности закончить игру лангом или там java скрипте главному простой поэтому и того я вас заряжаю на то чтобы было хорошее настроение не бойтесь роста начинайте писать вот я пример dual прекрасный язык строгий быстрый как будто си плюс плюс у вас будет кода работать вы будет спать крепко решить все задачи компании вот успеха вам обнимаю спасибо вопрос пожалуйста спасибо александр получился такой очень холивар ный доклад от нас тебе спасибо подарок вот спасибо за выступление очень классно по набрасывал остальные языки вот в чатике в интернете есть люди кто обиделся за год кто обиделся запечь pick the bells я все вижу да много вопросов про архитектура фон неймана вот собственно сейчас я предлагаю поступить следующим образом у нас время чуть-чуть сдвинулось поэтому все вопросы в том числе из онлайна мы переносим наши цифровые кулуары люди в онлайне могут подключаться цифровые кулуары по кнопке рядом с player те кто сидят в зале сейчас проходите и задавайте вопросы александру а автор лучшего вопроса получат приз поэтому я надеюсь что у вас есть что задать что по дискуссировать защитить сборщик мусора в голлинга защитить джаву спросить про раз что-то следующий доклад будет в этом зале про м.л. abs подключайтесь онлайн пользователя заходите кто хочет узнать что такое мы лепс как он может улучшить ваши процессы из чего он состоит вы узнаете через буквально полчаса а сейчас я предлагаю всем пройти в кулуары александр спасибо под аплодисменты и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много вам надо бельских каждый день мы создаём что-то новое изобретая планирую действу и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где до знал о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились тех каждый день мы создаём что-то новое изобретая планирую действий и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где до знал о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много вам надо бестях каждый день мы создаём что-то новое изобретая планирую действуй и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с день это который найти одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились них каждый день мы создаём что-то новое и запрета планируем действу и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь еда которую мы едим одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились каждый день мы создаём что-то новое изобретая планируем действий и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь еда которую мы едим одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много вам надо бельских каждый день мы создаём что-то новое изобретая планирую действу и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где до знал о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь еда которую мы едим одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились каждый день мы создаём что-то новое изобретая планирует есть и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь еда которую мы идем одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились тех каждый день мы создаём что-то новое изобретая планирует действу и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились каждый день мы создаём что-то новое изобретая планирую есть и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много вам надо бельских каждый день мы создаём что-то новое изобретая планируем есть и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много помада бестях каждый день мы создаём что-то новое изобретая планирую действуй и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящим это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились каждый день мы создаём что-то новое изобретая планирует 10 и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящего это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь еда которую мы одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много вам надо бельских каждый день мы создаём что-то новое изобретая планирую действуй и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где до знал о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много понадобились каждый день мы создаём что-то новое изобретать планирую действуй и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться бог и заниматься чем-нибудь настоящему где до знал о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много вам надо бельских каждый день мы создаём что-то новое изобретая планируем действуй и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается с дети еда которую мы едим одежда которую мы носим лекарства которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как многого мы добились каждый день мы создаём что-то новое изобретая планирую действуй и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда подписать 60 можно тут даже со и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством полукруг покуда еда которую мы одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много помада бельских каждый день мы создаём что-то новое изобретая планируем есть и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь еда которую мы едим одежда которую мы носим лекарства в которые нам так необходимы сельское хозяйство обеспечивает нас всем даже удивительно как много помада бельских каждый день мы создаём что-то новое изобретая планирую действий и мне нравится быть к этому причастна ведь когда ты занимаешься чем-нибудь настоящему это всегда дедушка всегда говорил мне как важно трудиться и заниматься чем-нибудь настоящим где должна о чем говорит он был агроном и всю жизнь занимался сельским хозяйством и я продолжаю его дело все начинается здесь и до который я сашу я могу процессе она наша задача взять статистику доставить ее мест где у нас есть потребители ты говорил что-то про культуру кода в чем ваша особенность что такое используйте культура комнат в моем случае я имел ввиду именно подход я приверженец теории что не бывает ни возможных решений не бывает ни не интересных решений во втором этом можно найти какую-то составляющая которое понравится либо конкретно тебе либо в целом команде и на этом драве можно делать безумные вещи выстраивать безумные системы которые будут потом удивлять весь мир если они их рассказываю и скучно не будет никогда важно это просто понимать если идти с этой тенденции с этой этим пониманием травить людей то использованием этого все можно построить прямо гигантскую интересную систему расскажут что-то пока горит на что-то между под этим безумием под безумными не скучно вершина да без проблем одна из систем которые мы делали это аномалии то также система поиска аномалий на график тем они не новая но мы и решили для универсального виде для миллионов графику это собственно и будет темой моего доклада я буду рассказывать именно о том как какие запросы мы говорим не о самой системе а ее подходе мы ведь очень много веселились всякими научными статьями с поиском информации у нас не было изначально там большого опыта построения подобных систем но мы взяли cliff house мы взяли и реализовали на чистом михайловском ускорили нечистый ног их а у нас на этом используем реализовали нему модели предсказаний воткнули туда сотни миллионов графиков и она считается процессе ца с минимальным шагом в 10 минут и это все еще при этом не на самых больших пастора окей проект расскажу подробнее там слушай откуда вообще такое ты берешь в себе такую силу для такого подхода ну просто люди когда начинают чем дольше работать индустрии тема не давайте возьмем общеприняты давайте будем делать так как надо не давайте не будем лезть за пределы того что за что обычно не лазит мотив откуда взять себе драй чтобы делать реально не скучные безумные постоянно придумывать и изобретать но здесь есть такая знаешь фраза андрич то есть когда ты находишься на самом краю индустрии ли это не какое-то физическое положение что вот я проработал 20 лет теперь я могу ступить первые ребекки начать драйве нет это не так происходит так как тогда когда ты начинаешь падать на индастри лавал структур киты делаешь работу ты ее сделал поставил галочку без мышки я умею это делать или рассказал об этом какой-то доклад до что нового изобретена что нового продвину как продвинулась инфраструктура синтез индустрия в целом если ты просто сделал то же самое что делали люди ведь намного интереснее погрузиться во внутрь какой-то новой вещи взять что-то новое как-то по-другому повернуть под новым ракурсом сделать какие-то новые выводы используют те же самые инфраструктурные вещи о которых говорят там очень многие но повернуть и под таким углом под которым никто еще не поворачивал увидит что это работает можно немножечко где-то не без этого но результате добиться того что никто никогда не делал и благодаря тебе благодаря тому что ты привнес и рассказал о чем ты сподвигло у кого-то двину двинуться дальше расширить горизонты своего восприятия мира но сейчас узнаешь как думаю что особенно чем больше работал чем больше изучают вещей таки да все уже изобретено и все что изобретена довольно тривиально и придумано не лучшим способом да и особый улучшать никуда давайте просто этим пользоваться и не собственно можно так сказать но если взорвать возьмём ситуацию десятилетней давности начала десятых годов когда позже так все говорит но тогда не было три хауса не было кафки не было куча языков которые сейчас используются повсеместно да тогда уже тоже было все изобретено но это не так мы двигаемся мы развиваемся и когда-то в древние века люди считали компьютеры что необходимо я не помню точно фраза что по-моему 2 мегабайта оперативной памяти будет достаточно всем и люди в это верили вопрос ваша вера если вы не будете подвергать свою веру сомнения не будете критически мыслить а действительно ли все изобретено а действительно ли нельзя эту конкретную тузов улучшить или как-то повернуть неизвестным углом таким образом чтобы она начала приносить пользу еще где-то без этого да можно действительно сказать что все изобретено сложить а можем попытаться но что сейчас думаешь про индустрию вот она сейчас ты ее видишь что тебе мне кажется где надо изобретать где как слабые места чтобы ты стал понять вот даже в тех подходах который вы построили той системе который вы построили где те решения где тебя приходится идти на компромиссы такой блин здесь не круто надо здесь сделать круче вот этого не хватает этого не хватает до я понял вопрос на самом деле это абсолютно нетривиальный вопрос можно выстраивать что-то новое во всех сферах и очень многие это делают тот же самый house продолжает развиваться и они решают основную нашу боль а если уже не решили честно не могу точно сказать это звуки пир к примеру за кибер им боль у всех наши последний бой к нам приходил к вам киллер звуки берут вот потому что он немножечко разросся в память всего лишь 16 гигабайт до каждая система невозможно сделать совершенный не то совершается это только цель ему к ним можно стремиться да мы сделали мы процессе миллиона графиков но мы это не делаем бесплатно но это делаем за счет конкретно известных там ресурсов которые мы на это тратим есть узкие места которые для нас являются проблемы тоже за мысом языке про для нас эта проблема невозможно постоянно горизонтально масштабироваться соответственно рано или поздно придется дальше развивать эту штуку чтобы оно было быстрее и эффективнее поэтому нет абсолютно во всех сферах есть куда расти только для того чтобы это сделать необходимо обладать знанием и опытом в этой сфере конкретно в нашем случае да мы очень хотим избавиться в за кибера у нас практически к любой сфере при так или иначе последовало на привязан и он доставляет большую часть проблем вы уже пытались пока нет малыша но то хотя бы когда-то в этом думаешь как ты думаешь какой стороны здесь двигаться как избавляться я думаю именно менять собственное решение решение которое будет сделано у нас таким образом чтобы и покрыть задачу и меньше ушатывает закипит поскольку он нужен нам о последованном нас нет задачи сделать его идеальным нас нет задачи на него тратить и собственно съесть задача именно нашу проблему решить ее можно решить в том числе к примеру уменьшит нагрузку музыки по предыдущую идею которую мы реализовывали она это не учитывал будущее будет когда вы строили вот система про который рассказывал у вас были какие-то камни преткновения из-за чего то вы спорили чтобы сложного всего проблема да наверное вот лично для меня это было проблема ранжирование аномалий я говорю конкретно про она любит а также систему которую вы сделали для чем нужно объяснить проблему комбинаторного взрыва у нас есть примеру там график с параметрами нас есть страна оператор пользователь там и еще с десяток разных параметров каждой из них если примеру 10 параметров каждый из них по 100 то мы получаем 10 в 20 комбинации параметров и каждый из них может потенциально обладать цифры их это безумные объемы и с этим как бы ну никто работать не будет но как при условии того чтобы примеру определяется 99,9 процентов всех значений а то есть три девятки это вас немножечко немного мало но 10 в семнадцатой аномалий и вот как как найти среди них аномально естественно там есть ложноположительные естественно там есть обычная на маме естественно там есть изменение ожидаемые которые как бы попали под аномалию но это все на нас ранжировать до цифры естественно взяты с потолка никто не работает с 10 семнадцатой степени графиков потому что ну это прям очень жестко так но даже с 1000 графиков проблемы ранжирования она стоит очень ос можно сделать самый простой и понятный способ это когда вы берете и говорите что чем больше цифра в графике и реальным тем важнее номоли но в этом случае какой-нибудь интегральный график пользователей во всем мире скакнет на полтора процента вверх и вы визуально даже ну доска главное но это будет самая большая аномалия за счет того что цифра само по себе больше нежели так дела у вас какой-нибудь стране количество пользователь упала в половину там это катастрофа поэтому аномалии ладно окей будем жить дальше и вот именно эту проблему я пытался решить это было две недели когда я просто сидел с гигантским объёмом данных и просто писал запроса разными вариантами разными случаем и построил какие-то дополнительные параметры метрики из данных для того чтобы хоть как-то вытащить ну и вкратце примерно как что было за решением я получил коэффициент немножечко попугаях но коэффициент который говорил о разглядит двух графиков графика предсказание графика реальных значений используя его из используя нормализацию на общий вес графика отношения его числа к общей сумме всех графиков внутри там кого-то report и еще нескольких других коэффициентов я получил более менее функцию которая не позволит выдать цифру по которой могу сортировать эта цифра мне уже сделала что график с большим разлет am графику с большей аномалий визуально именно визуальный будет выше чем график с меньшим визуальным разъем успехов вам в работе над этим до строить систему и изобретает посему больших надеюсь вы избавитесь на звуки пера и сделать это отличное других научить и тоже будем посмотреть и так мы готовы начинать в онлайне закончился видео с инженерами сейчас я бы хотел напомнить во первых что у нас есть возможность задавать вопросы поэтому когда будет выступать докладчик запоминайте какие-то интересные темы спрашивайте после выступления автор лучшего вопроса и в офлайне и в онлайне может получить приз например мы только что отправили книжку автору лучшего вопросы из онлайна а сейчас я бы не хотела долго затягивать следующий докладчик дмитрий и в стихе расскажет вам про м.л. abs что такое мы лепс дата-центре collapse очень интересно дмитрий пожалуйста под аплодисменты встречаем эксперт по облакам devops у машины один гол и да это всяким штукам поехали да и за всяким штукам да спасибо спасибо что пришли надеюсь будет интересно вам поговорим сегодня про да это центре м эллипс и для начала начнем конечно же в целом самолет я постараюсь сильно не углубляться но по верхам пройти чтобы освежить тех кто знает и просветить тех кто не знает дальше мы начнём говорить про данные про то почему они важнее чем иногда это считается ну и под конец какие-то инструменты примеры решений но не очень много в целом докладывают более такой высокоуровневые какой философски что ли ну и для начала я хотел бы рассказать немножко о нашей компании а проекту си и почему в целом нам можно доверять в вопросах м эллипс а почему я здесь знаю о чем говорю про lectus это по-английски знать я mr fast мы профессионалы в сфере машинного обучения решения искусственного интеллекта мы rbs партнеры пример уровня с компетенцией м.л. что как бы довольно круто потому что это самый высший уровень партнерства с амазона с ну и с такой компетенции компании там по пальцам одной руки пересчитать можно у нас примерно пол тысячи сотрудников по всему миру в штатах канаде европе даже латинской америки нам больше 10 лет и работаем мы с очень разными компаниями у нас прямо широкий спектр компании поэтому есть очень такой разнообразный experience мы работаем как с маленькими стартапами где буквально там человек 10 до больших enterprise of как например пепси вот на слайде есть или я не знаю можно их назвать другие большие или нет так что можете посмотреть на слайд это наши клиенты ну с все про нас давайте про вас я бы хотел для начала микро интерактивчик такой чтобы понять кому я рассказываю и поэтому я хотел бы вас попросить поднять руки кто здесь есть там да это so in this ты аналитики есть такие отлично пять человек и наверное такая пропорция в онлайне я должна быть им или инженеры те же люди да конечно плюс еще дополнительно и отлично деле инженеры я вижу пересечении опять с предыдущими хорошо кей специалисты может быть есть есть и клей не очень много на есть ok довольстве инженеры abs привлекает давно звание и например может быть менеджера есть какие-нибудь о-о-о-о даже больше чем я ждала сейчас на окей исходя из состава я постараюсь тогда видимо побольше немного поговорить про эмо лепс и сделать понятнее фундамент доклада потому что для того чтобы понять да это центре корпуса надо понять просто и molex конечно же эллипс это такая методология разработки которая помогает решать проблемы в сфере разработки решения машинного обучения искусственного интеллекта помогает уйти от каких-то локальных решений на ноутбуке davis in this то как-то формализовать работу do it is in this time эль инженера определяет как у нас взаимодействуют различные различные специальности в этом смысле м эллипс довольно похож на devops на самом деле действительно они схожи но по факту ему лепс конечно же совсем совсем другая вещь и даже более того и блес по сути включает в себя devops но об этом я буду рассказывать надо labs конте если интересно приходить и послушаете то есть и то и другое по сути это методология разработки который описывает как у нас должны взаимодействовать различные специальности в 2 все это делаю кей админ и num2 сувениры вы малек немножко сложнее вмф это малин жене рыдает и инженеры опять-таки devops две трети so in this ты и так далее там достаточно большой спектр ну и большая разница на мой взгляд на данный момент по крайней мере что drops инженера уже выделили назначили вот есть у нас такая профессия хоть сначала и сопротивлялись утверждали нет это не профессия это методология в итоге сдались и согласились дамы доббс инженеры ладно в emulex пока что такого нет благо пока что все еще считаешь что ему лепс это процесс 2 процесс довольно прямолинейны и у нас есть кот нам его собираем мы его тепло и раз раз раз все вот вам 200 line до m black + тоже есть pipeline и но они сложнее у них больше входов то есть там не просто код и у них сложнее связи конечно же и больше участников как я говорил в ходу м эллипс они для начала давайте начнем skoda первый вход amoled это кот но уже даже начиная с кода у нас ход не совсем такой прямолинейный он разбить на кусочки как правило погас практикам в принципе в обычной разработки тоже мы можем разбить на модуле там на какие-то в этом в плане тоже схожи но у одной модели может быть несколько прям сильный изолированных компонент это код модели например описывающий как эту модель ну как она строится из чего она состоит и как ее тренировать этот код при процессинга например как нам подготовить данные перед тем как их кормить модели код им френдс а как нам получать пользу от этой модели как нам доставать из нее предсказания ну опять таки сильно углубляться в это мы не будем следующий к вход м эллипс это mlp тайм-код mlp клайна в большинстве современных оркестр отаров то есть таких платформ где мы можем как-то весь этот m-elle процесс запустить и получить из него результат артефакт наш pipeline описываются кодом ну то есть например взять купцов практически стандарт в индустрии да у нас есть питон мы пишем на питоне наш pipeline и этот pipeline потом выполняется исполняется в кубер на c или даже с maker например idps точно также питон новый код то есть у нас есть вход еще один набор кода который описывает как нам тренировать что это за артефакт и третий вход это infrastructure как и всякая и скот в целом можно сказать да у нас и здесь инфра сочилась код то есть мы в принципе вовсе везде мы все описывают возвращаюсь к вот у нас есть практика у нас все хорошо но прикол в том что вы малек даже для конкретной модели могут быть определенные зависимости в инфраструктур нам коде то есть у нас допустим к чему говорю вот если мы говорим то devops дженкинс мы описали infrastructure скотт описали грубо когда подняли дженкинс там у нас есть worker и и все пожалуйста там кто хочет pipeline и запускает кто хочет собирается все хорошо вымыли у нас сложнее у нас есть больше сущностей у нас есть больше сущность когда она связывать и у каждой модели могут быть определенной зависимости доступ и например для начала или еще какие-то сущности доступа к данным нашему четвертому входу в малек четвертый по счету но не по значению то есть вход вы малек это некая версия данных у нас есть пирсе они рваный коп есть пирсе они рваные данные и собираете 4 входа мы можем построить процесс и малек вот здесь представлена операция одна итерация molex процесса для начала что у нас есть у нас есть некий аналитик да это so in this который идет ищи данные дальше у него конечно уже есть проблема но мы не будем в этом говорить сейчас есть проблема которая он решает он идет искать данные находит оценивает и понимаю да окей вот эти данные могут нам сделать предсказание могут решить эту проблему здорово собрали сделали фичи положили там фичи stor вот у нас есть пирсе они рованный дэйтасет есть новая версия данных дальше идет разработка модели и здесь в некоторых компаниях идет такой ходов то есть это санте сделал данные и передал там млн грн инженер уже разрабатывать модель так как это ни странно так тоже бывает потому что это so in this может быть не до это so in this там а просто аналитиком например да и вот не так уж он и и крут в машинном обучении то есть дальше идет разработка модели выбор какой-нибудь при тренированной модели доработка или разработка с нуля потом когда у нас уже готовые данные и модель описано мы описываем как мы хотим обучать эту модель то есть мы говорим вот взять данные оттуда так вот их подготовить так вот тренировать и вот так может быть 2 делать inference или не делать и когда мы это описали у нас уже есть готовый вход эмаль pipeline мы экспериментируем то есть там надо будет поэкспериментировать добиться максимальной эффективности от модели оттяните гипер параметры и потом когда мы уже довольны нашей модели у нас на выходе получается некий prediction сервис то есть мы можем получать пользу от нашей модели примерно так этот pipeline может выглядеть то есть у нас есть вот эти вот 4 входа потом есть вот такая она на самом деле здесь белым квадратом до нарисованы можно представить себе такой black box компилятор то есть мы просто берем вот эти четыре входа и компилируем их и на выходе у нас получается от факт модели и может быть prediction сервис может быть неприлично сервис и кто же это делает кто этим всем занимается не так давно был вебинар такого известного в мыле среде человека эндрю и он рассказывал как раз таки про да это центре к я честно признаюсь вдохновился его названием в своем названии он рассказывал как раз таки про то как они там с данными работают и он на своем в бинаре забыл вопрос свою аудиторию такая специфичная прям домена и так сказать аудитория да это so in this ты различные малин жене он спросил кто по вашему мнению должен заниматься вот всем этим процессом и малек и по мнению большинства и в аудитории это был ты это сантис по-моему это довольно смешно если вернуться вот на этот слайд но мы не вернемся почему-то на этот слайд на предыдущем слайде вы помните на таймлайне довольно странно мне кажется представлять что двигаться in this будет заниматься не знаю интеграцией инфраструктуры как кот в этот black box или be so in this будет заниматься автоматизацией там перегонки данных но в целом этой имеет какой то смысл что имеет еще меньше смысла этого 25 процентов обратите внимание последний столбик это доменный эксперт приз представьте у вас есть проблема например перевода отлично отвалились у вас есть проблема перевода вы хотите решить там как переводить один язык в другой язык и домена эксперт у вас лингвист окей лингвист вот тебе процесс делая нам и малек окей да я буду этим заниматься теперь мы вернулись хорошо и очередной микро интерактивчик пока вы можете прочитать я попью я бы хотел попросить поднять руки тех кто согласен с утверждением что для решения моей проблемы самое ключевое это выбрать хороший удобный фреймворк чтобы мы прям таки фичу пруф у нас мы могли гибко подстраивать модель если потребуется и все такое построить правильную модель можете поднять руки пожалуйста чего нет что ли модель не важно окей на самом деле конечно я с вами согласен безусловно это так потому что начинаем ну как я уже говорил начинаем из данных и безусловно данные это самое важное в нашей и моей проблеме сейчас секция и my lips в целом как бы завершена я надеюсь у вас есть достаточно и понимание и molex процесса чтобы дальше мы говорили уже на этом базисе дальше будем говорить о данные мы поговорим про качество данных про эффект и качество данных поговорим про прозрачность данных про то как находить наши данные да и поговорим чуть-чуть о некоторых примерах инструментов решений но не очень много опять-таки последнее время буквально вот 21 год да вот прям сильный тренд наметился на осознание важности качество данных на на экране вы видите скриншот из research его опубликованного на google research собственно который назывался так очаровательно простой ней у нас они если перевести на русский все хотят заниматься моделями никто не хочет заниматься данными и в этом исследовании они говорили о том что вот если не доглядишь заданными где-то на раннем этапе вот прямо на самом самом раннем этапе там даже но определение проблемы или на разметки данных то это выстрелить может уже где-нибудь в продакшене то есть потратили кучу человеко-часов кучу ресурсов на тренировке вот прям много всего потратили и в продакшене выстрела то что вы не особо заботились там о качестве вашей разметки например ну и каждый последующий шаг в жизненном цикле разработки вот модели он имеет потенциал выстрелить где-нибудь в продакшене также вот в марте например институт стандартизации вот это читать не обязательно сразу говорю это просто так массовка инструкция радиации выпустил свою этот бюллетень спешиал едишн как раз именно про качество данных и про интеграцию этого самого качество данных в машинном обучении там целая пачка исследований опять-таки ну прямо на лицо тренд то есть все таки ах да надо же качество данных казалось бы но на самом деле это не ничего не что-то новое вообще я знаю что в среде там аналитики например прекрасно все понимают насколько важно качество у них есть даже госты про качество данных я не знаю там с лохматых времен в среде имели разработки ну примерно экране это кусочек из доклада 2016 года если не ошибаюсь сан-франциско было что-то там люди делились своими потрясающими открытиями как здорово чистить данные они сделали вот модели сначала по дефолту потом потренировали оттюнили и немножко получили небольшой плюс и а потом позаботились о данных и получили вот такенный прирост сразу же тот же андрей в своем вебинаре про ты это центре кая и он тоже рассказывают из своего опыта три примера интересных как они разрабатывали решение по обнаружении дефектов стали но там по фотографии говорить есть дефект не от дефекта вот как они на дефолтных настройках сделали всеми часть процента в точности потом пытались как-то улучшить модель меняли модель там гипер параметры все такое и у них получалось в итоге от 71 до 75 процентов точности после всех оптимизации потом они озаботились качеством данных они провели ревизию и данных прочистили все и получили 17 процентов таки бах сразу с куста просто и получили 93 процента точности что конечно потрясает воображение не так сильно как следующие два примера где они тоже делают делали ну как бы оптимизацией и со стороны модели и со стороны данных последующих двух случаях даже получалось немножечко вот в со стороны модели улучшить в солнечных панелях и инспекции поверхностей очевидно сама проблема такая непростая у них вообще в принципе такой прирост очень такой умеренный получился из нашей практики из практики пробег тут есть тоже случай который когда-то на экране наверное появится я уже переключил честно есть такой такая компания называется goccia kids они занимаются тем что разрабатывают решение позволяющие диагностировать заболевание глаз грубо когда по фотографии то есть там там вот там есть такая картинка когда-нибудь она появится фотография ребенка сфотографируют его глаза и они они как-то у них есть решение которое позволяет найти какие-то проблемы и вот мы с ними озаботились повышением эффективности этого решения после того как мы внедрили полноценный да это quality выхлоп sportline ну собственно мы там чемале успел план честно говоря построили по сути с нуля и вне прилегает околице мы получили вот такенный прирост метрик то есть тут все метрики есть что сами понимаете тоже весьма впечатляет но garbage янгиабад шоу то есть также ровно наоборот если у вас очень хорошие данные хорошо очищены качественные без боятся без всего вы конечно получите на дефолтные модели вполне неплохие результаты если у вас куча мусора вместо данных ну получите такой же результат это что про качество данных дальше по поводу прозрачности данных опять-таки небольшой микро интерактив как вы находите нужный дорсет как вы находите данные в своей компании поднимите пожалуйста руки кто спрашивает коллег просто идет тимлида спрашивает так честнее честнее давай ok кто использовать такие документацию ну то есть окей больше даже серьезной прогноз я считаю кто leaves инженере да и the pipeline по-моему тут же спрашивали с коллегой не получилось спросить у коллег пошел reverse инженере да а кто просто идет перегрев миска нет все данные которые может найти чтобы найти нужны свои ой таки есть одна узнал точно а есть такие кто используют каталог данных как белые люди неожиданно есть но очень круто на самом деле это серьезная проблема и в нашей практике мы общаемся с большим количеством команд как я говорил уже у нас очень много клиентов разного размера и большая часть вот этих вот команд жалуются на то что у них есть сложности с поиском или потом с получением доступа к этим данным данные разбросанный где попало они лежат во всяких orbeez когда-то лайках дата с вам пох где угодно лежат пищи не найдешь нашел молодец теперь попробуй понять кто их туда положил и какого они качества какой может быть их и целый да это прям редкость где в принципе начинает говорить про если на данные и вот такие команды они тратят до половины свое время не просто на поиск оценку получение доступа к данным то есть могли быть очень полезна и делают что получается и даже если есть dt каталог в компании как правило этот самый двери каталог вообще игнорируют существование машинного обучения то есть как бы есть какой-то машины обучение до каталог не в курсе он знает про две тарелки ardeo ски еще что то мы проводили исследование рынка дата каталогов потом посмотрите таблицу я думаю щас будет не очень удобно это всматриваться подсветил зелененьким да да да но так для для красоты больше то есть 10 представлены open source на или или каталоге проприетарные для или каталоги и мы исследовали их на предмет свечей просто элементарно на то что что они умеют умеют они в поиску не умеют они в линейдж или умеют ли они работать собственно сам с сущностями самое интересное что смл сущностями работают никто вообще ну просто никого нет просто это все игнорируется что делать сейчас мы потихоньку переходим к секции решений каких-то советов и немножечко поговорим по инструменты что ж давайте как в первую очередь конечно же надо тестировать данные хотите получать хороший продукт тестируйте тестируйте данные code pack pipeline и все что угодно все что можете быть до чего дотянетесь то и тестируйте хорошо очень здорово завести себе деле каталог у нас здесь большинство ну по крайне мере в аудитории без до или каталога ну это очень здорово иметь для этой каталог и конечно же думать о данных как и продукте никак от субпродукты никакая каком-то шлаки которые выплевывают настоящее приложение а настоящим самостоятельном продукте тестирование данных потому что продал я еще выпью учета голосов нет собственно на экране тот же самый дым эллипс pipeline mlp plain в которой мы говорим что нужно и мы интегрируем дельта quality чеки и обратите внимание что стрелочки идут по сути на каждый этап этого самого pipeline а вот вот с левой самая стрелочка это по сути суре данные в контексте нашего эмаль abs можем считать что это сырые данные это может быть конечно да это инженеринг pipeline который нам сбрасывает их и они уже обработанный ну можно считать схеме то есть в самом начале на самом входе мы тестируем данные что нам пришло вообще дальше мы тестируем и обмазываем метриками конкретную версию datasette а чтобы у нас было четкое понимание того на чем мы тренируемся то есть мы вот потренировали модели вот на этом дата сайте вот такие были у него показателей и так далее дальше дальше будет сюрприз и 4 стрелочка это тестирование production трафика то есть когда у нас есть некая такая модель real-time модель может быть да и у нас на вход приходят какие-то интернет запросы нам это все конечно же надо собирать и нам надо это все профилировать тестировать чтобы у нас было абсолютно четко я абсолютно чистая и полная картина того в каком мире живет наша модель небольшой такой zoom in по поводу того что где тестируется то есть я не буду сильно вдаваться в подробности по моему это достаточно говорящий слайд плюс есть пометки типа примерные инструменты которые можно использовать да вот там вот этот дядька выдает и the great expectations но про это чуть позже там ссылка тоже будет ну или стричь maker тоже предлагает целый был набор решений для тестирования данных то есть сначала тестируем на входе baci нашей тестируем проверяем выявляем аномалии какие-то дальше перси они рованный to set тестируем определяем правила для этого datasette а чему он должен соответствовать проверяем проверяем на бас конечно же нам хочется проверить добавит чтобы у нас модель который распознает лица училась не только на белых например да что очень вполне может быть проверяем какие-то статистические метрики на нашем версия не рам дасс с этим и третья колонка тут может быть такой вопрос немой да а что здесь делает модель вообще-то говоря мы говорим вроде бы прады это quality чеки до на самом деле модель само по себе это тоже by the entity во так ее можно назвать то есть эта сущность данных она может выступать как трансформатор мы можем ее рассматривать в детали energy как трансформатор дано мне приходит данные на вход данные на выход она потребитель данных продюсер данных то есть создает данные потребляет в принципе есть такой радикальный вариант даже рассматривать саму модель как данные тут у нас есть там какой-то набор весов мы можем их тоже рассматривать и можем тоже их анализировать но совсем уже радикально конечно и понятно если это да это entity и мы хотим чтобы у нас все было обмазана туалете чеками то мы должны проверять модель проверять ее боясь во лидировать проверять security и так далее ну и конечно когда мы за тепло или наше решение наш prediction сервис то нам хочется ирригация тесты и убедиться что бизнес проблема решается и очень важную трафик реплей или как раз то о чем я говорил то есть мы можем собирать трафик который приходит в нашу модель и анализировать его и таким образом очень легко иногда становится выявить почему модель performed не так как от не ожидается что в этих всех штуках проверять то есть такое опять слайд можете почитать можете не считать для тех кто скачает потом презентацию может быть полезна как наглядное пособие мы можем конечно же проверять стандартные вещи абсолютно то есть проверять дублирование пропущенные значения синтаксис форматирование семантика целостность вот такие стандартные абсолютно вещи про данные до можем делать что-то более продвинутая можем проверять распределение можем сравнивать распределение production трафика с тестовыми данными но с тренировочными данными можем проверять кучу статистических метрик и смотреть опять таки смотреть наше распределение смотреть на нашей категории и так далее можем автоматически искать аномалии по моему сегодня как раз был доклад про поиск аномалий и можем автоматически генерировать ограничение для стандартных проверок например то есть ну просто вот прогнали данные и сказали это у нас эталон этим этому а талону должны соответствовать все данные которые потом будут к нам приходить я хотел еще показать такой менее абстрактный пример мы просто такой знаете приземлить немножко вот всю эту абстрактную да это quality тему я не я не я никак не могу не не найду столько времени покрыть полностью весь и molex pipelines дети quality чеками к сожалению но вот допустим на входе вот у нас есть на входе стрим данных мы можем его вот прямо просто продублировать это кстати вот сурово ну это брикс сайта можно продублировать и анализировать данные прям вот как они заходят еще до того как они там где-нибудь собрались батарейки у нас уже есть какие-то интервальные дайте quality значение чем-то делать например я не говорю что это единственно возможные tool и это просто то что мы используем в наших в наших проектах удобненько great expectations имеет очень симпатичный интерфейс мне нравится это про дети quality другой вопрос где искать наши качественные данные то есть мы вот положили наши данные протестировали где их искать искать их надо в 3d мыши конечно же другой очередной босворт но действительно тема очень хорошая тема которая артикулирует важность данных опять-таки выделение отдельных продуктов продуктовых команд по данные очень хорошая вещь опять-таки мы и не будем рассматривать хорошо если у вас в организации есть федеративный каталог то есть вот у вас есть предположим да и today to mesh у вас есть отдельная команда отдельные каталоге команд есть федеративный каталог где эти все каталоге собраны проекту сейчас занимается такой инициативы разрабатывает об индии the discovery спецификацию которая призвана мне одни это делаем erdem в open source комьюнити с нашими клиентами это очень большая движуха на самом деле мы пытаемся унифицировать сбор метаданных то есть если вы знакомы с такой штукой как open телеметрии вот тоже самое только для данных не для метрика для данных для сбора метаданных и каким образом можно построить такую плага был архитектуру в которую можно и dd каталоге сделать федеративные и другие решения тоже по навтыкать то есть но в двух словах есть некие адаптеры как вы в каком-нибудь у про медузу например да которые собирают из data source of эксподит open data discovery complaint описку из которую можно запулить все эти метаданные и собрать дата каталоги также мы работаем над референсной имплементация discovery спецификация опыт ска апдейта каталог а называется он вот сегодня он еще не open source вот завтра наверное или через недельку на где-нибудь так он будет open source реализует спецификацию за счет того что он реализует спецификацию можно делать федерацию поддерживает м.л. сущности то есть да это линейдж уже самой сущностями и как я сказал open source и благова архитектура но как бы если вы углубитесь в пандита discovery спецификацию поймете как это плава был архитектура может работать по моему очаровательнейшая вещь вообще вот пример из нашей референсной коммутации скриншотик просто чтобы дать такое понимание м л модель то есть у нас есть эмаль модель она выступает да это концу миром также можно ее найти в трансформерах в data that из этих вряд ли но при желании и вот например какой нибудь datasette а там же и да это quality сразу же красивенько так сами это данные разрисованы и к чему я всё это вел изначально да мы говорили заголовок дата центре камаль abs что такое да это центре камаль abs да это центре к my lips это м эллипс который был построен вокруг данных мы интегрируем да это quality чеки на всем на всем протяжении нашего процесса разработки и все вот эти деле quality чеки они не просто в воздух свои данные проводят они собираются эти эти метаданные эти данные о качестве собираются в одном месте так же как и все метаданные со всех кусочков данные которые у нас проходят в pipeline и они собираются в одной бейт обзору видите платформу это вот на на английском до неком таком деле каталоге который знает все про все и может вы можете в него зайти и увидеть весь ваш м эллипс потому что у вас дети центре к молясь потому что в дельте каталоге у вас весь процесс есть ну если ничего не запомнили то я бы хотел чтобы вы отсюда вынесли вот это emulex это не роль я надеюсь мы это отстоим и это останется просто процессом качество данных решает если вы об этом не задумывались задумайтесь качество данных решает способность на эти качественные данные вашей организации решают не меньше продуктивность можно запустить x2 ну и проект us участвует в решении проблемы поиска данных подходите можете тоже подключиться к процессу это здорово спасибо за внимание сейчас будет келли вот здесь есть qr-код этой мой linkedin не знаю насколько это полезно но можете попробовать сканировать всем спасибо аплодисменты петра дмитрий действительно компания проекту у нас есть буквально немножко времени можем прямо чуть чуть позадавать вопросы если в зале есть какие то вопросы поднимайте руки к вам подойдут наши хелперы помощники и вы сможете что-то спросить дмитрия окей так руках человек в синей футболке пожалуйста здрасьте добрый скажите где здесь вообще-то ты захочешь что-то инжире он становится частью всего этого большого процесса смотрите бит инжиниринг у нас где-то на входе то есть бит инжиниринг вот вся эта платформа которая вас может быть она нам помогает создать вход оно нам позволяет наполнить фичи сторону нам наполняет берс тонированный datasette если сильно хочется можно найти на этой нижней link блин не могу ничем показать ответил нам снизу еще фидбэк клуб есть вот в этой стрелочки будет инженеринг мы собираем данные с продакшена и складываем их обратно в наш процесс самолет я не хотела фокусироваться на этом сильно потому что дэд инженеринг это такое знаете это такой фундамент и малек без нормального дотянешь дилинга хорошего emulex у вас не будет ну поэтому я как бы воспринимают и как данность у вас уже есть для этой дженерик если вы делаете малек спасибо за вопрос человек в черной футболке второй ряд пожалуйста здравствуйте спасибо за доклад вопрос как это клад тоже философский а вот вы сказали вначале что эмбри engine проводил опрос и непонятно кто должен заниматься реализацией molex большинство ответило что эмаль инженеры на выгод и скептически к этому и вот вопрос такое кто же этим собственно должен заниматься снимали инженеры и вы можете рассказать что-то из своего опыта как как сказать интеграторов неприятеля ему либо с какие в общей сложности в этом процессе возникают потому что откажется что как раз таки моль инженером там дантистом все равно на этом лег за какие проблемы есть как они решаются ох какой большое спасибо за вопрос на самом деле очень такой объемный я сейчас дайте подумать как на него правильно ответить начнем с того кто должен заниматься по хорошему никто я на самом деле сам процесс это процесс взаимодействия дать кто занимается процессами процессами может заниматься не знаю менеджер может заниматься какой-нибудь сильным продвинутый devops инженер человек который занимается процессами именно процессами это не должен быть мы не должны отвлекать да это соединить истратова работы вы не должны отвлекать там даже m-elle инженера млн сне может быть здесь да он покрывает довольно большой кусок он действительно может быть но он тоже не покрывает весь процесс весь вот всю эту схему да вот на этой схеме мы легко можем найти и да это инжиниринг и devops и так далее и и не может быть это все покрыто одним млн жене рам по-хорошему должен быть ум на какой-нибудь человек архитектор например который определяет процессы определяют как строится процесс в организации если в компании такого нет приглашают например нас мы приходим приводим своих умных людей и они говорят как правильно строить процессы и здесь конечно бывают сложности самая частая сложность это когда мы приходим в организацию и там есть знаете do it is in this который на ноутбуках своих делают или они есть gpl бокс на которых они тренируют свои модели и вот все вот у них есть ноутбук джек your box все это все что они хотят видеть а проблема в том что их работа она такая что за это сила да то есть она вот чисто у него на ноутбуке закрыта не rip радиуса был непрозрачное не сильно эффективно и даже то есть оно не может быть от отстрелено легко и просто там на сотню машин на пора для параллельного тренинга но тем ни менее да это so in this ты очень такие как это сказать-то как и любым людям сложно к серьезным изменениям адаптироваться дать когда им приходит говорят вы делаете все не так делайте все по другому они такие стоп стоп стоп у нас вообще вот результаты есть все хорошо и так и здесь вот это самая большая точка сопротивления как правило это объяснить всю концепцию amoled объяснить всю пользу и малек сантис там людям которые делают вот вот эти вот вещи и и им надо получается с ноутбуков писатель начинать pipeline и именно граммы в этом помогаем им надо начинать делать эксперименты не у себя локально а все среди оркестрация им надо учить новые инструменты ну это все вот конечно непросто и требует времени да еще хотите быть ну а продолжать говорить или говорили а вот вот дополнение к этому вопросу кстати насчет ломать людей чтобы они по-другому начинали писать а в целом но сторонник мне это кажется оптимальной стратегии но много людей но которые таким занимается ему лепсом всем таким они считают что как раз таки это инструменты должны подстраиваться под эти сайт пускай ноутбуки будут такими что там все будет россияне рэм и пускай они работают как хотят но все требованием и лепс будут удовлетворены то есть то что делает нет сексе такое как вы к такому относитесь к знаете есть вы наверняка знаете какую штуку и купи катар тут эта достаточно популярная штука по поводу именно подхода к разработке в целом и да не все готовы даже заниматься изменением структуры кода и да у нас есть кастамере у нас есть клиенты которые говорят все для тогда станете став делаем максимально дата-сайентистов юзер френдли experience то есть вот у нас есть например такой клиент у которого и molex построен на ноутбуках это соединить из пишет ноутбук сохраняет его в git и дальше мы этот ноутбук запускаем в по rip лойди что неправильно пожалуй и влечет некоторые проблемы и лишают некоторых возможностей но тем не менее тут такое решение принял кастами я не знаю мне мне лично кажется конечно выделять отдельные кусочки кода в отдельные модули контейнере zerowatt все это правильно и вы их можно тестировать можно убедиться что у нас там все хорошо надежно и новые изменения заносить безопасно с другой стороны может быть это чрезмерная дорого для некоторых костюмеров в общем это кисть бы кейс ничего не скажешь общего спасибо за вопрос так давайте вопросов-ответов немножко закончим дим выбери лучший вопрос какой вот это был их было всего всего два давайте наш философский диспут обозначим как лучше вопрос малой человек в черной футболке второй ряд пристрой наши хелперы тебе что-нибудь подарят дима тебе подарок от нас организаторов конференции highload давайте аплодисментами проводим дмитрия а напоминаю выпуск это будет в начале ролика всех тел мы создаем крупнейшую в россии облачную платформу она также предлагаем в аренду выделение серы на своем оборудовании цик дата центра наши клиенты это ведь образовательной платформы службы доставки онлайн игры банки и сервисы для видеоконференций семьи и обработки фотографии на данный момент у нас больше 18 тысяч клиентов клиенты хранят у нас гигантский объем данных испускает высоко нагруженное приложение мы сами пишем прокатываем и поддерживаем свои сервиса и все это в дата-центрах которую мы тоже строим сами мы всегда думаем о качестве и надежности потому что от этого зависит надежность приложение наших клиентов выбираем самые нужные сервисы и делаем их так чтобы ими можно было гордиться сотрудники всегда в курсе того что происходит компании для этого мы устраиваем много различных внутренних мероприятий менеджмент рассказывает об успехах в файлах а надо модели продуктовая команда показывает актуальные роботы а еще мы получаем подробные фидбэк от коллег с которыми работаем чаще всего есть подозрения что молодая так как здесь больше всего в работе меня нравится близость к пользователям и возможность быстро получать них обратную связь проверяет любые гипотезы и влияет на наполнение продукты фичами мы все время движения слик тел поддерживать развитие своих сотрудников или любой инженер дата-центра может вырасти в разработчика а наш офис менеджера продолжают карьеру работа с ключевыми клиентами при динозавра притирается нашего кажется им пока рано постим с грехи мои тяжкие мы угоняем замшелые самописный движок сфинкс который я когда-то позже видимость грехи будь она неладна писал и мы побежим поддерживаем и развиваем всякому дописывать ты же его сделал давно и не для vita ты просто как выпрыгну он вообще как-то считаю что он выдержал те требовали которым сейчас у него есть то есть api тоже тоже меняется и там сейчас 80 придав объявления завтра будет 160 миллионов но при этом у нас как бы боевой поиск это 80 миллионов объявлений это то что оперативно доступно каждую секунду в каждом первом пользователю вас такие внутренние системы которые тоже нас миксов кроется в которых и побольше да миллиардами измеряется например админке с архивом всех объявлений на что интересно это принципе тоже не сильно я знаю светлом прошлом были инстанции в которых и еще больше там сотни тысяч серверов и этом засвечен большим количестом документ по большому счету кирилл из данных достаточно некомфортно оперируете и был тогда и до сих пор может когда ничего с этим наконец сделаем вот но как бы я к тому что масштаб там порядка 100 миллионов документ1 десяти милях документ дома привычно но сейчас таких боевых условиях есть моменты на которые ты смотришь такой блин ну почему я тогда там не знаю после назад сделал по-другому 20 а что выглядишь на все 13 ментальные возраст и вообще 11 но к несчастью 20 а во вторых на эти моменты они есть вы понимаете постоянно в синем последние 20 лет в любой конкретно взятый момент времени хочется взять и все переписать на хрен вот 0 нет надо держать себя в руках нельзя все ломать надо на чем-то сидеть а некоторые моменты наверно там наоборот тут удивляешься блин там ipod какой-то замшина ты меня не работает до сих пор и честно говоря нежелание люто бешено полностью переписать в основном скорее ну наверно больше половины кода который делается это все таки что то что будет меняться можешь например высказать какие-то вещи которые ты был меньше всего готов который было сложнее всего три движок поиск но ты напеваешь сейчас у нас потом включает общем мель модули я не думал что 20 лет назад об этом думал что такое но 20 лет назад каких бы даже не догадался о том что есть такая штука как имели которая по большому счету над статистиками цена стероидов и там линейная модель сотни входов они с тремя входами пайк не как ни странно в этой части все достаточно легко как раз интегрируется то есть интеграция той же самой модели ранжирования достаточно штука оказалась простая потому что привело бы к нему к подобному сразу готов многое steam один прекрасный момент уже там вырос на концепция под названием utmost сигнал оранжевая форма выраженными так далее выросла некая считал к этих самых сигналов форма выражения и все что оставалось делать от просто обеспечить возможность подцепить удэ функцию и в эту же функцию передавать достаточно большой бинарный блок со всеми сигнал беранже нами которые мы хотим туда передавать достаточно тривиально занятия вот поэтому это был сделан еще десять лет назад опять таки дев действует назад по моему мой первый раз как такие боли менее мои обычные модели в куполе делалось это в тот момент не для vita делалось для одного тогдашнего клиент которые строил там маленький региональный поисковик по одной тут среднего размера европейской стране вот там был соответствует уже сфинкс там были модели и нам первый рассмотреть самые модель поручили тебе вопрос source лежит лежал до определенного момента в open source все после определенных увлекательных событий переживаний сэм с одной стороны с другой стороны я внезапно понял что прямо сию секунду никакого прока с этого концерта не будет ни для какой заинтересованной стороны но в смысле для проекта роток не visual basic готов и уж тем более вот и пока потом закрыть может быть к лене купин source вернемся можно расскажут что такое случилось почему так шо он там этот длинный увлекательный или наоборот длинная не очень интересная история вкратце и как бы это давай совсем большими масками следующим образом очень непросто зарабатывается пенса снова движка который ты абсолютно за бесплатно делаешь раздаешь и и пытаешься зарабатывать хрен пойми чего нельзя все отдавать за бесплатно надо что-то и продавать вот продавать у нас как бы всегда были некоторые сложности и поэтому на самом деле текущую версию которую разрабатываемые тем боль послушаюсь я ее прикрыл еще в годы когда попытки зарабатывать со танцор снова движка не кончились уже там не знаю группу а летом четырнадцатом году если прогонишь уже был понятно что надо что-то менять в кавычках в бизнес модель бизнес в гигантских кавычках потому что особого бизнеса в этом утра диски счастью не было а и уже тогда где стать решено что маг будет делать где-то разрез версия за деньги вот версия без денег и поэтому некие большие фундаментальные перья сделки которые были за тельны еще тогда давным-давно в 400 моде надо их прикрыть и потом где-то провести линию разрез соответственно после всех этих перипетий названием кассовый разрыв довольно долго получается жили до 1 нормального кассового разрыва с одной стороны но здравый говорят там 95 процентов так называемых стартапов как будет в это дело заезжают на дистанции в 1 1 2 3 года утвердились несколько дольше в свое время но ну чё за твои оказался достаточно фатальным очередной разрыв че ты там деньги кончились совсем самое главное что приток денег кончилось тоже ставьте там был еще массу неприятных моментов точно как сказать как в любом разводе скажем так но это уже наверно тема для отдельного рассказа и обычно там а кулоном рассказанным с углем и мечами за четырьмя литрами пиво и постепенном переходе от и вон оно как он был в open source его легче был на нем работать был какой-то вклад от сообщества значимый интересный вопрос легче или нет я бы сказал что хомячки tp d7 комфортнее на пару ну то есть понятно низку цену себя удобней работать когда ты не сам там какая . понемножку тут копеечку так капельку а вот снова нихера когда сзади к тебе про лето гигантская компания со всеми ресурсами и возможностью эти ресурс так или иначе использовать могут будет понятно дело сильно более комфортно режим жизнь вот понятное дело что тут как бы палка о двух концах и естественно если у тебя твой проекта люто бешено взлетает и сам начинает генерировать сильно больше денег чем у при большой компании на него в принципе когда не забуду за бюджете вы то наверное пора некий спин-офф open учинять а тут и самую большую компанию случае со сфинксом это случается сфинкс может служить достаточно мало зарабатывал всю жизнь как бы это соответственно его независимая жизнь была не сказать чтобы как бы усеяна розовыми лепестками и корпоративными с черной икрой с соответственно выдающиеся в золотых чашечках бриллиантовыми ложечками вот поэтому в рамках больших компаний ну честно говоря одну жить легче балога чем по меньшей мере вот на это этом стартовые фазе под названием и еще пока там свои 100 миллионов долларов с share via не делаем чисто теоретически чисто теоретически наверное можно построить разработку следующим образом что у тебя есть достаточно большое количество компания интересант of каждая делает разность которых делает счет достаточно новое хорошее и интересное и которая можно скажем так в общую канула хорошо уложить а его проект замерз теоретически это возможно какие то вот прям супер комьюнити проекты такие есть тот же пост бриз например по большому счету вот такой суперкар меньше проект на котором трудиться далеко не одна компания и каждая из которых отбеливает что тут вообще делилась этой а сфинкс до такого масштаба черт его знает то ли не дорос туле в принципе невозможно что он до такого масштаба дорос потому что насколько я смотрел и языка смотрю на более другие проекты которые тоже про поезд в основном и понятное дело люсин и все чтобы power гранитному библиотечка люсин и тот сервер который в этом сезоне модны строить поверхность а они всегда у меня конечно может неверное впечатление пошли к недостаточно хорошо умею распарсить 250 мегабайт джавс кого кода 220 мегабайт из которого это в основном там ненужной тривиальной комментарии и там премиальный фабрик но у меня такое ощущение что по меньшей мере в ядре скажем так 2 что библиотека так далее где-то процентов 90 кода делается выбор там про не ограниченным кругом лиц который возможно формально входит по разным компании но их там допустим 5 до если думает об opensource что это также очень мало люди на самом деле то есть он такой открытый но контролю реальным а большой 1 раз контрибьютором там пара человек странных именно так большое количество контрибьютором при этом одновременно с этим может возникать в какой части там типа а вот ведром и лезть опасаемся но зато мы прикрутили вот этот плагин вот этот плагин вот этот план вот такая вот штука она конечно цветёт и пахнет сильно как сказать все сели на шепчи чем покупки как привлечь к разработке ядра при каких условиях и бы вернул его вы пан source сложный вопрос вот на данный момент я натурально не вижу никакого там объективного плюс от open source а кроме никого имиджа и то даже уже не уверен насколько как бы это важно или не важно для конкретных пользователей для того чтобы этот меч был вот если бы сейчас ты мог вернуться в прошлое с текущими своими знаниями о том во что превратится в проект и что-то одно сделать по-другому что это была не ну это ответ на этот вопрос нет несчастью готов еще до того как я придумал сфинкс и он звучит примерно как а в момент ваучерной приватизации я бы украл ящик водки украл ящик водки много ваучер вас на которые там вкладывается в исламе газпром потом конвертируется в биткоины и в принципе на данный момент как бы илон маск у меня где-то уже в подметки вот если стаки признанием ну ладно успеху теперь хорошо готовится докладов надеюсь получится круто хорошо выступить ай да надеюсь где мы пасибо тип токио были в онлайне сейчас я боялась его немножко поговорить наши superior в сети ma bell mail.ru клауд solutions тарантулы от наши золотые партнеры у них и стенды подходите участвуйте общаясь с ребятами настенных и наши серебряные поэт партнеры компании а цель чур rt labs и озон той же соответственно у всех есть какие-то представители а сейчас я хотел бы пригласить на эту сцену артему бондаря руководителя команды машин линга и data science в компании samsung next артем занимается разработкой софта под умные холодильнике family хоп вот артём сам сейчас всё расскажет и доклад про обработку естественных языков про процесса с ним связанные про то какие проблемы с этим со всем есть итак под ваши аплодисменты артем бондарь спасибо спасибо готовьте вопросы лучшему автору вопроса подарок до меня зовут арсен я соответственно занимаюсь машинным обучением samsung next и перед тем как мы начнем хотел бы начать с небольшой личные истории в самые отчаянные дни пандемию я умудрился установить тик ток и прорвавшись через просто мириады танцующих молодых людей какие-то сомнительные шутки лайфхаки я в итоге добрался до интересного мне и контента про технологии машинное обучение в частности вот это вот энергичного молодого человека который просто с упоением рассказывал про нашумевшую сеть от open и я и g5 3 его point был в том что это просто какой-то совершенно волшебное изобретение она и кот за нас напишет она и любую задачу решить просто представьте ее на естественном языке вот мне показалось ироничным что примерно в это время один из наших продуктов написал мне что после последнего апдейта наша state lands multilingual сетка внезапно начала видеть продукцию компании apple в текстах кулинарных рецептов подсвечивая яблоки не как обычные продукты а как бренд ну я отшутился что горе от ума и вообще эта участь не обходит даже лучших из нас то есть даже о пиная есть такая проблема они выпустили статью где показывали как легко дурить их сетку просто наклеив вот такой вот stickers текстом на яблоко после чего сеть на чистом глазу рассказывают что это продукции apple и мне кажется на самом деле это довольно типичная ситуация у нас в индустрии что в академической среде однозначно есть большой прогресс сквозь линзу сми этот прогресс кажется очень притягательным для бизнеса но между ними есть целая пропасть практической реализации в которой гибнет большинство инициатив соответственно про эту пропасть и хотелось бы поговорить конкретно в рамках этого доклада мне хотелось бы рассказать про очень простую продуктовую задачу и двух подходах к ее решению первое это просто ортодоксальное я бы сказал по учебнику решения с точки зрения машины орден га а вот второе решение может быть не такое очевидное но как оказывается она более практичные с точки зрения бизнеса и соответственно помимо этого сравнения хотелось бы рассказать в каком ключе мы рассуждали о задаче чтобы прийти к такому какому-то более приятному не ортодоксальному подходу и естественно в рамках этого доклада я не буду сильно углубляться в конкретной архитектуры нейросети вот это все то есть это будет довольно верхние уровни во то есть не россии для нас это какой-то относительно черный ящик который часто ошибаются но во второй части доклада хотелось бы упомянуть несколько чисто практических аспектов связанных с аннотацией данных и реализации всего процесса о которых хочется поговорить потому что мы дорого заплатили за то что сделали ошибки здесь буквально пару слов о себе я учился в инфо ты учился инжинирингу в parallels потом отучился от индустриальных практик будучи и тех ли дом в нескольких стартапах в итоге в какой-то момент был окончательно очарован прогресса в машинном обучении вернулся в эту область и сейчас я возглавляю команду по машинному обучению в самсунге вернее даже не совсем самсунге а в samsung next это американская бранча самсунга у которой основной фокус на mn и покупках каких-то многие обещающих стартапов в области искусственного интеллекта интернет of tanks соответственно дальше samsung бекстэбы помогает добиться какой-то синергии этим компаниям с основным самсунгом либо же просто вводит внутрь большого самсунга эти команды соответственно в одной из таких продуктовых кампаний вы ск я и возглавляю команду по машинному обучению вы ск начал как стартап 10 лет назад в united kindom с очень простой идеей дать возможность сайтом которые публикуют рецепты вставлять на эти рецепты кнопку которая позволяет пользователю превратить рецепт список покупок который и с этим списком покупок идти в онлайн игра шире соответственно идея очень простая но вокруг нее очень быстро выросла партнерская сеть из больших реперов такие как волмарт диска и десятки других таких как паблишеры контента это уровня би-би-си good food recipes и многие другие независимых фудблогер of и компаний-производителей еды и такие как крафт хайнц unilever и многие другие да вот они на слайде и для самсунга как одного из крупнейших производителей бытовой электроники food industry я понятно она им очень важно цифровой контент все сильнее оказывает влияние на продажи в продуктовом ритейле иногда доходит до абсолютно анекдотических ситуаций когда ви реальный tick tock приводит к тому что с полок сметают сыр фета и упр или улетай возникают даже проблемы с этим какие то понятно это анекдот но тенденция явная цифровой контент все сильнее влияет на продажу соответственно на пересечении этих интересов мы с самсунгом и организуем какие-то коллаборации в частности мы являемся основным провайдером контента для их умных холодильников у нас есть набор проектов с samsung research по созданию эмаль моделей для других их smart девайсов и в частности на последнем cs все что касалось концепта smart kitchen во многом опирается именно на на нашей технологии в то же время команда войск создает клиентское приложение для организации пользовательской книге рецептов список покупок мил планов вот это вот всего и коммуникации вокруг кулинарии в целом зачем же визг нужен машин лирник если совсем вкратце то для умного распознавания и понимания контента рецептов по факту же почти каждая фича приложения так или иначе опирается на результаты машины орден га начиная от продуктового кейса о котором я уже упомянул превращение рецептов список покупок заканчивая такими вещами как рекомендательная система умный поиск подсчетам тришина информацию много-много-много из этой схемы уже понятно что рассказать о всех архитектурных решениях в рамках одного доклада было бы довольно как-то глупо поэтому я постараюсь сфокусироваться только на одном и это та проблема с которой войск начал как компания это как превратить рецепт в список покупок то есть имей ассортимент магазина и текст рецепта как подобрать набор продуктов из этого магазина который позволит приготовить этот рецепт на первый взгляд кстати эта задача даже не кажется реально чрезмерно сложной я думаю многие инженеры придумали бы просто навскидку какое-нибудь решение взяли полнотекстовый поиск все это как-то закрутили это все работает столкновение с реальностью конечно жесткая потому что люди не хотят писать тексты рецептов в каком-то нормализованном виде в частности очень часто они добавляют информацию которая вообще не связано с самим рецептом а связаны уже с процессом готовки иногда даже человеку не очень легко понять вообще какие продукты прицепить к этой строке да что говорить иногда человеку сложно даже просто дочитать это до конца не говоря разных странных комбинациях ингредиентов в равной в одной строчке как здесь например указано несколько альтернатив вот и что надо вешать и как сложно ну я надеюсь я вас убедил что без машины ордынка здесь просто не обойтись и ну давайте попробуем ее решить как вводные данные простые у нас есть ассортимент магазинов какое-то и описание каждого из продуктов у нас есть сыр и строчки ингредиентов из рецептов и надо понимать эти два массива постоянно обновляются то есть решение как эта классификация наверное здесь не заряжает нужно как-то это все связывать ну мы прошли курсы на курс или курсы носки в боксе полмашины верлинго соответственно отлично понимаем как эта задача решается по учебнику это фактически в некотором виде задача машина метрик learning а то есть мы и хотим для каждого нашего объекта из огромной выборке научиться создавать какое-то векторное представление имбилдинг геометрической интерпретация очень простая этот embedding эта позиция в каком там нога многомерном пространстве и мы хотим конечно чтобы эти позиции были не совсем рандомные а чтобы похожий по смыслу продукты в этом пространстве как-то компактно рядом лежали соответственно учить мы это будем даже не одну модель и две модели которая ищет эти mb денги для продуктов из магазинов и ищет этим бединге для наших сырых строчек и в таком сетапе организовать именно сам процесс выбора просто элементарно мы вокруг им беден га нашего ингредиента просто найдем какие то похожие продукты из магазинов это будет отличный матч как это конкретный организовать я обещал не вдаваться в детали но в целом наш выбор огромный то есть мы можем использовать классический машин learning мы можем пойти в state-of-the-art вообще без разницы и смотрите сейчас вслух мы произнесли очень красивую схему она в целом абсолютно легитимно и абсолютно рабочие давайте подумаем хорошо как этот метрик learning превратить в конкретную технологию которая решает задача как научить эту сетку ну вообще довольно просто особенно с позиции моль инженера мы заряжаем огромную задачу по аннотации данных то есть для каждой строчки ингредиентам и подцепляем набор продуктов из магазина который подходит для этой строчке ну и они трудятся потихонечку покормил инженер наслаждается всеми благами автоматизации 2021 год собрать эмаль pipeline можно просто на коленке абсолютно и bml инженера все абсолютно прекрасно он просто ждет пока разметить много новых данных запускает автоматом pipeline остальное время наслаждается свободой и просто ждет новых данных кайф но на самом деле это конечно рукотворный от и вот почему в нашем случае вариативность данных по настоящему зашкаливает потому что для каждой строчки ингредиента нужно прицепить набор продуктов из магазина но нужно понимать что есть строчке где не 225 грамм говядины а 400 грамм говядины или 500 грамм говядины и получается она татару придется все время искать по огромной базе продуктов из магазина и подцеплять каждой строчке очень часто один и тот же набор продуктов ну и люди умные мы инженеры в конце концов давайте как-то упростим им жизнь например добавим рига xp и нормализирует данные тогда мы немножко снизим эту вариативность станет совсем чуть чуть полегче но на самом деле если сделать хороший дата анализ внезапно оказывается что по легче не стало вообще потому что люди пишут контент очень по разному соответственно в теории можно было бы забить наверняка это какие то очки из и большинство напишет просто 200 грамм говядины но всегда сложно сказать а будет ли нормально модель генерализированных вот этих конкретных примеров это в целом философски очень большая проблема как подобрать данные которые нужно разметить соответственно мы можем легко прошляпить и плохо решить эту задачу ну и в то есть худшей ситуации нам реально надо разметить просто какие-то адские объемы данных о как свальд разлетелся вторая большая проблема сетап и заключается в том что м м в этом сетапе умирает молча у него всегда для вас есть какой-то результат и это проблема потому что в какой-то момент вы начнете получать известие косяках м м лучшем случае от вашего keeway в худшем случае от ваших клиентов и пользователей тут я конечно немножко лукавлю всегда есть методы как это модели добиться такого поведения как отказ от классификации абсолютно любой но чуть дальше я затрону этот момент снова и расскажу почему на самом деле этого добиться очень сложно вот и вторая проблема в том что у вас да будут оффлайн метрики вы видите как ваша модель улучшается но оффлайн метрики на размеченных данных и реальное поведение на всем огромном объеме данных которые приходят модель это не всегда сильно коррелирующие вещи потому что может быть очень разные распределения этих данных вот а теперь посмотрим как вот эти две упомянутые проблемы отражаются на бизнес-процессах то есть наши союзы приходят к марту заключать с ними соглашение продавать наше волшебное решение мы делимся метриками которые мы получили на наших предыдущих клиентах и они говоря долги и нам нравится нам нравится user engagement нам нравится то какой у вас примерно покрытие контента какой процент ошибок вашей модели они говорят да да все здорово нам нужно провести внутреннюю я всегда что-то такое будет нельзя просто так доверять метрикам и вот их внутри некий возвращается с результатами так как юзер engagement померить они не могут потому что ничего не подписано они просто сделают какую-то тестовую выборку вас вообще никакого контроля нету над тем какие данные они выберут и посчитают какую-то свою цифру в худших анекдотических вариантах какой-нибудь топ-менеджер выберет 4 свои любимые рецепта на трех из них ваша модель накосячить он придет скажет вы знаете 25 процентов от вы ничего не можете с этим сделать так что и главная проблема в том что это с компрометирует и user engagement метрика метрику которая естественно гораздо более важное чем то на каком количестве контента это все работает вот и ваши силы возвращаются и говорят смотрите у нас вот есть такой набор проблем на таком-то контенте наша модель косячит что вы будете делать по большому счету вариантов не так много надо сидеть и до размечать данные получится ли у вас их хорошо да разметить это очень большой вопрос получится ли это сделать за разумное время тоже как бы не всегда можно прогнозировать а союзы говорят нам нужен очень конкретный срок за какое время вы сможете это все починить если вы хороший инженер скорее всего вы скажете не знаю за какой-то нам нужно найти рации вот и весь контракт может встать под вопрос помимо этого молча кася чаще имела это еще и большая проблема для развития продукта в целом потому что когда дело доходит до b каких-то unix вич у вас будет сложно разделять эффект плохого м.н. и плохих weeks решений на практике это просто означает что ваша дисперсия растет ваше обед с ты удлиняется если у вас нету миллиардные юзер bass которая генерирует какие-то огромные объемы объемы интеракции у вас будут проблемы с абэ просто весь ваш цикл разработки будет удлиняться вот такая картина и в итоге оказывается что вы создали прекрасное решение которым гордился бы андуин но на самом деле у вас просто тихо ненавидят все в вашей команде и в какой-то момент скорее всего все закончится очень грустно вот можно ли сделать лучше это хороший вопрос ну нам никто не мешает по крайней мере поразмышлять как улучшить ситуацию и я бы предложил подумайте от двигаться от хотел их бизнеса во первых ему конечно нужно нужна прозрачность то есть мы в любой момент должны четко понимать мы взяли набор контента клиента за какое качество мы можем поручиться то есть хотя бы иметь какую-то нижнюю оценку во вторых даже если наша система косячит и не достаточно хороша для контрактов в этом случае желательно хотя бы понимать за какое время мы можем все это починить ну и конечно да нужно масштабируемость иногда хотелось бы все-таки жертвовать качеством ради масштаба это тоже не хочется терять и внезапно оказывается что чисто теоретически мы можем обеспечить два из трех свойств просто организовав грамотно ручной труд как достигается прозрачность полностью затащив себе в систему content клиентом и всегда мы знаем сколько контента мы уже разметили сколько осталось контента это может быть хороший нижней оценкой качества когда появляется новый контент мы примерно представляем сколько времени занимает разметить один рецепт то есть у нас еще и появляется какая-то прогнозируемость то есть даже зная за сколько времени один человек размечает один рецепт простое умножение дает нам примерно оценки за какое время мы можем справиться исправить ситуацию ну проблема конечно в масштабировании тут об этом даже речи не идет но давайте еще все-таки чуть-чуть капнем в эту сторону и подумаем а можем ли какими-то инженерными практиками чуть-чуть улучшить эту ситуацию мы начнем сначала то есть возвращаясь к тому как мы размещали данные для каждой строчке мы подвешиваем набора продуктов из магазина кажется что это не очень оптимально потому что очень много похожих строчек с одной стороны очень много похожих сущностей с другой стороны идут может напрашиваться очень простое и эффективное улучшение давайте создадим какое-то внутреннее представление и разобьем задачу на 2 с одной стороны мы прикрепляем на вот эти внутренние представления наши ингредиенты а с другой стороны списки покупок то есть мы раз параллель его им эти два процесса и улучшаем эффективность кажется уже стала совсем чуть чуть полегче естественно это все хорошо на словах на практике это чуть тяжелее потому что у вас какой-то момент может начаться house этих внутренних представлений все будут создавать и их так как считает нужным но этот хаос все-таки у более управляемый потому что вы всегда можете создать что-то вроде онтологии продуктов и сделать эти структуры чуть чуть более прозрачные для вашего процесса идем далее тут есть один небольшой но на самом деле довольно принципиальный вопрос вот у нас есть строка ингредиента как нам найти это внутреннее представление то есть в теории можно сделать какой-то выпадающий список где наши она татар забьет название и выберет что-то похожее ну кстати мы тут можем быть совсем чуть-чуть эффективнее вместо того чтобы заставлять она татар разбивать руками мы можем позволить выделить просто под строк в оригинальной строке по которой можно однозначно найти наш продукт конкретно вот здесь везде говядину выделю и без всякого машинного обучения мы нашли нужный объект нашей продуктовые онтологии и понятно бывают кейсы по сложнее когда один и тот же продукт называется совсем по-разному есть разные языки сложной морфологии но это тоже легко решается абсолютно инженерно давайте для каждого продукта теперь иметь какой-то списочек так называемых лексика этого продукта как этот продукт называется in wild соответственно да чуть чуть сложнее но все еще не так уж и обременительно и получается что с ростом нашей вот этой продуктовой онтологии наполнение его лексика me задача нашего она татары сводится к тому что просто выделить мышкой правильный кусочек под строки вот зачем я вообще ударяюсь во все эти детали на самом деле думаю некоторые из вас начинают догадываться что то что я описал это типичная научная задача абсолютно просто тоже по учебнику но немножко другая вот эта задача sequins ты ginga она многим известна также как ним дитяти reccagni шин частный случай в ней нейросеть по сути должна раз категоризировать слова в строке по разным типам по факту это будет что-то типа подсветки нужных сегментов информации в рамках вот некоторые строки нашем случае это конечно в первую очередь название продуктов по которому мы проводим matching однако мы можем быть чуть чуть умнее выделять дополнительные сегменты информации которые нам нужны вот сделав такую подсветку мы без труда извлекаем данные интересующие нас из нашей строке даже не вижу смысла останавливаться на этом слайде и вот внезапно оказывается что мы собрали вполне себе рабочий процесс он ручной но достаточно эффективный и он помогают убить сразу двух зайцев с одной стороны мы сдвигаем бизнес мертвой точки то есть мы можем с некоторыми маленькими клиентами уже реально заключать контракты продавая им волшебный м.н. на самом деле просто загрузив она татаров по полной а с другой стороны мы начинаем копить данные для модели машинного обучения и эти данные за них заплачено на мне так жалко потраченного времени на это и самое классное что в какой-то момент накопив достаточное количество данных мы просто заменяем она татара моделью машинного обучения которое будет делать этот sequence to king конечно в только в идеальном мире так все происходит во-первых en el модем все равно будет довольно сильно косячить выделять какие-то странные подстроки а иногда еще и будет выделять продукты абсолютно правильно но просто эти продукты еще не существует в нашей базе знаний которые мы все еще вручную все-таки собираем но здесь есть один очень важный момент из-за того что мы комбинируем алгоритм машинного обучения и но люди bass у нас возникают очень естественный от класс от классификации то есть если какие-то извлеченные данные не кладутся в нашу строгую жесткую структуру в этом случае поднимаем тревогу и по этой тревоги прибегает она татар и либо он создает новый продукт в антологии либо добавляет лексики существующему продукту либо же просто правит результат алгоритма машинного обучения создавая данные для новых циклов тренировки и самый наверное важный аспект здесь с моей точки зрения это то что у нас появляется понятие отказа от классификации то есть мы либо с очень высокой уверенностью провели матч от либо же при малейшей неуверенности наша модель говорит нет я отказываюсь с этими данными работать и это кардинально меняет картину для бизнеса но перед тем как я расскажу почему хотелось бы вернуться к тому моему утверждению что в классическом м м да тоже можно организовать отказ от классификации потому что любая модель так или иначе выдаст confident score мы всегда можем поставить происходит и говорить если confidence ниже 3 холдер та модель явно предсказывает что-то не то на практике конечно если мы выставим действительно высокую с строгость классификации скажем чтобы количество ошибок не превышала пяти процентов чудовищно нарастим количество отказов классификации это вот такая природа машинного обучения можно философский порассуждать почему так но не в рамках этого доклада видимо и аккуратности и количество отказов классификации очень сильно тянут друг на друга одеяло поэтому это будет работать не так здорово как может показаться на первый взгляд и теперь все таки вернемся почему этот отказ от классификации так важен для бизнеса отдает и нам самое что ни на есть колоссальное преимущество теперь имея набор контента откатки конкретного пользователя клиента не проводя никакой ручной работы в полностью автоматическом режиме мы делаем очень хорошую нижнюю оценку нашего качество сколько контента покрыта нашей моделью то есть просто со скопив сайт до всяких контрактов до переговоров мы уже видим эту цифру мы понимаем стоит ли нам ввязываться в эту историю а если стоит то сколько работы у нас еще предстоит сделать чтобы это все хорошо работала если же у нас есть статистика по трафику все становится просто замечательно потому что мы еще и мы сможем посчитать не просто количество рецептов например покрытых нашей моделью а количество пользователей которые увидят хороший рецепт и эта метрика она совершенно крышесносное на ее базе можно общаться с другим бизнесом просто на другом уровне вот и мы получаем очень простой предсказуемый бизнес-процесс то есть до того как мы начали работу с клиентом мы получили его данные каким-то образом мы посчитали метрики качества возможно даже провели какую-то ручную работу в итоге ну и скорее всего подписываем контракт мы можем объяснить вообще методологию как мы откуда берутся эти цифры и почему им стоит доверять и после этого возможно нам придется все таки улучшать dota доводить до ума этот контент но это будет обзор абсолютно прогнозируемое количество работы мы понимаем сколько рецептов затронута теми или иными проблемы и мы просто правильных и самое главное данные пойдут еще и в до тренировку моделей машинного обучения а значит получается синергия эти два процесса будут вместе улучшать всю нашу ситуацию и это да и в итоге метрики растут все радуются контракты подписаны самое интересное что нас никто не заставляет в итоге вернуться к первоначальной идее метрики орден к нашему красивому pipeline у до которого очень хочется сделать потому что это красиво с точки зрения инженерии потому что имея вот этот базовый pipeline который я только что описал мы можем решать проблемы бизнеса в целом довольно предсказуемо но в том случае если наша модель не работает на каком-то куске контента то в принципе мы можем натренировать intent модель потому что данных у нас накопилось просто огромное количество и это интуит модель может пытаться хоть как-то хоть какой-то prediction выдать и показать ее пользователю при этом очень крутой его экспортером что в этом случае мы всегда можем еще и показать какую-нибудь плашку что вы знаете мы не уверенны в этом результате это создает огромное доверие с клиентом и это действительно очень может повысить ваши метрики вот и тут хоть можно было бы в принципе и закончить доклад по большому уровнем puppey большому счету верхние уровни во у нас получается вот такой гибридный процесс который берет лучше от автоматического и ручного подхода и мой основной пойнта заключается в том что придумать такой процесс будучи чисто эмаль инженером в майнц эти млн жене ра наверно немножко сложновато то есть всегда очень хорошо взвешивать какие-то альтернативные возможности не забывать что что это можно делать вручную где-то можно подкрутить инженерии и где-то можно договориться с бизнесом о каких-то док процессах поэтому в моем понимании в продуктовой команде data so in this ты не имели инженер должен глубоко понимать концепцию бизнеса сидеть на скучных митингах с продуктами на первый взгляд скучных и как-то участвовать в этом процессе иначе вас ждет очень большие проблемы вот как я сказал можно было бы закончить но известно что дьявол кроется в деталях и о паре деталей мне все-таки хотелось бы поговорить и это они все связаны с данными как предыдущий докладчик рассказывал данные это важнее чем или алгоритмы в чем абсолютно согласен и первая такая проблема это вот как выбрать набор классов для задачи sequins декинга напомню у нас есть строка для каждого элемента строки слова хотим навесить какой-то clans чтобы извлечь потом этот чтобы извлечь этот сегмент информации потом это подсветка вот таким образом будет использоваться и на первый взгляд выбор таков здесь очевиден вот мы хотим продукты достать мы хотим информацию о количестве достать может быть даже бренда стать но рано или поздно ваши на товар столкнется с каким-то очень проблемным кейсом который не укладывается в эту схему разметки в частности вот здесь вот что тут нужно подсветить как количество то есть это не две черные фасолины это не 12 унций фасолью это реально вот две банки по 12 унций и вот она татар встречает такой кейс и что ему делать у него есть два пути либо он идет команде инженеров и говорит вы знаете ваша схема разметки полная хрень давайте вообще все это как-то переделаем с очень понятным отклика модем или инженеров второй вариант просто забить на все это и сказать и выделить какую-то фигню то есть взять и испортить данные на будущее нужно еще понимает что он же не просто для своего удовольствия над этим работает во первых ему платят за количество контента который он разметил во вторых нему прибегают союзной которые говорят вы знали что у нас в горит контракт своим артам очень интересно что вы там хотите что-то внутри поменять на самом деле нас это не волнует и вот этот несчастный человек стоит перед таким тяжелым выбором на мой взгляд это просто понятный рецепт катастрофы причем избежать этой катастрофы на самом деле очень просто во-первых давайте дадим возможность она татару обходить схему разметки то есть когда он встречает какой-то непонятный очки из он может руками забить всю эту информацию прямо текстом это позволит ему избавиться от одной из его головных болей и давление со стороны продукты и союзов в то же время она татар сможет начать собирать какую-то информацию по разным кейсом и приходить уже с цифрами к инженерам что вот у нас есть под пятьдесят примеров с такой конкретные проблемы давайте с ней что то сделать вот а во-вторых чуть более философский что между она татарами инженерами должно быть все таки выставленную очень хороший коммуникации и желательно если у вас большая продуктовая проблема которую вы явно будете долго решать чтобы либо лета на татаров либо ядро команды она татаров все-таки были какие-то in-house люди которые заинтересованы в финальных результатах и заинтересованы в том чтобы давать очень хорошие качества и фидбэк соответственно при этом со стороны инженеров надо уважать их мнения и на нашей практике каждый раз когда она татары что-то нас просили мы это игнорировали буквально через годы на начинали понимать насколько сильно мы за фак опились вот и вторая история про трудности построения онтологии я так сколько пробежался что да вот есть продукты между ними есть взаимосвязи на самом деле строит любую антологию это просто ад на земле и здесь опять нужен какой-то сильный ли ты тот команды потому что вас постоянно будут возникать проблемы вот нужными нам например органические версии продуктов нужными нам какие-то гигантские версии продуктов или можно добавить это прикрепить какому-то существующему то есть этих вопросов будет миллион и если у вас не будет какого-то централизованного централизованного человека который будет принимать финальное решение у которого есть чем чувак который может посмотреть что вообще происходило у вас будут проблемы и соответственно очень важно вести хорошую документацию потому что объяснять каждому она татару будем честны у она татару будет очень жесткая текучка либо это будет круто на аутсорс и но не должна быть очень хорошая документация элит команды должен приглядывать и смотреть вообще чем они занимаются вот иначе создание какой-то базы знаний может оказаться совершенно неподъемной задачей вот и соответственно если подытожить то так как данные важнее самих имели алгоритмов это значит только то что ваши инвестиции в процесс аннотации если вы сами занимаетесь аннотации они очень сильно окупаются вот и на этом в общем-то все хотелось бы подытожить вот такой суп ревматической схемой которая по факту является не более чем классической диаграммой технология продукт приложенный в домен машинного обучения и если бы мне нужно было рассказать о цели доклада в одном предложении я бы сказал что она заключается в том что стоит все-таки сфокусироваться не на том что вы можете сделать и какую красивую ней ромку затащить к себе она том какие проблемы есть у бизнеса и научиться говорить нет если в общем то эти проблемы не стоит решать алгоритмами машинного обучения потому что нам имел инженером всегда очень соблазнительно забить на вопросы эксплуатации наслаждаться state-of-the-art моделями и в общем-то кайфовать от этого процесса но это бомба замедленного действия которую наверно вам не хотелось бы в итоге разминировать вот так вот можно эту стрелочку развернуть и все будет хорошо соответственно на этом красивом слайде со снимком нашей команды вы не все попали в кадр мне бы хотелось закончить свой доклад надеюсь он был для вам для вас полезным и всем спасибо за ваше внимание и время так а пока можно готовить какие-то вопросы да поднимать руки спасибо поблагодарил артёма за выступление я понял как круто быть мель инженером вот пара пожалуй пожалуй менять профессии так вопрос из зала так с кого начнем у кого у нас микрофон ребята хелперы давайте выбирайте любого человека с вами на ваш вкус и давайте ему микрофон так пожалуйста артём спасибо за доклад андрей кузнецов колосники хочу напомнить спросить продуктовый вопрос с которого плавно вытекает вопрос технический ты упомянул о том что вы для небольших клиентов с большими требованиям по качеству продаете принципе она татаров место имели вот как вообще решаете в каком конкретно кейси ломом и вообще не нужен его можно продать она татаров и вытекающие из это вопрос если допустим кейс предполагает из все-таки использованием или у вас большие нагрузки на какой стороне вы энтерите свои трансформеры отдаете ли вы это им или делать эту себя не вкратце расскажите как вы это делаете с какими проблемами сталкиваются спасибо да пасе большое за вопрос отличная ну во первых у нас никогда на самом деле уже не получается продавать ручной труд просто потому что это было скорее в каком-то очень начале кампании десятки лет назад когда никакого эмаль не было соответственно сейчас это всегда имели алгоритм и какой-то небольшой чанг работая на татаров просто но в целом мы понимаем что семьдесят восемьдесят процентов работы конечно должно проводиться им или алгоритмов полностью автоматическом решение режиме и переходя ко второму вопросу то есть вот эти вот это наше решение это би ту би продукт который мы полностью сервер внутри и продаем по модели saas там нашим партнерам вот если надеюсь ответил на вопрос до 30 рядов синей футболке артем запоминая и лучший вопрос ты должен будешь наградить спасибо за доклад у меня вопрос вы сказали вы уходили от классификаторов потому что была сложность выборе 3 школ дабы пороговых значениях но по итогам вашей модели говорить то что и тогда она не уверена на чем она основана и и неуверенность то есть у нас оно есть какой-то трешолд границ пряди решения когда говоришь там не работает вот этот один до года тоже отличный вопрос в общем разница с классическим млм что в классической моделью происходит эта вещь такая плавающие вы можете ее подвигать вас при сижу на rikom как-то начинают между собой прыгать в этом случае появляется очень дискретный ответ либо да либо нет то есть он извлек кусок строки этот кусок строки мы поискали в нашей базе знаний либо это кусок нашелся и тогда мы уверены просто вот из того как продукт устроен мы уверены что это хороший матч очень высоким качеством либо же если эта строка не нашлась то тогда мы вообще никак не классифицируем и сравниваем вот эти два подхода предположим у нас одно и то же количество данных вот у нас есть первый подход где есть какой-то трасс холод и есть 2 в теории второй подход даст меньше и меньше и метрики качества потому что это очень строгая строгий сетап в котором его нужно работать то есть в классическом можно даже там по и поиграться и как-то найти хороший престижен recall но тут вот возвращаясь к философской проблемы почему м м почему нельзя доверять confidence карамель модели ну как бы как что делать любая модель она строится в гипер плоскость с одной стороны там мы классифицируем как позитивную с другой негативно и если у нас вот в окрестности этой гипер к плоскости лежат все данные а вот там вот где-то лежит outlier модель с очень высокой вероятностью скажет да вот это вот позитивный пример даже если он негативный то есть confident скоро это очень условная вещь поэтому на нее тяжело опираться и вам нужно просто надеяться что данные который вам приходят от клиента из того же распределение на котором вы учились вот поэтому ему веры нет поэтому вот мы предпочли совсем другой вариант вот добрый день я к сожалению только в конце докладывал присутствовать но бальзам на душу касается что там данный возьмем и что нужно копать глубже собственно бизнес-процессов у меня всегда стоит вопрос как данной который используем мы вымыли алгоритмах мы можем отслеживать с точки зрения изменений контент очень часто заполняется далекой команда иногда они меняют правила заполнения контента и мы постфактум об этом узнаем очень часто есть когда начинают вещи для строят но хранилище этого контента на его дорого обслуживают никогда навешивать какие-то там барсы я лет как например вызвать в работе туда что ваши получается много магазин новые правила и название продукта раньше микса варис брендом теперь нет как вам об этом больше спасибо за вопрос на самом деле у нас таких больших проблем нету потому что мы изначально строили схему которая может дать переваривать более менее все ну да я понимаю о чем у нас была такая ситуация 1 вот придумали схему разметки набор классов и тут оказалось нам нужно добавить новый класс ну дальше все было очень тяжело и плохо то есть мы пришли к бизнесу и говорим смотрите мы примерно придумали как находить данные которые просто нужно с нуля ремонтировать это там 10 процентов datasette а и сказали вот нам нужно выделить столько времени на что они сказали нет мы не будем этим заниматься то есть пускай она про дальше косячит мы будем знать об этой проблеме но извините это слишком дорого соответственно ну в идеальном мире мы бы конечно просто реально тира вали все то есть обычно как бы как получается есть классы он разбивается на два класса соответственно взяли все данные с этим классом прошлись по ним по поводу мониторинга тоже есть идея в целом можно строить какие-то распределения например классов у нас будет там какая-то гистограмма и когда нам приходит новый контент можно просто сравнивать гистограммы и смотреть что эти распределение не сильно разъехались вот это даже в автоматическом режиме можно по хорошему can do those in this должен этим заниматься вот место так еще нас вопросики добрый день картон распутав в leroy merlin очень интересная была тема про антологию и ее построении вопрос у нас получается есть два источника данных для того ли это непосредственно рецепт из которых можно выделить разные сущности также некоторые иерархии продуктов на которые мы используем вот соответственно вопрос вот как вы выделяли как вы строили вашу антологию на основании чего что для вас было перед лично людей построения что вторичным как вы насколько вы широко использовали иерархию продуктов которые у вас есть у ваших поставщиков вот или вы наоборот больше ориентировались на ваши рецепты что-то пытались в первую очередь сущностям из рецептов привязывали спасибо спасибо за вопрос я прям чувствую боль практической реализации в этом вопросе и отлично понимаю да мы решили этот вопрос просто исторически мы начинали все-таки с контента рецептов с довольно небольших магазинов и мы понимали что мы не добьемся хорошего качества в принципе поэтому мы решили рецепты это первичное то есть да это приводит большим кейсом проблемным то есть например там какой-то микс салатов и там 10 типов этого салата соответственно иногда мы могли его немножко невпопад классифицировать сказав но это просто салаты и надеяться что все хорошо вот но со временем это превратилось в достаточно гибридную модель в нашем случае просто мы создавали новые продукты иногда они выглядели очень странно то есть это действительно не один продукт это была смесь из там 5 продуктов не знаю набор для приготовления чего-то и у нас в антологии иногда бывали совершенно сумасшедшие строки которые вот по-хорошему конечно надо было как-то разделять на несколько продуктов ну вот это вот плата за legacy но у нас большой плюс что это все-таки какие-то речь кейсы то есть мы можем позволить себе немножко за полете тёлка антологию но как бы основные кейсы работают хорошо ну возвращаясь к основному вопросу мы все таки начали с рецептов но это скорее legacy я бы не сказал что это было про вот какой то супер продуманное решение просто с этим живем так у нас еще остался последний вопрос артём развития государства скажите вы используете где-то учитывать и где-то цену продуктов чтобы сказать чтобы например мой номер метриках чтобы и запускать что мы допустим дорогие рецепты до 99 процентов обрабатываем там дешёвые допустим не очень хорошо ну вы как наш спасибо за вопросы вы как наш род matpat смотрели да конечно хотелось бы это делать но как бы просто есть другие приоритеты вот и но это просто да хорошая продуктовая идеи я даже ничего не могу сказать но вы сейчас нет чтобы рекомендовать допустим это похожие рецепты написал они дешевле более доступной или наоборот более кенди ленной да ну это тоже до одной из продуктовых fitch да просто вас да хорошая идея и до который надо передать продуктом мог приоритизирует и эти штуки да спасибо просто кто-то посмотрел ваш boklok и решилась да тогда как статус по проекту вообще один из наших продуктов я не узнаю правду деда артём сейчас выбери лучший вопрос есть ли у тебя какие-то фавориты да мне 2 очень понравился честно говоря 2 так друзья кто помнит это кто кто сдал второй вопрос поднимите руку вот уже в третьем ряду книга твоя наш helper щас тебе поможет и так под ваши аплодисменты артем бондарь проходят в цифровые кулуары может прийти пообщаться за дверью ребята кто смотрит нас онлайн тоже подключаетесь по кнопке рядом с player можно все специальную зум комнату и задавать вопросы артема следующий доклад от евгения из компании плеск будет здесь через 20 минут будем писать the main crawler и а новые и привет я артем я бывший доктор хабл и сейчас вы подкаст мы обречены при этом знакомиться приехать на знакомиться меня зовут ольга и я занимаюсь в компании комплект безопасности приложений безопасностью приложений это что-то особенное не как сказать что-то особенно я стоял где-то к такому важному моменту который связывает собственно мер разработки и мер безопасности потому что зачастую как присылают себя себя люди делают безопасности то ребята которая не знаю периодически запускают какие-то сканеры уязвимостей и дальше приходит предположим к ребятам структуры со словами ребята у вас здесь не знаю какой нибудь уязвимое положение но обычно эти со сканера связанные с безопасностью венгерского по то есть я не знаю вы предположим на капельку им тапочки он так стар и вес если у вас есть компании своей разработка то разработчики пишут уникальные уязвимости которые сканера уже не найдут обычно это предположение знает о дженесс с которыми пользуется большинство компаний геллар обязательно нужен при собственно вот я пытаюсь внедрять различные практики безопасные разработки а поиска узи масти собственно в разработке которой ведется в компании работает и в чем заключается процесс как видишь какие мы пользуемся различными во-первых сканерами которые именно сделаны для практичности кереть это статический анализаторы к 1 безопасность мимический анализаторы кода на безопасность различные сканер зависимостей которые проверяют и вообще фреймворке какие библиотеки используются и все ли там хорошо позаботимся также пишем какие-то свои большие инструменты не слизь какая-то специфическая позже логика который не можно поселить динамический анализатор из коробки то есть предположим тот же burgs youth networks юта прокаченного либо enterprise они не всегда могут качественно проскочить на безопасность то есть например динамический сканер как работают они отправляют какие-то нелады с кавычками и дальше смотри какой ответ пришел и не всегда таким сканером предположим по зубам какие-то специфичные положение какие-то специфичных запросы предположим одних мы пишем код свою логику и также проводим ручное тестирование потому что 1 делает безопасность когда не знаю какой нибудь кавычки ты можешь зайти под админом другое дело то что есть должен какое-то бизнес логика и предположим она может немножко не сикер на я реализована и уже предположим какого-то типа узи масти надо проверять рука этим занимаемся ну и также проводим какие тренинги и пытаемся всячески просвещать разработчиков помогать правильно составлять с техническое задание консультировать на каких моментах чему ли могли подумать как это сделал безопаснее на моменте именно дизайн ну вот именно когда ты проводишь в кедре view года такой еще существуют что ты учишься бочков как писать код так чтобы было безопасно чтобы не было уязвимостей мы проводим тренинги с точки зрения любви кода мы спали используем подход грей бокса тестирования когда мы одновременно имеем ее исходный код приложения положим понято дебаг режиме и дальше предположим отправляем поднимаем приложение локально подключаемся к и брешке и дальше смотрим а как же на себя пойдет тот или иной пилот который мы отправились клиента и как он пройдет в приложении вот примерно с точки зрения такова ревью на безопасно ну плюс поиск каких-то типичных небезопасных функций которые практически во всех языках программирования есть различные магические метод gaga валы который ну плохая идея использовать нам разработчики периодически во всех компаниях что-то использовать бездумно хотя не знаю вы их мануале к их языку написано что ребят если вы это используете на десять раз по дому но не всегда там успевает и до 10 раз подумайте собственности такие функции мы тоже ищем глазами несколько ложку каким-то причинам с этими справочных статический анализатор но чаще всего статические анализаторы справляются с таким регион еще мне кажется я часто встречаю такое отношение к безопасности что это ну какие то просто формальности перестраховки паранойя нет ну я в принципе наверное могу конечно бассейн штаты перестраховки паранойя но если у вас есть команда ищите кереть который занимается именно безопасностью вашего приложения вашего кода то мне кажется разработчикам если они научиться дружить и правильно понимаете эту команду станет легче жить потому что куда наверное проще когда теперь принесли уязвимость которую нашли еще на стадии тестирования над статисты ja чем когда какой-то хакер вывести ты не знаешь что-нибудь через приложение перебежит бизнес а посреди ночи сослали надо срочно что-то фиксить мне кажется безопасности перец помогать чуть спокойнее жить разработчик ну вот как на твою практики по них это доносить как мы это объяснять приходится ли на самом деле в большинстве твоем я сталкиваюсь с разработчиками которые сами хотят вникать и самих просыпаться потому что очень быстро до людей доходит то что если самостоятельно в этом всем разобраться если самостоятельно вникнуть и приходить ко мне по любому вопросу и консультировать то скорее всего у них получится написать безопасный ход ее когда он едет до меня аж таким там уже будет минимальное количество проблем и им не придется это исправлять здесь же есть какие то еще не только какую потребность безопасности какие-то еще требования регуляторов например да конечно конечно требование от регуляторов есть мы например и компания с компонент и мы собственно должны использовать вот все что связано с жизнь циклом безопасной проводки это и нам статическими завтра динамически это можно подходить к этим требованием абсолютно по-разному и соблюдать как по разному мы стараемся дамы эти с кривыми соблюдаем мы но мы стараемся делать больше чем требует регулятор потому что же буржуа через да потому что это надо не для того чтобы быть вся действия компании да понятно это надо но в первую очередь как бы это безопасность который влияет и на нас и на наших клиентов и мы хотим предоставлять качественный безопасный продукт может быть расскажу как именно за скиллами года чтобы заниматься тем чем ты занимаешься наверное понимать собственно как пишется код как работает приложение понимать собственно как работе база данных как строится запросы как наверное работает уязвимости и общем и целом как как работает в моем случае как работает вот приложений потому что надо во первых еще но не определенную фантазию и наверное желание бесконечное желание узнавать что-то новое ну вообще звучит вроде как что это надо уметь чтобы уметь разрабатывать тоже имеют может взять особенности чтобы именоваться ведь нюх на безопасность и если я не меня верны сложно про это судить потому что это ведь про себя и про друзей и коллег но я наверное мне сложно сказать если безопасники чем-то отличаются но возможно это просто какое-то специфически специфическое мышление с большим желанием что-то сломать но она но мать она опять же без с одним желанием что-то сломать мне кажется далеко ехать нельзя поскольку надо еще понимать собственно как написан код потому что одно дело отправлять кавычки блага боксом когда ты видишь незнакомец этих и просто кидаешь кавычки другое дело разобраться и распутать общее а что же происходит на бы может быть даже небольшой короткий ликбез такой вкратце пару советов как писать так чтобы у тебя было меньше вопросы к разработчикам чтоб у меня было ну такие основные его наверное наверное самый главный совет это хорошо знаете язык на котором ты пишешь если есть какое-то сомнение по поводу использования той или иной функции пойти еще раз прочитать на сайте посвященному языку про этого например для php в большинстве большинстве функции если они предположению безопасные тот же они сериала из большими красными больших большой такой текст выделены красным или были искать не использовать этой функции если бы именно не понимаете что она делает не понимаете как сделать я безопасный наверное основное то самое главное просто хорошо знать язык и также читать материалы про то лежат такие специфичные для того нового языка и вообще насколько то чтобы хакерские скилл и прокачано безопасника так интересно грань что вы теряете и другие должны между умеет что-то похоже ну мне кажется что хорошо запасников должна быть с очень хорошей хакерских строить потому что в любом случае когда ты работаешь внутри какой-то компании и занимаешься значит и если ты не понимаешь как ломать ты вряд ли поймешь как защищать и туда так ну ладно спасибо тебе за рассказ до самого пусть расскажет пишут безопасный код и чтобы проблем было поменьше и возможно когда это это будут я напоминаю конференция highload плюс плюс 8 зал хотел поблагодарить наших бронзовых спонсоров это компания псб от уз и компания global dotz итак сейчас перед вами выступит следующий спикер его зовут евгений карагодин он расскажет про то как они писали свой domain crawler евгений это full stack разработчик с огромным опытом в разработке от прототипов фото тепло и amazon и облака пишет на ноги на реакция и вот такая вот необычная задач у них возникла в компании соответственно под ваши аплодисменты евгений карагодин так всем привет поехали как уже сказали меня зовут евгений карагодин я работаю в компании плеск и я люблю собственно делиться знаниями и поэтому я сегодня расскажу вам таком необычном проекте для нас который мне дал и госкомпании заниматься так вообще причем здесь что вода ming роллер да и при чем здесь вообще блеск блеск это продуктовая компания и основной наш продукт это панель для управления сервером это все что связано с менеджментом сайтов конфигурацией веб-сервера и так далее и нас использую довольно много сайтов один примерно 11 миллионов сайтов это существенная с ума от в целом от общего количества сайтов догнать и конечно же нас интересует а чем собственно пользуются наши клиенты потому что ну блеска это достаточно большой продукт с большой историей там backlog длиною в жизненно нужно как-то приоритизировать эти фичи и хочется понять что важно для наших пользователей что нет какие инструменты нужно поддержать с каким может быть менее менее важны для нашей аудитории и в целом хочется понимать о чем вообще в интернете люди польза какие инструменты сейчас популярны может быть мы что-то упускаем и так что конкретно нам бы хотелось знать использует например нам интересно использовать люди cdn для этого нужно знать айпи адреса сайтов какими используют ли name-сервера где они хотят name-сервера для этого нужно dns-записи все получать нам хочется знать это очень важный важная тема тогда кто-то псы и кушать хочется понимать использует ли наши клиенты это какие-то сертификаты бесплатные и платные у кого покупают и так далее и конечно же очень важно для нас это понимать какие инструменты используют в плане веб-сервера языка программирования какой движок они используют чтобы сделать с этими инструментами более хорошую интеграцию например для какой для вордпресса да там очень популярный движок и хочется чтобы и там пользователям было более удобным пользоваться также это сделать нас есть три варианта мы можем собирать аналитику из продукта можем купить готовые какие-то отчеты можем в конце концов просто пойти по анализировать все сайты конечно же у нас есть аналитика из продукта достаточно много там все всякой информации подробный но есть и как бы недостатки дав конкретно с продуктовой аналитикой есть вещи которые невозможно узнать изнутри продукта такие как cd и вот подобные вещи мы хотим знать не только про наших клиентов до но в целом про интернет соответственно тут нам наш аналитика не поможет и такой технический момент это не блокер но важный достаточно для нас момент хотя сказал пресс нас есть большой продукт пилить отдельный какой-то небольшой практика намного легче технически до чем добавлять и это новые фичи в большой продукт мы можем и мы делаем это мы покупаем готовые отчеты над крафт это один из лидеров в отрасли вот именно по веб-аналитике но достаточно дорогой это вот 18 тысяч долларов в год и методика не раскрывается как они собирают эти данные вы можете не только либо доверять либо нет ну либо какие-то еще с чем-то сравнивать еще что то делает как это анализ дополнительным это же важный момент для нас мы не можем выделить из этого она из этого отчета данные именно наших клиентов получается нужно парсить сайты возможно и нет давайте разберемся что такое парсинг сайтов в общем у нас есть список доменов нужно послать на каждый домен запрос получить ответ что то из этого ответа понять и сохранить результат задачи easy кажется да то есть легко решить но на самом деле равен прежде чем решать технические проблемы тут встает такой немножко этический момент с парсинга это вообще законно да то есть мы когда я даже когда купил свой доклад в компании даже меня спрашиваю людей может не будем про это рассказывать это вообще может вам что за это будет если люди узнают об этом смотрите я хочу тут прежде такую не технического налоги вот у может быть где-то встречались там на улице может быть или по телефону вы могли звонить да и вас права ли какие-то опросы то есть такие людям они обычно представляются да кто они говорят зачем они что они вас будет спросить как ваши ответы будут использованы вы можете отказаться но никто вас не заставит вас есть опция отказаться от этого даже если вы согласились никто не устроит вам 3-часовой интервью там по дороге на работу да то есть это будет какой-то быстрый опрос или по телефону небольшой опрос на несколько вопросов и это очень точно отображает то что собственно с парсинга да то есть все те же права можем применить и к парсинг у сайтов во-первых не надо маскироваться вот первое что делают люди когда я писал свои парсеры any weather агент пишут и удирать копирует озера ген там скрывать браузера или там использовать это пакет для генерации easier агента смысла делать особо нет это во первых во вторых даже если вы ничего плохого не делаете если вы маскируете но это вызывают уже подозрением во вторых это бессмысленно делать он в прошлом году реке кажется был доклад про то как когда защищаться от парсинга если интересно посмотрите собственно поймете что бессмысленно вообще притворяться браузером ну вернее это очень сложно не достаточно просто поменять user-agent в нашем случае мы пишем гитлер агент plus both второе для роботов есть robots.txt и его нужно уважать скорее всего если вы не компания размером там с google вряд ли в robots.txt кто-то напишет правило конкретно для вашего робота но в целом есть некоторое количество сайтов в которых парсинг их запрещен для всех роботов нужно уважать тут решение до владельца сайта у него были для этого причины и третье правило нельзя наносить урон сайту даже вот так сделаем это на самом деле самая важная дата есть так происходит урон для сайта вы просто создаете для него слишком большую нагрузку если это интернет-магазина примерно танчик не смог купить какой то товар для магазина это будет прямой урон в деньгах если вино случае это какой-то какая-то проблема для сайта да если вы создали лишнюю нагрузку никто этого не любит соответственно этого нужно избегать и кроме того за это на самом деле это это не просто какая этический момент а то есть вроде как нагрузкам и подумаешь потерпят но на самом деле за это можно могут наказать то есть человек реально может написать заявление в полицию да то есть его могут прийти и задавать вопросы там у стройке штрафы какие-то могут быть да там и так далее как минимум даже если человек поленился если вы ведете себя вот агрессивно достаточно прости сайт и вы очень быстро попадете какие-то черные списки и вам просто будет сложно выполнить свою задачу то есть если вас насчет банить cloudflare вот такого уровня провайдеры очень сложно потом от этого избавиться соответственно нужно нельзя наносить урон сайтом учитывать там если еще вы извлекаете как the contents сайтов нужно учитывать лицензии публикован соответственно какие-то локальные еще законные нужно учитывать и тут тоже могут меняться но на самом деле со всем этим можно вообще не заморачиваться и такой проект здесь конкретно приведем команд ролл это ребята уже собственно проделали этот алгоритм у них есть список сайтов они по этим сайтом прошлись сохранили ответы выложили это все на ис-3 bucket это все публично доступно бесплатно пользуйтесь соответственно вы можете уже взять готовые ответы никакого урона ни для кого не будет можете это все анализировать и все будет отлично работать на этом можно было бы закончить но нам этот способ тоже не подошел в тот момент когда мы сравнивали у них было порядка там 90 миллионов сайтов у нас там что-то около 80 миллионов и в общем общее пересечении был не очень большой и на самом деле там не было нужных для нас данных то есть это вот такие как dns-записи сертификаты то есть это достаточно специфичные вещи которые в общем-то не так чтобы сильно интересует людей при момент по всегда то есть это для нас интересно к сожалению в этом году сайте этого не было поэтому нам все-таки пришлось писать свое решение чем парсить на самом деле по большому счету чем угодно можно парсить в нашем случае мы выбрали но джесс просто потому что у нас в этом есть экспертизам и ну плюс и тут понятно да это скриптовый язык легко разрабатывать быстро модель там асинхронного я тоже прекрасно ложится на на эту предметную область и большая часть m and m пакетов тоже как бы нам тут очень помогает есть решили готовил решение на все случаи жизни с одной только проблема столкнули за все время если какая то возникает проблем именно на уровне какого-то сильного модуля с этим поделать ничего не за это фатальная ошибка обработан обработать это никак нельзя я дальше про это расскажу отдельно когда тогда мы с этим столкнулись и что мы с этим все-таки поделали еще такой момент на джесс и голода то есть у нас были ребята которые тоже на голы любят писать и вот на коже все быстрее но конкретно в этом проекте тут как раз такая особенность что мы больше всего ждем именно сетевые ответы да то есть время уходит на ожидание сети и время именно работы самого by the same к это бизнес логики обработки ответов она там несущественное по сравнению с сетью да и тут как бы преимущество вообще сходит на нет и в общем из со спокойной совестью продолжили писать на java скрипте значит мы быстренько запилили прототип чтобы понять вообще это рабочие нет как бы вот подход рабочий для нас можем ли мы собирать данные таким способом запилили довольно быстро все работало очень просто схематично так получилось у нас все то работал допинг в докер контейнеры там пара скрипта все в памяти поняли что все отлично это будет работать но с этой с этой съемка есть проблема да то есть это все запускается на одной машинки в одном докер процессе это очень плохо масштабируется да то есть это нужно чтобы масштабировать это нужно постоянно увеличиваться именно саму сам сервер на котором это всё кроется этого очень не удобно не гибко значит у нас были какие требования то есть нам хотелось чтобы это более-менее гибко масштабировались не сильно отвлекала нас от основного продукта ну так это мы на этом денег не зарабатывать до это просто сколько наш какой-то инструмент разработки их хотелось мне на него всегда выделяется времен такие вещи по остаточному принципу да то есть хотелось чтобы это не не сильно тратить мое время и вот что у нас получилось а которая немножко опустил некоторые незначительные детали чтобы не засорять деталями но принципиально она вот так вот получилось и сейчас мы пройдемся по этой схеме и так начинается всё с каких-то источников данных у нас есть собственно продуктовая аналитика это примерно один с миллионов сайтов мы в парке на регулярной основе несколько раз в месяц мы собираем по ним информацию второе это это просто текстовый файл где-то в истре боккетти в максимум у нас было порядка 140 миллионов доменов на данный момент так и третий момент это он может быть не очень такой важный как бы такой кажется зачем это вообще то есть какой то у нас выпивай есть куда можно вынуть взбить там домен и проколите пропарсить но на самом деле это супер удобно когда именно нужно протестировать такие таешь кейсы какие-то странные домены они бывают а в случае именно с пирсингом из ну то есть у вас совершенно разные цвета то есть у вас может работать тут очень часто вот как раз тот случай когда у меня локально все работает да при парсинге из амазона не работает и вот должен быть удобный инструмент как раз проверить это дальше основной компонент нашей системы на котором вокруг которой все строится эта очередь это нам позволяет собственно гибко масштабироваться и делать ну слабо связана с между элементами системы то есть мы разные worker и по большому счету у нас ничем не связаны кроме общего формата сообщений и в общем то при желании мы можем какие-то части переписать на других более подходящих языках если там где-то такая необходимость возникнет интересный момент с очередями то есть мы когда разрабатывали у нас был уже редис мы такие дома dior cherie добавим взяли пакет bull это довольно известный в npm к системе пакет это очередь на основе редисом там довольно много которых вещи с коротким но его очень легко подключить но оказалось что на наших объемах это он не справляется он просто упирается пасеку в итоге вся очередь работает очень медленно мы заменили это решение на рыбе тэнгу там пришлось чуть-чуть кода дописать что поддержать и фичи которую мы пользовались из пула но в итоге на том же железе да то есть у нас запас еще по производительности там вина еще очень приличный дальше часть прорисован доменов точно есть отдельный worker который рисует айпи адреса и dns-записи этот скрипт он ходит через n bound и получать все dns-записи зачем здесь about в этой схеме возникла у нас такая проблема на самом деле если массированно начинать рисовать домены не каждый доллар это выдерживает у нас там был случай например мы поднимали траулер в кибернетике а там есть свой локальный резольвер и ну он прилег буквально там в первую же секунду как мы начали провалить соответственно клад флоровский к укладке русский интернет уже интерес себя ведут то есть они в принципе отвечают там если деньгам вы локально попробуйте вы можете получить все записи но как только вы начинаете делать это массировано да то есть они все айпи адрес резал год но остальные записи уже не возвращают они нет извините не работает так соответственно мы подняли он болты довольно известное решение именно как каши руси dns-серверу там нужно появляться немножко с настройками но в целом в итоге вы получили там очень хорошее решение вообще от нас не требуют по ресурсам он очень производительный получился и вот покрывает наши запросы текущие это примерно 1000 запросов в секунду он вообще совершенно без проблем обрабатывает дальше такой момент задачи вообщем это вынесли вот то есть у нас такой пропанчик получается да и зачем нас вообще-то вначале мы делаем оризонт айпи адресов тут такая вот проблема с тем чтобы не наносить урон сайтом то есть у нас наши клиенты это хостеры в том числе шарит хостеры и у них получается возможны случаи когда на одном сервере могут быть сотни сайтов а то и тысячи сайтов соответственно если мы пойдем на эти сайты одновременно портить для сервера создастся достаточно серьезная нагрузка как это можно порешать то есть очевидные это можно перемешать перемешивать но это работает только на большую data set of у нас по-разному бывает то есть мы можем маленький datasette а какие то парсить и большие их хочется более надежного решения поэтому мы делаем лоб по ip-адресу для этого мы соответственно сначала рисуем все эти адреса дальше делаем log по ip адресу в одессе и в том числе мы еще делаем паузу между запросом чтобы подряд не ходите на один и тот же сервер следующее у нас компоненты the scheduler собственно он занимается вот этим вопросом полок локон по ip-адресу если если опять и сейчас не залогом то он добавляет этот домен в очередь на обработку и собственно в этом маме процессор это собственно основная часть ради чего все затевалось дает там происходит парсинг и вот это место у нас очень хорошо как раз масштабируются так как тут нет никакого узкого места дамы не упираемся них базу него что мы зависим только от очереди соответственно мы можем очень легко здесь масштабируется мы используем лиц с в амазоне это amazon узкое решение как раз для для запуска докер-контейнер в облаке и тут у нам она очень хорошо подходит потому что мы просто будем вот такую докер вот такой докер-контейнер запустилась только таинство saw стелется по себе и как как только нагрузка растет автоматически стелется лучшим работает или и может быть performa с одного worker они очень большой там сто-двести запросу но разброс большой потому что зависит от очень большого количества факторов но за счет того что мы можем это очень хорошо масштабировать в сумме получается достаточно хорошая скорость и в конце результаты 105 скоростного очередь и дальше там в базу данных манги тут такой тоже интересный момент у нас это планомерно развивалась и на самом деле не все сразу тут у нас в амазонии было и когда мы работаем с большим объемом данных получается что у нас просто большой трафик да и желательно чтобы вот все вот эти вот компоненты между которыми основной трафик не то чтобы они были поближе друг другу и мы попытались том числе вот эту вот этот справа котором он года баба за тоже amazon затащить в амазонии есть документ деби такое решение она совместима с мангой очень легко ее поднять удобно прям супер но очень дорого то есть мы там за месяц с просто потратили 2 тысячи долларов дорогая нас вышло но это было года два-три назад кажется с тех пор ценный поменялись возможно можно еще раз посмотреть на этом собственно про amazon немножко еще пару слов о если почитать лицензионные соглашения с с которым вы соглашаетесь когда начинаете пользоваться этим сервисом там вообще то написано что по оси z и нельзя из амазона но как это работает этот нужен чтобы если на вас жалуются был был официальный повод у вас из из облака выгнать но на самом деле если вы ведете себя хорошо да то есть вы соблюдаете вот эти вот права в которой вначале расскажу никому не вредите то проблем у вас не будет то есть у нас вот за четыре года было всего 33 жалобы на нас было в amazon и во всех случаях собственно мы с людьми договорились объяснили что почему для поддержки амазона важно чтобы как раз решить проблему человека который обратился если проблема решена все к вам больше никто не пристает ну и в сумме подытожу вот этот инфраструктура в амазоне нам стоит примерно 300 долларов это получается 11 миллионов доменов раза три-четыре в месяц мы проходим несколько таких технических моментов по большому объемы данных конкретные примеры будут на но джесс но они в принципе применимы к любому языку значит нужно давать она даже сразу перейдем значит когда у вас большой бен данных нельзя просто загрузить все в память до их желательно их стримить и в ноги если вот так собственно для этого есть хорошая piano dreams и вот здесь пример например то есть вот мы читаем этот и застревать это наш текстовый файлик 140 миллионов доменов это даже просто список доменов ну там сотни сотни мегабайт даже просто простой списка доменов если вы прочитаете в память там эта структура данных это еще больше соответственно мы делаем стрим по пиву и обрабатываем последовательно супер 2 тут супер круто фичу стримов это бэд пришел то есть общая скоро всего пайпа она выравнивается по самому нам за счет этого у вас никогда не будет переполнение по памяти и второй момент это в строчке где в свой парс то есть у нас на входе был вообще то текст ну поток байтов а потом он превратился в структура бетон в поток объектов с которым уже очень удобно работать дальше если вам захочется сделать какой-то свой стрим по может быть немножко неудобно опять но а также недавно появился появилась поддержка асинхронных генераторов по сути асинхронный генератор в ноги это и есть stream то здесь вот пример например мы сделали запрос в мангу получили курсор завернули этого синхронный генератор и в итоге получили стрим который дальше можем попить и получить получаем все те же + 1 bresser там и прочие вот эти вот фичи ну из коробки просто в три строчки и еще один такой интересный момент например api ребята не поддерживает добавление задача в очередь и патч когда только по одному если делать это вот по одному это будет очень долго датой 140 миллионов сообщений последовательно добавлять это очень долго но и там например не выйти ну это же светофор на операция ноги мы должны забыть это результат если мы не выйдем не ждем окончания зато то очень легко мы не контролируем какой объем данных сколько сейчас сообщение висит сколько отправил сколько ни отправилась в итоге у нас получаем опять out of memory тут простое решение в данном случае мы воспользовались готовым npm пакет про мисс пул что мы говорим вот под наша задача от 500 активных провязав как только один кроме завершается он стартует следующий ну соответственно под свои ресурсы можно там это цифра подогнать как вам удобно и эти же принципы это мы говорили на уровне 1 но даже скрипта на самом деле этот же принцип по крайней мере пришла его можно применять на уровне всей очереди на то есть желательно чтобы тот кто добавляет задание в очередь он проверял какой-то проверять сколько там уже есть сообщение да и не добавлялась лифтом слишком много а ждал пока вот этот количество сообщений уменьшится несколько моментов которые мы столкнулись именно во время парсинг а сайтов вообще там очень много все на страну встречается и конечно нужно обязать вообще данным этим нельзя доверять исходите из этого да то есть нельзя доверять этим данным всегда пишете код так и соответственно два таких основных момента это тайм-аут и то есть м это могут на любом этапе при установке соединения во время ответа и так далее то есть везде надо жестко выставлять лимиты и на тело ответы естественно то есть у нас были случаи когда с главной страницы сайта отдается pdf к там на сотни мегабайт но спасибо почитаем другой раз и вот эта проблема с фатальной ошибкой в нашем случае это была проблема с сертификатами то есть нашлось несколько сайтов у которых такие составе сертификаты от которых надо просто разваливается с этим ничего нельзя поделать на этот случай нам нужно просто добавить такой механизм в ноги вернет вот этом механизме работы варваров которые достают задание из очереди что если мы там берем это задание уже там например в третий раз значит всё это плохой плохой домен просто отсеиваем в отдельную очередь и дальше уже потом кто-нибудь отдельно посмотрит что не так с этим доменом может быть можно какой-то фильм сделать то может быть ничего нельзя сделать как вот случае с с сертификатами это вот мы сделали на уровне от красоты интеграция между очереди задач и маркером немножко капитанство если что-то может пойти не так она обязательно пойдет не так особенно когда нагрузка меняются на порядке то есть когда вот с миллиона там 10 миллионов 100 миллионов будет ломаться танк делают вы вообще не могли представить что может поломаться для этого нам нужно обязательно нужно иметь мониторинг причем мониторинг не просто по ресурсам там сколько там happy утратится там или памяти понятно это нужно но это не главное главное нужно выбрать некоторые продуктовые метрики в нашем случае это количество раз партийных сайтов и от него мы смотрим в процентах количество например неуспешных резонов проблемы с рисованным понятно что всегда будут какое-то количество сайтов которые не резолвится но если вдруг из двух процентов стала там 80 процентов ну что-то сломали значит нужно нужно разбираться что пошло не так значит наши оповещения приходят флаг мы разбираем их там сн3 и вот из из мониторинга и так далее я тут не буду сейчас подробно становится у нас есть отдельный доклад если вам интересно прочитав про наш подход можно посылочки пойти посмотреть итак подытожим если вы выделите бота то делайте его этичным если есть возможность не делать год а не делайте его восполнить воспользуйтесь готовыми до пассатами знаете те инструменты которыми пользуетесь и знаете их преимущества и недостатки где они могут вас подвести нельзя вообще доверять никому в интернете и обязательно предусмотрите возможность отсеять по автоматически отсеивать какие-то плохие домен и потому что ну всегда найдут случай которые вы не могли даже представить что они могут вам сломать обязательно делайте мониторинг и оповещение у меня все спасибо за внимание так переходим к вопросам вспоминать какие вопросы вы хотели задать я пока хочу поздравить нагородить евгений акра года назад выступления спасибо тебе большое отличный доклад очень много я узнал про crawling как можно парсить доменные домену информацию как нельзя про amazon и про все остальное и так первый вопрос пожалуйста вопрос такой сама просто наверное откуда вы взяли 140 миллионов доменов тут я наверно вам не отвечу то есть в разработку этот список уже пришел готовым отличный ответ кстати да как как можно можно наверно празднуем например вот как как стартовой точкой может быть вот команд куда я привел пример там порядка 80 90 миллионов доменов ну это открытые данные то есть их можно брать оттуда можно можно просто по вы его пройтись по сайтам как пауком с сайта на сайт сайта на сайт он связанный или где то получим ну мы все мы в своем именно краулеры таким не занимаемся мы не мы не собираем ссылки из вот контента страниц но в целом наверно тоже можно пойти конечно но это довольно долгий путь так еще вопросы да да конечно так микрофон пожалуйста у нас онлайн есть нужно чтобы онлайне тоже был звук поэтому вопрос касается не парсинга можно задать или вот что касается плеска пожалуйста сейчас набирают популярность такая история что у нас накручивается pft поведенческий фактор вот и сейчас очень много среди вебмастеров баны с точки зрения яндекса то есть яндекс версия банят за то что якобы человек накручивает в день ческие факторы и google тот же также adsense но . с точки зрения вебмастеров блеска же про веб-мастеров и я хочу сказать что это сейчас большой ком набирает это проблема и история такая что пайетки накручивают собственно не сам человек накручивают скорее всего вот а конкуренты или еще кто-то и вот было бы здорово если вы может быть в крупных компаниях блеск может быть и ваши конкуренты может быть давали какие-то интересные решения потому что сейчас достаточно большое сообщество веб-мастеров страдать за в том числе потому что ехали им самим скликивают рекламу то есть на и заходит значит робот и скликивают рекламу тем самым панин аккаунтор себя и adsense ну и соответственно это тот человек собственно кто-то заказывает и это никак не осветить то есть по факту по факту это нужна защита от ботов правильно то есть ну на самом деле ну такие сервис средством числе я не могу сказать именно про поведенческий фактор дано обнаружением ботов занимается много кто то есть такие services том числе cloudflare например детектив ботов ну окей тут нас вот есть pm он себе запишет хороший день спасибо взять прямо на доклад я считаю так а еще кто-нибудь интересуется так у меня вопрос не пожалели ли выше то взяли моду вот на данном этапе все ли вас устраивает нет ли идей что по абсолютно нет вот я снова в докладе это упомянул то есть у нас была единственная проблема с этими сертификатами в остальном вообще мы у нас проблем не было с этим и папе фомс у нас полностью устраивал как он работает то есть при работе с сетью при crawling in ода в целом такой идеальный инструмент наверное можно рекомендовать да то есть тут очень моделью тогда синхронного новый очень подошла нам помогает а как альтернатива еще кроме голлинга может рассматривали или как взяли моду потому что лучше знака но да ну собственно мы выбирали из тех языков которые более-менее есть экспертиза в команде это были в там печки но do i go long ну собственно на печке не очень хотелось писать потому что это будет немножко посложнее пары делать такой такой паркер вот собственно из этих трех вариантов выиграл но джесс окей так же лучший вопрос он был единственный наверное да из зала больше нас не появился желающих задать вопросы какие-нибудь так вот конкуренты здравствуйте внимательно а вы сказали что стоят 300 долларов в месяц да вот вот это вот именно вот эта машина про прогоняет 100 миллионов или нет это это про это оценка вот этих регулярного парсинга 11 миллионов доменов но мы их несколько раз в месяц там примерно можно прикинуть 40 50 миллионов примерно там оперативка процессор какой нужен там ну сами квартиры они не очень большие то есть там либо самый маленький да либо 2 там по размеру и нас и в защиту если смотреть ему сравнивать почту то есть они достаточно нетребовательны именно как рисуется я начала то не слушал это про облака да да у нас в амазоне она будет так еще кто-нибудь ладно уже лучший вопрос 1 2 какой бы давайте 1 1 а стоп стоп стоп так у нас включение видео мы такой еще не пробовали на экране человек сейчас попробует тебя тоже спросить итак третий претендент давай все эфир спрашивай пожалуйста тест-системы с проверим как взорвалось дал так ладно все мы пытались потестили на вроде и так кто задавал первый вопрос поднимите руку пожалуйста он не дождался видим да очень поднимите ручку к вам подойдет наш helper подарит вам подарок эта книга а сейчас давайте под agreement и проводим евгения в кулуары по спасибо не общаетесь сейчас у нас небольшой технический перерыв а после его будет доклад про система те едва для тестирования финн всех систем под нагрузкой ex создает эти платформы для цифровой трансформации бизнеса помогая заказчикам получать устойчивые конкурентные преимущества мы фокусируемся на заказной разработке программного обеспечения используя передовые технологии и подходы наш отраслевой опыт и технологическая экспертиза усиленные готовыми программными компонентами акселератора my разработки позволяют решать бизнес-задачи любого уровня сложности сегодня многие проекты просто развития компании последних лет обусловлено тем что мы работаем на острие самых современных информационных технологий на любые технологии команде these руются и становятся общепринятыми чтобы обеспечить движение вперед необходимо постоянно находить что-то новое я уверен что neoflex это такая компания которая на и начали но метки развития сможет предложить рынку новые равна людей вне зависимости от уровня сложности объема задачи и географии мы с заинтересованностью относимся к каждому клиенту мы ценим наших заказчиков и их доверие так как понимаем что именно их выбор дает нам возможность принимать участие в инновационных проектах влияющих на развитие отрасли а если мы беремся за какой-то проект мы обязательно доделываем его до конца и с нужным результатам если мы работаем с каким-то клиентам то мы делаем так что клиент получил то что он хотел тогда когда он хотел из тем качествам до которой нам не просто будет стоять на мы будем гордиться стремясь быть лучшими в своем деле мы постоянно осваиваем новые технологии и инструменты развиваем методологию своей деятельности и совершенствуем собственные акселераторы разработки для того чтобы обеспечить максимально качественный результат для заказчика сегодня мы старались делать то что мы не делали вчера если мы задумываем что-то на завтра то обязательно так как мы не делали и лет как бы по-новому мы строим команду или используем новые технологии или используем какие-то новые подходы но обязательно делаю следующий шаг мы делаем его актов другому как-то интереснее как то лучше география наших проектов охватывает более 18 стран европы и азии и африки обладая глубокой технологическая экспертизу и знанием бизнес-процессов мы реализуем проекты для крупнейших финансовых организаций в партнерстве с ведущими вендорами айти решений мы работаем в очень высокотехнологичной сфере области информационных технологий преимущественно для финансовых институтов сегодня компетентность выходит на первый план банки компании укрупняются там работают очень высоко профессиональные люди кого же они выбирают в качестве партнеров для своих айти проектов конечно же те организации в которых с их точки зрения есть необходимая экспертиза которые могут дополнить знания внутренней команды заказчика главное в neoflex это люди их знания и скорость мысли в отношениях с клиентами доверия мы знаем что такое ответственность подкрепляем каждое слово действием и результатом об этом говорят сотни успешных проектов для крупнейших российских и иностранных банков и компаний лидеров своих отрасли neoflex создает эти платформы для цифровой трансформации бизнеса помогая заказчикам получать устойчивые конкурентные преимущества мы фокусируемся на заказной разработке программного обеспечения используя передовые технологии и подходы наш отраслевой опыт и технологическая экспертиза усиленные готовыми программными компонентами акселератора my разработки позволяют решать бизнес-задачи любого уровня сложности сегодня многие проекты просто развития компании последних лет обусловлено тем что мы работаем на острие самых современных информационных технологий на любые технологии команде these руются и становятся общепринятыми чтобы обеспечить движение вперед необходимо постоянно находить что-то новое я уверен что neoflex это такая компания которая на и начали но метки развития может предложить рынку новые равна людей вне зависимости от уровня сложности объема задачи и географии мы с заинтересованностью относимся к каждому клиенту мы ценим наших заказчиков и их доверие так как понимаем что именно их выбор дает нам возможность принимать участие в инновационных проектах влияющих на развитие отрасли а если мы беремся за какой-то проект мы обязательно доделываем его до конца и с нужным результатам если мы работаем с каким-то клиентам то мы делаем так чтобы клиент получил то что он хотел тогда когда он хотел из тем качествам до который нам не просто будет стоять на мы будем гордиться стремясь быть лучшими в своем деле мы постоянно осваиваем новые технологии и инструменты развиваем методологию своей деятельности и совершенствуем собственные акселераторы разработки для того чтобы обеспечить максимально качественный результат для заказчика сегодня мы старались делать то что мы не делали вчера если мы задумываем что-то на завтра то обязательно так как мы не делали или как бы по-новому мы строим команды или используем новые технологии или используем какие-то новые подходы но обязательно делаю следующий шаг мы делаем его акта другому как-то интересно как то лучше география наших проектов охватывает более 18 стран европы и азии и африки обладая глубокой технологическая экспертизу и знанием бизнес-процессов мы реализуем проекты для крупнейших финансовых организаций в партнерстве с ведущими вендорами айти решений мы работаем в очень высокотехнологичной сфере области информационных технологий преимущественно для финансовых институтов и сегодня компетентность выходит на первый план банки компании укрупняются там работают очень высоко профессиональные люди кого же они выбирают в качестве партнеров для своих айти проектов конечно же те организации в которых с их точки зрения есть необходимая экспертиза которые могут дополнить знания внутренней команды заказчика главное в neoflex это люди их знания и скорость мысли в отношениях с клиентами доверия мы знаем что такое ответственность подкрепляем каждое слово действием и результатом об этом говорят сотни успешных проектов для крупнейших российских и иностранных банков и компаний лидеров своих отрасли neoflex создает эти платформы для цифровой трансформации бизнеса помогая заказчикам получать устойчивые конкурентные преимущества мы фокусируемся на заказной разработке программного обеспечения используя передовые технологии и подходы наш отраслевой опыт и технологическая экспертиза усиленные готовыми программными компонентами акселератора my разработки позволяют решать бизнес-задачи любого уровня сложности сегодня многие проекты просто развития компании последних лет обусловлено тем что мы работаем на острие самых современных информационных технологий на любые технологии команде these руются и становятся общепринятыми чтобы обеспечить движение вперед необходимо постоянно находить что-то новое я уверен что neoflex это такая компания которая на и начали но метки развития сможет предложить рынку новые равна людей вне зависимости от уровня сложности объема задачи и географии мы с заинтересованностью относимся к каждому клиенту мы ценим наших заказчиков и их доверие так как понимаем что именно их выбор дает нам возможность принимать участие в инновационных проектах влияющих на развитие отрасли а если мы беремся за какой-то проект мы обязательно доделываем его до конца и с нужным результатам если мы работаем с каким-то клиентам то мы делаем так чтобы клиент получил то что он хотел тогда когда он хотел из тем качествам на который нам не просто будет стыдно мы будем гордиться стремясь быть лучшими в своем деле мы постоянно осваиваем новые технологии и инструменты развиваем методологию своей деятельности и совершенствуем собственные акселераторы разработки для того чтобы обеспечить максимально качественный результат для заказчика сегодня мы старались делать то что мы не делали вчера если мы задумываем что-то на завтра то обязательно так как мы не делали и лет как бы по-новому настроим команды или используем новые технологии или используем какие-то новые подходы но обязательно делать следующий шаг мы делаем его как-то по-другому как-то интереснее как то лучше география наших проектов охватывает более 18 стран европы и азии и африки обладая глубокой технологической экспертизу и знанием бизнес-процессов мы реализуем проекты для крупнейших финансовых организаций в партнерстве с ведущими вендорами айти решений мы работаем в очень высокотехнологичной сфере области информационных технологий преимущественно для финансовых институтов и сегодня компетентность выходит на первый план банки компании укрупняются там работают очень высоко профессиональные люди кого же они выбирают в качестве партнеров для своих айти проектов конечно же эти организации в которых с их точки зрения есть необходимая экспертиза которые могут дополнить знания внутренней команды заказчика главное в neoflex это люди их знания и скорость мысли в отношениях с клиентами доверия мы знаем что такое ответственность подкрепляем каждое слово действием и результатом об этом говорят сотни успешных проектов для крупнейших российских и иностранных банков и компаний лидеров своих отрасли neoflex создает эти платформы для цифровой трансформации бизнеса помогая заказчикам получать устойчивые конкурентные преимущества мы фокусируемся на заказной разработке программного обеспечения используя передовые технологии и подходы наш отраслевой опыт и технологическая экспертиза усиленные готовыми программными компонентами акселератора my разработки позволяют решать бизнес-задачи любого уровня сложности сегодня многие проекты просто развития компании последних лет обусловлено тем что мы работаем на острие самых современных информационных технологий на любые технологии к монетизируются и становятся общепринятыми чтобы обеспечить движение вперед необходимо постоянно находить что-то новое я уверен что neoflex это такая компания которая иначе и номер и развития сможет предложить рынку новые ровно людей вне зависимости от уровня сложности объема задачи и географии мы с заинтересованностью относимся к каждому клиенту мы ценим наших заказчиков и их доверие так как понимаем что именно их выбор дает нам возможность принимать участие в инновационных проектах влияющих на развитие отрасли а если мы беремся за какой-то проект мы обязательно доделываем его до конца и с нужным результатам если мы работаем с каким-то клиентам то мы делаем так что клиент получил то что он хотел тогда когда он хотел из тем качествам до которой нам не просто будет стоять на мы будем гордиться стремясь быть лучшими в своем деле мы постоянно осваиваем новые технологии и инструменты развиваем методологию своей деятельности и совершенствуем собственные акселераторы разработки для того чтобы обеспечить максимально качественный результат для заказчика сегодня мы старались делать то что мы не делали вчера если мы задумываем что-то на завтра то обязательно так как мы не делали или это как бы а новому мы строим команду или используем новые технологии или используем какие-то новые подходы но обязательно делаю следующий шаг мы делаем его актов другому как-то интереснее как то лучше география наших проектов охватывает более 18 стран европы и азии и африки обладая глубокой технологическая экспертизу и знанием бизнес-процессов мы реализуем проекты для крупнейших финансовых организаций в партнерстве с ведущими вендорами айти решений мы работаем в очень высокотехнологичной сфере области информационных технологий преимущественно для финансовых институтов сегодня компетентность выходит на первый план банки компании укрупняются там работают очень высоко профессиональные люди кого же они выбирают в качестве партнеров для своих айти проектов конечно же те организации в которых с их точки зрения есть необходимая экспертиза которые могут дополнить знания внутренней команды заказчика главное в neoflex это люди их знания и скорость мысли в отношениях с клиентами доверия мы знаем что такое ответственность подкрепляем каждое слово действием и результатом об этом говорят сотни успешных проектов для крупнейших российских и иностранных банков и компаний лидеров своих отрасли neoflex создает эти платформы для цифровой трансформации бизнеса помогая заказчикам получать устойчивым листы а и и и вот куба добрый день меня зовут александр сергиенко я ведущий разработчик направлении потоковой обработки и больших данных компании neoflex наша компания имеет более чем 15 летнюю историю и обладает обширной expecting в области фильм тех а банковском секторе сфере кредитных бюро не секрет что этот сегмент айти является одним из самых технологичных и трепетных с точки зрения объемов данных скорость их обработки такта market масштабируемости отказоустойчивости вместе эти требование дают разработчикам широкие возможности для технического творчества и применения новых концепций подходов и технологий в этом тип толк я бы хотел осветить тему монетизации кредитных историй и выделить наиболее яркие с технической точки зрения моменты с которой мы сталкивались проект компания flex связанные с построением аналитической платформы крупнейшего российского кредитного бюро позволяет раскрыть тематику обработки и колоссального объёма данных на фоне высоких требований к отзывчивости стабильности и горизонтальной масштабируемости системы законодательства российской федерации обязывает финансовые организации передавать сведения о кредитных историях заемщиков в так называемые кредитные бюро каждый приобретенный кредит будь то покупка нового автомобиля или ипотека каждый платеж или просрочка даже сам факт запроса отчета по кредитной истории выполнены через интерфейс на веб-сайте все это становится частью истории входит в обширный и непрерывно расширяющийся массив данных кредитного бюро в случае рассматриваемые аналитической платформы речь идет о сотнях миллионах хранимых кредитных историй и связанной с ним информации каждый день кредитное бюро обрабатывает десятки миллионов запросов отчетов по кредитным историям сотни гигабайт новых изменений от кредитных организаций и формирует миллионы уведомлений о полученных обновлениях для банков клиентов в основе бизнеса кредитного бюро и же три типа продуктов обслуживание запросов отчетов по кредитным историям анализ изменений в историях и формирования уведомлений различных типов это так называемые триггеры а также оценка заемщика с точки зрения его надежности и платежеспособности так называемые ско ринге триггер это некоторые события которые являются реакцией на то или иное изменение в кредитной истории чем меньше времен отрезок между изменением и производным событиям тем выше вероятность успешной монетизации этих данных рассмотрим реальный пример михаил открыл счета в двух банках каждый из которых занимается потребительским кредитованием оба банка охранят кредитной истории своих клиентов в одном и том же кредитному бюро но банк номер два назовем его в best offer дополнительно приобрёл продукта триггеры в отношении ряда своих клиентов в том числе и нашего героя михаила михаил приобретает в кредит новый смартфон и по случайности для расчета процентов и переплат обращается к менеджеру банка номер один клиентам которого сама является банк запрашивает кредитную историю михайлов бюро и после получения ответ и предлагает ему кредит под восемь процентов запрос кредитной истории от банка номер один также является ее частью аналитической платформы бюро обрабатывает запрос с точки зрения триггеров и генерируют уведомление для второго банка то есть банковой с best offer который ранее приобрела создать соответствую слугу реагируя на полученную давление банк номер два присылает михаилу с мсс выгодным контур предложением кредита под более низкий процент и клиент с радостью его принимает просмотренный сценарий описывает лишь малую часть возможных вариантов монетизации данных по кредитным историям ходе анализа требований и предпроектного обследования эти ландшафты кредитного бюро мы поняли что технический 100 кв asdasd а в основе которого лежит симбиоз уже ставший классикой big data и потоковых подходов к работе с данными может решить существующие проблемы и дать бизнесу возможность реализовывать принципиально новые продукты при разработке аналитической платформы критически важными для нас являлись следующие требования первое это снижение там тумаркин для новых продуктов второе переход от пакетные к потоковой обработки и real-time продуктом с минимальными задержками обработки третье внедрению технологий машин в обучения и жизненный цикл разработки моделей так называемый м.л. abs для задач с хилинга и 4 надежность гибкая горизонтальная масштабируемость и высокая отказоустойчивость платформы для достижение поставленных целей мы применяли лучшей практики devops я blacks работаем с репозиторием моделей мой flow и тепло реализуем процессы соседи используем современные фреймворке библиотеки потоковый как стоит вас такой state hwy обработки данных light bank light flow а подчеркни капочи spark а к streams оперируем до толик на базе hadoop используем apache cassandra до оперативного ханин данных и церковь сохранения файлов масштабирование отказоустойчивость обеспечиваются рядом подходов и технологий в основе которых лежит платформа артист рации контейнеров опыт shift сад ранней части топологий аналитической платформы находятся высоко нагруженные потоковые приложения которые также называются pipeline нами они разработаны с использую фреймворка апачи fling который располагается под зонтом продукта облачная регистрации разнородных потоковых сервисов которые заяц alignment клауд flow татур платформы полностью соблюдают концепции реактивной архитектуры взаимодействие между отдельными сервисами и pipeline и полностью асинхронно и реализовано с помощью пачиков к политическая платформа разделена на технологические под модули которые обладают слабой связностью независимо масштабируются и строго изолированной можно выделить следующие основные модули аналитической платформы первый это pipeline и подвале для обработки данных которые обслуживают процессы захвата анализа и трансформации входных данных 2 этапа система master data management которые идентифицируют изменения или запрос и определяет к какому субъекта кредитной истории он относится 3 этапа клайн и триггеров и поклонись хокингов это основные и самые нагруженные потоковые приложения платформы который обслуживает соответсвующий бизнес продукции в том числе оперирует модели машинного обучения в школе нга система выявления изменений информирование гектору в данных для бизнес-парк line of и модели обучения это наш последний подмога источники данных романтической платформы можно разделить на два сегмента первый сегмент это онлайн поток который включает запросу скоринга и отчеты по кредитную историю помашу these руется в платформу при помощь юриста и пиа и построенном на базе той книге клок это поток обслуживается state vs микро с сервисами и водяными pipeline амин основе ложбинка outlook и а к string на данный момент они обрабатывает около трех с половиной 5 миллионов запросов в сутки второй сегмент источников это пакетные данные которые состоят из файлов с изменениями по кредитным историям пакетом запросов спаррингов отчетом по историям а так же с сервисным файлами которые обслужен из продукта платформы например в списке клиентов для отслеживания в отношении триггеров этот сегмент обслуживается высоко нагруженными потоками приложениями на основе апачи фринк и в данный момент обработка только 80 миллионов изменений в сутки с неравномерным исцелением нагрузки с пиками до 15000 событий в секунду каждый сегментов и модуля аналитической платформы спроектирован с учетом гибкой горизонтальным штабе руи мастер пакетные данные 2 сегмента анализируются и разделяются на отдельные события с момента появления такого события платформы функционирует в рамках событий на ориентированной архитектуры каждое обновление или запрос проходит идентификацию в подсистеме master data management и обогащается средними о субъекте изменения эти обогащенные дискретные события в потоковом режиме передаются в под систему выявления изменений и далее обрабатывать специфических зависимости от типа при обработке изменения кредитных историй рассчитываются dm ты так называемые состояние было стола и в соответствии с текущими настройками формируются новые события для дальнейшего анализа в pipeline их триггеров и формирование онлайн уведомлений для клиентов бюро давайте вспомним наш кейс михаил мы его покупкой подсистема оперативной обработки событий также занимается расчётами векторов так называемых печей для моделей спарринга при поступлении запроса на scaling вектор извлекает из оперативного хранилища и подается на вход модели бёдер из запроса сама же модель при этом сзади плана как обычный под кластера опыт shift разработка модели машина обучения для сколько выполняется в отдельной области так называемой аналитической песочнице это 1-ый класс тропам shift и инсталляция cf или hadoop оснащена инструментами для работы специалистов в области дата сайнс проверки гипотез валидации моделей а также механизме вынос и моделей в продакшн на базе репозиторию в модели имели flow результаты работы бизнес сегмента фанатической платформы . результаты запросов кредитных историй сколь инков а также события по триггером могут передаваться к ментам в режиме онлайн через и пео или с помощью server and events или пакет на с помощью файлов механизм получения результатов зависит от возможности и потребности клиента и никак не ограничиваться стороны платформы в ядре технологического стыка платформы лежит framework артист рацией гетерогенных потоковых park live live band плавать flow фактически это зонтичный фреймворк объединяющий кубер найти с операторы apache spark а почему young & ака который позволяет строить разнородной с точки зрения бэкенд pipeline в контексте единого метаописания и и процесс в диплом этап среди вопрос 4 кубер найти сразу и мы действия между компонентами pipeline of асинхронная для этого используется пачиков жизненный цикл оплачу фринк и апофис парке делегируется соответствующим кубер на тесс оператором подавляющее большинство потоковых приложений аналитической платформы работают с хранением состояния так называемый стифел обработкой 90 процентов straight pull обработки выполняется с помощью по тифлинг остальные десять с помощью apache и spark и в основном это касается работы с даты лайк и hadoop потоки встретил обработки на по чаплин зачастую шарди раваны с высоким максимальным параллелизмом что позволяет быстро менять степень параллелизма операторов на более на нужных участках проекты выполнять горизонтальное масштабирование системы с появлением нативной поддержки губернатор в релизе апачи fling 113 перспективы мы планируем отказаться от текущего купить из операторов рынка от компании не вт и реализовать динамическое масштабирование frank гробов тоже настал момент делать выводы проект аналитической платформы для активного бюро позволит полностью перевести существовавшие ранее бизнес продукты на real-time обработку радикально повысило производительность отказоустойчивость масштабируемость за счет новые реактивные событий на ориентированные архитектура ключевой бизнес продукты триггеры теперь выполняется в режиме онлайн и задержка между получением обновление и формированием события для клиентов 90 процентов случаев не превышает 10 секунд при пиковых нагрузках аналитическая платформа обрабатывает десятки миллионов изменений ежедневно обслуживает высокие пиковые нагрузки до 15000 событий в секунду и при этом имеет возможности для гибкого горизонтального масштабирования с ростом числа клиентов средств разработки проверки и вывода продакшен для модели машину обучения также позволяют повысить качество продукта в спарринге я снизить тайм ту марки для новых моделей и продуктов технологии фас дата и потоковой обработки в целом позволяют достичь внимание задержек и значительно повысить монетизацию ваших бизнес данных олег привет я артем я бывший доктор хабра сейчас ведущий подкаста мы обречены рад познакомиться здравствуйте добрый день меня зовут сметанин олег я технический архитекторы delivery лет практики разработки заказных приложений и сервисов компании accenture accent я слышал очень большая компания да действительно компания кончая это глобальная компания официальным метрикам в ней больше 500 тысяч сотрудников 50 странных 200 крупнейших организациях города компания глобальной эта глобальность видно когда ты общем находишься в диалоге или можешь обратиться там в базу какую-то носить базы база знаний и ты можешь посмотреть как примерно подобные проекты решались в японии там недавно или в испании как такие проекты делались такая хорошая к система который естественно приходится управлять это управление выглядит может выглядеть там примерно следующим образом сформировали новое направление плат first то есть это стратегическое направление в котором сейчас компания развивается определили в этом направлении там 70 тысяч сотрудников всех обязали так стать не просто обязали способствовали тому что все начиная от аналитиков и заканчивая исполняющими директорами получили сертификаты официальными то есть прям это от виндзоров сертификаты все по-честному со сдачи экзаменов все это в массовом масштабе да то есть это эта работа действительно и соответственно таким образом и идем и delivery мы то есть стоит ли дальше расскажет каким проектом занимается да ну вот наши заказчики это поповой компании с таких индустрий как банками то есть финансовой сферы retail ресурсы они приходят к нам для того чтобы мы помогли им развить новое направление бизнес и технологических обеспечить или модернизировать существующем бизнесе не это из тех проектов которые сделаны с микро сервисной архитектурой я вот нашим заказчикам и delivery club на этих приложения с микро сервисной архитектурой для современных регистраторов таких как к гарнец лучше вт вот из таких приложений с которым вы могли наверное столкнуться можно отметить такое решение как кредитный конвейер для банков решения позволяет с учетом рисковых моделей данных о клиенте данных а его доходе данных профиля клиентов банки размер разноплановых данных из внешних источников система анти фродо рассчитать преподобный предлагаю предложения по кредитам для десятков миллионов потенциальных заемщиков ну и за 40 секунд например автоматизировано принять решение о выдаче кредита при обращении заемщика по существующим каналам связи то есть мобильном банке там обратиться и соответственно получит за 40 секунд ответ другим каким-то проектом решением с которым вы могли столкнуться является логистическая логистический сервис который позволяет заказать на алиэкспрессе какие-то товары онлайн и забрать их в ближайшем магазине это система которая интегрирует и большое количество лидеров и комикса и предоставляет интерфейс и и айпи для скажем минорных участников этого и камер с таких мелких скажем интегрировать систему управления складами системы управления транспортом систему управления лагерными сетями поста матными сетями вот и уже сейчас это решение перевозит порядка двух миллионов ваших заказов привозят их в магазин но вот как жить как делать правильно чтобы вместо монолитного да не получите интеграционный от ну есть да ряд методик которые мы рекомендуем скажем так тогда когда мы внутри системы это сервис и наши мы и там формируем некую микро сервисную поставку она включает себя имплементацию самого сервис это всем понятно дальше клиента к нему на том нативном языке на котором будет потребитель большой долей вероятности работы то есть он в постельном случае просто берет нашего клиента который может работать по синхронным протоколом по асинхронным протоколом и мы считаем что мы транспортом такой глупый микро сервиса умные и мы подставляем красивого удобного понятного клиента так чтобы на этапе компиляции уже было понятно где этом потребитель и и им этот поставщик то допустим расходимся это вот там одна из первых мир 2 мера значит но если это потребитель какой-то внешней почти мы ту самую спецификацию поставляем типа об анапе а если например из новой истории для того чтобы он смог на любом другом языке который там считают нужным использовать своих систем так по практике мы интегрируем ся совершенно разными технологиями бывает там на той стороне и поэтому например у нас java то там поэтому мы там допустим для них сразу там об анапе схему поставляем причем важно тут два момента несколько текущую схему поставить для сколько договориться о будущих изменениях то есть вот это вот самая большая проблема сказать что те и вот к такому-то релизу у нас будет вот такая ситуация и пожалуйста под нее подстраивать значит это очень важный аспект который я во многих корпорациях ну скажем так как на базе базовый базового менеджмента api не вижу часто истории это когда сами интеграции вот у нас есть условный confluence и мы там документацию пишем то какой то плюс минус произвольной форме нет компьютер рассчитаем они компьютера или это нельзя формальной спецификации щит считать и естественно там много расхождений может быть таким подходом и когда и выясняется то всем на гораздо на поздних этапах таких как fat32 стенды только там потом поняли что серьезно разошлись в понимании происходящего потому что человек читал не компьютер не машина вот-вот в эту же микро сервисную поставку входит там блоки связаны том числе своим то есть там перри используем компонент каждый как бы микро фронт свой делают для своего домена разные аспекты и в том числе какая-то легкая интеграция и связям в и компоненты которые прибиты гвоздями если по-простому говорить каким-то сервисом который легко использовать чуть-чуть под конфигурировал и все вот тебя есть элемент выбора и справочниками знак локаций точки доставки с картами со всеми штуками вот есть другие практики такие как вот контрактные тестирования и это еще гораздо более сложная история и надо сказать что тоже корпорации многие к этому не готовы то есть на уровне у методологий мы этого не видим когда например консьюмер потребитель сервиса может выставить свою часть контракта сказать что вот пожалуйста провайдер я жду от тебя вот такие вот там поля какие-то значения в каких-то местах в таких-то структурах и ты не можешь выпустить обратно не совместим и сервис не учтя этого опять же управление версиями в общем набор техник вот виде микро сервис на поставки которые правильно артефакты для консьюмер а для потребителя выдает контрактные тест и вот они все помогли вы в значительной степени все это интегрировать без шапки ну куда бы не завел нас погряз я желаю вам успехов всем спасибо до свидания спасибо большое спасибо что пригласили сами все еще хайло плюс плюс 8 зал топ-100 мы посмотрели поручив токов тех толков с олегом сметане нам это технический директор компания центр одного из наших партнеров до этого был тик-так с александром сергеенко ведущим специалистом компании neoflex но сейчас перед вами выступит следующий спикер наталья крюкова наталья с 2011 года работает в компании kazak pro и руководит очень интересным проектом который называется те я чту это проект с открытым исходным кодом для автоматизации тестирования финн тех проектов подробнее про всего в расскажут а то ли так под ваши аплодисменты встречайте добрый день меня зовут наталья крюкова я работаю в компании сокотра и вот уже больше 10 лет и за кто занимается тестированием сложных систем в основном в сфере финансового сектора компания exact про данный момент состоит из больше чем 6 100 специалистов и мы имеем несколько офисов по россия также в грузии в америке и в англии наши клиенты это бирже и простоя системы по всему миру от токио дантон пола от йоханнесбурга до осла и наши клиенты в число наших клиентов также входит более 20 по бир из более половины бирж из топ-20 кроме тестирования мы также занимаемся разработкой программного обеспечения за водкой если бы точнее отдаст во рту love test of the love которые мы используем в нашем внутреннем тестирование то есть они используются нашими специалистами и также используется на стороне клиента 1с тулов наших новых тулов которые мы на данный момент разрабатываем а также которые мы выложили в прошлом году в открытый доступ на git хоп базовую часть этого на звучать платформы называть эти чту и я сегодня хотел рассказать про данный tool потом как мы и почему мы и решили его разрабатывать те что это гринборд который предназначен для тестирования комплексно финансовых систем первую очередь нтн тестирование ты что поддерживает разнообразные протокол уже сейчас а также мы планируем в будущем добавлять новые протоколы кроме того утечку в широкие возможности для интеграции с от с системами is detected вакин системами системами дата анализа мы также вы полностью готовы к тому чтобы быть развернуты в облаках не только на железе кроме того птичку есть возможность you автоматизации но в первую очередь именно как часть intent сценариев без фокуса непосредственно на тестирование ей то есть почему почему мы решили что нам необходимо разрабатывать тестовый толк в первую очередь конечно это исходит от особенностей финансовых систем и также от некоторых limitation of в тестовых а прочих которые были нами замечены в процессе работы об этом мы поговорим в первой части так вода также я бы хотела рассказать поподробнее что есть принц птичку и почему мы считаем что что конкретно мы подразумеваем под мечту и под парадигмой тестирования в функциональный дизайн гостиной под нагрузкой и так же мы поговорим про архитектуру и что про то каким образом мы и его создали на базе чего данный момент базируется наша технология и также провести использования почему наверное многие знают что особенности финансовой системы в первую очередь одной из особенностей является ее сложность это комплексная система которая состоит из многих компонентов и каждый из этих компонентов он обладает своей собственной логикой и как правило лайкой достаточно комплексный сложный для того чтобы протестировать подобную систему а требуется написание большой тесто в библиотеке и выполнение большого количества тестов с другой стороны еще одной особенностью финансовой системы является тот является достаточно высокие требования по доступности и по поддерживаемый нагрузки и нагрузки которые должны поддерживать система для того чтобы обеспечивать свою работу и как видно на этом слайде количество данных как известно она увеличивается из года в год и даже сейчас можно видеть что уже через три года планируются двукратные даже трехкратное увеличение данных которые будут проходить через биржу количество trade валим который будет на бирже и это означает это означает что эти регламенты они будут все больше и больше ужесточаться каким же образом мы тестируем этим системы таким образом в принципе обычно тестирую такие системы в первую очередь это стандартные концепция когда мы разделяем тестирование финансовой логике функциональное тестирование и тестирование не функционально и если мы будем про специальное тестирование то например один из наших слов который называется sunfish он мы используем для функциональной его тестирование и он выставляет себя ту который общается с всеми компонентами системы на бирже и пользователь кей который пишет тесты он должен внутри своего теста ван бо иван написать все степа то есть например мы хотим проверить из кейс в котором посылается ордер на биржу бирже возвращает нам какой-то фидбэк по 13 и также возвращает некоторые ответ по марке то типа drop копи по любому другому протоколу и например также мы хотим проверить все ли хорошо у нас в базе данных которая также подключено допустим возможно это какой-то построен база данных которой reporting база данных которая тоже связаны в единую комплексную систему нашего приложения финансово приложения и пользователь должен пописать в нба иван cities раз эти шаги и также прописать кстати 3 зовут как правило если мы говорим что в принципе система сложно то есть количество тестов которые необходимо будет большое то честно мы понимаем что их библиотека тоже будет большая и написать в принципе мы ее можем поскольку у нас есть чудесно это сырные специалисты которые разбираются бизнес-логике и умеет писать тесты но если мы встаем в точку когда нам необходимо эту библиотеку поддерживать мы сталкиваемся с проблемой поскольку количество тестов очень большое если мы вынуждены менять любаша библиотеку обновлять ее под новые требования или для новой функциональности то количество времени которые затрачивать будет затрачено на этот обновление она стремится к бесконечности можно стремиться к бесконечности и безусловно сильно увеличивает тестовый цикл если мы говорим про не функциональные требования то соответственно здесь также у нас в том числе нашей компании есть ряд ту лов которые мы используем и проводим тестирование отказоустойчивостью и perfomance test и тест с связанные с нагруженность you но в любом случае как правило такие тесты они фокусируются именно на стабильной системы на и и отказоустойчивость и это значит что мы подаем какую-то значительную нагрузку которую с целью проверить выдержат явилась биржа или не выдержат и в этих тестах как правило мы упускаем что пускаем не обращаем внимание на функциональные моменты которые возникают под достаточно высокой нагрузкой она все таки не такой убойной чтобы прекрасная бежа разломилось на несколько кусочков и в принципе мы этими двумя подходами можно найти достаточное количество багов мы можем протестировать систему функционально не функциональном эти подхода нерабочие но например если у нас мы поговорим про потенциально еще про баги который связан например с до блоками системе и например с трад свингом или например с неправильным бочонком когда из-за высокой нагрузке происходят сбои в системе и в принципе с точки зрения ее отказоустойчивости все происходит так как нужно но при этом часть допустим транзакции она теряется либо например происходит сбой в матче не дженни какой-то трэйд происходит неправильно и такого рода баки нам скорее всего не получится идентифицировать с помощью только функционального и только не функционального тестирования из выше обозначенных причин и тут стоит вопрос ну собственно это же в принципе случается не так часто возможно есть вариант поражать до продакшена оставить всё как есть когда нибудь там через какое-то количество времени вам этот баг воспроизведет самый его увидим проанализируем пофиксим и всем будет счастье но как жизнь показывает практика такая она достаточно печально и не не приносят хороших результатов поскольку например один из известных случаев когда фейсбук выходил на опер и из-за высокого количества транзакций цена акции которые об этот момент были сгенерировали на бирже произошел сбой который привел к тому что книжка была закрашена и не такие заявки которые приходили на биржу они не обрабатывались такая ситуация существовала в течение нескольких нескольких минут они получатся но более того даже после того как проблема была разрешена за время когда ты зашел этот сбой накопилось достаточно большое количество транзакций в очереди которые потом еще около несколько часов обрабатывались и по сути биржа была неработоспособна течение около трех часов или относительно работоспособна эта ситуация она привела к многомиллионным потерям как соответственно участников рынка этой динка которые хотели поучаствовать выходить из бука на пер а также большим штрафом а для биржи и мы не соответственно подумали мы не только это подумали принципе мы эту проблему решаем в течение всего времени работы полинг зад прав но в принципе вот в любом случае здесь получается что у нас есть национальности не функций and is there меня а не существует отдельно центр притяжения багов находится в двух точках а посередине создается область abs это не покрыта никакими тестами тогда собственно логичным является момент что есть необходимость в туле который будет не только тестировать функциональные не функциональные но сможет под не убойной нагрузкой идентифицировать какую-то функциональную проблему из может одновременно работать и социальными тест мне функциональными из тем что и лежит посередине таким образом мы пришли к выводу что нам нужно сделать тестовый тулу который бы отвечал некоторым особенно важным знаешь точки зрения характеристикам первую очередь это модульность кроме того нам была необходима гибкость конфигурации возможность это анализа и также в ряд характеристик таких как устойчивость масштабируемость и вариативность тогда мы стали думать что же нам необходимо каким образом нам нужно реализовать tool чтоб она для удовлетворял этим требованиям и конечно когда мы и стали думать про модульность и гибкость конфигурации мы пришли к решению что нам нужно уходить от монолита и приходить к некой ника сервисных и территориям где у нас была бы какой-то сет компонентов каждый из которых выполнял свою выделенную роль но при этом они организовывали эту систему систему складывались на кен worriment который бы нише можно было использовать и специалисту для тестирования и мы приняли решение что это будет кабинете на счет модульности нам было так же важно не только разделить это все по каким-то сервисом далее мы их называем сервисы компоненты коробочке а дальше возможно буду падать все эти термины но и выделить несколько функциональных слоев которые от которые мы могли бы объединить наши сервисы в первую очередь это конечно core компоненты они на слайде отмечены синим цветом внизу и это компоненты которые ответственны за обработку данных за их сохранение из-за последующего предоставления этих данных конечным пользователям корку паненки на данный момент выложены в open source они доступны и на базе этих компонентов а также некоторых темплейт of для кастомных компонентов мы данный момент строим наше solution бармен ты для разных бирж и интегрируем мечту в наши текущие проекты кроме core части также присутствую часть соответственно за взаимодействие мечту с клиентской системой опять же эта свет компонентов которые могут взаимодействовать как по с и денги твоими могу взаимодействие с базами данных могут загружать данные например из пикапов из файлов raw data то есть вся информация которая не обычно необходимо для проведения тестирования которые актуальны для финансового сектора еще один слой это слой основных компонентов это компоненты нацеленные на специфическую кастомный логику возможно чаще всего уникальную для конкретного проекта и здесь может быть достаточно большая вариативность это могут быть компоненты которые отправляют сообщения в клиентскую систему могут быть компоненты которые симулируют активность либо например осуществляет некую верификацию сложную дефекацию просторе консультацию lps верификацию и так далее и так же еще один слой и the data service and a moment мы снимаемся их разработки и еще один слой который тоже достаточно важен и он напрямую связан с нашим следующим требованием а именно с гибкостью конфигурации а именно слой инфраструктуры это том что позволяет компонентом взаимодействует друг с другом эффективно и позволяет формировать involvement и множество in бармен то в зависимости от тех рекламе тов которые у нас имеются конечно это не только связи между компонентами как на этом слайде но еще и но еще и сори секунды но во многом и взаимодействия этих компонентов то со внешним миром взаимодействия свой клиентской системой а также поддержка source кода который из которого состоят эти компоненты и взаимодействие informed of который мы будем строить на базе компонентов между собой для этого мы все вот эти компоненты которые были на предыдущих слайдах добавляем создаем на базе них нами space вернитесь и и он является нашим тестовым январе ментам данный момент его конфигурация она задается в конфликт файлов которые доступны в гите и которые могут быть изменены любым пользователям также в где сохраняются и хранятся source code косынок компонентов и сами тесты непосредственно для того чтобы с помощью гипса прочая и соседи организовать диплом и развертывание компонентов в тестах in the mind of так я ранее говорила мы также должен легко or часть отечества ул open source и поэтому все что связано с core компонентами он хранится и сэкономит на гитхабе и собирается в open source репозиторий докер имиджа в том числе там хранятся но как я говорила нам важно иметь ни один парламент нам важно чтобы тихан вариантов было много поскольку поскольку существует вариативность конфигурации который нам нужно тестировать и поэтому мы создали дополнительные компоненты которые позволяют пользователю даже пользователю пей специалисту без глубокого дома с experience a magic system in war менты самостоятельно иметь возможность создавать новые январе менты создавать новые компоненты перекат фигурировать их менять data flow и эти компоненты они указаны здесь на огненные в золотую рамочку и называется интер менеджер info оператор этот интерн слой он базируется на холм операторе и далее мы чуть поподробнее про него поговорим то есть данном случае у нас есть конфигурация конфигурация в гите на слайде это нижняя левая область ассистентов играешь инфра 132 фнк фасонная схема которая представляет из себя множество сера с опасным resources куда на часа объемом формате они описывают птичку коробочки их параметры включая лимиты для каждой коробочке определенные характеристики и так далее у нас также есть tinder менеджер компонент который отвечает за развертывание конфигурационных схем из git репозитория в кубер найдешь и он мониторит изменения в пищу репозиториях и deployed сочи каких-то изменений компоненты в кабинете и также инфра оператор который является кастомизированные аргументацией поверните с красным resources основа безумное надави таким образом интер менеджер мониторит схему в git репозиторий либо изменения которые там происходят далее он загружает случае появление этих изменений он загружает последней версии в купит найдешь и инфра оператор мониторит идти штука ставлю sources и дальше создаёт из них хандры лиц который дальнейшем ком оператор тепло red в купер notice таким образом мы освобождаемся от достаточно большого количества степов которые ранее будем нам необходимо для того чтобы работать с января ментам то есть если например раньше без этой инвестиционной схемы мы должны были для того чтобы пользователь мог работать с бармен там мечту предоставить право пользователю доставить права в классе в рыбе там киев кассандру что уже рождает дополнительные может ожидать дополнительные проблемы может служить источником опасности также создать namespace секса за секреты сервисы дипломаты вобщем длинный список для того чтобы получить долгожданный бармен здесь что инфра единственный должен сделать пользователь это пойти в git создать там отдельный проч задевая туда свои ciare компоненты в свои красным ресурсы для своего анвар мента и далее случится нечто информация которая за деплоить все эти компоненты внутри кабины tissot более того мы также разрабатываем отдельное приложение которое даже избавляет пользователя от необходимости пообщаться сгиб там то здесь например пользователи не хочет даже в общем не хочет работать с китом либо не имеет такой возможности по разного рода причинам то есть вариант открытия вагую она б там просто в графическом интерфейсе параметры коробочек которые нужны и с линковать сделать создать data flow и опять же после нажатия кнопки crate зайдет магия и endearment будет создан следующий следующий случай особенность которая была важна для нас при создании те что это возможность дата анализа и того чтобы дать анализ проводить полный анализ нам необходимо сохранить как можно больше информации как только это возможно поэтому мы хотели добавить мы хотели чтобы вся все данные которые приходят с клиентских систем они сохранялись в базу а также все данные которые мы посылаем в клиентскую систему и данные которые генерируются внутри и this stuff то есть те студенты от коробочек или сервисов которые появляются в стать работы таким образом сохранив все эти данные данные мы храним в формате мы предоставляем возможность интеграции наши базы данных с этими дата сервисами посредством ти что api и можно поскольку мы уверены что данные не кодирован и не декодирование что они точно в том виде в котором они пришли к нам с клиентской системы мы можем на них надеяться и нас на в них строить разнообразные статистические характеристики проводить анализ обогащать машин гонит модули и так далее следующая особенность которая у нас нам было важно это возможность создания ленгвич агностик тула который не диктует пользователям в каком языке писать свои кастом компоненты в данном случае у нас код написан в основном на джаве компоненты которые которые общаются со сторонними системами они написаны на поэта не на java на кон на небольшая часть на си плюс плюс и к сан и компоненты сейчас в основном написаны на поэта не на java но в принципе мы можем подключить любой язык который поддерживает герпесе потому что в вас какой то есть и связаны с нашими коробочками с помощью герпесе также нам важной в фильтрах приложениях важно еще одной особенностью является тот факт что есть большое количество так олоф финансовых и до каждого протокола как правило необходимо создавать отдельные connect и отдельные компоненты для кодирования и декодирования этих сообщений и опять же нам необходимо для того чтобы поддержать эту модульность и для того чтобы поддержать разнообразие нам необходимо во-первых разделить их а во-вторых иметь какой-то сердца этих компонентов когда мы их деле мы делим их на два слоем первое это непосредственно команды которые взаимодействуют системой и второй слой это компоненты которые занимаются кодированием и декодированием разделяя таким образом мы также уверены что все данные которые попадут в базу они будут в первозданном виде поскольку мы их не декодировали и никакие баги которые возможно присутствуют в кодеках они не повлияли на то что мы сохранили в базе это также важно поскольку мы позиционируем в данном случае кода компоненты как эти компоненты которые также могут быть написаны пользователями и если что-то пишется большим количеством людей то естественно возникает большая серьезная опасность дополнительных ошибок и чтобы это избежать таки мы таким образом делим этот слой на 2 части также еще одним примером еще одним примером разнообразия является you space news кейс с тестированием например очень частям например 3corda почему почему это важно почему нам в этом случае будет полезен те что в делать и приложениях засучив хор tr3 каждый узел сети может использовать свою версию тебе можно использовать свою версию базы и свою версию корды и также имеет свой собственный набор у нас строят и конфигурации и нам о таким образом необходим инструмент который сможет перебирать большое количество вариантов всех этих конфигурации и разных версий разных компонентов и пропускать поток транзакцией под нагрузкой для различных конфигураций также одна из характеристик которая важно важно нам тестер мне наш в создании нашего тестового тула а также в принципе для тестовых и других систем это обеспечение устойчивости поскольку мы строим январе менты с многими состоящий из многих компонентов и поскольку опять же мы делегируем часть написание часть этих campo чистя часть этих компонентов не только development отделу но и кей то мы должны быть уверены что в случае если будет за dipline какой-то кусок кода который не работает либо какой-то компонент который содержит себе ошибку это не повлечет значительных проблем в январе менти это не положит его и не потребует дополнительного многочасового и нас тегирования вмешательства devops отдела в данном случае мы на данном слайде мы видим что у нас есть компонент кодек которое ответственно за декодирование и например если он тебя какие-то перепевают какие-то изменения и проблемы это не мешает не ломает con компоненты connectivity компоненты которые взаимодействий непосредственно системой а также все компоненты связаны с рифе концы и они также остаются живыми это значит что когда как только кодек снова заживешь полной жизни будет здоров и счастлив мы автоматически получим рабочую систему опять и нам не нужно будет добавлять большое количество работы связана с при конфигурированием и поддержанием бармен то данная система нам нас получилось реализовать благодаря естественно к бразильцу который поддерживает кто предоставляет возможности устойчивости и также рыбе think you по которому у нас происходит взаимодействие между компонентами и один из последних опций последних параметров которые важны для нас это возможность масштабирования в данном случае опять же благодаря возможностям купить матисса и нашей архитектуре мы можем создавать несколько реплик и компонентов например если у нас идет поток данных от клиентской системы через истории mstar же компоненты которые ответственны за про затем данных и сохраняется ты все в базе если мы например подаем большую нагрузку и видим что наши компоненты связанные с хранением данных не справляются мы можем поставить ни один из top а поставить их 11 и в соответствии с этим перенаправить потоки таким образом существенно увеличить пропускную способность наша система в целом таким образом мы создали систему которая во первых удовлетворяет придерживается ломает парадигму функционального и не функционального тестирования как отдельных сегментов поддерживает позволяет тестировать финансовое предложение функциональную логику под нагрузкой и представляет возможности связанные с дата анализом с масштабированием и устойчивостью в процессе работы над этим над нашим полом мы встретили разные затруднение и внесли некоторые уроки часть из них возможно кому-то покажется очевидными часть из них возможно кому то будет полезно в кратце если вкратце то если вы публикуете и получаете сообщение в рамках одного приложения то лучше использовать разные connection и в противном случае сервис будет полностью привязаны будет привычный томарг также также мы столкнулись с недавно проблемой связаны с тем что поскольку наши компоненты выложены в open source и публикация ведется велась на бен три наверное все знают что недавно времени с этим возникли сложности поэтому такие риски тоже нужно учитывать и продумывать заранее того чтобы поддержать устойчивость приложений которые выложены в open source все эти моменты которые здесь указаны и принципе мы рады обсудить либо в секции вопросов либо нашем стенде вместе с одной командой которая сейчас тоже на холоде спаси большая вырез менты наталья закончила а готовьте вопрос у нас есть своим буквально минут 5 чтобы задавать вопросы зала так друзья хелперы пожалуйста подвигайте те к тем кто поднимает руки сейчас по задаем буквально два три вопроса от h тебе от нас подарок трапеза строчная венцы держи можешь пока поставить вот сюда вниз спасибо итак если кто-то готов задать вопрос в первом ряду так наталья спасибо за доклад в своем докладе уговорили мы что ваше приложение нацелена на тестирование вот именно бизнес предложение торгово предложений в чем специфика вот как это вот это вот направления до чем это отличается от тестирования обычных api там это первый вопрос и 2 вопроса насколько вы оцениваете порог входа в ваш приложению то есть насколько она в этого потому чтобы обычный человек взял склонировать гитхаба репозиторий поставил себе ваш приложение попробовал протестировать что-то свое и спасибо начинается второго вопроса мы на данный момент в гитхабе у нас выложена весь core и часть template компонентов для практически всех остальных сервисов и также у нас присутствует какая-то часть инструкции для того чтобы пользователь мог установить и что и также создать свои компоненты на основе кастомных этих template of поскольку также у нас есть инфраструктура которая рассказала до этого который как раз позволяет сделать достаточно низким порог входа и позволяет специалистам либо другим специалистам которые не обладают каким-то очень углубленным опытом вдв псалиди walkman тебя в принципе реализовать на основе чту свой solution так что в целом мы достаточно готовы но естественно и ничто не мешает нам совершенствуется что мы продолжаем делать постоянно насчет первого вопроса если можно танец повторить вы скажите пожалуйста в принципе не что он нацелен на тестирование на комплексное тестирование сложных систем на and a я нe тестирование мы как компания специализируется на финансовых приложениях и у нас в час из ну может быть из коробки есть ряд компонентов которые наиболее подходят именно для финансового сектора в том числе например фикса вы и протоколы и другие протоколы это zynga вы и и конечно для них но в целом поскольку у нас также есть и модули взаимодействия например по rest api . и мы также можем добавлять другие протоколы чисто теоретически мы можем кодировать мечту и под другие другие приложения не только финансового сектора но мы в принципе базируемся пока что в принципе мы не пока что мы базируемся на финансовом секторе так еще один вопросик давайте и наверное будем в росту темноту ли вопрос следующий проверки безопасности у вас как-то отдельно проходит или они интегрированное приложение вы имеете ввиду может ли мечту осуществлять проверки безопасности поверьте безопасности в принципе это не та же чем мы надо но я занимаемся поэтому в целом сейчас из коробки скорее нет а так очень короткий был ответ можно еще один вопросик задать ей желающие онлайн кто-нибудь у нас хочет никого видимо да так а вопрос появился все ты будешь крайним раз спасибо за доклад вопрос такой как я понял но с помощью те и что можно протестировать например вот такой кейс приложение которое так или иначе взаимодействуют с биржи вот маркет дату откуда берет то есть ее надо как-то замок и то есть в определенном формате мы предоставить я чувствую или как нет о чем он нам в принципе если в какой-то ваш кейс предполагает необходимость стимуляции марки даты то есть у вас нет потока который должен может прийти в бате что-то в этом случае что предоставляет возможности симуляции это отдельный компонент он так и называется всему найти и в него можно ну как бы the core компоненты на основании него можно сделать дополнительный каскам компонент со специфической бизнес логикой под ту марки дату которая нужна вам для вашего случая если же мы говорим о том что все таки у вас есть доступ к марте данный маги твоем и вы можете к нему подключиться то тогда для этого у нас существует соответственно connect и это компоненты которые могут подключиться к этому трафику card data traffic у по разнообразным потоковом по плечу по фасту и соответственно эти данные тоже загрузить систему где эти где их потом можно будет сравнить обработать сравнить с ордер n2 например если это нужно сделать какую-то агрегацию лба и щек и так далее ну то есть по факту у по сути симулировать работу бирже если мне нужно нам можете решать это спасибо вот такое крутое приложение разрабатывает команда наталья от h выбирай лучший вопрос было три задавая щах 1 2 3 какой тебе больше понравился мы подарим надо выбрать да да это обязательно если не помнишь назови простую цифру давайте мы выберем вам вопрос при марке да там уже и до 3 вопрос вопрос про марки дату промокания а на тоже все аплодисменты тебе спасибо большое за доклад проходи пожалуйста вот на выход цифровые кулуары там ребята онлайн и сумма расположу участники подходите и задавайте вопросы этих могу а следующий докладчик в этом зале буквально через 20 минут филипп версты дык это выделенные серверы для проектов любой сложности от корпоративного сайта да highload проектов 11 лет опыта и непрерывного роста на рынке аренды вычислительных мощностей первыми внедряем самые последние новинки оборудования ведущих производителей два надежных датацентрах россии а exceler и сертификации тир-3 дизайн и в собственный сад в одессе более 40 технических специалистов помогают в решении проблем и сопровождает ваши серверы глосуточно сетевая инфраструктура построена на высокопроизводительный класса эти фабрики я berline ой happy vibes lan и wifi будь первым звезд дедик буду да ну ворс дидык это выделенные серверы для проектов любой сложности от корпоративного сайта да highload проектов 11 лет опыта и непрерывного роста на рынке аренды вычислительных мощностей первыми внедряем самые последние новинки оборудования ведущих производителей два надежных датацентрах россии а excel рейс сертификации тир-3 дизайн и собственный код bbc более 40 технических специалистов помогают в решении проблем и сопровождает ваши серверы круглосуточно сетевая инфраструктура построена на высокопроизводительный класса эти фабрики я berline ой happy vibes lan и wifi будь первым свирск дедик павел привет я отринет я бывший закрою сейчас ведущий подкаста мы обречены при этом знакомиться война чем ты знаешься я архитектор в решении работы в московском офисе компании red hat последние года 4 наверное я делаю всякие штуки вокруг devops а вокруг выбираете сами красивой архитектурой cell 5000 до я прочитал что ты у вас компании популяризатора микро сервисов это маркетинговый ход да смысле но это видение нашего маркетинга я для более скромно отношение к соне но в принципе да ну и столика сервиса так действительно хороши как они все говорят последнее время потому что я частенько начинаю слушать критику критика была есть и будет это неизбежно в моем понимании это это неизбежно ну на ближайшие какой тут обозримый там перспективу горизонт событий все равно все там будем часто бывает что действительно замечательная технология но технология подразумевает присутствие какое-то культуры и каких навыков вокруг этих технологии часто не хватает ну а какие то проблемы именно выделил бы тут понимаешь что то как бы кто и такое чтобы критиковать с одной стороны с другой стороны в неформального общения часто вижу часто понимаю то что допустим вот ситуация с опция с командой сопровождении каких-то там технологических платформ часто бывает то что с административной точки зрения руководства не готовы инвестировать в эту команду люди несколько оторваны от общего какого-то глобального цикла им через забор передают задачи и говорят справляетесь как хотите с ними не ведутся какие-то диалоги о прекрасно получается на выходе то что у нас такая борьба за псевдо стабильность мы боремся за то чтобы просто продолжала горит лампочка на самом деле мы сидим своем отсеке славы понимаем что вообще происходит и что делать что делать есть такая идея то что давайте попробуем переделать психологию методологию работа нашего abs команда в сторону и сэргэ чуть-чуть про наверно терминологий зачем это вообще нужно сергей по-разному сырья это сайт ривай ability инжиниринг я очень плохо согнуты фразы дальше это будет сильно аббревиатура а сыроеда и стране по сути это такая специальная редакция на самом деле devops практик потому что делится devops абсолютно те же фундаментальные принципы концепции главная разница то что мы как про навеки пытаемся выстроить более показываю устойчивую структуру с одной стороны с другой стороны мы принимаем перспективу наших конечных потребителей и это безумное логично моем понимании то есть мы мы воспринимаем любую операцию проблему как сортовую проблему то есть с перспективы того же пользователя абсолютно сразу каком уровне у вас что-то сломалось нас просто не доступен сервис перспективы нашего бизнеса на самом деле приблизительно то же самое поэтому все проблемы приступ write софтовые проблемы что проект порождает сдвиг в сознании abs команда садиться за один стол вместе с продуктами раме и разговаривать с ним на равных про и фактически получается что у нас разработчики становится функциональными заказчиками машко-пиро ишь как я не очень прямо зачем этот отличается просто культуры devops потому что dls они вместе работы для вас справедливо да здесь мы можем устроить глобальный холивар на тему разночтений именно терминология предлагает воде делать то есть ситуация такая то что по факту да действительно devops описывает все все все на самом деле что подразумевается его сырые по сути но по факту у нас не происходит вот этого сдвига но все равно есть некая изоляция команды нету понимания кто за что отвечает если мы идем в сторону и сырья и разделяем вот фундаментальной парадигму скажем так и сырья когда у нас все у нас ведь одна большая софтовой проблема погнал нас не будет разночтение кто за что отвечает ну окей например я понял что у меня в команде есть это проблема я такое говорю давайте строить и сырья как это давайте давайте нам нужен человек с определенным административным врачи вам который в принципе сможет вернуть эту историю который сможет объяснить зачем это делать и что изменится это во первых во вторых наверное нужно следовать хорошую культурным практикам в в плане создания именно в пузыре комьюнити сори сори каких-то команд хотя на самом деле практике также применимо в принципе создание любых команд пятну большей части да это про культура про людей да я бы первым сказал то что провал это нормально ошибаться это это получило человеческие все мы люди и делаю не ваши тени в качестве ошибки в масштабах от ошибки а в том насколько мы поняли где мы ошиблись и что нужно делать чтобы эта ошибка не повторялось следующий момент наверное я бы предостерег гоняться за звездами в найме моменте на членов команды звезды я подразумеваю не просто одаренных и компетентных людей историю когда определенный набор софт скилов двигать человек в вот именно в какую-то такую звездность болезнь когда он порождает какую-то информацию борьбу за власть или как вариант и или на самом деле мы своими руками нанимая звезду или звезд загоняем себя в рамках нашего предприятия в частный случай winder но когда там один или несколько человек действительно понимает как работает правильная систему ну вот про звезд я как при понимаю когда слышу говорят вот проблема звезд это очень сильно технические специалисты к ни с кем не считаются с практиками с правильной объект просто очень так стараюсь деликатно эту тему как-то проговорить потому что это тоже холивар на тему то есть одной стороны до звезды позволяет очень быстро начать но звезда с с перспективы стороннего наблюдателя будет для нас аномалии потому что у нас такой глобальную всплеск компетенция как ты больная моли бы досрочно перспективных этот костров поэтому нужно вот искать какие-то такие середину все и но очевидны вот как как вывод из этого быть абсолютно готовы вкладываться в развитие своей команды конец они за идеалом гоняться за потенциалом смотреть на софте вы причем softkey вы не не только в моменте то чтобы очень хорошо умеет рассказывать какие смешные истории то что он действительно понимает как и что он делает в плане бизнеса чтобы он чувствовал бизнес на самом деле все звучит безумно прагматично но акцент живу в реальной жизни этого очень не хватает я думаю если об этом говорит и может быть что-то изменится вопросы доверия вот например частности то есть очевидно то что команда способна сделать гораздо больше чем каждый из нас по отдельности но без без выстраивания доверия внутри команды без пропагандировали вот так такого рода культурных практик но мало что получается на самом деле мало того должно быть доверие со стороны руководства потому что без доверия люди теряют способность принятие самостоятельных каких-то решений и мы мы получаем как тут команды не очень сообразительных роботов что тоже нехорошо вроде наняли людей мы долго беседовали мы выдворили с их навыками но с другой стороны постоянное убьем их рукам и не даем принимать 705 на решение лайк и должна в моем понимании водичка должна быть такая каштана типы специалист на берешь на себя ответственность ты делаешь эксперимент понимаешь получилось не получилось но объясняешь сопутствующие риски какие-то чем мы можем поплатится за это мы так или иначе у тебя есть свобода самостоятельно принимать решения но это требует очевидно или мне кажется здесь немного по-другому эту проблему чаще слышу о том что доверие как раз очень мало при найме а уже после найма х бросаю свою как в воду учись плавать самку обычно впечатление складывается прямо на моменте найма на моменте первом собеседовании когда все жутко строгие и спрашивают всегда адекватные вещи и человек выходит на работу и продолжать жить в такой же парадигме то есть он боится как бусин голову бы боится проявить инициативу отлажена сам из повторюсь да звучит банально бы мое понимание действительно ваш вот наверно еще бы хотел рассказать про момент то что это вот classical sensors комьюнити быть не согласны мы следовать курсу это на самом деле то же вытекает из смелости из доверия из-за такой умеренной борьбы системы здесь как-то противоречиво звучит вот здесь мысль заключается в том то что ok для того чтобы развиваться нам нужно экспериментировать для того чтобы для того чтобы экспериментировать нам нужно какое-то направление для тех эксперимента потому что мы на очевидно не может экспериментировать во всех направлениях сразу быть несогласным это нормально и ничего ужасного нету но идея заключается в том то что раз мы приняли какое-то направление мы должны им исследовать до того момента когда мы поймем то что либо шаги в этом направлении либо направлении целиком ошибочно тогда мы фактически в реальном времени меняем вот это вот нашу направленность экспериментов ну в общем другими словами да мы должны избегать аналитический паралич иначе мы будем вечную натыкаться на одни и те же грабли до бесконечности причем такие серьезные глобальные грабли которые нам не позволяют действительно развиваться не просто какие-то мелкие штучки мы что-то там попросили нас не получилось а именно таких концептуальный большие вещи но и как твои успехи вот в внедрение от культуры а это неизбежно происходит потому что так или иначе как вот с чего мы начали то что есть запроса и со стороны бизнеса и стороны разработчиков стороны безопасности откуда угодно есть запросы на имплементацию вот каких-то практических вещей с культурой сырья так или иначе это нужно делать просто если это делает болями и неосмысленно если понимать то что рано или поздно туда придем the data наверно жизни наши станет не может попроще но какие-то проблемы сейчас основные на твоём пути моем пусть они сами проблемы лак в понимании наверное бизнес и руководящего состава в в сознании проблематике то есть опять же вот это вот порочная практика то что пока пока у нас каптерке горит свет это буквально равно то что у нас все в порядке хотя на самом деле мы уже серьезно опоздали у нас уже есть большие какие-то комплексы проблемы то есть это чувство что сопротивление идет не от с персонала обычных разработчиков о псов и прочего а именно руководство да но это не то что сопротивление это отсутствие такого осознанного понимания что происходит того что очевидно из-за своей роли людям тяжело вникнуть во все нюансы и пока не случится что-то из их вот показатели которые им близки он очевидно ничего не случится и вот с чего я тоже начинал по поводу того то что в реальной жизни чудес не бывает для того чтобы случились изменений нужен человек с властью чтобы двигать эти изменения вот нужно найти холодное когда кто нас услышит о нас поймёт и о том подними тогда знаю я желаю тебе успехов чтобы это красиво большим лак непонимание исчезал и почти все получалось спасибо за рассказ спасибо сейчас так что перед 2 пел павел мамонов архитектор решений в компании red hat а сейчас я бы хотел пригласить на сцену очень опытного программиста филиппа дельгадо под ваши аплодисменты так сейчас нет не работает все пропало проблема на вашей стороне вон так честно танец работает оки привет меня зовут филип del garda я уже который год делаю цифровые кошельки и мне это наконец надоело поэтому когда мне предложили сделать кошелек как продукт я наконец согласился вообще сначала хотел вам здесь сказать как вообще делать современный кошелек на современных технологиях подходах там без реляционных баз данных и так далее потом понял что позволит никому не интересно я скорее буду рассказывать про то как можно думать про архитектуру сложных систем собственно все это делаю компанию по новой мировой лидер в карточном процессинге вообще в процессинге лидер рынка по оценке всех кого только можно там 24 офиса по разным странам 77 100 нами работают решения мы почти как драться каждого карточка чего-то расплачиваетесь в россии скорее всего используются решение у конвоев процессинге этого пути жан но карточки потихонечку сменяются во всем мире другими решениями и собственно возник вопрос необходимость делать кроме карточных процессинговых и процессе кошельков и что такое вообще цифровой кошелёк вот у нас есть какая-то фильтр компания который есть где то там далеко далеко человечек и где то есть куча каких-то внутренних сервисов там банковская система в crm выпуск карточек coloring коммуникации спас там с какими центробанком коммуникации с платежными системами и люди отдельно регулировкой все остальное отдельно и между ними как раз аккуратненько вписывается кошелькова и решение которое добавляет немножко больше человеколюбие во весь этот тяжелый фильм тех позволяет людям решать собственные проблемы то есть фактически в кошелек это то где вы храните ну тоже самое что своей бумажном кошельке там карточки деньги фотографии детей и в общем все что вас туда помещается там обычно хранится в кошельки обычно не хранятся реальные деньги это как раздела там обрезки внутреннего процессинга но все остальное в не кому нужны кошельке но чаще всего банком то есть у банка есть свои там расчетные счета есть карточки но ему нужен какой-нибудь интернет-представительства мобильные какой-нибудь из кошелек удобно людей автоматически нам отбор здесь чтобы не нужно было цукаты это дело операторов и прочее прочее прочее нужен национальным платежным системам которые не хотят платить свой процент международным замбези mastercard и хотят разворачиваться и собственной системы типа как сбп вот мы вин крупным торговым сетям потому что они хотят лояльных пользователей чтобы те там не знаю расплачиваться каком-нибудь абстрактном машине абсолютно самостоятельно без участия пять таких больших платежных систем мы всяким системам расчетов более закрытого типа paypal yoon do you money webmoney и так далее вообще разница для пользователя разница между банком и кошельком сейчас потихонечку размывается они все начинают выглядеть очень похоже если там лет 5 назад яндекс деньги это было одно а какой-нибудь сбербанк было совсем другое сейчас в общем то это примерно по 1 этаж какие у нас но мы делаем кошелек как продукт и клиент у нас мягко говоря разное во-первых бывают большие клиенту которых сотни миллионов клиента пользователей у них там 5000 пути же в секунду или больше хотят бывают маленький которых там ну может быть будет миллион пользователей ну может быть они выйдут на 50 party же секунду бывают богатые которые готовы купить все что угодно со всей поддержкой еще хочется бывать бедный у которых нет денег даже нормального детей бывают клиенты из европы где же теперь где очень много регуляции где каждый шаг прописаны требует высокого там соответствии законом бывает третий миф где законы пишутся иногда под этого конкретного кошелек вот ну на ходу и бывает старые клиента старые банки у которых свой сложившийся инфраструктура там много dc к счастью ужина не надо рассчитывать на то что у них будет стоит ставить то какой-нибудь странный старый или unix и хотя бы linux у них у всех стоит и новые которые даже не думали о том что нужно инфраструктура вот не в курсе поэтому нужна дешевая масштабируемое неприхотливое кастомизируемый решение вот реализовался все как внутренне стартап маленькой компанией там вот на спам никогда не было больше чем 10 человек включая аналитиков менеджеров тестов и так далее вот зато у нас был доступ специалистом в компании с огромным личным опытом о том какие бывают клиенты какие бывают кошельки какие бывают сложности и некоторая свобода выборе как технологии так и бизнес-процессов собственно и буду рассказать про архитектуру как мы все это делали поскольку в общем сделать в 10-ом это не карма делать team is какие сложные финансовые фен техасские решения которые вот этим занимаюсь поэтому там очень много про архитектура есть прекрасная цитата альфа джонсона и и мартин фаулер цитирует у себя на сайте что архитектура это про все важное вот это про важно чтобы от он не было это прекрасное определение но она совершенно практически неприемлемая поэтому пытаемся сделать добытого и мышку больше практики что-то по архитектура архитектура в первую очередь это по выбор мы выбираем из нескольких вариантов которые делаем мы выберемся которые не делаем мы принимаем решение что мы хотим выбрать сейчас а что мы хотим выбрать потом ну такое самое любимое решение которое обычно возникает у тех of scam проекте в самом начале какую базу данных использовать сразу напомню что баз данных у нас бывает два принципиальных типа есть те которые про то как быстренько обработать платеж и надежно сохранить по нему всю информацию и ту который пользуется аналитики то есть он тебе мир и all at me это два разных мира они требуют разных решений о типе для нашего случае нужна надежность но понятно финн тех надежность 1 что-то сплачивает а сколько вас все хорошо масштабируемость по что одно дело это какой-нибудь бедный клиенту которого там миллион пользователей видела богатый клиент у которых 100 миллионов пользовались 5000 потер секунды нужно как-то решать проблемы и того и другого бесплатность просто опять-таки не все готовы платить там не знаю за enterprise нового курса всеми его опциями на большое количество сигналов простота эксплуатации по что опять-таки клиенты разные ну и наличие поддержки ока дороговат пост газ почему-то банки не очень любят вот непонятно его наверное сложно баба масштабировать на очень большие нагрузки но реально многие клиенты не любят postgres вот про манга лучше даже помолчать потому что все никак не могут ей простить за то чтобы у до версии 2.7 и до версии 3 поэтому фразы мангой банк лучше даже не произносить мы долго искали нашли странное решение фонда хинди by кто вообще слышал про базу фонда финн тебе не от меня вот такое это кивали база данных open source сейчас она была куплена apple и вернули обратно в конце ix в plyo очень много на не крутится там 10 тысяч серверов там миллионы транзакций в секунду они не прокручивают то есть много используется в некоторых крупных компаниях вам snowflake тоже ее активно использует она просто им развертывание очень простой в сопровождении быстро и надежно и кто знает кто такой offer of the chips and с такой дар только джексон тесты окей как-то мало в общем есть стандартные тесты на надежность распределенных систем jobs and test написано человеком с ником offer которые во время когда вы спросили почему ты не протестирует фонда и финн тебе написал следующее что я бы протестировал но и внутренние тесты гораздо более выпендрёжный нежели мои вот это наверно лучше реклама этой базы данных конечно гипсом теста тоже по гонялись команды фонда хинди мы конечно тоже и протестировали ну она действительно надежно работает насколько вообще можно работать и сити база в распределенной системе то есть она вот работает но при этом конечно хожу мы взяли надежное решение масштабируемое решение лёха легкой в поддержке но не можете быть совсем без сложностей и сложности разумеется много fondation тебе нет то платной поддержки то есть ты не можешь пойти к комнате большому богатому день искать возьми деньги поддерживали за меня у неё очень низкоуровневой и довольно сложная 5 и такие вылью база данных который работает в категориях взять байтики в качестве ключей положи туда еще батике в качестве значения все вот у нее нет никаких и правда ограничить по правам доступа нога польский схема и у нее довольно слабо инструментарий плотно поддержка wap устроим клиентом самостоятельно мы на вырастили специалистов наладили контакт разработчики научились делать такие pr и которые принимают его процессов комьюнити vdb разбираемся в и коде поэтому мы можем спокойно ее сопровождать мы написали свою библиотеку с поддержкой асинхронного доступа с типизации сериализации в бок потому что то компактный чем чей сон и быстрее с поддержка housekeeping housekeeping это одна из самых важных на самый штук для больших финансовых систем что когда ваше количество транзакций переходит на несколько терабайт вам очень хочется куда-нибудь отложить в нормальных кивали системах это не очень простая задача пришлось сделать некоторые маги вокруг ключей надеюсь у нас будет потом отдельный хардкорный так вот про то как готовить пюре jet database не сейчас не здесь может быть другом хауди осени может быть как-нибудь вообще отдельно но очень хочется рассказать там очень много интересной магия добавили криптографию управление ключами это самый надежный способ ограничение доступа тут вообще уже никак ничего не подобраться но начали писать собственный инструментарий свой движок миграции который сильно более наворочен чем флаере то есть позволяет делать параллельно иммиграция сверх долгосрочной миграции асинхронной миграции и прочее прочее прочее итак для тебе мы выбрали воды хэнди бит что же взять для авапа на самом вот если для у тебя еще какие то есть вариантов много чего можно было бы взять для oppo в общем сейчас вариант ровно 1 вот большое спасибо товарищами во виду потому что верьте к нам не подходит потому что долго тоже только вот клика usb решает наша задача почти все разумеется это не все выборы которые мы сделали есть и другие важные выбор которые приходится принимать писать все на одном языке или писатель на разных языках писать на код и не сишарпе ли джаве использовать флотах гарри отметив какой вариант и коммуникации богатель оставил 1 и 1 level 2 герпесе вообще знает традиции где расставил один раз level 2 прекрасно вот level 1 это про когда мы все записи кидаем только постом и джейсоне a level 2 это то что в обычно читайте 1 том вот со всеми этими сложностями выборы были сделаны у нас маленькая команда давайте возьмем один язык потому что так будет проще мы берем копин потому что у нас есть какая-то компетенция в компании про джаву она caitlyn проще находить разработчиков и картины очень сильно облегчает жизнь честно я выбирал котлин ради крутин мы берем флаттер потому что это по интереснее и перспективнее как нам кажется чем react не тиф и мы говорим господин потому что раз-два и финн тех очень плохо совместим потому что постоянно то на летаешь на сложные транзакции но теперь на невозможность придавать там поиск по номеру телефона в get запросе и в общем много геморроя в этом проще взять 1 ст1 пошли дальше дальше на архитектура можно смотреть как на язык язык которым вы описываете вашу систему потому их названы таких языков накопилось войти довольно много лучший пример наверно design patterns ты можешь любому разработчику в мире сказать я хочу чтобы здесь бустинга вот он здесь была стратегия он тебя поймет и сделает но к сожалению для архитектуры в общем таких языков мало один архетип че дает какой-то набор слов но очень нечеткий с вами красивый за вообще потеряла какой бы-то ни было смысла фразы волнами красивости не значит уже нечего поэтому мы взяли нашу все картиночку с кучей наших сервисов нас для маленького проекта сервисов много вот и подумали что надо их как-нибудь обозначить как нибудь не пытаться как-то раз думать а как благодарного сервис будет кастомизировать а какой авторизацию нужно здесь а как оно все будет описываться и свели все это множество к 5 простым типом то есть есть bff не обидит его именно bff кто не знает что такое bff окей это паттерн бэкон во front-end это когда вы для каждого воевал своего клиента делайте отдельные сервис который скрывается мощностью от того что находится за ним то есть умеет собирать с разных сервисов данные параллельно как их преобразовывать и отдавать в том удобном виде с теми правами проверка прав доступа и так далее которые нужны конкретному клиенту там вы кофе сумма девочки там портал бабушкам и так далее дальше пузо bff он у нас находится сервиса бизнеса логике которые занимаются только бизнес логикой ниже сервиса домены которые хранят информацию по доменам и сбоку всякие агрегаторы при этом по этой схеме любой коммуникации может быть только сверху вниз вот ну и вообще говорить центр наружи кроме редких исключений шлюзов к платежных которые могут ходить то немножко вглубь смогут ходить бизнес логики могут ходить доменом образом то есть когда вас такая картинка появляется вам сразу гораздо проще обсуждать вашу структуру обсуждать конкретный сервис просить написать новый сервис мне нужен еще один bf окей разработчика берет копировать существующей б.ф. выкидывают лишний пишет можно гораздо можно думать в одном языке про тестирование про авторизацию по кастомизацию мы еще к этой картинке бы возвращаться дальше самый интересный конечно и важным но все программирование такое управление сложностью архитектуры тоже про управление сочностью когда вас маленькая команда когда вам нужно довольно быстро что-то делать сложно становится вашим самым главным врагом с которым приходится бороться какие самые интересные сложности с моей точки зрения физики бизнес сценарий а вот у нас есть он boarding он будет это пришел новый пользователь и хочет зарегистрироваться в системе его нужно зарегистрировать там его кредо ничего там системе управления и дентина его персональные данные системе хранения персональных данных ему надо создать счет в обрезке нужно проверить в какой-нибудь государственной структуре а правильно ли у него паспорта вообще можно ли с ним работать или он не дай бог террорист в общем очень много спать систем очень много шагов все их нужно сделать всех нужно сделать надежно если где-то кто-то нам что-нибудь упала надо подумать что с этим делать платеж такая же сложная система платеж сейчас это уже не просто взять и перевести денег с карточки там не знаю магазину это надо у тебя может быть одна карточка то другого банка дальше ты с ней должен снять деньги перевели привет проверить снять нужной комиссии перевести остатки денег на paypal какие-то комиссии скинуть например на благотворительность сейчас процедура по тебе становится все более и более сложная потому что все больше интересного пользователь хочет от своего кошелька поэтому там тоже много шагов много под систем блокировки киева семеныч вот все это требует довольно сложен их распределенных бизнес-процессов которым нужно делать быстро потому что их много и максимально надежно потому что это фен тех и пользователь не поймет если его деньги где-то застряли то есть вот платеж не пройдет чем вообще неизвестно что с этим происходит как обычно решаются такие такие задачи кто знает о вас ага вот на самом деле слово сага то примерно как некрасиво она перестала ждать чтобы ты не была вот но есть некоторые более менее нормально и определение на микро сервис и о есть оригинальная статья 86 прости господи года ясопп записывается что такое сага изначально понимание когда берем бизнес-процесс взбиваем его на куче шагов для каждого шага проектируем компенсацию то есть обратную операцию фиксируем список выполненных шагов и и случае ошибки мы просто аккуратненько откатим их получить за там с конца в начало это очень популярное решение то есть каждый раз когда ты начинаешь до этого редкого 8 саги вот примерно в этом смысле у всех есть много проблем первое обычно нужно отнять не вини отменить процесс отдать его другим способом мне скорее нужны чтобы мы почти все таки завершился может быть там если упал сбербанк сделать это через альфа-банк но как-нибудь пожалуйста завершите мой оплата мобильного телефона потому что у меня вот позвонить надо компенсация не всегда возможно и да сейчас многие компании финн цехе знают что такое да патент ность знают что там любая транзакция должна быть двухфазной но очень много до сих пор банков предоставляют только однофазной интерфейс это заплатил и дальше она с этим что-то произошло и ты не знаешь она прошу или не прошло и как это конвертировать непонятно по интеграцию с госорганами в разных странах мира которые не такие развиты как наши я учу вообще промолчу компенсация часто нужна не для конкретная операция для процесса вообще потому что например один из вариантов компенсации то есть реакции проявленная ошибка это просто послать сообщение оператору тут фигня разберись руками пожалуйста для маленьких компаний это гораздо проще нежели выстраивает сложный процесс обратных проводок транзакции прочего оператор справится лучше ну и у бизнес транзакция обычно есть довольно сложный бюджет транзакции то есть сколько времени можно не потратить сколько параллельных запросов каком-нибудь опять-таки внешним усираться можно в ее рамках сделать как только мы делаем компенсацию внутри конкретного шага мы сразу теряем это представление о бюджете ну и на самом деле саги довольно сложным охоту приводят то есть я знаю очень многие любят вообще делать шаги через хореографию нам этот лучший способ сделать категорически не читаемый код уже буквально через полгода в которой не разберется никто но даже саги с регистрации выглядят довольно печальненько то есть там нужно думать о том какие события формируют что нужно зарегистрировать каком-то обработчики обратной шаги и сам код операции становится расплывчатый и в общем то кроме как программисты никто не в состоянии его нормально читать я вообще давно мечу мучаюсь разными вопросами как именно делать сложный бизнес транзакции то есть где-то года два-три назад рассказывал по персистенции акторы как прекрасно решение этой ситуации но я наткнулся на паттерн warhol собственно наткнулся в описании не скинули ссылочку на описание системы конденсата вера в котором он реализован то есть это очень похожи по идее на сагу берем процесс как некоторый императивный простой код достаточно тоже из кусочка шагов при выполнении каждого шага сохраняем его результат куда-нибудь в persistent если еще одна какая-то проблема пытаемся его как-нибудь повторить дожить до конца если у нас упав сервер выполняющий бизнес бизнес процесс берем на другом сервере начинаем все вообще сначала но поскольку нас шаги сохраненным и подкладываем их результаты чтобы лишний раз не на 1 ск не увеличивать а если нас произошла какая-то съемочной ситуации мы длине тоже пишем в акву со стоящей за тех же самых шагов в оксфорд позволяют описывать бизнес процесс максимально понятным для потребителя для аналитика образом вот я вообще люблю простой тупой последовательный код без каких-либо сложностей почты когда у тебя такой код используется твой системе ты легко можешь найти разработчика целиком уж его протестировать и даже если это легко может учить его поправить мыши вообще показать не знаю бизнеса специалист он скажет да всё нормально или нет у вас тут не совсем все корректно у каденс кстати есть open source на версия там они люди которые делали каденс в убере организовали собственный стартап чек вот к сожалению она не очень подходила потому что она довольно сложные в реализации поэтому мы написали свой велосипед библиотечка в честь великого композитора гайдна как создатели симфонической музыки оркестрация эта библиотека они сервис то есть мы ее подключаем в нужные сервисы где нам хочется делать сложный бизнес транзакции с максимально удобным д с элем dsm для нас это основной фокус адриатики то есть разработчики которые пишут конкретный сценарий пьесы в данном случае в рамках нога и дни постоянно дает обратную связь и мы стараемся модифицировать наш и решение так чтобы было максимально удобно писать ну из поддержка примерно там сто тысяч одновременных сценариев примерно 20 тысяч шагов секунды блогов он дышит тебе все это позволяет сделать рандомно все foundation биби и котлин котлин дает картины и удобный заливку дыши тебе дает масштабируемый persistent как-то выглядит вот очень простой как только пользоваться все-таки здесь ладно победим и тут не работает у к указателю буду словами вот очень простенький снаряд бардин га то есть у нас набор ногами на вход бром некий набор данных начинаем пьесу сначала мы получаем там кот следующего пользователя создаем пользователю рамках шага и потом возвращаем его код обратно если что-то произошло не то в случае ошибки мы сначала если пользоваться если был пользователь удаляем его если бы созданный 200 удалим все очень просто и вот здесь есть одна интересная штука а именно по идее фрагов ну и вообще говоря таких сталях каждый шаг должен быть по идее и депо тентен так лето на самой нет изначально до патент ность это свойство операции при повторном применении давать тот же лес так что при первом на самом деле это избыточное свойства носаль почти всегда достаточно чтобы при повторном применении операция была не очень не дело чего-нибудь плохого например взять следующий номер из последовательности это не до патентная операция на безопасное и вот все шаги warhol должны быть повторяем и но необязательно для патента это сильно упрощает разработку потому что делать честно да патенты довольно сложно делать повторяемость на порядок проще почти любой транзакцию может любое создание сущности можете разбить на два сначала получить уникальный ключ а потом уже создать самую операцию это будет повторяем а не допотопным в рамках нашего пол гарантированно надежным на самый момент есть много других возможностей можно создать сделать до потребность для всей пьесы вот когда мы там указом уникальный ключ говорю что вот все сценарии которые будут с этим уникальным ключом на салют один если пришел еще раз попытка его вызвать - а мы не будем ничего делать скажем знаешь мужик вот сейчас вот этот сценарий в процессе выполнения либо он уже был выполнен вот тебе его результат вот пока мы не делали асинхронное сообщение факт изменение стонали по что пока не нужно но прикрутить недолго можно указывать максимальное время исполнения сценарий после которого произойдет он горах и мы можем как-то его обработать это просто переменная который может любой момент менять добавлять 10 секунд удалять 10 секунд как хотим вот можно указывать политику выполнение конкретных запросов например здесь указано что обращение к сервису проверки паспортных данных нельзя делать больше чем 10 раз в секунду на весь вовке потому что иначе смыв например не справится вот ну собственно можно выполнить сценарий как асинхронно так и дожидаться его результата то есть говорить о sing a white это и можно подогнать сигнал то есть подождать ответ от какого-то синхрон от какого-то внешнего 7 если что-то сделать почему когда мы ждем сигнал у нас вся пьеса выгружается из памяти не занимают никаких ресурсов всегда придет мы загрузим и продолжить выполнение сложного шага получается простой императивный код вся сложная sync раньше на откаты взаимодействие спрятаны какие еще всякие все вещи о себе сделали дикими заморозку можно спокойно сказать там делай на один месяц через месяц нарева становится когда пойдет месть и что-нибудь сделаю это не знаю комиссии по считает или отчет человека отправит легко реализовано все возможности риса эванса то есть все как брокер лимиты там довольно большое количество функций библиотеки все мы поддерживаем мягко выставление при сбоях но вот был у нас не знаю там три вовке на на каждом из них тому а довольно большая нагрузка один из серверов его выключили для того чтобы не знаю поменять версию когда мы его включили заново или сразу после выключения на оставшиеся два начинает поднимать со сценария который нужно поднять и при этом часто возникают ситуации что там сразу лавинообразно возрастает нагрузка все падает поэтому а специально сделаны что при сбоях при подъеме нового сервиса он не все нужные ему сценарию начинает выполнять а потихонечку чтобы не убить всю систему после лавинообразно восстановлением сложно обработка ошибок интеграции котором кто-то что такое кто а к кто это в блок на код ли не который изо всех сил поддерживает его внутренние возможности делает бойцам и поддерживать этот бренд сама конструкция позволяет делать довольно простой web-сервис весьма производительный и главное что он ну можно про многие вещи просто не думать о нем просто работают вот у нас он используется как стандарта на сервис место спринга вместо каких-то сложных microserver смекалов тов очень довольна кстати вот метрики варьирования как я уже показывал раньше вот у нас есть отчет как примет не осталось именно нигде нету вот у нас есть очередь то есть у нас есть wi-fi сигнал в этом и сигна предполагает что у нас есть какая-то очень событий а без водителей сдам быть с тему производительность у нас примерно получается две тысячи шагов в секунду на один экземпляр базы данных но экземпляр смысле это вот можно поднимать много экземпляров на одном сервере это где вот когда вас 4000 об суб 1 и 2 4 гигабайта памяти выдает примерно две тысячи шагов секунду если нам нужно 20 шагов поставим 10 таких нужно 50 тысяч поставим 25 потому что он примерно горизонтальном масштабировании на самом деле fdb не самым оптимальным образом использует диск на выгоднее persistent своей очень сильно отделён от все остальные логике можно взять поставить какой-нибудь по сгрыз ну а когда машинки если вдруг будет нужно там получить там 15000 с одного сервера мощно наверно на самом для для очередей есть много использований есть сигналы для vauxhall есть события отправляемых север и на клиент потому что очень хочется чтобы клиент получал информацию там о том что у него платеж например произошел вот есть внутренние события там отправки sms зачету по расписанию есть пост вообще куча пользовательских задач таких очередей довольно много нужно в системе и дальних есть специфические требования таки хочу не хочется много по 1 учитель на каждого пользователя по одной очереди на каждое событие которое на каждый платеж который ещё не завершён а таких может быть очень много одновременно потому что путь их иногда бывают по несколько недель был не могут завершиться если например это вывод на банковский счет при этом каждая очередь довольно маленькая ну в среднем в ней 0 событий обычно иногда одно редко редко бывает там 10100 ну максимум 1000 вот таких потом событий в секунду всего в сумму нас много и хочется иметь от лист vans рюкзак для вас на фиг не надо вот от лист вам хочется беда в том что эти вроде бы простые требования из коробки никто не может реализовать у кафки до недавнего времени было вообще жесткое ограничение на количество партиций то есть почти количество независимых от людей для которых сохраняется требования фифа в 200000 сейчас его сняли на все равно там миллион партийцев кафки не стоит делать это можно но будет очень тяжко можно делать на каком-нибудь подгрести где конечно нормально сделать хоть десять миллионов очередей я сам по моему два года назад рассказывал как получить десять тысяч событий в секунду в нем уже будет сложно не к можно но это требует довольно со effective тебе хороший сервер хорошей оптимизации не просто на репите большинства тысяч людей тоже делать не рекомендуется поэтому что мы сделали правильно написали свой велосипед вот существует и двух частей fondation дебит хранит сами очереди то есть и запись в эту запись храниться все события связаны с этой очереди но если там в одну запись не влезли в деби жесткий лимит на размер одной записи вот тогда мы используем несколько мы к этому придем стандартных housekeeping которые у нас есть . используется для распределения информации о том что нас в какой очереди появился новые события по всему вовке нам то есть эти маркеры подписаны на кафку читаются вообще не сказки идут в деби забирают всю очередь выполняю там 1 2 или 3 сколько там событие накопилось которые еще они не обработали как-то изменяют очень хочет записывают обратно при этом если у нас не знаем и там добавили сообщение в кафку а при этом у нас отвалилась база данных но лишний раз почитают событий озвучить и выяснил что там события никакой обрабатывать не надо пойдут дальше вот получается довольно производить достаточно надежно ну и наши производительные требовать производительность вполне выполняет 1 кафки недостаточно на 1 фут эффенди by такое можно сделать но не очень хочется что опять-таки будет довольно срочно хотя на самом деле веб ли у них там миллионы событий в секунду на чистым на в тебе живут на у них там тысячи кластеров и в тебе что в общем то же мы наверное себя не хотим делать дальше пойдем архитектура это кроме все почему множество в you point вот что точек зрения на вашу систему они будут синод вот наша картиночка на эту картиночку можно смотреть очень разных точек зрения например можно смотреть по конфигурация кастомизация у нас много разных клиентов у всех клиентов разумеется свое представление о том как должна работать платежной системы как должен работать кошелек и поэтому нам приходится используется много разных стратегий подготовки нашего решения под клиента можно просто делать форекс конфигурации где там не знаю написано сколько знака мест в банковском счете в к данной конкретной стране иногда мы должны сказать что типа вот этот метод наверно у вас будет по-разному то есть метод блокировки пользователю каждого клиента выглядеть совершенно по-разному игра здесь . расширения метод блокировки пользователь где указано как он работает и на должны вообще . добавление новой функциональности в этом месте вообще клиент хочет какой-то свою собственную специфическую запрос от нас который мы должны только под него реализовать больше никому не нужен но иногда надо поставить приписать весь код кастомизация какой сервиса сделать просто новые копии атрофируется под конкретного клиента вот при этом каждый раз думать каким именно конкретным способом для конкретного сервиса мы хотим обеспечивать потребности клиента это избыточно требует слишком много напряжение ума чем меньше напряжение ума в процессе разработки тем быстрее разработка идет эти меньше сложности поэтому можем посмотреть на все одно еще один вариант которого придумали это кот ндс или котлин язык на котором можно писать удобные ds или от живым позволяет взять код на корень из текста файлика во время исполнения скомпилировать использовать скопированный код прямо во время работы и мы этим очень активно пользуемся чтобы получается быстро надежно типе зова на эффективно и дальше мы да собственно как от ндс и что до отвлекать вот под каждую котлету зачитывается свой собственный как бы маленький датчик во сколько просто храниться все в общем сервисе конфигурации компилируются представьте ну и делаем какие-то инструментарий что это было удобно пользоваться там и дае настроенную для тех кто это делает это делать не только программисты на и сотрудники до внедрения и даже клиенты могут это делать пока еще не делают но будут там скрипты сборки чтобы все это проверить подловить сразу в конфиг тировать дальше чтобы она работала на нем сделано много прекрасно задача описание процесса платежа на заливаю описание платежа платеж вот когда вы видите я заплатил там столько то рублей за paypal основных вокруг за этой простой строчкой есть очень много магии потому что для разового платежа равна сам ли важно узнать разное когда вы например снимаете с какой-то карточки на свой основной счет для вас главное что вы сняли деньги с это карточки а если остались внешне карточки деньги и заплатили этим за телефон вам можно сдать что вы заплатили за телефон ассалям маги гораздо больше она очень специфично под каждого конкретного клиента тем более что клиент есть очень разность очень разным ограничениями и очень разной грунтовкой и например у некоторых странах имя пользователя вообще не и телефон плюс для нельзя писать нигде визуальных частях вот просто запрещено вот поэтому приходится делать очень специфический код который на кота не пишется в пять строчек это гораздо лучше чем 25 страниц настроек всякие специфический сценарий тоже легко делать так от ндс и летом блокировку изменение документов для киева see the man boarding ну и павелко прав доступа тоже легко реализуется от ебет бесед об этом чуть попозже будем собственно дальше мы берем и говорим что вот у нас разное наши сервисы разные типа сервисов по разному кастомизируют прописывает какой из них как можете кастомизировать не полная картинка там реально этих буковых и сокращение гораздо больше и покажу все 8 четко говорю что вот описывается только конфигурации например доменный обувь домены и сервиса меняются только час конфигурации больше никак а вот сценарные можно менять разнообразными способами потому что там гораздо больше нужно гибкости есть много других ли понтов можно посмотреть на систему 104 права доступа авторизация то дефекации с точками связанности безопасности доступности и интернационализации что для нас тема очень актуальна и очень очевидно обеспечение качества все это рассказывать не буду это можете только в этом утонуть на часа на два на три но расскажу немножко авторизация аутентификацию у нас радостная задача у нас довольно много внешних пользователей у нас довольно много внутренних пользователей причем мы не знаем инфраструктур где эти внутренние пользовали живут у них может быть active directory может быть какой-нибудь и density провайдер не известно вот при этом есть разные механизмы подтверждения операции то есть кому то нужно какие-то платежные операции по двигаться с маской где-то через голову тифе кейт а где-то через платежный пароль это точная важная часть аутентификации по которым очень авторизации запросов по которой почти все стандартные механизмы аутентификации забывают и авторизация крики конфирмации мы разные модели доступ где-то ролевая для народа плюс атрибуты где-то еще какая-то бодяга поэтому взять какой-нибудь как лак развернуть его сказать вот все хорошо не получится поэтому пришлось писать собственный сервис вам всем в чем удалось сделать модель в которой и i am is i am это собственно и дайте менеджмент всем это can seem родить и менеджмент то есть для конечных пользователей у нас общие решения который поддержит много радостных аутентификации которыми можно подключать где-нибудь внешней i am типа active directory и того же kycok или вокального еще чего-нибудь котором можно настраивать ролевую модель через конфигурационные файлы и при необходимости атрибут bass через год ndsl то есть можно честно это что если нас пользоваться там не знаю пришел запрос торговцу которого такой-то статус и название начинается с буквы бету тогда ему нечего давать нельзя 2 прекрасная задача и необходимость посмотреть на систему с этой точки зрения это про связность сервисов опять-таки у нас неизвестно чужой инфраструктура где может быть будут докеры но нет где точно не будет каберне this а вот почти точно где к счастью наверное можно рассчитывать что будет хотя бы linux какой то не знаю какой вот при этом нужно уметь там разворачиваться нужно все нашим нога сервисной структуру там как-то поддерживать реализовывать доступность вырисовывать balancing и животину централизовано всем этим управлять опять-таки готовых решений под это дело нету то есть прекрасное стелла работает почти все что хорошее оно работает только под губер найти сам а все что работает не только абернати сам не очень хорошие что мы сделали сделали свой велосипед свой сервис мышь который реализует service locator балансировку heart beat скрипта на wii так далее написан на нити дает 13 тысяч запросов на ядро и задержку где-то вот пример наполнились у них суммарную задержку где то пол микросекунды реально именно его собственное задержка четверть микросекунды для наших целей абсолютно достаточно мы его при необходимости дописываем писал свою недолго вот и в качестве стоит korra на об аде для большого количества наших сервисов абсолютно нас устраивает по почему поинты бы поговорим попозже и того наши структур основные архитектурные заметные важные части мы используем язык котлин и базу данных удачен гибель еще сбоку клик house мы используем мы используем этот апекс 9 пи мы описываем не нас лагеря на код ли не потому что это более удобно язык для описания api а из него уже делаем swagger у нас собственного фауне чем собственно сервис мышь мы активно используем код ndsl ну и что библиотеки сервисом это максимально важный что можно сказать по решение которое позволило сделать довольно сложно и кошлякова решение и внедрить его нескольким клиентам командой не более чем в десять человек примерно за два года от момента начала разработки эта картинка про все наши технологии почти все вот я ничего не говорю про клиенты где у нас используется флотах что тоже не стандартно вот react но это можно отдельно в кланах выводы архитектура это вообще говорили по картинке архитектура это про то самое важное самое важное что вы хотите сказать по систему что то какие то варианты думать об архитектуре я успел записать какие-то остались на будущее потому что описывать все подходы когти которые можно бесконечно вопросы спасибо филипп а поднимайте ротик вам подойдут сейчас наших all передадут микрофончик филипп тебе от нас подарок который конференция можно поставить с трибуной то что было проще отвечать на вопрос очень я наконец увидел часы смотря вниз очень информативный доклад спасибо не знал про расстрел один вот открылось то новое и так а у кого уже есть микрофон вставайте не задавайте вопрос да привет спасибо за доклад классным понравилось мне ты очень много сказал слова велосипед на такой вопрос а вы не думали открывать свой wella в магазин платье зал консорты что-то или продам нас появился смотри мы сейчас как это думаем потому что открывать свой pantex это дорого взять и выложить то что сделано просто так то это никому не нужно а если это готовить это не просто это не дешево и требует ресурсов которых нас не очень много вот мы про это подумал если будет активный интерес к этому делу наверное это подстегнёт наше решение поэтому если у вас есть интерес то вы выдвигаете его в каком-то видео там пишите мне письма там не знаю голосуйте на улицах устраивайте пикеты придать и сам спасибо спасибо за замечательный доклад у меня три вопроса первый вопрос каким должен быть хороший архитектор диктатором или демократам на второй вопрос насколько объективно понятие хороший архитектуре может ли один хороший архитектор оценить друг давай по одному и вот я забуду просто первый вопрос пока ты бы говорит 3 хороший архитектор да он должен выслушивать других и нести ответственность за принятые решения поэтому обычно это выслушать чужое мнение подумать над ними сказать как она будет и желательно уговорить всех остальных как почему именно он принял именно это решение и почему она будет такое потому что если он будет просто создать сверху таскались он очень быстро потеряется собственных решениях будет делать ошибки какие-то и его не будут верить если он будет постоянно слушать других то непонятно за что несет ответственность и как он будет делать выбор поэтому приходится мешать и то и другое плюс такая монархии в английском стиле вот и гневную консультацию их величество королева да как-то когда объясняет как на самом деле надо работать спасибо второй вопрос насколько объективно понятие хороший архитектурой может ли один хороший архитектора оценить хорошо артисту другого хорошо смотри вот они тут специальности архитектура как непрерывный процесс архитектуры это не артефакт это непрерывное происходящее прямо здесь и сейчас события почему мне не нравятся эти методы описания архитектуры они все просто теку а ты меня это динамика поэтому архитектуры может быть хорошей прямо здесь и сейчас она решает ваши проблемы вашими ресурсами ваш архитектура сейчас может быть ужасный через для воды через пять лет потому что вы выросли изменились и что-то изменилось поэтому для меня как бы нету критерии качества архитектуры кроме соответствие вашим текущим требованиям ну или потенциальным близким требованиям никак мы не знаем как поток как изменится мир вокруг вот может быть там не знаю завтра джаву закроют или патентом не знаю уйдет в какой-нибудь будет санкция накоплен и выяснится что вся моя архитектура абсолютно ужасно потому что это все приделывается но сейчас наши решения она реализует и поэтому она мне лично кажется хорошей спасибо и последний вопрос не слишком ли блин много велосипедов для команды с 10 человек но к счастью некоторые велосипеды делали ним и а соседние команды то есть на самом деле и сервис моих и библиотека работа с фондом хинди бета делают соседних командах тоже очень небольших и тоже довольно дешево и просто есть мы взвешивали бич реального взвешивать бюджет на каждый велосипед то есть у нас всегда есть выбор взять существующие внедрить там потратить ресурсы чтобы вода перед для себя либо написать свое собственное мы смотрим думаю делают пуфов концепт если все нормально оки делали свое при этом у нас еще конечно проблемы что мы свои решение ставим клиентам и например на дому нога четыре потребности на внедрение в несколько раз то есть таджики clock да я верю что если бы мы сделали как только для себя его ставили вы научились бы его использовать там на 50 миллионов пользователей так далее научить многих клиентов его использовать становится гораздо дороже поэтому вот это вот постоянная мысль что у нас как бы и не свое решение иди коробочка которые продали забыли о да посредничество как бы и не очень вот и производить и неточных в абсолютный highload но и забываешь про неё нельзя вот клиентов не то что очень много но и не 1235 и поэтому нужно по это думать это очень будоражащий на самом деле опыт я за это очень люблю текущего свои места работы что-то очень интересно это очень нестандартно приходится делать вызовы которые больше нигде не встретиться вы сказали что вы скажете по 3ds max reger специфических правил для да а скажите пожалуста как ок скачивается безопасность здесь получается что произвольный код может спускаться он не то что произвольный он может заполняться в тех местах где мы можно и он работает вообще говорю в песочницу то есть на самом деле там dsr это не может там платежки вершить если тебя там без цели метод который все что умеет делать иметь доступ только к методам который форматирует там описание строки с информация платежи ничего другого сделать не может вот но сам при этом код бюро по сиськам фигурой фан-сервиса который защищается то есть не то чтобы кто угодно может туда что-нибудь положить совершенно нет здравствуйте михаил денисов миха системы архитектора спасибо большое за доклад очень круто сын совсем нет к вопрос вы представляете свое решение уже сейчас у вас уже соответственно номер клиента да ну несколько несколько раз вы уже начали какой то интерес а вот а вот так скользко сказали что типа ну вот там максимум докер мы точно не кулер как бы у клиента да ну нас как бы нас ждут еще такие же проблемы абсолютно кавказ в одной из областей нашего продукта мне вот интересно и собственно как вы осуществляете поставку это какие-то пакеты как вы их собираете не знаю кучу как вы их поставляете сами ставите ли вас ските не строками старейший но это вы идете к ним они идут к вам вот как в этой артисты на самом деле мы ставим обычно это просто герой маской библиотека но каждый сервис это полноценный diving со всеми с вами зависимости с бабочками разворачивается все танцы было по-разному то есть у нас есть свое решение которое умеет запускать там и мониторить внутренние сервисы можем использовать стандарты там систем d при необходимости можем на самолете это в катыни развернуть если клиент попросят то есть это очень сильно зависит от конкретного клиента вот но базовая все таки да пока используем on seba плюс у нас будет явно свою собственно решением допиливать который будет уметь делать аккуратно и миграции выкладку без останова совершенно автоматически потому что клиентам это тяжело вы пока вы пока что не пришли к кому-то именно покинуть и по готовому к нарушению не можем клеем с мониторингом вот тоже большой вопрос не мониторинг это понятно у нас каждый сервису метод давать метрики в формате промо если клиент хочет мы ему ставим памяти с настроенными даже бардами для графа ны если он этого не хочет чтобы его собственный prometheus или zabbix то он может просто стандартным способом эти метрики получать то же самое с vogue рование у нас все логе делают их что структурно можно у нас стоит вектор которых собирает отправляет на другой вектор который кладет crack house буклет мог сказать ребята на свою власть и зачем я буду ставить ваш клик house и забирать этиология от на стандартном виде описанным из нужно его место клиенты разные вот кто-то вообще хочет чтобы все это разворачивали там знаю в прессе и мы тоже можем взять все это развернуть в офисе понимать адаптируйте подход спасибо ja потому что клиенты разные привет спасибо за вступление очень интересно у меня скорее вопрос про фаундейшн тебе вот это послание указал что вас gres банки не любят а когда ты приходишь и говоришь о fondation т.п. они такие эти пропусков заходи давай понимаете фон дальше мы говорим что с воды и теперь разбираться будем мы вот мы рассказываем про то как она надёжная потому что их интересует на самом деле а дальше курим поддержка но вот как бы мы поддержку обеспечиваем а вы потом еще поддерживаете он дальше мне бену мы все поддерживаем просто и по некоторые вещи мы говорим купите не мы являемся ключевым элементами в поддержке то есть вот cliff house мы берем вот есть там если вам нужно вот там есть прекрасная компания там который мертвы организовать поддержку можете у нее потом приобретать fondation тебе приобретать мелкого берите у нас это всяко будет еще зачем он понял а еще вопрос касаемый получение пися диез с получали выписать с с на свою систему у клиентов у нас без проблем у нас каждые полгода или каждый год аудит папе и тсс тсс для решений которые можно использовать в беседе с решениях то есть это для вендоров да конечно регулярно постоянно-непрерывно потому что как без этого дома да да то есть но там криптография своя то есть они споют как мы управляем ключами как происходит криптография данных внутри все остальное в общем никого не будет назад в текущих решениях мы не храним карточной данные там а скорее больших персональные данные интересуют и соответствует dp.ru какому нибудь там где они нужны но там криптография да то есть все как всегда схемы камерах хранения ключей распределение выдача или там в железные часами подключать там разные сценарии и всех сожалению приходится использовать так отлично еще кисть вопрос есть поднимайте руки может быть из онлайн у нас кто-то хочет спросить тоже подключайтесь нажимайте кнопку возле player ok тогда под ваши аплодисменты филипп это было очень строго встречайте филиппов цифровых кулуарах на выходе за выходом там краб микрофончик и можно задавать вопросы буквально через полчаса будет у нас здесь алексей павлов из wildberries рассказывать про архитектуре вас устойчивого платежного шлюза вот думаю у она была да вами мы над чтобы мы мне над нами такой а а а не а и отрывайтесь своих телефонов ноутбуков поднимайте глаза вверх за умер 8 конференция highload + + и предпоследнее выступление в этом зале про создание архитектуры высоко нагруженного платежного шлюза расскажет нам алексей павлов тимлид из wildberries под ваши аплодисменты добрый день коллеги сегодня расскажу про архитектуру нашего нового платежного шлюза это как мы обеспечим его отказоустойчивость я сказал архитектуру именно новую платежного шлюза потому что где-то год назад мы полностью прописали эту систему я сегодня немножко раскрою в чем были причины такого нашего решения расскажу про те принципы где требование которую мы раз закладывали при разработке нового шлюза и при этом у нас были ограничения потому что они прямо образом повлияли на получившийся архитектуру тестом покажу рассказывал про нашу архитектуру акима используем технологии почему у меня эти технологии расскажу про используем нами протокол передачи и хранения данных из ural запросов который позволяет нам корректном провод падежи даже в случае пол недоступности база данных а также поделюсь еще несколькими нашими техниками которые позволяют нам повышаете свои наших сервисов но начала немного ключевая информация компания как вы все наверное знаете в all.biz это интернет магазин marketplace самой крупной в россии в настоящий момент зарегистрирован на платформе свыше 6 миллионов пользователей ежедневная аудитория вставляет больше 8 миллионов уникальных пользователей помимо того что мы работаем на большей части территории россии мы последнее время также начали экспансии другие страны уже несколько лет успешно работаем таких стороны казахстан беларусь очень постсоветское пространство в прошлом году мы начали работать в странах европы и к словаки больше германия планах у нас положить дальше с европы но впрочем не гонитесь такие только европой мы даже сейчас уже работает этих странах как сша израиль если говорить про нашу нагрузку то это примерно 1 миллион транзакций в день это достаточно большая нагрузка даже далекого рынка систем несмотря на то что мы уже сами по себе достаточно большие мы продолжаем так же активно расти последние два-три года наша составляет 100 процентов год году то есть мы с каждым годом продаем два раза больше товаров и начала я немножко окунусь историю расскажу про наш старый шлюз собственно долгие годы он вполне себе успешно работал вполне себе устраивал бизнес но я был небольшой нюанс потому что он принимал только два процента оплата только те оплаты которые пользователи через сайт доплачивали товары то время как большинство пользователей выбирали в качестве способа оплата все-таки система когда они заказывали товар и приходили в пункты выдачи смотрели выбирали что мне нравится что не нравится и оплачивали уже факту товары но год назад совсем с известными событиями это все поменялось были введены ограничения на пришлось полностью перейти на предоплату схему и внезапно это серый стал супер критичен для бизнеса фактический отказ означал полный пол нарушение всех бизнес-процессов что не мало того что и проводить с оплатой не формировали заказы не были ни формировались доставки и было выгодно несколько ключевых недостатков старого шлюза вот несколько примеров самокритично это пожалуй вашей проблемы с отказоустойчивостью из наших достаточно сказать что принципе это система могла работать только в одном дата-центры связано какие-то проблемы в этом дата-центры ли какие-то козы приводили к полному downtime все бизнеса и возможно сделать быстрые частые обновления с больше архитектурная проблема что она предлагала что для того чтобы обновить шлюз начала надо было полностью погасить собственно загрузить обновление стартануть и там была еще целая процедура безопасности которые шалав себя за то что определенные хранитель ключей должны были водить ключи безопасности только после этого шлюз мог стартовать это все привело к тому что обновлять мы эту систему могли только по ночам понятно дело что мы не могли делать частота обновлений даже несмотря на то что мы обновляли это только по ночам когда у нас на меньше трафик но все равно это аффекта бизнес и как следствие этого мы не могли делать в интеграции фичи то есть у нас критически рост time to market а поскольку это стало критичным для бизнеса компонентом то естественно хотелось его развивать хотелось проводить новые интеграции и так далее также стоит отметить что этот шлюз это очень древняя часть системы она была написана на устаревшем ну для нашей компании стыке это серж а я появится сервер mssql настоящий момент мы почти полностью отказались от таких legacy систем и как бы не особо было желание в таком важном компоненте для бизнеса где-то держать отдельно и технология и еще когда-нибудь фактор со времени у нас просто выветрился экспертиза в этом стыке так что было как-то трудно найти ресурсы для поддержания работоспособности и было систем понятно как нам положить развивать эту историю как положите и масштабировать и посему было принято волевое решение год назад начать в полностью переписывать с нуля эту систему мы изначально поставили во главу угла отказоустойчивость потому что на наших объемов заказов минуту даже простое это огромные потери для бизнеса мы приняли как факт то что отказывать может что угодно базы данных дата-центры банки мы должны быть к этому готовы мы должны даже в таких ситуациях успешно проводить оплату мы должны были способные принимать сто процентов всей нашей нагрузки более того как я уже говорил мы быстро растём и мы должны были заложить рост в десятки и сотни раз просто для того чтобы просто ближайшие годы не упереться в какой-то потолок масштабируемости ну и мы изначально заложили в архитектуру мультитональность то есть мы изначально подозревали что коль мы разрабатываем такую отказоустойчивой систему то неплохо было бы зарабатывать например продавать другим компаниям ну в принципе мы сейчас этим мы занимаемся в настоящий момент мы используем эту multi t на снасть в частности для того чтобы разделять наши оплаты например по странам нашим дочерним бизнесом но вот в планах и начать привлекать другие компании и стоит поговорить и об ограничении с которыми нам пришлось столкнуться при разработке первая из них это естественно самое главное это писать с с поскольку мы храним карты пользователь на своей стороне нас есть целый большой список предписаний связанных с безопасностью как мы должны хранить данные все все что связано с безопасностью secu ровностью это на самом деле очень сильно отразилось на нашей структуре второй фактор мы должны были как можно быстрее выйти впрок это опять же связано с тем что пока бизнес сидел на старом шлюзе были большие риски связанные с тем что он в какой то прекрасный момент может упасть и также были большие потенциальные потери прибыли и второе интересно интересно архитектура начинаешь это в том что у нас в распоряжении было только два центра то есть нам надо было построить мутит с решение и у нас было сражение только 2 до центра это начало куча головной боли как нам разруливать с предприятий в случае потери связанности между центрами как добиваться концерт со при условии что у нас не работает 12 центр в общем мы решили просто отказаться от кого-либо розница решения мы изначально выбрали актив актив архитектуру сейчас я объясню у нас есть два контура альфа и бета коре содержится свои из полностью изолированные костра вернется с кашей очередей и сидит из на что их связывает это синхронная репликация который идет через наших хранилище сев это даже это репликация она делает со сторонним инструментом то есть опять же внутри этого контура нет никакого знания о том что есть еще какой-то актив контур более того нам это решение дает нескольки бонусов в первый из них мы можем как угодно балансировать трафик между этими контурами полностью вводить один классный например для проведения каких-то технических работ чтобы это не аффект тела боевой трафик либо в случае ну допустим отказа того же самого sefa что мы не могли безопасно перевести все наших пользователей во второй контур и в это время лечить контур в к там есть некие проблемы также дает возможность нам делать изолированные об тесты но здесь тоже простейший логика вводим весь трафик например на альфу на поставляемую какую-то часть пользователь на которых мы собственно хотим от оси ровать эту фичу и постепенно мы можем переливать допустим пользователь между dc как это работает у нас есть два по домена собственно альфа и бета есть глобальный домен pvp точка ком который по дефолту смотрят дань с вами в один из этих контуров но там по серединке есть небольшая хитрость маша можно сказать прокси которая прекрасно знает формате передаваемых данных может их парсить понимать из какой страны пришел запрос что это именно за юзера взять например это юзера корпоративно или нет это опять же полезно для пытаться что мы запускали новый фичино сам лояльная аудитория наших сотрудниках и в общем у нас достаточно широкий спектр того как мы можем балансировать между этими контурами дальше я немножко поговорю о выданных нами технологиях в качестве хранилища как я сказал мы используем сев сев это по сути с определенное хранилища которые настраивается под поверх почти что голых тачек оно само по себе является очень надежным спокойно переживает отказы нескольких not репликации эти данные не будут где потеряны и в принципе она является самостоятельным решением не требует особо пошел и администрирования за является сама страдающие самом менеджеры себя у него есть несколько плюсов первое это легко масштабируется и как по операциям так и по диску то есть мы просто добавляем новый новую ноту федерацию и дальше происходит магия что сам все все это разрушит для себя поскольку все факты рируют бабами то есть мы можем себя придумать на стороне приложение к вагона формат данных в частности мы используем threesome у всех есть три интерфейс которым можно взаимодействовать у повара дескать ис-3 интерфейс там поддержка уже очень слабая если мы хотим падеж комплект уже с листа то это придет это приходится делать полнитель индексы в этом сам все financial страдает performance то есть по сути свой стенд интерфейса там есть простейшие кипели операции там положить что-то по ключу достаточно для хочу он на самом деле для нас я достаточно чуть больше поясню и также один из самых больших плюсов является то что у нас была большая впредь и за в компании высев используем давно массив и используем удачно в частности вся медиа который есть на волдыря с картинки видео 3d модели они все все они сервис именно через wi-fi и небольшой чечерский такой плюс это то что у нас есть готовый инструмент для мастер мастер application to называемой сивко в будущем коллеги обещали его закон сарсель побольше рассказать о нем на докладах но я вам расскажу лишь то что он дает нам мастер мастер аппликацию в н кластеров на данном случае нас костра 2 то есть это был таким решающим пазл нашей системе стоит сказать почему именно выбрал была выбрана sefa никоим традиционно лицо на решение ну причина банальна просто очень долго просто для того чтобы построить грамотно и реляционную базу данных мы должны знать формате наших данных в их отношениях если мы говорим о том что у нас очень быстрые сроки разработки то что мы должны как можно скорее выкатывать фичи то есть у нас сможет все поменяться просто по щелчку пальцев это означает то что мы просто не сможем построить грамотное решение отношения авиационной базы здесь его добавляется том что мы должны заранее задумываться как мы всю ту сторону штабе ровать позиционирование авторизации как она будет реплицироваться естественно это все тестер это все надо проверять какая там будет доступность какая там будет 40 потери мастера и сел здесь по сути является просто огромным лыжникам который позволил нам забить гвоздь но в принципе мы это мой рады вот и здесь конечно же есть несколько минусов у этого решение во первых да это скудный интерфейс опять же у нас по сути есть де виллерс это положить по значению достать по значению и возникает вопрос а если мы хотим сделать куют а выборку в сделку юта агрегацию здесь нас спасает то что у нас принципе системе есть дополнительная базов который хранится информация транзакциях например аналитика мы в нее так также дописываем всю информацию о транзакции то просто она не является таким критичным для бизнеса компонентом вот так что там к ней можем меньше требований по доступности предъявить вот и просто из него делать все необходимые нам выборки и проще и второй второй момент что естественно нас из всего исида остается пожалуйста к последней буквы то есть что your ability что наши данная останутся в этой системе но здесь тоже для нас это по сути и не страшно даже это большой плюс то что мы за этого не страдаем полосу мы из изначально закладывали в архитектуре что мы не очень-то полагаемся на данной базы мы изначально осознанно говорим что там могут быть не гостинцы это просто какое-то хранилище информации она может вполне себе не актуальным и в том случае когда нам нужно действительно актуальная информация мы идем напрямую в банк нашей коварен число рублей информации там берем актуально информацию например сколько было по транзакции возвратов только взошло денег подобная информация в качестве hd мы используем ребятенка ну это просто классика это за что понятно и решения действуешь на много экспертизы есть много понятно кейсов но здесь пожалуйста что интересно то что мы его используем никак закончить message was the что это означало что случае отказа этого самого ребята наши бы транзакции застревали в ком то непонятном сад руси он используется только как при тройер если мы не могли выполнить какие-то асинхронной операции ну допустим отправка колбая к мячу там с финальным статусом либо опять же записать эту транзакцию аналитику по разберем небольшой пример мы попытались и синхронно дописать транзакцию на всех мы получили тайм-аут возможно это какая то не доступность этого хранилища мы хотим все равно чтобы у нас в будущем эта информация быть транзакция появилась мы кладем всю необходимую нам информацию в тоску в ребят есть ретро эро которые учитывают общее со всеми танками естественно если всякие мы смогли дописать отсека все выкидываем все успешно если мы все так же получаем неуспех там и на ком и постройке этой очереди она падает а называем очередь ожидания очередь ожидании никто не читает дней просто тоска союз какое-то определенное время настраивается через лет rtl и соответственно после того как проходит это время они на куются обратно в рабочую очередь это позволяет нам делать каких-то даст вас какой-то определенной периодичностью но это чревато тем что мы не можем бросить наших партнеров надо как-то размазывай трафике ты для этого мы реализовывали треков то есть мы просто постепенно с каждым новым кругом неудачи увеличим этот дтл очереди ожидания и как вы поняли у нас может быть большая некроситет ность данных по времени и здесь возникает вопрос а как не пускать двойные списания мы не можем просто взять и пойти и спросить у базы потому что в базе может просто эта информация ещё не дописана нас есть нам на помощь приходит из сиди мы просто перец почему оплаты делаем уникальный ключ это индикатор мерчанта диктатора его транзакция разбавляем его видеть и сиди проводим платеж с краном дальше прилетает платеж с точно такими фиксаторами мы смотрим видите сиди в туда такая попытка оплаты уже было мы создаем либо in доплатить на отрезков те случаи когда мы можем достать информацию на заказ из базы либо в других случаях мы просто даем ошибку что это тугрики транзакции дальше мы накрутили на него некоторые еще другие функции частности на нем у нас стоит элемент в чем этот лимит не нашей стране к казалось мы вполне удачно справляемся с нагрузкой мы вряд ли метим именно обращение к нашим банкам как искал в тех случаях когда нам нужна точная информация транзакции мы идем за информацией банки кварты и так получалось что в некоторых ситуациях мы просто доселе наших актеров именно для этого мы и собственно посолить или метро чтобы их в этом плане не досить также есть один интересный кейс что они из наших банков эквайринга впринципе не поддерживает это параллельный обращение к одной транзакции то есть мы например не можем узнать статус транзакции не может пони провести возврат это приводило точно интересом поведению стороне этого и квар так что нам пришлось сделать еще распределенный мьютекс который посетил завал обращения к этому флаеру ну и что там еще есть это мы хранили сидит дополнительно конфигурацию просто того что ключи есть удобные ревизии можем спицами же там разными версиями эти конфигурации получается просто достаточно удобно также свой толкнуть еще не в три другие компоненты но вот эти все понятно а просто кефиром запросы когда там уже финальный статуса просто чтобы наши партнеры лишний раз не спрашивали по уже готовым транзакции и волк мы сможем того чтобы хранить секретные ключи части включив шаров шифрования для наших карточных данных а теперь я хочу немножко рассказать про наше слово плат в данном случае я привожу пример именно оплата через ей ну в принципе и не суть важно описанные вызову проходят через те же самые этапы то есть мерфи на своей стороне формирует платежную ссылку перебрасывает на пользователя он приходит на страницу нашего шлюза там он выбирает какой-то метод оплаты там сохраненная карта оплата новой карты после чего его перебрасывает на страницу где уже происходит сама плата мы следом транзакцию своей базе чем call back merchant у что чувак оплатил и собственно проводим самому оплату наших рекламе по после этого если эта плата новой карты либо это под на большую сумму срабатывают наши 3ds срабатывает 3ds и перебрасываем пользователя через redirect и на страницу где происходит у дефекация и после успешно либо неуспешной модификации мы обратно перебрасываем на страницу шлюз и где мы дожидаемся финального статус и по транзакции тема пытаемся финализирован опять же отправить колпаки успешными успешным статусом нашему merchant а там дописать в базу финальный статус и после чего моя обратно возвращаем пользователя на страницу мерчанта с информацией дополнительно транзакции успешно неуспешная какой там был тип ошибки еще там какая-то информация здесь возникает вопрос а как если мы говорим что мы хотим проводить платежи без базы хранить эту информацию безопасно vrm хранить ее в только в базе не подходит потому что это слишком большая зависимость для базы варианта что поставь вот еще doubler систему но к сожалению тоже не будет работать потому что в случае каких то например сетевых ботаников это дубль система тоже может упасть здесь мы подходим к идее что мы должны где-то на стороне клиента обеспечивать это фактах схему но приходит в голову например кроме локальное хранилище наклеить и но 10 мы просто я показал это именно на примере нашего ей но мы не всегда контролируем пользователя вот что просто партнеры пользуется нашим шлюзом там нашим api через прокси в общем мы не как скажем сейчас на пользоваться cookies тоже плохой вариант потому что нас в в это цепочка редиректов если несколько смен доменов собственно здесь тогда возникает такая идея а давайте это все хранить в углах очевидно идея что давайте засунем get параметры и собственно для этого созданы к сожалению тоже закончилась файлом потому что банки в call back your luck образуют все get параметры просто по той причине что они хотят туда совать свои и тогда мы придумали что мы будем просто все а кодировать puffer вот пример такой ссылке сгенерированный домен hp.com дальше идет опциональной лакане в данном случае эта почка вызываем метод прекрасный момент это собственно та страница на которой пользователю отрисовываются его карта где ему предлагается провести оплату дальше идут в формате киба или key value параметры оплаты есть такие обязательные как например не секатор merchant а потому что именно по этому параметру мои собственные проводим разделение оплат детей катара юзера на самом деле обязательных параметров конечно же больше это валюта это сумма оплаты и так далее просто здесь немножко укоротил также могут быть какие-то необязательные параметры например здесь вы союз 3ds true то есть мерчем на своей стороне зафорсил 3ds еще один интересный параметр это эксперт то есть мы храним мы ограничиваем время жизни ссылки просто по той причине чтобы не было такой ситуации что пользователь пришел на страницу шлюза там забыла не и они на два дня а потом шел решил оплатить умершие то уже нет этого товара и не совсем понятно как в роли в такие ситуации или того чтобы пользователь не смог например купить iphone и по одному рублю у нас есть удостоверяющие подпись мы подписываем всю часть начинает в заметные всех его параметров в хитом от него хэш добавляем к этому хочу секретный ключ конкретного мерчанта и особенно высчитываем подпись нашего запроса и собственно нам приходит такой запрос мы его просил мы считаем эту подпись с на если все сходится то замечательно мой пускать запроса при самом страницу если если подпись не сходится это понятное дело что здесь что-то пошло не так мы просто верим что нет мы не будем проводить такие за по запросу у это протокола есть свои минусы во первых что поисковые движки не будут ранжировать потому что как правило это будут просто слишком длинные url и также есть ограничение старых браузеров сном и и 8 и 9 в 2 килобайта опять же вас просто очень-очень много параметров там 30-40 штук это все генерируются ссылки которые например могут весить там 45 килобайта но и мы принимаем риск то что старые некоторые старые совсем браузеры некорректно работать современные браузеры могут десятки килобайт урла успешно обрабатывать принимать и прочим а также есть ограничение сторонних сервисов что они не могут проснусь и охране такие длины колдакт ёрл в данном случае мы большие мы можем продавливать другие банки лета чтобы они делали своей стороны не отработки но если говорить в принципе это как протоколе то конечно то что я показал это была не самая эффективная потому что там у нас есть длинные человека понятные названия это все никак не сжимается и прочие при желании можно оптимизировать даже у нас были кое-какие идеи но просто до сего момента мы справлялись вполне просто продали продавливая наших партнеров ну и также один больше технический момент это не типичный протокол требует своей реализации если страны клиент формированию ладно все понятно просто грубо говоря делаем могу проходимся по ней все это контактируем высчитываем подпись отправляем запросто страны имена сервера там есть сложности то о том как это все доставать как это парсить у нас тут какой-то момент про просто на каждый параметр было своей регулярно понятное дело что когда у тебя 40 параметров это 40 регулярка твой парсит эти параметры не совсем эффективно мы написали свою библиотеку который позволяет в формате регенерировать все это бани со структурной вот ссылка на нашу библиотеку а на самом деле здесь не совсем в актуальном состоянии есть какие идеи есть какие доработки на ближайшее время мы ее обновим но вот если вы хотите попробовать этот протокол то пожалуйста я рассказал о том как мы можем переживать отказывать от центра как можем прислуживать отказа база данных а 1 скажу а потом как мы можем переживать отказы банков мы выступаем здесь у нас нет своего кого рынка выступаем здесь такое агрегаторы нескольких и плееров у нас есть свои бизнес правилах описано в таком джейсон языке который выделяет именно в какие игры будут road запросы из какие банки а не уходи чески именно терминалы там это сделано во первых как для диверсификации чтобы в случае падения одного из банков нас были другие настоящий момент если я не ошибаюсь на схему или восемь различных банков и клайров а вторая причина это потому что просто все эти разные банки все эти они поставляют разные тарифы на просто выгоднее кит тарифы в один бак банк какой-то в другой и соответственно для того чтобы написать нагрузка фотобанка мы можем либо изменить сам роутинг либо там в админке подключать и к пику aero общем есть еще одна интереса особенность что мы при этом не просто роу тем какой-то файл doc как правило это учитывай по тарифам самый выгодный fall back и существующих но это снять ручками делились в админку что-то включать это требуют реакции у нас даже к я и говорил минута там падение может стоить большое количество денег поэтому нам нужен было моментальная реакция для этого мы рисовали патерностер бейкер для банков то есть если мы видим что у нас какой то банк тайма учит что от него летят пятисотке либо какие-то ошибки которые мы интерпретируем как их системны мы просто его включаем на 15 минут там обычно дежурного за него это разработчика чтобы он посмотрел потому что тоже возможно что это могут какие то мисс срабатывания собственно понимается уже решение дома замечать этот банк не отключать менять раунде так или нет но мы пошли дальше мы не ограничивает все-таки бейкером только для банков мы в принципе поддержим этот паттерн для всех наших вещей то есть мы видим если в какой-то flow у нас тоже возникают какие-то непонятные ошибки можем просто его трубить например если мы подключенном какому стороннюю хранилищу карт видим что это хранить ведется как неадекватно мы просто его включаем того чтобы пользователи не могли читать и какие то как карты оплачивать но том что ему просто бы не была успешной оплаты и так же у нас есть секретарь который позволяет нам отключать какие компоненты с теми как рейде сайте сиди и даже нашу базу для того чтобы просто не не несла задать под пользователя в этом случае у нас есть несколько резервных механизмов обработки которые дают нам койке меньше гарантии койке больше головной боли но они позволяют нам продолжать оплачивать проводить оплаты пример таких механизмов например очевидной что канала снизу не доступна наше хранилище мы не можем начать транзакции мы отправляем все запросы напрямую банк эквайринг в обычной ситуации мы бы и воды дать или опять же у нас есть еще ряд лимита которого это не допускает дальше у нас все всегда под сервисом есть дефолтная конфигурация говорил у нас есть эти правила бизнес-правила роутинга всегда есть прямо с дюжиной вы нужно какое-то дефолтное правило которое поставляется в случае если и возможно мы здесь и его подгрузить в том случае если у нас есть сиди не работает мы идем на рискованных оплат что для нас намного легче просто потом эти деньги вернуть чем теряете оплаты также случае если у нас недоступны наше хранилище карт мы просто форсируем для пользователей оплаты новые карты до получается немножко плохая конверсия получается что мы всех отправляем на 3ds что тоже аффекте но мы не решаемся полностью оплат у нас есть локальная очередь запросов раббит на случай если будет какая-то падь потеря с ним соединение в котором можем позже дописать когда он поднимется и у нас есть что дублирование организация плат в при запросе и статуса такой небольшой хелбиг 2 даже если вы по какой-то причине не могли пройти асинхронная flow если по какой-то причине мы не смогли там положить в кролик написать через него привести формализацию оплаты мы всегда может просто убить эту настройку для того чтобы все пролетающие нас эффекта на законы проводили эту финализации и напоследок хочу рассказать немножко не про технические моменты а про организационной которые помогают вкушать отказоустойчивость потому что как показывает практика очень очень большой процент именно завязан на человеческом факторе первое из них это то что мы обязательно с серым в чинно проди от фиксируем их на отказ пассируем на то что берет их правильно searched бейкер правильно он распознает эти ошибки мы здесь сразу не только то что у нас это новая интеграция правильно работает в нас случае чего может еще и правильно вырубится мы и попытаемся приводить учение связаны стимулирование происшествий для того чтобы просто быть готовым знать как реагировать на такие случаи как отказа каких то систем отказ база данных чтобы просто не пока не паниковать чтобы у нас у всех в голове была инструкция что в этом случае делать все инциденты которого возникают все пока по мы стараемся разбирать чтобы находить причины чтобы находить как который какой-то готова алгоритм который позволял бы нам в будущем с этими фактами успешно справляться и мы формируем базу зданий что делать если произошел x который позволяет просто в нее заглянуть если подходит к непонятная ситуация простая случаев просто найти совпадение а и получить готовый решение как с этим бороться вопроса так ваши аплодисменты алексей павлов или ты съел перес пока вы придумываете вопросы поднимайте руки наши хелперы вас найдут алексей тебе подарок от организаторов конференции поздравляем можешь поставить возле тумбочке если что у меня есть пара вопросиков из chateau возле player ace online а ребята кто смотрит нас онлайн тоже можете подключаться нажимать кнопку возле player и выходить в эфир итак у нас первый вопрос из зала давайте первый ряд слева привет вы рассказывали про распределенный мьютекс я немножко не до конца понял и можете подробней рассказать что это как это работает но это как бы что мьютекс только распределены между несколькими инсов непосредственного и сиди кластера это было связано с ограничением одном одного из наших банков эклеров которые не позволял делать какие-то правильные доступа к одной транзакции один из примов такого например мы хотим узнать статус транзакции и например полетали куется запрос возврата это могло приводить к ну не совсем адекватному поведению и собственно для того чтобы минимизировать такие случаи вот и был создан по сути такой метод второй ограничил доступ запросов одной транзакции в этот банк player так хорошо следующий вопрос а какой микрофон вставайте здравствуйте спасибо знают доклад и я хотел спросить как происходило переключение между 100 старым шлюзом на новый то есть я так понял они очень сильно различались по функциональности и выиграл бы говоря просто выключили старые плеч или сосновый и там были какие-то промежуточные шаги нет нет это достаточно долгая процедура к вышло несколько месяцев первое что мы делали это мы мигрировали данные данный карт и там на самом деле был в двусторонний процесс потому что даже когда мы по большей части пришли на новый шлюз все равно были какие-то факап на ситуацию часть на старой поэтому чтобы просто пользователь всегда были грязные его карты если нам платил через другой шлюз вас было двусторонняя миграция то что касается информации по транзакциям просто на стороне сайт в стране в адрес была информация дисковая шлюз было пройдено оплата через старый через новый то есть они на своей стране разваливали где им надлежит транзакция спасибо так у кого микрофон автора ряд я такой вопрос по поводу дипломами то понятно что платежного шлюза есть определенные требования down time то есть должен быть максимально минимальным как вы делаете deployment может быть это blue green deployment потому что у вас есть два контура как вы их назовете ну могу рассказать про нашу процедуру дипломанта первый что мы делаем brandice трафик в один наши контуров например только на альфу мы в бета контур накатываем новое обновление и постепенно мы начинаем тестировать pride передавая небольшой процент трафика на бету постепенно мы его наращиваем пока полностью не приходим на бету правильно мы смотрим на все наши метрики смотрим все ли в порядке и рассудили у нас флориды все ли в порядке у нас уровень оплаты с конверсиями если все успешно мы и полностью перекину тогда нагрузку на хорошую обновляем 1 потом снова сплитим трафик филипп спасибо за доклад как обеспечивается исходя из соответствия защиты хранения карт и что кстати вообще вы храните защищенного из миров как понимает артистов данных все иришечка храните нет потому что это если упал центр охта в общем все потеки которые на нем были они улица если усилия и распределять но мы не имеем права посреди сохранить villa mare имеете в рандоме вратами затем программе да у нас есть законный запрос оплата тут на в рамках этого запроса да у нас есть севильи у нас на самом деле из-за горсти банками что мы далеко не всегда оплачиваю счета есть буквально это первая оплата так что нас есть договорилась что мы только в случае т.д. соответственно вводим это серии ну просто вот в такой разрыва понятно дело что оплаты которые требовали севим это пример не можем представить но это буквально очень очень малый процент всех наших оплат и все таки вот как защищает этих хранилищах это хранится карточной информации как понимать не уходили щеках прозвучало то есть как обеспечивается защита доступ вы имеете виду ну в этом хронического первым делом попить одесса с мы должны скрывать панель с помощью ключа шифрования 2 не кого-нибудь чтобы доступа у нас разделён на несколько частей и он хранит у нас болте вал тоже свою очередь зашифрован то у него есть там свои хранители способом или двумя коробочками или как о и если честно я вот прям в этом плане немножко не подготовился я не знаю точной процедуры это надо спрашивать у наших админов значит скорее всего тоже существует одна коробочка так следующий вопрос пятый ряд так 1 1 у меня два вопроса 1 суточной 2 серьезно 1 шуточные вопросы вас там мой клиент покупал систему крепления то что по унитазу можно же такое купить на wildberries что можно купить систему крепления крышек унитаза а я не видел этот ним до а второй вопрос о c поесть своей системы синхронного копирования почему они вам не подошли называются армада мирами у кого есть у шефа цифр типа ну здесь такой вопрос что чтобы эта система как она будет работать студии потери связанности между центрами раз на скорейшем раз о нет реплицируют так ну вот наш вот это вот сивко наш настройка она по сути все эти значения просто будет описывать в кролик и когда нити потом когда появится этому связность на их допишут и все данные синхронизируются то есть я еще ничего не рассматривал но у меня в плане нарисовать попку то есть вы не рассматривали стандартные системы цифра в плане асинхронной репликации мне кажется эта достаточно простая проблема и я к средствам c равно решаться сравниваешь с одной стороны с другой стороны что не равно закидываешь ну так не всегда можно делать сравнивать транзакции в ну нет у нас бы так не получилось спасибо так а первый ряд простите пожалуйста такой момент пользователь он может и не вернуться от банка и не передайте сообщение которое закодирована в пасе расскажите по 1 как вы обрабатывать эту ситуацию передаете ли вы собственного магазина по альтернативному каналу эту информацию и либо вы можете контролировать эти ситуации на этапе оплате мы на самом деле делаем task в раббит которая опрашивается и квир дожидаясь финального сразу со случай если пользуется так и не вернулся со страницы 3ds то банк там через 10 15 минут просто фелит эту транзакцию приватном что транзакция failed dts но такси тут собственно мы получаем этот статус мы и дальше в бэкграунде просто делаем финализации также шлем колпаки наша мерчант также дописываем в базу файлы причина файла то есть но в этом плане по сути ничего не меняется почему вы решили отказаться от схемах через очередь в итоге магазин узнают о покупке пользователь видит что у него что-то оплаченное в магазине просто через за альтернативный путь но если правильно понял вы предлагаете делать связанность между нашими платежным шлюзом и магазинам а мы изначально закладывали мульти than то есть у нас будет такая ортогональная система мы не завязываем ся именно на болгар с на взаимодействии с ним мы стараемся делать все таки с тем которая может доберемся любой бизнес все банки не позволяют через в руки и другие сигнальные системы получать обратную связь и картина вы бы иметь ввиду что вы решили deposits твой вы имеете ввиду что ловите калмыки от банков финальным статусом да ну здесь вопрос как банком насколько хорошо ну если мы рассмотрим такую вероятность что у нас будет какая-то недоступность неважно что то не факт что за долетит колпак здесь ваши вопросы о том как как будет вообще эти банки ретро из сколько там будет попыток мы можем просто просто пить этот момент надежней если мы сами будем контролировать опрос банков получается так надежно что получается получается так надежно до для скучающих надежнее спасибо так следующий вопрос тоже первый ряд кей достать говори-говори просто сейчас выведут тех туда спасибо за доклад алексей компании casters я так понимаю что это самый критичный сервис вашей компании поэтому оправдана наверное все вот те решения которых вы рассказали вопрос следующий как вы оцениваете наличие всех вот этих резервных механизмов организационным действий всего прочего насколько дает это оверхед к разработке этого сервиса по сравнению там другими какими-то вашими сервисами среднестатистическими в компании спасибо ну говорить про других сервисов компании ну я не совсем могу потому что я не знаю как у них все это устроено все таки варюсь в своей кухня да это дает очень самом деле большой какая то что надо в голове держать после 1000 моментов да это естественно большая сложность в разработке в тестировании но но как показывает практика того стоит могу просто привести пример когда я нам понадобится этим я рад у нас в прошлом году кажется в августе бланк массированное ddos-атака у нас была практически полная недоступность то есть у нас не находили запросы в хранилище brace и сиди кролика мы по сути уток один этот сервис сам шлюз он полностью проводил весь цикл оплат и успешно провел в канализацию то есть вот самое самое толкач на сенатского можете представить мы с ними вполне успешно справились ну и понятно но все таки вот ну насколько сложнее ваша какая-то субъективная оценка в два-три раза сложнее теперь ну это просто цифра как бы допустим скажем в четыре с половиной раза спасибо так хорошо третий ряд алексей спасибо за доклад очень интересно интересует такой вопрос почему выбрали c просто исторически потому что удачный опыт почему не рассматривали келью базы не знаю кассандру mongo db потому что мы вот например пытались использовать цех тестировали его под нагрузкой столкнулись что при высокой нагрузке на запись из-за ребаланса происходит проседание например производительность очень сильная и второй вопрос если можем сразу как бурить как вообще добиваетесь и компактности и работайте с этого дублированные платежи все прочее или как вы считаете это артефакт да и понял ну отвечай на первый вопрос там была целая куча на самом деле причина почему именно сев вот вы слайд здесь самая главная причина это пожалуй то что нас есть полста огромный экспертиза в компании на самом деле мы и рассматривали другие завершения в том числе манга просто сев это вот то что он есть очень большая экспертиза и то что это в принципе очень отказоустойчивая система нас вполне устраивало вы говорите рассказали про то что у вас были какие-то проблемы с были какие-то регулировки при большой записи но мы с этим не столкнулись наверно это спасибо админам что у них уже есть какой-то опыт они знают какие-то хорошие рецепты которые позволяют просто с этим не сталкиваться а то что касается вашего второго вопроса да мы стараемся все-таки делать выпадает на и ответы мы смотрим либо и сиди которые у нас по сути контролирует уникальность транзакции либо мы смотрим базу честно если уже есть такая транзакциях базе всяко мы можем просто достать информацию с базу и отдать ее к клиенту спасибо так ответим на вопрос хорошо а 34 ряд в белой футболке здрасте сергей меня зовут драма просто наверно по одному задам чтобы не забывалась если альфа кластеру вас разваливается на бету в этот момент идет deploy все в порядке будет ну в этом случае нам придет придется быстро откатывать второй кластер известно него проводить весь трафик но обычно не бывает такого что нас друг так неожиданно разваливается кластер все-таки есть какие-то маркеры которые позволяют нам заранее это замечательно повышение latency там может быть какие-то возросшие тайм-аут и то есть для вас это не будет неожиданностью всякой если у нас будут такие такие непонятные маркер с базы мы в этот день стараюсь все таки не делать диплом а все-таки разобраться причина в таком поведении сначала и второй вопрос и 10 у вас такой отказоустойчивые вместе себя на него полагаете стало быть он кластерный я так понимаю испытывали ли вы проблемы с лиз так называемый с тем что они протекают когда кратковременной недоступность 1 год то есть когда машина возвращается эксплуатации считает что она синхронизировалась слезами там проблемы они не просветлены мировыми ставит мастер скорее всего сталкивались у парня в том что мы на краске ни на одну из монет всем не закладывается в том числе на и сиди он просто отмирает мы просто будем проводить игры без него после у нас будет меньше гарантий пример вам возможность давай на из писания но мы как готовы пойти на такие риски так-то ряд привязанности выступления у меня тоже то вопросы задам по порядку первый вопрос может быть обратный steel а новый стек плане языка для бэг-энда какую новую шлюзовом или еще что-то дает того сколько сервисов используется то есть даже при красивая архитектура вас или в анализе я бы не сказал что микро сервисов у нас просто есть несколько плеяды сервисов сам битвой несколько сервисов которые разбирают из ребята тоски это больше такой таки сервисная архитектура вот если говорить о количестве то внутри спал по внутри пися dices который непосредственно занята платежами кажется это 8 еще есть несколько сервисов которые снаружи например которые занимаются аналитикой занимаюсь там облигаций refan дав холодов понял спасибо и вопрос касательно вот этого протокола который хранит все в пути урала не считаешь ли ты что это высокий но достаточно рискованная история потому что оно очень сильно менеджмент менеджеры клиентским софтом так как запрос проходит множество разных поста си ён браузере происходит потом возможность это прокси потом кучи ещё каких-то странных свечей роутеров и в любой момент каких-то пользователей может выйти новая версия chrome и яндекс-браузера который случайно паком отрежет по 100 2000 символов и в итоге все сломается или какая-то прокси за которой сидят пользователя какой-то корпорации тоже порежет паз и у них тоже все сломается насколько ты оцениваешь риск вот этого потому что это неконтролируемая вами ситуации это контролирует ленским saw the days are ну да такая вероятность крита всегда есть мы просто это совсем какая-то из чисто маловероятная ситуация можно все-таки все браузеры все прокси они идут потому что они краски сразу увеличивать эти лимиты ну в принципе да принципе такая ситуация возможна у нас на это случай на самом деле есть какие идеи как укорачиваете туру как это сжимать там в пределах двух килобайт ну в общем если это какой-то момент такой ситуации настанет у нас есть идеи как с этим в кратчайшие сроки побороться до пасибо давайте невозможно а еще вопрос окей давай четвертый ряд я такой голос каждая взлетом продублированы про тренированные и еще упомянули что сначала вы проверяете транзакцию в dcd потом в базе и допустим бы проверки в суде допустим может не пройти а вот эти три предмета никогда должны томатно происходить может быть такое что транзакции пролетела на два равных угла вот или они вас всегда как-то вечером стики stations on тебя придет один и тот же узел в нормально ситуация такова его и потому что площадь пользуются прибиты к одному до центра но бывают такие ситуации когда мы видим двигаем трафик между центрами например когда у нас идет обновление например канал сяду и тут какие-то x1 ситуации когда мы двигаем тофик да в этой ситуации возможна такая ситуация что мы записали виде в один кластер вас записали в этом кластере в этом случае у нас все равно как бы будет проверкой на потребности что первым что from кластеры ну да я понимаю чем ты такие ситуации могут вполне быть но все-таки пока мы не стал такой массовый проблемой мы так ситуацию разрубленным то что говорится руками внутрь 1 вот это не может такое произойти внутри одного дата-центр такой не может взойти просто надо на товарный знак пластика прилетела на этаж назад и сейчас я его слышу интересно вот эта центра такой не может произойти имеется ввиду что нет внутри не может превзойти потому что 3 1 ватта центра у них есть единый кластера и cd иной класс торсов а там не может произойти то есть скажем транзакция она бегает ssd вот это такой повидал и tense вот такой проверки сейчас находилась плохо слышно каждая транзакция проверяется ведь из это кластере да какая примерно лет инси миллисекундах в эти проверки есть честно здесь мне надо посмотреть на графики и а так направить не помню но пределах нескольких миллисекунд это не лез вот он и не является чем при при таком при большом количестве акций это не будете less but i'll ногами на первом случае если это как то зацепки сидит в то что там будет дома учить и так давать не корректный ответ а то мой просто избавимся от соседей будем проводить платежи без него просто у нас да не снится гарантия будет возможность ванны списание но опять же мы к этому готовым будем просто это сами разруливать ниже прошли платежи понятно спасибо так лишь время выбрать лучший вопрос если ты помнишь просто запоминать но да попробуй вспомнить про что тебе больше всего затронула какой вопрос не в тупик поставил в тупик и мы этому человеку подарим подарок ну и можешь можешь наобум просто король быть полины я не запомнил по подскажу подсказывает из зала последний вопрос можешь просто последним отдайтесь хочешь хорошего все значит последний вопрос по тебе руку пожалуйста ты везунчик подарок твой а лишь под аплодисменты оставшихся в зале вот еще раз спасибо тебе большое вопрос из чата я сейчас подойду zadov к луаре подключайтесь зум комната чтобы послушать ответ и те кто в зале тоже можете подходить пообщаться с алексеем"
}
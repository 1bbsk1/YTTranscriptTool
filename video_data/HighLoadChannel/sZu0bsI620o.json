{
  "video_id": "sZu0bsI620o",
  "channel": "HighLoadChannel",
  "title": "Firewall в облаке: способы внедрения в сетевые архитектуры / Никита Ражев (КРОК)",
  "views": 173,
  "duration": 3101,
  "published": "2024-10-29T02:58:28-07:00",
  "text": "следущий докладчик Никита ражев из крока расскажет проа в Облаке Никита впер Давайте поди Всем привет меня действительно зовут Никита ражев Я работаю в компании Крок На позиции со архитектора занимаюсь проекти решений на баса вдр в об архитектуры также структуры совместно с командой инженеров А сегодня поговорим о том как вообще внедряем фво в обко Что такое вообще что подразумевается под самим Фае волом э какие инструменты мы используем также расскажу про плюсы и минусы каждого варианта Ну и конечно же не обойдёмся без обзора на облако Крок для того чтобы понять с какими ограничениями мы столкнулись а о чём не будем говорить не будем углубляться в тему не буду рассказывать про конкретные дополнительные сетевые инструменты безопасности не буду рассказывать ээ Что из себя представляет месте экран это будем воспринимать как конечное коробочное решение Ну и не полезем также под капот облака будем э позиционировать как пользователи и пользоваться теми инструментами которые нам предоставляет само облако а предлагаю начать ээ в принципе Что такое Firewall Нет это не Microsoft Defender на вашем компьютере его не нужно отключать на самом деле Firewall это программный или программно аппаратный комплекс который в принципе его основная цель - это разграничение сетевого трафика между сетевыми контурами на уровне протоколов и портов определённых и ещё он умеет строить дополнительно соединение в принципе это основная база этого последнее время ВС больше и больше набирают популярности так называемые следующего поколения они позволяют не только вот этот базовый набор функций использовать но при этом и включает в себя дополнительные модули это Например idps предотвращение вторжений также се инспекции Ну и много других Ну и причины внедрения такого инструмента достаточно просты в последнее время участившиеся атаки вки как-то необходимо дополнительно защищать свои системы за исключением тех инструментов которые есть по Ну и также это различные требования от государственных регуляторов до отдел информационной безопасности заказчика Ну все мы знаем что отдел информационной безопасности хочет иметь возможность записать под карандаш каждый пакет ю теперь перейти к самому облаку что у нас вообще за облако у нас облако Крок - это обычная платформа собственной разработки есть отказ устойчивая конфигурация на базе трёх дата-центров построен на базе км bas виртуализации для управления обычной платформой и своими ресурсами можно использовать как функциональную веб консоль так и у нас есть и собственный фо провайдер и доступно для взаимодействия avs API также Каково сейчас облако без платформы за сервисов у нас достаточно много различных видов например самые популярные - это база данных рне сервис каширование Ну и поиск аналитика теперь к масштабам Мы уже давно не маленькая облако существуем уже с 2009 года и по числам это более 100 стох серверами более 800 клиентов Ну и более 200 людей которые работают внутри отдельного нашего бизнес Юнита Крок облачные сервисы теперь обратно вернёмся немного в технику про сетевую связанность как обеспечивается сетевая связанность в нашем об У нас есть дата центра соответственно между ними организована L3 связанность L3 связанность обеспечивает виртуальный титор под названием Virtual Private Cloud это в принципе аналог виртуального мотора Он выполняет функции как и ДНС позволяет реализовывать внутри инфраструктуры какие-то ДНС адреса так и занимается dcp выдаёт выдаёт IP адреса виртуальным машинам Ну и в том числе в том числе позволяет как я и ранее сказал матировать трафик как между зонами доступности в рамках L3 и внутри одной зоны доступности между подсетями Теперь ещё подробнее про элементы сети для того чтобы потом я буду накидывать много терминов таких наших обычных для того чтобы все были в контексте виртуальные подсети это вот как раз те подсети которые подключаются vpc в них соответственно размещаются конечные виртуальные машины У нас есть возможность использования L2 но только в рамках одной зоны доступности это как раз виртуальный коммутатор Его можно подключить к виртуальным машинам как основным Сим интерфейсом так и дополнительным при этом в рамках одной зоны доступности можно получить L2 на тех виртуальных машин которые к нему соответственно подключены elastic IP - это внешний IP адрес который в принципе с помощью механизма Ната С помощью виртуального морти затора может соответственно направлять трафик в тот сетевой интерфейс на который этот эластик IP подвязали группа безопасности Это можно сказать Э fw э какой-то FAW в Облаке позволяет разграничивать на уровне сетевых интерфейсов э трафик по портам И протоколам теперь я Предлагаю перейти к задачам я расскажу четыре практических кейса которые мы получили в результате опыта нашего по внедрению таких ме шеевых экранов Но на самом деле я хотел бы задать вопрос вам кто-то сейчас уже использует fw в обычны в обычных провайдерах Отлично отлично Ну вот я думаю что мои схемы позволят вам возможно улучшить ваше использование так Ну начнём с самого простого просто чтобы работало просто и быстро к нам обратилась группа заказчиков которые локализуются Росси соответственно инструменты главной компании становится недоступно и пришла пора выбрать решение которое они будут использовать и также в том числе обычного провайдера из требования - это одна зона доступности в рамках с это было достаточно ну и разграничение только внешнего трафика то есть внутри виртуальные машины могут спокойно ходить напрямую что у нас тут из решений первое решение наверно самое очевидное самое простое берём Заходим в виртуальную машину хлопаем там дефолтный gway на тот который нам нужен Ну соответственно и межсетевой экран должен присутствовать в этой подсети для того чтобы амортизацию выполнить Вот то есть это либо это можно сделать такие операции как вручную так или с помощью Cloud в принципе Cloud - это такая утилит которая работает у нас в Облаке и она взаимодействует с Мета датой облака с пользовательскими данными и те скрипты те параметры которые мы ей передадим они соответственно попадут в виртуальную машину и изменятся например вот как раз мы можем здесь чисто теоретически этот межсетевой экран вставить Но что с этим вариантом не так э Ну на самом деле в принципе облако - Это для ускорения своих процессов для ускорения масштабирования для возможности быстрого отката либо ещё каких-то там проведения нагрузочного тестирований и также как раз эти эта возможность реализуется в том числе с помощью сервисов ну и соответственно на пасе мы не сможем грамотно поменять для того чтобы он полноценно работал этот межсетевой экран поэтому я бы тут больше использовал функционалка функциональность что у нас есть это использование таблиц маршрутизации обычный таблиц Марти зации что же они позволяют они фактически размещаются на vpc и в соответствии с той э с тем маршрутом который мы указали ассоциирую её с подсеть в которой находится виртуальная машины и соответственно с этим маршрутом vpc пошлёт трафик не в Интернет Например А на тот сетевой интерфейс на который мы соответственно эту таблицу внесли Теперь подробнее к схеме схема достаточно простая виртуальная машина находится в каком-то какой-то об по в соответстви с этим вке ассоциирована таблица морти зации которая должен должен говорит vpc трафик послать на межсетевой экран а виртуальная машина идёт по дел гею на vpc потом vpc мортиру ет трафик здесь у нас мы используем на самом деле большую часть своих проектах Это вендоров как checkpoint так и usergate вот здесь мы для универсальности для понимания того что мы используем ре решил Я здесь его именно указать Ну вот и в соответствии с тем что а трафик который приходит на межсетевой экран э обрабатывается по определённым правилам в случае если у него если этот это правило есть соответственно из меж сивого крана он отправляется в другой интерфейс на который ээ уже нет той самой облачной таблицы мутации а которая стоит дефолтная выпустить в интернет ну и соответственно он спокойно ощущает доступ в Интернет обратно расскажу чтобы тоже было понимание трафик соответственно идёт на elastic IP на тот внешний IP адрес он ассоциирован с сетевым интерфейсом самого мего экрана вот для того чтобы есть возможность использования больше чем двух или трёх или нескольких elastic IP на одном жсм экране используется технология Проси которая позволяет оди фати сетевой интерфейс навешивать несколько виртуальных адресов и соответственно с этим привязываются этим виртуальным I адресам и трафик в любом случае попадает на мей экран теперь про плюсы и минусы такого решения достаточно простая реализация достаточно в одном месте это всё указать можно это указать как с а легко поддерживать Ну тут тоже поит простой потому что э вот эта сама реализация поддерживается за счёт облачной платформы и нам как команд инженеры нет необходимости дополнительно как-то этот момент контролировать Ну и также здесь в принципе доступен автоматический фловер если например использовать кластер в рамках одной зоны доступности и между ними какой-либо плавающий IP адрес а-а в принципе это была самая простая самая простая схема теперь я предложил бы добавить немного отказоустойчивости теперь это новая группа заказчиков у них в задачах это полное развёртывание новой системы с высокой доступностью и поэтому требование это обязательное требование является как наличие Сразу всех площадок которые у нас доступны и тоже как обязательно это разграничение внутреннего и внешнего траф то есть внутри между подсетями трафик тоже должен ходить через межсетевой экран Ну и что примечательно в данной схеме и в данной задаче Active Active был выполнен за счёт заказчика за счёт сил заказчика он дополнительно приобретал такие элементы дополнительной сетевой защиты как Web Application FAW Ну и андо защита теперь к решениям что тут можно предложить есть я бы как бы его назвал фантастический вариант это на каждый контур поставить Firewall этих контуров может быть достаточно большое количество их там можно связать с маршрути Зро с помощью виртуальных коммутаторов в принципе как бы сложности в этом нет но на самом деле исходя из того что межсетевые экран достаточно не дешёвая штука поэтому Стоимость такого решения мотивирует искать другие подходы так опять установка дел тве в принципе исходя из того что по требова теоретически мы здесь можем как-то попробовать эту штуку здесь заработать но на самом деле само ограничение облачной платформ ещё в том числе что у виртуальной машины не может быть большого количества сетевых интерфейсов то есть есть какое-то ограничение если будет какой-то большой рост в в системе заказчика то мы просто утм в какой-то порог поэтому Давайте всё-таки не будем использовать смену деве и у меня есть на самом деле отличное решение для такой схемы это изолировать виртуальные машины в отдельных vpc и связать их через L2 коммутатор и ещё какой-то bgp много слов я вас накидал возможно непонятных Давайте по порядку что такое что такое за что умеет в принципе это Промт различных протоколов Как динами маци так и вот например п Ну и много других он имеет достаточно удобную консоль для администрирования C но также можно конфигурировать с помощью конфигурационных файлов что мы и делали так и рассказываю как у на это полу э начну по порядку ээ виртуальная машина находится в отдельном vpc э все сетевые контура разграничены vpc и для связи с межсетевым экраном используются как раз вот э те машинки с Рами и виртуальным коммутатором теперь про прохождение трафика в каждом vpc есть э default Gateway который отправляет Ну на уровне таблиц Матиза которая отправляет на трафик на а виртуальный адрес в соответствии с этим трафик попадает на вот этот вот машинку с Ром там отрабатывает правила параметра ядра IP Forward которое позволяет матировать трафик дальше Для чего здесь bgp на самом деле для ускорения введения таких новых контуров для того чтобы ввести новый контур если бы здесь не было bgp то на мем экране потребовалось прописывание каждого маршрута За каким фром соответственно находится за каким фром находится тот или иной контур bgp здесь позволяет автоматически пушить э и пири с межсетевым экраном и передавать маршруты той подсети в которой в которой находятся виртуальные машины в соответствии с этим этих контуров может быть достаточно большое количество на самом месим кране нет необходимости дополнительно что-то конфигурировать и А это позволяет просто быстро это всё деплоить так вот по прохождению трафика ещё раз он идёт на виртуальный адрес vrp здесь же также используется технология ibgp для того чтобы обмениваться между машинами этими маршрутами которые пришли от межсетевого крана в соответствии с этим тот трафик куда попадёт неважно на первую машину frr или на вторую он в любом случае уйдёт правильным путём а поэтому трафик уходит с фров по виртуальному коммутатору уходит соответственно в меж севой экран Ну и обрабатываются правила и дальнейшее он уходит в интернет теперь плюсы и минусы этой схемы Да эта схема позволяет использовать несколько зон доступности разграничение трафика Здесь также присутствует внутри инфраструктуры Так теперь по поводу спорных поинтов это легко поддерживать в принципе да это сильно сложно в качестве поддержки решения то есть достаточно установить Благо есть для этого специальные экспортеры называется FR экспортеры они позволяют экспортировать метрики самого рра и позволяют просматривать наличие правильно количество маршрутов далее здесь автоматический присутствует за счёт внешнего сервиса Web Application он в принципе его смысл в том что проверяет на уровне L7 конечность сервиса и в случае если с ним какая-то возникла проблема то он его выкидывает из балансировки Ну и также здесь не совсем бы назвал на самом деле это простой реализацией потому что для того чтобы развернуть Контур в любом случае нужно написать рафо манифест потом написать автоматизацию на уровне который соответственно будет настраивать этот и в принципе ВС но в любом случае достаточно просто как мне кажется так ну и минусы которые вне конкурса В каждом контуре ВМ с ffrr она в любом случае платная конечно не настолько платная насколько отдельный меж севой экран но в любом случае это какая-то какая-то дополнительная цена и в зависимости от того сколько контуров этих фров может быть значительное количество и также здесь ограничение то так так как у нас виртуальный коммутатор доступен только в рамках одной зоны доступности поэтому между зонами доступности в любом случае трафик пойдёт через межсетевой экран Так ну и Предлагаю перейти на мой взгляд к самой интересной к самому интересному проекту Это единый для разных проектов То есть это группа компании одного заказчика она уже размещается в в нашем облаке Под разными Под разными проектами Под разными учётными записями поэтому функциональный набор их услуг максимально изолирован и задача объединить инфраструктуры с помощью всего лишь одного кластера Конечно же геора спредер нет и также между проектами балансировка была обязательным требованием что обеспечивалась внутренними средствами при этом допускалось использование системы Active standby тогда предлагаю ещё перейти обратно лирическое отступление что же у нас ОКАТО может ээ есть вариант с IPS впм обычный VP сес он по построен на базе Open Source решения позволяет соединять Ну в принципе смысл IP Сеп позволяет соединять удалённые инфраструктуры Сай to Сай Ну и плюсом такого решения есть дополнительная конфигурация в виде отказа устойчивости настраивается два туннеля отдельных и между ними настраивается моци на уровне bgp мы как раз выбрали именно это решение что по поводу точки входа и балансировки нагрузки для того чтобы нам балансировать нагрузку мы использовали и совместно что же это компоненты меке - это менеджер кластерных ресурсов который позволяет управлять какими-то кластерами ресурсами А косинка в соответствии с этим позволяет подкидывать ему конкретные скрипты для того чтобы им управлять и соответственно выполнять какие-то определённые действия например в данном случае мы с помощью API облака перешива elastic IP на ту ноду на которую которая доступна То есть это М это три ноды трафик идёт elastic IP внешний IP адрес находится на одной ноде в случае проблем каких-то с ним мер это понимает и с помощью косинка перевешивает с помощью API облака перевешивает elastic IP на рабочую ноду Теперь подробнее про схему этого решения здесь уже чуть-чуть она проще На мой взгляд никаких дополнительных виртуальных машин нету на Виртуальные машины также изолированы от vpc VPN строится от vpc до каждой ноды межевого экрана для упрощения схемы я их нарисовал всего две но поверьте их там на самом деле было три межсетевой экран соответственно с этим принимает маршруты и устанавливает I соединение для того чтобы направить трафик на активность ноду которую мы выбрали используется технологии апас пенди что она позволяет Она позволяет искусственно увеличить маршрут Не ну стендбай Наго э межевого крана и мы сможем bgp подсказать что самый короткий маршрут э вот из автономных систем будет приоритетом ну и по rfc она конечно же выберет Именно его в случае если это маршрут будет недоступен автоматически а bgp понимает и трафик отправляет другой туннель Ну и пройдёмся по схеме виртуальная машина также Да действительно Я здесь решил пойти с другой стороны в принципе понятно что я вот сейчас в принципе голосом рассказал здесь Я буду рассказывать наоборот как трафик пойдёт в инфраструктуру соответственно с этим на хакс располагается IP адрес нахак также указаны бэнды в соответствии с тем куда пос траффик в Какую компанию ту или иную э далее э по маршруту трафик идёт на месте экран на межевом экране ээ указаны вот он Пирит с vpc маршрутами и в соответствии с этим э выбирает в какую конкретную vpc ему послать трафик аэ Здесь э рассматриваем два пакета которые идут параллельно и при этом они могут одновременно Достучаться до конечных сервисов теперь плюсы и минусы этой схемы в принципе это простая реализация а позволяет использовать э достаточно просто накликать на самом деле эти ВПН за сервисы как в веб-контенту в принципе легко поддерживать так как это функциональность за счёт облачной платформы обеспечивается Ну и вариант Active здесь не подходит потому что в любом случае виртуальные машины когда обращаются к мему крану обращается на конкретную ноду на конкретную активную ноду минусы этой схемы отдельные это вс-таки ipn он вс-таки накладывает свои какие-то дополнительные дополнительные ресурсы и получается то что даже если мы выберем самый простой ээ алгоритм шифрования мы можем обеспечить связанность не более 700 Мбит в секунду ну и ээ из-за реализации H Proxy на меж всем экране на самом деле отображаются внутренние адреса то есть не совсем удобно использовать полноценно меш севой экран а но этому заказчику повезло на самом деле э-э у нас примерно через какое-то время вышел новый функционал это транзитные шлюзы которые позволяют более лучше соединить архитектуру сейчас расскажу как а новая задача Это тот же заказчик поэтому мы вместе с ним организовали и решили всё-таки более улучшить эту СМУ реализовать как и также увеличить пропускную способность что же позволяет что же позволяет этот новая функциональность облако втт gway Она позволяет соединять инфраструктуры через распределённые маршрутизатор То есть у него есть собственная таблица маршрутизации это отдельная сущность в Облаке Она позволяет как соединять и vpc в одном проекте так и между проектами так и даже разные учётные запи поэтому на базе него Мы подумали и решили что неплохо бы ещ задействовать здесь технологии ДНС и у нас сформировалось несколько решений первое решение - это использовать Power DNS с касто проверками в принципе Power DNS Достаточно мощный ДНС сервер который умеет ризова и у него в том числе функциональность имеется написание кастомных скриптов для проверки конечного сервиса то есть Можем управлять этими записями в соответствии с тем как завершится скрипт например он проверяет какой-то доступность порта или выполняет LC проверку а-а на самом деле на самом деле этот эта функциональность уже существует на рынке ээ и она уже ээ собрана в качестве единого решения это Консул Это продукт от компании hcp который в принципе его основная функциональность - это управление своей ДНС зоной ко DN и проверка конкретных сервисов конечных сервисов на её доступность по разным видам там как L4 L7 и много других но на самом деле его не так-то просто использовать в такой конфигурации сначала расскажу про какую конфигурацию Я имею в виду приблизительно такая же архитектура vpc Company 1 vpc compy 2 То есть это те изолированные компании которые которые размещаются конечные сервисы и как по итогу здесь происходит маршрутизация для начала для того чтобы получить доступ в инфраструктуру клиент запрашивает ДНС адрес лн их этот пон зоне уходит в Консул в консуле соответственно хранятся те серс которые нужны для доступа к конечной инфраструктуре и он выдаёт там три например адреса конкретного сервиса эти три адреса находятся на межсетевой экране и соответственно с этим трафик попадает на один межсетевой экран они выдаются в в прозрачном режиме Round Robin и таким образом балансирует нагрузка на все межсетевые экраны Ну и достаточно просто межсетевой экран отправляет трафик по своей обычной табличной низации в Transit gway и у Transit gway есть собственная таблиця низация которая соответственно определяет В какой конечной vpc будет находиться виртуальная машина Теперь подробнее как получилось сделать сконфигурировать этот сервис консула перед нами стандартный конфиг консула в котором зарегистрировано три сервиса при этом чтобы я отметил в адрес указан именно внешний IP адрес который соответственно хранится и размещается на метим экране но при этом проверка происходит по внутреннему адресу то есть сам Консул с помощью НТ gway осуществляет доступ до конечного сервиса проверяет его но и в своём ДНСе показывает именно внешнюю внешнюю внешний IP адрес теперь к плюсам и минусам ну минусов я что-то здесь не вижу но на самом деле они будут чуть-чуть расскажу cons DNS достаточно просто реализовать это там три бнр которые надо раскинуть на соответственно три сервера достаточно просто сконфигурировать позволяет использовать несколько зон доступности так как в принципе Tic IP находится на каждой зоне доступности а разграничение трафика здесь осуществляется за счёт Transit gvm решение в принципе легко поддерживать консулу достаточно легко поддерживается В принципе достаточно просто настроить cons эте и экспортировать метрики в свою систему мониторинга например promus F здесь обеспечивается за счёт самого консула Active Active здесь позволяет в любом случае на каждом элементе сети выкидывать Вот как раз тот элемент сети который вышел устроен например cons понимает либо это конечный сервис выше устро либо это выше Устрой мей экран и в любом случае самостоятельно убирает данную запись и что ещё примечательно здесь есть возможность использования кастомных проверок не только L4 L7 также возможно в самой инфраструктуре развернуть Консул в Agent подключиться к самому консулу и соответственно зарегистрировать свой сервис э штука позволяет более быстро внедрять и более дов опубликовать свои сервисы в интернет например использовать какой-то набор elastic IP и при этом их постоянно переиспользовать но у каждой схемы есть минус здесь в любом случае необходимо следить за состоянием кластера cons в принципе он достаточно стабилен но мониторинг мало не бывает много Точнее не бывает Ну и перейду к выводам при проектировании систе дополни инструментами безопасности важно соблюдать подходы к реализации отказоустойчивости и для межсетевых экранов исходя из требования заказчиков можно использовать различные инструменты различные компоненты им в помощь могут прийти те компоненты которые даже не задумываемся но при этом они позволят не только реализовать отказоустойчивость но при этом и ускорить скорость внедрения и уменьшить трудозатраты на поддержку такого решения Ну и надеемся что наш опыт вам выбрать качественное решение в своих задачах тот опыт который мы получили в результате работы над проектом в Облаке Крок на этом У меня всё большое спасибо за внимание у вас один вопрос или сразу два а Да мне показалось просто так меня слышно отлично Спасибо большое у нас сейчас вопрос ответы ты помнишь да Или не помнишь не знаешь то что автору лучшего вопроса от нас положен подарок поэтому Старайся запоминать авторов потому что очень частой кейс то что спикер потом просто выбирает последнего спрашиваю и говорит что он выбрал так Ого Всё поднимайте руки к вам будут подбегать хелперы с микрофонами и задавать читеров читеров кстати ранжиру не читеров в том плане что те кто по два вопроса задают это читеры их Да их не надо выбирать нечестно получается Всё вперёд сидеть нельзя Можно Привет Никита Спасибо за доклад меня Роман зовут из Вопрос такой А что у вас с ipv6 просто на слайдах вообще прям пустота везде ipv4 Как дела сный вопрос на самом деле i6 Ну в любом случае у нас elastic IP работает только на ipv4 и в любом случае получить доступ Извне только можно по ipv4 вот ну процесс перехода Мне кажется к ipv6 уже Достаточно давно затянулся и он всё никак не состоится вот поэтому мы пока Работаем только с ip4 но всегда помним о том что рано или поздно нас это тоже до нас это тоже дойдёт пока не кончатся цифры никто не будет шевелиться Когда совсем закончится Все активно заве А так я думаю дава сказали несколько кейсов Когда вы создавали условно защищённые контура и в них помещали условно не защищённые в эмки А ну точнее Они становились как бы защищёнными потому что они были в контуре вот у меня вопрос Как вы относитесь к хост bas фаер волу Когда у вас на каждой виртуальной машине или на какой-то единице компута Да устанавливается агент который подключается уже к какому-то Контрол плену получает с него все правила там ну наверное фаер вола Да и получается та нагрузка которая будет запущена именно на этой мке она будет безопасная Потому что сама ВМ будет фильтровать трафик и почему Ну может быть вы где-то от внедряли и как бы её вы сравнили вот эту схему фво с тем что вы представили в докладе Да спасибо за вопрос интересный на самом деле вопрос тут на самом деле нужно понимать Вот именно разницу между этими фарми ме экран на самом деле позволяет обеспечить не только какой-то доступ Вот как раз тот самый по определённым протоколам портала А он ещё позволяет дополнительный функционал использовать там вот все те весь тот функционал который как кажется мне недоступен на стох машинах и поэтому оно решение как раз позволяет дополнительно обеспечивать как и логирование все всех шеевых пакетов и взаимодействии так и выступать в качестве вот того самого гитя Вот мне кажется просто немного разные вещи и Ну я на самом деле не специалист по информационной безопасности А вот больше как солюшн архитект причём по опенсорс Вот но мне кажется что у них всё-таки достаточно разный Набор э тех модулей которые они в себя включают Угу спасибо Никит Слушай уточнение небольшое А ты как спикер тоже да будешь подарок за лучший вопрос давать мне тут в сценарий сказали а так ну у нас У меня есть свой подарок есть свой подарок Да тебе ну нужно будет выбрать двух два Да так что запоминай чтобы был последний и предпоследний будет Вот Удобнее всего всё отлично Спасибо А спасибо за доклад вопрос Э давайте так задам э у вас есть клиенты которые пользуются вашим облаком у а я правильно понимаю что Firewall вы ставите внутрь контура клиента Клиент платит за этот Firewall как за дополнительные ресурсы Всё верно А кто имеет ответственность Ну и кто выполняет физические работы по настройке это клиент может как-то управлять вашими чекпоинта у это вопро с бизне точки зрения и сюда сразу же идт вопрос вот помните схема Где у вас связа с чем ничего не надо настраивать на чек можно любой марш при Я правильно понял да да там всё правильно вот во второй схеме Если я правильно понимаю о чём вы говорите Да действительно дополнительно как-то ме сетевой экран нет необходимости настраивать он по умолчанию будет все сети которые ему запит принимать по bgp А если Full viw вылить на checkpoint что будет что что а если Full viw вылез на чекпоинт BP Full viw bgp как полную таблицу мо сдаться в интернете 600 ПС маршрутов Ну затрудняюсь сказать самом деле Тогда чтото тогда что-то на нём надо настраивать получается я к сожалению опять же не могу Давайте точно сказать но Да насчёт бизнесов части на самом деле как договоримся У нас есть разные инструменты разные договоры и по-разному мы договариваемся с клиентом и как ему лучше иногда кто-то хочет полностью отдать на аутсорс и чтобы у него просто было безопасно защищался доступ как внутри контура так и за за и в интернет и также есть желание что клиент сам хочет посмотреть потыкать добавить правила и здесь на самом деле просто мы договариваемся что он может что-то выполнять что-то не может выполнять либо полностью он сам всё это делает то есть то есть вы ему даёте Интерфейс чекпоинт Да всё всё так там СРТ консоль доступно так День добрый Меня зовут Егор Скажите пожалуйста вы показывали две схемы и в один на одной схеме у вас была проблема связанная с тем что в каждую vpc контур Вам необходимо было создавать по две машины которые стоят денег да для отказа а в другой схеме у вас было большое количество внутренних VPN туннелей которые имеют проблемы пропускной способности рассматривали ли вы и Почему Отказались от подхода с vrf и одной большой аппаратной железкой фаер который бы работал с vrf и всё сме этот где-то находится в цоде я так по тут момент в том что у нас связанность на между площадками только 03 поэтому мы не можем поставить железку которая будет сразу ко всем зонам доступности иметь доступ и поэтому нам нужно как-то на L3 этот трафик матировать Поэтому вот выбраны именно такие решения спасибо спасибо за доклад у меня такой вопрос у у нас очень похожая схема сделана только у нас мульти облако Мы не в одном провайдере находимся у нас множество У нас тоже используется естественно только на os2 Вот почему использование консула такое странное ну то есть только как ДНС Почему не поставить Агент везде тогда во-первых получается икш на каж конечной точке откуда идт трафика и плюс Федерация сразу получается как видел у вас несколько контуров изолированных и если один контур обрубают и недоступен вот этот Консул то они уже не могут сходить к себе Вот в своём собственном либо я не так понял схему после без схемы не разберёшься э сейчас я по попытаюсь в голове это Ну то есть получается Консул располагать в каждом если каждая компания если упростить вопрос Почему нет Федерации на консуле у вас а в принципе она здесь не нужна То есть все сервисы можно спокойно регистрировать на одном кол сервере это в принципе и стоимость решения такого достаточно минимально Ну и при этом отказоустойчивость также на уровне самого кол кластера реализована в случае если это будет большое количество сервисов то есть здесь самих сервисов опубликованных не так много поэтому достаточно одного такого небольшого кластера в случае если это будет дальнейшее масштабирование Ну Мы все знаем что Консул не совсем надёжное решение в большом количестве сервисов Я бы поспорил в большом количестве сервисов Ну большом У нас всё в консуле зарегистрировано включая р ну есть разные Я бы так сказал мы тоже на самом деле не сталкивались с тем что он как-то какая-то с ним проблема возникает но просто я слышу от коллег что при большом количестве сервисов у него бывают какие-то проблемы Ну я тоже не сталкивался поэтому тут в любом случае эта схема позволяет в том числе настроить и масштаби есть и сами консу увеличить по так и просто рядом развернуть ещ сервис этого консула для того чтобы эти все сервисы зарегистрировать Вот спасибо спасибо Так тут Добрый день Меня зовут Ирина У меня первый вопрос такой больше наверное стратегический сейчас до дцать пятого года нужно заменить все средства информационной безопасности на отечественные и вот в данном случае Вы какие-то замены тестирования что вы планируете ставить вместо чекпоинт чтобы он по производительности вытягивал и можно второй Да я не поняла Можно или нет задавать но я задам вы используете как полноценное nextgen Firewall решение или просто как Firewall ва мо ещ раз не услышал полноценно что полноценный nextgen Firewall то есть да с со всеми Да ну то есть это дополнительные модули в само выт они в ра рамках допустимого то есть в любом случае конечно происходит тестирование и там мы уже получаем конкретные какие-то числа и конечно согласовываем заказчиком для того чтобы эти числа его устраивали любом случае требования о включени этих модулей всё равно поступает от него так А по первой части вопроса использование каких-то По большей отечест используем поэтому тут у нас есть опция Как использовать например чекпоинт - Это зарубежное решение Ну и использовать отечественное решение - это usergate а в сравнении по производительности он вытягивает тестировали или нет пока Ну опять же я тут к сожалению не специалист информационной безопасности Но насколько я знаю там всё-таки немного он уступает чекпоинту всё-таки Ну не буду скрывать это правда но в любом случае решение достаточно стабильное его вполне можно использовать для продуктивных окружений Ну то есть в двадцать пятом году вас можно как полноценно использовать как безопасные отвечающие требованиям законодательство решения вариант к двадцать Пятому году вполне РГ может и обогнать даже чекпоинт я тут как бы не буду точно говорить Да спасибо за вопрос можно ещё один вопрос из первого ряда Гран Елена селек Скажите пожалуйста в вашей схеме Как вы чекпоинты резервирует и вообще Вы сказали что кому-то вы даёте интерфейс соответственно это стандалон решение не стандалон решение вобще Что происходит в это вместе с резервированием Ключевая точка отказа Для клиента Соответственно что вы там делаете по поводу именно управления самого чекпоинта Да не только управления Но вообще в принципе как сервис как что вы там делаете чтобы вот он один на самом чекпоинт собираете из них там стек конфедерацию не знаю там bgp на все на них и там что-то сложное Ну смотрите на самом деле по поводу управления например для того чтобы управлять чекпоинтов отдельно виртуальная машина SMS которая позволяет соответственно подключать в себя эти ноды мертвого крана и ими управлять тут на самом деле без этого эмса если он там выйдет из строя то ничего такого страшного не произойдёт мы на какое-то время потеряем управление также там можно насколько я знаю этот момент зарезервировать Но это в любом случае не критическая точка этого решения А по поводу самой отказа устойчивости решения как раз вторая третья и четвёртая схема были отображением того как именно мы кластери этот чекпоинт то есть на каждой зоне доступности располагаем этот ноду меше сивого крана и соответствие с эм основная проблема на самом деле не то что просто развернуть несколько чекпоинтов а именно сделать доступ к ним маршрутизацию и в случае если один одна нода мелого крана падает то это маршрутизацию перенаправлять либо на другой меш севой экран либо просто выводить целую зону из балансировки Вот как как раз схемами которые я отобразил в своём докладе можно выполнить реализацию этой отказоустойчивости Ну это в случае когда клиенту клиентам предоставляется множество решений А если это выделенное то есть вот чекпоинт под клиента м на самом деле это как раз чекпоинт под клиента Ну он умер и клиент курит а почему Ну так У нас их три целых один То есть клиенту изначально предоставляется отказоустойчивый какой-то кластер смотри всё зависимости от требования то есть не у всех заказчиков есть достаточно большое количество денег чтобы они могли максимально от сделать отказоустойчивость в своей схеме поэтому Ну то есть да продаём после первого падения э ну мы мы мы всегда мы всегда готовы э выполнить отказоустойчивость но иногда сам конечный Клиент не готов этого То есть у него тот с который допустим если например нода межевого крана упадёт хорошо и последний вопрос а как вот нагрузка балансирует есть кластер соответственно как мы уже определили производи так себе соответственно Как определяется менее загруженный мы не можем знать изначально когда начинается допустим тоже са соединение какой там будет трафик Какая упадёт туда в общем-то Фло сложится какие там хэши по считаются и как оно через это всё Пойдёт Как не сделать вот это место узким Для клиента КПО Ну вот как раз в последних схемах у меня было точнее даже со второй схемы это использова балансировка с помощью Дополните безос соответстви с тем оном балансирует трафик Ну либо как на НМ поставим балансировать трафик между нового крана в третьей схеме Это был который балансирования выдаст ему конкретно того какой именно трафик на какую ноду попадёт тут в любом случае не получится такого сделать как мне кажется на первый взгляд Ну и в любом случае если одна нода межевого крана упадёт две другие должны по мощности как раз превосходить того чтобы они смогли этот трафик в итоге аккумулировать если у нас будет трафик максимально ходить Только в рамках балансировки то получается в принципе если у нас нода упадёт другие ноды просто не смогут выдержать трафик любом случае необходимое резервирование по вычислительным ресурсам спасибо спасибо Угу Да Добрый день меня зовут Кирилл подскажите пожалуйста вот если вы для последней схемы несколько компаний имеется с одним получается соевым экраном А И вот как Вы сказали ранее клиент может либо сам получить доступ к управлению этим СТМ экраном Либо вы этим управляете как вы обеспечите отказоустойчивость решения для другого клиента чтобы не нарушилось управление с там ну защита от дурака условно или же просто атака другим клиентам на конкуренту А смотрите тут подразумевается что это какой-то совсем другой клиент который не в рамках вот этого заказчика или это в рамках вот этой системы то есть вот вот по схеме я понял что у вас два разных клиента условно рассматриваются которые управляют одним межсетевым экраном на самом деле здесь не совсем так это клиент один но у него много разных компаний и у него есть свой информационный отдел точнее it отдел который как раз взаимодействует с нами по всяким таким вопросам и он как раз занимается всеми публикациями То есть это просто большое количество компаний внутри одного клиента то есть они просто не связаны там юридически но при этом располагаются в разных учётных записях об и поэтому тут как раз Смысл в том показать был что как мы можем даже разные учётные записи соединить всё через один межсетевой экран я понял то есть для разных компаний Это не реализуется у вас А это также можно Ну то есть на на текущий момент нет но в любом случае мы об этом Подумаем и возможно будем предлагать такой вариант э в принципе это на самом деле допустимо Единственное что действительно Нет не не нужно передавать право на конфигурацию самого консула то есть так как мы ответственны за неё Поэтому будем самостоятельно эту штуку поддерживать то есть это уже будет сас решение так скажем да Это можно сказать что типа сас решение так всё вопросы закончились тебе нужно выбрать двух авторов самых интересных вопросов так э самых интересных вопросов Ээ Да я бы вот так а это это не то вот Ага наверное бумажка с надписью Крок - это твоё Да а уже два кому кому от крока не подожди от крока одно Угу а второе от нас всё понял ну первый я бы подарок дал вот девушке за прекрасные Вопросы Спасибо так м ну и второй Я бы вот отдал вот Никите который задал вопрос имени Да имя у тебя классное Да ладно Никит Спасибо тебе большое за доклад спасибо Вот тебе подарок от нас за твой вклад сообщество подавай се ещё приходи ещё"
}
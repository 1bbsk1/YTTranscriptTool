{
  "video_id": "oQHUh2hCXD8",
  "channel": "DevOops_conf",
  "title": "Александр Лукьянченко — Платформенный продукт — как это делать?",
  "views": 562,
  "duration": 2825,
  "published": "2023-06-30T00:34:42-07:00",
  "text": "Привет друзья Привет и добро пожаловать на один из первых докладов конференции девукс 2022 А меня зовут Лёша кирпичников я руковожу разработкой в контуре и сегодня со мной в эфире Саша лукьянченко руководитель пас в Авито Привет Саш Всем привет Я на самом деле должен вам осознаться сказать что я напросился экспертом на этот доклад Потому что мне интересно эта тема Я сам участвовал в построении платформы и Ну если это можно так назвать Да инфраструктуры в контуре И мне очень интересно пообщаться с послушать доклад Саши пообщаться с ним потом дискуссионной зоне позадавать вопросы которые в том числе я сам хочу ему задать Вот потому что этот доклад он мне кажется Ну важен примерно для всех для всех средних крупных какие компании для тех которые хотят такие места Дело в том что мне кажется что в любой по мере роста В любой компании постепенно растет количество команд разработки сначала они свои инфраструктурные необходимости закрывают сами пользуются какими-то продуктами которые настроили сами но по мере роста по мере появления новых команд неизбежно появляется повод какая-то необходимость да потребность это все обобщать укрупнять и выделять инфраструктуру Да вот это происходит как-то спорадически Вот появилась какая-нибудь общая графа она Вот появилась там появился какой-то общий диплоид общий кластер кубернетоса все это нарастает постепенно и в конце концов по мере роста наступает момент когда уже пора объединить Это в какую-то одну большую непротиворечивую платформу для того чтобы это все работало вместе хорошо для того чтобы это был этим было удобно пользоваться разработчиком которые работают в компании и вот на мой взгляд вот это вот этот переход Да от развозитных сервисов единой платформе он не происходит сам собой То есть это какая-то вещь которая компания инженеров внутри компании должны приложить усилия и о том как это сделать Какие есть подводные камни Как правильно эту платформу построить как раз Саша сегодня расскажет Саша тебе слово Да Лёш Спасибо Давайте начинать Да как уже лежишь искал я рукожу командой Пасха Вита мы где-то примерно с моей командой чуть больше 6 лет делаем различные платформенные продукты в Avito и вот в подходе паса где-то примерно последние четыре пять лет строим тот самый платформенный продукт о котором я сегодня буду говорить вот если говорить про скажем так целевую аудиторию кому это будет интересно что мы сегодня будем затрагивать на мой взгляд все кто так или иначе сталкиваются и делают подобные платформенные решения инженеры менеджер руководители таких команд продукт менеджер Если вдруг есть в таких платформенных решениях Вот и в том числе те кто стоят перед решением например идти централизованную форму или там например распределять экспертизу по продуктом командам и так далее Вот давайте начнем с общего плана у меня доклад будет разделен скажем так на две части первая часть она такая более продуктовая про в целом подходы про построение платформы и она будет состоять из нескольких частей Мы сначала Посмотрим это что такое вообще платформенный продукт там рассмотрим по сайдп название затем посмотрим на такие важные аспекты как уровень автоматизации Какой Его нужно держать фазы зрелости Здесь тоже интересный момент на различных фазах зрелости Какие подходы применять в целом говорим про продуктовый подход на процессы Каким образом такую платформу развивать Вот и на этом будет завершена первая часть второй части посмотрим такой некоторый чек-лист полноты платформы Я не говорю о том что она исчерпывающая но разберем Какие основные вещи который у нас как раз по пути с использованием продуктового подхода родились и возможно вы сможете какие-то идеи что-то полезное к себе забрать Вот и например там реализовать утащить к себе в платформу Давайте начинать что такое платформенный продукт целом как уже Лёша сказал начале В любой компании на самом деле любого даже размера там с течением времени начинают появляться различные инфраструктурные сервисы платформенные сервисы каждый из которых обычно какое-то разрозненный кусочек и вот со временем когда мы приходим к той точке Когда нам вот эти вот все инструменты уже хочется собрать какую-то единую кучу предоставить это виде какого-то продукта то есть с понятными там интерфейсами унифицированными сделать там некоторые вообще в целом модификацию по компании вот в этот момент начинаем по сути строить нашу платформенный продукт вот такие продукты долгое время ты сейчас в целом назывались пас как платформа как сервис мы так внутри называем нашу платформу это некоторый такой heroke уставил вот Единственное что должен сказать что например сейчас пасами в том числе называют системы вида там cubernetis как сервис и подобные вещи вот мы будем говорить здесь и дальше по ходу доклада именно про более высокоуровневые решения которые именно направлены на девелопер экспириенс на разработчиков максимально здесь упрощение вот мы в том числе достаточно сейчас популярно еще название Internal девелопер платформ по сути платформы которые как раз фокусируется на этом самом девелопер xperience дают наиболее наиболее хороший опыт разработчика Вот и собственно Все мы называем платформенным продуктом что он обычно покрывает на самом деле тут зависит от вас зрелости но в конечном счете периодически весь жизненный цикл разработки начиная от входа новых инженеров в целом в компании в платформу там старты анбординга и заканчивая уже там эксплуатации выходом в продакшн решение сервисов и плюс какие-то вещи которые можно сказать живут там фоне но сильно помогает и достаточно составляет там большой кусок инфраструктуры это какие-то механики по безопасности там хилинг компоненты которые помогают нам в эксплуатации и так далее Вот и чтобы весь этот цикл весь там то что проходит разработчик развивать его системно делать действительно платформу как некоторые такой законченный удобный в использовании продукт нам нужно использовать определенные процессы по сути грубо говоря такие же как при реализации любого другого продукта не платформенного в том числе прежде чем мы перейдем в конкретные процессы Там метрики и так далее рассмотрим еще несколько аспектов которые на мой взгляд такие фундаментальные их Сразу же нужно использовать даже когда мы только начинаем строить подобные платформы и первая История это на уровне автоматизации здесь ну есть такая бы к рекомендация основана на опыте реализации подобной платформы в том что на самом деле два очень важно подобных решениях искать такую некоторую золотую середину между простотой и гибкостью потому что чем более гибкая предоставляем решение пользователям просто голый губернатиз тем сложнее и там дольше разработчики делают какие-то бизнес фичи чем она платформа не очень сильно помогает Вот и есть там перекос другую сторону Когда например платформа очень простая можно сделать буквально несколько действий а наоборот сковывает разработчиков расстраивает В итоге скорость не увеличивается платформа наоборот тормозит вот и не делать ничего хорошего вот искать такой баланс не Просто я здесь выделил несколько таких маркеров ключевых зон на которые можно обращать внимание Когда у нас есть уже платформа в компании она уже существует развивается можно смотреть по таким некоторым догоняющим метрикам насколько мы перегибаем в одну или в другую сторону например Это объем саппорта если там Саппорт варится большое количество каких-то вопросов непонятно как Что сделать скорее всего у нас где-то есть перекос в сторону гибкости нужно упростить решение более простые интерфейсы с другой стороны там количество запросов новые возможности мы еще посмотрим специальный процесс который позволяет их собирать Но грубо говоря это такие общие идеи и проблемы которые валятся к нам по различным зонам То есть например там есть зона доставки приложений теплой и у нас по ним постоянно есть какие-то request сделать это сделать это возможно это как раз хороший маркер то самом деле Неплохо бы Добавить сюда гибкости и не тормозить инженеров Вот и есть вторая вещь но не по значимости вообще в целом на самом деле фундаментальное это такие некоторые метрики этапы внедрения по сути основной враг любого продукта в том числе платформенного это такое скажем бездумное постоянное вкручивание новых новых фичей вот часто бывает так что пришла какая-то крутая идея мы ее обсудили за имплементировали потратили на этом какое-то количество времени там спринты кварталы реализовали а в итоге получается так что с точки зрения ценности там например мы ожидали что разработчиков там инструмент будет например какой-нибудь выходки экономить два часа времени у каждого инженера а получилось в итоге что две минуты все экономит вот это как бы тоже важные скажем такой маркер что мы по любой какой-то продуктовый новый фичи под продукту обязательно собирая метрики насколько у нас здесь ценность реализовалась Вот и принимаем решение нужен нам он или нет Если мы видим что ценность на самом деле небольшая то сразу же без каких-либо вопросов идем это и выпиливаем просто иначе платформа становится кучерявый сложно поддерживаем и что важно в использовании много всего вот Прежде чем перейти каким-то метриком и процессом важно понимать платформы чем вообще помогает бизнесу то есть на что мы фокусируемся что мы качаем и здесь принципе такие очевидные вещи поэтому сейчас быстро по ним пробегусь первая История тайм-маркет это в целом про скорость что мы ускоряем разработку вот при этом сама по себе метре катаем тумаркет в компании достаточно гряз то есть она в нее вкладываются истории там эффективности процессов компании там взаимодействие между командами и так далее Вот но можно смотреть там на более такие прокси метрики там сколько времени занимает он борзинг в платформу Старт новых сервисов продуктов в целом сколько бы релизов Катя в продакшн и так далее Вот но важно что мы ускоряем улучшаем Time to Market вторая История это фокус на ценности что разработчики в принципе в пределе вообще не занимаются каким-либо инфраструктурным платформенными вещами у них полностью система и это один из бонусов что мы не тратим время в каждой продуктовой команде на это опять же Time to Market с другой стороны это еще и важный момент с точки зрения даже текущего например рынка инженеров найти крутых платформенных инженеров достаточно сложно когда у нас не нужно поддерживать в каждую команду подобных там людей это платформа тоже помогает в этом плане третье это стабильность и качество но в целом вытекает из предыдущих вещей что мы используем общие компоненты какие-то кубики и так как это эти кубики используют абсолютно все команды они просто со временем становятся реально стабильными и в них нет каких-то детских проблем которые могут возникать плюс в целом унификация по платформе позволяет нам улучшать средства били эти делать какие-то общие Quality Gate и так далее Это положительно влияет на стабильность системы и четвертый пункт который особенно важен там для средних крупных компаний в целом Я его называю уверенность в будущем Это история вида поддержание технического стека в актуальном состоянии в целом контроль зоопарка Что у нас там не появляется постоянно внезапно какие-то новые языки программирования для написания микросервисов какие-то подходы которые никак не контролируется централизованы и так далее Вот но естественно это имеет там скажем так даунсайды некоторые затраты я не буду в это глубоко погружаться но коротко скажу что естественно это платформенное решение стоит разработки и усилий и если говорить про наш опыт все зависит на самом деле детализации насколько глубоко продуманы и сделана платформа Но вот то о чем мы будем говорить особенно в конце вот я покажу некоторые чек-лист у нас это примерно Еще плюс 35 процентов скажем так налога вообще в целом по компании по инженер так это команда которая поддерживает и перед подобное решение второй момент Возможно вендерлог это в целом обходится то есть важно главное при выборе платформенных решений каких-то там систем четко что это действительно там современные в идеале Open Source решения которые там качественно поддерживаются и в целом они там имеют какие-то общие интерфейсы договоренности что не будет такого что мы на них подсадились и потом с них невозможно никак слезть это будет очень дорого Вот и третий момент который К сожалению всегда учитывают он на самом деле наверное самый дорогостоящий особенно если у нас уже большая действительно Компания много вещей это миграции в целом внедрение подходов потому что из Legacy иммигрировать на общую платформу это может быть занимать годы об этом сейчас я тоже немного расскажу вот в целом из интересного Что можно выделить Да по пути развития подобных продуктов платформенных это некоторые такие я называю фазы зрелости если мы вот так вот смотрим на график которым у нас есть некоторые такая шкала по времени да слева направо это развитие нашей компании и idp это здесь Internal завела как раз наш платформенный продукт Вот то если мы берем некоторую метрику допустим что она у нас есть это совокупности удобства скорости там стабильности разработки и в целом конечного продукта который получается то когда мы разрабатываем нашу систему без платформы первое время у нас это может даже все устраивать и в целом проблемы нет потому что там какие-то сделали базовые там шаблоны для выгодки какие-то инструментарий там база данных подняли руками Все окей Вот Но со временем естественно подход работает плохо потому что постоянно есть какие-то там особенности проблема унификации ухудшается стабильность релиза там делают все по-разному все разношерстно мониторится и так далее Вот и в итоге он приходит но может быть не в ноль но в какую-то точку которую мы точно понимаем что дальше мы так жить развиваться не хотим мы мы идем в платформу централизованную и здесь я выделяю три фазы которых мы можем находиться первая фаза это называем essential fitchers то есть это то что нам прямо совсем необходимо чтобы иметь скажем так самые типовые базовые там микросервисы что-либо еще внутри нашей платформы и если говорить про развитие то обычно тут все понятно у нас там нет централизованных Там Pay планов нужно настроить Там вся и мониторинг какие-то там общие графа борды сделать там какой-то релизм цикл прочие вещи они обычно понятные лежат на поверхности все это делаем мы получаем здесь максимально большой Импакт быстрый потому что закрываем такие самые болевые большие точки вот здесь нет каких-то больших там рекомендаций исключением того что стоит сразу же смотреть на вот этот фундамент который получается чтобы он был там масштабируем по нагрузке по функциональности в будущем что это будет наша платформа конечном счете вот второй этап уже более интересный это этапа doption Это как раз миграции примерно аславита Он проходил суммарно где-то там два года при этом год этот был такой активный иммиграции там сервиса на нашу платформу Вот и тут я бы сказал Ключевое что когда мы затаскиваем какие-то вещи которые раньше делались иначе новую платформу важно не внедрить в эту платформу огромное количество разных фич под все случаи жизни и не сделать так что она станет просто огромной неповоротливый и будет сложно поддерживать развивать и что важно пользоваться и вы тоже неудобно Вот и третье которым я сейчас как раз буду говорить Это такая фаза эволюции когда мы приходим к тому что в целом мы там 95 процентов кейсов покрыли все окей нам нужно дальше поступательно и хорошо развивать Каким образом здесь действовать Вот и на самом деле эти подходы они работают естественно не только на фазе эволю развития подобных платформ Они прекрасно могут работать и на старте и вот на особенно фазе адобшена вот тут вопрос только насколько есть возможности в этом инвестировать время и двигаться таким подходом и как раз сейчас о нем поговорим в этом продуктовом подходе Каким образом мы это делаем рассмотрим в два этапа Первое это метрики потому что для того чтобы нам понимать как нам вообще развивать продукт естественно нужно измерять как мы видим что платформа там помогает каждый конкретный фичери зоне и первая История это скорость скажем это такая Метрика про Time to Market здесь мы измеряем несколько направлений Первое это онбординг Time так как мы контролируем в целом как разработчик там входит в систему пользуются силы утилиты Там и так далее Сколько времени он затрачивает затрачивает на это локальное окружение Сколько времени он тратит на развертывание каждого Серви на разработку там кодогенерацию такие вещи какие-то важные куски paypeline разработки там временная интеграции инфраструктура это банально там нужно заказать новый поиск Сколько времени нужно разработчику на это там это задача в жире либо это просто нажать на кнопку и получить себе сразу же готовый пост и время решения локальных проблем На самом деле по нашему опыту это достаточно большая такая зона которую можно проинвестировать и получить хороший Boost если особенно используется там решение типа губернатиз локально в том числе и так далее Потому что разработчики много тратят времени не на написание бизнес логики а на решение каких-то вещей вида не может что-то при коннектиться к базе данных какие-то подобные штуки которые можно самом деле полноценно покрыть платформой вторая История это фокус на ценности тот самый сервис здесь чуть сложнее с точки зрения таких обычных метрик здесь мы смотрим на некоторые такой cgm coverge customer journe Map то есть сколько Вообще процент вот этого жизненного цикла который мы смотрели в начале мы ее покрываем вторая История это в целом отношения там ручных действий к автоматизации банально там мы знаем что у нас есть определенный набор там баз данных каких-то еще там компонентов и вот сколько у нас автоматизировано сколько у нас нужно делать что-то вручную и там в целом Метрика вида необходимости обращения платформы команду нужно ли что-то проделывать с использованием инженеров вот по стабильности тут на самом деле достаточно очевидные метрики это там Sli ключевых компонентов платформы некоторые Метрика эффективности Quality Gate of тут могу сказать что мы например долгое время ориентировались на метрике вида там флаковости тестов каких-то историй там сколько у нас было красных pipline of которые ловят проблемы самом деле это не очень показательные метрики мы пришли в итоге к тому что по качеству наиболее показательные Метрика это в целом количество срабатываний вот этих вот колики гейтов которые затем разработчик после изменения кодовой базы перевел скажем так зеленое состояние и вот только они считаются теми Самыми хорошими срабатывания и пользой Потому что если там разработчик просто бесконечно перезапускает тесты и значит в итоге Там они зеленеют это на самом деле замедление разработки то есть мы ничего хорошего Здесь не ловим Вот и очевидные там метрики вида mttum TTR там сколько времени тратим на то чтобы понять в чем проблема деградации сколько заризол ведь это все про инструменты обзываете и в целом еще интересные метрику которую недавно начали в том числе смотреть это сколько например кейсов каких-то в инфраструктурных скажем так прошли через селфилинг механизмы автоматом полечились на уровне там инфраструктуры рантам А сколько там нужно было привлекать инженеров для решения инфраструктурных проблем Вот и финальная зона про уверенность в будущем здесь банальные метрики актуальность технического стека там версии языков библиотек adoption общих Практик Например если вдруг компании там и какое-то время микросервисной архитектуре можно было ходить там любую базу данных Теперь мы четко следуем подходу на база данных только для одного микросервиса соответственно вот как пример метрики adoption вот такой практики на уровне платформы которую мы можем собирать Вот теперь как это все качать и как вообще развивать и понимать что же делать продукте тут важно понимать что важно пользователю нашего продукта платформенного и это на самом деле стандартные вещи не отличаются никакого любого другого продукта это удобство работы Да некоторые удовлетворенность от взаимодействия с ним плата функциональности то что нет чего-то что блокирует не позволяет там быстро делать какие-то на фичи бизнесовые там минимум усилили достижения целей что было Быстро и тоже удобно пересекается первым пунктом и в целом Если чего-то вдруг не хватает чтобы можно было оперативно решить проблемы которые возникают вот все эти вещи они в принципе плюс-минус покрываются стандартным продуктовом набором процессов каждый из которых мы сейчас высокоуровневого рассмотрим и начнем наверное с аппорта это очевидная вещь Я думаю большинства Кто делает платформу это в каком-то виде есть тут я бы выделил несколько таких важных моментов первый это выделенные единая линия Например у нас там какое-то время еще там когда зарождалась платформа было много каналов там для обращения соответственно решать проблемы было сложно после того как появляется выделенная единая линия Да там разработчик по любой проблем пишет Это значительно повышает удобство и время решения проблем вот в целом стандартные истории по саппорту про сбор аналитики по зонам сколько у нас куда там валится тепло и там эксплуатации разработки коды генерации Чтобы понимать куда лучше прикладывать за тем усилия активность зоны больше болят с точки зрения саппорта вот стандартные метрики время ответа удовлетворенности Ну естественно формирование базы знаний конечном счете по этому Саппорт вот второй на мой взгляд более интересный процесс с точки зрения развития это request механика очень часто она как смешно саппортом но ее важно разделять это такой процесс которым мы говорим явно пользователям что чтобы повлиять на платформу Вы можете повлиять так она будет дальше развиваться Вы по специальной форме описываете что-то в чем ваша Там прям проблема фундаментально таких окружениях она там воспроизводится с точки зрения какие здесь есть условия потенциальный Импакт который вы видите контактные лица с которыми можем пообщаться и узнать больше проблему то есть собираем такое более высокоуровневое описание они просто какие-то идеи саппорте вот затем высокого уровня обрабатываем На некотором там наборе людей а чтобы можно было быстро Там гайдлайнам понять это там история нужно или она идёт вразрез с чем-то затем прорабатываем уже в конкретной там команде потенциальные решения и что важно быстро отвечаем э на эти запросы говорим О'КЕЙ на планируем так сделать это так-то и так-то и там примерно там сроки соответственно формируем Ровно вот затем каждая идея вообще всё что рождается в платформе э-э проводим через этап Discovery на причём очень подобный тому как это делают обычно продуктах где В первую очередь мы э пытаемся оценить ценность решение здесь действуем по подходу амазона с пресс-релизами то есть мы описываем какую-то новую фичу решение как будто бы у нас э она уже реализована в системе вот собираем некоторые там traction понимание насколько это полезно и пользователь Действительно это хотят формируем каких-то там заказчиков то есть те люди с которыми можно будет взаимодействовать наиболее плотно обязательно Выбирай метрику по которой мы будем измерять Импакт поскольку у нас как раз наша это новые идеи помогает эффективности оценивать сложности реализации и формируем все это артефакты на выходе кастомер по метрики и так далее Вот и как раз уже имея все эти да у меня в руках в конечном счете их сравниваем друг с другом принимаем решение что мы будем делать платформе а что нет вот и когда уже это финальная стадия Когда у нас есть определенные наборы направления какие-то решения нам нужно оценивать насколько они действительно качественно закрывают потребности Вот и здесь есть стандартные подходы вида там nps сбора удовлетворенности и так далее вот к сожалению эти подходы они хороши но не всегда показывает А что именно нужно развивать и каким именно образом Вот здесь мы действуем немного другим способом У нас есть некоторые cgm customer journe Map там высокоуровневая то что я показывал на первых слайдах там вот он бординга до эксплуатации Вот и все вот эти вот зоны размечаем и собираем фидбэк прямо контекстно то есть например разработчик там выкатил микросервис Продакшен мы его спрашиваем каким именно образом там это произвело сколько ему это было сложно сколько он потратил на это усилий насколько он удовлетворен этим процессом и в итоге по всем кусочкам системы у нас получается там желтые зоны зеленые красные и мы знаем куда лучше прилагать усилия чтобы улучшать дальнейшем платформу Вот это такой четвертый базовый процесс но все они вместе дают некоторую общую картину и такой системное развитие вот это что касается продуктового подхода по вот этому как раз подходу мы развиваем и ведем платформу уже там несколько лет и определенные зоны вот этого cgm у нас уже весьма четко сложились есть определенный набор фич которые Ну я могу сказать что по крайней мере у нас компании точно помогает приносит достаточно хороший Профит Вот и предлагаю сейчас высокоуровнево пробежаться по всем основным направлениям в том числе немножко залезает технические подробности как мы это делаем но не очень подробно вот если будет интересовать какая-то конкретная зона и Тема дискуссионные зоне уже сможем это обсудить подробнее вот плюс будет еще некоторые такой чек-лист вот поэтому не уходите в конце будет ссылка Чуть более подробная возможность посмотреть чек-боксами и приложить вашу платформу сравнить с нашей возможно подпитаться какими-то идеями вот будем мы идти по жизненному циклу разработки вот он бординка там до эксплуатации вот начинаем Мы со старта и вообще в целом входа в платформу здесь первая история такая что любой разработчик получает локальную среду без каких-либо там усилий то есть нажимает там на одну кнопку и у него сразу есть весь необходимый сетап инструментов которые мы используем вот из интересных вещей по технологии что я могу здесь рассказать Мы в целом практически всегда самого начала мы использовали для губернатиса мини-куб для развертывания вот последнее время так у нас подавляющее большинство инженеров работают на макбуках и последние маки с процессорами irm-1 mm2 использовать докер докер фамаг он сейчас становится платным для использования использовать мини-куб еще виртуализацию к сожалению не получается на подобных системах вот поэтому мы используем есть прекрасный проект который называется Lima Linux у Mac который нам позволяет сделать виртуализацию и докер соответственно локальном окружении полноценные прокидывать там докер Демона на холст вот есть другие реализации например кейс среди на самом деле множество для развертывания губернатиса вот помимо остальных инструментов которые специфичны именно в вашей компании вот вторая История это про готовые компоненты разработчик начинает делать какой-то Новый сервис продукт важно что все там какие-то базовые вещи и унифицированные сразу же готовы дети Я привожу пример как у гекатор имплементация может любой любое какое-то решение которое по одной кнопке пройдя определенный Визор дает готовый шаблон кода интеграции с мониторингом там графа Надо же барды и так далее В общем уже все из коробки вот второе это разработка на самом деле в зрелой платформе в идеале разработчик как раз должен наибольшее время проводить именно на этой фазе потому что разработчик разрабатывает и здесь самый красивый вещи с точки зрения этого процесса что здесь мы делаем во-первых это конфигурирование на мой взгляд это один из таких ключевых кусков вообще платформы высокоуровневые который как раз наиболее ускоряет и упрощает разработку мы здесь предоставляем разработчикам некоторые авто мол файл высокоуровневый через который они просто манипулируют самыми такими особенными частями своего приложения теми которыми отличаются от других и не пишут какой-то там бойлер plate существ Код Да там ябло и так далее вот с точки зрения Open Source на их решений есть вот Open Application Model там решение спецификация там Microsoft либо бы которая профилософии и подходу очень близка к этому решению которые есть у нас Я не говорю о том что это решение там обязательно будет успешным и скорее всего этом спецификация которая взлетит и все будут использовать но просто она очень близко по реализации к нам Каким образом оно устроено идея здесь в том что мы все наши инструменты там начинают кубер Найдите заканчивая Там вся ими каким-то инструментом разработки локального провижненко и так далее скрываем от пользователя полноценно даем ему один манифест Application очень высокоуровневый котором он рассказывает предустановленными компонентами которые как раз платформенная команда настраивает какие у нас компании могут быть компоненты описываешь У нас есть там и 5 частью сервиса есть там Work база данных и определенные настройки трейты Каким образом там например будет сервис выкатываться Какие параметры авто скей Ринга и так далее Вот и все И вот это вот с помощью высокоуровневого манифеста полностью описывает ему не нужно погружаться в детали реализации что же там на инфраструктурном слое вот есть реализация например как раз под эту спецификацию сделаны просто Как пример На мой взгляд не самый такой Юзер френдли подход к описания Но это по сути обычные cubernets Custom Resource prication которым мы описываем наше приложение То есть например World Type Service это как раз тот заданный компонент и определенные там движимые части вот мы например у себя там не даем пользователям указывать там все подставляется автоматически вот в целом там и было в том числе это тоже мы можем настроить сделать так чтобы разработчики там меняли буквально несколько строк манифестах вот таким образом и сокращаем ошибки и ускоряем разработку вот Следующая история которая тоже связана с конфигурацией это в целом инициализация каких-то базовых компонентов зависимости от например банально там база данных например подключаем там новый radis и важно чтобы разработчик Не думал что так Окей там в продакшн окружениями нужно подключиться туда-то в Stage туда-то нужно там правильно их остыть сделать чтобы нас файловер отработал по базам данных чтобы это об этом всем не думать разработчику просто подкладывать там в нужном окружении переменное окружение и он использует какие-то базовые библиотеки в котором уже там внутри зашито полностью интеграция и не нужно думать как именно инстанцировать объекты работать с базой данных вот Следующая история в разработке которая на мой взгляд особенно актуальна в микросервисной архитектуре развитой нас больше там 2000 сервисов компании это просто Маст хэв История это коды генерации с контрактов когда мы говорим про разработку очень важно чтобы клиенты и серверы каждый раз не велосипеде и берем манифест это может быть жар-писи там протобаф описание может быть что-то другое мы используем там свою реализацию бриф но важно что в итоге мы получаем сгенерированный код со всеми Вот имплементациями брейкеров и траев и так далее Все это из коробки сразу же даем вот в целом все зависимости которые могут понадобиться разработчику как сервис кроны worker база данных там S3 storage и так далее просто пользователь говорит хочу добавить базу данных и она сразу же автоматом приезжает своих окружениях не нужно что-либо там общаться с людьми и прочее вот по актуальности тех стекает на самом деле с определенного момента огромная боль когда у нас есть библиотеки какие-то платформенные общая библиотеки и нужно их поддерживать актуальность здесь может быть могут быть различные решения Я здесь привожу просто логотип dependa бота в общем это какая-то автоматизация которая автоматически рассылает обновления библиотека версии языков и так далее позволяет все поддерживать в актуальном состоянии по зоне безопасности что есть первая история которая касается конечных разработчиков это менеджмент секретов пока он не будет супер простым секреты будут просачиваться в репозитории здесь будет всегда какой-то хаос и нужно будет за этим следить вот когда он предоставляем легкий uite там сила утилиту в которой разработчик говорит что для этого сервиса в таком-то окружении положить вот такой секрет дальше мы не может уже прочитать Вот то это супер удобно например используя там волк с определенной абстракцией дальше секрет улетает автоматом в нужное окружение сервис его подтягивается переменное окружение или из файла и все все прекрасно секретами удобно работать форма это зона закрывает вторая История это взаимодействие микросервисное здесь первое история эта работа в недоверенной среде не ушел это полноценно по системе закрывая с помощью сервис можно использовать истио от под капотом с инвоем и авторизация сервисов То есть э-э когда мы уже имеем аутентификацию с помощью mtls знаем кто именно в кого ходит гарантированно можно делать авторизационные механики мы их также проводим с помощью инвой с использованием механизмов Open Police Agent вот таким образом контролируя Кто в кого может ходить даем возможность пользователям декларативно это указывать Вот сама девелопер платформ А наша она естественно тоже должна быть прикрыта политиками авторизацией какими-то ролями Кто Что может делать но здесь можно использовать там стандартные вещи авторизации гидры например в нашем случае там того же Open Police edgend которым можно настраивать какие именно права кому нужны это гибко контролировать Вот и естественно некоторые фоновые процессы Security я не буду это погружаться весьма очевидные вещи там сканирование на докер образов операционных систем библиотек на уязвимости и так далее вот в зона тестирования что здесь Здесь у нас на самом деле огромный набор историй каждый из них по-своему привносит вклад вот там Shift Left подходов там линтеров и тестов заканчиваешь и в tride вот если их рассмотреть порядку Какие основные зоны стоит покрывать Первое это вот Shift Love История это некоторые там лизинг стоял гайды по подходу actions это делаем определенные унифицированный pipeline там Юнит интеграционного тестирования контрактное тестирование Тех самых манифестов там страны клиентов со стороны сервера чтобы контролировать не обратно совместимые изменения npn тестирование здесь мы используем механику сервис мышон тоже которая позволяет делать стабильное окружение например хотим протестировать какой-то сервис у нас с помощью специальных заголовков трафик именно только для этих запросов перенаправляется на нужный сервис и все И мы его Тестируем таким образом делаем стабильное окружение и экономим ресурсы в том числе вот пошив трайт подходом это там канареечные релизы здесь в этом помогает инвой тоже сервис mash и House эксперименты сейчас я глубоко мы по таймингу не сможем опуститься будет интересно могу тоже рассказать подробнее потом это Например инструмент литвус разные механики позволяет делать тоже крутая история вот если говорить в целом про зону тестирования На мой взгляд Ключевая ценность платформы еще в том что мы можем централизованно контролировать какие именно байзлайны качество у нас в системе применяется Мы например выделяем некоторые такие мандайтеры checks то что нам необходимо обязательно запускать из всего что мы сейчас прошли например опциональны и можем это удобно этим контролировать из Единого места по доставке здесь на самом деле стандартные вещи это там управление окружениями так убернации здесь в этом тоже помогает нам в целом по если описывать paypline доставки это естественно унифицированные сборки возможность там в одну кнопку зарядить сервис поддержка различных стратегий диплоя в целом Continuous deployment если компания готова к этому помержу там вкатывать продакшн возможность расширения там без ручного внедрения базовый pipeline чтобы все-таки они оставались унифицированными вот ну и там какие-то истории про performance переиспользование артефактов так далее вот важная вещь которая к сожалению не имеет На мой взгляд еще нет какой-то крутой реализации Open Source это вообще проблем детектор что-то пошло не так в процессе тепло и нужно пользователи очень хорошо объяснить что именно автоматически там падает там его там контейнеры либо там крышу Быков еще что-то прям четко подчеркнуть платформа 10 раз помогает что позволяет автоматизировать эти этот этап и наиболее просто подсказать в чем именно проблема при диплои в зоне эксплуатации что у нас есть первая История это реестр сервисов здесь у нас своя имплементации можно использовать какие-то готовые решения например Это backstage Spotify идея в том что все сервисы в Едином реестре можно посмотреть ту ответственный Какая команда на чем написано и прочие вещи есть например такая же имплементация Data Dog мы это не используем просто Как пример чтобы были определенные референсы здесь привожу далее На мой взгляд важная вещь которая нам принесла большой пакет документов подход который мы реализуем с помощью инструмента мкдокс мы даем возможность разработчикам прямо в кодовой базе писать документацию в markdown и затем ее автоматически с помощью сервисом сразу же публикуем и это дает в том числе механики документации позволяет ее поддерживать в актуальном состоянии по всей системе естественно попасти менеджмент это там вертикальный горизонтальный автоскейлинг квотирование автоматический поиск всяких узких мест тоже позволяет экономить железо достаточно прилично унифицированные обзорубилити который идет вокруг приложения здесь это помогает тоже сервис mesh распределенный трейсинг автоматом отправлять метрики Exception Tracker например sentry система логирования Continuous профайлинга есть этот инструментарий для того чтобы наиболее быстро находить проблемы деградации вот есть еще история про вообще в целом описание декларативные требования к сервисам Мы прям и записываем каждому сервису должна быть какую-то держать нагрузку такой-то далее автоматические вычисления параметров Sli насколько сервис соответствует этому и алертинг если вдруг мы например выходим за там нам девятки Вот это позволяет хорошо стабильно сбить селфилинг инфраструкцию здесь разные компоненты например мы используем механики дешевле в губернатисе на уровне сервис мыша там Нетворк ритрайлер detection вывод там нездоровых нот все эти вещи которые позволяют нам простить эксплуатацию в целом поддержка по балансировке трафика мультирегионная тоже на базе сервис мыша разные cubernet кластера и чтобы разработчику не нужно было думать как именно трафик ходят чтобы он ощущал что он живет в рамках одного до центра вот в целом по высокоуровневой балансировки внутренней подходы автоматически там поближе к роутинга родились вокруг этого дизайн тоже платформа единое решение и по внутрен транспортировки там механики вида весовой балансировки автоматического Discovery сервисов лимитирования нагрузки тоже предоставляет как сервис возможностью описания в конфигурации позволяет это этим всем этим всем удобно жить разработчикам Вот и на самом деле я сейчас очень быстро прошелся по огромному количеству звон каждый из которых заслуживает погружение и осмотр технологий вот чтобы этим можно было бы ценного воспользоваться посмотреть какие идеи Возможно стоит к себе подчеркнуть есть вот такой qr-код который можете считать ссылка которая есть она опубликована в том числе там на сайте слайдах это такая на самом деле обычная простая Google форма но по которой можно пройти и там по галочкой нажимать Какие вещи у вас есть системе какие нет вот В целом использовать как обычный чек-лист всех вещей даже чуть больше которых я сейчас рассказывал вот плюс если вы отправите результат то затем там асинхронно смогу отправить некоторые по чарты какие-то инсайты по зонам Вот на этом У меня все давайте вопросы и наверное переходите дискуссионную зону Да спасибо большое Саша очень обширный и обстоятельний рассказ Я думаю что у многих Кто к нам сегодня присоединился слушателей есть вопросы и мы сможем их обсудить когда перейдём прямо сейчас в дискуссионную зону потому что времени на то чтобы в общем эфире обсудить вопрос у нас не осталось А вот ну вопросы есть вопросы есть безусловно и у меня потому что я пришёл доклад специально чтобы задать их в конце вот всех кому тоже интересно как и мне пообщаться дальше с Сашей Приглашаю в дискуссионный зону Ну а всем остальным Удачного просмотра конференции и счастливо Всем спасибо"
}
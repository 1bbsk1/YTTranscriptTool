{
  "video_id": "kkpFvFyE48k",
  "channel": "DevOops_conf",
  "title": "Леонид Игольник — Survivability of observability: Taking your DIY system to success",
  "views": 213,
  "duration": 4280,
  "published": "2020-11-20T04:55:50-08:00",
  "text": "поехали мы начинаем наш доклад итак сегодня мы поговорим про обзор в ability или обозреваемой систем но прежде чем говорить обозреваем асти давайте поговорим немножко вообще почему обозреваем астика к методологии технологии прибыл из этой индустрии именно сейчас и именно сегодня и почему же она важна сегодня если посмотреть за последние 10-15 лет у нас очень много чего поменялось в индустрии в 2008 году не так давно на самом деле появился и ситу и на самом-то деле я думаю только последние 10 лет он стал активно кем-то использовать для чего-то в продакшене незадолго после и довольно скоро точнее после этого у нас появился докер в 2013 году который в принципе поменял довольно радикально то как мы сегодня пакуем нашей аппликации и доставляемых в продакшен in women ну и сразу не так долго после этого у нас появился в принципе и кубер нить из которому заняло несколько лет все таки попасть mainstream но за последние два года купер notice просто взорвался потому что как методология раската и выката аппликации на продакшен момент губернатором конечно помогает особенно если вас контейнера да то есть за последние 10 лет нас радикально поменялось что как мы пишем архитек делаем архитектуру и меня и много аппликации на самом деле все эти тренды помогают тем самым micros образом работать и работать правильно они на коленке как это все начиналось да поэтому я у меня декларации считаю что монолиты конечно умерли да то есть если они не умерли у всех естественно я уверен нас в чатике на конференции скотч людей которые приходится работать с монолитными они как уровне такие откладывающие ся земли откладываются в археологических раскопках и поверх их строить логические уровни новой архитектуры но компании которые сегодня начинает с нуля скорее всего не начинают с монолитный архитектуры поэтому кстати если вот интересно если у вас есть еще монолиты есть вы со мной не согласятся тоже пишите в чате мы хотим интерактив нас нам интересен ваш виды печати кто на самом деле мы будем зачать кому будешь сидеть и в live in и после конференции тоже итак монолиты умерли с микро сервисами не все так просто как было с монолитными раньше да если раньше у нас но архитектура системы было понятно у нас был global ncap приходил request а потом он ходил в птер потом он выходил в об терну и была какая-то база данных скорее всего орг дамы может у вас было open source то сегодня транзакция приходящая систему выглядят примерно вот так да то есть она приходит в какой-то им путь microsoft не всегда один а дальше она может разлететься по системе вообще в каком-то абсолютно не ожидаемом формате который никто не знает на самом-то деле проблем не очень много и даже когда нашей индустрии появлялись и зачатки микро сервисов которые назывались сервиса лент от архитектура для тех кто еще это помнит транзакции уже тогда были сложные появлялись всякие инструменты которые показывали как транзакция разлетается между этими сервисами вот а и и и и вот из-за этой архитектуры у нас естественно поменялись по атомной коммуникации между компонентами нашей системе да если у нас вентер аппликации все было понятно слабоват баз данных назад может быть еще пару каких-то сервисов сходила то микро сервисной архитектуре это все обычно выглядит вот так и тут есть такая очень потрясающее аккаунт на твиттере если вы его никогда не читали я очень-очень рекомендую называется да он из статус пейдж или он оставляет его пишет товарищ который зовут кори ватсон который на самом деле поднимал культура обзор выбирайте в твиттере потом он был обзор выбелить или домстрой пи в том числе и в это время моим клиентам сигнал секса потом кори сказал что строить свои системы ему надоело и он присоединился к нам сигнал фак сегодня он работает девелопер адвокатом с планки после покупки сигнал факс и еще довольно давно кори написал вот такой потрясающий вид на твиттере да он сказал что мы заменили наш монолит микро сервисами чтобы каждый аута читал как качественная книжка агады креста агаты кристи где у нас медом мистер и можно кто кого убил и почему непонятно как это обычно выражается как эти сложности выражаются мы для тех кто знает меня увидел мои доклада знают что я большой фанат авиации мне сегодня у нас будет куча налоги изоляции потому что на самом деле авиация это одна из тех индустрий которая уже придумала как отслеживать и обозревать сложные системы и предоставлять правильную информацию оператору но об этом мы еще поговорим давайте посмотрим произошло в транспортном транспортном мерида у нас когда был монолит в транспортном мире вот это вот коляской один конь у водителя этой коляске был так называемый сингл пейнов глаз да он на это все смотрел через одно стекло ему было понятно что с ним происходит кстати если кто то знает как качественно идиоматические перевести сингл пейнов глаз на русский язык пишите данная идея того кто не знает на что вы сводите все вам нужные данные на один экран и при на этом экране так одним лёгким взглядом вам становится понятно вообще что же у вас происходит с системой вот и но транспорт у нас поменялся у нас появились самолёты современные соответственно если посмотреть на самолет и то в самолете то выглядит все вот так больше да там у нас много всяких экранчиков уже не один а и если посмотри на архитектура современного салют можно принципе подумать про микро сервиса тоже у них куча интересных sap систем у которых есть куча кнопочек контроля в которые надо нажимать менять которые дают какие-то status indicators и так далее это все им тоже заняло не одно десятилетие потому что если вы помните когда-то у нас в самолёте летал штурман пилот капитан бортинженер а современные gets у нас летают двумя человек который проиграет машины которая по сложности наверно довольно сложнее чем когда-либо было соответственно вот усложнения мониторинга и и усложнения структуры системы она очень сильно влияет на то как нам надо думать про мониторинге обозреваемой системы также никто не отменял все те же нормальные трение девелоперов и системщик fsr и devops инженеров которых не существует если хотите знать почему их не существует смотрите наш доклад с понедельника и также другие доклады баруха но вот это вот трения от девелоперов и которых главная мотивация это толкать вперед новый фичер на продакшен операторов у которых главная мотивация что любое изменение в принципе потенциальный враг стабильности системы on the вот этот тренер продолжать создавать какие-то условия в которых нужны новые инструменты или новые подходы чтобы двигаться быстро двигаться быстро приходится по разным причинам у нас in warm and в котором бежит наша продакшен аппликация меняется очень часто и очень быстро он меняется потому что это может быть клауд вашего вендора и у них какие-то появляются новые няшки новые новые сервисы они апгрейт что то у них появляются новые пи ай этот in wine and меняется людьми да то есть какой то он вышел новый тепло и поменяли какую-то конфигурацию сделали что-то еще что самое интересное сегодня в этом январе иметь этот момент еще и меняется и роботами роботами он меняется как вот хороший пример так uber notice do которому вы сказали как ваш кластер развернуть и сколько вы хотите сервисов оккупируете сам решит его расширить уменьшить перезапустить сервер сделать что-то сама и перенести этот сервис 1 место в другом то есть вообще в принципе и весь январь мин нестабильной и поэтому соответственно все что у нас есть она как бы меняется так что система становится настолько сложными что вот эти вот деза stars и все развал этого дизайн стара соответственно у нас происходит какими-то не абсолютно непредсказуемыми путями а у меня появился барух сдав выборах да я у тебя появился потому что я видел что ты пытаешься попить кофе и никак не можешь поэтому я решил дать тебе передышку и принести немножко апдейтов из чатик а значит мы там веселимся пока ты тут впахиваешь и например мы сделали опрос если в вашей команде решение обозреваем асти 57 процентов сказали что есть 14 процентов сказали что нет а почти 30 процентов сказали есть но нет есть но нет в смысле да в смысле она где-то существует но совершенно не факт что мы можем умеем знаем имеем доступ к им пользоваться вот еще мы решили учу сказал что у них есть у нас будет вопросы действительно у них есть решение обозреваем асти или все-таки решения мониторинга это то о чем мы сегодня будем говорить этому до этом еще дойдем до вот большинством голосов мы решили чтобы залива и масть это правильный перевод кроме того мы решили что наверное сингл пейнов глаз это единственный единая панель мониторинга ну более-менее просто так что кто еще не присоединился к отеку вы присоединитесь как видите у нас здесь весело . попил кофе готов продолжать давай я готов продолжать итак мы говорили о сложных системах которые постоянно меняются и которые начинают рыбу в которых происходят какие-то файлы абсолютно не ожидаемым режимом примерно вот это происходит иногда со стороны посмотреть вот так и если у нас останется время или в конце или может дискуссионной зоне я расскажу вам как еду ланское происхождение одного из моих инженеров в сигнал факс однажды завалило громадную productions систему абсолютно неожиданным режиме мы просто мы гонялись за этим богам часа два а оказался он очень смешным от одной буквы но это все будет уже наверно или в конце ли в дискуссионной зоне соответственно как вы знаете мы с борха и любим дядюшку дарвина и поэтому мы считаем что обозреваем асти правильно и развиваемся это единственный вариант вообще выжить как то правильно и и строить это надо и и мы не единственный кто так считаем у нас инструмент обозреваем остин и подхода развиваемся начинает появляться во многих местах он появляется у вендоров до amazon ажур google и так далее начинают предоставлять я почти уверен другие облачные решения начинают предоставлять какие-то готовые решения связанные с обозреваем асти появилась куча open source полов которые приходят уже инструменти раваны для обозреваем асти например кубер нить с как вариант да они оттуда выходит куча готовы информации и соответственно как обычно несмотря на то что вы это не netflix вы надо знать что делает над flex netflix google и все остальные строят свои об перво великой системы и иногда их даже открывает open source вот для простых смертных появилась куча всяких open source инструментов на основе которых можно собрать свою систему там flowing коллег телеграфа опыт трейси grafana про миссию слог стаж ластики тут список очень большой то есть выбор много как обычно как мы любим в индустрии вот и давайте вообще немножко поговорим а что же и как правильно делать обзор вопил эти но прежде чем отдавать вам расскажу вообще почему им имеет случае имеет смысл слушать меня про это дело и что я про это знаю профессиональные 23 года занимаюсь разработкой со с аппликацией с конца 90-ых в разных странах в разных индустриях отвечал за платформе ную команду второго мира по размеру domain registrar of open srs работал в то ли у одной из крупнейших независимых счас компании когда счас только появлялся ну и последняя моя позиция была начальником технического отдела в компании сигма фак сейчас противного чем поговорим а в свое время разворачивать свои счас системы я стал третьим клиентом компания отдельно mixed на таких на очень начальных днях если где то поищите на ютюбе по-моему я до сих пор первое видео reference который у них был записано и в том числе и профессионально занимался обозреваем вместе со стороны вендора я отвечал за технический отдел компании осей продукты и пьем бывший вайли который в принципе создал понятие как и пьян и моя последняя позиция это все-таки действительно нет не самый не видны вендора в системе вендоров обзор mobility компания sigma ex которую недавно купил осла с плакать ну и так как я сам ее оператор и vendor мне приходилось масштабировать собственные мониторинг системы я вот так что понятно о масштабах инструмент сигнал сексе наш production момент о себе производил в районе 400 миллионов до это поинтов в минуту только о наших внутренних ляжках которых мы хотели чтобы обозревать нашей онлайн итак давайте поймем что же такое обзор выбила те и чем она отличается от мониторинга да вот мониторинг это вот это это у вас у всех есть в машине и вот этот называется мониторинг это когда загорается красная лампочка или желтое горит что-то сломалось это то что мы могли предугадать что может снова цам это инструменти равале и теперь иногда очень хорошо иногда очень плохо я уверен и если у вас такое бывает пишите тоже в чатике приходит alerts среди ночи который горит что-то сломалось но без всяких деталей вообще что произошло и почему если вам повезло вас мониторинг работают чуть лучше у него наверно чуть больше лампочек и лампочки бывает разного цвета они могут быть зеленый красный желтый и может даже больше чем одна но этого тоже недостаточно давайте сначала посмотрим вообще что такое каноническое определение слова обзор выбелить и потому что обзор в билете придумали не мы не в нашей индустрии а его придумали в систем в теории контроля это вот определение из источников всей правды в мире то есть из википедии естественно вот который горит что обзор в билете это возможность повторить состояние системы только на основе внешних сигналов которые мы видим то есть out put a до я видел кота в чатике уже выглядел наблюдаемости теории управления очень правильная ссылка на википедию да вот обзор побелить и в нашем нашей индустрии то на самом деле появилась и выросла как термин из твиттеров тот самый корень ватсон про который рассказывал который пишет он статус печь написал довольно известный блок и довольно давно еще это было в 2015 году или тринадцатом я не помню вот там отмечено на слайде ки а о том а как в twitter и делают обзор вами летие почему после того как twitter разбил себя нами касалось и им пришлось серьезно про это подумать да то есть обзор обозреваем а есть это не о мониторинге и чем они отличаются насчет мониторинг это вещь которая может поможет вам решить и detected какие-то проблемы которых вы уже знаете и подозревали да у вас есть лампочка подсоединенная к сенсору который в какой-то момент загорается зеленым или красным или желтым а вот ap сервами летели обозреваем асти так как раз возможности понять как система развалилась заранее не зная какую проблему вам придется в ней решать и соответственно требует абсолютно другой про подход обозреваем асти то улучшение вашего понимания сложных систем это понимание внутреннего состояния системы соответствует о требует больше сигналов чем простые с олейдон response time и рарити так далее чего мы всегда обычно начинаем и это лучшее понимание вообще как изменение в системе происходит если вы помните мы говорим о икра сервиса и и современные wingo им это не очень и федеральные там очень много происходит изменение соответственно довольно известный постулат что чинче стабильные системы они как бы начали копать и был поэтому обычно какие-то дестабилизации систему происходят из какого-то изменения в системе соответственно чтобы получить нормальную обозреваем нам надо улучшать понимание внутреннего состояния системы на более 20 одном уровне чем просто вот им путал тут да там температуру внутри него двигателя температура воды напряжение батарейки в вашей машине это все варианты обзор mobility что очень интересно вот в индустрии машина не наоборот а от концу мира уходят вот в это вот лампочка check engine хотя если вы посмотрите на старые машины там кучей было всяких интересных тех самых счетчиков и показателей которые сейчас уже никому не интересно мы стабилизировались абдер mobility это еще также методология принятия принятия решения на основе данных через весь вот этот вот так который у нас нарисован да это мониторе об зирвак билете очень хорошо по ним помогает правильно сделан обзор в ability с вашим инцидент респ антон потому что обычно инциденты это не этих вещах которые мы ожидали даже там диск закончится или система amazon убила очередной и ситу instance это вещах который мы не ожидали объема билетик в качественном варианте это как ваш blackbox из самолета до черный ящик потому что он позволяет записаться хорошо состояние системы понятий сделайте найти рубку он также это помогает в тестинге релизе вот эти вот все современные подходы сканере deployment омс blu гринди пламя там они все требуют понимание состояния системы чтобы правильно понять что поменялось просто буквы что-то вы выкатили в системе ну и же более высокого уровня решение которое появляется не сразу это как все-таки делать capacity planning на основе состояние системы как правильно разрабатывать систему на основе ее действительного поведения в продакшен и да как не делают прямо чур оптимизации какие-то нури потенциально во многих организациях после того как продакт-менеджер понимает что я система обзор mobility туда идут не только системные метрики ну и продуктовые метки на пир количество check out of который было сделано за последние 10 минут это тоже метры который можно загнать вашими так система поэтому product ребята из правда команд очень часто начинают осознавать что обзор побил эти для них тоже я хочу установить и emphasis на том что aber мобилы те он не болтун точнее наверно правильнее сказать it's not just about pools инструмента здесь важны но опять же мы как инженерия отрасль мы всегда любим лезть в инструменты и к сожалению инструменты одни объема билете не решат вам практику обозреваемой это практике ее надо вносить вашу команду как практику я уверен вы знаете как надо делать мы это уже видели проходили с devops он естественно надо нанять обзор mobility инженера правильно на самом то деле в отличие от него пса-то это потенциально правильно потому что прервали лети это не только культура не только практика которую надо понимать и вводить в разных командах но это все-таки действительно набор инструментов которые надо уметь масштабировать разворачивать пользоваться это то о чем сегодня мы поговорим и делать так чтобы и мы были ими можно было пользоваться правильно для вот этих вот высоких целей чтобы получить обозреваемой системы обозреваемой это такой не бинарный стоит он неонов как и многие другие культуры и сложные инструменты нельзя вот так сказать вот мы вчера у нас был мониторинга сегодня мы сделали флип переименовались в обзор выберите команду и у нас появился обзор вами лети да потому что все таки отжим ability эта командная игра а как вы знаете в командной игре очень часто все надо делать медленно через влияние через и применить изменения поведения команда и так далее и если вам интересно немножко послушать при изменении поведения команды он на спал в понедельникам с барухом доклад о том как устраивать devops без полномочий иногда и обзор мобильники приходится устраивать без полномочий я вам по секрету расскажу несмотря на то что доклад противогаз без полномочий все те же подходы которые вам которые мы вам там обучаем а в принципе и подходит для устраивания и обзор выбелить и или обозреваем асти без полномочий так что смотрите запись доклада мы еще с бархан в том же чатике после после конференции соответственно мы мы будем сидеть там и тоже задавайте вопросы да ну что я вам расскажу что такое обозреваем осевые то теперь знаете вы понимаете из нас на вопрос должен быть но блин нацик делает google делает секунд факт не такая большая компания нас было 300 человек когда нас купили делает ну вообще это разве сложно ну как бы обычно это выглядит довольно несложно до раскатали кучу open source инструментов а потом все меняем практику и масштабируем но из моего опыта и опыта общения с клиентами общения с разными командами это настолько же просто как и нарисовать вот эту контуры картинку до рисуем саму сначала из двух кружочков о том рисуем оставшийся сову и из моего опыта самодельная система познаваемости очень-очень делать тяжело и оставшую часть нашего доклада мы поговорим вообще почему о чем надо было подумать чтобы правильно развернуть и свою культуру и свою систему да значит обозреваем очень хорошо и очень просто прототипировать но очень сложно выращивать почему во первых есть какие-то определенные вещи которые не покрываются open source тельцами мы про них сегодня поговорим есть какие-то реальные уроки от которых я вам расскажу и я немножко вам в оставшейся доклады расскажу что делать чтобы это все-таки выжила и и не пришлось начинать с нуля самая главная и самая смешная самый смешной урок из всего этого для меня это надо планировать на свой секс с поста bizerba белить и он очень очень очень становится популярным если вы выглядеть правильно и поэтому если у вас большая инженерная команда к вам будет просто стоит очередь и вот это то где экспоненциальный взрыв данных которые вам надо обрабатывать клиентов внутри с которым надо общаться это обычно то где самодельная gear вы берете системы начинают просто разваливаться и на самом-то деле тут я могу могу вам просто сказать вот все забудьте про все это все это очень тяжело идите купите продукт все сигналы форекс есть до того есть много коммерческих продуктов идите купите но давайте все-таки расскажешь о чем надо думать если вы будете это делать сами да значит как и у любой методологии обзор выберите есть свой матч у ритика в и или шкала половых половой зрелости как нас бархан звать статье случае технический термин тоже пишите в чате значит обычно культуры обзор мобильной начинается самого низкого уровня все эти уровни строятся друг на другом да вот у нас внизу насадить есть инфраструктура потом у нас появляется какой-то абвер mobility наших клауд провайдеров если вы сидите на claude при помощи их инструментов после этого вы начинаете разворачивать агентов да очень часто сбор данных происходит с какими-то маленькими агенте коми которые deep ловятся там на холст не боится как сайт korn особенно кубер не this почему агента потому что иногда вам хочется вытащить что-то из системы не меняя система потому что инженеров просто но у них нет времени что-то менять но со временем у нас появляется куча интересных стандартов например у телеметрии и об интеллект и имеет кучу готовых агентов обустроиться в кучу готов к бюджету страны или поздно вот эти вот стандартные стандартные решения будут встроены и тогда эти агенты постепенно начинают исчезать да вот мы уже говорили кубер nights у нас при инструменте rowan и и и куча телеметрию же отдает стандартном формате после этого поста у какого все появился у вас очень часто появляется следующая стадия это мониторинга языков да у нас есть системы и просто вчера год подход а также есть мониторинга за код для чего он нужен это для того чтобы есть вы на первые развернули новое инварианты к нему надо прикрутить новые даже борды новые alert и еще какие-то новые няшки это делать не ручками как это делалось раньше а делать через тот же ты raw он и у многих ее open source и коммерческих провайдеров есть всякие таро форм адаптеры который позволяет автоматически разворачивать такие вещи и не делать этого руками после этого вы начинаете понимать что данных становится больше и больше и больше и и у вас начинает появляться какие-то дико сайнс или машины и ней болт система анализа да то есть рано или поздно в команде обзор mobility которая доморощенная появляется человек или с доктора там или хотя бы с продвинутым степенью понимание статистике что хорошо что в нашей системе побелить это на самом деле очень много все всего построено на довольно известной математики которые к нам пришло из подхода к анализу сигналов поэтому это все есть только все равно все надо имплементировать ну и самая последняя стадия на этой кривой это уже когда бизнес начинает принять участие в ability а есть и очень продвинутые примеры как uber компания nike у которых который продает свои кроссовки там за 40 секунд за 60 секунд который пользуется своей системой обзор в ability а для того чтобы не только поднимать что произошло за эти 60 секунд flash сейла а также что как бизнес себя вел путем данных которые они посылают в ту же систему давайте прольём ты держишь ты держишь в руках стакан это значит что мне нужно дать тебе глотнуть водички и также принести тебе свежий дайджест из того что происходит в чатике значит во первых люди не могли не отметить что на слайде о себе ты написал сигналов x 2 раза и оба раза неправильно с разными ошибками вот да ну ты уже не там сигналы форекс уже практически нет поэтому это все уже неважно вот и и мы спросили если у людей и обзор во bild инженер в команде ну где-то тут поровну разделились голоса между есть нет и у нас все делает devops инженер кто-то отметил что кроме обзор выберите инженера есть еще контроля берите инженер потому что абвер mobility инженера настроил посмотреть а вот контролировать это нужен другой инженер и поэтому значит у нас вот теперь есть другой инженер кроме того у нас было целых два вопроса в смысле не мы спрашивали она спрашивали что в общем-то уже интересно вот если он прям платные системы обозреваем асти который можно купить из коробки современных систем третьего поколения к сожалению нет все уходят в клауд но большие вендоры имеют какие-то решения которые позволяют это делать не молчите над если надо но современных систем третьего поколения коммерческих я интересных он прям не видел они все в основном живут в облаке и у этого есть очень хорошая причина есть вы подумайте да когда вы хотите обозревать свою систему желательно раскатывать систему мониторинга или система взрыва билете где то в другом месте потому что если у вас упал дата-центр или у вас упал в раутер или у вас упал сетка а даже в claude падает сетка и не знаю вы знаете это было где-то года полтора назад google просто к черту снес вообще весь свой на творог на восточном побережье сша на и и не работала куча всего поэтому желательно систему наблюдения раскатывать в другом месте чтобы вы ее не потеряли во время серьёзного продакшен инцидента и вообще могли понимать что происходит то есть на сегодняшний день если вам обязательно надо он примет все приходится раскатывает ручками скорее всего из за open source компонент да и еще одна причина которую вы тоже упомянули в чатике это что как ты уже сказал maturity он дорого и сложно и open source компоненты очень легко поставить а вот сделать так чтобы они обрабатывали нормальное количество информации правильно это уже совершенно другая задача и это очень сложно он прям вообще достигнуть не имея какой-то унифицированный инфраструктуру для всех клиентов вот еще мы спросили откуда сейчас я почти каждый станет сложно на первом я инженерная команда всегла факс какой-то момент разрослась до 200 человек это не маленькое количество людей чтобы написать масштабируемый продукт для обзор mobility да если мы хотим из этого сделать бизнес что мы это будем раскатывать у клиентов соответственно это должно быть еще все больше и ну как бы не факт что оно того стоит последнее что мы пока что нами последнее что мы спросили это про откуда у людей взрыва билете и из тех кто предыдущем вопросе ответил что объем ability у них есть где-то двух третей он доморощенный и у 3 он купленный так что мне кажется доклад как раз сейчас очень поправил говорю про доморощенный вот как раз вы провели познающего типа грима о правильных о том чем надо подумать делать доморощенный обзор во билли кида начинаем надо естественно с того что понимать что конечная джерба делаете требует присутствия 3 столбов обзор вопил этим дам и я объясню почему все три нужны потому что они все разные покрывают какие-то domain'е но 3 сегодня канал канонический описанных стал столпа обзор побелить и это метрики это трейси и это соответственно логин да и система которая себя не включает все три не даст вам всех тех няшек потому что в отличие от в обзор в в отличие от других мест это не то место где все три столба не созданы равными до 3 столба это метрики у меня есть проблема да потому что делать аборты и делать какой-то анализ аномалий на основе стандартных меток значительно проще чем на основе чего либо другого я знаю кстати многие это делают из логов для этого есть даже целый подход это называется мид россии зация логов это как из ес и слог стрима сделать метрик сигнал который потом можно нормально анализировать сейчас часть коммерческих систем на самом деле это так и делает то есть у меня есть у нас есть метрики попробуем у нас есть trace и в воздух раунда это понятие топологии как все-таки проблемы друг другу относятся и соответственно съесть логе вот вас ты пробным да то есть давайте вернёмся к нашему ок аналогии к авиации метрики это то что отражается в кабине пилота на экранах да они очень быстро апдейт тиц и и при помощи них мы управляем нашим самолётом а трейсер логе это где-то между вот этим и черным ящиком который мы будем рассматривать уже если когда-то что-то рухнуло на и поэтому и и потому что у нас система сегодня разношерстные разнообразной данные в эту систему приходит всяких разных форматах да у нас во первых как обычно в индустрии куча стандартов стад де кале у которой от коллег где есть телеграф есть про миссию стандарт есть несколько стандартов tracing липкин егер хотя они вроде все наконец-то начинают сливаться в уп интеле митры и и вам строить свою систему придется вообще подумать о как как как получать все эти данные во всех этих разных форматах просто не всегда у вас будет возможность выбрать формат и не забыть построить к ним адаптеры да и не только адаптеры но еще желательно построить есть это делать хорошо правильные адаптеры потому что у вас скорее всего не гомогенная архитектура в ней скорее всего есть очень много всяких компонентов и к и и их надо уметь и отслеживать а еще желательно к ним делать какой-то готовый контент да что такое ну дашборд нарисованные для кафки он он должен быть один раз сделан и все у вас команды должны пользоваться одним и тем же да то есть если вы понимаете что у вас система не гомогенные будет расти быстро вам надо серьезно думать о том факте что у вас будет какое-то вложение постоянное в то что вам надо это все постоянно мы интернете и постоянно двигать вперед обычно это еще делается при помощи построения это очень популярный дизайн патент для самодельных систем обзор mobility это так называемый engine pipeline да да тот трубопровод куда вы сливаете все свои данные и которые доставляют в нужные места и это на самом деле очень хорошо абстрагируюсь ваших пользователей и от системы и от компании от команды обозреваем a step а потому что помогает вам делать какие-то вещи которые независимы от пользователи например вот хороший пример этого pipeline а да вот если посмотрите желательно кстати очень большая рекомендация тоже польза нейтральным формата на телеметрией выбрать один и пытаться транслировать все в нем а папа возможности собираем его в какой-нибудь pipeline обычно это что-то типа кафки а очень часто во многих масштабируемых системах после этого у нас обычно в этом плане есть какая-то стадия которая позволяет данные фильтровать и sanitizer а вы для чего это надо ну во первых у вас всегда будет проявляться клиенты которые вы не контролируете или по какой-то причине они начинают засирать pipeline всякий фигню и хотелось бы чтобы downstream часть вашего pipeline и этим не надо заниматься а также скорее всего у вас есть ребята когда занимается безопасностью или провести который скажет тебе то она нужна анонимизации данных ее надо фильтровать и так далее а дальше какой pipeline позволяет вообще расщеплять эти данные предоставлять их в разные абсолютно торги тогда это можно скормить вашим десанте сам поддельный pipeline это можно скормить ваша легких системе если вы решите поменять свой взор на билете pipeline вы можете этот pipeline раз дуплицировать на время и гонять и by test с двумя системой матчей час номер когда клиент оседлав опережали сигналов x они у них был такой pipeline часть часть данных слог старому вендор часть таран данных идет к новым вендору или мы такое делали у себя когда определить это на пир ключевые компоненты нашей обзор mobility system то что я напоминаю mobility system она как вот те инструментов самолете у нее нет - windows у неё нет аптайма очень многие команды потеряв обзор мобильной система автоматически выключается сиди да нет у нас мы мы летим вслепую поэтому никаких изменений продакшен нельзя поэтому это хай левел обл системой уже в районе 5 9 типов airlines так называемых так вот в этот pipeline надо собирать не только данные с pipeline она и современная выживаемость есть проблема более сложная надо собирать много мета-данных это то о чем мы сейчас поговорим метод данные в федеральных системах это одно одна из вещей которые в принципе убивает масштабируемость системы особенно в финальных системах современных например на кубе на тесте где вот это вот все время что-то происходит что-то куда-то двигается для того чтобы понять что такое метаданные для чего не нужны почему они нам настолько важны давайте поговорим вообще про анатомию метрика и вот тут мы заодно присоединим к нам баруха потому что у меня может него будет ко мне вопросы мы еще сбитый гараж традиционный традиционная метрика это имя да вот у нас есть пример на экране например сыпью idol это вид метрики мы мере майкл цепью на процессе например или на контейнере или на чем-то другом естественно метрики есть таймс там и это не time stamp когда он пришел в систему это таймс там когда его сгенерили не забывайте у вас есть pipeline вы может быть в разных дата-центрах и все эти метрики вашей системы не приходит одновременно они сливаются с какой-то задержкой это про это все надо думать то что если вы смотрите на 100 до ваших контейнеров желательно сравнивать метрики в один и тот же time stamp а не на пол секунды позже у этой метрики есть хост очень часто да откуда оно пришло чтобы можно было понять топологию какой-то у этой метрики есть ну вот сервис например скажем у нас сервис это shopping cart вот у него есть либо где меньше на это размерность наверно по-русски есть кто-то знает лучше термин поправьте меня дальше у нас есть размерность и сканеры труда вот когда мы делаем ее бита 100 мы хотим на пир пометить какой-то из наших инстансов камеры и потом сказать эй товарищ про миссию с которой на мальорке точнее этот как его до профессию который нам будет посылать alert и вот если это камеры посылая шорты по другому потому что это не production system и даже есть ещё куча всяких на пир нам интересно знать какой тип инстанций и ws а балда там m-files из какого региона пришла эта метрика из какой была бил эти зон пришла эта метрика и так далее вот потом у нас есть соответственно долью датам 50 и соответственно у нас есть там тип да это rate it аккаунт и так далее во рту меня тут есть вопрос тебя ничего не смущает вас есть вопрос тут есть вопрос вот из этого всего что ты нам тут щас на слайд выложил нормальной и полезной информации тут ровно два пункта это name сыпью idol и волью 50 казалось когда все остальное а все остальное это и табака титова второстепенная информация которая ну не имеет отношение к самой метрики причем отношении если внимательно посмотрите на этот метрикой лада к данных к метаданным она там бывает от ding сотни иногда в сложных системах и казалось бы нафига все это надо а нафига все это надо это вот как раз та ключевой от на не давай ты перейдешь к нафига всё это надо у людей в чатике есть масса полезных комментариев о том как сделать эту метрику намного веселее например time stamp должен быть в разных часовых зонах чтобы было весело стандартах давно решили у нас все в гитисе слава богу туда бывает и сканеры а искра на ветру это прекрасно потому что у тебя бежит несколько канарейка разных и у всех и сканеры стоит труб это мы про это поговорим да у нас есть целый слайд про синхронизацию данных до что меня нужно не бинарный валью а название канарейки например да еще было бы очень круто если бы trace айди например был не уникален на всю систему а иногда повторялся да такие проблемы тоже иногда бывают это все-таки уникальность гайда это ещё сложно нерешенная проблема решена и давно но не лишенную все так вот давайте пройдем поэтому metadata и вообще почему а на самом-то деле важнее данных я напоминаю что мы говорим про бёдер mobility это возможность поднимать состояние системы в ситуациях которые мы заранее не подумали соответственно чем больше мы данных собираем тем больше у нас возможности понять что же все-таки делать с этими данными да и есть такие типы двух данных есть данные которые мы знаем во время эмиссии это метрики да то есть когда мы геную метрику мы знаем на каком она хостесс какого она пришла сервиса а есть данные которые желательно абстрагировать от клиента которые эти метрики выдает и как-то накладывать их по-другому чтобы делать так называемый separation of concerns да и декорировать ваши метрики instance тайпом который скорее всего надо вытащить из амазона пскова и пия я регионам авила беллы сезон вот тот самый иски на ветру или тип канарейки скорее всего приходят из себя сиди pipeline и то есть во первых надо не только собирать больше метаданных чем данных а еще надо собирать из разных источников много и частично асинхронно и потом всем этим нам приходится пользоваться для анализа об этом мы поговорим про анализом поэтому вам большой совет заранее знаете что вам придется собирать очень много метаданных и собираете их чем больше тем лучше если на 1 год назад какой-то более не менее принятый размер принятый масштаб размерности для метрика time series был там сто тысяч до то сегодняшних системах в коммерческих системах это эту размерность можно довести до миллиона и это очень очень помогает в понятие где в сложной системе что-то произошло и так мы уже говорили что эти метаданные надо как-то синхронизировать соответственно думайте как вы их будете синхронизировать из каких источников при помощи каких и пьяниц и так далее а есть еще один нетрадиционная два из у нас обычно говорят что эффект в инженерии сдует мог но вы взорвали лети я вам дать не традиционно эдвайс я скажу что их котлас это очень как кажется странным но я сейчас объясню почему так как мы уже объяснили что данных нам приходит очень много соответственно если надо запустить и посмотреть например у вас есть популяция контейнеров из десяти тысяч контейнеров за час который раз десять минут еще и черные делают то количество данных которые надо загрузить в график или valet чтобы это быстро посмотреть это становится очень долгий обычно никого не интересует как себя ведет идеально индивидуальный контейнер вас интерес вам обычно интересно как ведет стадо или хотя бы часть стада который бежит в определенном да это центр поэтому один из самых популярных подходов это агрегация это при компьютер агрегация из разных time series в соответственно готовую при компьютер time series и сохранение этого time себе сада соответственно в тот момент когда этими данными надо будет пользоваться вам не надо будет еще раз после этого считать этот компьютер а второй вариант агрегации упрощение данных это при компьютер wartime на разные резолюции потому что в если у вас хорошая система она позволяет вам делать данные или засылать данные были за люцию в одну секунду насколько это вообще потрясающе мы можем поговорить дискуссионных зонах это святое дело когда вас одна секундная резолюция это очень дорого и соответствия тащит дорого еще и для рендеринга для графиков для вас дашбордов и соответственно 2 подхода двигаться это при компьютер в тайм и создание этих агрегатов одноминутных 1 часовых пятиминутных почему я хочу вам напомнить что каждый такой агрегат надоесть хотите это делать хотите правильно математически там надо делать агрегат правильно намин на макс на пи 99 на 595 потому что мы теряем резолюцию данных и это все надо сохранять это тот самый компьютер из трудов который позволяет вам потом с вашей сети мы обозреваем асти пользоваться быстро а почему надо пользоваться быстро потому что также как пилотам самолетов когда они летят и у них тряска а им нужны инструменты которые быстро реагируют на их запросы и дают им те данные которые нужны поэтому думайте серьезно о том как вы будете делать при процессе ваших данных еще один нетрадиционный совет который вам дам это у нас есть традиционные подходы к масштабированию систем которые говорят давайте мы еще что все сделал и быстрее мы сейчас что-нибудь придумаем там партий шине ничего что-то и так далее но объем ability потому как по той причине что нам надо наблюдать не только за одним куском системы эти подходы обычно не любят если вы попытаетесь масштабировать свою систему обзор мобильной путем класс тренинга например и четко разделять их игорь клиенту если хочешь посмотреть про систему а иди туда и про систему б иди сюда рано или поздно это сломается потому что я напоминаю вам вот этот слайд у нас современных системах по атомной коммуникации абсолютно нельзя предсказать из и как только вы раз масштабировались тему при помощи park shin hye вам придет клиент сказал сужаем не вот для вот этого надо скопировать данные системы и системы bay системы c а поэтому вам приходится опять же соответственно масштабировать систему горизонтальной чаще чем и и вертикально но без портишь инга что становится довольно сложно да потому что сумма того что вы можете сделать в одной системе в одном большом кластере она всегда больше чем ваш индивидуальный странно slade какой у нас получился без контента я извиняюсь да ну это вот пример да когда вас 10 контейнеров и кто-то хочет задать вопрос про 10 из контейнеров там за диплоидных в европе в америке и в россии и правильно на них посмотреть и сравнить их между собой для того чтобы это всё сделать вам только во мне только надо собирать кучу метаданных вам нужен еще и аналитический движок который умеет это все правильно показывать да потому что если смотреть на индивидуальные части системы не имея возможности на корреляции между разными кусками этой системы мы видим только часть слона а обзор вами летит а еще раз про те проблемы которых мы не ожидали часть слона это хорошо когда у нас мониторинг у нас движке закончилась масла и в трансмиссии что-то провисла когда нам надо подумать как движок и трансмиссии и взаимодействуют между собой нам серьёзно нужна система которая позволяет эти данные сводить вместе до кипиа и сосала из и хотелось бы это все делать в масштабе быстро современных системах иногда приходится чтобы понять что-то поднять данные по нескольким сотням тысяч стоим сервис одновременно и нарисовать их на одном экране поэтому вкладывайтесь в аналитику думайте как вы думаете аналитику потому что аналитика очень важно аналитика важно чтобы у вас были качественные тренды аналитика важно чтобы вас были качественно alert и скаченной аналитика и вы можете использоваться пользоваться какой-то автоматизации роботами про которым мы можем поговорить дискуссионной зоне и скачена аналитикой вы можете делать то что мы давно как индустрии говорим да у нас у нас 100 до нас не интересует один индивидуальные коровы в нашем стаде и поэтому вам надо уметь мониторить по пелешян конкуренты еще по привычен который постоянно умирает появляется переезжают на другой instance и со всем этим надо следить а если это у вас будет получаться плохо вы вернетесь к нашей стандартные проблемы индустрии так называемый но землю а я уверен что все кто из вас тут были он кол знают что это такой дизайн стара что ну если они у вас есть никто системы не будет пользоваться в какой-то момент есть есть понятие ольмерт фотик усталость от абортов и вы просто начинаете игнорирует систему поэтому если у вас сложная федеральная система нужен очень сложный аналитический дружок который это все может позволять делать например можно было написать лег который говорит прежде всех среди ночи но если это не камере или если но дни в минус режиме да и как это все делать на купер найти с их который все время что-то куда-то вот так вот двигает становится все очень сложно дальше 1 1 1 из-за вид один из видов успеха которые очень часто становятся и большой проблемой это что делать с контентом ваши обзор мобильной системе да вот те alert и даже борды как сделать так чтоб человек который разбудили в три часа ночи нашел правильный да спорт правильная leur той вообще все это правильно нашел то что если этого ничего нет то это абсолютно пустая трата денег да и тут опять же не для вас есть совет думайте про другие индустрии которые проблемы эти давно уже решили вот у нас есть авиационная индустрия я напомню вам вот этот наш кабина пилотов и в кабине пилотов уже давно есть такая вот вещь называется i can i came to электроника централи starcraft монитор до этого r-bass у боинга называется немножко по-другому вот есть один экран который оператору этой сложной системы одним взглядом дает понять что есть в этой системе давайте посмотрим что в типичном и коми есть вот есть наши любимые детей view все вот эти дети до сборки в данном случае у нас два движка потерялась и поэтому мы потеряли взлет да то есть у них это все на одном главном экране сразу вот глянул вниз есть а соответственно в командах который занимается масштабируем системой то есть на громадных экранах вашего морфесси тут же у них есть на экране так называемый четверть авиация как мы в нашей индустрии называем ран бук вот если вот это упала дело и вот это сразу готовый прям на экране чтобы в 3:00 не надо было его искать где-то на вики ну и также есть еще и glance такой индикатор что сломалось до данном случае у нас тут нет двигателя один двигатель 2 flight controls и и в общем короче мы мы мы мы планы дельтаплан теперь вот это главная страница тривикрама в коми есть еще вот такая набор кнопочек которая позволяет пилоту если надо заглянуть в определенную под систему их много да вот тут есть двигатель и breeder это воздушная система электрическая гидравлика система топлива вспомогательная силовая установка и так далее можно нажав кнопочку на панели выбрать индивидуальную страничку которая покажет более детальное описание этой части системы а также стать если мы считаем что мы в индустрии придумали dark могут первые ну мы не правы у них dark mod есть давно они типа у них есть всегда был дортмунд самолете вот и вот у и к мы есть вот такие системы странице saab системы и вот про организацию контента так как эта культура тоже нам я вам покажу пример такого i came это на самом деле команд и сигналов exa да вот главная наша страница у нас тут есть какие-то asolo с аллой скайпе а из ключевые которые мы хотели бы видеть всегда причем это все настроено так что она автоматически раскрашивается зеленым красным и желтым по состоянию системы да вот пример asolo это выкинуть в нашем плане то есть у нас от момента что приходил до этапа in до момента что он куда-то уходил происходило проходила одна секунда у нас есть какие-то solos до serviceworker а дальше у нас есть также как и в самолете много-много кнопочек на котором можно начну посмотреть на детальную sap систему вот пример с такой же страничке для sap систем и тут сразу все ranbu клинки до чтобы было удобно и быстро найти куда идти а также еще более детальные даже борды который позволяет оператору системы понятия уже специалисту это скорее вас тот сам тот самый савчик метр экспорта не человек который он кол среди ночи которым будет который будет пользоваться вот этими дашборд столице а в самолетах есть точно такие же для механиков да когда механик заходит в экраны которых пилот который управляет системы абсолютно ничего не понимает вот у нас был очень такой подход и так что думайте о подходе контент-менеджмент а как это все правильно делать как делать кен системно чтобы команды могли пользоваться экранами друг друга потому что в microsoft системе иногда ваш сервис упал потому что вас убил сосед и хотелось бы найти быстро даже борт вашего соседа и и найти в таком формате который легко читаем он хотя бы дни для специалистов следующая проблема с разворотом масштабная джива beauty system это вообще у из в очень доводчиком да потому что а кто же будет мониторить вашу мониторинг систему она тоже может упасть во многих системах есть вторичной мониторинг системы которые мониторят систему но элементарной мониторинг системы недостаточно иногда надо думать о том вообще кто мониторит ваших юзеров потому что ваши user и как только вы станете храбрыми будут вас обидеть я веду тут появился у нас барбара то есть вопросы мне продолжать да нет у меня есть апдейт из нашего чудесного чате к в чатике вообще все просто прекрасно я спросил у людей есть ли у них сын дралась цисты монитор пополам разделились голоса есть и нет но также у нас есть люди которые сказали говорят что есть но я не знаю где он есть люди которые говорят есть но у меня нет доступа есть люди которые говорят есть но нет имею в виду что может быть он не очень собралась не очень чистым или не очень монитор я извиняюсь у нас 13 слайдов а время идёт подожди тут мы забыли самый главный мем как правило апдейт систему коты который будет наташу и говорят что там все упало а ну да логично да я добавлю в слайдер итак мы не добавить этот мем непонятно все беги возвращаемся к нашему доклада у вас будут клиенты которые есть у кого-то когда-то был в plant вы знаете как народ любит в спанки дальше больше больше информации также будет с вашей удачливой объем ability системой туда народ будет кидать кучу кучу данных и рано или поздно один из одна из ваших sap команду бьет например поставив die menschen метрика какой-нибудь таймс там но бывает нечайно да поэтому надо думать вообще как делать всякие квоты масштабы и так далее и и и и иметь систему наблюдения за своими пользователями а также имеет систему и стратегию архивации данных потому что в какой-то момент данных собирается очень очень очень очень очень очень очень много до 1 секундная резолюция на 12 месяцев на 13 месяцев там 200 миллионов конкурентом через это хорошее количество данных мы уже речь идет приближать петабайт он также рано или поздно из того как вы станете очень популярной системы вашей компании к вам придут и ребята из вашей безопасности отдела и скажет ну ребята нам надо срочно прекратить с с о обязательно да это прайвеси а то как только к вам начнут посылать в систему какие-то бизнес метрики их соответственно надо будет разделять потом часть из них будет супер секретными до их нельзя будет показывать всем поэтому вам придется подумать про роллы из tharks ice control вам придется подумать про у детей вам придется подумать про бэкап вашего контента чтобы если одна команда нечаянно удалил а 20 до спортов и его можно было откуда-то восстановить да то есть все вот эти вот arbok security & acces контроль то что все рано или поздно самим придется строить а также вам скорее всего придётся добавлять систему какую-то гибкость потому что рано или поздно если вы достигнете верхушки вот этой вот кривой адлер mobility а там появится мониторинга закон соответственно вам надо будет писать все эти адаптеры катара форму и предоставлять все вот эти услуги чтобы себя как команду обзор валидности которая централизовано все-таки масштабироваться до ну соответственно думаете про то мишин а то мишин это очень важная вещь и вот тут вот наверное я скажу паузу мы вернем к нашу баржу вот вот это из ключевых вещей о которых я вам хотел рассказать ну что оба рук я убедил тебя как как правильно и хорошо ли строить собственную систему да ты меня убедил в одной вещи которые мне еще совершенно очевидно что это практически невозможно сделать самому то есть огромное количество considerations которые мы либо об этом не подумали либо подумали и совершенно очевидно что это невозможно сделать из-за сложности из-за цены и за времени разработки это прямо какой-то это это написать для самолета и каму вот и депеши ну как это вообще на самом деле очень часто это заканчивается вот вот так как как и в сериале lost но не все потеряно да я вам дам еще может на заключении пару полезных советов да я напомню что все равно можно поставить свою систему обозреваем асти то что иногда нельзя купить ее вендоры иногда вам не подходит счас иногда это просто регионально невозможно да не забывайте что обзор mobility это не только про турции инструменты важны но не всегда не забывайте что желательно маховик раскручивать по чуть-чуть и это надо делать в правильном порядке и двигайтесь по вот этому матчу лютиков не пытаясь перепрыгнуть через шаги обязательно хоть несмотря на то что я вам сказал что он пировал закрыты тыкву я рекомендую есть с чего то начинать ночевать начинайте с метрик с метриках из логов trace и могут подождать зависимости от сложности системы а есть уж совсем никакого выбора нет ну так на коленке если делать можно начинать с логов как это мы все делали по старинке трейси полезны но нужны в очень сложных системах можно добавлять чуть позже данные у нас появляются в разных форматах поэтому понимаете свой архитектурой не пытайтесь отхватить очень большой кусок если вы не будете знать откуда у вас появятся интеграционные турции при помощи которых вы будете интегрировать и думаете очень хорошо про свою контент-менеджмент стратегию это вот ключевые вещи о которых надо обязательно подумать если вы все-таки решитесь на этот подвиг и будете делать сами на этом мы заканчиваем наш доклад прям я надеюсь вернется барах и рано и поздно к нам придет андрей и мы немножко поговорим про закрытие конференции но до этого момента можно по отвечать на вопросы или если все что мы не успеем мы будем дискуссионной зоне после того как закончится закрытие да ну на самом деле у нас бодрячком у нас у 10 минут на вопросы поэтому ну тут я так понимаю что в основном у нас активные ребята в в чатике это те кто действительно более-менее связи успешно умудрились такие сделать свою систему мониторинга и тут парочка отличных замечаний например насчет того как после того как строил прекрасную систему мониторинга ты не получаешь никакие alert и потому что у тебя тупо сломался и милый и все что у тебя там прекрасно работает абсолютно никому не видно потому что мыло не ходят а кстати я уже не стану как как делать рила и было лет delivery и скорее всего он должен быть молчанову как его мониторить что делать когда упал slug мы все знаем так как у нас есть идеи pipeline у всех падали первые разы когда slug завалился потому что очень многие команды практикует так называемый чат abs оао когда слова нет alert и все уходит мимо до вам придется подумать правила и было leur delivery почему не только емейлом а скорее всего еще надо будет прицепиться какой-нибудь с м с шлюзу к push notification а слава богу вот на это я очень рекомендую не делать самому описать брать какого-нибудь вендора как ты идете виктор abs кто еще остался они как-то их раньше было больше должен и кого-то но есть достаточно до который хочет очень берите twelve и не делаете это руками а пользуйтесь чем химик другими услугами потому что это вообще своя стезя далек delivery это сложная проблема и как вы понимаете как как тот правильно заметил барах если у вас очень сложная система а и от него нет никакой пользы если ольмерт не дошел до downfall да расскажи нам как работать с безопасниками потому что это те еще нацисты которые ничего не дают делать как с ними работать так чтобы все таки можно было что-то делать с безопасниками есть обычно несколько ключевых вещей которым надо обсудить во-первых их интересует классификация данных которые попадет вашу систему скорее всего у вас компании как во многих больших компаний и последних компания размера есть классификатор данных которые попадают данные в определенное поставит все данные определенные категории обычно инфраструктурные данные данные про ваша и внутренние пи адреса не являются классифицированы как высокой конфиденциальные данные соответствие первый подход безопасникам это убедить их что вообще и он android debug info и вообще что у вас в системе никаких страшных данных нет с метриками это очень просто потому что метриках очень редко появляется кита данные про которые думают безопасники а слога мид становится значительно сложнее потому что мы все знаем про истории как у нас влоги утекает пи ай ай кредит очки и все остальное да тут для этого используется всякие системы фильтрации как дел пиджей талос привинчен i'm asking соответственно тут вам придется с вашими партнерами из инженерной команды которые делить этологии общаться с безопасниками по поводу информации который может попасть влоги от рейса обычно сидят где-то посередине потому что в trace ах несмотря на точке у них тоже есть куча метаданных обычно в этих метаданных не предусмотрены какие-то конфиденциальные данные но иногда они туда попадают это первая вещь 2 вещи если вы хотите уменьшить общение с вашими безопасности кроме подумайте о том как вы не будете посылать для начала в систему бизнес данных до на сколько мы только обработали транзакции в долларах да потому что они очень часто больше волнуются про pr на персональные данные и про бизнес данные а бизнес данные в системе обозреваем асти очень полезно да если вы хотите мониторить что у вас вдруг почему-то упал количество денег которые вы обрабатываете своему онлайн магазине и тут сразу мгновенно у вас поднялся secu там на каком-то пин-код сервисе это это интересная вещь знать и чтобы найти проблему до того как она выплыла клиентам но если вы не хотите сразу эти в бой с безопасниками не раскрутив маховика обозреваем остину просто не идите на это следующая ну а третье концентрация для них это тогда вам не надо бы сделать сложный arbok вам не надо будет разносить даже пор до секретными данными от дашбордов с не секретными данными и все остальное ну а третье это сделать им элементарно иисуса да то есть подсоедините к вашей системе с скажите ребята что вот у вас будет центральный контроль у вас будет у детей и будет понятно кто какие данные трогал когда ходила и вот эти вот три ключевых вещи обычно закрывают все разговоры с ребятами из отдела безопасности ну понятно да руки и на самом деле как самый главный вопрос и которые я уже вот на него намекал и теперь его в чатике спросили вот прямо откровенная куда копать то есть вот буквально вот сейчас мы решили мы хотим начинать допустим у нас есть какие-то логе да ну лапы к тивные потому что они всегда есть и может быть даже вообще больше ничего нет чего что мы делаем следующее ну я думаю скорее всего есть логе скорее всего есть какой-то элементарный мониторинг сегодняшних 7 системах до какой-нибудь ноге занос но на какие-то красные и желтые лампочки у вас я надеюсь есть если этого нет мы начинаем с этого мы начинаем с логов причем мы начинаем со сбора логов центральное место где они легки в доступе у нас был бархан доклад про devops адский к греческой трагедии где мы рассказывали что если логе в центральное место не собирать это очень больно по ночам скакать по всем серверам и искать в каком war logs лишь что у вас какой логоть разжился значите со сбора логов начать с элементарного мониторинга из элементарного мониторинга инфраструктуру я видел в чатике запустили вот этот матч и рвите киров сначала мы не торте инфраструктуру свою да там сервера сепию диски и так мы не очень грустно и очень обидно видеть как система до сих пор в 2020 году падают потому что у нас где-то закончился диск просто должно быть стыдно потому что все эти решения это элементарный мониторинг мы знаем это те проблемы которые мы знаем начинаете с этого после этого выбирайте систему обзор мобильной ти и как мы с марком бы людям говорить пытаетесь раскрутить маленький маховик до чтобы нагнуть была маленькая найдите культа sap команду найдите какой-то кусочек системы инструменти ру и хорошо чтобы показать вашим коллегам для которых обзор выбелить и она тоже не бесплатным придет что-то делать из команды разработки из команды бизнеса из команды безопасности покажите им какой-то полезный результат соответственно следующая после логов мы делаем метрики и после этого можно начинаем думать процессы сам метриках мы начинаем с какого-то элементарного контента дашбордов про которые можно подумать и посмотреть вот как я рассказал про и com в одном месте среди ночи найти хоть как-то навигировать понимание система думайте про как вы будете делать выбирайте систему alert of и делайте так чтобы оно было желательно не на статических прошел тех потому что у нас системы динамические и сказать набери меня если у тебя типа разбудите меня если secu больше 97 процентов это уже это рис опекать и мной селлерс а сказать набери меня если у нас попляшем есть и на 3 контейнерах цепью больше чем на других это уже более интересно понять что же происходит системе до того как системы русского после абортов я бы ушел в элементарный tracing такой простой хотя бы чтобы вы знали как микро сервисы между собой общаются потому что даже в системе в которых не так много микро сервисов или просто сервиса лент от архитектуры а инженера первый раз увидели увидев свой транзакция в ой а это хрень вызывает вот эту хрень а почему я не раз наблюдал вот эти вот удивления когда настоящий транзакции граф приходит из продакшен его им и он никак не соответствует архитектурной диаграмме которая когда-то нарисовал на бумажке куда как бывает вот с этих трех вещей я бы начинала дальше раскручивал маховик уже ситуационно пол нужна ваша команда да в чатике продолжают балагурить значит естественно все упало потому что закончилось место на диске потому что его забили логе естественно после того как я упала никаких лагов нет потому что все упало и залогов вот что еще тут интересного да еще все упало потому что java кинула хип дамб и переполнило этим диск поэтому почему палат java уже не понятно потому что хип дампу не влез на диск масса всяких интересных жизненных историй и да что что еще у нас интересного что еще нам да вот предложили безопасникам делать форварда их мобильные номера в случае он кола если они не дают доступ это тоже очень и очень хорошо в общем то на самом деле мне кажется мы немножко чатик обсудили если больше нет никаких вопросов то андреев дмитрий в час к нам присоединиться и будет все это дело закрывать ну пока мы ждём андрей оборотов пока мы ждем андрея скажи мне а для себя никак не специалист котором надо строить решение по наблюдаемости какие друзья какой то это один урок для себя вывел пока вот андрей мне самому было очень до того нам самолетик делать не мешай вот мне мне лично было очень как сказать забавно видеть как твоя история про метаданные и про то что их должно быть как можно больше можно просто брать и запиливать в любой из моих докладов про артефакты и сиди там даже ничего не надо менять вот эта история что нужно собирать бита данные во время и потом и все это добавлять и потом использовать для аналитики это прямо один в один это мне прямо вот порадовала похоже андрей готов самолетиком андрей давай сдавай интер 1 андрей с самолётиком но у меня две вещи на которые должен сказать во первых джентльмен на спасибо мои аплодисменты физические для вас и виртуальные от наших зрителей они тоже для вас вы их кто сказал что мы не слышим аплодисменты питер очка и я у меня есть хорошая новость для меня то что для меня конференция закончилась а для вас она еще не закончилось и не закончится еще какое-то время судя по той активности в чате которую я сейчас видел она не закончится часик примерно поэтому джентельмены вас самом разгаре наверно рабочий день поэтому вам самое время наверно туда будет пойти тогда мы наверное будем с вами прощаться это еще разок спасибо что вы были с нами за этот замечательный доклад я уверен что у вас будет очень много фидбэка и вопросов которые вам тоже добавит некоторого интереса к тому чтобы получили все таки от людей какой-то input том что вот говорили говорили говорили зала часто тебе хочется получить в обратную сторону чтобы потоки был были сбалансированы я с вами прощаюсь увидимся с вами в комнате и на закрытие правильно ведь мы сначала на закрытие потом дискуссионной зоне то есть мы сейчас все идем всей оравой на закрытие в маленькое окошечко сейчас все будем помещаться и будем махать там руками никто у нас не увидит то что мы будем маленький все пока всем пока пока пока"
}